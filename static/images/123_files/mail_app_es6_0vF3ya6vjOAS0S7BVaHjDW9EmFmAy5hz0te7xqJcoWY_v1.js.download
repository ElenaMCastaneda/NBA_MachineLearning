!function(e){function t(t){for(var a,i,o=t[0],c=t[1],d=t[2],u=0,_=[];u<o.length;u++)n[i=o[u]]&&_.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(l&&l(t);_.length;)_.shift()();return r.push.apply(r,d||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){0!==n[s[o]]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},n={5:0},r=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.e=function(e){var t=[],s=n[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise(function(t,a){s=n[e]=[t,a]});t.push(s[2]=a);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=i.p+window.ymailManifest[e],0!==o.src.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous");var c=new Error;r=function(t){o.onerror=o.onload=null,clearTimeout(d);var s=n[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",c.name="ChunkLoadError",c.type=a,c.request=r,s[1](c)}n[e]=void 0}};var d=setTimeout(function(){r({type:"timeout",target:o})},12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var l=c;r.push([867,0]),s()}([function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(310),i=s(9),o=s(84);const c=Math.floor(65535*Math.random());s.d(t,"Ae",function(){return d}),s.d(t,"Ee",function(){return l}),s.d(t,"Jb",function(){return u}),s.d(t,"I",function(){return _}),s.d(t,"eb",function(){return m}),s.d(t,"ac",function(){return p}),s.d(t,"t",function(){return h}),s.d(t,"mb",function(){return g}),s.d(t,"Wc",function(){return E}),s.d(t,"ye",function(){return I}),s.d(t,"Y",function(){return S}),s.d(t,"sb",function(){return C}),s.d(t,"Oc",function(){return f}),s.d(t,"Fc",function(){return T}),s.d(t,"Ec",function(){return A}),s.d(t,"Dc",function(){return b}),s.d(t,"sc",function(){return O}),s.d(t,"rc",function(){return R}),s.d(t,"re",function(){return N}),s.d(t,"O",function(){return M}),s.d(t,"lb",function(){return D}),s.d(t,"Cb",function(){return y}),s.d(t,"Tc",function(){return L}),s.d(t,"Xd",function(){return v}),s.d(t,"Kd",function(){return P}),s.d(t,"Jd",function(){return F}),s.d(t,"Hd",function(){return w}),s.d(t,"Ob",function(){return k}),s.d(t,"od",function(){return x}),s.d(t,"Ab",function(){return U}),s.d(t,"Yd",function(){return G}),s.d(t,"L",function(){return j}),s.d(t,"bd",function(){return H}),s.d(t,"v",function(){return B}),s.d(t,"td",function(){return V}),s.d(t,"w",function(){return W}),s.d(t,"fd",function(){return q}),s.d(t,"tb",function(){return X}),s.d(t,"Nb",function(){return $}),s.d(t,"P",function(){return J}),s.d(t,"tc",function(){return ee}),s.d(t,"Bd",function(){return te}),s.d(t,"Ac",function(){return se}),s.d(t,"Bc",function(){return ae}),s.d(t,"zc",function(){return ne}),s.d(t,"ic",function(){return ie}),s.d(t,"lc",function(){return oe}),s.d(t,"gd",function(){return ce}),s.d(t,"xe",function(){return de}),s.d(t,"db",function(){return le}),s.d(t,"x",function(){return ue}),s.d(t,"gc",function(){return _e}),s.d(t,"y",function(){return me}),s.d(t,"oe",function(){return pe}),s.d(t,"cb",function(){return he}),s.d(t,"ec",function(){return ge}),s.d(t,"Eb",function(){return Ee}),s.d(t,"wc",function(){return Ie}),s.d(t,"ld",function(){return Se}),s.d(t,"Zd",function(){return Ce}),s.d(t,"ae",function(){return fe}),s.d(t,"Mc",function(){return Te}),s.d(t,"Nc",function(){return Ae}),s.d(t,"Zc",function(){return be}),s.d(t,"Ib",function(){return Oe}),s.d(t,"Hb",function(){return Re}),s.d(t,"we",function(){return Ne}),s.d(t,"e",function(){return Me}),s.d(t,"J",function(){return De}),s.d(t,"Be",function(){return ye}),s.d(t,"c",function(){return Le}),s.d(t,"xc",function(){return Pe}),s.d(t,"vc",function(){return Fe}),s.d(t,"uc",function(){return we}),s.d(t,"xd",function(){return xe}),s.d(t,"K",function(){return Ue}),s.d(t,"Od",function(){return Ge}),s.d(t,"sd",function(){return je}),s.d(t,"rd",function(){return He}),s.d(t,"jd",function(){return Be}),s.d(t,"kd",function(){return Ve}),s.d(t,"ze",function(){return We}),s.d(t,"id",function(){return qe}),s.d(t,"ue",function(){return ze}),s.d(t,"i",function(){return Ke}),s.d(t,"ud",function(){return Ze}),s.d(t,"kb",function(){return Ye}),s.d(t,"g",function(){return Qe}),s.d(t,"ad",function(){return $e}),s.d(t,"h",function(){return Je}),s.d(t,"De",function(){return et}),s.d(t,"jc",function(){return tt}),s.d(t,"kc",function(){return st}),s.d(t,"Pb",function(){return at}),s.d(t,"le",function(){return rt}),s.d(t,"Qb",function(){return it}),s.d(t,"Gd",function(){return ot}),s.d(t,"ie",function(){return ct}),s.d(t,"hb",function(){return dt}),s.d(t,"Ud",function(){return lt}),s.d(t,"Vd",function(){return ut}),s.d(t,"Td",function(){return _t}),s.d(t,"ke",function(){return mt}),s.d(t,"je",function(){return pt}),s.d(t,"X",function(){return ht}),s.d(t,"Rc",function(){return gt}),s.d(t,"Sc",function(){return Et}),s.d(t,"Fd",function(){return It}),s.d(t,"pc",function(){return St}),s.d(t,"jb",function(){return Ct}),s.d(t,"Qc",function(){return ft}),s.d(t,"j",function(){return Tt}),s.d(t,"qc",function(){return At}),s.d(t,"Cc",function(){return bt}),s.d(t,"mc",function(){return Ot}),s.d(t,"u",function(){return Rt}),s.d(t,"wd",function(){return Nt}),s.d(t,"vd",function(){return Mt}),s.d(t,"wb",function(){return Dt}),s.d(t,"yb",function(){return yt}),s.d(t,"xb",function(){return Lt}),s.d(t,"zb",function(){return vt}),s.d(t,"Q",function(){return Pt}),s.d(t,"p",function(){return Ft}),s.d(t,"q",function(){return wt}),s.d(t,"ne",function(){return kt}),s.d(t,"C",function(){return xt}),s.d(t,"Cd",function(){return Ut}),s.d(t,"Id",function(){return Gt}),s.d(t,"Rb",function(){return jt}),s.d(t,"Lb",function(){return Ht}),s.d(t,"Bb",function(){return Bt}),s.d(t,"A",function(){return Vt}),s.d(t,"Hc",function(){return Wt}),s.d(t,"Uc",function(){return qt}),s.d(t,"s",function(){return zt}),s.d(t,"pb",function(){return Kt}),s.d(t,"ob",function(){return Zt}),s.d(t,"Nd",function(){return Yt}),s.d(t,"M",function(){return Xt}),s.d(t,"U",function(){return Qt}),s.d(t,"Ld",function(){return $t}),s.d(t,"S",function(){return Jt}),s.d(t,"Md",function(){return es}),s.d(t,"T",function(){return ts}),s.d(t,"Z",function(){return ss}),s.d(t,"Gc",function(){return as}),s.d(t,"D",function(){return ns}),s.d(t,"r",function(){return rs}),s.d(t,"nd",function(){return is}),s.d(t,"Gb",function(){return os}),s.d(t,"Kc",function(){return cs}),s.d(t,"ve",function(){return ds}),s.d(t,"de",function(){return ls}),s.d(t,"ub",function(){return us}),s.d(t,"zd",function(){return _s}),s.d(t,"Jc",function(){return ms}),s.d(t,"Ic",function(){return ps}),s.d(t,"qb",function(){return hs}),s.d(t,"Pd",function(){return gs}),s.d(t,"fb",function(){return Es}),s.d(t,"Pc",function(){return Is}),s.d(t,"hc",function(){return Ss}),s.d(t,"Zb",function(){return Cs}),s.d(t,"z",function(){return fs}),s.d(t,"Sb",function(){return Ts}),s.d(t,"qd",function(){return As}),s.d(t,"pd",function(){return bs}),s.d(t,"Mb",function(){return Os}),s.d(t,"nc",function(){return Rs}),s.d(t,"ib",function(){return Ns}),s.d(t,"hd",function(){return Ms}),s.d(t,"bc",function(){return Ds}),s.d(t,"Vb",function(){return ys}),s.d(t,"dc",function(){return Ls}),s.d(t,"yd",function(){return vs}),s.d(t,"qe",function(){return Ps}),s.d(t,"Ce",function(){return Fs}),s.d(t,"me",function(){return ws}),s.d(t,"Db",function(){return ks}),s.d(t,"pe",function(){return xs}),s.d(t,"ce",function(){return Us}),s.d(t,"vb",function(){return Gs}),s.d(t,"n",function(){return js}),s.d(t,"o",function(){return Hs}),s.d(t,"G",function(){return Bs}),s.d(t,"H",function(){return Vs}),s.d(t,"E",function(){return Ws}),s.d(t,"cc",function(){return qs}),s.d(t,"Lc",function(){return zs}),s.d(t,"k",function(){return Ks}),s.d(t,"l",function(){return Zs}),s.d(t,"W",function(){return Ys}),s.d(t,"R",function(){return Xs}),s.d(t,"Dd",function(){return Qs}),s.d(t,"dd",function(){return $s}),s.d(t,"V",function(){return Js}),s.d(t,"d",function(){return ea}),s.d(t,"Tb",function(){return ta}),s.d(t,"Yb",function(){return sa}),s.d(t,"ab",function(){return aa}),s.d(t,"b",function(){return na}),s.d(t,"m",function(){return ra}),s.d(t,"rb",function(){return ia}),s.d(t,"B",function(){return oa}),s.d(t,"fe",function(){return ca}),s.d(t,"he",function(){return da}),s.d(t,"ge",function(){return la}),s.d(t,"ee",function(){return ua}),s.d(t,"be",function(){return _a}),s.d(t,"md",function(){return ma}),s.d(t,"se",function(){return pa}),s.d(t,"Wd",function(){return ha}),s.d(t,"F",function(){return ga}),s.d(t,"yc",function(){return Ea}),s.d(t,"Xc",function(){return Ia}),s.d(t,"Ad",function(){return Sa}),s.d(t,"Vc",function(){return Ca}),s.d(t,"cd",function(){return fa}),s.d(t,"Ed",function(){return Ta}),s.d(t,"f",function(){return Aa}),s.d(t,"Qd",function(){return ba}),s.d(t,"Rd",function(){return Oa}),s.d(t,"Sd",function(){return Ra}),s.d(t,"Kb",function(){return Na}),s.d(t,"ed",function(){return Ma}),s.d(t,"a",function(){return Da}),s.d(t,"bb",function(){return ya}),s.d(t,"Yc",function(){return La}),s.d(t,"Wb",function(){return va}),s.d(t,"Xb",function(){return Pa}),s.d(t,"Ub",function(){return Fa}),s.d(t,"nb",function(){return wa}),s.d(t,"te",function(){return ka}),s.d(t,"fc",function(){return xa}),s.d(t,"gb",function(){return Ua}),s.d(t,"oc",function(){return Ga}),s.d(t,"N",function(){return ja}),s.d(t,"Fb",function(){return Ha});const d="YMailNorrin",l="YMailNorrinLaunch",u=959521194,_={YAHOO:"yahoo",AOL:"aol"},m=2,p=3,h={MAIL_APP:"MAIL_APP",MOBILE_APP:"MOBILE_APP",BASIC_MAIL_APP:"BASIC_MAIL_APP",BASIC_MOBILE_APP:"BASIC_MOBILE_APP"},g="EMPTY_SEARCH_QUERY",E="/img/grocery.png",I="/img/ym6_groceries.png",S="STORE_FORWARD",C={IC:"ic"},f=Object(i.c)(["MESSAGE","COMPOSE","SEARCH","NAVIGATION","V3_MAIL_READER","MAIL_READER","PREVIEW","SPONSORED_MESSAGE","TUTORIAL"]),T=(Object(i.c)(["ALERT","CONFIRM","PROMPT"]),Object(i.c)(["NORMAL","ADVISORY","WARNING","POSITIVE","NEGATIVE","PENDING","FOWARDING_WARNING"])),A={ALERT_DIALOG:"alertdialog",STATUS:"status",ALERT:"alert"},b={LOW:1,MEDIUM:2,HIGH:3},O=Object(i.c)(["READ","STAR","SPAM","HAM","MOVE","DELETE","ANSWER","FORWARD","DECO"]),R=Object(i.c)(["SUCCESS","ASYNC","FAIL","PARTIAL"]),N=Object(i.c)(["LAUNCH","DOCUMENT_FETCH","COMPOSE_SUGGESTIONS_FETCH","SEARCH_SUGGESTIONS_FETCH","IMPORTANT_CONTACTS_FETCH","VIDEO_CHANNELS_METADATA_FETCH","VIDEO_CHANNEL_FETCH","COMPOSE","MESSAGE_ITEM_TO_FETCH","MESSAGE_ITEM_TO_UPDATE","LIST_TO_UPDATE","GEMINI_AD_ASSET","SETTINGS_TO_CHANGE","BLOCKED_SENDERS_TO_FETCH","FILTERS_AND_BLOCKED_SENDERS_TO_FETCH","BUSINESS_LISTING","GEO_LOCATION","GEMINI_AD","RELATED_SEARCHES_TO_FETCH","ASYNC_TASK_STATUS","OLYMPIC_CONTENT_TO_FETCH","COMPONENT_UI_STATE","CONTACT_CARD","GIFS_TO_FETCH","GIF_CATEGORY_TO_FETCH","CONTACT_LIST_TO_FETCH","ACCOUNT_TO_UPDATE","BASENAME_TO_CREATE","FOLDER","RSVP_FETCH","VACATION_RESPONSE_SETTINGS","MORE_ITEMS_TO_FETCH","RAW_MESSAGE","RELATED_COUPONS_TO_FETCH","PARENT_MESSAGE_TO_FETCH","COUPON_RECOMMENDATIONS_TO_FETCH","COUPONS_TO_FETCH","CONVERSATION_MODE_TO_UPDATE","TOP_COUPONS_TO_FETCH","TOP_RETAILERS_TO_FETCH","AFFILIATE_COUPONS","TOP_DEAL_CATEGORIES_TO_FETCH","RECENT_SEARCH_DELETE","NUDGE_TO_REPLY","REPLY_SUGGESTIONS","CONTACTS_LIST","CONTACTS_CATEGORY_LIST","CONTACT_DETAILS","EDIT_CONTACT","CONTACT_SAVE","CONTACT_PHOTO_UPLOAD","SOCIAL_ACCOUNT_IMPORT","SOCIAL_ACCOUNT_AUTH_URL","CLOUD_STORAGE_ACCOUNT_AUTH_URL","CLOUD_STORAGE_ITEMS_TO_FETCH","CLOUD_STORAGE_ITEM_SHAREABLE_LINK","SOCIAL_ACCOUNT_STATUS","IMPORT_CONTACTS_PROVIDERS_STATUS","CONTACT_CREATE","CONTACT_DELETE","CONTACT_GROUP_DELETE","CONTACTS_GROUP_EDIT","CONTACTS_GROUP_CREATE","ACTIVATE_OFFER","ACTIVATED_OFFERS","OFFERS","RETAILER_LINK","RETAILER_UNLINK","RETAILERS","SAVINGS","SHOPRUNNER_RETAILERS","ACCOUNT_DELETE","ACCOUNT_ADD","SAVED_SEARCH","LOCATION_TO_UPDATE","CONVERSATION_MODE_TO_UPDATE","ACCOUNT_TO_REAUTH","ALIAS_EMAIL_TO_CREATE","CONFIRM_EMAIL_TO_RESEND","COMPOSE_ATTRIBUTES_TO_FETCH","POST_LUNCH_TO_SYNC","FETCH_PRIMARY_ACCOUNT","IC_USER_PROFILE","CATEGORY_FOLLOWING_LIST","FOLLOW_CATEGORY","UNFOLLOW_CATEGORY","LINK_ENHANCER_TO_FETCH","UPDATE_PAC_CUE","UNSUBSCRIBE_EMAIL","UNSUBSCRIBE_BRAND","SUBSCRIPTION_LIST","MEMBERSHIP_REWARDS_LAUNCH","TMR_REGISTER_ACTION","BREAKING_NEWS","NEED_TO_KNOW_NEWS","FETCH_CLOUD_STORAGE_PROVIDERS","UNLINK_CLOUD_STORAGE_ACCOUNT","HALLOWEEN_BANNER"]),M={Modes:Object(i.c)(["NEW","REPLY","REPLY_ALL","FORWARD","EDIT","SPONSORED_FORWARD"])},D={Status:Object(i.c)(["DOES_NOT_EXIST","INIT","EDITED","SAVING","SAVED","SAVED_PARTIAL","SAVE_FAILED","SENDING","SEND_FAILED","SENT","CAPTCHAING"])},y=Object(i.c)(["INBOX","BULK","DRAFT","SENT","TRASH","ARCHIVE","TOKENCACHE","USER","STAGING","SYNC","NOTES","DELETED","CHATS","INVISIBLE","NOT_SEARCHABLE","EXTERNAL_ALL","ALERTSTORE","CARD"]),L=Object(i.c)([y.INBOX,y.DRAFT,y.SENT,y.TRASH,y.BULK,y.ARCHIVE,y.TOKENCACHE,y.USER,y.STAGING,y.SYNC,y.NOTES,y.DELETED,y.CHATS]),v=Object(i.c)([y.INBOX,y.DRAFT,y.SENT,y.ARCHIVE,y.TRASH,y.BULK]),P=Object(i.c)(["UNREAD","STARRED","DOCUMENTS","PHOTOS","TUTORIAL","COUPONS","RECEIPTS","TRAVEL","TRAVEL_PAST","TRAVEL_EMAILS","PEOPLE","FINANCE","SOCIAL","SHOPPING","SHOPPING_EMAILS","GROCERIES","GROCERIESV2"]),F=Object(i.c)(["TAB_BAR","SIDE_BAR"]),w={[P.UNREAD]:"is:unread",[P.STARRED]:"is:starred",[P.TRAVEL]:"is:travel",[P.COUPONS]:"is:shopping"},k=[P.PHOTOS,P.DOCUMENTS,P.COUPONS,P.GROCERIES,P.GROCERIESV2,P.TRAVEL,P.TUTORIAL,P.RECEIPTS],x=Object(i.c)(["USER"]),U=Object.assign(Object(i.c)(["ALL_MAIL"]),y),G={INBOX:"1",DRAFT:"3",SENT:"2",TRASH:"4",SPAM:"6"},j=Object(i.c)(["DOWN","LEFT","NONE"]),H={DOES_NOT_EXIST:"DOES_NOT_EXIST",REFRESHING:"REFRESHING",LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"},B=Object(i.c)(["DELETED","LOADING","LOADED","ERROR","DELETING"]),V=Object(i.c)(["CONTACT","SUBJECT"]),W={Types:{TEXT:"text",IMAGE:"image",MESSAGE:"message",VIDEO:"video",AUDIO:"audio",APPLICATION:"application"},SubTypes:{ACROBAT:"acrobat",CALENDAR:"calendar",CSS:"css",CSV:"csv",DELIVERY_STATUS:"delivery-status",DOC:"msword",DOCX:"vnd.openxmlformats-officedocument.wordprocessingml.document",DOT:"dot",EXCEL:"excel",FOLDER:"vnd.pachyderm.folder",FRAMEMAKER:"vnd.framemaker",GDOCX:"vnd.google-apps.document",GIF:"gif",GPPT:"vnd.google-apps.presentation",GXLS:"vnd.google-apps.spreadsheet",GZIP:"x-gzip",HTML:"html",ICS:"ics",MS_WORD:"microsoft_word",MSEXCEL:"msexcel",MSTNEF:"ms-tnef",OCTET_STREAM:"octet-stream",PDF:"pdf",PLAIN:"plain",PNG:"png",PPT:"vnd.ms-powerpoint",PPTX:"vnd.openxmlformats-officedocument.presentationml.presentation",PPTX_SLIDESHOW:"vnd.openxmlformats-officedocument.presentationml.slideshow",PPTX_TEMPLATE:"vnd.openxmlformats-officedocument.presentationml.template",RFC822:"rfc822",RICHTEXT:"richtext",SC2:"mswor2c sc2",TAR:"x-tar",TIFF:"tiff",VND_MS_WORD:"vnd.ms-word",VND_MSWORD:"vnd.msword",VND_PDF:"vnd.pdf",WINWORD:"winword",WORD:"word",X_COMPRESSED:"x-compressed",X_DOT:"x-dot",X_EXCEL:"x-excel",X_FM:"x-fm",X_FRAMEMAKER:"x-framemaker",X_MAKER:"x-maker",X_MS_EXCEL:"x-dos_ms_excel",X_MS_WORD:"x-msword",X_MSW6:"x-msw6",X_PDF:"x-pdf",X_RTF:"x-rtf",X_SOFFICE:"x-soffice",X_XLS:"x-xls",X_ZIP:"x-zip-compressed",XLS:"vnd.ms-excel",XLS_M:"vnd.ms-excel.sheet.macroEnabled.12",XLS_M_TEMPLATE:"vnd.ms-excel.template.macroEnabled.12",XLS_TEMPLATE:"vnd.openxmlformats-officedocument.spreadsheetml.template",XLSX:"vnd.openxmlformats-officedocument.spreadsheetml.sheet",XML:"xml",ZIP:"zip",ZZ_DOT:"zz-winassoc-dot"},Dispositions:{ATTACHMENT:"attachment",INLINE:"inline"},SimplifiedTypes:{APPLICATION:"application",IMAGE:"image",VIDEO:"video",FILE:"file",FOLDER:"folder",AUDIO:"audio",COMPRESSED:"compressed",CAL:"cal",PDF:"pdf",XLS:"xls",DOC:"doc",PPT:"ppt",TEXT:"text",CSV:"csv",TIFF:"tiff",GDOCS:"gdoc",GSHEETS:"gsheet",GSLIDES:"gslide"},KnownDocTypes:/\.((doc|xls|ppt)x?|pdf)$/i},q={DESKTOP_MAIL_VERSION:"web.ymv",DESKTOP_MAIL_PREVIOUS_VERSION:"web.previousClientVersion",DESKTOP_MAIL_VERSION_HISTORY:"web.clientVersionHistory"},z={TIMEZONE:"web.timezone",LAST_OBSERVED_TIMEZONE:"web.lastObservedTimezone"},K={DESKTOP_MAIL_VERSION:"web.ymv",MOBILE_YMV:"ymvMobile"},Z=n()({},K,{CONVERSATIONS:"web.enableConversations"}),Y=(n()({},K,{CONVERSATIONS:"mobileweb.conversations"}),n()({},Z,{DESKTOP_MAIL_PREVIOUS_VERSION:"web.previousClientVersion",DESKTOP_MAIL_VERSION_HISTORY:"web.clientVersionHistory"})),X=n()({HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile",THEME:"web.mailTheme",POSTCARD_THEME:"web.postcardTheme",THEME_MODE:"web.themeMode",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",SHOW_ALL_SYSTEM_FOLDERS:"web.showAllSystemFolders",CLIENT_BUCKETS:"web.clientBuckets",SCOUT_ONBOARDING:"web.norrinOnboard",BLOCK_IMAGES:"web.blockImages",LEGAL_JURISDICTION:"cp.legalJurisdiction",CONSENT_EVENTS:"cp.consentEvents"},z,Y),Q=n()({HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",INTERSTITIAL_SEEN_COUNT:"mobileweb.interstitialSeenCount",SCOUT_ONBOARDING:"web.norrinOnboard",MOBILE_SHOW_IMAGES:"mobileweb.showImages",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference",MOBILE_CONVERSATIONS:"mobileweb.conversations"},z),$={PREVIEW_PANE:"web.mailPreviewPane",MAIL_TABS:"web.mailTabs",SNIPPETS:"web.generalSnippet",MSG_LIST_DENSITY:"web.msgsListDensity",DESKTOP_NOTIFICATION:"web.desktopNotification",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",EXPAND_SMART_VIEWS:"web.showSmartViews",HIDE_AD:"web.hideAd",EXPANDED_FOLDERS:"web.expandedFolders",STATIONERY_DEFAULT_THEME:"web.stationeryTheme",USE_RICH_TEXT:"web.useRichText",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",UNSUBSCRIBE_NOTIFICATION:"web.showUnsubscribeNotification",UNSUBSCRIBE_TIMESTAMP:"web.unsubscribeTimestamp",NUM_UNSUBSCRIBED_ITEMS:"web.numUnsubscribedItems",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SYSTEM_TABS:"web.systemTabs",EMAIL_SUBSCRIPTIONS:"web.emailSubscriptions",AD_BLOCK_FEATURE_CUE_ID:"web.adBlockFeatureCueId",SUPPRESSED_UPSELLS:"web.suppressedUpsells",BREAKING_NEWS:"web.breakingNews"},J={COMPOSE_FONT_FAMILY:"web.composeFontFamily",COMPOSE_FONT_SIZE:"web.composeFontSize",LINK_ENHANCER:"web.enableEnhancerLinkPreview",RECENTLY_USED_EMOJIS:"web.emojiRecentlyUsed"},ee={MOBILE_NOTIFICATION:"mobileweb.notifications",MOBILE_SNIPPETS:"mobileweb.snippets",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",PREFERRED_AD_FORMAT:"adFormatPreference"},te=n()({},J,{VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MESSAGE_FILTERS:"messageFilters",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",TWEET:"web.enableTweet"}),se=n()({},J,{MAILBOX_SIZE:"mailboxSize"}),ae=n()({},X,$,te,Y,z,J),ne=n()({},ee,Q,z,{MOBILE_CONVERSATIONS:"mobileweb.conversations",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"}),re=n()({},{HAS_ADS:"hasAds",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",TIMEZONE:"web.timezone",BLOCK_IMAGES:"web.blockImages",NODIN_ONBOARD:"web.nodin.onboard"},{HAS_ADS:"hasAds",VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",DEA_BASE_NAME:"disposableAddressesPrefix",MESSAGE_FILTERS:"messageFilters"}),ie=n()({},ne,X,ae,re,{ADD_UNKNOWN_CONTACT:"web.addUnknownContact",XOBNI:"xobni",KEY_TASKS_PANEL:"web.keyTasksPanel",COMPOSE_SHOW_CC:"web.composeShowCc",COMPOSE_SHOW_BCC:"web.composeShowBcc",CC_ON_SEND:"web.ccOnSend",BCC_ON_SEND:"web.bccOnSend",HIDE_LINKEDIN_FOOTER:"web.autoSuggestHideLinkedinFooter",HIDE_LINKEDIN_RECONNECT:"web.hideLinkedinReconnect",SUPRESS_EMPTY_FOLDER_VIDEO:"web.suppressEmptyFolderVideo",SORT_SEARCH_BY:"web.searchSortBy",PEOPLE_NOTIFICATION:"web.peopleNotification",IMPORTANT_NOTIFICATION:"web.importantNotification",CANCEL_DELETE_COUNT:"web.cancelClickOnHoverDeleteCount",CONFIRM_BEFORE_DELETE:"web.confirmBeforeDelete",SHOW_EMAIL_HISTORY:"web.showEmailHistory",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SHOW_CLOUD_PERMISSION_DIALOG:"web.showCloudFilePermissionsDialog",ONBOARDING:"mailOnBoard",SYSTEM_TABS:"web.systemTabs",POSTCARD_THEME:"web.postcardTheme"}),oe=Object(i.c)(["INTERSTITIAL_FREQUENCY","CLIENT_BUCKETS","PREVIEW_PANE","MAIL_TABS","SNIPPETS","MSG_LIST_DENSITY","LINK_ENHANCER","DESKTOP_NOTIFICATION","MOBILE_NOTIFICATION","COMPOSE_FONT_FAMILY","COMPOSE_FONT_SIZE","EXPANDED_FOLDERS","SHOW_CUSTOM_FOLDERS","HIDE_AD","TWEET","STATIONERY_DEFAULT_THEME","ACTION_AFTER_MSG_MOVE","BLOCK_IMAGES","USE_RICH_TEXT","ADD_UNKNOWN_CONTACT","EXPAND_SMART_VIEWS","KEY_TASKS_PANEL","THEME","THEME_MODE","COMPOSE_SHOW_CC","COMPOSE_SHOW_BCC","CC_ON_SEND","BCC_ON_SEND","BREAKING_NEWS","HIDE_LINKEDIN_FOOTER","HIDE_LINKEDIN_RECONNECT","SUPRESS_EMPTY_FOLDER_VIDEO","SORT_SEARCH_BY","SUPPRESSED_UPSELLS","AD_BLOCK_FEATURE_CUE_ID","PEOPLE_NOTIFICATION","IMPORTANT_NOTIFICATION","CANCEL_DELETE_COUNT","CONFIRM_BEFORE_DELETE","SHOW_EMAIL_HISTORY","MARK_AS_READ_INTERVAL","SHOW_CLOUD_PERMISSION_DIALOG","ONBOARDING","UNSUBSCRIBE_NOTIFICATION","UNSUBSCRIBE_TIMESTAMP","NUM_UNSUBSCRIBED_ITEMS","RECENTLY_USED_EMOJIS","SYSTEM_TABS","EMAIL_SUBSCRIPTIONS","SCOUT_ONBOARDING","MOBILE_SHOW_IMAGES","MOBILE_SNIPPETS","MOBILE_THEME","MOBILE_THEME_MODE","DESKTOP_MAIL_VERSION","DESKTOP_MAIL_PREVIOUS_VERSION","DESKTOP_MAIL_VERSION_HISTORY","POSTCARD_THEME","CONVERSATIONS","TIMEZONE","LAST_OBSERVED_TIMEZONE","PREFERRED_AD_FORMAT","IS_UDB_MIGRATION_COMPLETE","PREFERRED_AD_FORMAT","NODIN_ONBOARD"]),ce={LIST:"list",BASE:"base",FOLDER:"folder",MESSAGE_FROM_FOLDER_LIST:"message_from_folder_list",MESSAGE_FROM_SEARCH_LIST:"message_from_search_list",MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:"message_group_list_from_folder_list",MESSAGE_FROM_LIST:"message_from_list",NEW_DRAFT:"new_draft",EDIT_DRAFT:"edit_draft",SEARCH:"search",SETTINGS:"settings",CONTACTS:"contacts",CONTACT_DETAILS:"contact_details",CONTACT_DETAILS_FROM_SEARCH:"contact_details_from_search",EDIT_CONTACT:"edit_contact",EDIT_CONTACT_FROM_SEARCH:"edit_contact_from_search",CREATE_CONTACT:"create_contact",SIGNATURES_FROM_SETTINGS:"signatures_from_settings",EDIT_FOLDER:"edit_folder",THEME_CHOOSER:"theme_chooser",ACCOUNT_LIST_FROM_SETTINGS:"account_list_from_settings",ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:"account_selector_from_account_list",ADD_ACCOUNT_PROVIDER:"add_account_provider",ATTACHMENT:"attachment",SPONSORED_MESSAGE:"sponsored_message",SECURE_COMPOSE:"secure_compose",SECURE_BODY:"secure_body",SECURE_SETTINGS:"secure_settings",TUTORIAL:"tutorial",PHOTO:"photo",MESSAGE:"message",BLOCKED_SENDERS:"blocked_senders",LIST_FOLDERS:"list_folders",LOAD_CONTACT:"load_contact",TASK_STATUS:"task_status",SUBSCRIPTION_LIST:"subscription_list",MESSAGE_PREVIEW:"message_preview"},de=(Object(i.c)([ce.SETTINGS]),"/d"),le="/d",ue="/b",_e="/m",me="/mb",pe="/[dm]",he=le+"/log",ge=_e+"/log",Ee=de+"/heartbeat",Ie=de+"/optout",Se="http://yo/norrinjsesearch",Ce="https://www.huffingtonpost.com/static/terms",fe="https://www.shoprunner.com/terms/sr/",Te="http://privacy.aol.com/",Ae="https://www.shoprunner.com/about/policies/",be="/public/js/rapidworker_1.2.js",Oe="internal.apis.mail.yahoo.com",Re="internal.apis.mail.aol.com",Ne="https://apis.mail.yahoo.com",Me="https://apis.mail.aol.com",De="//ws.progrss.yahoo.com",ye=(e="us",t="en-US")=>`https://login.yahoo.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.yahoo.com%2Fd&prefill=0`,Le="https://payments.mail.yahoo.com",ve="https://mail.yahoo.com",Pe=ve+"/d",Fe=ve+"/b/",we=ve+"/mb/",ke=["yql","price_grabber_api","location_autosuggest_api","heartbeat","gemini_api","video_api","subscription_api","linkEnhancer","oauth","bootcamp_api","astra_api","udb"].join("|"),xe=(new RegExp("^(?!"+pe+"/("+ke+")/?)"),new RegExp("^"+le+"(?!/("+ke+")/?)"),new RegExp("^"+ue+"(?!/("+ke+")/?)"),new RegExp("^"+_e+"(?!/("+ke+")/?)"),new RegExp("^"+me+"(?!/("+ke+")/?)"),{ALL:"all",NONE:"none",READ:"read",UNREAD:"unread",STARRED:"flagged",UNSTARRED:"unflagged"}),Ue=Object(i.c)(["NONE","ALL","PARTIAL"]);let Ge;!function(e){e.DATE_DESC="date_desc",e.DATE_ASC="date_asc",e.UNREAD="unread",e.STARRED="flagged",e.SENDER="sender",e.RECIPIENT="recipient",e.SUBJECT="subject",e.ATTACHMENT="attachment",e.RELEVANCE="relevance",e.CARD_DATE_DESC="carddate_desc",e.CARD_DATE_ASC="carddate_asc",e.ALPHA_ASC="alpha_asc"}(Ge||(Ge={}));const je={DESC:Ge.DATE_DESC,ASC:Ge.DATE_ASC},He={DESC:Ge.DATE_DESC,ASC:Ge.DATE_ASC,ATTACHMENT:Ge.ATTACHMENT,RELEVANCE:Ge.RELEVANCE},Be="cardDate",Ve="time asc",We=28,qe=c,ze="https://data.mail.yahoo.com/xobni",Ke=Object(i.c)(["FREE","IMAPIN","EXCHANGEIN","ALIAS","SENDAS","DEA","PARTNER","POPIN","BIZMAIL","PHONE","EXTERNAL"]),Ze=[Ke.FREE,Ke.IMAPIN,Ke.EXCHANGEIN,Ke.PARTNER,Ke.BIZMAIL];Object(i.c)(["STORM","NORRIN","NOBLE","NODIN","NOBLE_BASIC"]);let Ye,Xe;!function(e){e[e.STORM=4]="STORM",e[e.NODIN=5]="NODIN",e[e.NORRIN=6]="NORRIN"}(Ye||(Ye={})),function(e){e[e.NOBLE_BASIC=1]="NOBLE_BASIC",e[e.NOBLE=2]="NOBLE"}(Xe||(Xe={}));const Qe=Object(i.c)(["IMAPIN","ALIAS","SENDAS","DEA"]),$e=[Ke.PARTNER,Ke.FREE,Ke.IMAPIN,Ke.EXCHANGEIN,Ke.BIZMAIL],Je=Object(i.c)(["ENABLED","DISABLED","DELETED","PENDING","DELETE_IN_PROGRESS"]),et=(Object(i.c)(["PLAIN","OAUTH2","PASSKEY"]),Object(i.c)(["DISABLED","DELETED","MAINTENANCE"])),tt=Object(i.c)(["ENABLED","DISABLED","DELETED","MAINTENANCE","MIGRATION","INACTIVE"]),st=Object(i.c)(["FREE","EXTERNAL","PHONE","BIZMAIL","PARTNER"]),at=Object(i.c)(["MESSAGES","MESSAGE","IMAGES","DOCUMENTS","LINKS","PEOPLE","EXTRACTIONS","ADS","PENCIL_AD","AD_FEEDBACK","GIFS","CLOUD_STORAGE_ITEMS","STORE_SUMMARY","TIMECHUNK","LOAD_MORE","FOLDER","SMARTVIEW","TRAVEL_CARDS","COUPON_SEPARATOR","TOP_DEALS_HEADER","RECEIPT_SEPARATOR","ZERO_SAVED_GROCERY_STORES","GROCERY_STORES_SEPARATOR","SINGLE_STORE_SEPARATOR","CONTACTS","CONTACTS_SEPARATOR","CONTACTS_CONTROLS","EXPAND_COLLAPSE_CONTACTS","LOADING_INDICATOR","COUPON_CARDS","GROCERY_STORES","OFFER_CARDS","GROCERY_CATEGORIES","REFUND_CARDS","ZERO_SAVED_COUPONS","CARDS","SEARCH_PLACEHOLDER","COMPOSE","PLAADS","ADS_SM","RECEIPT_CARDS","SUBSCRIPTIONS"]),nt=["TODAY","YESTERDAY","DAY","EARLIER_THIS_WEEK","THIS_WEEK","LAST_WEEK","EARLIER_IN_MONTH","THIS_MONTH","MONTH","EARLIER_IN_YEAR","THIS_YEAR","YEAR"],rt={Types:Object(i.c)(nt),PriorityMap:(e=>e.reduce((e,t,s)=>(e[t]=s,e),{}))(nt),Day:{SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6},Month:{JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}};let it;!function(e){e.FROM="FROM",e.TO="TO",e.ALL="ALL",e.RELATED="RELATED",e.WITH_KEYWORD="WITH_KEYWORD",e.WITH_KEYWORD_RELEVANCE="WITH_KEYWORD_RELEVANCE",e.TO_WITH_RELEVANCE="TO_WITH_RELEVANCE",e.FROM_WITH_RELEVANCE="FROM_WITH_RELEVANCE",e.ALL_WITH_RELEVANCE="ALL_WITH_RELEVANCE",e.SHOPPING="SHOPPING",e.TRAVEL="TRAVEL",e.FINANCE="FINANCE",e.SOCIAL="SOCIAL",e.TRAVEL_VIEW_UPCOMING="TRAVEL_VIEW_UPCOMING",e.TRAVEL_VIEW_PAST="TRAVEL_VIEW_PAST",e.SYSTEMFOLDER="SYSTEMFOLDER",e.CUSTOMFOLDER="CUSTOMFOLDER",e.FOLDERLABEL="FOLDERLABEL",e.SAVED_COUPON_CARDS="SAVED_COUPON_CARDS",e.ALL_REFUND_CARDS="ALL_REFUND_CARDS",e.ALL_COUPON_CARDS="ALL_COUPON_CARDS",e.ALL_RECEIPT_CARDS="ALL_RECEIPT_CARDS",e.LINKED_GROCERY_STORES="LINKED_GROCERY_STORES",e.UNLINKED_GROCERY_STORES="UNLINKED_GROCERY_STORES",e.RECOMMENDED_GROCERY_STORES="RECOMMENDED_GROCERY_STORES",e.RECOMMENDED_OFFER_CARDS="RECOMMENDED_OFFER_CARDS",e.ACTIVATED_OFFER_CARDS="ACTIVATED_OFFER_CARDS",e.GIFS="GIFS",e.CLOUD_STORAGE_ITEMS="CLOUD_STORAGE_ITEMS",e.ALL_PHOTOS="ALL_PHOTOS",e.PEOPLE="PEOPLE",e.NOT_PEOPLE="NOT_PEOPLE",e.TOP_CONTACTS="TOP_CONTACTS",e.USER_CREATED_CONTACTS="USER_CREATED_CONTACTS",e.IMPORTANT_CONTACTS="IMPORTANT_CONTACTS",e.GROUPS="GROUPS",e.ACTIVE="ACTIVE",e.PAST="PAST"}(it||(it={}));const ot=[it.PEOPLE,it.SHOPPING],ct=[P.PEOPLE,P.COUPONS],dt={[P.PEOPLE]:"PE",[P.COUPONS]:"SH",[P.SOCIAL]:"SO",[P.FINANCE]:"FI",[P.TRAVEL]:"TR"},lt=Object(i.c)(["PEOPLE","KEYWORD","ALL","RECENT"]),ut=Object(i.c)(["PERSON","KEYWORD","WEB_SEARCH","RECENT","HEADER","EMAIL"]),_t=Object(i.c)(["PERSON","KEYWORD","RECENT","EMAIL"]),mt=Object(i.c)(["TEXT","NEW_DRAFT","NO_SUBJECT","LOADING","SEARCH_KEYWORD","ERROR","SEARCH_DEFAULT","SETTINGS","PREVIEW","SPONSORED_AD","SMART_VIEW"]),pt=Object(i.c)(["NONE","SEARCH","SETTINGS","COMPOSE","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","SMARTVIEW_PHOTOS","SMARTVIEW_DOCUMENTS","SMARTVIEW_COUPONS","SMARTVIEW_GROCERIES","SMARTVIEW_RECEIPTS","SMARTVIEW_TRAVEL","SMARTVIEW_TUTORIAL","EXCLAMATION_ALT"]),ht=Object(i.c)(["UP","DOWN","FIRST","LAST","LEFT","RIGHT"]),gt={NO:0,RIGHT:1,BOTTOM:2},Et={H_SLIDER_POS:"hSliderPos",V_SLIDER_POS:"vSliderPos",H_SLIDER_POS_V2:"hsp",V_SLIDER_POS_V2:"vsp"},It={ALWAYS:!0,NEVER:!1},St={SLIM:1,NORMAL:2,RELAXED:3},Ct={FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:"3",VALUE:o.c.MEDIUM},ft=Object(i.c)(["LAUNCH","CHECK_MAIL","NEIGHBOR"]),Tt={GO_BACK_TO_FOLDER:3,SHOW_PREVIOUS_MESSAGE:2,SHOW_NEXT_MESSAGE:1},At=Object.assign({COMPACT_SLIM:4,COMPACT_NORMAL:5,COMPACT_RELAXED:6,COMPACT_SNIPPET_SLIM:7,COMPACT_SNIPPET_NORMAL:8,COMPACT_SNIPPET_RELAXED:9},St),bt=Object(i.c)(["BROWSER","PUSH"]),Ot=(Object(i.c)(["NONE","PROCESSING_BEGUN","PROCESSING_COMPLETE"]),{IMMEDIATELY:0,AFTER_2_SECONDS:2,AFTER_5_SECONDS:5,NEVER:999}),Rt={PAGES_CHUNK_SIZE:3,GAP_BETWEEN_PAGES:12,MAX_SCALE:3,MIN_SCALE:1,SCALE_STEP:.05,TOOLBAR_HEIGHT:54,Movement:Object(i.c)(["PREV","NEXT","ZOOM_IN","ZOOM_OUT"]),Orientation:Object(i.c)(["FIT_TO_WIDTH","FIT_TO_HEIGHT"]),Paddings:{AROUND_PAGE_WIDTH:20,AROUND_PAGE_HEIGHT:20,AROUND_IMG_WIDTH:16,AROUND_IMG_HEIGHT:16},previewableMimeTypes:["application/pdf","application/x-pdf","application/vnd.pdf","text/pdf","text/x-pdf","image/pdf","application/acrobat","application/text","text/css","text/plain","application/xml","text/xml","application/javascript","text/javascript","application/rtf","text/rtf","application/x-rtf","text/richtext","application/msword","application/x-msword","application/doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-word","application/vnd.openxmlformats-officedocument.wordprocessingml","application/vnd.ms-word.document.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/msexcel","application/x-msexcel","application/excel","application/x-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.formula","application/vnd.oasis.opendocument.presentation"]},Nt=Object(i.c)(["FLOW","PINNED","PUSHED"]),Mt=.8,Dt=Object(i.c)(["MOVETOFOLDER"]),yt=Object(i.c)(["ALL"]),Lt=Object(i.c)(["SUBJECT","SENDER","TOORCC","BODY"]),vt=Object(i.c)(["CONTAINS","NOTCONTAINS","BEGINSWITH","ENDSWITH"]),Pt=Object(i.c)(["CLEAR_FOLDER","ARCHIVE_FOLDER"]),Ft={FOLDERS:"foldersField",FROM:"fromField",TO:"toField",SUBJECT:"subjectField",KEYWORD:"keywordField",BEFORE:"beforeField",AFTER:"afterField",ATTACHMENT:"attachmentField",PHOTO:"photoField",CALENDAR_INVITE:"calendarInviteField"},wt={ALL_MAIL:"allMail"},kt=Object(i.c)(["STAR_CHANGE_ALL_ITEMS","STAR_CHANGE_SELECTED_ITEMS","READ_CHANGE_FOLDER_ITEMS","READ_CHANGE_ALL_ITEMS","READ_CHANGE_SELECTED_ITEMS","DELETE_FOLDER_ITEMS","DELETE_ALL_ITEMS","DELETE_SELECTED_ITEMS","DELETE_ALL_FROM_SENDERS","MOVE_ALL_ITEMS","MOVE_SELECTED_ITEMS","ARCHIVE_FOLDER_ITEMS","ARCHIVE_ALL_ITEMS","ARCHIVE_SELECTED_ITEMS","RESTORE_ALL_ITEMS","RESTORE_SELECTED_ITEMS","SPAM_ALL_ITEMS","SPAM_SELECTED_ITEMS","NOT_SPAM_ALL_ITEMS","NOT_SPAM_SELECTED_ITEMS","UNDO_MOVE","DELETE_DRAFT"]),xt=Object(i.c)(["INIT","PENDING","COMPLETED","FAILED","ABORTING","ABORTED","ABORT_FAILED"]),Ut={PERSONALIZE_INBOX:"0",ACCOUNTS:"1",SECURITY:"8",NOTIFICATIONS:"2",WRITING_EMAIL:"3",VIEWING_EMAIL:"4",CATEGORIZATION:"5",AUTOMATIC_REPLY:"6",FILTERS:"7",SECURITY_AND_PRIVACY:"8",SOCIAL_ACCOUNTS:"9",ENCRYPTION:"10",MAIL_PRO:"11"},Gt={[P.UNREAD]:"unread",[P.STARRED]:"starred",[P.PHOTOS]:"photos",[P.DOCUMENTS]:"documents",[P.TRAVEL]:"travel",[P.COUPONS]:"coupons",[P.RECEIPTS]:"receipts",[P.PEOPLE]:"people",[P.GROCERIES]:"groceries",[P.GROCERIESV2]:"groceriesv2"},jt=n()({},Gt,{CONTACT_DETAILS:"contactDetails",COUPON_RECOMMENDATIONS:"couponRecommendations",TOP_COUPONS:"topCoupons"}),Ht={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},Bt=Object(i.c)(["MARK_READ","ARCHIVE","DELETE","RENAME_FOLDER","MOVE_FOLDER","DELETE_FOLDER","CREATE_FOLDER","SEPARATOR"]),Vt={CARDS:"CARDS",MESSAGES:"MAIN",IMAGES:"IMAGES",DOCUMENTS:"DOCUMENTS",PEOPLE:"PEOPLE",AL:"AL"},Wt={MAC:"mac",WINDOWS:"windows",IOS:"ios",ANDROID:"android",OTHER:"other"},qt=Object(i.c)(["MESSAGE","OFFERS"]),zt={NO_REFRESH:0,EMERGENCY_REFRESH:1,PERIODIC_REFRESH:2},Kt=Object(i.c)(["LAUNCH_API_ERROR","WRONG_MAILBOX_STATE","LAUNCH_PAGE_NOT_FOUND_ERROR","NO_SCRIPT","UNSUPPORTED_BROWSER","UNSUPPORTED_FBMAILBOT","SERVER_ERROR","REACT_ERROR","DEFAULT","SWITCH_ACCOUNT","NO_ACTIVE_MAILBOX"]);let Zt;!function(e){e.YAHOO="yahoo",e.YAHOO_SB="yahoosb",e.GOOGLE="google",e.GOOGLE_APP="googleapp",e.OUTLOOK="outlook",e.AOL="aol",e.OTHER="other",e.OFFICE365="office365",e.VERIZON_MEDIA="verizonmedia"}(Zt||(Zt={}));const Yt=Object(i.c)(["Facebook","LinkedIn","Twitter","LinkedInTest"]),Xt=Object(i.c)(["GDrive","Dropbox"]),Qt={[Yt.LinkedIn]:"r_basicprofile r_member_lookup",[Zt.YAHOO]:null,[Zt.GOOGLE]:"https://www.googleapis.com/auth/contacts.readonly",[Zt.OUTLOOK]:"wl.contacts_birthday wl.basic wl.offline_access wl.contacts_emails wl.contacts_phone_numbers wl.contacts_postal_addresses"},$t={[Yt.LinkedIn]:"f7e0ac2c-98e8-11df-8527-000ffef4f721",[Yt.LinkedInTest]:"f8f1ac2c-99e8-11df-8517-000gfef5f721",[Zt.YAHOO]:"aa174cde-374f-47b5-9365-382da87f1d99",[Zt.GOOGLE]:"e0b61efe-086e-11e2-8a42-002481ee7a3a",[Zt.OUTLOOK]:"07b12df4-b892-11e2-95d7-2c4138949916",[Zt.AOL]:"b770b078-3fcd-4a17-b26a-7b8c56c2a91b"},Jt={[Yt.LinkedIn]:Yt.LinkedIn},es={CONNECTED:"CONNECTED",NOT_CONNECTED:"NOT_CONNECTED",EXPIRED:"EXPIRED",FAILED:"FAILED",QUEUED:"QUEUED"},ts=[Zt.YAHOO,Zt.GOOGLE,Zt.AOL],ss=100,as=1e3,ns=Object(i.c)(["STACKED","COLLAPSED","EXPANDED","TEMPORARY_EXPANSION"]),rs={AstraClient:"astra_client_call",AthenaClient:"athena_client_call",BootcampClient:"bootcamp_client_call",CredstoreClient:"credstore_client_call",GeminiAPIClient:"gemini_api_client_call",GifCategories:"gif_category_content_call",HeartbeatAPIClient:"heartbeat_api_client_call",SubscriptionAPIClient:"subscription_api_client_call",MailAPIClient:"mail_api_client_call",RapidClient:"i13n_beacon",UDBClient:"udb_client_call",XobniClient:"xobni_client_call",EmojiSearch:"emoji_search_call",PriceGrabberClient:"price_grabber_client_call",LocationAutoSuggestClient:"location_autosuggest_api_client_call",StormBornClient:"storm_born_client_call",SmartReplyClient:"smart_reply_client_call",GeoAPIClient:"geo_api_client",RelatedSearchesAPIClient:"related_searches_api_client",LinkEnhancerClient:"lucy_api_call",ClassicABClient:"classic_ab_client",DarlaAdClient:"darla_ad_client",MembershipRewardsClient:"membership_rewards_client",BreakingNewsClient:"breaking_news_client",NeedToKnowNewsClient:"need_to_know_news_client"},is=[Zt.YAHOO,Zt.GOOGLE,Zt.GOOGLE_APP,Zt.OUTLOOK,Zt.AOL,Zt.OFFICE365],os={[Zt.GOOGLE]:{domainCheck:["*"],domainHints:["gmail","google","googlemail"],serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},[Zt.VERIZON_MEDIA]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},[Zt.YAHOO]:{domainCheck:["yahoo","ymail","rocketmail"],serverUri:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},[Zt.OUTLOOK]:{domainCheck:["outlook","hotmail","live","msn"],serverUri:"imaps://outlook.com",oauthDomain:"outlook.com",profileCheck:!0,providerUrl:"https://www.outlook.com",scope:"scope=wl.imap,wl.offline_access,wl.emails,wl.basic,wl.contacts_emails,wl.contacts_phone_numbers"},[Zt.AOL]:{domainCheck:["aol","aim"],serverUri:"imaps://aol.com",oauthDomain:"aol.com",profileCheck:!0,providerUrl:"https://www.aol.com",scope:"scope=offline_access email profile addressbook opencalendar"},[Zt.GOOGLE_APP]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"scope=https%3A%2F%2Fmail.google.com%2F+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcontacts+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fcalendar+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email"},[Zt.OFFICE365]:{domainCheck:["*"],domainHints:[],type:Ke.EXCHANGEIN,serverUri:"https://office365.com",oauthDomain:"office365.com",profileCheck:!0,providerUrl:"https://www.office.com"},[Zt.YAHOO_SB]:{serverUri:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1}},cs=Object(i.c)(["att.net","bellsouth.net","attworld.com","sky.com","frontiernet.net","frontier.com","myfrontiermail.com","citilink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citilink.com","evansinet.com","globalvalleynetworks.com","xtra.co.nz","mymts.in","ameritech.net","btinternet.com","btopenworld.com","demobroadband.com","ovi.com","flash.net","nl.rogers.com","nvbell.net","pacbell.net","prodigy.net","rogers.com","sbcglobal.net","snet.net","swbell.net","talk21.com","verizon.net","wans.net","ymail.com","rocketmail.com","yahoo-inc.com"]),ds=Object(i.c)(["ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cs","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","es","et","fi","fj","fk","fm","fo","fr","fx","ga","gb","gd","ge","gh","gi","gl","gp","gq","gf","gm","gn","gr","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","in","io","iq","ir","is","it","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","mg","mh","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nt","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pt","pr","pw","py","qa","re","ro","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tf","tg","th","tj","tk","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","um","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yu","za","zm","zr","zw"]),ls=Object(i.c)(["aero","asia","biz","com","edu","gov","info","jobs","mil","mobi","museum","name","net","org","co"]),us={USE_THIRD_GENERATION_LOGO:"useThirdGenerationLogo",ADD_EDIT_FROM_LIST_CARD:"addContactsFromMsg",FORCE_OPTIN_BEACON:"forceOptinBeacon",MAILBOX_SWITCHER:"mailboxSwitcher",ADS:"ads",ATTACHMENT_PREVIEW:"attachmentPreview",NO_ADS:"noAds",DARLA_PREFETCH:"darlaPrefetch",DARLA_LOOKAHEAD:"darlaLookAhead",DARLA_POST_RENDER:"darlaPostRender",DARLA_PREFETCH_LAUNCH_SYNCER:"darlaPrefetchLaunchSyncer",GEMINI_SPONSORED_VIDEO:"geminiSponsoredVideo",AD_FREE_SUPPORTED:"adFreeSupported",COM_SCORE_BEACONING:"comScoreBeaconing",EMPTY_FOLDER_VIDEO:"emptyFolderVideo",MESSAGE_READ_AD_ROTATION:"messageReadAdRotation",MESSAGE_UNREAD_INDICATOR:"messageUnreadIndicator",ENHANCED_MESSAGE_ICON:"enhancedMessageIcon",GEMINI_VIEWABILITY:"geminiViewability",GEMINI_VIEWABILITY_IO:"geminiViewabilityIO",RESIZABLE_PREVIEW_PANE:"previewpaneResizable",PREVIEW_PANE_IN_PIXELS:"previewpaneInPixels",PREVIEW_PANE_COOKIE:"previewpaneCookie",MAIL_PRO_ELIGIBLE:"mailProEligible",WIDE_RIGHT_RAIL:"wideRightRail",HIDE_RIGHT_RAIL:"hideRightRail",PREMIUM_AD_DETECTION:"premiumAdDetection",GEMINI_CONTEXTUAL_ADS:"geminiContextualAds",AUTOPLAY_EMPTY_FOLDER_VIDEO:"autoPlayEmptyFolderVideo",ROTATE_ADS_ONLINE:"rotateAdsOnline",HIPMUNK_CARD:"hipmunkCard",BOOKING_CARD:"bookingCard",SEATGEEK_CARD:"seatgeekCard",WIDER_MAIL_ELIGIBLE:"widerMailEligible",WIDER_MAIL_PROMO:"widerMailPromo",CLOSE_ICON_PENCIL_AD:"closeIconPencilAd",MAIL_PRO:"mailPro",MAIL_PRO_LINK_IN_SETTINGS_MENU:"mailProLinkInSettingsMenu",ABORT_DARLA_IN_PROGRESS:"abortDarlaInProgress",LREC_MON_AD_ARBITRATION:"lrecMonAdArbitration",ADBLOCK_UPSELL:"adBlockUpsell",SHOPPING_CART_AD:"shoppingCartAd",APAC_SHOPPING_CART_AD:"APACShoppingCartAd",HP_EXT_INSTALLED:"hpsetInstalled",AUTO_FORWARD_EMAIL:"autoForwardEmail",SPONSORED_MESSAGE_TRIAGE:"sponsoredMessageTriage",UNIFY_NATIVE_AD_FORMAT:"unifyNativeAdFormat",OFFLINE_CHECKING:"offlineChecking",OFFLINE_TOASTS:"offlineToasts",RIGHT_RAIL_AD_FREE_UPSELL:"rightRailAdFreeUpsell",PENCIL_AD:"pencilAd",SECOND_PENCIL_AD:"secondPencilAd",RELATED_SEARCHES_CARD:"relatedSearchesCard",ADVERTISER_RELATED_SEARCHES:"advertiserRelatedSearches",HOTELS_CARD_PREFILL:"hotelsCardPrefill",VIGLINK:"viglink",PRICE_GRABBER_WRAPPER_LINK:"priceGrabberWrapperLink",CONTACT_CARD_TRACKING:"contactCardTracking",MESSAGE_LIST_AD_CAROUSEL:"messageListAdCarousel",TIMECHUNK_PENCIL_AD:"timechunkPencilAd",FLASH_SALE_AD:"flashSaleAd",FLASH_SALE_AD_IN_SECONDS:"flashSaleAdInSeconds",PLA_SEARCH_ADS:"plaSearchAds",PLA_ADS_AVAILABLE:"plaAdsAvailable",MESSAGE_READ_AD_ROTATION_V2:"messageReadAdRotationV2",ROTATE_PENCIL_AD_ON_EXPIRE:"rotatePencilAdOnExpire",AOL_VIDEO_PLAYER:"aolVideoPlayer",OATH_VIDEO_PLAYER:"oathVideoPlayer",RIGHT_RAIL_NATIVE_AD:"rightRailNativeAd",SUBSCRIPTION_ADS:"subscriptionAds",DEBUG_DARLA:"debugDarla",COUPONS_SMART_VIEW_SEARCH:"couponsSmartViewSearch",SPONSORED_MOMENT:"sponsoredMoment",VIDEO_SPONSORED_MOMENT:"videoSponsoredMoment",AD_BLOCK_COUPONS:"adBlockCoupons",ABP_STATIC_ADS:"ABPStaticAds",ROTATE_ADS_ON_CHECK_MAIL:"rotateAdsOnCheckMail",AD_VIEWABILITY_TRACKER:"adViewabilityTracker",EBAY_WARRANTY_UPSELL:"ebayWarrantyUpsell",AD_FORMAT_SELECTION:"adFormatSelection",COMMERCIAL_ANALYSIS_OF_CONTENT:"commercialAnalysisOfContent",RETAILER_FILTER:"retailerFilter",CATEGORY_FILTER:"categoryFilter",RIGHT_RAIL_UPSELL_VIDEO_AD:"rightRailUpsellVideoAd",FAN_ADS:"fanAds",ENABLE_DEALS_VIEW_CUE:"enableDealsViewCue",ENABLE_SEARCH_RELEVANCE_CUE:"enableSearchRelevanceCue",MSG_READ_PENCIL_AD_SEND_DOMAIN:"msgReadPencilAdSendDomain",DEALS_SHOPPING_CART_AD:"dealsShoppingCartAd",NO_IDLE_CHECK_MAIL_AD_ROTATIONS:"noIdleCheckMailAdRotations",SECOND_SEARCH_AD:"secondSearchAd",AD_PARTIALLY_ABOVE_FOLD:"adPartiallyAboveFold",TALL_PENCIL_AD:"tallPencilAd",INSTRUMENT_SECOND_SEARCH_AD:"instrumentSecondSearchAd",FIRE_VIEWABILITY_BEACONS_ON_CLICK:"fireViewabilityBeaconsOnClick",MARK_AS_READ_DEFER:"markAsReadDefer",MEMBERSHIP_REWARDS:"membershipRewards",TMR_ONBOARDING_CUE:"tmrOnboardingCue",TMR_ICON_NOTIFICATION:"tmrIconNotification",TOOLTIP_EMOJI:"tooltipEmoji",NUKE_DISPLAY_ADS_ON_INACTIVE:"nukeDisplayAdsOnInactive",LIST_V3:"listV3",MAIL_READER_V3:"mailReaderV3",UPDATE_ITEMS_V3:"updateItemsV3",CEP_FORWARD:"cepForward",PREVIEW_MESSAGE_V3:"previewMessageV3",MESSAGE_READ_CONTACT_CARD:"messageReadContactCard",RSVP:"rsvp",RSVP_RESPONSE:"rsvpResponse",NUDGE_TO_REPLY:"nudgeToReply",REPLY_NUDGE_COUNT:"replyNudgeCount",STATIONERY_THEME_DATES:"stationeryThemeDates",PARSE_RSVP_REPLY_LINKS:"parseRsvpReplyLinks",PHOTO_THEMES:"photoThemes",TOOLBAR_V3:"toolbarV3",RIGHT_RAIL_CONTACT_CARD:"rightRailContactCard",RIGHT_RAIL_PHOTO_CARD:"rightRailPhotosCard",RIGHT_RAIL_DOCS_CARD:"rightRailDocsCard",RIGHT_RAIL_MESSAGES_CARD:"rightRailMessagesCard",ENHANCE_CONTACT_CARD:"enhanceContactCard",ENHANCE_COUPON_CARD:"enhanceCouponCard",SUBSCRIPTION_RECOMMENDATIONS:"subscriptionRecommendations",NODIN_CHECK_MAIL:"nodinCheckMail",NODIN_CHECK_MAIL_TOAST:"nodinCheckMailToast",NODIN_ES5_SHIM:"nodinES5Shim",NODIN_MESSAGE_READ_DOMAIN:"nodinMessageReadDomain",NODIN_MESSAGE_READ_AD_ROTATION:"nodinMessageReadAdRotation",NODIN_FILTERS:"nodinFilters",LOG_CLIENT_ERROR:"logClientError",SECURITY_SUBSCRIPTIONS_UPSELL:"securitySubscriptionsUpsell",SCOUT_PREDICATE:"scoutPredicate",SCOUT_RECURRING:"scoutRecurring",CONTACTS_PANE_FEATURE:"contactsPaneFeature",CONTACT_SUMMARY:"contactSummary",CONTACTS_PANE_CUE:"contactsPaneCue",CALENDAR_RIGHT_RAIL_PANE:"calendarRightRailPane",SUBSCRIPTION_LIST:"subscriptionList",SOCIAL_ACCOUNTS:"socialAccounts",LINKEDIN_REAUTH_CUE:"linkedinReauthCue",USE_LINKEDIN_TEST_SPID:"useLinkedinTestSpid",SHOW_LINKEDIN_REAUTH_UPSELL:"showLinkedinReauthUpsell",RELOADING_BAR:"reloadingBar",CALENDAR_TAB:"calendarTab",NOTEPAD_TAB:"notepadTab",CONVERSATIONS:"conversations",SHOW_COMMS_PROPERTIES:"showCommsProperties",AUTO_OPEN_REAUTH:"autoOpenReauth",ACTION_MODULE:"actionModule",ADD_SEND_ONLY_ACCOUNTS:"addSendOnlyAccounts",REPLY_TO_ADDRESS:"replyToAddress",DISPOSABLE_ADDRESS:"disposableAddress",SHOW_FORWARD_SETTINGS:"showForwardSettings",INLINE_ATTACHMENT:"inlineAttachment",EMOJI_SEARCH:"emojiSearch",TUTORIAL:"tutorial",COLLAPSIBLE_SYSTEM_FOLDERS:"collapsibleSystemFolders",SETTINGS:"settings",SHOW_TWEET:"showTweet",TIMEZONE_CHECK:"timezoneCheck",RTL:"rtl",IS_RETURNING_USER:"isReturningUser",HAS_MAPPED_THEME:"hasMappedTheme",FETCH_FULL_BODY:"fetchFullBody",THEMES_CUE_V3:"themesCueV3",NEW_USER_ONBOARDING_CUE:"newUserOnboardingCue",PHOTOS_CUE:"photosCue",STARRED_CUE:"starredCue",SETTINGS_CUE:"settingsCue",PARTNER_RECONSENT_BANNER:"partnerReconsentBanner",SEARCH_CUE:"searchCue",SEARCH_RELEVANCE_CUE:"searchRelevanceCue",ALL_TABS_PLUS_CUE:"allTabsPlusCue",PEOPLE_SMARTVIEW_CUE:"peopleSmartViewCue",STATIONERY_CUE:"stationeryCue",UPDATE_WIDER_MAIL_CUE:"updateWiderMailCue",ADBLOCK_UPSELL_CUE:"adBlockUpsellCue",RIGHT_RAIL_AD_FREE_UPSELL_CUE:"rightRailAdFreeUpsellCue",EMOJI_CUE:"emojiCue",INBOX_COUPONS_CUE:"inboxCouponsCue",COUPON_CLIPPER_CUE:"couponClipperCue",COUPONS_VIEW_CUE:"couponsViewCue",IS_WIDER_MAIL_EXTN_ENABLED:"isWiderMailExtnEnabled",QTNT_VIEW_MSG_READ_CARD:"qtntviewMsgReadCard",CATEGORY_FOLLOWING_CUE:"categoryFollowingCue",MSG_QUOTIENT_MODAL:"msgQuotientModal",MSG_READ_CONTEXTUAL_QUOTIENT_MODAL:"msgReadContextualQuotientModal",CONTEXTUAL_QUOTIENT_MODAL:"contextualQuotientModal",QUOTIENT_CONTEXTUAL_CUE:"quotientContextualCue",MESSAGE_LIST_QUOTIENT_UPSELL:"messageListQuotientUpsell",PURCHASES_VIEW_CUE:"purchasesViewCue",SHOPRUNNER_VIEW_CUE:"shopRunnerViewCue",QTNT_VIEW_LEFT_RAIL_CUE:"qtntviewLeftRailCue",QUOTIENT_LINKED_CARD:"quotientLinkedCard",DEALS_VIEW_CUE:"dealsViewCue",SMALL_BIZ_CUE:"smallBizCue",WELCOME_USER_CUE:"welcomeUserCue",LASTPASS_UPSELL:"lastpassUpsell",SHOW_LASTPASS_FREETRIAL_UPSELL:"showLastpassFreeTrialUpsell",LASTPASS_FREETRIAL_UPSELL:"lastPassFreeTrialUpsell",LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:"lastpassFreeTrialUpsellEligible",YFINANCE_UPSELL:"yFinanceUpsell",BREAKING_NEWS:"breakingNews",BREAKING_NEWS_ENABLED:"breakingNewsEnabled",BREAKING_NEWS_TEST_PARAM:"breakingNewsTestParam",NEED_TO_KNOW_NEWS_CUE:"needToKnowNewsCue",NTK_CLOSE_ON_EXTERNAL_CLICK:"ntkCloseOnExternalClick",HIDE_NTK_FOR_SMALLER_SCREEN:"hideNTKforSmallerScreen",SHOW_NTK_ON_VISIBILITY_CHANGE:"showNTKOnVisibilityChange",HIDE_NTK_FOR_HOMEPAGE_USERS:"hideNTKforHomePageUsers",MSG_READ_SHOPRUNNER_CARD:"msgReadShopRunnerCard",MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD:"msgReadShopRunnerPostSignUpCard",SHOPRUNNER:"shopRunner",MSG_READ_SHOPRUNNER_PERSONALIZED:"msgReadShopRunnerPersonalizedCard",SHOPRUNNER_PERSONALIZED_UPSELL:"personalizedPurchaseUpsell",ASTRA_WSSID:"astraWssid",ENABLE_ASTRA_FOR_GROCERY:"enableAstraForGrocery",ENABLE_YM6_GROCERY:"enableYM6Grocery",UNUSUAL_DISCOUNT:"unusualDiscount",UNUSUAL_DISCOUNT_EXISTS:"UnusualDiscount",CATEGORY_FOLLOW:"CategoryFollow",ENABLE_AFFILIATE_COUPONS:"enableAffiliateCoupons",BROWSER_NOTIFICATIONS:"browserNotifications",DESIGN_CLASSIFIER:"designClassifier",DRAWER:"drawer",MOBILE_MESSAGE_SNIPPETS:"mobileMessageSnippets",MOBILE_ONBOARDING_CUE:"mobileOnboardingCue",MOBILE_SEARCH_SUGGESTIONS:"mobileSearchSuggestions",MOBILE_SIGNATURE:"mobileSignature",MOBILE_THEMING:"mobileTheming",MOBILE_EDIT_RECIPIENTS:"mobileEditRecipients",PUSH_NOTIFICATIONS_CUE_PTR:"pshNotifctnsCueOnPTR",PUSH_NOTIFICATIONS_CUE_LAUNCH:"pshNotifctnsCueOnLnch",PUSH_NOTIFICATIONS_CUE_COMPOSE:"pshNotifctnsCueOnCmps",MOBILE_PAC_NOTIFICATION_CUE:"mobilePacNotificationCue",LOADING_FALLBACK:"loadingFallback",MOBILE_MESSAGE_READ_NAVIGATION:"mobileMessageReadNavigation",HOMEPAGE_BUTTON:"homepageButton",COMPOSE_FROM_CUSTOM_FOLDER:"nobleBasicComposeFromCustomFolder",SIGN_OUT:"signOut",LANDSHARK_CUE:"landsharkCue",BLOCK_SENDER_CUE:"blockSenderCue",CONVERSATIONS_CUE:"conversationsCue",COUPON_LANDSHARK_CUE:"couponLandsharkCue",NOBLE_SUPPORTED_BROWSER_VERSION:"nobleSupportedBrowserVersion",NOBLE_SUPPORTED_OS_VERSION:"nobleSupportedOSVersion",NOBLE_SUPPORTED_PARTNER:"nobleSupportedPartner",MAX_PREVIEW_LENGTH:"maxPreviewLength",COUPON_CARD_EXTRACTIONS:"couponCardExtractions",BOOTCAMP_COUPONS:"bootcampCoupons",COUPON_SELF_EXTRACTION:"couponSelfExtraction",COUPON_RECOMMENDATIONS:"couponRecommendations",MSG_READ_COUPON_RECOMMENDATIONS:"msgReadCouponRecommendations",MULTI_COUPON_RECOMMENDATIONS:"couponRecMulti",COUPON_REC_WITH_ADS:"couponRecWithAds",COUPON_REC_WITH_BOLD_ADS:"couponRecWithBoldAds",COUPON_REC_WITH_TOP_ADS:"couponRecWithTopAds",COUPON_REC_VENDOR:"couponRecVendor",COUPONS_VIEW:"couponsView",COUPON_STORE_LOCATOR:"couponStoreLocator",COUPONS_AUTO_CLIP:"couponsAutoClip",CPN_ICON_MSG_LIST:"cpnIconMsgList",SHOW_RECOMMENDATIONS_MODAL:"showRecommendationsModal",FLIGHT_CARD_EXTRACTIONS:"flightCardExtractions",TRAVEL_VIEW:"travelView",AUTOTAG:"autotag",EARNY_CARD_EXTRACTIONS:"earnyCardExtractions",RECEIPTS_VIEW:"receiptsView",QUOTIENT:"quotient",GROCERIES_VIEW:"groceriesView",QUOTIENT_RANK_OFFERS:"quotientRankOffers",QUOTIENT_CLIPPER_CUE:"quotientClipperCue",PERSONALIZED_GROCERY_UPSELL:"personalizedGroceryUpsell",CATEGORY_FOLLOWING:"categoryFollowing",EMOJI:"emoji",PRELOAD_EMOJI:"preloadEmoji",GIF:"gif",STATIONERY:"stationery",RECENTLY_USED_EMOJI:"recentlyUsedEmoji",EXCEPTION_NOTIFICATION:"exceptionNotification",MKTG_BEACON:"marketingBeaconing",NEWUSER_MKTG_BEACON:"newUserMarketingBeaconing",VACATION_RESPONSE_STATIONERY:"vacationResponseStationery",PERSIST_COMPOSE_TEXT_MODE:"persistComposeTextMode",DELETE_FROM_PHOTOS_VIEW:"deleteFromPhotosView",DELETE_FROM_DOCUMENTS_VIEW:"deleteFromDocumentsView",BLOCK_SENDERS:"blockSenders",FILTER_MESSAGES_LIKE_THIS:"filterMessagesLikeThis",UNSUBSCRIBE_FROM_MESSAGE:"unsubscribeFromMessage",UNSUBSCRIBE_NEW_BADGE:"unsubNewBadge",COLLAPSED_TRIAGING:"collapsedTriaging",UNSUBSCRIBE_BADGES:"unsubscribeBadges",DISABLE_UNSUBSCRIBE_FEATURE:"disableUnsubscribeFeature",GEO_LOCATION:"geoLocation",SMARTVIEW_CATEGORIES_ENABLED:"smartViewCategoriesEnabled",SMARTVIEW_CATEGORIES_ALL:"allSmartViews",SMARTVIEW_CATEGORIES_PEOPLE:"peopleSmartView",SMARTVIEW_CATEGORIES_PEOPLE_V2:"peopleSmartViewV2",SMARTVIEW_CATEGORIES_SHOPPING:"shoppingSmartView",STARRED_MAIL_ENHANCED:"starredMailEnhanced",SHOW_TABS:"showTabs",SERVICE_WORKER_CACHING:"serviceWorkerCaching",PUSH_NOTIFICATIONS:"pushNotifications",SHOULD_SW_SUBSCRIBE:"shouldServiceWorkerSubscribe",SHOW_ABOUT_OUR_ADS_LINK:"showAboutOurAdsLink",SHOW_ABOUT_YAHOO_MAIL_LINK:"showAboutYahooMailLink",SHOW_GIVE_FEEDBACK_LINK:"showGiveFeedbackLink",SHOW_OPT_OUT_LINK_MORE_SETTINGS:"optOutLinkInMoreSettings",SHOW_FORWARDING_NOTIFICATION:"showForwardingNotification",SHOW_RECENT_SUGGESTIONS:"showRecentSuggestions",SHOW_EMAIL_SEARCH_SUGGESTIONS:"showEmailSearchSuggestions",SHOW_EMPTY_SEARCH_SUGGESTIONS:"showEmptySearchSuggestions",MESSAGE_LIST_CONTEXT_MENU:"messageListContextMenu",FILTER_COMMERCIAL_IMAGES:"filterCommercialImages",IFRAME_PRINT:"iframePrint",EVT_SANDBOX_IFRAME:"evtSandboxIframe",EXTERNAL_CSS:"externalCss",DISPOSABLE_ADDRESS_DELETE_ONLY:"disposableAddressDeleteOnly",SHOW_RIGHT_RAIL_HELP_LINKS:"showRightRailHelpLinks",ALLOW_USERNAME_AND_PHONE_REGISTRATION:"allowUsernameAndPhoneReg",INLINE_IMAGES_PROXIED:"inlineImagesProxied",WEB_PAC_NOTIFICATION_CUE:"pacNotificationCue",CLICK_URL_LOGGING:"clickUrlLogging",DEALS_VIEW_V2:"dealsViewV2",MESSAGE_OP_PERF:"messageOpPerf",SWITCH_TO_NORRIN:"switchToNorrin",SWITCH_TO_NORRIN_ON_WIN10:"switchToNorrinOnWin10",BIZMAIL_USER:"bizmailUser",DOCUMENT_PREVIEW_LIGHT:"documentPreviewLight",NODIN_JS_ENHANCE:"nodinJSEnhance",NODIN_BULK_OPERATION:"nodinBulkOperation",NODIN_IMAPIN:"nodinImapIn",OFFICE365:"office365",OFFICE365_CUE:"office365Cue",SHOW_NODIN_ONBOARDING_MESSAGE:"showNodinOnboardingMessage",NORRIN_OPTOUT:"norrinOptOut",XOBNI_AUTO_SUGGEST:"xobniAutoSuggest",CLASSIC_AUTO_SUGGEST:"classicAutoSuggest",RESHOW_ONBOARDING_CUE:"reshowOnboardingCue",SMART_REPLY:"smartReply",CLOUD_STORAGE:"cloudStorage",ENABLE_HALLOWEEN_BANNER:"enableHalloweenBanner"},_s={SUPPRESSED_UPSELLS:"suppressedUpsells",APP_ROOT_PATH:"appRootPath",THEME:"theme",THEME_MODE:"themeMode",TEXTUAL_SUGGESTIONS:"textualSuggestions",CLIENT_WIDTH:"clientWidth",ORIENTATION:"orientation",PREVIEW_PANE:"previewpane",MSG_LIST_DENSITY:"messageListDensity",LIST_ITEM_HEIGHT:"listItemHeight",SNIPPETS:"snippets",COMPOSE_FONT_FAMILY:"composeFontFamily",COMPOSE_FONT_SIZE:"composeFontSize",COMPOSE_SAVE_INTERVAL:"composeSaveInterval",DESKTOP_NOTIFICATION:"desktopNotification",MOBILE_NOTIFICATION:"mobileNotification",LANDSHARK_ON_COUPON_MESSAGE_STRINGS:"landsharkOnCouponMessageStrings",MARK_AS_READ_INTERVAL:"markAsReadInterval",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",SHOW_IMAGES:"showImages",LINK_ENHANCR:"linkEnhancer",VACATION_PREFERENCES:"vacationPreferences",MESSAGE_FILTERS:"messageFilters",MAIL_TABS:"multiTask",CONVERSATIONS:"conversations",ACTION_AFTER_MSG_MOVE:"actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"showCustomFolders",SHOW_SMART_VIEWS:"showSmartViews",EXPANDED_FOLDERS:"expandedFolders",STATIONERY_DEFAULT_THEME:"stationeryDefaultTheme",TOGGLE_CONV_RELOAD_DELAY:"toggleConversationReloadDelayMS",SHOW_ALL_SYSTEM_FOLDERS:"showAllSystemFolders",RECENTLY_USED_EMOJIS:"recentlyUsedEmojis",SYSTEM_TABS:"systemTabs",SENDING_EMAIL_CONFIRM_STATUS:"sendingConfirmEmail",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",SEARCH_SOURCE_TAG:"searchSourceTag",SEARCH_FETCH_COUNT:"searchFetchCount",SEARCH_FIRST_PAGE_COUNT:"searchFirstPageCount",SPACE_IDS:"spaceids",AD_BLOCK_FEATURE_CUE_ID:"adBlockFeatureCueId",HP_EXT_STORE_URL:"homepageExtStoreURL",WEB_SEARCH_URL:"webSearchURL",USE_RICH_TEXT:"useRichText",CORP_MAIL_GMAIL_SETTINGS:"corpMailGmailSettings",ACTIONABLE_RIGHT_RAIL_CONTENT:"actionableRightRailContent",THROTTLE_API_LIST:"throttleAPIList",SCOUT_ONBOARDING:"scoutOnboarding",NODIN_ONBOARD:"nodinOnboard",EMPTY_FOLDER_VIDEO_CHANNELS:"emptyFolderVideoChannels",HIDE_AD:"hideAd",TIME_TO_WAIT_SINCE_LAST_AD_CALL:"timeToWaitSinceLastAdCall",GEMINI_AD_COUNT:"geminiAdCount",GEMINI_SECTION_IDS:"geminiSectionIds",GEMINI_SECTION_IDS_TO_CACHE:"sectionIdsToCache",GEMINI_FORCE_FILTER:"geminiForceFilter",AD_FREE_MAIL_URL:"adFreeMailUrl",ABOUT_AD_URL:"aboutAdsUrl",PRIVACY_URL:"privacyUrl",TERMS_URL:"termsUrl",HELP_URL:"helpUrl",ITEM_LIST_PAGE_THRESHOLD:"itemListPageThreshold",MESSAGE_READ_AD_ROTATION_INTERVAL:"messageReadAdRotationInterval",MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL:"messageReadAdRotationIdleInterval",WIDER_MAIL_EXTENSION:"widerMailExtension",UNSUBSCRIBE_NOTIFICATION:"unsubscribeNotification",UNSUBSCRIBE_TIMESTAMP:"unsubscribeTimestamp",NUM_UNSUBSCRIBED_ITEMS:"numUnsubscribedItems",MAIL_PRO_MONTHLY_PRICE:"mailProMonthlyPrice",MAIL_PRO_YEARLY_PRICE:"mailProYearlyPrice",NOTIFICATION_MODE:"notificationMode",GEMINI_VIDEO_AD_ID:"geminiVideoAdId",GEMINI_VIDEO_AD_SITE:"geminiVideoAdSite",GEMINI_VIDEO_AD_EXP_NAME:"geminiVideoAdExpName",CHROME_EXTENSION_WHITELIST:"chromeExtensionWhitelist",RELATED_SEARCHES_CARD_STYLE:"relatedSearchesCardStyle",VIDEO_PLAYER_URL:"videoPlayerUrl",AOL_VIDEO_PLAYER_URL:"aolVideoPlayerUrl",AOL_VIDEO_PLAYER_IFRAME_SRC:"aolVideoPlayerIframeSrc",OATH_VIDEO_PLAYER_URL:"oathVideoPlayerUrl",SECOND_PENCIL_AD_DEPTH:"secondPencilAdDepth",PENCIL_AD_EXPIRE_TIME:"pencilAdExpireTime",VIGLINK_BLACKLIST:"viglinkBlacklist",PLA_SEARCH_ADS_BUCKET_ID:"plaSearchAdsBucketId",PENCIL_AD_VERSION:"pencilAdVersion",PARTNER_ATTRIBUTION_URL:"partnerAttributionUrl",EBAY_WARRANTY_UPSELL_POSITION:"ebayWarrantyUpsellPosition",PREFERRED_AD_FORMAT:"preferredAdFormat",AD_BLOCK_COUPONS_SORT_ORDER:"adBlockCouponsSortOrder",RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION:"rightRailUpsellVideoAdDuration",RIGHT_RAIL_UPSELL_CUE_INTERVAL:"rightRailUpsellCueInterval",ADBLOCK_UPSELL_CUE_INTERVAL:"adBlockUpsellCueInterval",NEED_TO_KNOW_NEWS_CUE_INTERVAL:"needToKnowNewsCueInterval",FAN_ADS_SETTINGS:"fanAdsSettings",CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL:"checkMailAdRotationIdleInterval",DEALS_SHOPPING_CART_AD_VERSION:"dealsShoppingCartAdVersion",MESSAGE_LIST_AD_CAROUSEL_VERSION:"messageListAdCarouselVersion",LASTPASS_UPSELL_SETTINGS:"lastpassUpsellSettings",LASTPASS_FREETRIAL_UPSELL_SETTINGS:"lastpassFreeTrialUpsellSettings",YFINANCE_UPSELL_SETTINGS:"yFinanceUpsellSettings",DARLA_HOSTNAME:"darlaHostname",BREAKING_NEWS_VERSION:"breakingNewsVersion",BREAKING_NEWS_REFRESH_INTERVAL:"breakingNewsRefreshInterval",BREAKING_NEWS_SETTINGS:"breakingNewsSettings",TMR_ATOS_TEST_PARAM:"tmrAtosTestParam",MEMBERSHIP_REWARDS_SETTINGS:"membershipRewardsSettings",NUM_MESSAGE_GROUPS_TO_PREFETCH:"numMessageGroupsToPrefetch",NEIGHBOR_PREFETCH_COUNT:"neighborPrefetchCount",SYNC_TIME:"syncTime",ASYNC_TASK_POLL_INTERVAL:"asyncTaskPollInterval",ASYNC_TASK_POLL_COUNT:"asyncTaskPollCount",CHECK_MAIL_INTERVAL:"checkMailInterval",SYNC_DATA_INTERVAL:"syncDataInterval",MAIL_URL:"mailURL",CALENDAR_URL:"calendarURL",NOTEPAD_URL:"notePadURL",FEEDBACK_URL:"feedbackURL",BUFFER_SIZE:"bufferSize",PREVIEWABLE_INLINE_ATTACHMENT_SIZE:"previewableInlineAttachmentSize",MESSAGE_INITIAL_RENDER_COUNT:"messageInitialRenderCount",STATIONERY_RESTRICTED_THEMES:"stationeryRestrictedThemes",MESSAGE_FETCH_COUNT:"messageFetchCount",MESSAGE_FETCH_COUNT_INITIAL:"messageFetchCountInitial",COUPON_CARDS_FETCH_COUNT:"couponCardsFetchCount",COUPON_RECOMMENDATIONS_FETCH_COUNT:"couponRecommendationsFetchCount",COUPON_STORE_LOCATOR_COLLAPSED:"couponStoreLocatorCollapsed",YAHOO_MAPS_URL:"yahooMapsUrl",CARD_GROUPS_FETCH_COUNT:"cardGroupsFetchCount",LINK_ENHANCER_URL_BLACK_LIST:"linkEnhancerUrlBlacklist",NOTIFICATION_TTL:"notificationTTL",EMAIL_SUBSCRIPTIONS:"emailSubscriptions",COMPOSE_THROTTLE_COUNT:"composeThrottleCount",NOTIFICATION:"notification",MESSAGE_DESTINATION_LABEL_TYPE:"messageDestinationLabelType",STAR_ANIMATION:"starAnimation",GUIDED_STAR_ANIMATION:"guidedStarAnimation",HAS_GUIDED_STAR_ANIMATION:"hasGuidedStarAnimation",SERVICE_WORKER_CACHE_CONFIG:"serviceWorkerCacheConfig",PARTNER_BRAND:"partnerBrand",HAS_WIDE_LOGO:"hasWideLogo",QUOTIENT_DEBUG_FLAG:"quotientDebugFlag",ASTRA_NONPROD_FLAG:"astraNonProdFlag",IS_USER_FOLLOWING_CATEGORIES:"isUserFollowingCategories",RANDOM_HALLOWEEN_CARDTYPES:"randomHalloweenCardTypes",PUSH_NOTIFICATIONS_EXPERIMENT:"pushNotificationsExperiment",IMAPIN:"imapin",INTERSTITIAL_FREQUENCY:"interstitialFrequency",RELEVENT_ADS_URL:"relevantAdsURL",ACCOUNT_INFO_URL:"accountInfoURL",DELETE_DEBOUNCE_TIME:"deleteDebounceTime",LOGO_URL:"logoUrl",LOGO_SRCSET:"logoSrcSet",BASIC_MAIL_THEME:"basicMailTheme",BASIC_MAIL_HOME_URL:"basicMailHomeURL",SIGN_OUT_URL:"signOutURL",LOGIN_NAME:"loginName",V3_LIST_MESSAGE_BUFFER:"v3ListMessageBuffer",V3_OPPOSITE_BUFFER:"v3ListMessageOppositeBuffer",V3_LIST_NUM_OF_PLACEHOLDER:"v3ListNumOfPlaceHolder",BULK_ACTION_DIALOG_THRESHOLD:"bulkActionDialogThreshold"},ms=Object(i.c)(["LANDSCAPE","PORTRAIT"]),ps="__setOauthStatus",hs=["fullscreen","target","sponsoredForward","messagePreview","newCompose","accountIds"],gs=Object(i.c)(["featured","everyday","birthday","seasonal"]),Es=32e3,Is=Object(i.c)(["NotInitialized","Initializing","Initialized"]),Ss="999+",Cs=999,fs={TUMBLR:"www@tumblr",TENOR:"www@tenor"},Ts=Object(i.c)(["IDLE","START","FINISH"]),As=Object(i.c)(["ReservationPackage","FlightReservation","CheckInAction","Coupon","Order"]),bs={SUBSCRIBE_ACTION:"SubscribeAction"},Os=Object(i.c)(["FOLDER_ACCESS_FAILED","MESSAGE_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","SETTINGS_FAILED_TO_LOAD"]),Rs=Object(i.c)(["CPN","FLR","POE","ORD","TAG","EML","CRD","USB","PKG"]),Ns=Object(i.c)(["NORMAL"]),Ms=5,Ds=250,ys=3,Ls=864e5,vs=Object(i.c)(["NONE","ERROR","VALIDATING","RESOLVED"]),Ps=Object(i.c)(["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","js","jse","lib","lnk","mde","msc","msi","msp","mst","pif","reg","scr","sct","shb","sys","vb","vbe","vbs","vxd","wsc","wsf","wsh"]),Fs=Object(r.g)("SLN15987"),ws={LEFT:"left",RIGHT:"right"},ks={MESSAGE_LIST:"messageList",MESSAGE_LIST_2:"messageList2",MESSAGE_LIST_SM:"messageListSM",MESSAGE_READ:"messageRead",COUPON_REC:"couponRec",SHOPPING_CART:"shoppingCart",SUBSCRIPTION:"subscription",RIGHT_RAIL_UPSELL:"rightRailUpsell",MESSAGE_LIST_CAROUSEL:"messageListCarousel",MESSAGE_LIST_2_FALLBACK:"messageList2Fallback",DEALS_SHOPPING_CART:"dealsShoppingCart"},xs=200,Us=10*xs,Gs={OFFENSIVE:"offensive",NOT_RELEVANT:"notRelevant",KEEP_SEEING:"keepSeeing",SOMETHING_ELSE:"somethingElse"},js={UI_1:1,UI_3:3,UI_4:4},Hs=[js.UI_1,js.UI_4,js.UI_3,js.UI_4],Bs="0a131ca69834ba58632792a2d7122797",Vs="91835879f027bd9de92f72e355cd359a",Ws="fb3da3418dae370da3c415cf613a8b86",qs="283181fd71e977feed2e8d123174599b",zs="621765",Ks={RECOMMENDED:"recommended",RANDOM:"random",EXPIRATION:"expiration"},Zs={[Ks.RECOMMENDED]:"ff5541571bc615a3d2a1d34bdc59037b",[Ks.RANDOM]:"7650b21ea963a334ebec9c8cf42d1486",[Ks.EXPIRATION]:"0904c6f3d4922940a711bb6d59490b79"},Ys={EARNY:"earny",SHOPRUNNER:"shoprunner",YMAIL:"ymail",GDRIVE:"gdrive",DROPBOX:"dropbox"},Xs={[Ys.GDRIVE]:{displayName:"Google Drive"},[Ys.DROPBOX]:{displayName:"Dropbox"}},Qs={SHOPRUNNER_MERCHANT_PROMOTION:"shoprunner_merchant_promotion",SHOPRUNNER_MERCHANT_RECEIPT:"shoprunner_merchant_receipt",SIMILAR_MERCHANT_PROMOTION:"similar_merchant_promotion",SIMILAR_MERCHANT_RECEIPT:"similar_merchant_receipt",PURCHASES_VIEW:"purchase_view"},$s=Object(i.c)(["CONTACTS_PANE","CALENDAR_PANE","BREAKING_NEWS","MEMBERSHIP_REWARDS"]),Js=Object(i.c)(["CONTACTS_LIST","CONTACT_DETAILS","EDIT_CONTACT","CREATE_CONTACT","EDIT_GROUP","CREATE_GROUP"]),ea=-1,ta=4,sa=10,aa="default",na="addGroup",ra=Object(i.c)(["STARTED","SUBMITTED","ENDED","DELETED"]),ia=Object(i.c)(["INIT","REQUEST_AFTER_LAUNCH","AD_LOAD_FAILED_RETRY","RENDER_AD","TEMPORARAY_GEMINI_FALLBACK","PERMANENT_GEMINI_FALLBACK"]),oa={VERSION_1:"breakingNewsOnPencilAd",VERSION_2:"breakingNewsOnTimechunkV1",VERSION_3:"breakingNewsOnTimechunkV2",VERSION_4:"breakingNewsOnRightRail",VERSION_5:"breakingNewsOnRightRailWithIcon"},ca=Object(i.c)(["NO_STATE","AGREED","SUSPENDED","EXPIRED"]),da={CHECKIN:"checkin",TASKS:"tasks",REWARDS:"rewards"},la=Object(i.c)(["DAILY_CHECKIN","IMAPIN"]),ua=Object(i.c)(["DAILY_CHECKIN","IMAPIN"]),_a=Object(i.c)(["LIGHT","DARK"]),ma={SLIDEUP:"slideUp",GUIDEDSTAR:"guidedStars"},pa=Object(i.c)(["SAVE_VACATION_RESPONSE","PREVENT_ROUTE_CHANGE"]),ha=(Object(i.c)(["INVALID_EMAIL","INVALID_PROVIDER","DUPLICATE_EMAIL","NONE"]),{ATT:"AT&T",BT:"British Telecom",FRONTIER:"Frontier",ROGERS:"Rogers",SKY:"Sky",VERIZON:"Verizon",AOL:"AOL"}),ga="ycorp",Ea="needToKnowNewsCue",Ia={PERCENT:"PercentOff",AMOUNT:"AmountOff",GETXFREE:"BuyXGetYFree"},Sa={filters:500,blockedSenders:1e3},Ca={DEFAULT:"default",PTRV01:"ptrv01",PTRV02:"ptrv02",LAUNCHV01:"launchv01",COMPOSEV01:"composev01"},fa={EMPTY:0,TEMPORARILY_EXPANDED:1,PERMANENTLY_EXPANDED:2,COLLAPSED:3},Ta=Object(i.c)(["amazon.com","macys.com","wayfair.com","jossandmain.com","zulily.com","wayfair.ca","trivago.com","opticsplanet.com","joybird.com","redbubble.com","revolve.com","nordstromrack.com","ncl.com","birchlane.com","allmodern.com","shopdisney.com","webstaurantstore.com","novica.com","ihg.com","jcpenney.com","modcloth.com","victoriasecret.com","brilliantearth.com","slidebelts.com","levis.com","walmart.com","draxe.com","nike.com","lifeisgood.com","livingspaces.com","chewy.com","shutterfly.com","zappos.com","thredup.com","asics.com"]),Aa=Object(i.c)(["nike.com.hk","nike.hk","play-asia.com","food123.com.tw","buy123.com.tw","caco.com.tw","obdesign.com.tw","shopping99.com","uv100.com.tw","s3.com.tw","gomaji.com","candybox.com.tw","brands.com.tw","andenhud.com.tw","etmall.com.tw","momoshop.com.tw","miu-star.com.tw","twhg.com.tw","mdmmd.com.tw","101.com.tw","tkec.com.tw","levi.com.tw","suitangtang.com","supercolor.com.tw","airspace.com.tw","watsons.com.tw","citiesocial.com","17life.com","utsavfashion.com","titan.co.in"]),ba=Object(i.c)(["washingtonpost.com","nbcnews.com","foxnews.com","newsmax.com","newsmax.com","welcomefinancial-news.com","newyorker.com","thebay.com","trumptrainnews.com","thedailypressnews.com","laposte.net","americanactionnews.com","myhearstnewspaper.com","metronewsupdate.com","conservativenews.com","cntraveler.com","bizjournals.com","newyorktimes.com","nwitimes.com","huffingtonpost.com","latimes.com","huffpost.com","thetimes.co.uk","latimes.com","nypost.com","latimes.com","washingtontimesnews.com","westernjournalism.com","nytimes.com"]);let Oa,Ra;!function(e){e.WEEKLY="weekly",e.MONTHLY="monthly",e.YEARLY="yearly"}(Oa||(Oa={})),function(e){e.ACTIVE="active",e.PENDINGUNSUB="pendingunsub"}(Ra||(Ra={}));const Na=Object(i.c)(["e-tradealerts-donotreply@etrade.com","gs-pwm-confirms@gs-enotification.com","vbs@vanguard.com","Fidelity.Investments@mail.fidelity.com","notifications@robinhood.com","client@notifications.tdameritrade.com","merrilledge@ml.com","support@invest.ally.com","donotreply-comm@schwab.com","account@seekingalpha.com","no-reply@investingchannel.com","membersupport@fool.com","automated@stocktwits.com"]),Ma=Object(i.c)(["AttachmentUi","ContactsPane","CalendarPane","ContactCard","MessageBrief","PhotoBrief","DocumentBrief","AdBlockCoupons","SubscriptionAds","RightRailNativeAd","RelatedSearchesCard","TravelCardsGroup","PlaAds","RightPaneAds","EbayWarrantyUpsell","SavedDeals","RetailerFilter","BreakingNews","RightPaneGroceriesList","MembershipRewards"]),Da=["imaps://gmail.com:993","imaps://gmail.com"],ya=10,La=Object(i.c)(["Phone","LoyaltyNumber"]),va=5,Pa=15,Fa=3,wa={TOP:"top",RIGHT:"right"},ka=5,xa=5,Ua={THEMED_BUTTON:"themedButton",CTR_ON_IMG:"ctrOnImg"},Ga=Object(i.c)(["DEFAULT","BULK","TRASH"]),ja={FOLDER_MIMETYPE:"application/vnd.pachyderm.folder",SPREADSHEET_MIMETYPE:"application/vnd.google-apps.spreadsheet",DOCUMENT_MIMETYPE:"application/vnd.google-apps.document"},Ha={ARTICLES:"articles_content",CATEGORY_WITH_IMAGE:"category_with_images",SIMPLE:"simple_call_to_action"}},,function(e,t,s){"use strict";s.d(t,"Vf",function(){return a}),s.d(t,"bg",function(){return n}),s.d(t,"Rl",function(){return r}),s.d(t,"Ql",function(){return i}),s.d(t,"Y",function(){return o}),s.d(t,"wb",function(){return c}),s.d(t,"qc",function(){return d}),s.d(t,"Hj",function(){return l}),s.d(t,"cg",function(){return u}),s.d(t,"ml",function(){return _}),s.d(t,"Jf",function(){return m}),s.d(t,"u",function(){return p}),s.d(t,"vl",function(){return h}),s.d(t,"Pf",function(){return g}),s.d(t,"Bk",function(){return E}),s.d(t,"Zh",function(){return I}),s.d(t,"Kh",function(){return S}),s.d(t,"Lh",function(){return C}),s.d(t,"Ub",function(){return f}),s.d(t,"Tb",function(){return T}),s.d(t,"Qe",function(){return A}),s.d(t,"zk",function(){return b}),s.d(t,"Li",function(){return O}),s.d(t,"eg",function(){return R}),s.d(t,"dg",function(){return N}),s.d(t,"Mh",function(){return M}),s.d(t,"di",function(){return D}),s.d(t,"ci",function(){return y}),s.d(t,"Le",function(){return L}),s.d(t,"Me",function(){return v}),s.d(t,"yk",function(){return P}),s.d(t,"nd",function(){return F}),s.d(t,"od",function(){return w}),s.d(t,"md",function(){return k}),s.d(t,"bh",function(){return x}),s.d(t,"Ij",function(){return U}),s.d(t,"jg",function(){return G}),s.d(t,"kg",function(){return j}),s.d(t,"ig",function(){return H}),s.d(t,"hg",function(){return B}),s.d(t,"pg",function(){return V}),s.d(t,"og",function(){return W}),s.d(t,"ng",function(){return q}),s.d(t,"qg",function(){return z}),s.d(t,"lg",function(){return K}),s.d(t,"mg",function(){return Z}),s.d(t,"Md",function(){return Y}),s.d(t,"Ld",function(){return X}),s.d(t,"Q",function(){return Q}),s.d(t,"ai",function(){return $}),s.d(t,"bi",function(){return J}),s.d(t,"Lf",function(){return ee}),s.d(t,"qf",function(){return te}),s.d(t,"pf",function(){return se}),s.d(t,"rf",function(){return ae}),s.d(t,"Vh",function(){return ne}),s.d(t,"N",function(){return re}),s.d(t,"O",function(){return ie}),s.d(t,"M",function(){return oe}),s.d(t,"tf",function(){return ce}),s.d(t,"sf",function(){return de}),s.d(t,"mf",function(){return le}),s.d(t,"fe",function(){return ue}),s.d(t,"Lk",function(){return _e}),s.d(t,"Qi",function(){return me}),s.d(t,"Ve",function(){return pe}),s.d(t,"Ue",function(){return he}),s.d(t,"Ej",function(){return ge}),s.d(t,"Od",function(){return Ee}),s.d(t,"K",function(){return Ie}),s.d(t,"if",function(){return Se}),s.d(t,"Of",function(){return Ce}),s.d(t,"Nf",function(){return fe}),s.d(t,"xk",function(){return Te}),s.d(t,"wk",function(){return Ae}),s.d(t,"Bl",function(){return be}),s.d(t,"Cl",function(){return Oe}),s.d(t,"Al",function(){return Re}),s.d(t,"El",function(){return Ne}),s.d(t,"Fl",function(){return Me}),s.d(t,"zl",function(){return De}),s.d(t,"Dl",function(){return ye}),s.d(t,"fh",function(){return Le}),s.d(t,"gh",function(){return ve}),s.d(t,"eh",function(){return Pe}),s.d(t,"Ig",function(){return Fe}),s.d(t,"Jg",function(){return we}),s.d(t,"Hg",function(){return ke}),s.d(t,"Yj",function(){return xe}),s.d(t,"Zj",function(){return Ue}),s.d(t,"Xj",function(){return Ge}),s.d(t,"hb",function(){return je}),s.d(t,"fb",function(){return He}),s.d(t,"Ee",function(){return Be}),s.d(t,"gb",function(){return Ve}),s.d(t,"ri",function(){return We}),s.d(t,"dj",function(){return qe}),s.d(t,"fj",function(){return ze}),s.d(t,"ej",function(){return Ke}),s.d(t,"Xd",function(){return Ze}),s.d(t,"Wd",function(){return Ye}),s.d(t,"id",function(){return Xe}),s.d(t,"jd",function(){return Qe}),s.d(t,"Ud",function(){return $e}),s.d(t,"Vd",function(){return Je}),s.d(t,"Td",function(){return et}),s.d(t,"hd",function(){return tt}),s.d(t,"Sc",function(){return st}),s.d(t,"Tl",function(){return at}),s.d(t,"Sl",function(){return nt}),s.d(t,"oc",function(){return rt}),s.d(t,"pc",function(){return it}),s.d(t,"lc",function(){return ot}),s.d(t,"Ni",function(){return ct}),s.d(t,"If",function(){return dt}),s.d(t,"rc",function(){return lt}),s.d(t,"ii",function(){return ut}),s.d(t,"ul",function(){return _t}),s.d(t,"Cg",function(){return mt}),s.d(t,"G",function(){return pt}),s.d(t,"Cf",function(){return ht}),s.d(t,"Df",function(){return gt}),s.d(t,"Bf",function(){return Et}),s.d(t,"Af",function(){return It}),s.d(t,"zf",function(){return St}),s.d(t,"yf",function(){return Ct}),s.d(t,"nh",function(){return ft}),s.d(t,"oh",function(){return Tt}),s.d(t,"ph",function(){return At}),s.d(t,"oi",function(){return bt}),s.d(t,"ni",function(){return Ot}),s.d(t,"Rk",function(){return Rt}),s.d(t,"Qk",function(){return Nt}),s.d(t,"th",function(){return Mt}),s.d(t,"sh",function(){return Dt}),s.d(t,"Ug",function(){return yt}),s.d(t,"Tg",function(){return Lt}),s.d(t,"Sg",function(){return vt}),s.d(t,"Ng",function(){return Pt}),s.d(t,"Mg",function(){return Ft}),s.d(t,"Kg",function(){return wt}),s.d(t,"Lg",function(){return kt}),s.d(t,"Qg",function(){return xt}),s.d(t,"bb",function(){return Ut}),s.d(t,"Pb",function(){return Gt}),s.d(t,"Ob",function(){return jt}),s.d(t,"Nb",function(){return Ht}),s.d(t,"ch",function(){return Bt}),s.d(t,"dh",function(){return Vt}),s.d(t,"Og",function(){return Wt}),s.d(t,"he",function(){return qt}),s.d(t,"ge",function(){return zt}),s.d(t,"bk",function(){return Kt}),s.d(t,"ck",function(){return Zt}),s.d(t,"ak",function(){return Yt}),s.d(t,"li",function(){return Xt}),s.d(t,"mi",function(){return Qt}),s.d(t,"ki",function(){return $t}),s.d(t,"Uk",function(){return Jt}),s.d(t,"Vk",function(){return es}),s.d(t,"Tk",function(){return ts}),s.d(t,"tl",function(){return ss}),s.d(t,"sl",function(){return as}),s.d(t,"lf",function(){return ns}),s.d(t,"db",function(){return rs}),s.d(t,"Z",function(){return is}),s.d(t,"W",function(){return os}),s.d(t,"Zf",function(){return cs}),s.d(t,"mh",function(){return ds}),s.d(t,"lh",function(){return ls}),s.d(t,"Vg",function(){return us}),s.d(t,"Yf",function(){return _s}),s.d(t,"yd",function(){return ms}),s.d(t,"fk",function(){return ps}),s.d(t,"X",function(){return hs}),s.d(t,"jk",function(){return gs}),s.d(t,"dk",function(){return Es}),s.d(t,"ek",function(){return Is}),s.d(t,"kk",function(){return Ss}),s.d(t,"gk",function(){return Cs}),s.d(t,"lk",function(){return fs}),s.d(t,"ik",function(){return Ts}),s.d(t,"hk",function(){return As}),s.d(t,"Kk",function(){return bs}),s.d(t,"Rb",function(){return Os}),s.d(t,"Qb",function(){return Rs}),s.d(t,"Lb",function(){return Ns}),s.d(t,"Kb",function(){return Ms}),s.d(t,"Gd",function(){return Ds}),s.d(t,"Hd",function(){return ys}),s.d(t,"Fd",function(){return Ls}),s.d(t,"Zd",function(){return vs}),s.d(t,"ae",function(){return Ps}),s.d(t,"Yd",function(){return Fs}),s.d(t,"wi",function(){return ws}),s.d(t,"xi",function(){return ks}),s.d(t,"vi",function(){return xs}),s.d(t,"nf",function(){return Us}),s.d(t,"ee",function(){return Gs}),s.d(t,"Si",function(){return js}),s.d(t,"Ri",function(){return Hs}),s.d(t,"Wi",function(){return Bs}),s.d(t,"Ti",function(){return Vs}),s.d(t,"Vi",function(){return Ws}),s.d(t,"Ui",function(){return qs}),s.d(t,"Yi",function(){return zs}),s.d(t,"vh",function(){return Ks}),s.d(t,"wh",function(){return Zs}),s.d(t,"uh",function(){return Ys}),s.d(t,"kh",function(){return Xs}),s.d(t,"ce",function(){return Qs}),s.d(t,"de",function(){return $s}),s.d(t,"be",function(){return Js}),s.d(t,"ib",function(){return ea}),s.d(t,"jb",function(){return ta}),s.d(t,"rh",function(){return sa}),s.d(t,"qh",function(){return aa}),s.d(t,"vk",function(){return na}),s.d(t,"uk",function(){return ra}),s.d(t,"tk",function(){return ia}),s.d(t,"Xi",function(){return oa}),s.d(t,"pi",function(){return ca}),s.d(t,"qi",function(){return da}),s.d(t,"je",function(){return la}),s.d(t,"ke",function(){return ua}),s.d(t,"ie",function(){return _a}),s.d(t,"ld",function(){return ma}),s.d(t,"kd",function(){return pa}),s.d(t,"cb",function(){return ha}),s.d(t,"ab",function(){return ga}),s.d(t,"eb",function(){return Ea}),s.d(t,"we",function(){return Ia}),s.d(t,"ue",function(){return Sa}),s.d(t,"ve",function(){return Ca}),s.d(t,"uj",function(){return fa}),s.d(t,"tj",function(){return Ta}),s.d(t,"wj",function(){return Aa}),s.d(t,"vj",function(){return ba}),s.d(t,"Bj",function(){return Oa}),s.d(t,"Cj",function(){return Ra}),s.d(t,"Aj",function(){return Na}),s.d(t,"gj",function(){return Ma}),s.d(t,"yj",function(){return Da}),s.d(t,"zj",function(){return ya}),s.d(t,"rj",function(){return La}),s.d(t,"sj",function(){return va}),s.d(t,"qj",function(){return Pa}),s.d(t,"pj",function(){return Fa}),s.d(t,"oj",function(){return wa}),s.d(t,"nj",function(){return ka}),s.d(t,"jj",function(){return xa}),s.d(t,"ij",function(){return Ua}),s.d(t,"hj",function(){return Ga}),s.d(t,"lj",function(){return ja}),s.d(t,"mj",function(){return Ha}),s.d(t,"kj",function(){return Ba}),s.d(t,"Vc",function(){return Va}),s.d(t,"Wc",function(){return Wa}),s.d(t,"Uc",function(){return qa}),s.d(t,"Tf",function(){return za}),s.d(t,"Sf",function(){return Ka}),s.d(t,"Fh",function(){return Za}),s.d(t,"Gh",function(){return Ya}),s.d(t,"Hh",function(){return Xa}),s.d(t,"af",function(){return Qa}),s.d(t,"bf",function(){return $a}),s.d(t,"Ze",function(){return Ja}),s.d(t,"hf",function(){return en}),s.d(t,"df",function(){return tn}),s.d(t,"cf",function(){return sn}),s.d(t,"Ye",function(){return an}),s.d(t,"Xe",function(){return nn}),s.d(t,"We",function(){return rn}),s.d(t,"ef",function(){return on}),s.d(t,"yb",function(){return cn}),s.d(t,"zb",function(){return dn}),s.d(t,"xb",function(){return ln}),s.d(t,"rb",function(){return un}),s.d(t,"ub",function(){return _n}),s.d(t,"vb",function(){return mn}),s.d(t,"tb",function(){return pn}),s.d(t,"sb",function(){return hn}),s.d(t,"Yg",function(){return gn}),s.d(t,"Zg",function(){return En}),s.d(t,"Xg",function(){return In}),s.d(t,"Wg",function(){return Sn}),s.d(t,"ze",function(){return Cn}),s.d(t,"xe",function(){return fn}),s.d(t,"ye",function(){return Tn}),s.d(t,"Oh",function(){return An}),s.d(t,"Ph",function(){return bn}),s.d(t,"Qh",function(){return On}),s.d(t,"Nh",function(){return Rn}),s.d(t,"b",function(){return Nn}),s.d(t,"J",function(){return Mn}),s.d(t,"Kf",function(){return Dn}),s.d(t,"gi",function(){return yn}),s.d(t,"a",function(){return Ln}),s.d(t,"jf",function(){return vn}),s.d(t,"xj",function(){return Pn}),s.d(t,"Ak",function(){return Fn}),s.d(t,"s",function(){return wn}),s.d(t,"t",function(){return kn}),s.d(t,"r",function(){return xn}),s.d(t,"e",function(){return Un}),s.d(t,"d",function(){return Gn}),s.d(t,"p",function(){return jn}),s.d(t,"q",function(){return Hn}),s.d(t,"o",function(){return Bn}),s.d(t,"j",function(){return Vn}),s.d(t,"l",function(){return Wn}),s.d(t,"Fe",function(){return qn}),s.d(t,"h",function(){return zn}),s.d(t,"i",function(){return Kn}),s.d(t,"g",function(){return Zn}),s.d(t,"y",function(){return Yn}),s.d(t,"m",function(){return Xn}),s.d(t,"k",function(){return Qn}),s.d(t,"n",function(){return $n}),s.d(t,"f",function(){return Jn}),s.d(t,"tc",function(){return er}),s.d(t,"uc",function(){return tr}),s.d(t,"sc",function(){return sr}),s.d(t,"Gi",function(){return ar}),s.d(t,"kf",function(){return nr}),s.d(t,"w",function(){return rr}),s.d(t,"x",function(){return ir}),s.d(t,"v",function(){return or}),s.d(t,"Pg",function(){return cr}),s.d(t,"yl",function(){return dr}),s.d(t,"Rg",function(){return lr}),s.d(t,"Tj",function(){return ur}),s.d(t,"Uj",function(){return _r}),s.d(t,"Pj",function(){return mr}),s.d(t,"Qj",function(){return pr}),s.d(t,"Oj",function(){return hr}),s.d(t,"Nj",function(){return gr}),s.d(t,"Lj",function(){return Er}),s.d(t,"Jj",function(){return Ir}),s.d(t,"Kj",function(){return Sr}),s.d(t,"Sj",function(){return Cr}),s.d(t,"Rj",function(){return fr}),s.d(t,"Mj",function(){return Tr}),s.d(t,"Uf",function(){return Ar}),s.d(t,"oe",function(){return br}),s.d(t,"Rc",function(){return Or}),s.d(t,"Qc",function(){return Rr}),s.d(t,"qe",function(){return Nr}),s.d(t,"re",function(){return Mr}),s.d(t,"pe",function(){return Dr}),s.d(t,"te",function(){return yr}),s.d(t,"se",function(){return Lr}),s.d(t,"U",function(){return vr}),s.d(t,"V",function(){return Pr}),s.d(t,"T",function(){return Fr}),s.d(t,"kl",function(){return wr}),s.d(t,"ll",function(){return kr}),s.d(t,"hl",function(){return xr}),s.d(t,"jl",function(){return Ur}),s.d(t,"il",function(){return Gr}),s.d(t,"Zk",function(){return jr}),s.d(t,"gl",function(){return Hr}),s.d(t,"el",function(){return Br}),s.d(t,"fl",function(){return Vr}),s.d(t,"dl",function(){return Wr}),s.d(t,"bl",function(){return qr}),s.d(t,"cl",function(){return zr}),s.d(t,"al",function(){return Kr}),s.d(t,"Sk",function(){return Zr}),s.d(t,"Ke",function(){return Yr}),s.d(t,"Fg",function(){return Xr}),s.d(t,"Gg",function(){return Qr}),s.d(t,"Mb",function(){return $r}),s.d(t,"Ll",function(){return Jr}),s.d(t,"Kl",function(){return ei}),s.d(t,"Hl",function(){return ti}),s.d(t,"Gl",function(){return si}),s.d(t,"Jl",function(){return ai}),s.d(t,"Il",function(){return ni}),s.d(t,"Nl",function(){return ri}),s.d(t,"Ml",function(){return ii}),s.d(t,"Je",function(){return oi}),s.d(t,"cd",function(){return ci}),s.d(t,"bd",function(){return di}),s.d(t,"ed",function(){return li}),s.d(t,"fd",function(){return ui}),s.d(t,"dd",function(){return _i}),s.d(t,"ad",function(){return mi}),s.d(t,"Zc",function(){return pi}),s.d(t,"Dd",function(){return hi}),s.d(t,"Ed",function(){return gi}),s.d(t,"Rd",function(){return Ei}),s.d(t,"Sd",function(){return Ii}),s.d(t,"Qd",function(){return Si}),s.d(t,"I",function(){return Ci}),s.d(t,"De",function(){return fi}),s.d(t,"ah",function(){return Ti}),s.d(t,"He",function(){return Ai}),s.d(t,"Ie",function(){return bi}),s.d(t,"Ge",function(){return Oi}),s.d(t,"Xc",function(){return Ri}),s.d(t,"ff",function(){return Ni}),s.d(t,"gf",function(){return Mi}),s.d(t,"Bg",function(){return Di}),s.d(t,"xf",function(){return yi}),s.d(t,"Bi",function(){return Li}),s.d(t,"Di",function(){return vi}),s.d(t,"Ci",function(){return Pi}),s.d(t,"Mi",function(){return Fi}),s.d(t,"Xf",function(){return wi}),s.d(t,"Wf",function(){return ki}),s.d(t,"Be",function(){return xi}),s.d(t,"Ae",function(){return Ui}),s.d(t,"zh",function(){return Gi}),s.d(t,"Bh",function(){return ji}),s.d(t,"zg",function(){return Hi}),s.d(t,"yg",function(){return Bi}),s.d(t,"Ag",function(){return Vi}),s.d(t,"xg",function(){return Wi}),s.d(t,"wg",function(){return qi}),s.d(t,"Jd",function(){return zi}),s.d(t,"Kd",function(){return Ki}),s.d(t,"Id",function(){return Zi}),s.d(t,"me",function(){return Yi}),s.d(t,"ne",function(){return Xi}),s.d(t,"le",function(){return Qi}),s.d(t,"yh",function(){return $i}),s.d(t,"Mf",function(){return Ji}),s.d(t,"Ah",function(){return eo}),s.d(t,"Zi",function(){return to}),s.d(t,"xh",function(){return so}),s.d(t,"kb",function(){return ao}),s.d(t,"Ne",function(){return no}),s.d(t,"Oe",function(){return ro}),s.d(t,"ql",function(){return io}),s.d(t,"pl",function(){return oo}),s.d(t,"vf",function(){return co}),s.d(t,"wf",function(){return lo}),s.d(t,"uf",function(){return uo}),s.d(t,"Cd",function(){return _o}),s.d(t,"qd",function(){return mo}),s.d(t,"vd",function(){return po}),s.d(t,"rd",function(){return ho}),s.d(t,"wd",function(){return go}),s.d(t,"pd",function(){return Eo}),s.d(t,"ud",function(){return Io}),s.d(t,"Th",function(){return So}),s.d(t,"Uh",function(){return Co}),s.d(t,"Sh",function(){return fo}),s.d(t,"Bd",function(){return To}),s.d(t,"Ad",function(){return Ao}),s.d(t,"zd",function(){return bo}),s.d(t,"hh",function(){return Oo}),s.d(t,"ih",function(){return Ro}),s.d(t,"jh",function(){return No}),s.d(t,"td",function(){return Mo}),s.d(t,"sd",function(){return Do}),s.d(t,"Se",function(){return yo}),s.d(t,"Te",function(){return Lo}),s.d(t,"Re",function(){return vo}),s.d(t,"cj",function(){return Po}),s.d(t,"bj",function(){return Fo}),s.d(t,"B",function(){return wo}),s.d(t,"C",function(){return ko}),s.d(t,"D",function(){return xo}),s.d(t,"z",function(){return Uo}),s.d(t,"A",function(){return Go}),s.d(t,"rg",function(){return jo}),s.d(t,"sg",function(){return Ho}),s.d(t,"gg",function(){return Bo}),s.d(t,"tg",function(){return Vo}),s.d(t,"ug",function(){return Wo}),s.d(t,"vg",function(){return qo}),s.d(t,"fg",function(){return zo}),s.d(t,"Ih",function(){return Ko}),s.d(t,"Jh",function(){return Zo}),s.d(t,"fi",function(){return Yo}),s.d(t,"ji",function(){return Xo}),s.d(t,"Ei",function(){return Qo}),s.d(t,"Fi",function(){return $o}),s.d(t,"Ff",function(){return Jo}),s.d(t,"Ef",function(){return ec}),s.d(t,"Oi",function(){return tc}),s.d(t,"Pi",function(){return sc}),s.d(t,"Wk",function(){return ac}),s.d(t,"Xk",function(){return nc}),s.d(t,"Yk",function(){return rc}),s.d(t,"Fj",function(){return ic}),s.d(t,"Gj",function(){return oc}),s.d(t,"Qf",function(){return cc}),s.d(t,"Rf",function(){return dc}),s.d(t,"Bb",function(){return lc}),s.d(t,"Ab",function(){return uc}),s.d(t,"Eb",function(){return _c}),s.d(t,"Ib",function(){return mc}),s.d(t,"Fb",function(){return pc}),s.d(t,"Cb",function(){return hc}),s.d(t,"Jb",function(){return gc}),s.d(t,"Hb",function(){return Ec}),s.d(t,"Db",function(){return Ic}),s.d(t,"S",function(){return Sc}),s.d(t,"R",function(){return Cc}),s.d(t,"Gf",function(){return fc}),s.d(t,"Hf",function(){return Tc}),s.d(t,"F",function(){return Ac}),s.d(t,"E",function(){return bc}),s.d(t,"c",function(){return Oc}),s.d(t,"rk",function(){return Rc}),s.d(t,"mk",function(){return Nc}),s.d(t,"sk",function(){return Mc}),s.d(t,"ok",function(){return Dc}),s.d(t,"nk",function(){return yc}),s.d(t,"pk",function(){return Lc}),s.d(t,"qk",function(){return vc}),s.d(t,"Hi",function(){return Pc}),s.d(t,"Lc",function(){return Fc}),s.d(t,"Bc",function(){return wc}),s.d(t,"Ac",function(){return kc}),s.d(t,"zc",function(){return xc}),s.d(t,"yc",function(){return Uc}),s.d(t,"Gb",function(){return Gc}),s.d(t,"Dc",function(){return jc}),s.d(t,"Cc",function(){return Hc}),s.d(t,"Ic",function(){return Bc}),s.d(t,"Ec",function(){return Vc}),s.d(t,"Yc",function(){return Wc}),s.d(t,"Pc",function(){return qc}),s.d(t,"Tc",function(){return zc}),s.d(t,"gd",function(){return Kc}),s.d(t,"Gc",function(){return Zc}),s.d(t,"Nc",function(){return Yc}),s.d(t,"Oc",function(){return Xc}),s.d(t,"Mc",function(){return Qc}),s.d(t,"Hc",function(){return $c}),s.d(t,"Fc",function(){return Jc}),s.d(t,"Kc",function(){return ed}),s.d(t,"Jc",function(){return td}),s.d(t,"wc",function(){return sd}),s.d(t,"xc",function(){return ad}),s.d(t,"vc",function(){return nd}),s.d(t,"Pe",function(){return rd}),s.d(t,"ui",function(){return id}),s.d(t,"ti",function(){return od}),s.d(t,"si",function(){return cd}),s.d(t,"hi",function(){return dd}),s.d(t,"Pl",function(){return ld}),s.d(t,"nl",function(){return ud}),s.d(t,"ei",function(){return _d}),s.d(t,"Ol",function(){return md}),s.d(t,"Vj",function(){return pd}),s.d(t,"Wj",function(){return hd}),s.d(t,"L",function(){return gd}),s.d(t,"xd",function(){return Ed}),s.d(t,"Jk",function(){return Id}),s.d(t,"Ce",function(){return Sd}),s.d(t,"P",function(){return Cd}),s.d(t,"ol",function(){return fd}),s.d(t,"Yh",function(){return Td}),s.d(t,"Xh",function(){return Ad}),s.d(t,"Wh",function(){return bd}),s.d(t,"nc",function(){return Od}),s.d(t,"mc",function(){return Rd}),s.d(t,"Pk",function(){return Nd}),s.d(t,"Ok",function(){return Md}),s.d(t,"Nk",function(){return Dd}),s.d(t,"Mk",function(){return yd}),s.d(t,"xl",function(){return Ld}),s.d(t,"wl",function(){return vd}),s.d(t,"Ki",function(){return Pd}),s.d(t,"Ji",function(){return Fd}),s.d(t,"Ii",function(){return wd}),s.d(t,"ag",function(){return kd}),s.d(t,"Ul",function(){return xd}),s.d(t,"aj",function(){return Ud}),s.d(t,"Eg",function(){return Gd}),s.d(t,"Dg",function(){return jd}),s.d(t,"Ck",function(){return Hd}),s.d(t,"Gk",function(){return Bd}),s.d(t,"Fk",function(){return Vd}),s.d(t,"Ik",function(){return Wd}),s.d(t,"Hk",function(){return qd}),s.d(t,"Dk",function(){return zd}),s.d(t,"Ek",function(){return Kd}),s.d(t,"H",function(){return Zd}),s.d(t,"Pd",function(){return Yd}),s.d(t,"rl",function(){return Xd}),s.d(t,"of",function(){return Qd}),s.d(t,"Sb",function(){return $d}),s.d(t,"Dj",function(){return Jd}),s.d(t,"Nd",function(){return el}),s.d(t,"Rh",function(){return tl}),s.d(t,"zi",function(){return sl}),s.d(t,"Ai",function(){return al}),s.d(t,"yi",function(){return nl}),s.d(t,"qb",function(){return rl}),s.d(t,"nb",function(){return il}),s.d(t,"mb",function(){return ol}),s.d(t,"ob",function(){return cl}),s.d(t,"lb",function(){return dl}),s.d(t,"pb",function(){return ll}),s.d(t,"Eh",function(){return ul}),s.d(t,"Dh",function(){return _l}),s.d(t,"Ch",function(){return ml}),s.d(t,"Yb",function(){return pl}),s.d(t,"Zb",function(){return hl}),s.d(t,"Xb",function(){return gl}),s.d(t,"bc",function(){return El}),s.d(t,"cc",function(){return Il}),s.d(t,"ac",function(){return Sl}),s.d(t,"Wb",function(){return Cl}),s.d(t,"Vb",function(){return fl}),s.d(t,"gc",function(){return Tl}),s.d(t,"hc",function(){return Al}),s.d(t,"fc",function(){return bl}),s.d(t,"ec",function(){return Ol}),s.d(t,"dc",function(){return Rl}),s.d(t,"kc",function(){return Nl}),s.d(t,"jc",function(){return Ml}),s.d(t,"ic",function(){return Dl});const a="INITIAL_STATE",n="LAUNCH_COMPLETED",r="WINDOW_RESIZING",i="WINDOW_RESIZED",o="APPLICATION_VISIBILITY_DID_CHANGE",c="CANCEL_APP_RELOAD",d="CONFIRM_APP_RELOAD",l="SHOW_APP_RELOAD",u="LAUNCH_ERROR",_="UNUSUAL_DISCOUNT",m="HEADER_NAVIGATION_SELECTED",p="ACCOUNT_MENU_SHOWN",h="USER_LOGGED_OUT",g="HOME_BUTTON_CLICKED",E="TIMEZONE_CHANGE_DETECTED",I="PREFERRED_TIMEZONE_CHANGE_REJECTED",S="ONLINE_STATUS_CHANGED",C="OPEN_PAGE_REQUESTED",f="CLOSE_PAGE_REQUESTED",T="CLOSE_ALL_PAGES_REQUESTED",A="EXTERNAL_LINK_CLICKED",b="SYNC_DATA",O="ROTATE_AD_ON_LIST_SCROLL",R="LAUNCH_PAGE_REQUESTED",N="LAUNCH_FAILED",M="OPEN_TABS_MENU",D="PREVIEW_MESSAGE_REQUESTED",y="PREVIEW_MESSAGE_CLOSED",L="EXPAND_ACCOUNT_LIST",v="EXPAND_MAILBOXES_LIST",P="SWITCH_MAILBOX",F="CONVERSATIONS_CHANGE_REQUESTED",w="CONVERSATIONS_CHANGE_SUCCEEDED",k="CONVERSATIONS_CHANGE_FAILED",x="MESSAGE_READ_SHOW_IMAGES_REQUESTED",U="SIGNATURE_STATUS_CHANGE_REQUESTED",G="LINK_ENHANCER_FETCH_REQUESTED",j="LINK_ENHANCER_FETCH_SUCCEEDED",H="LINK_ENHANCER_FETCH_FAILED",B="LINK_ENHANCER_ADD_LINK",V="LINK_ENHANCER_RESIZE_LINK",W="LINK_ENHANCER_REMOVE_LINK",q="LINK_ENHANCER_OPEN_LINK",z="LINK_ENHANCER_SHARE_LINK",K="LINK_ENHANCER_MOVE_LINK_BOTTOM",Z="LINK_ENHANCER_MOVE_LINK_INLINE",Y="DARLA_ADS_RECEIVED",X="DARLA_ADS_FAILED",Q="AD_ROTATION_SKIPPED",$="PREMIUM_AD_STARTED",J="PREMIUM_AD_STOPPED",ee="HIDE_RIGHT_PANE_ADS",te="GEMINI_AD_RECEIVED",se="GEMINI_AD_FAILED",ae="GEMINI_AD_REQUESTED",ne="PENCIL_AD_CLICKED",re="AD_FEEDBACK_STARTED",ie="AD_FEEDBACK_SUBMITTED",oe="AD_FEEDBACK_CLOSED",ce="GEMINI_SPONSORED_ASSET_RECEIVED",de="GEMINI_SPONSORED_ASSET_FAILED",le="FLASH_SALE_AD_ENDED",ue="DELETE_PENCIL_AD",_e="TOGGLE_PENCIL_AD_SELECTION",me="SEARCH_AD_RENDERED",pe="FAN_AD_LOAD_SUCCESS",he="FAN_AD_LOAD_ERROR",ge="SHOPPING_CART_AD_RENDERED",Ee="DEALS_SHOPPING_CART_AD_RENDERED",Ie="ADFREE_UPSELL_CANCEL",Se="FEEDBACK_PANEL_GIVE_FEEDBACK",Ce="HOMEPAGE_EXTENSION_PANEL",fe="HOMEPAGE_EXTENSION_CLOSED",Te="SUPPRESSED_UPSELL_SAVE_SUCCEEDED",Ae="SUPPRESSED_UPSELL_SAVE_FAILED",be="V3_MESSAGE_SAVE_REQUESTED",Oe="V3_MESSAGE_SAVE_SUCCEEDED",Re="V3_MESSAGE_SAVE_FAILED",Ne="V3_MESSAGE_SEND_REQUESTED",Me="V3_MESSAGE_SEND_SUCCEEDED",De="V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED",ye="V3_MESSAGE_SEND_FAILED",Le="MESSAGE_SAVE_REQUESTED",ve="MESSAGE_SAVE_SUCCEEDED",Pe="MESSAGE_SAVE_FAILED",Fe="MESSAGE_AUTO_SAVE_REQUESTED",we="MESSAGE_AUTO_SAVE_SUCCEEDED",ke="MESSAGE_AUTO_SAVE_FAILED",xe="SPONSORED_SAVE_TO_INBOX_REQUESTED",Ue="SPONSORED_SAVE_TO_INBOX_SUCCEEDED",Ge="SPONSORED_SAVE_TO_INBOX_FAILED",je="AUTOTAG_DROPDOWN_SHOWN",He="AUTOTAG_CONTACT_SELECTED",Be="EDIT_LIST_DROPDOWN_CONTACT_SELECTED",Ve="AUTOTAG_DROPDOWN_CLOSED",We="RELATED_CONTACTS_CLOSED",qe="SEND",ze="SEND_SUCCESS",Ke="SEND_FAILURE",Ze="DELETE_DRAFT_SUCCEEDED",Ye="DELETE_DRAFT_FAILED",Xe="CONTACT_SUGGESTIONS_REQUESTED",Qe="CONTACT_SUGGESTIONS_SUCCEEDED",$e="DELETE_CONTACT_SUGGESTIONS_REQUESTED",Je="DELETE_CONTACT_SUGGESTIONS_SUCCEEDED",et="DELETE_CONTACT_SUGGESTIONS_FAILED",tt="CONTACT_SUGGESTIONS_FAILED",st="CONTACT_ADDED",at="XOBNIFIED_RESPONDED",nt="XOBNIFIED_FAILED",rt="COMPOSE_NO_ADDRESS_DETECTED",it="COMPOSE_RECIPIENT_LIMIT_EXCEEDED",ot="COMPOSE_ADDRESSING_FAILED",ct="RTE_MORE_MENU_SHOWN",dt="HANDLE_RTE_TOOLBAR_ACTIONS",lt="CONFIRM_DELETE_DIALOG_CLOSED",ut="QUOTED_TEXT_EXPANDED",_t="UPLOAD_PROGRESS_RECEIVED",mt="MAILTO_ACTION_REQUESTED",pt="ADD_BIG_ATTACHMENT",ht="GIF_FETCH_REQUESTED",gt="GIF_FETCH_SUCCEEDED",Et="GIF_FETCH_FAILED",It="GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED",St="GIF_CATEGORIES_CONTENT_FETCH_REQUESTED",Ct="GIF_CATEGORIES_CONTENT_FETCH_FAILED",ft="MORE_RECEIPTS_REQUESTED",Tt="MORE_RECEIPTS_REQUEST_FAILED",At="MORE_RECEIPTS_SUCCESS",bt="RECEIPTS_LIST_SUCCEEDED",Ot="RECEIPTS_LIST_FAILED",Rt="TRAVEL_LIST_SUCCEEDED",Nt="TRAVEL_LIST_FAILED",Mt="MORE_TRAVEL_ITEMS_SUCCEEDED",Dt="MORE_TRAVEL_ITEMS_FAILED",yt="MESSAGE_GROUP_WITH_BODIES_RECEIVED",Lt="MESSAGE_GROUP_WITH_BODIES_FAILED",vt="MESSAGE_GROUP_OPENED",Pt="MESSAGE_BODIES_REQUESTED",Ft="MESSAGE_BODIES_RECEIVED",wt="MESSAGE_BODIES_FAILED",kt="MESSAGE_BODIES_OPEN_GROUP_RECEIVED",xt="MESSAGE_CARD_FOCUSED",Ut="ATTACHMENT_PREVIEW_FAILED",Gt="CHECK_MAIL_RECEIVED_WITH_UPDATES",jt="CHECK_MAIL_RECEIVED_WITH_NO_UPDATES",Ht="CHECK_MAIL_FAILED",Bt="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED",Vt="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED",Wt="MESSAGE_BODY_LINK_CLICKED",qt="DELETE_PREVIEW_REQUESTED",zt="DELETE_PREVIEW_CLOSED",Kt="STAR_CHANGE_REQUESTED",Zt="STAR_CHANGE_SUCCEEDED",Yt="STAR_CHANGE_FAILED",Xt="READ_CHANGE_REQUESTED",Qt="READ_CHANGE_SUCCEEDED",$t="READ_CHANGE_FAILED",Jt="UNDO_MOVE_REQUESTED",es="UNDO_MOVE_SUCCEEDED",ts="UNDO_MOVE_FAILED",ss="UPDATE_ITEMS_SUCCEEDED",as="UPDATE_ITEMS_FAILED",ns="FILE_ATTACHMENT_ADDED",rs="ATTACHMENT_REMOVED",is="ATTACHMENT_DOWNLOADED",os="ALL_ATTACHMENTS_DOWNLOADED",cs="ITEM_LIST_PAGE_SCROLLED",ds="MORE_MESSAGES_REQUEST_SUCCESS",ls="MORE_MESSAGES_REQUEST_FAILED",us="MESSAGE_LIST_TOOLBAR_MENU_SHOWN",_s="ITEMS_DRAG_STARTED",ms="COUPON_ICON_MSG_LIST_CLICKED",ps="STREAM_CURSOR_MOVED",hs="ALL_STREAM_ITEMS_SELECTED",gs="STREAM_ITEMS_SELECTION_CLEARED",Es="STREAM_CONTEXT_MENU",Is="STREAM_CONTEXT_MENU_SHOWN",Ss="STREAM_ITEM_TOGGLED",Cs="STREAM_ITEMS_MULTIPLE_TOGGLE",fs="STREAM_SELECT_CURSOR_MOVED",Ts="STREAM_ITEMS_SELECTION_CHANGED",As="STREAM_ITEMS_RANGE_SELECTED",bs="TOGGLE_LIST_VISIBILITY",Os="CHECK_REPLY_NUDGE_SUCCEEDED",Rs="CHECK_REPLY_NUDGE_FAILED",Ns="CHANGE_FOLDER_SUCCEEDED",Ms="CHANGE_FOLDER_FAILED",Ds="CREATE_FOLDER_REQUESTED",ys="CREATE_FOLDER_SUCCEEDED",Ls="CREATE_FOLDER_FAILED",vs="DELETE_FOLDER_REQUESTED",Ps="DELETE_FOLDER_SUCCEEDED",Fs="DELETE_FOLDER_FAILED",ws="RENAME_FOLDER_REQUESTED",ks="RENAME_FOLDER_SUCCEEDED",xs="RENAME_FOLDER_FAILED",Us="FOLDER_CONTEXT_MENU_REQUESTED",Gs="DELETE_NON_EMPTY_FOLDER_REQUESTED",js="SEARCH_INPUT_FOCUSED",Hs="SEARCH_INPUT_BLURRED",Bs="SEARCH_LIST_ITEMS_REQUESTED",Vs="SEARCH_LIST_ITEMS_BLOCK_RECEIVED",Ws="SEARCH_LIST_ITEMS_RECEIVED",qs="SEARCH_LIST_ITEMS_FAILED",zs="SEARCH_RELEVANCE_CUE_TRIGGERED",Ks="MOVE_ITEMS_REQUESTED",Zs="MOVE_ITEMS_SUCCEEDED",Ys="MOVE_ITEMS_FAILED",Xs="MORE_ITEMS_REQUESTED",Qs="DELETE_ITEMS_REQUESTED",$s="DELETE_ITEMS_SUCCEEDED",Js="DELETE_ITEMS_FAILED",ea="BLOCK_SENDERS_REQUESTED",ta="BLOCK_SENDERS_WITH_DELETE_REQUESTED",sa="MORE_SEARCH_LIST_ITEMS_RECEIVED",aa="MORE_SEARCH_LIST_ITEMS_FAILED",na="SUGGESTIONS_REQUESTED",ra="SUGGESTIONS_RECEIVED",ia="SUGGESTIONS_FAILED",oa="SEARCH_PLA_AD_CLICKED",ca="RECENT_SEARCHES_FAILED",da="RECENT_SEARCHES_SUCCEEDED",la="DELETE_RECENT_SEARCH_REQUESTED",ua="DELETE_RECENT_SEARCH_SUCCEEDED",_a="DELETE_RECENT_SEARCH_FAILED",ma="CONTENT_PROVIDERS_SUCCEEDED",pa="CONTENT_PROVIDERS_FAILED",ha="ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN",ga="ATTACHMENT_OPENED",Ea="ATTACHMENT_ZOOMED",Ia="DOCUMENT_FETCH_SUCCEEDED",Sa="DOCUMENT_FETCH_FAILED",Ca="DOCUMENT_FETCH_REQUESTED",fa="SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED",Ta="SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED",Aa="SETTINGS_MENU_REQUESTED",ba="SETTINGS_MENU_CLOSED",Oa="SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED",Ra="SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED",Na="SETTINGS_SAVE_VACATION_PREFERENCES_FAILED",Ma="SETTINGS_ADD_FILTER_REQUESTED",Da="SETTINGS_SAVE_FILTERS_REQUESTED",ya="SETTINGS_SAVE_FILTERS_SUCCEEDED",La="SETTINGS_LOCATION_CHANGE_REQUESTED",va="SETTINGS_LOCATION_CHANGE_SUCCEEDED",Pa="SETTINGS_LOCATION_CHANGE_FAILED",Fa="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED",wa="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED",ka="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED",xa="SETTINGS_BLOCKED_SENDERS_REQUESTED",Ua="SETTINGS_BLOCKED_SENDERS_RECEIVED",Ga="SETTINGS_BLOCKED_SENDERS_FETCH_FAILED",ja="SETTINGS_CHANGE_REQUESTED",Ha="SETTINGS_CHANGE_SUCCEEDED",Ba="SETTINGS_CHANGE_FAILED",Va="CONTACT_DETAIL_FETCH_REQUESTED",Wa="CONTACT_DETAIL_FETCH_SUCCEEDED",qa="CONTACT_DETAIL_FETCH_FAILED",za="IMPORTANT_CONTACTS_FETCH_SUCCEEDED",Ka="IMPORTANT_CONTACTS_FETCH_FAILED",Za="NOTIFICATION_CLOSED",Ya="NOTIFICATION_PAUSED",Xa="NOTIFICATION_RESUME",Qa="FEATURE_CUE_MARK_AS_SHOWN_REQUESTED",$a="FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED",Ja="FEATURE_CUE_MARK_AS_SHOWN_FAILED",en="FEATURE_TRY_NOW_REQUESTED",tn="FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED",sn="FEATURE_CUE_MARK_AS_SUCCESS_FAILED",an="FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED",nn="FEATURE_CUE_MARK_AS_CLOSE_FAILED",rn="FEATURE_CLOSED",on="FEATURE_CUE_NOTIFICATION_CLOSED",cn="CARD_MARK_AS_SHOWN_REQUESTED",dn="CARD_TRY_NOW_REQUESTED",ln="CARD_CLOSED",un="BROWSER_NOTIFICATIONS_DISPLAYED",_n="BULK_PROGRESS_INITIATED",mn="BULK_PROGRESS_RECEIVED",pn="BULK_CANCEL_REQUESTED",hn="BULK_CANCEL_FAILED",gn="MESSAGE_PRINT_REQUESTED",En="MESSAGE_PRINT_SUCCEEDED",In="MESSAGE_PRINT_CLOSED",Sn="MESSAGE_PRINT_CANCELED",Cn="DOWNLOAD_REQUESTED",fn="DOWNLOAD_COMPLETED",Tn="DOWNLOAD_FAILED",An="OPT_OUT_OF_NORRIN",bn="OPT_OUT_REQUESTED",On="OPT_OUT_SUBMIT_FEEDBACK",Rn="OPT_OUT_CANCEL_FEEDBACK",Nn="ABOUT_YAHOO_MAIL_PAGE_REQUESTED",Mn="ADFREE_MAIL_PAGE_REQUESTED",Dn="HELP_PAGE_REQUESTED",yn="PRIVACY_TERMS_PAGE_REQUESTED",Ln="ABOUT_OUR_ADS_PAGE_REQUESTED",vn="FEEDBACK_SUBMITTED",Pn="SETTINGS_POPOVER_AUTOOPEN_CHANGED",Fn="THEME_MODE_CHANGE_REQUESTED",wn="ACCOUNT_DETAILS_CHANGE_REQUESTED",kn="ACCOUNT_DETAILS_CHANGE_SUCCEEDED",xn="ACCOUNT_DETAILS_CHANGE_FAILED",Un="ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED",Gn="ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED",jn="ACCOUNT_DELETE_REQUESTED",Hn="ACCOUNT_DELETE_SUCCEEDED",Bn="ACCOUNT_DELETE_FAILED",Vn="ACCOUNT_ADD_REQUESTED",Wn="ACCOUNT_ADD_SUCCEEDED",qn="EMAIL_PROVIDER_SELECTED",zn="ACCOUNT_ADD_FAILED",Kn="ACCOUNT_ADD_FINISHED",Zn="ACCOUNT_ADD_ERROR",Yn="ACCOUNT_SETTINGS_CANCEL",Xn="ACCOUNT_ADD_WIZARD_OPENED",Qn="ACCOUNT_ADD_SELECT_PROVIDER",$n="ACCOUNT_DELETE_CONFIRMED",Jn="ACCOUNT_ADD_AUTHORIZED",er="CONFIRM_EMAIL_RESEND_REQUESTED",tr="CONFIRM_EMAIL_RESEND_SUCCEEDED",sr="CONFIRM_EMAIL_RESEND_FAILED",ar="REVIEW_FORWARD_EMAIL",nr="FETCH_PRIMARY_ACCOUNT",rr="ACCOUNT_REAUTH_REQUESTED",ir="ACCOUNT_REAUTH_SUCCEEDED",or="ACCOUNT_REAUTH_FAILED",cr="MESSAGE_CARD_EXPANSION_CHANGED",dr="V3_MESSAGE_CARD_EXPANSION_CHANGED",lr="MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED",ur="SOCIAL_ACCOUNTS_STATUS_RECEIVED",_r="SOCIAL_ACCOUNT_STATUS_FETCH_FAILED",mr="SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED",pr="SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED",hr="SOCIAL_ACCOUNTS_DISCONNECT_FAILED",gr="SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED",Er="SOCIAL_ACCOUNTS_CONNECT_FAILED",Ir="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED",Sr="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED",Cr="SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED",fr="SOCIAL_ACCOUNTS_IMPORT_FAILED",Tr="SOCIAL_ACCOUNTS_CONNECT_REQUESTED",Ar="IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED",br="DISCONNECT_CONTACTS_PROVIDER_REQUESTED",Or="CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED",Rr="CONTACTS_PROVIDERS_STATUS_FETCH_FAILED",Nr="DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED",Mr="DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED",Dr="DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED",yr="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED",Lr="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE",vr="ALIAS_EMAIL_CREATE_REQUESTED",Pr="ALIAS_EMAIL_CREATE_SUCCEEDED",Fr="ALIAS_EMAIL_CREATE_FAILED",wr="UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED",kr="UNSUBSCRIBE_SINGLE_LIST_CLEANED",xr="UNSUBSCRIBE_DIALOG_CLOSED",Ur="UNSUBSCRIBE_EMAIL_REQUESTED",Gr="UNSUBSCRIBE_DISPLAY_LIST",jr="UNSUBSCRIBE_ACTION_TAKEN",Hr="UNSUBSCRIBE_CONFIRM_DIALOG_CLOSED",Br="UNSUBSCRIBE_BY_EMAIL_REQUESTED",Vr="UNSUBSCRIBE_BY_EMAIL_SUCCEEDED",Wr="UNSUBSCRIBE_BY_EMAIL_FAILED",qr="UNSUBSCRIBE_BY_BRAND_REQUESTED",zr="UNSUBSCRIBE_BY_BRAND_SUCCEEDED",Kr="UNSUBSCRIBE_BY_BRAND_FAILED",Zr="TUTORIAL_VIDEO_PLAYED",Yr="EXCEPTION_OCCURRED",Xr="MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED",Qr="MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED",$r="CHANNEL_CHANGED",Jr="VIDEO_PLAYER_OPENED",ei="VIDEO_PLAYER_CLOSED",ti="VIDEO_CHANNELS_METADATA_RECEIVED",si="VIDEO_CHANNELS_METADATA_FAILED",ai="VIDEO_CHANNEL_RECEIVED",ni="VIDEO_CHANNEL_FAILED",ri="VIDEO_PLAYER_PLAYED",ii="VIDEO_PLAYER_PAUSED",oi="EMPTY_FOLDER_VIDEO_FETCH_CHANNEL",ci="CONTACT_PICKER_OPENED",di="CONTACT_PICKER_GROUP_CHANGED",li="CONTACT_SAVE_REQUESTED",ui="CONTACT_SAVE_SUCCEEDED",_i="CONTACT_SAVE_FAILED",mi="CONTACT_PHOTO_UPLOAD_SUCCEEDED",pi="CONTACT_PHOTO_UPLOAD_FAILED",hi="CREATE_CONTACT_FAILED",gi="CREATE_CONTACT_SUCCEEDED",Ei="DELETE_CONTACT_REQUESTED",Ii="DELETE_CONTACT_SUCCEEDED",Si="DELETE_CONTACT_FAILED",Ci="ADD_TO_CONTACTS",fi="EDIT_CONTACT_FROM_CARD",Ti="MESSAGE_READ_AD_ROTATION_TIMER",Ai="EMOJI_PICKER_CLOSED",bi="EMOJI_PICKER_OPENED",Oi="EMOJI_CATEGORY_CHANGED",Ri="CONTACT_DRAG_DROP",Ni="FEATURE_DISABLED",Mi="FEATURE_ENABLED",Di="MAILBOX_NOT_SYNCING",yi="GET_INVITE_INFO_REQUESTED",Li="RESPOND_TO_INVITE",vi="RESPOND_TO_INVITE_SUCCEEDED",Pi="RESPOND_TO_INVITE_FAILED",Fi="RSVP_NAVIGATE_TO_CALENDAR",wi="INVITEINFO_FETCH_SUCCEEDED",ki="INVITEINFO_FETCH_FAILED",xi="DRAWER_OPENED",Ui="DRAWER_CLOSED",Gi="NAVIGATE_TO_MAIL_PRO",ji="NAVIGATE_TO_WIDER_PROMO",Hi="LOCATION_SUGGEST_REQUESTED",Bi="LOCATION_SUGGEST_FAILED",Vi="LOCATION_SUGGEST_SUCCEEDED",Wi="LIST_SAVED_SEARCH_SUCCEEDED",qi="LIST_SAVED_SEARCH_FAILED",zi="CREATE_SAVED_SEARCH_REQUESTED",Ki="CREATE_SAVED_SEARCH_SUCCEEDED",Zi="CREATE_SAVED_SEARCH_FAILED",Yi="DELETE_SAVED_SEARCH_REQUESTED",Xi="DELETE_SAVED_SEARCH_SUCCEEDED",Qi="DELETE_SAVED_SEARCH_FAILED",$i="NAVIGATE_TO_HIPMUNK",Ji="HIPMUNK_CARD_RENDERED",eo="NAVIGATE_TO_SEATGEEK",to="SEATGEEK_CARD_RENDERED",so="NAVIGATE_TO_BOOKING",ao="BOOKING_CARD_RENDERED",no="EXPIRING_COUPON_CLIPPER_SHOWN",ro="EXPIRING_COUPON_EXPAND_STATE_CHANGED",io="UPDATE_BUSINESS_LISTING_SUCCEEDED",oo="UPDATE_BUSINESS_LISTING_FAILED",co="GEO_LOCATION_UPDATE_REQUESTED",lo="GEO_LOCATION_UPDATE_SUCCEEDED",uo="GEO_LOCATION_UPDATE_FAILED",_o="COUPON_STORE_LOCATOR_SHOWN",mo="COUPONS_ADD_TAG_DECO_REQUESTED",po="COUPONS_REMOVE_TAG_DECO_REQUESTED",ho="COUPONS_ADD_TAG_DECO_SUCCEEDED",go="COUPONS_REMOVE_TAG_DECO_SUCCEEDED",Eo="COUPONS_ADD_TAG_DECO_FAILED",Io="COUPONS_REMOVE_TAG_DECO_FAILED",So="PARENT_MESSAGE_METADATA_REQUESTED",Co="PARENT_MESSAGE_METADATA_SUCCEEDED",fo="PARENT_MESSAGE_METADATA_FAILED",To="COUPON_RECOMMENDATIONS_OPENED",Ao="COUPON_RECOMMENDATIONS_CLOSED",bo="COUPON_RECOMMENDATIONS_AD_CLICKED",Oo="MORE_COUPONS_REQUESTED",Ro="MORE_COUPONS_REQUEST_FAILED",No="MORE_COUPONS_SUCCESS",Mo="COUPONS_LIST_SUCCEEDED",Do="COUPONS_LIST_FAILED",yo="EXTRACT_COUPON_REQUESTED",Lo="EXTRACT_COUPON_SUCCEEDED",vo="EXTRACT_COUPON_FAILED",Po="SELF_EXTRACT_COUPON_MODAL_OPENED",Fo="SELF_EXTRACT_COUPON_MODAL_CLOSED",wo="ACTIVATE_OFFER_FAILED",ko="ACTIVATE_OFFER_REQUESTED",xo="ACTIVATE_OFFER_SUCCEEDED",Uo="ACTIVATED_OFFERS_LIST_FAILED",Go="ACTIVATED_OFFERS_LIST_SUCCEEDED",jo="LINK_MODAL_CLOSED",Ho="LINK_MODAL_OPENED",Bo="LINK_CONTEXTUAL_MODAL_OPENED",Vo="LINK_RETAILER_FAILED",Wo="LINK_RETAILER_REQUESTED",qo="LINK_RETAILER_SUCCEEDED",zo="LINKED_CARD_SHOWN",Ko="OFFERS_LIST_FAILED",Zo="OFFERS_LIST_SUCCEEDED",Yo="PRINT_OFFERS_REQUESTED",Xo="QUOTIENT_MODAL_SHOWN",Qo="RETAILERS_LIST_FAILED",$o="RETAILERS_LIST_SUCCEEDED",Jo="GROCERIES_CATEGORY_LIST_SUCCEEDED",ec="GROCERIES_CATEGORY_LIST_FAILED",tc="SAVINGS_LIST_FAILED",sc="SAVINGS_LIST_SUCCEEDED",ac="UNLINK_RETAILER_FAILED",nc="UNLINK_RETAILER_REQUESTED",rc="UNLINK_RETAILER_SUCCEEDED",ic="SHOPRUNNER_RETAILERS_LIST_FAILED",oc="SHOPRUNNER_RETAILERS_LIST_SUCCEEDED",cc="IC_USER_PROFILE_FAILED",dc="IC_USER_PROFILE_SUCCEEDED",lc="CATEGORY_FOLLOWING_LIST_SUCCEEDED",uc="CATEGORY_FOLLOWING_LIST_FAILED",_c="CATEGORY_FOLLOW_REQUESTED",mc="CATEGORY_UNFOLLOW_REQUESTED",pc="CATEGORY_FOLLOW_SUCCEEDED",hc="CATEGORY_FOLLOW_FAILED",gc="CATEGORY_UNFOLLOW_SUCCEEDED",Ec="CATEGORY_UNFOLLOW_FAILED",Ic="CATEGORY_FOLLOW_FAILURE_RESET",Sc="AFFILIATE_COUPONS_SUCCEEDED",Cc="AFFILIATE_COUPONS_FAILED",fc="HALLOWEEN_BANNER_FAILED",Tc="HALLOWEEN_BANNER_SUCCEEDED",Ac="ADBLOCK_UPSELL_OPTION_CLICKED",bc="ADBLOCK_DETECTED",Oc="ABP_DETECTED",Rc="SUBSCRIPTION_SELECTED",Nc="SUBSCRIPTION_FAILURE",Mc="SUBSCRIPTION_SUCCESS",Dc="SUBSCRIPTION_LIST_FETCH_SUCCEEDED",yc="SUBSCRIPTION_LIST_FETCH_FAILED",Lc="SUBSCRIPTION_LIST_FILTER_CHANGED",vc="SUBSCRIPTION_LIST_SORT_ORDER_CHANGED",Pc="RIGHT_RAIL_COMMS_ICON_CLICKED",Fc="CONTACTS_PANE_LIST_FILTER_CHANGED",wc="CONTACTS_LIST_FETCH_SUCCEEDED",kc="CONTACTS_LIST_FETCH_FAILED",xc="CONTACTS_GROUP_FETCH_SUCCEEDED",Uc="CONTACTS_GROUP_FETCH_FAILED",Gc="CATEGORY_LIST_EXPANSION_TOGGLED",jc="CONTACTS_PANE_CONTACT_CLICKED",Hc="CONTACTS_PANE_BACK_BUTTON_CLICKED",Bc="CONTACTS_PANE_EDIT_BUTTON_CLICKED",Vc="CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED",Wc="CONTACT_EDIT_CANCELLED",qc="CONTACTS_PANE_SEARCHED",zc="CONTACT_CREATE_CLICKED",Kc="CONTACT_SEARCH_CLOSED",Zc="CONTACTS_PANE_CREATE_GROUP_REQUESTED",Yc="CONTACTS_PANE_SAVE_GROUP_REQUESTED",Xc="CONTACTS_PANE_SAVE_GROUP_SUCCEEDED",Qc="CONTACTS_PANE_SAVE_GROUP_FAILED",$c="CONTACTS_PANE_CREATE_GROUP_SUCCEEDED",Jc="CONTACTS_PANE_CREATE_GROUP_FAILED",ed="CONTACTS_PANE_GROUP_CHANGED",td="CONTACTS_PANE_EDIT_GROUP",sd="CONTACTS_GROUP_DELETE_REQUESTED",ad="CONTACTS_GROUP_DELETE_SUCCEEDED",nd="CONTACTS_GROUP_DELETE_FAILED",rd="EXPORT_ALL_CONTACTS_REQUESTED",id="RELATED_SEARCHES_FETCH_SUCCEEDED",od="RELATED_SEARCHES_FETCH_FAILED",cd="RELATED_SEARCHES_CARD_CLICKED",dd="PUSH_NOTIFICATIONS_REQUEST_GRANTED",ld="VIGLINK_CLICKED",ud="UNUSUAL_DISCOUNT_VIGLINK_CLICKED",_d="PRICE_GRABBER_LINK_CLICKED",md="VIEW_RAW_MESSAGE",pd="SPONSORED_MOMENT_CLICKED",hd="SPONSORED_MOMENT_CLOSED",gd="AD_BLOCK_COUPON_CLICKED",Ed="COUPONS_SEARCH_TOP_DEAL_CLICKED",Id="TOGGLE_DETAIL_PANE_EXPANSION",Sd="EBAY_WARRANTY_UPSELL_CLICKED",Cd="AD_FORMAT_SELECTION_CLOSED",fd="UPDATE_AD_FORMAT_SELECTION_CLICKED",Td="POST_LAUNCH_SYNC_SUCCEEDED",Ad="POST_LAUNCH_SYNC_FAILED",bd="POST_LAUNCH_ATTRIBUTES_RECEIVED",Od="COMPOSE_ATTRIBUTES_RECEIVED",Rd="COMPOSE_ATTRIBUTES_FETCH_FAILED",Nd="TOP_RETAILERS_REQUEST_SUCCEEDED",Md="TOP_RETAILERS_REQUEST_FAILED",Dd="TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED",yd="TOP_DEAL_CATEGORIES_REQUEST_FAILED",Ld="USER_NAME_PHONE_REG_UPSELL_LOADED",vd="USER_NAME_PHONE_REG_CANCEL_AUTH",Pd="RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED",Fd="RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED",wd="RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED",kd="LASTPASS_UPSELL_CLICKED",xd="YFINANCE_UPSELL_CLICKED",Ud="SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED",Gd="MEMBERSHIP_REWARDS_LAUNCH_SUCCESS",jd="MEMBERSHIP_REWARDS_LAUNCH_FAILED",Hd="TMR_NAVIGATE_TO_ATOS",Bd="TMR_REGISTER_ACTION_SUCCESS",Vd="TMR_REGISTER_ACTION_FAILED",Wd="TMR_TAB_CHANGE",qd="TMR_SPIN_COMPLETED",zd="TMR_NAVIGATE_TO_URL",Kd="TMR_POINT_ICON_CLICK",Zd="ADD_COMPOSE_HEADER",Yd="DELETE_COMPOSE_HEADER",Xd="UPDATE_COMPOSE_HEADER_FOCUS",Qd="FORWARD_ATTACHMENTS",$d="CLEAR_FORWARDED_ATTACHMENT_IDS",Jd="SHOPPING_CART_AD_CLICKED",el="DEALS_SHOPPING_CART_AD_CLICKED",tl="PAC_CUE_MARK_AS_SHOWN_REQUESTED",sl="REPLY_SUGGESTIONS_RECEIVED",al="REPLY_SUGGESTIONS_REQUESTED",nl="REPLY_SUGGESTIONS_FAILED",rl="BREAKING_NEWS_SUCCESS",il="BREAKING_NEWS_FAILED",ol="BREAKING_NEWS_DISMISSED",cl="BREAKING_NEWS_REFRESH",dl="BREAKING_NEWS_CLICKED",ll="BREAKING_NEWS_RENDERED",ul="NEED_TO_KNOW_NEWS_SUCCEEDED",_l="NEED_TO_KNOW_NEWS_FAILED",ml="NEED_TO_KNOW_NEWS_CUE_CLICKED",pl="CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED",hl="CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED",gl="CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED",El="CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED",Il="CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED",Sl="CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED",Cl="CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED",fl="CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED",Tl="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED",Al="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED",bl="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED",Ol="CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED",Rl="CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED",Nl="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED",Ml="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED",Dl="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED"},,,function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"d",function(){return u}),s.d(t,"c",function(){return _}),s.d(t,"a",function(){return p});var a=s(4),n=s.n(a),r=s(22),i=s(12),o=s(9);const c=Object(o.c)(["ADD","ADDATTACHMENT","ALIGN_CENTER","ALIGN_LEFT","APP_HIDDEN","ARCHIVE","ARROW_RIGHT_DOC","ARROW_UP","ATTACH","ATTACHMENT","ATTACH_CAL","ATTACH_DOC","ATTACH_DOC_48","ATTACH_GDOCS_48","ATTACH_GENERIC_48","ATTACH_GSHEETS_48","ATTACH_GSLIDES_48","ATTACH_ICS_48","ATTACH_IMAGE","ATTACH_IMAGE_48","ATTACH_MOVIE_48","ATTACH_PDF_48","ATTACH_PPT_48","ATTACH_SOUND_48","ATTACH_XLS_48","ATTACH_ZIP_48","ATTENTION","BELL","BIG_STAR","BOLD","CALENDAR","CALENDAR_EMPTY","CALENDAR_SETTINGS","CAL_ACCEPT","CAL_DECLINE","CAL_MAYBE","CHECKBOX_OFF","CHECKBOX_ON","CHECKMARK","CHEVRON_UP","CIRCLE","CLEAR","CLOCK","CLOCK_OUTLINE","CLOSE","CLOSE_MINI","COLLAPSE_LIST","COMPOSE","COMPOSE_EMOJI","CONTACT_CARD","CONTACTCARD_OUTLINE","CONTRACT","DEALS","DELETE","DEVICE_PHONE","CAR","DOCUMENTS_S","DOWNLOAD","DRAFTS","EMOJI_FOOD_AND_DRINK","ENTER","EXCLAMATION","EXCLAMATION_ALT","EXPAND","EXPAND_LIST","FEEDBACK","FOLDER","FORWARD","GETAWAYFILL","GIF_BOX","GUEST_LIST","HOME","INBOX","INDENT","INFO","INPUT_ARROW_DOWN","ITALIC","LINK","LIST_ORDERED","LIST_ORDERED_FLIPPED","LIST_UNORDERED","LOCATION_MARKER","MESSENGER","MINUS","MIXED_CHECKBOX","MORE","MOVE_TO_FOLDER","NEWS","NOTEPAD","NO_INTERNET","NONE_BELL","ORB","OUTDENT","PEOPLE","POP_OUT","PRINTER","READ","REFRESH","REPLY","REPLY_ALL","RESTORE_TO_INBOX","RICHTEXT_OFF","RICHTEXT_ON","SCISSORS","SEARCH","SEARCH_MAIL","SEARCH_MINI","SEARCH_WEB","SELECTED","SENT","SETTINGS","SHARE_SOCIAL","SHOPPING","SPAM","SPONSORED","STAR","STATIONERY","STRIKETHROUGH","TAB_IMAGES","TEXT","TEXT_COLOR","TRAVEL","TRUSTED","TUMBLR","VIDEO_CALL","YBADGE","YBANG","TAP_TO_TOP","SIDEBAR","BIG_STAR","SOLID_CIRCLE","HOTELS","TICKETS","THEATERS","CONCERTS","SPORTS","FACEBOOK","FLICKR","FLICKR_MONOCHROME","TWITTER","LINKEDIN","BASKET","CAMERA_FILL","TAG_FILL","CARD","CLIPCOUPON","CART","DESKTOP_ATTACHMENT","PREVIEW","DRIVE","DROPBOX"]),d=Object(o.c)(["BELL","CONTRACT","EXCLAMATION_ALT","EXPAND","INBOX","SETTINGS","HOME","CONTACT_CARD","ADD_CONTACT","CHEVRON_UP","ARROW_RIGHT_DOC","INPUT_ARROW_DOWN","MORE","FOLDER","REPLY","REPLY_ALL","FORWARD","STAR","CIRCLE","READ","ATTACHMENT","ATTACH_CAL","ATTACH_DOC","ATTACH_IMAGE","ARROW_UP","CHECKBOX_OFF","CHECKBOX_ON","CHECKMARK","MONOCHROME_MIXED_CHECKBOX","CLOSE","CLOSE_MINI","SEARCH","ORB","SENT","COMPOSE","DELETE","MOVE_TO_FOLDER","ARCHIVE","SPAM","TAB_IMAGES","NOTSPAM","ADD","DRAFTS","SIDEBAR","BIG_STAR","SOLID_CIRCLE","FEEDBACK","ATTACH","SEARCH_MAIL","SPONSORED","ATTENTION","YBADGE","YBANG","ATTACH_IMAGE_48","ATTACH_MOVIE_48","ATTACH_GENERIC_48","ATTACH_SOUND_48","ATTACH_PDF_48","ATTACH_PPT_48","ATTACH_XLS_48","ATTACH_ZIP_48","ATTACH_DOC_48","ATTACH_ICS_48","EXCLAMATION_ALT","NO_INTERNET","TAB_IMAGES","SEARCH_MINI","FACEBOOK","FLICKR","FLICKR_MONOCHROME","TWITTER","LINKEDIN","CAMERA_FILL","BLOCK_PEOPLE","BLOCK_PEOPLE_FILL","NONE_BELL","INFO","PHONE","COMMENT_FILL","CONVERSATIONS_FILL","CAL_DECLINE","TRUSTED","CLOCK","UNSUBSCRIBE","BLOCK","TAB_MESSAGES","FLAG","SUBSCRIPTIONS","SORT"]),l=n()({},c,d),u=Object(o.c)(["XXXS","XXS","XS","S","M","L","XL","XXL","XXXL"]);Object.assign(u,{AVATAR_SIZE_40:i.AVATAR_SIZE_40});const _=Object(o.c)(["D0","D45","D90","D180","D270"]),m=Object(o.c)([...Object.keys(r.i),...Object.keys(r.a)].map(e=>`THEME_GRADIENT_${e}`)),p=Object.assign(Object(o.c)(["NORMAL","FIRST_LEVEL_GRAY","FIRST_LEVEL_ORANGE","NORMAL_LESS_DIM","IMPROVED_GRAY_DARK","SECOND_LEVEL_GRAY","THIRD_LEVEL_GRAY","DARK","WHITE","INHERITED","INVERTED","INVERTED_DIM","INVERTED_LESS_DIM","INVERTED_MORE_DIM","SELECTED","PRIMARY_HOVER","SELECTED_DARK_THEME_MODE","STARRING","STARRED","STARRED_DARK","SMARTVIEW_DARK","DISABLED","LESS_IMPORTANT","FAINT","TRANSPARENT","HEADING","GRAD_RED","GRAD_BLUE","COOL_FAINT","ADVISORY","WARNING","WARNING_GRAD_RED","SUCCESS","FOLDER","ATTACH_GENERIC","ATTACH_MEDIA","ATTACH_CAL","ATTACH_EXCEL","ATTACH_DOC","ATTACH_SLIDE","ATTACH_PDF","ATTACH_COMPRESSED","YBADGE","YBANG","TOUCH_PRIMARY","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","FACEBOOK_ENABLED","TWITTER_ENABLED","LINKEDIN_ENABLED","ICON_HOVER_BGCOLOR","PURPLE","THEME_GRADIENT_PURPLE"]),m)},,function(e,t,s){"use strict";s.d(t,"d",function(){return n}),s.d(t,"a",function(){return r}),s.d(t,"e",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"f",function(){return c}),s.d(t,"b",function(){return d}),s.d(t,"c",function(){return l});var a=s(9);const n=Object(a.c)(["click","nav","shortcut","keydown","callout"]),r=Object(a.c)(["SEARCH_SUGGESTION","SEARCH_ZERO_RESULTS","AD_ROTATION_SKIPPED","PREMIUM_AD_STARTED","PREMIUM_AD_STOPPED"]),i={NORRIN_FORCE_OPTIN:"norrinForceOptin",MOBILE_ONBOARDING_WELCOME:"welcomeOnbrdng",MOBILE_ONBOARDING_PAGINATED_CONTENT:"pgntdCntntOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS:"notifsOnbrdng",MOBILE_ONBOARDING_FOLDERS:"folderOnbrdng",MOBILE_ONBOARDING_SWIPING:"swipeOnbrdng",MOBILE_ONBOARDING_COMPOSE:"composeOnbrdng",MOBILE_ONBOARDING_THEMING:"thmOnbrdng",MOBILE_ONBOARDING_SNIPPETS:"snptsOnbrdng",MOBILE_ONBOARDING_BLOCK_IMAGES:"blkImgsOnbrdng",MOBILE_ONBOARDING_CONVERSATIONS:"cnvrstnsOnbrdng",MOBILE_ONBOARDING_DONE:"doneOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS_ON:"notifsOnbrdngOn",MOBILE_ONBOARDING_NOTIFICATIONS_OFF:"notifsOnbrdngOff",CONVERSATIONS_CUE_TAP:"cue_conversationsCue_tap",TOOLBAR_SELECTALL_MSG:"tlbrSlctAllMsg",TOOLBAR_SELECT_NONE:"tlbrSlctNone",TOOLBAR_BULK_CONTEXT_MENU:"tlbrBlkCtxtMenu",TOOLBAR_BULK_CONTEXT_ALL:"tlbrBlkCtxtAll",TOOLBAR_BULK_CONTEXT_NONE:"tlbrBlkCtxtNone",TOOLBAR_BULK_CONTEXT_READ:"tlbrBlkCtxtRd",TOOLBAR_BULK_CONTEXT_UNREAD:"tlbrBlkCtxtUnrd",TOOLBAR_BULK_CONTEXT_STARRED:"tlbrBlkCtxtStrrd",TOOLBAR_BULK_CONTEXT_UNSTARRED:"tlbrBlkCtxtUnStrrd",TOOLBAR_UNSUBSCRIBE:"tlbrUnsub",TOOLBAR_REPLY:"tlbrReply",TOOLBAR_REPLYALL:"tlbrReplyAll",TOOLBAR_FORWARD:"tlbrForward",TOOLBAR_DELETE:"tlbrDel",TOOLBAR_ARCHIVE:"tlbrArchv",TOOLBAR_RESTORE:"tlbrRstr",TOOLBAR_MOVE:"tlbrMov",TOOLBAR_MOVE_MENU:"tlbrMovMenu",DRAG_DROP_MOVE:"dndMov",TOOLBAR_SPAM:"tlbrSpam",TOOLBAR_NOT_SPAM:"tlbrNotSpam",TOOLBAR_MORE_MENU:"tlbrMoreMenu",TOOLBAR_MARK_READ:"tlbrMrkRd",TOOLBAR_MARK_UNREAD:"tlbrMrkUnRd",TOOLBAR_MARK_STARRED:"tlbrMrkStrrd",TOOLBAR_MARK_UNSTARRED:"tlbrMrkUStrrd",TOOLBAR_VIEW_RAW:"tlbrRaw",TOOLBAR_PRINT:"tlbrPrint",TOOLBAR_ADD_TO_CONTACTS:"tlbAddToContacts",TOOLBAR_FILTER_MESSAGES_LIKE_THIS:"tlbrFltrMsgsLikeThis",TOOLBAR_SORT_MENU:"tlbrSrtMenu",TOOLBAR_SORT_NEW:"tlbrSrtNew",TOOLBAR_SORT_OLD:"tlbrSrtOld",TOOLBAR_SORT_UNREAD:"tlbrSrtUnrd",TOOLBAR_SORT_STARRED:"tlbrSrtStrrd",TOOLBAR_SORT_SENDER:"tlbrSrtSndr",TOOLBAR_SORT_SUBJECT:"tlbrSrtSub",TOOLBAR_SORT_ATTACHMENT:"tlbrSrtAttmt",TOOLBAR_SORT_RELEVANCE:"tlbrSrtRelvnce",TOOLBAR_CLOSE_MSG:"tlbrCloseMsg",TOOLBAR_BACK_TO_LIST:"tlbrBackToLst",QUICK_REPLY:"qckReply",QUICK_REPLYALL:"qckReplyAll",QUICK_FORWARD:"qckForward",CONTACT_SEARCH:"cntctSrch",SUBJECT_SEARCH:"subSrch",MSG_LST_CONTEXT_MENU:"msgLstContxtMenu",MSG_GRP_HDR_MARK_READ:"msgHdrMrkGrpRd",MSG_GRP_HDR_MARK_UNREAD:"msgHdrMrkGrpUnRd",MSG_GRP_HDR_MARK_STAR:"msgHdrMrkGrpStrrd",MSG_GRP_HDR_MARK_UNSTAR:"msgHdrMrkGrpUnStrrd",MSG_HDR_MARK_READ:"msgHdrMrkRd",MSG_HDR_MARK_UNREAD:"msgHdrMrkUnRd",MSG_HDR_MARK_STAR:"msgHdrMrkStrrd",MSG_HDR_MARK_UNSTAR:"msgHdrMrkUnStrrd",MSG_HDR_PRINT:"msgHdrPrint",MSG_HDR_PREV:"msgHdrPrev",MSG_HDR_NEXT:"msgHdrNext",MSG_REPLY:"msgReply",MSG_REPLY_ALL:"msgReplyAll",MSG_FORWARD:"msgForward",MSG_SMART_REPLY:"msgSmartReply",SHOW_IMG:"showImg",SHOW_IMG_ALWAYS:"showImgAlws",OPEN_LINK:"openlnk",OPEN_DOC_PREVIEW:"openDocPrvw",ZOOM_IN_ATTACHMENT_PREVIEW:"zoomInDocPrvw",ZOOM_OUT_ATTACHMENT_PREVIEW:"zoomOutDocPrvw",OPEN_LIGHTBOX_ATTACHMENT_PREVIEW:"fullscrnDocPrvw",DOWNLOAD_ATTACHMENT:"dwnldattmt",DOWNLOAD_ATTACHMENT_ALL:"dwnldattmtAll",ATTACHMENT_LIGHTBOX_OPEN:"openattmlghtbx",ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD:"dwnldimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_SHARE:"shareimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_CLOSE:"closeimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE:"nextimglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP:"nextImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST:"nextImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE:"previmglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP:"prevImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST:"prevImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_ZOOM:"zoomimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_OPEN:"openimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_MSG:"rdmsgimglghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD:"dwnlddoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_SHARE:"sharedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE:"closedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE:"nextdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP:"nextDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST:"nextDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE:"prevdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP:"prevDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST:"prevDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_ZOOM:"zoomdoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_OPEN:"opendoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_MSG:"rdmsgdoclghtbx",ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD:"dnlwdDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_SHARE:"shareDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_CLOSE:"closeDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE:"nextDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE:"prevDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_ZOOM:"zoomDocPrvw",ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD:"dnlwdImgPrvw",ATTACHMENT_PREVIEW_IMAGE_SHARE:"shareImgPrvw",ATTACHMENT_PREVIEW_IMAGE_CLOSE:"closeImgPrvw",ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE:"nextImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE:"prevImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_ZOOM:"zoomImgPrvw",ATTACHMENT_ACTION_UNKNOWN:"attmUnknown",DOC_OPEN:"opendoc",DOC_READ_MSG:"rdmsgdoc",DOC_DELETE_PREVIEW_OPEN:"preDelDocOp",DOC_DELETE_PREVIEW_CLOSE:"preDelDocCls",DOC_DELETE_PREVIEW_READ_MSG:"preDelRdMsgDoc",DOC_MESSAGE_DELETE:"msgDelDoc",DOC_OPEN_LINK:"openlnkdoc",DOC_SHARE:"sharedoc",RIGHT_RAIL_DOC_OPEN:"opendocrail",RIGHT_RAIL_DOC_OPEN_ALL:"openalldocrail",PHOTO_OPEN:"openimg",PHOTO_READ_MSG:"rdmsgimg",PHOTO_DELETE_PREVIEW_OPEN:"preDelImgOp",PHOTO_DELETE_PREVIEW_CLOSE:"preDelImgCls",PHOTO_DELETE_PREVIEW_READ_MSG:"preDelRdMsgImg",PHOTO_MESSAGE_DELETE:"msgDelImg",PHOTO_DOWNLOAD:"dwnldimg",PHOTO_SHARE:"shareimg",RIGHT_RAIL_PHOTO_OPEN:"openimgrail",RIGHT_RAIL_PHOTO_OPEN_ALL:"opendocrail",TRAVEL_READ_MSG:"rdmsgtrv",OPEN_MSG:"openMsg",SELECT_MSG:"slctMsg",MARK_MSG_READ:"mrkMsgRd",MARK_MSG_UNREAD:"mrkMsgUnRd",MARK_MSG_STARRED:"mrkMsgStrrd",MARK_MSG_UNSTARRED:"mrkMsgUnStrrd",MSG_LIST_DEL:"msgLstDel",MSG_LIST_ARCHIVE:"msgLstArchv",MSG_LIST_MV_INBOX:"msgLstRstr",RIGHT_RAIL_MSG_OPEN:"openmsgrail",RIGHT_RAIL_MSG_OPEN_ALL:"openallmsgrail",TOGGLE_LIST_VISIBILITY:"toggleListView",MSG_LIST_REPLY:"msgLstRply",MSG_LIST_REPLY_ALL:"msgLstRplyAll",NUDGE_TO_REPLY_SHOWN:"nudgeToReplyShown",NUDGE_SCORE_LIST:"nudgeScoreList",UNDO_DELETE_ACTION:"undoDel",UNDO_ARCHIVE_ACTION:"undoArchv",UNDO_MOVE_ACTION:"undoMov",VIEW_MSG_LINK:"viewMsgLnk",AUTO_FORWARD_LINK:"autoFwdLnk",UNUSUAL_DISCOUNT:"annotation_show",UNUSUAL_DISCOUNT_MAIL_CLICKED:"annotated_message_open",LAUNCH:"launch",YMAIL_LOGO:"logo",MAIL_ICON:"inbxBtn",CONTACTS_ICON:"cntctBtn",CALENDAR_ICON:"clndrBtn",NOTEPAD_ICON:"ntpdBtn",REWARDS_ICON:"rewardsBtn",MESSENGER_ICON:"mssgnrBtn",SETTINGS_GEAR_ICON:"sttgsBtn",SETTINGS_LABEL:"sttgsLabelBtn",SEARCH_BAR:"clickSrchBar",ADVANCED_SEARCH:"advncdSrch",SEARCH_BUTTON:"mailSrch",SEARCH_PEOPLE_SUGGEST:"mailSrchPeopleSuggst",SEARCH_KWRD_SUGGEST:"mailSrchKwrdSuggst",SEARCH_EMAIL_SUGGEST:"mailSrchEmailSuggst",SEARCH_RECENT_SUGGEST:"mailSrchRecentSuggst",SEARCH_EMPTY_PEOPLE_SUGGEST:"mailSrchEmptyPeopleSuggst",SEARCH_EMPTY_KWRD_SUGGEST:"mailSrchEmptyKwrdSuggst",SEARCH_EMPTY_EMAIL_SUGGEST:"mailSrchEmptyEmailSuggst",SEARCH_EMPTY_RECENT_SUGGEST:"mailSrchEmptyRecentSuggst",SEARCH_SUGGESTION_SHOWN:"srchsuggst",SEARCH_EMAIL_SUGGESTION_SHOWN:"showedEmailSnippets",ADVANCED_SEARCH_BUTTON:"advncdMailSrch",ACCOUNT_SETTINGS:"sttgsMenu",SIGNOUT:"signout",HOME_BUTTON:"homeBtn",SIDEBAR_BUTTON:"sidebarBtn",MARKETING_BEACON:"mktgBeacn",NEWUSER_MARKETING_BEACON:"newUserMktgBeacn",IE_TO_EDGE:"ie2edge",UNREAD_SMARTVIEW:"unrdSmrtvw",STARRED_SMARTVIEW:"strrdSmrtvw",PHOTO_SMARTVIEW:"photoSmrtvw",DOCUMENT_SMARTVIEW:"docSmrtvw",TUTORIAL_SMARTVIEW:"tutrlSmrtvw",COUPONS_SMARTVIEW:"cpnSmrtvw",RECEIPTS_SMARTVIEW:"rcptSmrtvw",TRAVEL_SMARTVIEW:"trvSmrtvw",INBOX_FOLDER:"inboxFldr",DRAFT_FOLDER:"draftFldr",SENT_FOLDER:"sentFldr",ARCHIVE_FOLDER:"archiveFldr",BULK_FOLDER:"spamFldr",TRASH_FOLDER:"trashFldr",USER_FOLDER:"usrFldr",ADD_FOLDER:"addFldr",FOLDER_CONTEXTMENU:"fldrContxtMenu",FOLDER_CONTEXTMENU_ALL_READ:"ctxtMenuFldrAllRd",FOLDER_CONTEXTMENU_ALL_ARCHIVE:"ctxtMenuFldrAllArch",FOLDER_CONTEXTMENU_ALL_DELETE:"ctxtMenuFldrAllDel",FOLDER_CONTEXTMENU_RENAME:"ctxtMenuFldrAllRen",FOLDER_CONTEXTMENU_MOVE:"ctxtMenuFldrAllMov",FOLDER_CONTEXTMENU_DELETE:"ctxtMenuDelFldr",FOLDER_CONTEXTMENU_EMPTY:"ctxtMenuEmpty",FOLDER_EMPTY:"fldrEmpty",MAILBOX_SWITCH:"mboxSwitch",COLLAPSE_MAILBOX_SWITCHER:"cllpsMboxSwtchr",EXPAND_MAILBOX_SWITCHER:"expndMboxSwtchr",ACCOUNT_SWITCH:"accntSwitch",COLLAPSE_ACCOUNT_SWITCHER:"cllpsAccntSwtchr",EXPAND_ACCOUNT_SWITCHER:"expndAccntSwtchr",EDIT_IMAP_ACCOUNT:"editImapAccnt",FIX_IMAP_ACCOUNT:"fixImapAccnt",CONFIRM_DELETE_ACCOUNT:"cnfmDelAccnt",DELETE_ACCOUNT:"delAccnt",ADD_ACCOUNT:"addAccnt",SELECT_YAHOO_ACCOUNT:"slctYahooAccnt",SELECT_OUTLOOK_ACCOUNT:"slctOutlookAccnt",SELECT_AOL_ACCOUNT:"slctAolAccnt",SELECT_GOOGLE_ACCOUNT:"slctGoogleAccnt",SELECT_OTHER_ACCOUNT:"slctOtherAccnt",AUTHORIZE_IMAP_ACCOUNT:"cnnctAccnt",CONNECT_ACCOUNT_SUCCESS:"cnnctAccntSuccess",CONNECT_ACCOUNT_FAILURE:"cnnctAccntFailure",CANCEL_ADD_ACCOUNT:"cancelAddAccnt",CANCEL_EDIT_DEA:"cancelEditDea",CANCEL_ADD_DEA:"cancelAddDea",CANCEL_ADD_BASE:"cancelAddBase",THEME_CHANGED:"thmSttgs",SETTINGS_POPUP_THEME:"themesClrSttgsPop",SETTINGS_THEME:"themesClrSttgs",SETTINGS_POPUP_THEME_MODE:"themesModeSttgsPop",SETTINGS_THEME_MODE:"themesModeSttgs",SETTINGS_POPUP_PREVIEW_PANE:"prvpSttgsPop",SETTINGS_PREVIEW_PANE:"prvpSttgs",SETTINGS_POPUP_MSG_LIST_DENSITY:"dnstySttsPop",SETTINGS_MSG_LIST_DENSITY:"dnstyStts",SETTINGS_POPUP_TAB_SETTING:"tabSttgsPop",SETTINGS_TAB_SETTING:"tabSttgs",SETTINGS_POPUP_SNIPPET:"snpptsSttgsPop",SETTINGS_SNIPPET:"snpptsSttgs",SETTINGS_POPUP_MORE:"moreSttgsPop",SETTINGS_POPUP_SWITCH_TO_CLASSIC:"swtchSttgsPop",SETTINGS_POPUP_PRIVACY:"prvcySttgsPop",SETTINGS_HELP:"hlpSttgs",SETTINGS_POPUP_FEEDBACK:"fdbckSttgsPop",SETTINGS_POPUP_WIDER_PROMO:"widerPromoSttgsPop",SETTINGS_FEEDBACK:"fdbckSttgs",SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX:"inbxSttgs",SETTINGS_LEFT_RAIL_ACCOUNTS:"accntSttgs",SETTINGS_LEFT_RAIL_NOTIFICATIONS:"notfctnSttgs",SETTINGS_LEFT_RAIL_WRITING_EMAILS:"writeSttgs",SETTINGS_LEFT_RAIL_VIEWING_EMAILS:"viewSttgs",SETTINGS_LEFT_RAIL_CATEGORIZATION:"ctgrySttgs",SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY:"replySttgs",SETTINGS_LEFT_RAIL_FILTERS:"filtrSttgs",SETTINGS_LEFT_RAIL_ABOUT:"aboutSttgs",SETTINGS_LEFT_RAIL_ABOUT_ADS:"aboutAdsSttgs",SETTINGS_LEFT_RAIL_AD_FREE:"adFrSttgs",SETTINGS_LEFT_RAIL_PRIVACY:"privcySttgs",SETTINGS_TERMS:"termsSttgs",SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY:"secPrivSttgs",SETTINGS_LEFT_RAIL_ENCRYPTION:"cryptSttgs",SETTINGS_LEFT_RAIL_SOCIAL_ACCOUNTS:"socialSttgs",SETTINGS_NOTIFICATIONS:"setNtfctn",SETTINGS_CONVERSATION:"setConvstn",SETTINGS_AUTOMATIC_REPLY:"saveReplySttgs",SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY:"cancelEditReplySttgs",SETTINGS_UNSUBSCRIBE_ENABLE:"unsub_enable",SETTINGS_UNSUBSCRIBE_DISABLE:"unsub_disable",SETTINGS_CANCEL_EDIT_ACCOUNT:"cancelEditAccnt",SETTINGS_LINK_ENHANCER:"linkEnhancerSttgs",SETTINGS_CATEGORIZATION_CHANGE:"chgCtgrySttgs",SETTINGS_CATEGORIZATION_ORDER:"ordCtgrySttgs",SETTINGS_COLLAPSE_SYSTEM_FOLDERS:"cllpsSysFldrs",SETTINGS_EXPAND_SYSTEM_FOLDERS:"expndSysFldrs",SETTINGS_LEFT_RAIL_MAIL_PRO:"mailProSttgs",SETTINGS_BLOCK_IMAGES:"showImgSttgs",SETTINGS_MOBILE_NOTIFICATION:"mobNtfctn",SETTINGS_OPT_OUT:"optOutSttgs",SETTINGS_SIGNATURE:"sigSttgs",SETTINGS_ACCOUNTS:"acctSttngs",SETTINGS_DISABLE_FORWARDING:"delAutoFwd",SETTINGS_ENABLE_FORWARDING:"addAutoFwd",SETTINGS_BLOCKED_SENDERS:"blkSdrSttgs",SETTINGS_MSG_FILTERS_SAVE:"saveMsgFltrSttgs",OPT_OUT_SUBMIT_FEEDBACK:"optOutSbmt",OPT_OUT_CANCEL_FEEDBACK:"optOutCncl",COMPOSE_BUTTON:"cmpsBtn",CANCEL_COMPOSE:"cancelCmp",CONTACT_SUGGEST:"contctsuggst",DELETE_CONTACT_SUGGEST:"delcontctsuggst",SELECT_CONTACT:"slctcontct",SHOW_HOVER_CARD:"showHvrcrd",COMPOSE_ADD_ATTACHMENT:"compsAddAttmnt",COMPOSE_DRAG_ATTACHMENT:"dragAttmnt",COMPOSE_ADD_BIG_ATTACHMENT:"compsAddBigAttmnt",DELETE_DRAFT:"delDraft",SEND:"send",COMPOSE_AUTO_OPEN_STATIONERY_POPUP:"compsAutoOpnStnryPop",COMPOSE_OPEN_STATIONERY_POPUP:"compsOpnStnryPop",COMPOSE_CLOSE_STATIONERY_POPUP:"compsClsStnryPop",COMPOSE_ADD_STATIONERY:"compsAddStnry",COMPOSE_CLEAR_STATIONERY:"compsClrStnry",COMPOSE_CLEAR_DEFAULT_STATIONERY:"compsClrDfltStnry",COMPOSE_ADD_LINK:"compAddLink",COMPOSE_BOLD:"compsBold",COMPOSE_ITALIC:"compsItalic",COMPOSE_CHOOSE_COLOR:"compsClr",COMPOSE_CHOOSE_FONT:"compsFnt",COMPOSE_FILE_SELECT_BTN_CLICKED:"compsFileSlctBtnClicked",COMPOSE_OPEN_MORE_MENU:"compMoreMnu",COMPOSE_CHOOSE_LIST_TYPE:"compsLst",COMPOSE_ALIGN_TEXT:"compsAlgn",COMPOSE_STRIKETHROUGH_TEXT:"compsStrikeThrough",COMPOSE_PLAIN_TEXT_MODE:"compsPlainText",COMPOSE_RICH_TEXT_MODE:"compsRichText",RELATED_CONTACTS_CLOSED:"relatedContctsClosed",COMPOSE_SHOW_CC_BCC:"compsshowCC",COMPOSE_HIDE_CC_BCC:"compsHideCC",GIF_SEARCH:"compsGifSrch",GIF_CATEGORY:"compsGifCtgry",GIF_ADD:"compsAddGif",GIF_OPEN:"openGifCntxt",GIF_CHANGE_SIZE:"changeGifsz",GIF_SEND_AS_ATTACHMENT:"sendGifAttmnt",GIF_DOWNLOAD:"dnwldGif",GIF_REMOVE:"removeGif",EMOJI_CLOSE:"closeEmjiPckr",EMOJI_OPEN:"openEmjiPckr",EMOJI_ADD:"compsAddEmoji",EMOJI_CATEGORY_CHANGED:"emjiCtgryChngd",DRAG_CONTACT:"dragCntct",EMERGENCY_RELOAD_SHOWED:"emReloadShwd",EMERGENCY_RELOAD_ACCEPTED:"emReloadAcptd",EMERGENCY_RELOAD_CANCELED:"emReloadCncld",EMERGENCY_RELOAD_CLOSED:"emReloadClsd",PERIODIC_RELOAD_SHOWED:"peReloadShwd",PERIODIC_RELOAD_ACCEPTED:"peReloadAcptd",FILTER_MESSAGES:"fltrMsg",FILTER_IMAGES:"fltrPhoto",FILTER_DOCUMENTS:"fltrDocs",FILTER_FROM:"fltrFrom",FILTER_TO:"fltrTo",FILTER_ALL:"fltrAll",FILTER_PEOPLE:"fltrPeople",FILTER_NOT_PEOPLE:"fltrNotPeople",FILTER_TRAVEL_VIEW_UPCOMING:"fltrTrUpc",FILTER_TRAVEL_VIEW_PAST:"fltrTrPst",FILTER_PHOTOS:"fltrPhoto",UNSUB_DISPLAYED:"unsub_disp",UNSUB_UNSUB_CLICKED:"unsub_unsub",UNSUB_HIDE:"unsub_hide",UNSUB_UNDO:"unsub_undo",UNSUB_DONE:"unsub_done",UNSUB_DISMISS:"unsub_dismiss",UNSUB_UNDO_BATCH_DELETE:"unsub_undoBatchDel",UNSUB_MAILTO_SEND:"unsub_mailToSend",UNSUB_MAILTO_CANCEL:"unsub_mailToCancel",UNSUB_TAB_GO:"unsub_tabGo",UNSUB_TAB_CANCEL:"unsub_tabCancel",UNSUB_ALL_DONE:"unsub_allDone",UNSUB_DISABLE:"unsub_disable",UNSUB_BUTTON:"unsub_btn",UNSUB_CONFIRM:"unsub_confirm",SUBSCRIPTION_SHOWN:"subscriptionShown",SUBSCRIPTION_SELECTED:"subscriptionSelect",SUBSCRIPTION_SUCCESS:"subscriptionSuccess",SUBSCRIPTION_RETRY:"subscriptionRetry",SUBSCRIPTION_RETRY_SUCCESS:"subscriptionRetrySuccess",COUPON_STORE_UPDATE_LOCATION:"cpnStrLctrUpdtLctn",COUPON_STORE_LOCATOR_SHOWN:"cpnStrLctrShwn",COUPON_STORE_LOCATOR_COLLAPSED:"cpnStrLctrCllpsd",MULTI_COUPON_CLIPPER_SHOWN:"cpnClprMltiShwn",SINGLE_COUPON_CLIPPER_SHOWN:"cpnClprSnglShwn",SELF_EXTRACTION_COUPON_CLIPPER_SHOWN:"cpnSlfExtrnShwn",COUPON_CLIPPED:"cpnClipped",UNUSUAL_DISCOUNT_COUPON_CLIPPED:"message_coupon_clipped",COUPON_UNCLIPPED:"cpnUnclipped",COUPON_CLIPPER_EXPANDED:"cpnClprExpnd",COUPON_CLIPPER_SHRUNK:"cpnClprShrnk",COUPON_OPENED:"cpnOpen",RECEIPT_OPENED:"rcptOpn",COUPON_REC_OPENED:"cpnRecOpened",COUPON_REC_CLOSED:"cpnRecClosed",COUPON_ICON_CLICKED:"cpnIcnClicked",COUPON_SELF_EXTRACTION_MODAL_OPENED:"cpnSlfExtrnOpnd",COUPON_SELF_EXTRACTION_MODAL_CLOSED:"cpnSlfExtrnClsd",COUPON_SELF_EXTRACTION_MODAL_CANCELLED:"cpnSlfExtrnCncld",COUPON_SELF_EXTRACTION_MODAL_SAVE:"cpnSlfExtrnSv",COUPON_AUTO_CLIP_TURNED_ON:"cpnAutoClipped",COUPON_AUTO_CLIP_TURNED_OFF:"cpnAutoUnclipped",FEEDBACK_PANEL_GIVE_FEEDBACK:"fbpFbk",HOMEPAGE_EXTENSION_SHOWN:"hpextShown",HOMEPAGE_EXTENSION_CLICKED:"hpextClicked",HOMEPAGE_EXTENSION_CLOSED:"hpextClosed",TUTORIAL_VIDEO:"tutorialVid",ABNORMAL_ZOOM_DIALOG_CLOSED:"zoomDiagClosed",HIDE_RIGHT_RAIL_AD:"hideRightRailAd",NAVIGATE_TO_HIPMUNK:"navigateToHipmunk",HIPMUNK_CARD_RENDERED:"hipmunkCardRendered",NAVIGATE_TO_SEATGEEK:"navigateToSeatgeek",SEATGEEK_CARD_RENDERED:"seatgeekCardRendered",BOOKING_CARD_RENDERED:"bookingCardRendered",NAVIGATE_TO_BOOKING:"navigateToBooking",ADFREE_UPSELL_ACCEPT:"adFreeAcptd",ADFREE_UPSELL_CANCEL:"adFreeCncld",GET_RR_WIDER_MAIL_EXTENSION:"rrWiderMailGetExtension",RR_WIDER_MAIL_INSTALL_SUCCESS:"rrWiderMailInstallSuccess",RR_WIDER_MAIL_INSTALL_FAILURE:"rrWiderMailInstallFailure",LINK_ENHANCER_ADD_LINK:"addEnLnk",LINK_ENHANCER_RESIZE_LINK:"resizeEnLnk",LINK_ENHANCER_REMOVE_LINK:"removeEnLnk",LINK_ENHANCER_OPEN_LINK:"openEnLnk",LINK_ENHANCER_SHARE_LINK:"shareEnLnk",LINK_ENHANCER_MOVE_LINK_BOTTOM:"moveEnLnkBottom",LINK_ENHANCER_MOVE_LINK_INLINE:"moveEnLnkInline",PENCIL_AD_CLICKED:"pencilAdClicked",PENCIL_AD_FEEDBACK_OPEN:"pencilAdFeedbackOpen",PENCIL_AD_FEEDBACK_SUBMITTED:"pencilAdFeedbackSubmitted",PENCIL_AD_FEEDBACK_CLOSED:"pencilAdFeedbackClosed",SEARCH_AD_FETCHED:"searchAdFetched",PENCIL_AD_DELETE:"pencilAdDelete",PENCIL_AD_DELETE_TLBR:"pencilAdDeleteTlbr",PENCIL_AD_SELECTION_TOGGLED:"pencilAdSelectionToggled",SEARCH_AD_RENDERED:"searchAdRendered",NAVIGATE_TO_MAIL_PRO_MONTHLY:"navigateToMailProUrlMonthly",NAVIGATE_TO_MAIL_PRO_YEARLY:"navigateToMailProUrlYearly",NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:"navigateToMailProUrlActiveUser",NAVIGATE_TO_MAIL_PRO_PASTDUE_USER:"navigateToMailProUrlPastDueUser",NAVIGATE_TO_MAIL_PRO_FROM_ERROR_PAGE:"navigateToMailProUrlFromErrorPage",NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE:"navigateToTryMailProForFree",NAVIGATE_TO_MAIL_PRO_FROM_ADFEEDBACK:"navigateToMailProUrlFromAdfeedback",NAVIGATE_TO_MAIL_PRO_FROM_TLBR:"navigateToMailProUrlFromTlbr",TABS_MENU_OPEN:"tabsMenuOpen",TABS_MENU_CLOSE:"tabsMenuClose",SEARCH_PLA_AD_ITEM_CLICKED:"searchPlaAdItemClicked",RSVP_CALENDAR_RESPONSE:"rsvpCalendarResponse",RSVP_NAVIGATE_TO_CALENDAR:"rsvpNavigateToCalendar",RSVP_LOADED:"rsvpModuleLoaded",RELATED_SEARCHES_CARD_CLICKED:"relatedSearchesCardClicked",FEATURE_VIEWED:"featureViewed",ADBLOCK_DETECTED:"adblockDetected",ABP_DETECTED:"abpDetected",ADBLOCK_UI_UPDATE:"adblockUIUpdate",PUSH_NOTIFICATION_RECEIVED:"pushNotificationReceived",PUSH_NOTIFICATION_OPENED:"pushNotificationOpened",PUSH_NOTIFICATIONS_REQUEST_GRANTED:"pushNotificationsRequestGranted",PUSH_NOTIFICATIONS_REQUEST_REJECTED:"pushNotificationsRequestRejected",PUSH_NOTIFICATION_ACTION_DELETE:"pushNotificationActionDelete",PUSH_NOTIFICATION_ACTION_MARK_AS_READ:"pushNotificationActionMarkAsRead",PULL_TO_REFRESH:"pullToRefresh",NAVIGATE_TO_FOLDER:"navigateToFolder",NAVIGATE_TO_SETTINGS:"navigateToSttngs",CHECK_MAIL:"checkMail",MANUAL_SAVE_DRAFT:"manualSaveDraft",CONTACT_CARD_EMAIL_CLICKED:"contactCardEmailClicked",CONTACT_CARD_AVATAR_CLICKED:"contactCardAvatarClicked",CONTACT_CARD_URL_CLICKED:"contactCardUrlClicked",CONTACT_CARD_CLICKED:"contactCardClicked",CONTACT_CARD_NAME_CLICKED:"contactCardNameClicked",CONTACT_CARD_LOAD_FAILED:"contactCardLoadFailed",CONTACT_CARD_ADD_TO_CONTACTS:"contactCardAddToContacts",CONTACT_CARD_EDIT_CONTACT:"contactCardEditContact",OPEN_CONTACT_PICKER:"openContactPicker",OPEN_CONTACT_LIST:"openCntctLst",OPEN_CONTACT:"openCntct",CONTACTS_PANE_ICON_ON:"cntctIconOn",CONTACTS_PANE_ICON_OFF:"cntctIconOff",TOP_VIEW:"cntctsPaneTopView",USER_CREATED_VIEW:"cntctsPaneUserView",PEOPLE_VIEW:"cntctsPanePeopleView",BUSINESS_VIEW:"cntctsPaneBusinessView",GROUPS_VIEW:"cntctsPaneGroupsView",TOGGLE_ALPHA_SECTION:"toggleAlphaSctn",CONTACT_DETAILS_BACK:"contactDetailsBack",CONTACT_GROUP_EDIT_BACK:"contactGroupEditBack",CONTACT_GROUP_SAVE:"contactGroupSave",CONTACT_GROUP_CREATE:"contactGroupCreate",CONTACT_GROUP_EDIT_CANCEL:"contactGroupEditCancel",CONTACT_GROUP_CREATE_BACK:"contactGroupCreateBack",CONTACT_GROUP_CREATE_CANCEL:"contactGroupCreateCancel",ADD_CONTACT_TO_GROUP:"addContactToGroup",OPEN_EDIT_CONTACT:"openEditContact",CHANGE_USER_GROUP:"changeUserGroup",EDIT_USER_GROUP:"editUserGroup",OPEN_CREATE_USER_GROUP:"openCreateUserGroup",DELETE_USER_GROUP:"deleteUserGroup",CONTACT_EDIT_SAVE:"contactEditSave",CONTACT_CREATE_SAVE:"contactCreateSave",CONTACT_EDIT_CANCEL:"contactEditCancel",CONTACT_CREATE_CANCEL:"contactCreateCancel",SEARCH_CONTACTS:"searchContacts",CLEAR_CONTACTS_SEARCH:"clearContactsSearch",OPEN_CREATE_CONTACT:"openCreateContact",CONFIRM_DELETE_CONTACT:"confirmDeleteContact",EXPORT_ALL_CONTACTS:"exportAllContacts",IMPORT_CONTACTS:"importContacts",IMPORT_LINKEDIN_CONTACTS:"importLinkedInContacts",IMPORT_GMAIL_CONTACTS:"importGmailContacts",IMPORT_YMAIL_CONTACTS:"importYMailContacts",IMPORT_AOL_CONTACTS:"importAolContacts",IMPORT_OUTLOOK_CONTACTS:"importOutlookContacts",DISCONNECT_GMAIL_CONTACTS:"disconnectGmailContacts",DISCONNECT_YMAIL_CONTACTS:"disconnectYMailContacts",DISCONNECT_AOL_CONTACTS:"disconnectAolContacts",DISCONNECT_OUTLOOK_CONTACTS:"disconnectOutlookContacts",CONTACT_ITEM_EMAIL_CLICKED:"contactListEmailClicked",CONTACT_DETAILS_EMAIL_CLICKED:"contactDetailsEmailClicked",COUPON_BRAND_VIGLINK_CLICKED:"couponBrandViglinkClicked",COUPON_VIGLINK_CLICKED:"couponViglinkClicked",COUPON_BODY_VIGLINK_CLICKED:"couponBodyViglinkClicked",UNUSUAL_DISCOUNT_COUPON_CARD_VIGLINK_CLICKED:"annotated_message_link_click",COUPON_CARD_VIGLINK_CLICKED:"couponMsgReadCardClicked",COUPON_LIST_VIGLINK_CLICKED:"couponSmrtViewCardClicked",MESSAGE_READ_AVATAR_CLICKED:"MsgReadCardLogoClicked",MESSAGE_READ_FROM_FIELD_CLICKED:"MsgReadFromFieldClicked",COUPON_BRAND_PRICEGRABBER_CLICKED:"couponBrandPriceGrabberClicked",COUPON_BODY_PRICEGRABBER_CLICKED:"couponBodyPriceGrabberClicked",COUPON_TEXT_PRICEGRABBER_CLICKED:"couponTextPriceGrabberClicked",SHOPPING_COUPONS_VIEW_CLICKED:"shoppingCouponsVwClicked",SHOPPING_EMAILS_VIEW_CLICKED:"shoppingEmailsVwClicked",SHOPPING_CART_AD_REQUEST_SUCCESS:"shoppingCartAdRequestSuccess",SHOPPING_CART_AD_REQUEST_FAILURE:"shoppingCartAdRequestFailure",DEALS_SHOPPING_CART_AD_REQUEST_SUCCESS:"dealsShoppingCartAdRequestSuccess",DEALS_SHOPPING_CART_AD_REQUEST_FAILURE:"dealsShoppingCartAdRequestFailure",SHOPPING_CART_AD_RENDERED:"shoppingCartAdRendered",SHOPPING_CART_AD_CLICKED:"shoppingCartAdClicked",DEALS_SHOPPING_CART_AD_CLICKED:"dealsShoppingCartAdClicked",DEALS_SHOPPING_CART_AD_RENDERED:"dealsShoppingCartAdRendered",CONNECTED_PROVIDERS:"connctdPrvdrs",QTNT_HEADER_VIEW:"qtnt_header_view",QTNT_ONBOARD_COMPLETE:"qtnt_onboard_complete",QTNT_ONBOARD_FAILURE:"qtnt_onboard_failure",QTNTVIEW_HEADER_ACTION:"qtntview_header_action",QTNTVIEW_LEFTRAIL:"qtntview_leftrail",QTNTVIEW_SMARTVIEW_ACTION:"qtntview_smartview_action",QTNTVIEW_SMARTVIEW_CANCEL:"qtntview_smartview_cancel",QTNT_START_SEARCH:"qtnt_start_search",QTNT_SEARCH:"qtnt_search",QTNT_CATEGORY_FILTER:"qtnt_category_filter",QTNT_COUPON_CLIP:"qtnt_coupon_clip",QTNTVIEW_TAKEOVER:"qtntview_takeover",QTNTVIEW_MESSAGELIST:"qtntview_messagelist",CATEGORY_FOLLOW:"category_follow",CATEGORY_UNFOLLOW:"category_unfollow",SUGGESTED_CATEGORIES_CARD_SHOW:"suggested_categories_card_show",CATEGORY_FOLLOWING_SHOW:"annotation_show",CATEGORY_FOLLOWING_MSG_OPEN:"annotated_message_open",BLOCK_SENDERS_SUBMIT:"blkSdrSbmt",BLOCK_SENDERS_WITH_DELETE_SUBMIT:"blkSdrDelSbmt",UNBLOCK_SENDERS_SUBMIT:"unblkSdrSbmt",SPONSORED_MOMENT_CLICKED:"sponsoredMomentClicked",SPONSORED_MOMENT_CLOSED:"sponsoredMomentClosed",AD_BLOCK_COUPON_CLICKED:"adBlockCouponClicked",COUPONS_SEARCH_TOP_RETAILER_CLICKED:"couponsSearchTopRetailerClicked",COUPONS_SEARCH_TOP_DEAL_CLICKED:"couponsSearchTopDealClicked",COUPONS_SEARCH_RECENT_SEARCH_CLICKED:"couponsSearchRecentSearchClicked",EBAY_WARRANTY_UPSELL_CLICKED:"ebayWarrantyUpsellClicked",AD_FORMAT_SELECTION_UPDATED:"adFormatSelectionUpdated",AD_FORMAT_SELECTION_CLOSED:"adFormatSelectionClosed",UPDATE_AD_FORMAT_SELECTION_CLICKED:"updateAdFormatSelectionClicked",RETAILER_FILTER_CLICKED:"retailerFilterClicked",CATEGORY_FILTER_CLICKED:"categoryFilterClicked",USERNAME_PHONE_REG_ONBOARDING:"userNamePhoneRegOnbrdng",USERNAME_PHONE_REG_ADD_ACCOUNT:"userNamePhoneRegAddAcct",USERNAME_PHONE_REG_ADD_PROVIDER:"userNamePhoneRegAddPrvdr",USERNAME_PHONE_REG_CANCEL_AUTHORIZE:"userNamePhoneRegCnclAuth",RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED:"rightRailUpsellVideoAdStarted",RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED:"rightRailUpsellVideoAdFinished",RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED:"rightRailUpsellVideoAdClicked",FAN_AD_LOAD_SUCCESS:"fanAdLoadSuccess",FAN_AD_LOAD_ERROR:"fanAdLoadError",LASTPASS_UPSELL_CLICKED:"lastpassUpsellClicked",LASTPASS_FREETRIAL_UPSELL_VIEW_ELIGIBLE:"lastpassFreeTrialUpsellViewEligible",YFINANCE_UPSELL_CLICKED:"yFinanceUpsellClicked",AUTOTAG_DROPDOWN_SHOWN:"autotagDrpDnShown",AUTOTAG_CONTACT_SELECTED:"autotagCntctSelect",AUTOTAG_DROPDOWN_CLOSED:"autotagDrpDnClosed",SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED:"SecuritySubscriptionsUpsellClicked",BREAKING_NEWS_CLICKED:"breakingNewsClicked",BREAKING_NEWS_RECEIVED:"breakingNewsReceived",BREAKING_NEWS_FAILED:"breakingNewsFailed",BREAKING_NEWS_DISMISSED:"breakingNewsDismissed",BREAKING_NEWS_DISABLED:"breakingNewsDisabled",BREAKING_NEWS_ENABLED:"breakingNewsEnabled",BREAKING_NEWS_ICON:"breakingNewsIcon",LATEST_NEWS_CLICKED:"lastestNewsClicked",BREAKING_NEWS_RENDERED:"breakingNewsRendered",TMR_NAVIGATE_TO_ATOS:"tmrNavigateToAtos",TMR_NAVIGATE_TO_URL:"tmrNavigateToURL",TMR_NAVIGATE_TO_ADD_ACCOUNT:"tmrNavigateToAddAccount",TMR_LAUNCH_SUCCESS:"tmrLaunchSuccess",TMR_LAUNCH_FAILED:"tmrLaunchFailed",TMR_REGISTER_ACTION_SUCCESS:"tmrRegisterActionSuccess",TMR_REGISTER_ACTION_FAILED:"tmrRegisterActionFailed",TMR_TAB_CHANGE:"tmrTabChange",TMR_POINT_ICON_CLICK:"tmrPointIconClick",TMR_TASK_CLICK:"tmrTaskClick",CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED:"csGDriveConnectClicked",CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED:"csDropboxConnectClicked",CLOUD_STORAGE_ITEMS_FETCHED:"csItemsFetched",MERCHANT_SITE_CLICK:"merchantSiteClick",PRODUCT_CATEGORY_CLICK:"productCategoryClick",AFFILIATE_DEAL_CLICK:"affiliateDealClick",DEAL_CARD_SHOWN:"dealCardShown",PRODUCT_CATEGORY_SHOWN:"productCategoryShown",SIMPLE_CTA_MSG_BUTTON_CLICK:"simpleCTAMsgButtonClick",SIMPLE_CTA_MSG_READ_INVOKE:"simpleCTAMsgReadInvoke",SIMPLE_CTA_MSG_READ_BANNER_CLICK:"simpleCTAMsgReadBannerClick",CATEGORY_WITH_IMAGE_MSG_RD_INVOKE:"categoryWithImagesMsgReadInvoke",CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_CLICK:"categoryWithImagesMsgReadCategoryClick",CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_INVOKE:"categoryWithImagesMsgReadCategoryInvoke",CATEGORY_WITH_IMAGES_MSG_RD_BANNER_CLICK:"categoryWithImagesMsgReadBannerClick",ARTICLE_CONTENT_MSG_READ_CARD_LINK_CLICK:"articleContentMsgReadCardLinkClick",ARTICLE_CONTENT_MSG_RD_INVOKE:"articleContentMsgReadInvoke",ARTICLE_CONTENT_MSG_READ_CARD_INVOKE:"articleContentMsgReadCardInvoke",ARTICLE_CONTENT_MSG_READ_BANNER_CLICK:"articleContentMsgReadBannerClick"},o={LAUNCH:"launch",ONBOARDING:"onboarding",LEFTRAIL_COMPOSE:"leftr_comp",COMPOSE_CLOSE:"comp_cls",COMPOSE_CONTACTS:"comp_contcts",COMPOSE_TOOLBAR:"comp_toolbr",COMPOSE_MSG:"comp_msg",RTE_TOOLBAR:"rte_toolbr",CONTACT_PICKER:"cntct_pckr",MSG_READ_ATTACHMENT:"msgrd_attm",MSG_BODY:"msg_body",ATTM_PREVIEW:"attm_prvw",MSG_READ_TOOLBAR:"msgrd_toolbar",QUICK_COMPOSE:"quickComp",MSG_READ_AD:"msgrd_ad",MSG_HEADER:"msgrd_header",MSG_LIST:"msglst",MSG_LIST_MSG:"msglst_msg",MSG_LIST_TOOLBAR:"msglst_toolbr",MSG_LIST_CONTEXT_MENU:"msglst_contxt_menu",MSG_LIST_TOOLBAR_POPUP:"msglst_toolbr_pop",MSG_LIST_BULK_ACTION:"msglst_blkactn",MSG_LIST_SORT:"msglst_srt",MSG_LIST_NOTIFICATION:"msglst_notf",MSG_LIST_AD:"msglst_ad",DOC_LIST:"doc_vw",PHOTO_LIST:"photo_vw",COUPONS_LIST:"coupons_vw",RECEIPTS_LIST:"receipts_vw",TRAVEL_LIST:"travel_vw",SHOPPING_VIEW:"shopping_vw",INBOX_FILTERS:"inbox_filters",SHOPPING_CART:"shopping_cart",ATTACHMENT_LIGHTBOX:"attm_lghtbx",FEATURE_CUE:"feature_cue",FILTER_MESSAGES:"filter_messages",FEATURE_CARD:"feature_card",HEADER:"hdr",HEADER_NAV:"hdr_nav",HEADER_SEARCH:"hdr_srch",HEADER_SETTINGS:"hdr_sttngs",HEADER_LIST:"hdr_list",LEFTRAIL_SMARTVIEW:"leftr_smrtvw",LEFTRAIL_SYSFOLDER:"leftr_systfldr",LEFTRAIL_USERFOLDER:"leftr_usrfldr",LEFTRAIL_CONTEXTMENU:"leftr_contxtmnu",LEFTRAIL_ACCOUNTS:"leftr_acct",LEFTRAIL_FOLDER:"leftr_fldr",LEFTRAIL_MAILBOXES:"leftr_mboxes",RIGHT_RAIL:"rightrail",RIGHT_RAIL_WIDER_MAIL_UPSELL:"rrWMailUpsell",RIGHT_RAIL_TRAVEL_CARD:"rightRailTravelCard",RIGHT_RAIL_PLA_CARD:"rightRailPlaCard",SETTINGS_POPUP:"sttgspop",SETTINGS_MAIN:"sttgsMain",SETTINGS_LEFT_RAIL:"sttgsLftr",SETTINGS_INBOX_TAB:"sttgsInbx",SETTINGS_ACCOUNTS_TAB:"sttgsAccnts",SETTINGS_NOTIFICATIONS_TAB:"sttgsNtfctn",SETTINGS_VIEWING_EMAIL_TAB:"sttgsView",SETTINGS_AUTOMATIC_REPLY_TAB:"sttgsReply",SETTINGS_WRITING_EMAIL_TAB:"sttgsWrite",SETTINGS_CATEGORIZATION_TAB:"sttgsCtgry",SETTINGS_SOCIAL_ACCOUNTS_TAB:"sttgsSclAccnts",SETTINGS_MESSAGE_FILTERS_TAB:"sttgsMsgFltrs",CPN_STORE_LOCATOR:"cpnStoreLctr",CPN_RECOMMENDATION:"cpnRec",CPN_RECOMMENDATION_SMRTVW:"cpnRecSmrtVw",COUPON_SELF_EXTRACTION_MODAL:"cpnSlfExtrnMdl",PERIODIC_RELOAD:"periodic_rld",EMERGENCY_RELOAD:"emergency_rld",VIDEO_PLAYER:"video_player",UNSUB_PANE:"unsub_pane",FEEDBACK_PANEL:"feedback_panel",HOMEPAGE_EXT_PANEL:"hpext",TUTORIALS:"tutorials",ADFREE_UPSELL_DIALOG:"adFreeDlg",NOTIFICATION_ACTION:"NtfctnActn",MAIL_PRO_SETTINGS:"mailProSettings",TABS_MENU:"tabsMenu",RSVP_CARD:"rsvp_card",RIGHT_RAIL_RELATED_SEARCHES_CARD:"rr_related_searches_card",FEATURE_VIEWABILITY:"feature_viewability",CONTACTS_PANE:"contacts_pane",CONTACT_CARD:"contact_card",TOP_CONTACTS_TAB:"top_contacts_tab",PEOPLE_CONTACTS_TAB:"people_contacts_tab",BUSINESS_CONTACTS_TAB:"business_contacts_tab",USER_CREATED_CONTACTS_TAB:"user_created_contacts_tab",GROUPS_CONTACTS_TAB:"groups_contacts_tab",CONTACTS_PANE_SEARCH:"contacts_pane_search",RELATED_CONTACTS:"related_contacts",CONTACTS_OVERFLOW_MENU:"contacts_overflow_menu",EDIT_CREATE_USER_GROUP:"edit_create_user_group",CONTENT_PROVIDERS:"content_providers",COUPONS_SEARCH_PANE:"coupons_search_pane",EBAY_WARRANTY_UPSELL:"ebay_warranty_upsell",AD_FEEDBACK:"ad_feedback",QUOTIENT:"quotient",AFFILIATE_COUPONS:"affiliate_coupons",SHOPRUNNER:"shoprunner",NUDGE_TO_REPLY:"nudge_to_reply",USERNAME_PHONE_REG:"userName_Phone_reg",FAN_AD:"fan_ad",LASTPASS_UPSELL:"lastpass_upsell",LASTPASS_FREETRIAL_UPSELL:"lastpass_freetrial_upsell",BREAKING_NEWS:"breaking_news",MEMBERSHIP_REWARDS:"membership_rewards",COMPOSE_ATTACH_FILES_MENU:"cmpAttFilesMenu"},c=Object(a.c)(["reply","replyAll","forward","smartReply","delete","archive","restore","move","open_msg","open_doc","open_photo","dwnld_attmnt","print_attmnt","launch","search","create_fldr","mark_read","mark_unread","mark_star","mark_unstar","mark_spam","rename_fldr","move_fldr","delete_fldr","add_attmnt","compose","send"]),d={TRAVEL_UPCOMING:"trvUpcEmpty",TRAVEL_PAST:"trvPstEmpty",SEARCH:"search_zero_results"},l={CHANGE:"change"}},,function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return c}),s.d(t,"b",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"g",function(){return u}),s.d(t,"f",function(){return _}),s.d(t,"d",function(){return m});var a=s(39),n=s.n(a);function r(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const i=Object.prototype.hasOwnProperty;function o(e,t,s){if(!t||!e)return s;if("string"==typeof t&&(t=t.split(".")),1===t.length)return i.call(e,t[0])?e[t[0]]:s;return(e=e[t.splice(0,1)[0]])?o(e,t,s):s}function c(e){var t={};return("[object Array]"===Object.prototype.toString.call(e)?e:Object.keys(e)).forEach(function(e){null===e?t.null=null:void 0===e?t.undefined=void 0:t[e]=e.toString()}),t}function d(e){return!e||0===Object.keys(e).length}function l(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every(s=>e[s]===t[s])}function u(e){return Object.keys(e).map(t=>e[t])}const _=(e,t)=>{let s=e;return t.forEach(t=>{if(!i.call(e,t))return;const a=s,o=n()(a,[t].map(r));s=o}),s},m=(e,t,s)=>{const a=e[t],n=_(e,[t]);return n[s]=a,n}},function(e,t,s){"use strict";s.d(t,"U",function(){return I}),s.d(t,"a",function(){return S}),s.d(t,"w",function(){return y}),s.d(t,"x",function(){return L}),s.d(t,"o",function(){return v}),s.d(t,"v",function(){return P}),s.d(t,"G",function(){return F}),s.d(t,"j",function(){return w}),s.d(t,"l",function(){return k}),s.d(t,"q",function(){return x}),s.d(t,"k",function(){return U}),s.d(t,"T",function(){return j}),s.d(t,"S",function(){return H}),s.d(t,"V",function(){return B}),s.d(t,"z",function(){return V}),s.d(t,"B",function(){return W}),s.d(t,"h",function(){return q}),s.d(t,"F",function(){return z}),s.d(t,"u",function(){return K}),s.d(t,"t",function(){return Z}),s.d(t,"y",function(){return Y}),s.d(t,"g",function(){return X}),s.d(t,"A",function(){return Q}),s.d(t,"n",function(){return $}),s.d(t,"s",function(){return J}),s.d(t,"i",function(){return ee}),s.d(t,"r",function(){return te}),s.d(t,"I",function(){return se}),s.d(t,"p",function(){return ae}),s.d(t,"Q",function(){return ne}),s.d(t,"W",function(){return re}),s.d(t,"Y",function(){return ie}),s.d(t,"X",function(){return oe}),s.d(t,"d",function(){return ce}),s.d(t,"f",function(){return de}),s.d(t,"e",function(){return le}),s.d(t,"K",function(){return ue}),s.d(t,"C",function(){return _e}),s.d(t,"D",function(){return me}),s.d(t,"N",function(){return pe}),s.d(t,"M",function(){return he}),s.d(t,"H",function(){return ge}),s.d(t,"O",function(){return Ee}),s.d(t,"P",function(){return Ie}),s.d(t,"E",function(){return Se}),s.d(t,"m",function(){return Ce}),s.d(t,"R",function(){return fe}),s.d(t,"L",function(){return Te}),s.d(t,"J",function(){return Ae}),s.d(t,"c",function(){return be}),s.d(t,"b",function(){return Oe}),s.d(t,"Z",function(){return Re});var a=s(4),n=s.n(a),r=s(39),i=s.n(r),o=s(293),c=s.n(o),d=s(57),l=s.n(d),u=s(0),_=s(17),m=s(70),p=s(25),h=s(33),g=s.n(h),E=s(9);const I=e=>`ListUi-${e}`,S="DEFAULT_MESSAGES_METADATA_CACHEKEY",C=/^folders=([0-9]+)$/,f=/^is\:(starred|flagged|unread|read)$/gi;function T({name:e="",referrer:t="",keyword:s="",excludefolders:a=[],folders:n=[],accountIds:r=[],emailAddresses:i=[],listContentType:o=u.Pb.MESSAGES,listFilter:c=u.Qb.WITH_KEYWORD,sortOrder:d=u.Od.DATE_DESC,contactIds:l=[]}){return{name:e,referrer:t,keyword:s,folders:[].concat(n),accountIds:[].concat(r),emailAddresses:[].concat(i),excludefolders:[].concat(a),listContentType:o,listFilter:c,sortOrder:d,contactIds:[].concat(l)}}const A=T(Object.create(null)),b=Object.keys(A).sort(),O=b.map(e=>A[e]),R=JSON.stringify(b.map(()=>""));function N(e){const t=JSON.parse(e);return Array.isArray(t)?T(t.reduce(function(e,t,s){return e[b[s]]=t||O[s],e},Object.create(null))):T(t)}const M=function(e){return JSON.stringify(b.map(function(t,s){return!e[t]||e[t]===O[s]||Array.isArray(e[t])&&e[t].length<=0?"":Array.isArray(O[s])&&!Array.isArray(e[t])?[e[t]]:e[t]}))},D=Object(p.b)()?c()(N):N;function y(e){const t=e.params||{},s=t.query,a=t.fid,n=t.serializedListId;let r={};if(n)return L(n);if(s)r=l.a.parse(s);else if(a){const e=(r=l.a.parse(a)).folders;r.folders=void 0===e?[a]:e}else e.query&&(r=e.query);return M(r)}function L(e){let t={};t=l.a.parse(e)||{};const s=parseInt(e,10)?e:t.folders;return s&&(t.folders=[s]),M(t)}function v(e){const t=D(e).folders;if(1===t.length)return t[0]}function P(e,t=u.Od.DATE_DESC){return M({folders:[e],sortOrder:t})}const F=(e,t=u.Od.ALPHA_ASC)=>M({listContentType:u.Pb.SUBSCRIPTIONS,listFilter:e,sortOrder:t}),w=(e,t)=>M({listContentType:u.Pb.CONTACTS,listFilter:e,keyword:t}),k=e=>w(u.Qb.WITH_KEYWORD,e),x=e=>M({listContentType:u.Pb.CONTACTS,listFilter:u.Qb.IMPORTANT_CONTACTS,keyword:e}),U=e=>{const t=D(e);return t.listFilter===u.Qb.WITH_KEYWORD?t.keyword:""};function G(e){const t=D(e).keyword;return(void 0===t?"":t).split(" ").filter(e=>e.trim().match(f))}function j(e){return G(e).length>0}function H(e,t){const s=G(e);let a=!0;return s.forEach(e=>{if(a)switch(e){case"is:unread":a=!t.read;break;case"is:read":a=!!t.read;break;case"is:starred":case"is:flagged":a=!!t.flagged}}),a}function B(e,t){var s=!1;if("function"==typeof t)s=t("string"==typeof e?e:M(e));else if("string"==typeof t)s=("string"==typeof e?e:M(e))===t;else{const a="string"==typeof e?D(e):e;s=Object.keys(t).every(e=>Array.isArray(t[e])?t[e].indexOf(a[e])>=0:t[e]===a[e])}return s}function V(e){if(!e)return S;return D(e).keyword&&K(e)===u.Qb.WITH_KEYWORD?e:S}function W(e){const t=D(e);return t.name||t.keyword||""}function q(e){const t=D(e),s=Z(e);let a=K(e);const n=Q(e),r=u.A.MESSAGES,i=u.A.IMAGES,o=u.A.DOCUMENTS,c=u.A.PEOPLE,d=u.A.AL,l=u.A.CARDS;let _=[r,i,o,c,d].join(",");const m=Ee(e);let p="";if(m)switch(s){case u.Pb.MESSAGES:_=r;break;case u.Pb.IMAGES:_=i,p=a;break;case u.Pb.DOCUMENTS:_=o}else if(ue(e))n===u.Rb.CONTACT_DETAILS&&(a=u.Qb.FROM,_=[c,i,o,l].join(","));else switch(s){case u.Pb.MESSAGES:_=[r,c,d].join(",");break;case u.Pb.IMAGES:_=[i,c].join(",");break;case u.Pb.DOCUMENTS:_=[o,c].join(",")}const h=Object.assign({},t,{listFilter:a,expand:_});return m&&[u.Pb.IMAGES,u.Pb.DOCUMENTS].indexOf(s)>-1&&(h.keyword=""),p&&(h.filters=p),h}function z(e){return D(e).sortOrder}function K(e){return D(e).listFilter}function Z(e){return D(e).listContentType}function Y(e){return D(e).name}function X(e){return D(e).accountIds}function Q(e){return D(e).referrer}function $(e){return D(e).excludefolders}function J(e){return D(e).keyword}const ee=e=>e.startsWith("category"+_.a)?e.substring(("category"+_.a).length):"",te=e=>"category"+_.a+e,se=e=>!!ee(e);function ae(e){const t=D(e),s=t.folders,a=t.keyword,n=Object(m.d)(a);return s.length?{folderIds:s,folderNames:[]}:{folderIds:[],folderNames:n[m.a.FOLDERS]||[]}}function ne(e){return e!==R}function re(e,t={}){return M(Object.assign({},D(e),t))}function ie(e){const t=D(e),s=T({}),a={},n=t.emailAddresses,r=t.listFilter;return(void 0===n?[]:n).length>0&&(void 0===r?u.Qb.WITH_KEYWORD:r)===u.Qb.WITH_KEYWORD&&(t.listFilter=u.Qb.FROM),Object.keys(t).filter(e=>Array.isArray(t[e])?t[e].length>0:t[e]&&t[e]!==s[e]).map(e=>{a[e]=t[e]}),l.a.stringify(a)}function oe(e){return ie(e).replace(C,"$1")}function ce(e){return M(e)}const de=ce,le=e=>{let t=e.referrer,s=void 0===t?"":t,a=e.listFilter,r=void 0===a?u.Qb.ALL_COUPON_CARDS:a,o=i()(e,["referrer","listFilter"]);return""===s?"":de(n()({listContentType:u.Pb.COUPON_CARDS,listFilter:r,referrer:s},o))};function ue(e){const t=D(e).emailAddresses;return(void 0===t?[]:t).length>0}function _e(e){const t=K(e);return u.Gd.indexOf(t)>-1?t:null}function me(e){return _e(y(e))}function pe(e){const t=y(e);return e.name===u.gd.LIST&&ge(t)&&!!me(e)}function he(e){const t=y(e);return(e.name===u.gd.LIST||e.name===u.gd.SEARCH)&&ge(t)}function ge(e){const t=Q(e);return!!t&&Object(E.g)(u.Id).indexOf(t)>-1}function Ee(e){return ge(e)&&!_e(e)}function Ie(e){const t=Se(y(e));return e.name===u.gd.SEARCH&&[u.Kd.UNREAD,u.Kd.STARRED].indexOf(t)>-1}function Se(e){if(!Ee(e))return;const t=G(e),s=t.length;for(let e=0;e<s;e++){const s=t[e];if("is:unread"===s)return u.Kd.UNREAD;if("is:starred"===s)return u.Kd.STARRED}}function Ce(e){const t=D(e).emailAddresses;return(void 0===t?[]:t)[0]}function fe(e,t){const s=D(e).keyword,a=void 0===s?"":s;return-1!==(Object(m.d)(a).is||[]).indexOf(t)}function Te(e){const t=D(e),s=t.emailAddresses,a=t.folders;return!!(t.referrer||t.keyword||s&&s.length||a&&0===a.length)}function Ae(e){const t=Z(e);return t===u.Pb.REFUND_CARDS||t===u.Pb.COUPON_CARDS||t===u.Pb.GROCERY_STORES||t===u.Pb.TRAVEL_CARDS||t===u.Pb.OFFER_CARDS}const be=(e,t)=>t.reduce((e,t)=>-1!==e.indexOf(t)?e:[...e,t],[...e]);function Oe(e,t,s){if(-1!==t.indexOf(s))return t;return z(e)===u.Od.DATE_DESC?[s,...t]:[...t,s]}const Re=(e,t,s)=>{const a=t.lists[s],n=a.itemIds;return 0!==n.length&&a.hasMoreItems?n.length>e.length?n:n.length<e.length&&n.length===a.totalHits?n:g()(e.slice(0,n.length),n)?e:((e,t)=>{let s=-1;for(let a=t.length-1;a>=0;a--){const n=e.findIndex(e=>e===t[a]);if(-1!==n){s=n;break}}return-1===s?t:be(t,e.slice(s+1,e.length))})(e,n):n.length===e.length&&g()(e,n)?e:n}},function(e,t,s){"use strict";var a=s(31),n=s.n(a),r=s(350),i=s.n(r),o=s(4),c=s.n(o),d=s(449),l=s.n(d),u=s(68),_=s.n(u),m=s(33),p=s.n(m),h=s(32),g=s(175),E=s(0);const I="100%",S="320px",C="360px",f=640,T=520,A=1112;var b=s(6),O=s(12),R=s(9);Object(b.defineMessages)({adFormatSelectionPrompt:{id:"ad.adFormatSelectionPrompt",defaultMessage:"Choose your ad format"},adFormatSelectionHeader:{id:"ad.adFormatSelectionHeader",defaultMessage:"Don't like this ad format?"},adFormatSelectionAction:{id:"ad.adFormatSelectionAction",defaultMessage:"Set"},sponsoredMomentDescription:{id:"ad.adFormatSelectionSMDescription",defaultMessage:"Image ad below your newest messages"},pencilAdDescription:{id:"ad.adFormatSelectionPencilDescription",defaultMessage:"Text ad above your messages"},adFreeDescription:{id:"ad.adFormatSelectionAdFreeDescription",defaultMessage:"Ad free subscription"},adFreeAction:{id:"ad.adFormatSelectionAdFreeAction",defaultMessage:"Upgrade to Mail Pro"}});const N=Object(R.c)(["PENCIL_AD","SPONSORED_MOMENT","AD_FREE","UNSET"]),M={[N.UNSET]:0,[N.PENCIL_AD]:1,[N.SPONSORED_MOMENT]:2};var D=s(77),y=s(339),L=s(531),v=s(2),P=s(21),F=s(18),w=s(75),k=s(112),x=s(47),U=s(43),G=s(41),j=s(86),H=s(10),B=s(62),V=s(17),W=s(85),q=s(56),z=s(88);const K=Object(h.combineReducers)({amountUnit:(e="",t)=>{const s=t.offer;switch(t.type){case v.A:case v.D:return s.amountUnit;default:return e}},brandName:(e="",t)=>{const s=t.offer;switch(t.type){case v.A:case v.D:return s.brandName;default:return e}},description:(e="",t)=>{const s=t.offer;switch(t.type){case v.A:case v.D:return s.description;default:return e}},discountType:(e="",t)=>{const s=t.offer;switch(t.type){case v.A:case v.D:return s.discountType;default:return e}},expiryTimestamp:(e=0,t)=>{const s=t.offer;switch(t.type){case v.A:case v.D:return s.expiryTimestamp;default:return e}},imageUrl:(e="",t)=>{const s=t.offer;switch(t.type){case v.A:case v.D:return s.imageUrl||"";default:return e}},offerId:(e="",t)=>{const s=t.offer;switch(t.type){case v.A:case v.D:return s.offerId;default:return e}},value:(e="",t)=>{const s=t.offer;switch(t.type){case v.A:case v.D:return s.value;default:return e}}});var Z=function(e={},{type:t,offers:s}){switch(t){case v.A:{const a=(s||[]).filter(t=>!p()(e[t.offerId],t));return a.length?a.reduce((e,s)=>c()({},e,{[s.offerId]:K(e[s.id],{type:t,offer:s})}),c()({},e)):e}case v.D:{if(!s)return e;const a=s.reduce((s,a)=>c()({},s,{[a.offerId]:K(e[a.offerId],{type:t,offer:a})}),{});return Object.keys(a).length?c()({},e,a):e}default:return e}};var Y=Object(h.combineReducers)({contacts:(e={},t)=>{switch(t.type){case v.Wc:return c()({},e,{[t.email]:c()({},t.contactDetails)})}return e},contactBlackList:(e=[],t)=>{switch(t.type){case v.Vd:return[...e,t.contactInfo]}return e}});const X=(e,t,s)=>{const a=t.getSetting,n=t.getAdsSelectors,r=(0,t.isFeatureEnabled)(E.ub.ROTATE_PENCIL_AD_ON_EXPIRE),i=a(E.zd.PENCIL_AD_EXPIRE_TIME),o=n(),c=o.getAdRotationId,d=(0,o.getGeminiAds)(s)||[],l=c();return s?d.filter((e,t)=>!r||l-e.timestamp<i||t===d.length-1):[]},Q=(e,t,s)=>{const a=(X(0,t,s)[0]||{}).ads;return(a&&a.length>0?a[0]:a)||Se},$=(e,t,s)=>{const a=(X(0,t,s)[0]||{}).ads;return(a&&1===a.length&&!a[0].creativeId?a[0]:a)||[]},J=(e,t)=>{const s=t.getSetting,a=(0,t.isFeatureEnabled)(E.ub.SPONSORED_MOMENT),n=s(E.zd.GEMINI_SECTION_IDS),r=Q(0,t,n[E.Db.MESSAGE_LIST_SM]);return a&&r.creativeId?r:null},ee=({hasRightPane:e,feedbackStatus:t})=>t===E.m.STARTED?e?O.MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT:O.MESSAGE_LIST_FEEDBACK_FORM_HEIGHT:t===E.m.SUBMITTED?e?O.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:O.MESSAGE_LIST_GEMINI_AD_HEIGHT_M:void 0,te=(e,{useGeminiAdHeight:t,hasRightPane:s})=>t?s?O.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:O.MESSAGE_LIST_GEMINI_AD_HEIGHT_M:e,se=(e,t,s,a)=>{const n=e.getAdsSelectors,r=e.isFeatureEnabled,i=(0,e.getSetting)(E.zd.PREVIEW_PANE)===E.Rc.RIGHT,o=(0,n().getAdFeedbackStatus)(),c=r(E.ub.FAN_ADS)&&!s,d=o[a],l=d===E.m.STARTED||d===E.m.SUBMITTED,u=Object(H.f)({listContentType:l?E.Pb.AD_FEEDBACK:E.Pb.PENCIL_AD});return l?{id:[u,E.Pb.AD_FEEDBACK,a].join("-"),listId:u,sectionId:a,listItemHeight:ee({hasRightPane:i,feedbackStatus:d})}:{id:[u,E.Pb.PENCIL_AD,a].join("-"),listId:u,sectionId:a,listItemHeight:te(t,{useGeminiAdHeight:c,hasRightPane:i})}};var ae=s(7);const ne=E.gd.MESSAGE_FROM_SEARCH_LIST,re=E.gd.MESSAGE_FROM_FOLDER_LIST,ie=E.gd.SPONSORED_MESSAGE,oe=E.m.STARTED,ce=E.m.SUBMITTED,de=E.m.ENDED,le=E.m.DELETED,ue=[5600747],_e=Object(R.c)([5564699].concat(ue)),me=E.rb.INIT,pe=E.rb.REQUEST_AFTER_LAUNCH,he=E.rb.AD_LOAD_FAILED_RETRY,ge=E.rb.RENDER_AD,Ee=E.rb.TEMPORARAY_GEMINI_FALLBACK,Ie=E.rb.PERMANENT_GEMINI_FALLBACK,Se={creativeId:"",pencilAd:{adHeadline:"",adSummary:"",adImg:"",adSource:"",clickUrl:"",creativeId:"",type:"",adFeedbackBeacon:"",rules:{},actionUrls:{},impressionTrackingUrls:[],carouselAssets:[],callExtension:{}},nativeAd:{contentType:"",url:"",usageType:"",geminiSponsoredAsset:"",actionUrls:{},embeddedLandingUrls:{}},timestamp:0},Ce=Object(h.combineReducers)({ads:(e={spaceId:"",prevSpaceId:"",positions:[],prevPositions:[]},t)=>{switch(t.type){case v.Md:return{spaceId:t.spaceId,prevSpaceId:e.spaceId,positions:t.positions,prevPositions:[...e.positions]}}return e},errorMessage:(e="",t)=>{switch(t.type){case v.Ld:return t.error}return e},prefetchedAds:(e={},t)=>{switch(t.type){case v.Vf:return t.darlaAds||e;default:return e}}}),fe=Object(h.combineReducers)({timestamp:(e=0,t)=>{switch(t.type){case v.Pg:case v.yl:return t.actionTimestamp;case v.ce:case v.vh:if(t.fromMessageGroupView)return t.actionTimestamp;break;case v.Qg:if(t.messageReadAdRotationActive&&Object(R.a)(t,"card.folderType",null)===E.Cb.DRAFT)return 0;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&Object(R.a)(t,"card.folderType",null)!==E.Cb.DRAFT)return t.actionTimestamp;break;case v.Y:return t.isVisible&&t.messageReadAdRotationActive?t.actionTimestamp:0;case v.Lh:return t.route.name===ne||t.route.name===re?t.actionTimestamp:0;case v.ch:case v.Lf:return 0}return e},timestampV2:(e=0,t)=>{switch(t.type){case v.ah:return t.actionTimestamp}return e},active:(e=!1,t)=>{switch(t.type){case v.Pg:case v.yl:return!0;case v.ce:case v.vh:if(t.fromMessageGroupView)return!0;break;case v.Qg:if(t.messageReadAdRotationActive&&Object(R.a)(t,"card.folderType",null)===E.Cb.DRAFT)return!1;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&Object(R.a)(t,"card.folderType",null)!==E.Cb.DRAFT)return!0;break;case v.Y:return!(!t.isVisible||!t.messageReadAdRotationActive)||e;case v.Lh:return t.route.name===ne||t.route.name===re;case v.ch:return!1}return e}}),Te=e=>{const t=Object.keys(e).reduce((e,t)=>c()({},e,{[t]:e[t]===ce?de:null}),e);return p()(e,t)?e:t};var Ae=Object(h.combineReducers)({adRotationId:(e=0,t)=>{if(w.a[t.type])return t.actionTimestamp;switch(t.type){case v.Y:if(t.isVisible)return t.actionTimestamp;break;case v.Lh:if(t.route.name!==ie)return t.actionTimestamp;break;case v.fk:if(t.previewPane!==E.Rc.NO)return t.actionTimestamp;break;case v.Kh:if(t.online&&t.rotateAdsOnline)return t.actionTimestamp;break;case v.zk:if(t.forceSync&&Object(R.a)(t,"i13nModel.mKey",null)===ae.e.PULL_TO_REFRESH)return t.actionTimestamp;break;case v.Pb:case v.Ob:if(t.rotateAds)return t.actionTimestamp}return e},darla:Ce,geminiAds:(e={},t)=>{switch(t.type){case v.O:return t.sectionId&&e[t.sectionId]?c()({},e,{[t.sectionId]:[e[t.sectionId][0]]}):e;case v.Vf:case v.qf:{if(t.geminiAd&&Object.keys(t.geminiAd).length>0)return Object.keys(t.geminiAd).filter(e=>t.geminiAd[e]&&!t.geminiAd[e].error).reduce((e,s)=>_e[s]?c()({},e,{[s]:[{ads:t.geminiAd[s],timestamp:t.actionTimestamp}]}):(e[s]=[...e[s]||[],{ads:t.geminiAd[s],timestamp:t.actionTimestamp}].filter(e=>t.actionTimestamp-e.timestamp<6e5),e),c()({},e));const s=t.sectionIds&&ue.find(e=>e===t.sectionIds[E.Db.MESSAGE_READ]);if(s)return c()({},e,{[s]:[]});break}case v.rf:{const s=t.sectionIds,a=void 0===s?{}:s;return Object(R.g)(a).reduce((e,s)=>(e[s]&&(e[s]=e[s].length>1?e[s].slice(1).filter(e=>t.actionTimestamp-e.timestamp<6e5):e[s].filter(e=>t.actionTimestamp-e.timestamp<6e5)),e),c()({},e))}}return e},geminiError:(e={},t)=>{switch(t.type){case v.qf:{const e={};return Object.keys(t.geminiAd||{}).reduce((e,s)=>(t.geminiAd[s]&&t.geminiAd[s].error&&(e[s]=t.geminiAd[s]),e),e)}case v.pf:return Object(R.g)(t.sectionIds||[]).reduce((e,s)=>(e[s]=t.error,e),{})}return e},searchAds:(e={},t)=>{switch(t.type){case v.Ti:if(Object(R.a)(t,"response.ADS",null))return c()({},e,{[t.listId]:Object(R.a)(t,"response.ADS.WITH_KEYWORD.items",null)})}return e},searchPlaAds:(e={},t)=>{switch(t.type){case v.Ti:if(Object(R.a)(t,"response.PLAADS",null))return c()({},e,{[t.listId]:Object(R.a)(t,"response.PLAADS.WITH_KEYWORD.items",null)})}return e},adFeedback:(e={},t)=>{if(w.a[t.type]&&t.type!==v.M)return Te(e);switch(t.type){case v.Y:if(t.isVisible)return Te(e);break;case v.Lh:if(t.route.name!==ie)return Te(e);break;case v.fk:if(t.previewPane!==E.Rc.NO)return Te(e);break;case v.Kh:if(t.online&&t.rotateAdsOnline)return Te(e);break;case v.Pb:case v.Ob:if(t.rotateAds)return Te(e);break;case v.N:return c()({},e,{[t.sectionId]:oe});case v.O:return c()({},e,{[t.sectionId]:ce});case v.M:return c()({},e,{[t.sectionId]:e[t.sectionId]===ce?de:null});case v.fe:return c()({},e,{[t.sectionId]:le})}return e},messageReadAdRotation:fe,geminiCategories:(e=[],t)=>{switch(t.type){case v.Lh:case v.di:if(t.geminiCategories&&t.geminiCategories.length)return t.geminiCategories}return e},sponsoredAds:(e={},t)=>{switch(t.type){case v.Lh:return t.sponsoredAd?c()({},e,{[Object(R.a)(t,"sponsoredAd.creativeId")]:t.sponsoredAd}):e;case v.tf:{const s=e[t.creativeId]&&c()({},e[t.creativeId].nativeAd,{geminiSponsoredAsset:t.asset});return c()({},e,{[t.creativeId]:c()({},e[t.creativeId],{nativeAd:s})})}}return e},relatedSearches:(e={},t)=>{switch(t.type){case v.ui:return t.queries}return e},isAdBlocked:(e=!1,t)=>{switch(t.type){case v.E:return!0}return e},isABPDetected:(e=!1,t)=>{switch(t.type){case v.c:return!0}return e},isSponsoredMomentClosed:(e=!1,t)=>{switch(t.type){case v.Wj:return!0}return e},fanAdRenderState:(e=me,t)=>{if(e===Ie)return e;if(e===Ee&&Object(w.g)(t))return ge;switch(t.type){case v.bg:if(e===me)return pe;break;case v.Ue:return e===pe?he:Ie;case v.Ve:return ge;case v.qf:if(e===he)return Ee}return e},fanAdRenderTimeStamp:(e=0,t)=>{switch(t.type){case v.bg:case v.Ve:return t.actionTimestamp}return e},checkMailAdRotationIdleTimestamp:(e=0,t)=>{switch(t.type){case v.Pb:return t.userInitiated?t.actionTimestamp:e;case v.qf:case v.Md:case v.ah:return e}return t.actionTimestamp||e},displayPencilAdV3:(e={},t)=>{if(Object(w.g)(t)&&t.type!==v.Lh)return Object.keys(e).filter(t=>6===e[t]).forEach(t=>e[t]=0),Object.keys(e).filter(t=>1===e[t]).forEach(t=>e[t]=2),Object.keys(e).filter(t=>3===e[t]).forEach(t=>e[t]=4),Object.keys(e).filter(t=>5===e[t]).forEach(t=>e[t]=6),e;switch(t.type){case v.Lh:return Object.keys(e).filter(t=>2===e[t]).forEach(t=>e[t]=0),Object.keys(e).filter(t=>6===e[t]).forEach(t=>e[t]=0),Object.keys(e).filter(t=>1===e[t]).forEach(t=>e[t]=2),Object.keys(e).filter(t=>3===e[t]).forEach(t=>e[t]=4),Object.keys(e).filter(t=>5===e[t]).forEach(t=>e[t]=6),e;case v.mj:return Object.keys(e).filter(t=>2===e[t]||1===e[t]).forEach(t=>e[t]=0),e;case v.O:if(t.disablePencilAd&&"pencilAdVersionV3Test6"===t.disablePencilAd)return c()({},e,{[t.sectionId]:1});if(t.disablePencilAd&&"pencilAdVersionV3Test7"===t.disablePencilAd)return c()({},e,{[t.sectionId]:3});if(t.disablePencilAd&&("pencilAdVersionV3Test2"===t.disablePencilAd||"pencilAdVersionV3Test9"===t.disablePencilAd))return c()({},e,{[t.sectionId]:5})}return e},rrCollapseOnShoppingCartAd:(e=E.cd.EMPTY,t)=>{if(!Object(R.a)(t,"route.params.groupId",""))return E.cd.EMPTY;if(t.type===v.Lh){const s=(t.route||{}).params,a=void 0===s?{}:s,n=(t.previousRoute||{}).params,r=void 0===n?{}:n;if(a.groupId&&!r.groupId)return E.cd.TEMPORARILY_EXPANDED;if(a.groupId&&r.groupId&&e===E.cd.TEMPORARILY_EXPANDED)return E.cd.PERMANENTLY_EXPANDED}else if(t.type===v.Ej&&e===E.cd.TEMPORARILY_EXPANDED)return E.cd.COLLAPSED;return e}});const be=E.w.Dispositions;var Oe=function(e={},t){const s=t.listData,a=void 0===s?{}:s,n=t.message;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.mh:case v.Ug:case v.hc:case v.rh:case v.Ti:case v.Vi:case v.Jg:case v.Cl:case v.zl:case v.Mg:case v.Lg:case v.Lh:case v.gh:{const t=n?n.attachments.reduce((e,t)=>c()({},e,{[t.id]:t}),{}):a.attachments;if(!t)return e;const s=function(e,t){return Object.keys(t).reduce((s,a)=>{const n=t[a],r=e[a]||{};return(e[a]||{}).contentId&&e[a].disposition===n.disposition||(s[a]=n),r.disposition&&r.disposition!==n.disposition&&(s[a]=c()({},r,{disposition:n.disposition})),s},{})}(e,t);return Object.keys(s).length?c()({},e,s):e}case v.Al:{const s=t.newContentIds,a=void 0===s?[]:s;if(!a.length)return e;const n=a.map(e=>({contentId:e}));return c()({},e,n)}case v.eb:{const s=t.id,a=t.newZoomLevel,n=e[s];return n?c()({},e,{[s]:c()({},n,{previewerUiState:c()({},n.previewerUiState,{zoomLevel:a})})}):e}default:return e}};const Re={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};var Ne=(e={},{type:t="",senderEmail:s="",nearbyListing:a={}}={})=>{switch(t){case v.ql:{const t=a.name,n=void 0===t?"":t,r=a.latlong,i=void 0===r?"":r,o=a.address,d=void 0===o?{}:o,l=d.street,u=void 0===l?"":l,_=d.city,m=void 0===_?"":_,p=a.hours_status,h=(void 0===p?{}:p).hours,g=void 0===h?{}:h,E=a.phone,I=void 0===E?"":E,S=a.distance_in_miles,C=void 0===S?"":S,f=i?Date.now():1/0,T=Object.keys(g).sort((e,t)=>Re[e]-Re[t]).map(e=>g[e]);return c()({},e,{[s]:{name:n,latlong:i,streetAddress:u,city:m,hours:T,phone:I,distance:C,lastUpdated:f}})}case v.wf:return Object.keys(e).reduce((t,s)=>c()({},t,{[s]:c()({},e[s],{lastUpdated:0})}),{});default:return e}};const Me=Object(h.combineReducers)({startTime:(e=0,t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"startTime",e);default:return e}},endTime:(e=0,t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"endTime",e);default:return e}},location:(e="",t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"location",e);default:return e}},summary:(e="",t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"summary",e);default:return e}},state:(e="",t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"state",e);default:return e}},firstAttendeeStatus:(e=[],t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"firstAttendeeStatus",e);default:return e}},organizerEmail:(e=[],t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"organizerEmail",e);default:return e}},isSameDay:(e=!1,t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"isSameDay",e);default:return e}},attendees:(e=[],t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"attendees",e);default:return e}},videoLink:(e="",t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"videoLink",e);default:return e}},firstAttendeeEmail:(e=null,t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"firstAttendeeEmail",e);default:return e}},response:(e="",t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"response",e);case v.Di:case v.Ci:return t.response;default:return e}},messageId:(e="",t)=>{switch(t.type){case v.Xf:return t.currentMessageId||e;default:return e}},status:(e=null,t)=>{switch(t.type){case v.Wf:return"ERROR";case v.xf:return"LOADING";case v.Xf:return"READY";default:return e}},uid:(e="",t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"uid",e);default:return e}},email:(e="",t)=>{switch(t.type){case v.Xf:return Object(R.a)(t.inviteInfoGroup[t.currentMessageId],"email",e);default:return e}}});var De=(e={},t)=>{switch(t.type){case v.xf:case v.Bi:case v.Di:case v.Ci:return c()({},e,{[t.messageId]:Me(e[t.messageId],t)});case v.Xf:case v.Wf:{let s={};return(t.messageIds||[]).forEach(a=>{s=c()({},s,{[a]:Me(e[a],c()({},t,{currentMessageId:a}))})}),c()({},e,s)}default:return e}};const ye=(e=[],t)=>{const s=t.cardGroup,a=void 0===s?[]:s;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.Rk:case v.th:return p()(a,e)?e:a;default:return e}};var Le=function(e={},t){const s=t.type,a=t.listData,n=void 0===a?{}:a;switch(s){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.Rk:case v.th:{const t=n.groupIdToMessageIdsMap;if(!t)return e;const a=Object.keys(t).filter(s=>!p()(t[s],e[s])).reduce((a,n)=>c()({},a,{[n]:ye(e[n],{type:s,cardGroup:t[n]})}),{});return Object.keys(a).length?c()({},e,a):e}default:return e}};const ve=(e=[],t)=>{const s=t.cards;switch(t.type){case v.jh:case v.ph:case v.Mg:case v.Lg:case v.Ug:case v.td:case v.Te:case v.oi:case v.Rk:case v.Ti:case v.th:case v.Vf:return p()(s,e)?e:s;default:return e}};var Pe=function(e={},t){const s=t.listData,a=void 0===s?{}:s,n=t.type;switch(n){case v.jh:case v.ph:case v.Mg:case v.Lg:case v.Ug:case v.td:case v.Te:case v.oi:case v.Rk:case v.Ti:case v.th:case v.Vf:{if(!a.messageIdToSchemaIdsMap)return e;const t=Object.keys(a.messageIdToSchemaIdsMap).filter(t=>!p()(e[t],a.messageIdToSchemaIdsMap[t])).reduce((t,s)=>c()({},t,{[s]:ve(e[s],{type:n,cards:a.messageIdToSchemaIdsMap[s]})}),{});return Object.keys(t).length?c()({},e,t):e}default:return e}};var Fe=s(624),we=s.n(Fe);const ke=Object(h.combineReducers)({name:(e="",t)=>{const s=t.category;switch(t.type){case v.Mg:case v.Bb:return s.name||"";default:return e}},following:(e=!1,t)=>{switch(t.type){case v.Bb:case v.Fb:return!0;case v.Jb:return!1;default:return e}},error:(e="",t)=>{switch(t.type){case v.Cb:case v.Hb:return t.error;case v.Db:return"";default:return e}}});var xe=Object(h.combineReducers)({categories:function(e={},t){const s=t.listData,a=void 0===s?{}:s,n=t.followedCategoryList,r=void 0===n?[]:n,i=t.error,o=void 0===i?"":i,d=t.type;switch(d){case v.Mg:{if(!a.schemaCards)return e;const t=Object.keys(a.schemaCards).filter(t=>a.schemaCards[t].type===E.qd.Coupon&&!we()(e[t],Object(R.f)(a.schemaCards[t],["id","type"]))).map(e=>a.schemaCards[e].couponCategories).reduce((e,t)=>e.concat(t),[]).reduce((t,s)=>c()({},t,{[s.id]:ke(e[s.id],{type:d,category:s})}),{});return Object.keys(t).length?c()({},e,t):e}case v.Bb:case v.Fb:case v.Jb:{const t=r.reduce((t,s)=>c()({},t,{[s.id]:ke(e[s.id],{type:d,category:s})}),{});return Object.keys(t).length?c()({},e,t):e}case v.Cb:case v.Hb:{const t=r.reduce((t,s)=>c()({},t,{[s.id]:ke(e[s.id],{type:d,category:s,error:o})}),{});return Object.keys(t).length?c()({},e,t):e}case v.Db:{const t=Object.keys(e).filter(t=>e[t].error).map(t=>c()({},e[t],{id:t})).reduce((t,s)=>c()({},t,{[s.id]:ke(e[s.id],{type:d,category:s})}),{});return Object.keys(t).length?c()({},e,t):e}default:return e}},icprofile:function(e=!1,t){switch(t.type){case v.Bb:return!0}return e}});var Ue=Object(h.combineReducers)({composeAttributesStatus:(e=E.bd.LOADING,t)=>{const s=t.route;switch(t.type){case v.bg:return s.name===E.gd.NEW_DRAFT||s.name===E.gd.EDIT_DRAFT?E.bd.LOADED:e;case v.nc:case v.uj:return E.bd.LOADED;case v.tj:case v.mc:return E.bd.ERROR;default:return e}}});var Ge=s(84),je=s(46),He=s.n(je),Be=s(30);const Ve=Object(h.combineReducers)({mailToLink:(e=null,t)=>{switch(t.type){case v.Lh:{const s=t.mailtoAttr;return s||e}}return e},stationeryTheme:(e=Be.NO_STATIONERY,t)=>{const s=t.unsyncedDataItem,a=(void 0===s?{}:s).userInputtedValues,n=void 0===a?{}:a;switch(t.type){case v.Lh:if(t.stationeryTheme)return t.stationeryTheme}return n.stationeryTheme||e},composeUndoStack:(e=[],t)=>{const s=t.unsyncedDataItem,a=(void 0===s?{}:s).userInputtedValues,n=void 0===a?{}:a;switch(t.type){case v.Fl:case v.zl:return[]}return n.undoStack||e},composeRedoStack:(e=[],t)=>{const s=t.unsyncedDataItem,a=(void 0===s?{}:s).userInputtedValues,n=void 0===a?{}:a;switch(t.type){case v.Fl:case v.zl:return[]}return n.redoStack||e},composeUiState:(e=null,t)=>{const s=t.unsyncedDataItem,a=(void 0===s?{}:s).userInputtedValues,n=void 0===a?{}:a;switch(t.type){case v.ii:return Object.assign({},e,{isQuotedTextExpanded:!0})}return n.uiState||e},lastAutotagQuery:(e="",t)=>{switch(t.type){case v.id:return t.query}return e},attachmentProgress:(e={},t)=>{switch(t.type){case v.ul:{const s=c()({},e);return t.newFileContentIds.forEach(e=>s[e]=t.percent),s}}return e},sendStatus:(e=null,t)=>{switch(t.type){case v.jl:case v.El:return e!==Ge.g.SENT?Ge.g.SENDING:e;case v.Fl:case v.zl:return Ge.g.SENT;case v.Al:return t.error&&"ES-2001"===t.error.errorCode?Ge.g.SENT:e;case v.Dl:return t.error&&"ES-2001"===t.error.errorCode?Ge.g.SENT:Ge.g.SEND_FAILED}return e},composeFieldToFocus:(e=Ge.a.TO,t)=>{switch(t.type){case v.Lh:return t.isReplyingMessageSubjectEdited?Ge.a.SUBJECT:e;case v.ch:return t.inForwardToMessageId?Ge.a.TO:Ge.a.EDITOR;case v.Dl:return Ge.a.EDITOR}return e},doComposeFromRouteQueryParams:(e=!1,t)=>{switch(t.type){case v.Vf:return!!t.mrdParams;case v.Lh:return!1}return e},forwardCreativeId:(e=null,t)=>{switch(t.type){case v.Lh:return t.forwardCreativeId||null}return e},forwardAttachmentIds:(e=[],t)=>{switch(t.type){case v.Lh:case v.of:return t.attachments?[...e,...t.attachments.map(({id:e})=>({id:e,timestamp:Date.now()}))]:e;case v.Sb:return[]}return e},inReplyToMessageId:(e=null,t)=>{switch(t.type){case v.Vf:case v.Vk:case v.Pb:case v.Lb:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.Df:case v.Ug:{const e=t.inReplyTo,s=void 0===e?{}:e,a=s.messageReference,n=void 0===a?{}:a;return s.replied&&n.id?n.id:null}case v.ch:return t.inReplyToMessageId||null;case v.Lh:return t.isReplyingMessageSubjectEdited?null:e}return e},inReplyAllToMessageId:(e=null,t)=>{switch(t.type){case v.ch:return t.inReplyAllToMessageId||null;case v.Lh:return t.isReplyingMessageSubjectEdited?null:e}return e},inForwardToMessageId:(e=null,t)=>{switch(t.type){case v.Vf:case v.Vk:case v.Pb:case v.Lb:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.Df:case v.Ug:{const e=t.inReplyTo,s=void 0===e?{}:e,a=s.messageReference,n=void 0===a?{}:a;return s.forwarded&&n.id?n.id:null}case v.ch:return t.inForwardToMessageId||null;case v.Lh:return t.isReplyingMessageSubjectEdited?null:e}return e},selectedReplySuggestion:(e=null,t)=>{switch(t.type){case v.ch:{const e=t.selectedReplySuggestion;return e||null}}return e},draftMessageId:(e=null,t)=>{switch(t.type){case v.Vf:case v.Vk:case v.Pb:case v.Lb:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.Df:case v.Ug:return t.draftMessageId||null;case v.Jg:case v.gh:case v.Cl:case v.zl:return t.message.id;case v.Lh:return t.isReplyingMessageSubjectEdited?null:e}return e},fatalErrorCount:(e=0,t)=>{switch(t.type){case v.eh:case v.Al:case v.Hg:return t.error&&/^(E(S|C|T|P)-|EMPTY_RESPONSE)/.test(t.error.errorCode)?e+1:e;case v.gh:case v.Cl:case v.Jg:case v.zl:return 0}return e},lastSaveTimeStamp:(e=0,t)=>{switch(t.type){case v.Cl:case v.zl:return t.lastEditedTimeStamp||t.actionTimestamp}return e},lastOpenTimeStamp:(e=0,t)=>{switch(t.type){case v.Lh:return t.actionTimestamp||e}return e},isAutotagDisabled:(e=!1)=>e,isRelatedContactsDismissed:(e=!1,t)=>{switch(t.type){case v.ri:return!0}return e},composeParams:(e=null,t)=>{switch(t.type){case v.Lh:{const s=t.composeParams,a=void 0===s?{}:s;if(Object.keys(a).length>0)return c()({},e,a);break}case v.H:{const s=t.composeParams;if(s&&(s.to||s.cc||s.bcc))return c()({},e,s);break}case v.Pd:return null}return e},composeHeaderInputFocus:(e={},t)=>{switch(t.type){case v.rl:return t.inputFocus}return e}});var We=(e={},t)=>{switch(t.type){case v.eh:case v.Hg:case v.Bl:case v.Al:case v.El:case v.Dl:case v.Fl:case v.zl:case v.Jg:case v.gh:case v.Cl:case v.ii:case v.ul:case v.H:case v.Pd:case v.rl:case v.ri:case v.ch:if(t.csid)return c()({},e,{[t.csid]:Ve(e[t.csid],t)});break;case v.gb:return c()({},e,{[t.csid]:c()({},e[t.csid],{isAutotagDisabled:!0})});case v.zk:case v.Sb:case v.Kh:case v.Y:case v.of:case v.Lh:{const s=t.unsyncedData,a=(void 0===s?[]:s).filter(e=>e.type===E.re.COMPOSE);if(a.length){const s=a.map(s=>({[s.id]:Ve(e[s.id],{type:t.type,attachments:t.csid===s.id?t.attachments:null,isReplyingMessageSubjectEdited:t.isReplyingMessageSubjectEdited,unsyncedDataItem:s})}));return c()({},e,t.csid?{[t.csid]:Ve(e[t.csid],t)}:{},Object.assign.apply({},s))}if(t.csid)return c()({},e,{[t.csid]:Ve(e[t.csid],t)});break}case v.Vf:case v.Vk:case v.Pb:case v.Lb:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.Df:case v.Ug:{const s=t.mrdParams,a=void 0===s?{}:s,n=t.draftData,r=void 0===n?{}:n;if(a.csid)return c()({},e,{[a.csid]:Ve(e[a.csid],t)});if(r.csid)return c()({},e,{[r.csid]:Ve(e[r.csid],t)});if(t.listData&&t.listData.messages){const s=t.unsyncedData.filter(e=>e.type===E.re.COMPOSE).map(e=>e.id),a=Object(R.g)(t.listData.messages||[]).filter(e=>-1===s.indexOf(e.csid)).map(s=>({[s.csid]:Ve(e[s.csid],c()({},t,{draftMessageId:s.id,inReplyTo:s.inReplyTo}))}));return a.length?c()({},e,Object.assign.apply({},a)):e}if(t.csid)return c()({},e,{[t.csid]:Ve(e[t.csid],t)});break}case v.ce:if(t.csid)return He()(e,t.csid);if(t.itemsToUpdate)return He()(e,t.itemsToUpdate.filter(e=>!e.destinationFolder&&e.isAffected).map(({csid:e})=>e).filter(Boolean));break;case v.id:case v.jl:if(t.csid)return c()({},e,{[t.csid]:Ve(e[t.csid],t)})}return e};var qe=Object(h.combineReducers)({composeSuggestions:function(e={},t){switch(t.type){case v.jd:return c()({},e,{[t.query]:t.contacts})}return e},composeSuggestionsFromImportantContacts:function(e={},t){switch(t.type){case v.id:return c()({},e,{[t.query]:t.contacts},t.nextContacts);case v.Lh:return{}}return e}});var ze=s(39),Ke=s.n(ze),Ze=s(625),Ye=s.n(Ze),Xe=s(124);const Qe={isEditable:!1,name:"",emails:[],emailType:{},phonesWithType:[],addressesWithType:[]},$e=(e=Qe,t)=>{switch(t.type){case v.ad:return c()({},e,t.contact,{photoTimestamp:Date.now()});case v.Wc:return c()({},e,t.contact);case v.Ed:case v.fd:case v.Bc:return c()({},e,t.contact);case v.jd:case v.zc:case v.Tf:{const s=t.contact;return c()({},e,{name:s.name,emails:Ye()(e.emails,s.emails),id:s.xobniId})}case v.Ti:{const e=t.contact,s=e.xobniId,a=Ke()(e,["xobniId"]);return c()({},a,{isEditable:!0,id:s})}default:return e}};var Je=s(626),et=s.n(Je),tt=s(218);const st=e=>e.type===E.V.CONTACTS_LIST?e:c()({},e,{type:E.V.CONTACTS_LIST,id:null,lastSavedData:void 0,contact:null,uiContext:null});var at=s(415);const nt=(e={},t)=>{switch(t.type){case v.Gc:case v.zc:case v.Nc:case v.Bc:return c()({},e,t.group);default:return e}};var rt=Object(h.combineReducers)({byId:(e={},t)=>{switch(t.type){case v.jd:{const s=t.contacts,a=t.type;return(void 0===s?[]:s).reduce((t,s)=>c()({},t,{[s.id]:$e(e[s.id],{type:a,contact:{xobniId:s.id,name:s.name,emails:[s.email]}})}),c()({},e))}case v.zc:{const s=t.contacts;return(void 0===s?[]:s).reduce((s,a)=>{const n=c()({},a,{xobniId:a.id,name:a.name});return a.type===Xe.b.EMAIL&&(n.emails=[a.value]),c()({},s,{[a.id]:$e(e[a.id],{type:t.type,contact:n})})},c()({},e))}case v.Bc:{const s=c()({},e),a=t.contacts;return(void 0===a?[]:a).forEach(({contacts:a})=>{a.forEach(a=>{s[a.id]=$e(e[a.id],{type:t.type,contact:a})})}),s}case v.Ti:{const s=t.listData,a=Object.keys((void 0===s?{}:s).people||{});if(!a.length)return e;const n=c()({},e);return a.forEach(s=>{n[s]=$e(e[s],{type:t.type,contact:t.listData.people[s]})}),n}case v.Tf:{const s=c()({},e);return t.contacts.forEach(a=>{const n=a.xobniId;s[n]=$e(e[n],{type:t.type,contact:a})}),s}case v.Ed:case v.ad:case v.fd:{const s=c()({},e);return s[t.contact.id]=$e(e[t.contact.id],{type:t.type,contact:t.contact}),s}case v.Rd:return Object(R.f)(e,t.itemsToUpdate.filter(({isAffected:e})=>e).map(({id:e})=>e));case v.Wc:{const s=t.contactDetails,a=s.xobniId,n=s.name,r=Ke()(s,["xobniId","name"]);return a?c()({},e,{[a]:$e(e[a],{type:t.type,contact:c()({},r,{id:a,name:n,isEditable:!0})})}):e}default:return e}},idByEmail:(e={},t)=>{switch(t.type){case v.Ti:{const s=t.listData,a=(void 0===s?{}:s).people;return a?(e=c()({},e),Object(R.g)(a).forEach(({xobniId:t,id:s})=>{e[s]=t}),e):e}case v.Tf:return c()({},e,t.contactEmailToId);case v.Ed:case v.fd:{let s=c()({},e);const a=t.contact,n=a.id,r=a.emails,i=void 0===r?[]:r,o=t.itemsToUpdate[0].changedEmails,d=void 0===o?[]:o;return d.length>0&&(s=Object(R.f)(s,d)),i.forEach(e=>s[e]=n),s}case v.Bc:return et()(t.contacts||[],e=>e.contacts).reduce((e,t)=>{const s={};return t.emails.forEach(e=>s[e]=t.id),c()({},e,s)},c()({},e));case v.jd:{const s=t.contacts;return(void 0===s?[]:s).reduce((e,t)=>c()({},e,{[t.email]:t.id}),c()({},e))}case v.zc:{const s=t.contacts;return(void 0===s?[]:s).reduce((e,t)=>{const s=t.id,a=t.value;return t.type===Xe.b.EMAIL?c()({},e,{[a]:s}):e},c()({},e))}case v.Rd:return Object.keys(e).filter(s=>{const a=e[s];return t.itemsToUpdate.every(e=>e.id!==a)}).reduce((t,s)=>(t[s]=e[s],t),{});case v.Wc:{const s=t.contactDetails,a=s.xobniId,n=s.emails,r=void 0===n?[]:n,i=c()({},e);return a&&r.forEach(e=>i[e]=a),i}default:return e}},selectedPaneFilter:(e=E.Qb.USER_CREATED_CONTACTS,t)=>{switch(t.type){case v.Lc:return t.listFilter;default:return e}},contactsPaneView:(e={},t)=>{switch(t.type){case v.Fc:case v.Ec:return c()({},e,{type:E.V.CREATE_GROUP,id:t.tempGroupId,lastSavedData:{name:"",contacts:[]}});case v.Mc:case v.Jc:{const s=t.id,a=t.oldGroup;return c()({},e,{type:E.V.EDIT_GROUP,id:s,lastSavedData:a})}case v.Hi:if(t.name===E.dd.CONTACTS_PANE)return st(e);break;case v.Lh:case v.di:{const s=t.uiContext,a=(void 0===s?{}:s).mKey,n=t.route;if((void 0===n?{}:n).name===E.gd.NEW_DRAFT)break;if(!a||-1===tt.a.COMPOSE_FROM_CONTACTS_PANE.indexOf(a))return st(e);break}case v.Cc:case v.Yc:switch(e.type){case E.V.EDIT_CONTACT:return-1!==tt.a.EDIT_FORM.indexOf(e.uiContext)?c()({},e,{type:E.V.CONTACT_DETAILS}):st(e);case E.V.CREATE_GROUP:case E.V.EDIT_GROUP:case E.V.CONTACT_DETAILS:case E.V.CREATE_CONTACT:return st(e)}break;case v.Ic:switch(e.type){case E.V.CONTACT_DETAILS:return c()({},e,{type:E.V.EDIT_CONTACT,uiContext:tt.a.EDIT_FORM[1]})}break;case v.De:return c()({},e,{type:E.V.EDIT_CONTACT,id:t.id,contact:null,uiContext:tt.a.EDIT_FORM[0]});case v.I:return t.id?c()({},e,{type:E.V.EDIT_CONTACT,contact:null,id:t.id,uiContext:null}):c()({},e,{type:E.V.CREATE_CONTACT,contact:{isEditable:!1,name:"",emailsWithType:[{value:t.email,type:"email"}],phonesWithType:[],addressesWithType:[]},id:null});case v.Tc:return c()({},e,{type:E.V.CREATE_CONTACT,id:null,contact:null});case v.Dc:return c()({},e,{type:E.V.CONTACT_DETAILS,id:t.id,contact:null});case v.Rd:case v.ed:case v.wc:case v.Nc:case v.Gc:return st(e)}return e},selectedUserGroup:(e={[E.Qb.GROUPS]:null,[at.a]:E.ab},t)=>{switch(t.type){case v.Kc:return c()({},e,{[E.Qb.GROUPS]:t.value});case v.Bc:{const s=t.groupIds,a=void 0===s?[]:s;if(null===e[E.Qb.GROUPS]&&a.length)return c()({},e,{[E.Qb.GROUPS]:a[0]});break}case v.wc:return c()({},e,{[E.Qb.GROUPS]:t.newGroupId});case v.Gc:{const s=t.tempGroupId;return c()({},e,{[E.Qb.GROUPS]:s})}case v.Hc:{const s=t.id;if(e[E.Qb.GROUPS]===t.tempGroupId)return c()({},e,{[E.Qb.GROUPS]:s});break}case v.bd:case v.cd:return c()({},e,{[at.a]:t.value||E.ab})}return e},groupsById:(e={},t)=>{switch(t.type){case v.Bc:{const s=t.groups,a=void 0===s?[]:s,n=t.groupIds,r=void 0===n?[]:n,i=t.type;return a.length&&r.length?a.reduce((t,s,a)=>{const n=r[a];return n&&(t[n]=nt(e[n],{type:i,group:{id:n,name:s}})),t},c()({},e)):e}case v.Gc:{const s=t.name,a=t.tempGroupId,n=t.type;if(!s||!a)break;return c()({},e,{[a]:nt(e[a],{type:n,group:{id:a,name:s}})})}case v.Nc:{const s=t.groupId,a=t.newName,n=t.type;if(!a||!s)break;return c()({},e,{[s]:nt(e[s],{type:n,group:{id:s,name:a}})})}case v.Hc:{const s=t.tempGroupId,a=t.id;if(!a)break;const n=Object(R.d)(e,s,a);return n[a].id=a,n}case v.zc:{const s=t.groupName,a=t.id,n=t.type;return a?c()({},e,{[a]:nt(e[a],{type:n,group:{id:a,name:s}})}):e}case v.xc:{const s=t.groupId;return s?Object(R.f)(e,[s]):e}}return e}});var it=(e={},{type:t,contentProviders:s={}})=>{switch(t){case v.ec:case v.ld:return c()({},e,s)}return e};const ot=Object(h.combineReducers)({imageUrl:(e=null,t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.Ti:return s.imageUrl||e;default:return e}},validThrough:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.Ti:return s.validThrough;default:return e}},isInferredDate:(e=!1,t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.Ti:return s.isInferredDate||!1;default:return e}},savedSearchQuery:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.Ti:return s.savedSearchQuery?s.savedSearchQuery:e;default:return e}},dealLink:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.Ti:return s.dealLink?s.dealLink:e;default:return e}},description:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.Ti:return s.description;default:return e}},clipped:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.qd:case v.vd:case v.Ti:return s.clipped;default:return e}},from:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.Ti:return s.from;default:return e}},unusualDiscount:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:return s.unusualDiscount||"";default:return e}},couponCategories:(e=[],t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:return s.couponCategories||[];default:return e}},retailer:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:return s.retailer;default:return e}},cardConversationId:(e="",t)=>{const s=t.card;switch(t.type){case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.td:case v.jh:case v.Ti:return s.cardConversationId;default:return e}}});var ct=function(e={},t){const s=t.listData,a=void 0===s?{}:s,n=t.type;switch(n){case v.jh:case v.Mg:case v.Lg:case v.Ug:case v.Te:case v.Ti:case v.td:{if(!a.schemaCards)return e;const t=Object.keys(a.schemaCards).filter(t=>a.schemaCards[t].type===E.qd.Coupon&&!p()(e[t],He()(a.schemaCards[t],["id","type"]))).reduce((t,s)=>c()({},t,{[s]:ot(e[s],{type:n,card:a.schemaCards[s]})}),{});return Object.keys(t).length?c()({},e,t):e}case v.vd:case v.qd:{if(!a.schemaCards)return e;const t=Object.keys(a.schemaCards).reduce((t,s)=>c()({},t,{[s]:ot(e[s],{type:n,card:a.schemaCards[s]})}),{});return Object.keys(t).length?c()({},e,t):e}default:return e}};const dt=(e={})=>({getImageUrl:t=>e[t].imageUrl,getValidThroughDate:t=>e[t].validThrough,isInferredDate:t=>e[t].isInferredDate,getSavedSearchQuery:t=>e[t].savedSearchQuery,getDealLink:t=>e[t].dealLink,getDescription:t=>e[t].description,getFromAddress:t=>e[t].from,isClipped:t=>e[t].clipped,getCardConversationId:t=>e[t].cardConversationId,getCoupons:()=>e,getUnusualDiscount:t=>e[t].unusualDiscount,getCouponCategory:t=>e[t].couponCategories,getRetailer:t=>e[t].retailer});var lt=Object(h.combineReducers)({topRetailers:(e=null,t)=>{switch(t.type){case v.Pk:return t.topRetailers}return e},topDealCategories:(e=null,t)=>{switch(t.type){case v.Nk:return t.topDealCategories}return e}});var ut=Object(h.combineReducers)({isDetailPaneExpanded:(e=!1,t)=>{switch(t.type){case v.Jk:return!e;case v.Lh:case v.de:case v.wh:return!1;default:return e}}});const _t=Object(h.combineReducers)({content:(e=null,t)=>{switch(t.type){case v.we:return t.page.content}return e},status:(e=E.bd.DOES_NOT_EXIST,t)=>{switch(t.type){case v.we:return t.page.state;case v.ve:return E.bd.LOADING}return e}}),mt=(e,t)=>`${e}-${t}`,pt=Object(h.combineReducers)({pages:(e={},t)=>{const s=t.startPage,a=t.endPage,n={};switch(t.type){case v.we:return c()({},e,Object.keys(t.response.pages).reduce((s,a)=>(s[a]=_t(e[a],c()({},t,{page:t.response.pages[a]})),s),{}));case v.ve:for(let r=s;r<=a;r++)n[r]=_t(e[r],t);return c()({},e,n)}return e},height:(e=null,t)=>{switch(t.type){case v.we:return t.response.height||e}return e},width:(e=null,t)=>{switch(t.type){case v.we:return t.response.width||e}return e},numPages:(e=0,t)=>{switch(t.type){case v.we:return t.response.numPages||e}return e},exceptions:(e={},t)=>{switch(t.type){case v.we:return t.response.exceptions||e}return e},sheets:(e={},t)=>{switch(t.type){case v.we:return t.response.sheets||e}return e},status:(e=E.bd.DOES_NOT_EXIST,t)=>{switch(t.type){case v.ve:return e!==E.bd.LOADED?E.bd.LOADING:e;case v.we:return E.bd.LOADED;case v.ue:return E.bd.ERROR}return e},error:(e={},t)=>{const s=t.error,a=((void 0===s?{}:s).data||{}).info,n=(void 0===a?{}:a).documentError,r=void 0===n?{}:n;switch(t.type){case v.we:case v.ve:return{};case v.ue:return r}return e},retryCount:(e={},t)=>{switch(t.type){case v.we:case v.ue:{const s=mt(t.startPage,t.endPage);return c()({},e,{[s]:(e[s]||0)+1})}}return e}});var ht=(e={},t)=>{switch(t.type){case v.ve:case v.we:case v.ue:return c()({},e,{[t.documentId]:pt(e[t.documentId],t)})}return e};var gt=function(e=[],t){switch(t.type){case v.ze:case v.Z:case v.W:return function(e,t){return t.downloadId=`download-${Object(F.g)()}`,e.concat(t)}(e,t.download);case v.xe:case v.ye:return function(e,t){return e.filter(e=>e.downloadId!==t)}(e,t.downloadId);default:return e}};var Et=s(25);const It="1995-03-01",St=new RegExp(/^\d{4}(((0)[0-9])|((1)[0-2]))([0-2][0-9]|(3)[0-1])$/);const Ct={clientWidth:0,clientHeight:0,innerWidth:0,innerHeight:0,contentAndRightRailWidth:0,contentAndRightRailHeight:0,ybarHeight:0};var ft=Object(h.combineReducers)({appName:(e=null,t)=>{switch(t.type){case v.eg:return t.appName||e;default:return e}},isInternalIP:(e=!1,t)=>{switch(t.type){case v.Vf:return t.internal;default:return e}},isAMT:(e=!1,t)=>{switch(t.type){case v.eg:return t.isAMT||!1;default:return e}},applicationVisibility:(e=!0,t)=>{switch(t.type){case v.Y:return t.isVisible}return e},applicationLastVisibleTimeStamp:(e=null,t)=>{switch(t.type){case v.Y:return t.isVisible?null:t.actionTimestamp}return e},buildRefreshStatus:(e=E.s.NO_REFRESH,t)=>{switch(t.type){case v.Y:if(t.heartbeatRefresh&&t.isVisible){const e=(t.actionTimestamp-t.applicationLastVisibleTimeStamp)/6e4;if(t.emergencyRefresh&&e>t.appRefreshIdleInterval.emergencyRefresh)return E.s.EMERGENCY_REFRESH;const s=864e5,a=15,n=Math.round(t.elapsedTimeFromSessionStart)/s;if(e>t.appRefreshIdleInterval.periodicRefresh&&n>=a)return E.s.PERIODIC_REFRESH}return e;case v.wb:return E.s.NO_REFRESH;default:return e}},isXobnified:(e=null,t)=>{switch(t.type){case v.Tl:return t.isXobnified;default:return e}},timeZoneName:(e="UTC",t)=>{switch(t.type){case v.eg:return t.clientParams&&t.clientParams.timezone||t.timezone&&t.timezone.name||"UTC";default:return e}},geoLocation:(e="",{type:t="",latlong:s=""})=>{switch(t){case v.wf:return s;default:return e}},timezoneUpdating:(e=!1,t)=>{switch(t.type){case v.rj:return t.isUpdating||e;default:return e}},windowDimensions:(e=Ct,t)=>{switch(t.type){case v.eg:return t.clientParams&&t.clientParams.windowInnerWidth&&t.clientParams.windowInnerHeight?c()({},e,{innerWidth:t.clientParams.windowInnerWidth,innerHeight:t.clientParams.windowInnerHeight}):e;case v.Rl:return{clientWidth:t.clientWidth,clientHeight:t.clientHeight,contentAndRightRailHeight:t.contentAndRightRailHeight,contentAndRightRailWidth:t.contentAndRightRailWidth,innerWidth:t.innerWidth,innerHeight:t.innerHeight,ybarHeight:t.ybarHeight};case v.bg:return t.clientWidth&&t.clientHeight&&t.innerWidth&&t.innerHeight?c()({},e,{clientWidth:t.clientWidth,clientHeight:t.clientHeight,innerWidth:t.innerWidth,innerHeight:t.innerHeight}):e;default:return e}},pageDirection:(e="ltr",t)=>{switch(t.type){case v.eg:return t.pageDirection||e;default:return e}},browser:(e={},t)=>{switch(t.type){case v.eg:return{browserName:t.browserName,browserVersion:t.browserVersion};default:return e}},loggerParams:(e={},t)=>{switch(t.type){case v.eg:return t.loggerParams||{};default:return e}},userSegmentData:(e={},t)=>{switch(t.type){case v.bg:return Object(Et.b)()&&window.AppBootstrapData?window.AppBootstrapData.userSegmentData||{}:e;default:return e}}});var Tt=s(451),At=s.n(Tt),bt=s(22),Ot=s(87);var Rt=(e,t,s={})=>{const a=s.contentType,n=void 0===a?E.Pb.MESSAGES:a,r=t.isMobileRoute,i=(0,t.getFeaturesSelectors)().getSetting,o=i(E.zd.PREVIEW_PANE)===E.Rc.RIGHT,c=i(E.zd.MSG_LIST_DENSITY),d=i(E.zd.SNIPPETS);if(r())return d?18*(d-1)+O.MOBILE_SNIPPET_MESSAGE_LIST_ITEM_HEIGHT:O.MOBILE_MESSAGE_LIST_ITEM_HEIGHT;switch(n){case E.Pb.MESSAGES:switch(c){case E.pc.SLIM:return o?d?O.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT:O.MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT:O.MESSAGE_LIST_ITEM_SLIM_HEIGHT;case E.pc.RELAXED:return o?d?O.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT:O.MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT:O.MESSAGE_LIST_ITEM_RELAXED_HEIGHT;default:return o?d?O.MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT:O.MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT:O.MESSAGE_LIST_ITEM_NORMAL_HEIGHT}case E.Pb.IMAGES:return O.PHOTO_SIZE_PLUS_PADDING;case E.Pb.DOCUMENTS:return O.DOCUMENT_ITEM_HEIGHT}};var Nt=e=>{const t=(0,e.getAction)();return t.type===v.bk&&!t.isStarred};var Mt=e=>{const t=e.getSmartViewTypeFromRoute,s=e.isFeatureEnabled,a=(0,e.getRoute)(),n=Object(H.M)(a)?t(a):null;return!!s(E.ub.LIST_V3)||(n===E.Kd.COUPONS?Object(H.J)(Object(H.w)(a)):a.name===E.gd.LIST&&!Object(H.N)(a))},Dt=s(51);var yt=(e,t)=>{const s=t.getSetting,a=t.hasMultipleRootAccounts,n=(0,t.getRoute)(),r=Object(H.w)(n);return s(E.zd.PREVIEW_PANE)===E.Rc.RIGHT?Dt.n.NONE:Object(H.O)(r)||Object(H.N)(n)?Dt.n.FOLDER:n.name===E.gd.SEARCH?a()?Dt.n.ACCOUNT:Dt.n.FOLDER:Dt.n.NONE},Lt=s(104);var vt=e=>{const t=e.getFeaturesSelectors,s=(0,e.isMobileRoute)(),a=t().getSetting;return a(s?E.zd.MOBILE_NOTIFICATION:E.zd.DESKTOP_NOTIFICATION)};const Pt=(e,t,s=!1)=>{const a=t.isFeatureEnabled,n=t.isNarrowScreen,r=t.getActionableRightRailPane,i=(0,t.getRoute)(),o=a(E.ub.HIDE_RIGHT_RAIL),c=a(E.ub.WIDE_RIGHT_RAIL),d=!!i.params.attachmentId;return e&&!o&&(!n()||c||s)&&!r()&&!d},Ft=(e,t)=>{const s=t.getRoute(),a=t.getSetting(E.zd.PREVIEW_PANE)!==E.Rc.NO;let n=[E.gd.MESSAGE_FROM_FOLDER_LIST,E.gd.MESSAGE_FROM_SEARCH_LIST,E.gd.MESSAGE_FROM_LIST];return a&&(n=[...n,E.gd.FOLDER,E.gd.LIST]),Pt(e,t)&&-1!==n.indexOf(s.name)&&!!t.getGroupId()};var wt=(e,t)=>{const s=t.getRoute;if((0,t.isMobileRoute)())return E.Rc.NO;const a=Object(H.w)(s());return Object(H.t)(a)===E.Pb.MESSAGES?e:E.Rc.NO},kt=s(541);function xt(e,t){return e.length?function(e,t){return e.find(e=>{const s=Object(W.a)(e);return s&&s.name===t})}(e,t):null}var Ut=(e,t)=>{const s=[],a=t.getFeaturesSelectors,n=a().isEnabled(E.ub.SMARTVIEW_CATEGORIES_ALL),r=a().isEnabled(E.ub.SMARTVIEW_CATEGORIES_PEOPLE),i=a().isEnabled(E.ub.SMARTVIEW_CATEGORIES_PEOPLE_V2),o=a().isEnabled(E.ub.SMARTVIEW_CATEGORIES_SHOPPING),c=`${E.hb[E.Kd.PEOPLE]}:1`,d=`${E.hb[E.Kd.PEOPLE]}:0`,l=`${E.hb[E.Kd.COUPONS]}:1`;if(!(n||r||i||o))return[];if(r||i||o){if(r||i){const t=xt(e,E.Kd.PEOPLE);s.push(t?Object(W.a)(t):r?Object(W.a)(c):Object(W.a)(d))}if(o){const t=xt(e,E.Kd.COUPONS);s.push(t?Object(W.a)(t):Object(W.a)(l))}}else e.forEach(e=>{const t=Object(W.a)(e);t&&s.push(t)}),E.ie.forEach(e=>{s.find(({name:t})=>t===e)||s.push({name:e,status:0})});return s};const Gt=(e,t)=>{const s=(0,t.getFeaturesSelectors)().isEnabled(E.ub.PHOTO_THEMES),a=e[E.zd.THEME];return!bt.i[a]||!s&&Object(bt.o)(a)},jt=Object(R.c)(["luv.southwest.com","sg.booking.com","mail.hotels.com","booking.com","email.travelzoo.com","e.delta.com","h1.hilton.com","airbnb.com","email-marriott.com","united.com","email.jetblue.com","frontier.com","mailer.orbitz.com","news.united.com","save.spirit-airlines.com","aa.com","your.choicehotels.com","carnivalcruiselineemail.com","res.hilton.com","ifly.alaskaair.com"]);var Ht=(e,t)=>{const s=t.getRouteParams,a=t.getRouteName,n=t.getRoute,r=t.doesMessageGroupIdExist,i=t.getMessageIdsFromMessageGroupId,o=t.getSmartViewTypeFromRoute,c=(0,t.getMessagesSelectors)(),d=c.doesMessageIdExist,l=c.getFromAddresses,u=a(),_=u===E.gd.MESSAGE_FROM_FOLDER_LIST||u===E.gd.MESSAGE_FROM_SEARCH_LIST,m=n(),p=Object(H.M)(m)&&o(m)===E.Kd.TRAVEL,h=(s()||{}).groupId,g=r(h)&&i(h)[0],I=d(g)&&l(g)[0];return Pt(e,t,!0)&&(_&&function(e){if(!e)return!1;const t=Object(R.a)(e,"email",""),s=t.slice(t.indexOf("@")+1).toLowerCase();return!!jt[s]}(I)||p)};var Bt=(e,t)=>{const s=t.getRoute,a=(0,t.getListsSelectors)().doesListExist,n=Object(H.w)(s()),r=Object(H.t)(n)===E.Pb.TRAVEL_CARDS;return a(n)&&r&&e};const Vt={start:Date.parse("2017-09-24T04:55:00-07:00"),end:Date.parse("2017-09-24T10:00:00-07:00")};var Wt=(e,t)=>{const s=e[E.zd.ACTION_AFTER_MSG_MOVE],a=t.getPrescribedNumberOfColumns,n="/m"===(0,t.getFeaturesSelectors)().getSetting("appRootPath"),r=2===a();return n?r?E.j.SHOW_NEXT_MESSAGE:E.j.GO_BACK_TO_FOLDER:s},qt=s(134);const zt=["password","reset"];const Kt={[E.ub.USE_THIRD_GENERATION_LOGO]:!1,collectConfigAccess:!1,[E.ub.SMART_REPLY]:!1,[E.ub.PHOTOS_CUE]:!1,[E.ub.STARRED_CUE]:!1,[E.ub.SETTINGS_CUE]:!1,[E.ub.PARTNER_RECONSENT_BANNER]:!1,[E.ub.SEARCH_CUE]:!1,[E.ub.SEARCH_RELEVANCE_CUE]:!1,[E.ub.ENABLE_SEARCH_RELEVANCE_CUE]:!1,[E.ub.ALL_TABS_PLUS_CUE]:!1,[E.ub.PEOPLE_SMARTVIEW_CUE]:!1,[E.ub.STATIONERY_CUE]:!1,[E.ub.EMOJI_CUE]:!1,[E.ub.COUPON_STORE_LOCATOR]:!1,[E.zd.COUPON_STORE_LOCATOR_COLLAPSED]:!1,[E.ub.GEO_LOCATION]:!1,[E.zd.YAHOO_MAPS_URL]:"",[E.ub.COUPON_CLIPPER_CUE]:!1,[E.ub.INBOX_COUPONS_CUE]:!1,[E.ub.THEMES_CUE_V3]:!1,[E.ub.SSA_BREACH_SECURITY_ALERT]:!1,[E.ub.APT_SECURITY_CUE]:!1,[E.ub.NEW_USER_ONBOARDING_CUE]:!1,[E.ub.UPDATE_WIDER_MAIL_CUE]:!1,[E.ub.COUPONS_VIEW_CUE]:!1,[E.zd.QUOTIENT_DEBUG_FLAG]:!1,[E.zd.ASTRA_NONPROD_FLAG]:!1,[E.ub.QTNT_VIEW_MSG_READ_CARD]:!1,[E.ub.CATEGORY_FOLLOWING_CUE]:!1,[E.ub.PURCHASES_VIEW_CUE]:!1,[E.ub.SHOPRUNNER_VIEW_CUE]:!1,[E.ub.ASTRA_WSSID]:!1,[E.ub.QTNT_VIEW_LEFT_RAIL_CUE]:!1,[E.ub.ADBLOCK_UPSELL_CUE]:!1,[E.ub.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:!1,[E.ub.COUPONS_VIEW_LAUNCH_CUE]:!1,[E.ub.IS_WIDER_MAIL_EXTN_ENABLED]:!1,[E.ub.CONVERSATIONS]:!0,[E.ub.CLOUD_STORAGE]:!1,[E.zd.IMAPIN]:!1,canAddImapInAccount:!1,canRemoveImapInAccount:!1,[E.ub.OFFICE365]:!1,[E.ub.OFFICE365_CUE]:!1,[E.ub.AUTO_OPEN_REAUTH]:!1,linkAccountList:!1,[E.ub.COLLAPSIBLE_SYSTEM_FOLDERS]:!1,[E.zd.SHOW_ALL_SYSTEM_FOLDERS]:!1,addAliasAccount:!1,[E.zd.SNIPPETS]:!1,[E.zd.USE_RICH_TEXT]:!0,[E.zd.SHOW_IMAGES]:!1,[E.zd.DESKTOP_NOTIFICATION]:0,[E.zd.MOBILE_NOTIFICATION]:!1,[E.zd.MAIL_TABS]:!1,[E.zd.EMAIL_SUBSCRIPTIONS]:[],[E.zd.MARK_AS_READ_INTERVAL]:E.mc.IMMEDIATELY,[E.zd.THEME]:bt.i.DEFAULT,[E.zd.THEME_MODE]:bt.h.LIGHT,[E.zd.CLIENT_WIDTH]:0,[E.zd.ORIENTATION]:"portrait",[E.zd.PREVIEW_PANE]:E.Rc.NO,[E.zd.MSG_LIST_DENSITY]:E.pc.NORMAL,[E.zd.COMPOSE_FONT_SIZE]:E.jb.SIZE,[E.zd.COMPOSE_FONT_FAMILY]:E.jb.FAMILY,focusBasedVisibilityDetection:!1,[E.zd.DELIVERY_BLOCKED_SENDERS]:[],[E.zd.LINK_ENHANCR]:!1,[E.zd.VACATION_PREFERENCES]:{enabled:!1},[E.zd.DEA_BASE_NAME]:null,[E.zd.LIST_ITEM_HEIGHT]:32,[E.zd.MESSAGE_FILTERS]:[],[E.zd.ACTION_AFTER_MSG_MOVE]:E.j.GO_BACK_TO_FOLDER,[E.zd.SHOW_CUSTOM_FOLDERS]:!0,[E.zd.SHOW_SMART_VIEWS]:!0,[E.zd.SUPPRESSED_UPSELLS]:[],[E.zd.EXPANDED_FOLDERS]:[],[E.zd.STATIONERY_DEFAULT_THEME]:"",[E.zd.TOGGLE_CONV_RELOAD_DELAY]:300,[E.ub.RESIZABLE_PREVIEW_PANE]:!0,[E.ub.PREVIEW_PANE_IN_PIXELS]:!1,[E.ub.PREVIEW_PANE_COOKIE]:!1,[E.zd.RECENTLY_USED_EMOJIS]:[],[E.ub.EMOJI_SEARCH]:!1,[E.zd.SYSTEM_TABS]:[],[E.ub.OPTIMISTIC_SEND]:!1,[E.ub.LIST_V3]:!1,[E.ub.MAIL_READER_V3]:!1,[E.ub.FORCE_OPTIN_BEACON]:!1,[E.ub.UPDATE_ITEMS_V3]:!1,[E.ub.CEP_FORWARD]:!1,[E.ub.RSVP]:!1,[E.ub.RSVP_RESPONSE]:!1,[E.ub.NUDGE_TO_REPLY]:!1,[E.ub.STATIONERY_THEME_DATES]:!1,[E.ub.PARSE_RSVP_REPLY_LINKS]:!1,[E.zd.SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search",[E.zd.SEARCH_FETCH_COUNT]:25,[E.zd.SEARCH_FIRST_PAGE_COUNT]:25,[E.zd.SPACE_IDS]:{},[E.ub.SUBSCRIPTION_RECOMMENDATIONS]:!1,[E.ub.DEALS_VIEW_CUE]:!1,[E.ub.SMALL_BIZ_CUE]:!1,[E.ub.CONTACTS_NEW_BADGE]:!1,[E.ub.TOOLBAR_V3]:!1,[E.ub.RIGHT_RAIL_CONTACT_CARD]:!1,[E.ub.RIGHT_RAIL_PHOTO_CARD]:!1,[E.ub.RIGHT_RAIL_DOCS_CARD]:!1,[E.ub.RIGHT_RAIL_MESSAGES_CARD]:!1,[E.ub.ENHANCE_CONTACT_CARD]:!1,[E.ub.ENHANCE_COUPON_CARD]:!1,[E.ub.ENHANCED_MESSAGE_ICON]:!1,[E.zd.AD_BLOCK_FEATURE_CUE_ID]:1,[E.ub.CONTACTS_PANE_FEATURE]:!1,[E.ub.CONTACTS_PANE_CUE]:!1,[E.ub.CALENDAR_RIGHT_RAIL_PANE]:!1,[E.ub.SOCIAL_ACCOUNTS]:!1,[E.ub.LINKEDIN_REAUTH_CUE]:!1,[E.ub.SHOW_LINKEDIN_REAUTH_UPSELL]:!0,[E.ub.USE_LINKEDIN_TEST_SPID]:!1,[E.ub.MESSAGE_UNREAD_INDICATOR]:!1,[E.zd.THROTTLE_API_LIST]:{},[E.ub.ADS]:!0,[E.ub.NO_ADS]:!1,[E.ub.DARLA_PREFETCH]:!0,[E.ub.DARLA_LOOKAHEAD]:!1,[E.ub.DARLA_PREFETCH_LAUNCH_SYNCER]:!1,[E.ub.GEMINI_SPONSORED_VIDEO]:!1,[E.ub.AD_FREE_SUPPORTED]:!1,[E.ub.COM_SCORE_BEACONING]:!1,[E.ub.EMPTY_FOLDER_VIDEO]:!1,[E.ub.MESSAGE_READ_AD_ROTATION]:!0,[E.ub.GEMINI_VIEWABILITY]:!0,[E.zd.HIDE_AD]:!1,[E.ub.MAIL_PRO_ELIGIBLE]:!1,[E.ub.MESSAGE_READ_CONTACT_CARD]:!1,[E.ub.WIDE_RIGHT_RAIL]:!1,[E.ub.HIDE_RIGHT_RAIL]:!1,[E.ub.PLA_ADS_AVAILABLE]:!1,[E.ub.SMARTVIEW_CATEGORIES_ENABLED]:!1,[E.ub.PREMIUM_AD_DETECTION]:!1,[E.ub.GEMINI_CONTEXTUAL_ADS]:!1,[E.ub.NUKE_DISPLAY_ADS_ON_INACTIVE]:!1,[E.ub.ROTATE_ADS_ONLINE]:!1,[E.ub.CLOSE_ICON_PENCIL_AD]:!1,[E.ub.HIPMUNK_CARD]:!1,[E.ub.BOOKING_CARD]:!1,[E.ub.SEATGEEK_CARD]:!1,[E.ub.WIDER_MAIL_ELIGIBLE]:!1,[E.ub.DARLA_POST_RENDER]:!1,[E.ub.MAIL_PRO]:!1,[E.ub.MAIL_PRO_LINK_IN_SETTINGS_MENU]:!1,[E.ub.WIDER_MAIL_PROMO]:!1,[E.ub.ADBLOCK_UPSELL]:!1,[E.ub.SHOPPING_CART_AD]:!1,[E.ub.APAC_SHOPPING_CART_AD]:!1,[E.ub.HP_EXT_INSTALLED]:!1,[E.ub.AUTO_FORWARD_EMAIL]:!1,[E.zd.HP_EXT_STORE_URL]:"",[E.ub.RIGHT_RAIL_AD_FREE_UPSELL]:!1,[E.ub.PENCIL_AD]:!1,[E.ub.SECOND_PENCIL_AD]:!1,[E.ub.HOTELS_CARD_PREFILL]:!1,[E.ub.RELATED_SEARCHES_CARD]:!1,[E.ub.SUBSCRIPTION_ADS]:!1,[E.ub.ADVERTISER_RELATED_SEARCHES]:!1,[E.ub.MESSAGE_LIST_AD_CAROUSEL]:!1,[E.ub.TIMECHUNK_PENCIL_AD]:!1,[E.ub.FLASH_SALE_AD]:!1,[E.ub.FLASH_SALE_AD_IN_SECONDS]:!1,[E.ub.PLA_SEARCH_ADS]:!1,[E.zd.PLA_SEARCH_ADS_BUCKET_ID]:"",[E.ub.MESSAGE_READ_AD_ROTATION_V2]:!1,[E.ub.ROTATE_PENCIL_AD_ON_EXPIRE]:!1,[E.ub.AOL_VIDEO_PLAYER]:!1,[E.ub.OATH_VIDEO_PLAYER]:!1,[E.ub.RIGHT_RAIL_NATIVE_AD]:!1,[E.ub.SPONSORED_MOMENT]:!1,[E.ub.VIDEO_SPONSORED_MOMENT]:!1,[E.ub.VIGLINK]:!1,[E.ub.PRICE_GRABBER_WRAPPER_LINK]:!1,[E.ub.CONTACT_CARD_TRACKING]:!1,[E.ub.DEBUG_DARLA]:!1,[E.ub.AD_BLOCK_COUPONS]:!1,[E.ub.ABP_STATIC_ADS]:!1,[E.ub.ROTATE_ADS_ON_CHECK_MAIL]:!1,[E.ub.COUPONS_SMART_VIEW_SEARCH]:!1,[E.zd.PARTNER_ATTRIBUTION_URL]:"",[E.ub.EBAY_WARRANTY_UPSELL]:!1,[E.ub.AD_FORMAT_SELECTION]:!1,[E.ub.DEALS_VIEW_V2]:!1,[E.ub.RETAILER_FILTER]:!1,[E.ub.CATEGORY_FILTER]:!1,[E.ub.MESSAGE_OP_PERF]:!1,[E.ub.RIGHT_RAIL_UPSELL_VIDEO_AD]:!1,[E.ub.ENABLE_DEALS_VIEW_CUE]:!1,[E.ub.MSG_READ_PENCIL_AD_SEND_DOMAIN]:!1,[E.ub.BIZMAIL_USER]:!1,[E.ub.AUTOPLAY_EMPTY_FOLDER_VIDEO]:!1,[E.ub.DEALS_SHOPPING_CART_AD]:!1,[E.ub.NO_IDLE_CHECK_MAIL_AD_ROTATIONS]:!1,[E.ub.SECOND_SEARCH_AD]:!1,[E.ub.AD_PARTIALLY_ABOVE_FOLD]:!1,[E.ub.SECURITY_SUBSCRIPTIONS_UPSELL]:!1,[E.ub.SPONSORED_MESSAGE_TRIAGE]:!1,[E.ub.TALL_PENCIL_AD]:!1,[E.ub.SUBSCRIPTION_LIST]:!1,[E.ub.UNIFY_NATIVE_AD_FORMAT]:!1,[E.ub.INSTRUMENT_SECOND_SEARCH_AD]:!1,[E.ub.FIRE_VIEWABILITY_BEACONS_ON_CLICK]:!1,[E.ub.MEMBERSHIP_REWARDS]:!1,[E.ub.TMR_ONBOARDING_CUE]:!1,[E.ub.TMR_ICON_NOTIFICATION]:!1,[E.zd.TMR_ATOS_TEST_PARAM]:0,[E.zd.MEMBERSHIP_REWARDS_SETTINGS]:{},[E.zd.EMPTY_FOLDER_VIDEO_CHANNELS]:{},[E.zd.TIME_TO_WAIT_SINCE_LAST_AD_CALL]:0,[E.zd.GEMINI_AD_COUNT]:{pencilAd:1,carouselAd:5},[E.zd.GEMINI_SECTION_IDS]:{},[E.zd.GEMINI_FORCE_FILTER]:!1,[E.zd.AD_FREE_MAIL_URL]:"",[E.zd.ABOUT_AD_URL]:"",[E.ub.SHOW_ABOUT_OUR_ADS_LINK]:!0,[E.ub.SHOW_ABOUT_YAHOO_MAIL_LINK]:!0,[E.ub.SHOW_GIVE_FEEDBACK_LINK]:!0,[E.ub.SHOW_OPT_OUT_LINK_MORE_SETTINGS]:!1,[E.zd.PRIVACY_URL]:"",[E.zd.TERMS_URL]:"",[E.zd.ITEM_LIST_PAGE_THRESHOLD]:0,[E.zd.MESSAGE_READ_AD_ROTATION_INTERVAL]:0,[E.zd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL]:0,[E.zd.WIDER_MAIL_EXTENSION]:{},[E.zd.UNSUBSCRIBE_NOTIFICATION]:!0,[E.zd.UNSUBSCRIBE_TIMESTAMP]:Date.now(),[E.zd.NUM_UNSUBSCRIBED_ITEMS]:0,[E.zd.MAIL_PRO_MONTHLY_PRICE]:"$3.49",[E.zd.MAIL_PRO_YEARLY_PRICE]:"$34.99",[E.zd.GEMINI_VIDEO_AD_ID]:"",[E.zd.GEMINI_VIDEO_AD_SITE]:"",[E.zd.GEMINI_VIDEO_AD_EXP_NAME]:"",[E.zd.CHROME_EXTENSION_WHITELIST]:[],[E.ub.ABORT_DARLA_IN_PROGRESS]:!1,[E.zd.RELATED_SEARCHES_CARD_STYLE]:"default",[E.ub.LREC_MON_AD_ARBITRATION]:!1,[E.zd.VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/js/3/videoplayer-min.js?r=nextgen-desktop",[E.zd.AOL_VIDEO_PLAYER_URL]:"https://cdn.vidible.tv/prod/player/js/latest/iframe-api.min.js",[E.zd.AOL_VIDEO_PLAYER_IFRAME_SRC]:"https://delivery.vidible.tv/htmlembed/pid=5aaad183c74d475e29adfe4c/5aaacba1841fad0ac9a8566b.html?m.loadingplaceholder=1",[E.zd.OATH_VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/oath/js/1/oath-player.js",[E.zd.SECOND_PENCIL_AD_DEPTH]:10,[E.zd.PENCIL_AD_EXPIRE_TIME]:7e3,[E.zd.VIGLINK_BLACKLIST]:[],[E.zd.PENCIL_AD_VERSION]:"default",[E.zd.EBAY_WARRANTY_UPSELL_POSITION]:"top",[E.zd.PREFERRED_AD_FORMAT]:0,[E.zd.AD_BLOCK_COUPONS_SORT_ORDER]:"recommended",[E.ub.COMMERCIAL_ANALYSIS_OF_CONTENT]:!1,[E.zd.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION]:30,[E.zd.RIGHT_RAIL_UPSELL_CUE_INTERVAL]:36e5,[E.zd.ADBLOCK_UPSELL_CUE_INTERVAL]:1728e5,[E.zd.NEED_TO_KNOW_NEWS_CUE_INTERVAL]:86400,[E.zd.DELETE_DEBOUNCE_TIME]:500,[E.ub.FAN_ADS]:!1,[E.zd.FAN_ADS_SETTINGS]:{},[E.ub.NODIN_ES5_SHIM]:!1,[E.zd.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL]:18e4,[E.zd.WEB_SEARCH_URL]:"https://search.yahoo.com/search?p=%QUERY%&fr=uh-mail-web&fr2=p%3Aml%2Cm%3Asb",[E.zd.DEALS_SHOPPING_CART_AD_VERSION]:"themedButton",[E.ub.NODIN_MESSAGE_READ_DOMAIN]:!1,[E.ub.NODIN_MESSAGE_READ_AD_ROTATION]:!1,[E.zd.MESSAGE_LIST_AD_CAROUSEL_VERSION]:"default",[E.ub.XOBNI_AUTO_SUGGEST]:!1,[E.ub.CLASSIC_AUTO_SUGGEST]:!0,[E.ub.NODIN_CHECK_MAIL]:!1,[E.ub.NODIN_FILTERS]:!1,[E.ub.NODIN_CHECK_MAIL_TOAST]:!1,[E.ub.LASTPASS_UPSELL]:!1,[E.ub.SHOW_LASTPASS_FREETRIAL_UPSELL]:!1,[E.ub.LASTPASS_FREETRIAL_UPSELL]:!1,[E.ub.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE]:!1,[E.ub.YFINANCE_UPSELL]:!1,[E.zd.LASTPASS_UPSELL_SETTINGS]:{},[E.zd.LASTPASS_FREETRIAL_UPSELL_SETTINGS]:{},[E.ub.LOG_CLIENT_ERROR]:!1,[E.zd.YFINANCE_UPSELL_SETTINGS]:{},[E.zd.DARLA_HOSTNAME]:"fc.yahoo.com",[E.ub.BREAKING_NEWS]:!1,[E.ub.BREAKING_NEWS_ENABLED]:!1,[E.ub.BREAKING_NEWS_TEST_PARAM]:!1,[E.zd.BREAKING_NEWS_VERSION]:{},[E.zd.BREAKING_NEWS_REFRESH_INTERVAL]:6e4,[E.zd.BREAKING_NEWS_SETTINGS]:!1,[E.ub.NEED_TO_KNOW_NEWS_CUE]:!1,[E.ub.SHOW_NTK_ON_VISIBILITY_CHANGE]:!1,[E.ub.NTK_CLOSE_ON_EXTERNAL_CLICK]:!1,[E.ub.HIDE_NTK_FOR_SMALLER_SCREEN]:!1,[E.ub.HIDE_NTK_FOR_HOMEPAGE_USERS]:!0,[E.ub.MARK_AS_READ_DEFER]:!1,[E.zd.NUM_MESSAGE_GROUPS_TO_PREFETCH]:10,[E.zd.NEIGHBOR_PREFETCH_COUNT]:0,documentTitleStandardDuration:3e3,documentTitleNotificationDuration:5e3,[E.zd.BULK_ACTION_DIALOG_THRESHOLD]:50,[E.ub.SHOW_RECENT_SUGGESTIONS]:!1,[E.ub.SHOW_EMAIL_SEARCH_SUGGESTIONS]:!1,[E.ub.MESSAGE_LIST_CONTEXT_MENU]:!1,[E.ub.SHOW_EMPTY_SEARCH_SUGGESTIONS]:!1,[E.ub.FILTER_COMMERCIAL_IMAGES]:!1,deaSuggestionJWS:!1,[E.ub.ATTACHMENT_PREVIEW]:!0,[E.ub.AUTOTAG]:!1,[E.ub.IFRAME_PRINT]:!1,[E.ub.EVT_SANDBOX_IFRAME]:!1,[E.ub.EXTERNAL_CSS]:!1,[E.ub.SWITCH_TO_NORRIN]:!1,[E.ub.SWITCH_TO_NORRIN_ON_WIN10]:!1,[E.ub.DOCUMENT_PREVIEW_LIGHT]:!1,[E.ub.NODIN_JS_ENHANCE]:!1,messageScrollLoadThreshold:10,[E.zd.PARTNER_BRAND]:"",[E.zd.LOGO_URL]:"https://s1.yimg.com/rz/d/yahoo_mail_en-US_s_f_w_bestfit_mail.png",[E.zd.LOGO_SRCSET]:"",[E.ub.USE_THIRD_GENERATION_LOGO]:!1,secureCryptoMode:0,unsubscribe:!1,[E.ub.DISABLE_UNSUBSCRIBE_FEATURE]:!0,[E.ub.UNSUBSCRIBE_FROM_MESSAGE]:!1,[E.ub.COLLAPSED_TRIAGING]:!1,[E.ub.UNSUBSCRIBE_BADGES]:!1,ybar:!0,[E.ub.CONTACT_SUMMARY]:!1,[E.zd.COMPOSE_SAVE_INTERVAL]:2e4,rteFormattingToolbar:!0,[E.ub.MKTG_BEACON]:!1,[E.ub.NEWUSER_MKTG_BEACON]:!1,[E.ub.SMARTVIEW_CATEGORIES_ALL]:!1,[E.ub.SMARTVIEW_CATEGORIES_PEOPLE]:!1,[E.ub.SMARTVIEW_CATEGORIES_PEOPLE_V2]:!1,[E.ub.SMARTVIEW_CATEGORIES_SHOPPING]:!1,udb:!0,theming:!0,[E.ub.PHOTO_THEMES]:!1,[E.ub.NORRIN_OPTOUT]:!0,optOutSurvey:!0,[E.zd.HELP_URL]:"https://help.yahoo.com/kb/index?page=product&y=PROD_MAIL_WEB&locale=en_US",[E.zd.CORP_MAIL_GMAIL_SETTINGS]:{},asyncTaskPollCount:200,unsubInterval:648e5,[E.ub.FETCH_FULL_BODY]:!1,peopleNotifications:!1,[E.ub.PUSH_NOTIFICATIONS]:!1,[E.ub.BROWSER_NOTIFICATIONS]:!1,dragDropPill:!0,offlineChecking:!0,promptToSync:!0,appRefreshIdleInterval:{emergencyRefresh:30,periodicRefresh:60},heartbeatRefresh:!0,[E.zd.APP_ROOT_PATH]:"/d",previewpanePositionsFromServer:{},[E.ub.TOOLTIP_EMOJI]:!1,[E.ub.ATT_PREVIEW_IN_COMPOSE]:!1,[E.ub.PERSIST_COMPOSE_TEXT_MODE]:!1,[E.ub.CALENDAR_TAB]:!1,[E.ub.NOTEPAD_TAB]:!1,newMailVideoId:{onboarding:"ebcb9733-fa01-3cb9-a57d-4254ab9c969a",searchOnboarding:"ad93243f-aae2-32e5-8505-b70ea1b35216",personalizeInbox:"1fae6609-d76d-3b9a-adc6-afe490d2ca10",emailOrganization:"92a2f4f4-00c6-38f5-894d-ebcb34d6b9c9"},selectAll:!1,[E.ub.LOADING_FALLBACK]:!1,[E.ub.RELOADING_BAR]:!1,[E.ub.SHOW_COMMS_PROPERTIES]:!1,[E.ub.ACTION_MODULE]:!1,[E.zd.SYNC_TIME]:20,[E.ub.DISPOSABLE_ADDRESS]:!0,[E.ub.ADD_SEND_ONLY_ACCOUNTS]:!0,[E.ub.REPLY_TO_ADDRESS]:!0,[E.zd.ASYNC_TASK_POLL_INTERVAL]:2e3,[E.zd.CHECK_MAIL_INTERVAL]:3e4,[E.zd.SYNC_DATA_INTERVAL]:3e4,[E.zd.MAIL_URL]:"https://mail.yahoo.com",[E.zd.CALENDAR_URL]:"https://calendar.yahoo.com",[E.zd.NOTEPAD_URL]:"https://calendar.yahoo.com/?view=notepad",[E.ub.INLINE_ATTACHMENT]:!0,[E.zd.FEEDBACK_URL]:"https://yahoo.uservoice.com/forums/600772?auth=yahoo",[E.ub.TUTORIAL]:!0,[E.ub.SETTINGS]:!0,[E.zd.BUFFER_SIZE]:35,[E.zd.PREVIEWABLE_INLINE_ATTACHMENT_SIZE]:51200,restoreToInbox:!1,[E.zd.MESSAGE_INITIAL_RENDER_COUNT]:15,[E.ub.SHOW_TWEET]:!1,[E.zd.STATIONERY_RESTRICTED_THEMES]:!1,[E.ub.TIMEZONE_CHECK]:!0,[E.ub.CHECK_MAIL_PREFETCH]:!1,[E.zd.MESSAGE_FETCH_COUNT]:100,[E.zd.MESSAGE_FETCH_COUNT_INITIAL]:40,[E.zd.COUPON_CARDS_FETCH_COUNT]:25,[E.ub.BOOTCAMP_COUPONS]:!1,[E.zd.COUPON_RECOMMENDATIONS_FETCH_COUNT]:150,[E.ub.COUPON_REC_WITH_ADS]:!1,[E.ub.COUPON_REC_WITH_BOLD_ADS]:!1,[E.ub.COUPON_REC_WITH_TOP_ADS]:!1,[E.zd.CARD_GROUPS_FETCH_COUNT]:10,[E.zd.LINK_ENHANCER_URL_BLACK_LIST]:[],[E.ub.RTL]:!1,[E.ub.IS_RETURNING_USER]:!1,[E.ub.HAS_MAPPED_THEME]:!1,[E.ub.ADD_EDIT_FROM_LIST_CARD]:!1,[E.ub.COUPON_CARD_EXTRACTIONS]:!1,[E.ub.COUPON_SELF_EXTRACTION]:!1,[E.ub.COUPONS_AUTO_CLIP]:!1,[E.ub.COUPON_RECOMMENDATIONS]:!1,[E.ub.MSG_READ_COUPON_RECOMMENDATIONS]:!1,[E.ub.COUPON_REC_VENDOR]:!1,[E.ub.MULTI_COUPON_RECOMMENDATIONS]:!1,[E.ub.CPN_ICON_MSG_LIST]:!1,[E.ub.EARNY_CARD_EXTRACTIONS]:!1,[E.ub.FLIGHT_CARD_EXTRACTIONS]:!1,[E.ub.COUPONS_VIEW]:!1,[E.ub.GROCERIES_VIEW]:!1,[E.ub.RECEIPTS_VIEW]:!1,[E.ub.TRAVEL_VIEW]:!1,[E.ub.EMOJI]:!0,[E.ub.PRELOAD_EMOJI]:!1,[E.ub.GIF]:!0,[E.ub.STATIONERY]:!0,[E.ub.VACATION_RESPONSE_STATIONERY]:!1,[E.ub.RECENTLY_USED_EMOJI]:!1,[E.ub.EXCEPTION_NOTIFICATION]:!1,[E.zd.NOTIFICATION_TTL]:5e3,[E.ub.QUOTIENT]:!1,[E.ub.SHOPRUNNER]:!1,[E.ub.UNUSUAL_DISCOUNT]:!1,[E.zd.COMPOSE_THROTTLE_COUNT]:Number.MAX_VALUE,[E.ub.SCOUT]:!0,[E.ub.SCOUT_PREDICATE]:!0,[E.ub.SCOUT_RECURRING]:!0,[E.zd.SCOUT_ONBOARDING]:[],[E.ub.DELETE_FROM_PHOTOS_VIEW]:!1,[E.ub.DELETE_FROM_DOCUMENTS_VIEW]:!1,[E.ub.QUOTIENT_RANK_OFFERS]:!1,[E.ub.QUOTIENT_CLIPPER_CUE]:!1,[E.ub.PERSONALIZED_GROCERY_UPSELL]:!1,[E.ub.MSG_READ_SHOPRUNNER_CARD]:!1,[E.ub.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD]:!1,[E.ub.MSG_READ_SHOPRUNNER_PERSONALIZED]:!1,[E.ub.SHOPRUNNER_PERSONALIZED_UPSELL]:!1,[E.ub.BLOCK_SENDERS]:!1,[E.ub.FILTER_MESSAGES_LIKE_THIS]:!1,[E.ub.QUOTIENT_CONTEXTUAL_CUE]:!1,[E.ub.CONTEXTUAL_QUOTIENT_MODAL]:!1,[E.ub.MESSAGE_LIST_QUOTIENT_UPSELL]:!1,[E.ub.CATEGORY_FOLLOWING]:!1,[E.ub.ENABLE_ASTRA_FOR_GROCERY]:!1,[E.ub.ENABLE_YM6_GROCERY]:!1,[E.ub.ENABLE_AFFILIATE_COUPONS]:!1,[E.ub.ENABLE_HALLOWEEN_BANNER]:!1,[E.ub.MOBILE_MESSAGE_SNIPPETS]:!1,[E.ub.MOBILE_ONBOARDING_CUE]:!1,[E.ub.DESIGN_CLASSIFIER]:!1,[E.ub.MOBILE_SEARCH_SUGGESTIONS]:!1,[E.ub.MOBILE_SIGNATURE]:!1,[E.ub.MOBILE_THEMING]:!1,[E.ub.MOBILE_EDIT_RECIPIENTS]:!1,[E.ub.SHOULD_SW_SUBSCRIBE]:!1,[E.ub.PUSH_NOTIFICATIONS_CUE_PTR]:!1,[E.ub.PUSH_NOTIFICATIONS_CUE_LAUNCH]:!1,[E.ub.MOBILE_PAC_NOTIFICATION_CUE]:!1,[E.ub.PUSH_NOTIFICATIONS_CUE_COMPOSE]:!1,[E.zd.PUSH_NOTIFICATIONS_EXPERIMENT]:E.Vc.DEFAULT,[E.ub.MOBILE_MESSAGE_READ_NAVIGATION]:!1,[E.ub.HOMEPAGE_BUTTON]:!0,[E.ub.COMPOSE_FROM_CUSTOM_FOLDER]:!1,[E.ub.SIGN_OUT]:!0,[E.ub.OFFLINE_TOASTS]:!0,[E.ub.BLOCK_SENDER_CUE]:!1,[E.ub.LANDSHARK_CUE]:!1,[E.ub.MAILBOX_SWITCHER]:!1,landsharkCreative:!1,showInvisibleLandshark:!1,[E.ub.CONVERSATIONS_CUE]:!1,[E.ub.COUPON_LANDSHARK_CUE]:!1,[E.zd.LANDSHARK_ON_COUPON_MESSAGE_STRINGS]:{cueBody:"Get notified about expiring deals with the Yahoo Mail app.",oneLink:"https://go.onelink.me/107872968?pid=InProduct&c=US_Acquisition_YMktg_expiringdeals1_Experiment_&af_sub1=Acquisition&af_sub2=US_YMktg&af_sub3=&af_sub4=&af_sub5="},[E.ub.SERVICE_WORKER_CACHING]:!1,[E.zd.SERVICE_WORKER_CACHE_CONFIG]:[],[E.ub.NOBLE_SUPPORTED_BROWSER_VERSION]:!0,[E.ub.NOBLE_SUPPORTED_OS_VERSION]:!0,[E.ub.MAX_PREVIEW_LENGTH]:1,[E.ub.STARRED_MAIL_ENHANCED]:!1,[E.zd.STAR_ANIMATION]:{},[E.zd.GUIDED_STAR_ANIMATION]:{},[E.zd.HAS_GUIDED_STAR_ANIMATION]:!1,[E.ub.SHOW_TABS]:!1,[E.zd.HAS_WIDE_LOGO]:!1,[E.ub.SHOW_FORWARDING_NOTIFICATION]:!1,[E.ub.DISPOSABLE_ADDRESS_DELETE_ONLY]:!1,[E.ub.SHOW_RIGHT_RAIL_HELP_LINKS]:!0,[E.ub.ALLOW_USERNAME_AND_PHONE_REGISTRATION]:!1,[E.ub.INLINE_IMAGES_PROXIED]:!1,[E.ub.CLICK_URL_LOGGING]:!1,[E.ub.NODIN_BULK_OPERATION]:!1,[E.zd.LOGIN_NAME]:"",[E.zd.BASIC_MAIL_FEEDBACK_URL]:"",[E.zd.RELEVENT_ADS_URL]:"",[E.zd.LEGAL_INFO_URL]:"",[E.zd.ACCOUNT_INFO_URL]:"",[E.zd.HOME_URL]:"",[E.zd.BASIC_MAIL_THEME]:"DEFAULT",[E.zd.BASIC_MAIL_HOME_URL]:"https://www.yahoo.com",[E.zd.SIGN_OUT_URL]:"https://login.yahoo.com/config/login?logout=1&.src=ym&.intl=us&.direct=2&.done=https://www.yahoo.com",[E.zd.V3_LIST_MESSAGE_BUFFER]:100,[E.zd.V3_OPPOSITE_BUFFER]:20,[E.zd.V3_LIST_NUM_OF_PLACEHOLDER]:20,[E.zd.NODIN_ONBOARD]:[],[E.ub.SHOW_NODIN_ONBOARDING_MESSAGE]:!1,[E.ub.NODIN_IMAPIN]:!1,[E.zd.NOTIFICATION_MODE]:"",[E.zd.NOTIFICATION]:!1},Zt={route:function(e={},t){switch(t.type){case v.Vf:case v.eg:case v.Lh:default:return t.route&&e===t.route?e:t.route||e}},drawer:(e=!1,t)=>{switch(t.type){case v.Be:return!0;case v.Ae:return!1;default:return e}},autoOpenSettingsPopover:(e=!1,t)=>{switch(t.type){case v.xj:return t.status||e;default:return e}},sendingEmailConfirmStatus:(e=!1,t)=>{switch(t.type){case v.tc:return!0;case v.uc:case v.sc:return!1;default:return e}},actionableRightRailContent:(e,t)=>{const s=t.name;switch(e||(e={currentView:null}),t.type){case v.Hi:{if(!At()(Object.keys(E.dd).filter(e=>null!==e),s))break;const t=e.currentView!==s?s:null;return c()({},e,{currentView:t})}case v.De:case v.I:return c()({},e,{currentView:s});case v.Lh:case v.di:{const s=t.uiContext,a=(void 0===s?{}:s).mKey,n=t.route,r=(void 0===n?{}:n).name;if(r===E.gd.NEW_DRAFT)return e;if(a){if(-1!==tt.a.COMPOSE_FROM_CONTACTS_PANE.indexOf(a))return e;if(-1!==tt.a.REPLACE_ATTACHMENT_WITH_RIGHT_RAIL.indexOf(a)&&At()(Object.keys(E.dd),r))return c()({},e,{currentView:r})}return c()({},e,{currentView:null})}}return e},hideRightPaneAds:(e=!1,t)=>{if(w.a[t.type])return!1;switch(t.type){case v.Y:case v.Lh:return!1;case v.Lf:return!0}return e},[E.ub.MSG_QUOTIENT_MODAL]:(e=null,t)=>{switch(t.type){case v.sg:{const s=Object(R.a)(t,"retailerId",e),a=Object(R.a)(t,"parentName",e);return s?{retailerId:s,parentName:a}:null}case v.vg:case v.rg:return null;default:return e}},[E.ub.MSG_READ_CONTEXTUAL_QUOTIENT_MODAL]:(e=null,t)=>{switch(t.type){case v.gg:return Object(R.a)(t,"retailerId",e);case v.vg:case v.rg:return null;default:return e}},[E.ub.SHOW_RECOMMENDATIONS_MODAL]:(e=!0,t)=>{switch(t.type){case v.Ad:return!1;default:return e}},[E.zd.IS_USER_FOLLOWING_CATEGORIES]:(e=!1,t)=>{const s=t.followedCategoryList;switch(t.type){case v.Bb:return!(!s||!s.length);case v.Fb:return!0;default:return e}},[E.ub.REPLY_NUDGE_COUNT]:(e=0,t)=>{const s=t.scoresList;switch(t.type){case v.Rb:return e+s.length;default:return e}},[E.zd.RANDOM_HALLOWEEN_CARDTYPES]:(e=[],t)=>{switch(t.type){case v.Hf:{const e=Object.keys(E.Fb),t=[];for(;t.length<2;){const s=Math.floor(Math.random()*e.length);-1===t.indexOf(s)&&t.push(s)}return t.map(t=>E.Fb[e[t]])}default:return e}}};Object.keys(Kt).forEach(e=>{Zt[e]=((e,t=!1)=>(s=t,a)=>{switch(a.type){case v.eg:case v.Vf:case v.uj:case v.ij:case v.oj:case v.Wh:case v.nc:return void 0!==a.features[e]?a.features[e]:s;case v.We:case v.ff:case v.hf:case v.ef:{const t=a.name,n=a.fromFeature||t;if(n===E.ub.MOBILE_PAC_NOTIFICATION_CUE&&e===E.ub.INLINE_IMAGES_PROXIED)return!1;if(n===e)return!1;const r=a.nextFeatureCues;return-1!==(void 0===r?[]:r).indexOf(e)||s}case v.gf:case v.lj:case v.yj:case v.wi:case v.df:case v.Ye:case v.xk:case v.bf:{const t=a.name,n=a.value,r=a.feature,i=a.type;return void 0===t||void 0===n?s:r===E.ub.MOBILE_PAC_NOTIFICATION_CUE&&e===E.zd.SHOW_IMAGES&&i===v.bf||(t===e?n:s)}case v.Rh:{const t=a.name,n=a.shownMaxTimes,r=void 0!==n&&n;return e===E.zd.SHOW_IMAGES&&t===E.ub.WEB_PAC_NOTIFICATION_CUE&&!!r||s}case v.ib:case v.jb:{const t=a.name,n=a.blockSenders;return void 0===t||void 0===n?s:t===e?n:s}case v.Bj:{const t=a.value;return e===E.zd.VACATION_PREFERENCES?t:s}case v.Ak:case v.Lh:if(a.nextFeature===e)return!0;if(a.updatedSettingAttributes){const t=a.updatedSettingAttributes,n=(Array.isArray(t)?t.find(t=>t.name===e):t)||{},r=n.name,i=n.value;return void 0===r||void 0===i?s:r===e?i:s}return s;case v.Y:if(e===E.ub.NEED_TO_KNOW_NEWS_CUE){const e=a.showNTK;return void 0===e?s:e}return s;case v.Gk:if(e===E.ub.TMR_ICON_NOTIFICATION){const e=a.showTMRNotification;return void 0===e?s:e}return s;default:return a.nextFeature===e||s}})(e,Kt[e])});var Yt=Object(h.combineReducers)(Zt);function Xt(e,t){return c()({},e,{[t]:Object.assign({},e[t],{isShown:!0})})}function Qt(e,t){return t===E.ub.MOBILE_PAC_NOTIFICATION_CUE||t===E.ub.WEB_PAC_NOTIFICATION_CUE||t===E.ub.NEED_TO_KNOW_NEWS_CUE?e:c()({},e,{[t]:Object.assign({},e[t],{isKeySaved:!0})})}var $t=(e={},t)=>{switch(t.type){case v.Vf:{const e=t.nextFeature,s=t.featureCues,a=void 0===s?{}:s;return e?Xt(a,e):a}case v.We:case v.Rh:case v.af:{const s=t.name,a=t.userResponse;return s&&(e[s]||void 0===e[s])?function(e,t,s){const a=e[t].userResponse;return c()({},e,{[t]:Object.assign({},e[t],{userResponse:s||a})})}(Xt(e,s),s,a):e}case v.bf:{const s=t.feature;return s&&e[s]&&!e[s].isPersistent?Qt(e,s):e}case v.df:case v.Ye:{const s=t.feature;return s&&e[s]?Qt(e,s):e}default:{const s=t.nextFeature;return s?Xt(e,s):e}}};const Jt=Object(h.combineReducers)({providerName:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.providerName;default:return e}},providerIataCode:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.providerIataCode;default:return e}},providerUrl:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.providerUrl;default:return e}},departureAirportName:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.departureAirportName;default:return e}},departureAirportDesc:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.departureAirportDesc;default:return e}},departureAirportCode:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.departureAirportCode;default:return e}},departureTime:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.departureTime;default:return e}},departureTerminal:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.departureTerminal;default:return e}},arrivalAirportName:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.arrivalAirportName;default:return e}},arrivalAirportDesc:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.arrivalAirportDesc;default:return e}},arrivalAirportCode:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.arrivalAirportCode;default:return e}},arrivalTime:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.arrivalTime;default:return e}},arrivalTerminal:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.arrivalTerminal;default:return e}},reservationId:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.reservationId;default:return e}},flightNumber:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.flightNumber;default:return e}},passengers:(e=[],t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.passengers;default:return e}},checkInUrl:(e="",t)=>{const s=t.card;switch(t.type){case v.Rk:case v.th:return s.checkInUrl;default:return e}}});var es=function(e={},t){const s=t.listData,a=t.type;switch(a){case v.Rk:case v.th:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter(t=>s.schemaCards[t].type===E.qd.FlightReservation&&!p()(e[t],s.schemaCards[t])).reduce((t,n)=>c()({},t,{[n]:Jt(e[n],{type:a,card:s.schemaCards[n]})}),{});return Object.keys(t).length?c()({},e,t):e}default:return e}};var ts=s(113);const ss=Object(h.combineReducers)({id:(e="",t)=>{const s=t.folder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:case v.Hd:return s.id}return e},name:(e="",t)=>{const s=t.folder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:return s.name;case v.Hd:case v.xi:return s.name.substr(s.name.lastIndexOf("/")+1)}return e},path:(e="",t)=>{const s=t.folder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:return s&&s.path?s.path:e;case v.Hd:case v.xi:return s&&s.name?s.name:e}return e},accountId:(e="",t)=>{const s=t.folder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:case v.Hd:return s.accountId}return e},types:(e=[],t)=>{const s=t.folder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:case v.Hd:return p()(e,s.types)?e:s.types}return e},isSystem:(e=!1,t)=>{const s=t.folder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:case v.Hd:return s.isSystem}return e},total:(e=0,t)=>{const s=t.folder,a=t.isDestinationFolder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:case v.Hd:return s.total;case v.vh:case v.ce:case v.zl:case v.Fl:return a?e+1:e-1;case v.Cl:return t.draftMessageId?e:e+1}return e},unread:(e=0,t)=>{const s=t.folder,a=t.isDestinationFolder,n=t.flags,r=void 0===n?{}:n;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:case v.Hd:return s.unread;case v.li:return r.read?e+1:e-1;case v.vh:case v.ce:case v.zl:case v.Fl:return a?r.read?e:e+1:r.read?e:e-1;default:return e}},highestModSeq:(e=-1,t)=>{const s=t.folder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:case v.Hd:return s.highestModSeq}return e},uidNext:(e=-1,t)=>{const s=t.folder;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:case v.Hd:return s.uidNext}return e},level:(e=0,t)=>{const s=t.folder,a=t.folderNameMap;switch(t.type){case v.Vf:case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:return s.level;case v.Hd:{const e=Object(G.d)(s.path||s.name);return Object(G.q)(s,a,e).length||0}}return e}});var as=function(e={},t){switch(t.type){case v.Vf:case v.Hd:case v.xi:{const s=Object.keys(t.folderMap||{}).map(e=>t.folderMap[e]).filter(t=>!p()(e[t.id],t));return s.length?s.reduce((s,a)=>c()({},s,{[a.id]:ss(s[a.id],{type:t.type,folder:a,folderNameMap:e})}),c()({},e)):e}case v.Pb:case v.Lb:case v.Vk:case v.Ti:case v.Vi:{const s=t.folderMap,a=void 0===s?{}:s,n=Object.keys(a);if(!n.length)return e;const r=n.map(e=>a[e]).filter(t=>!p()(e[t.id],t)),i=Object.keys(e).filter(e=>!a[e]);return r.length||i.length?r.reduce((e,s)=>c()({},e,{[s.id]:ss(e[s.id],{type:t.type,folder:s})}),He()(e,i)):e}case v.ae:return He()(e,[t.folderId]);case v.vh:case v.ce:case v.zl:case v.Fl:case v.li:{const s=t.itemsToUpdate,a=(void 0===s?[]:s).filter(e=>e.isAffected);return a.length?a.reduce((e,{flags:s,folder:a,destinationFolder:n})=>c()({},e,{[a.id]:ss(e[a.id],{type:t.type,folder:a,flags:c()({},s,{read:"boolean"==typeof t.isRead?t.isRead:s.read})})},n?{[n.id]:ss(e[n.id],{type:t.type,folder:a,isDestinationFolder:!0,flags:s})}:{}),c()({},e)):e}case v.Cl:{const s=t.draftFolderId;return s?c()({},He()(e,[s]),{[s]:ss(e[s],{type:t.type,folder:e[s],folderNameMap:e,draftMessageId:t.draftMessageId})}):e}default:return e}};const ns=(e=E.bd.DOES_NOT_EXIST,t)=>{switch(t.type){case v.Cf:return E.bd.LOADING;case v.Df:return E.bd.LOADED;case v.Bf:return E.bd.ERROR;default:return e}};var rs=Object(h.combineReducers)({categories:(e={},t)=>{switch(t.type){case v.Af:return t.categories.reduce((e,t)=>c()({},e,{[t.categoryId]:{category:t}}),{});case v.Bf:case v.Cf:case v.Df:{const s=t.query;return t.preloadItems?c()({},e,{[s]:c()({},e[s],{status:ns(e[s].status,t)})}):e}default:return e}},categoriesStatus:(e=E.bd.DOES_NOT_EXIST,t)=>{switch(t.type){case v.Af:return E.bd.LOADED;case v.zf:return E.bd.LOADING;case v.yf:return E.bd.ERROR;default:return e}},categoryIds:(e=[],t)=>{switch(t.type){case v.Af:return t.categories.map(e=>e.categoryId);default:return e}}});var is=(e={},t)=>{switch(t.type){case v.Af:case v.Df:{const s=t.listData.gifItems,a=void 0===s?{}:s;return c()({},e,a)}default:return e}};var os=function(e={historyStack:[],activePageIndex:-1},t){const s=t.historyState;return s||e};const cs=(e={})=>({getActivePageIndex:()=>{const t=e.activePageIndex;return void 0===t?-1:t},getHistoryStack:()=>{const t=e.historyStack;return void 0===t?[]:t},getCurrentPage:()=>{const t=e.historyStack,s=void 0===t?[]:t,a=e.activePageIndex;return s.length?s[void 0===a?-1:a]:{}},getPageAtIndex:t=>{const s=e.historyStack,a=void 0===s?[]:s;return a.length&&t<a.length?a[t]:{}}});var ds=s(298);var ls=s(149),us=s(353);const _s=(e,t)=>(e=>e.map(e=>e.folderType===E.Cb.DRAFT?c()({},e,{expansionState:E.D.EXPANDED}):c()({},e,{expansionState:E.D.COLLAPSED})))(e).map(e=>e.messageId===t?c()({},e,{expansionState:E.D.EXPANDED}):e),ms=(e,t)=>{const s=t.getMessageFlags,a=t.isSentFolder,n=e.map(({listId:e=null}={})=>e),r=n.length>0&&n[0]?Object(H.o)(n[0]):null,i=(e=>{const t=e.getHashParams,s=e.getRoute,a=(0,e.getRouteParams)(),n=s(),r=a.attachmentId&&"1"!==n.query.fullscreen,i=t();return r?Object(B.f)(n.params.attachmentId):i.messageId||null})(t);if(i)return _s(e,i);const o=e.filter(e=>e.folderType!==E.Cb.DRAFT).pop(),d=e.filter(e=>e.messageId).some(e=>!s(e.messageId).read),l=e.map(e=>e.folderType===E.Cb.SENT&&r&&a(r)?c()({},e,{expansionState:E.D.EXPANDED}):e.folderType===E.Cb.DRAFT||!s(e.messageId).read||!d&&s(e.messageId).flagged||e.messageId===o.messageId?c()({},e,{expansionState:E.D.EXPANDED}):c()({},e,{expansionState:E.D.COLLAPSED}));return l.map((e,t)=>{if(e.expansionState===E.D.EXPANDED)return e;const s=t+1<l.length?l[t+1]:void 0;return 0===t||s&&s.expansionState===E.D.EXPANDED?e:c()({},e,{expansionState:E.D.STACKED})})},ps=Object(R.g)(E.rd),hs=Object(R.g)(E.sd),gs=[E.Od.DATE_DESC,E.Od.DATE_ASC,E.Od.STARRED,E.Od.SUBJECT],Es=[E.Od.DATE_DESC,E.Od.DATE_ASC,E.Od.UNREAD,E.Od.STARRED],Is=[E.Od.DATE_DESC,E.Od.DATE_ASC,E.Od.UNREAD,E.Od.STARRED,E.Od.SENDER,E.Od.SUBJECT,E.Od.ATTACHMENT];var Ss=function(e=[],t){switch(t.type){case v.Tf:return t.contacts}return e};var Cs=Object(h.combineReducers)({type:(e="",t)=>{const s=t.launchError,a=t.mailboxAttributes;switch(t.type){case v.Vf:return s||(a&&!a.success?E.Mb.SETTINGS_FAILED_TO_LOAD:e);case v.dg:case v.lj:return"";default:return e}}});var fs=(e={},t)=>{switch(t.type){case v.kg:{const s=t.cardUrl,a=t.linkInfo;return c()({},e,{[s]:a})}case v.ig:{const s=t.cardUrl;return c()({},e,{[s]:null})}default:return e}};var Ts=(e=!1,t)=>{switch(t.type){case v.Kk:return!e;default:return e}};var As=(e=!1,t)=>{const s=t.listId;switch(t.type){case v.Vf:case v.Lb:case v.Pb:case v.Vk:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.jh:case v.td:case v.ph:case v.oi:case v.Df:case v.hc:case v.Rk:case v.th:case v.Af:case v.Fi:case v.Jh:case v.A:return void 0!==t.listData.lists[s].hasMoreItems?t.listData.lists[s].hasMoreItems:e;default:return e}};var bs=(e=[],t)=>{const s=t.listId;switch(t.type){case v.Vf:case v.mh:case v.Df:case v.hc:case v.jh:case v.td:case v.ph:case v.Af:case v.th:case v.qd:case v.Tf:case v.vg:case v.Yk:case v.rh:case v.D:case v.ok:{const a=t.listData.lists[s].itemIds;return p()(e,a)?e:Object(H.c)(e,a)}case v.Rd:case v.vd:{const s=t.itemsToUpdate,a=void 0===s?[]:s,n=t.listToUpdate,r=(void 0===n?{}:n).itemsToUpdate,i=void 0===r?[]:r,o=i.length?i:a.filter(e=>e.isAffected&&Object(H.u)(t.listToUpdate.listId)!==E.Qb.ALL_COUPON_CARDS).map(e=>e.id);return o.length?e.filter(e=>-1===o.indexOf(e)):e}case v.Ed:{const s=t.itemsToUpdate;return[...e,s[0].id]}case v.fd:{const s=t.itemsToUpdate,a=t.listToUpdate,n=void 0===a?{}:a;let r=[];return(void 0===s?[]:s).forEach(t=>{t.oldListId===n.listId&&(r=e.filter(e=>e!==t.id)),t.listId===n.listId&&(r=[...r,t.id])}),r}case v.Gc:case v.Nc:case v.zc:case v.Vi:case v.Ti:case v.Lb:case v.Pb:case v.Vk:case v.oi:case v.Rk:case v.Fi:case v.Rf:case v.wc:case v.vc:{const s=t.listData,a=t.listId;return Object(H.Z)(e,s,a)}case v.Bc:{const s=t.listData,a=t.listId,n=s.lists[a],r=n.itemIds,i=n.totalHits;return r.length<e.length&&e.length!==i?r:Object(H.Z)(e,s,a)}case v.li:{const s=t.listToUpdate,a=t.itemsToUpdate,n=t.isRead;if(!s)return e;const r=s.listId,i=Object(ts.a)(a,r,n?[]:["unread"]);return i.length?e.filter(e=>-1===i.indexOf(e)):e}case v.bk:{const s=t.listToUpdate,a=t.itemsToUpdate,n=t.isStarred;if(!s)return e;const r=s.listId,i=Object(ts.a)(a,r,n?["flagged","starred"]:[]);return i.length?e.filter(e=>-1===i.indexOf(e)):e}case v.Cl:{const s=t.itemsToUpdate,a=void 0===s?[]:s;return a.length?e.map(e=>{const t=a.find(t=>t.isAffected&&t.id===e);return t?t.newId:e}):e}case v.ce:case v.jb:case v.vh:case v.zl:case v.Fl:case v.fj:{const s=t.listToUpdate,a=t.itemsToUpdate,n=void 0===a?[]:a,r=t.conversationsMode,i=t.message;if(!s)return e;if(t.triageActionType===E.ne.DELETE_FOLDER_ITEMS&&n[0]){const t=n[0],a=t.listId;return t.isAffected&&a===s.listId?[]:e}const o=s.folderIds,c=void 0===o?[]:o;let d=Object(ts.b)(n,c);const l=(d=n.reduce((e,{attachmentIds:t=[]})=>e.concat(t),d)).length?e.filter(e=>-1===d.indexOf(e)):e,u=Object(H.v)(t.destinationFolderId);if(s.listId===u&&i){const e=r?i.conversationId:i.id;return Object(H.b)(u,l,e)}return l}case v.Jh:case v.A:return t.listData.lists[s].itemIds||{};case v.Hc:{const s=t.tempGroupId,a=t.id;return e.map(e=>e===s?a:e)}case v.bl:{const a=t.brandId,n=Object(H.t)(s),r=Object(H.u)(s);let i=e;return n!==E.Pb.SUBSCRIPTIONS?i:(r===E.Qb.ACTIVE&&a?i=i.filter(e=>a!==e):r===E.Qb.PAST&&a&&i.push(a),i)}default:return e}};var Os=(e=null,t)=>{const s=t.listId;switch(t.type){case v.Vf:case v.Lb:case v.Pb:case v.Vk:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.jh:case v.td:case v.ph:case v.oi:case v.Df:case v.Rk:case v.th:case v.Af:return void 0!==t.listData.lists[s].lmv3Query?t.listData.lists[s].lmv3Query:e;default:return e}};var Rs=(e="",t)=>{const s=t.listId;switch(t.type){case v.Vf:case v.Lb:case v.Pb:case v.Vk:case v.td:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.Df:case v.Af:case v.hc:return t.listData.lists[s].nextItemsUrl||"";default:return e}};var Ns=(e=0,t)=>{const s=t.listId;switch(t.type){case v.jh:case v.td:case v.ph:case v.oi:case v.Jh:case v.A:case v.Df:case v.Af:case v.hc:return t.listData.lists[s].offset||e;default:return e}};var Ms=(e=E.bd.DOES_NOT_EXIST,t)=>{switch(t.type){case v.Vf:return-1===[E.gd.FOLDER,E.gd.LIST,E.gd.SEARCH,E.gd.BASE].indexOf(t.route.name)?e:E.bd.LOADED;case v.Gc:case v.zc:case v.Df:case v.hc:case v.Af:case v.Lb:case v.Pb:case v.Ti:case v.td:case v.oi:case v.Rk:case v.jh:case v.ph:case v.Bc:case v.Tf:case v.Fi:case v.Jh:case v.A:case v.Rf:case v.ok:return E.bd.LOADED;case v.Cf:case v.gc:return E.bd.LOADING;case v.yc:case v.sd:case v.ni:case v.oh:case v.ih:case v.Bf:case v.fc:case v.Kb:case v.Ui:case v.Qk:case v.Ac:case v.Sf:case v.Ei:case v.Ih:case v.z:case v.Qf:case v.nk:return E.bd.ERROR;default:return e}};var Ds=(e=[],t)=>{const s=t.listId;switch(t.type){case v.Vf:case v.Lb:case v.Pb:case v.Vk:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.jh:case v.td:case v.ph:case v.oi:case v.Df:case v.Rk:case v.th:case v.Af:{if(void 0===t.listData.lists[s].suggestedWords)return e;const a=t.listData.lists[s].suggestedWords,r=void 0===a?[]:a;return(n()(r,1)[0]||{}).suggested||e}default:return e}};var ys=(e=null,t)=>{const s=t.listId;switch(t.type){case v.Vf:case v.Lb:case v.Pb:case v.Vk:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.jh:case v.td:case v.ph:case v.oi:case v.Df:case v.Rk:case v.th:case v.Af:case v.Gc:case v.Nc:case v.Bc:case v.zc:case v.wc:case v.vc:return void 0!==t.listData.lists[s].totalHits?t.listData.lists[s].totalHits:e;case v.Rd:{const s=t.itemsToUpdate,a=t.listToUpdate;return e?e-s.filter(e=>e.isAffected&&e.listId===a.listId).length:e}case v.Ed:return e?e+1:1;case v.fd:{const s=t.itemsToUpdate,a=t.listToUpdate;let n=0;return s[0].listId!==s[0].oldListId&&(n=a.listId===s[0].listId?1:a.listId===s[0].oldListId?-1:0),e?e+n:1}default:return e}};const Ls=Object(h.combineReducers)({itemIds:bs,nextItemsUrl:Rs,offset:Ns,hasMoreItems:As,status:Ms,lmv3Query:Os,totalHits:ys,suggestedWords:Ds,expanded:Ts});var vs=(e={},t)=>{switch(t.type){case v.Vf:case v.Lb:case v.Pb:case v.Vk:case v.mh:case v.rh:case v.Ti:case v.Vi:case v.Df:case v.hc:case v.jh:case v.ph:case v.oi:case v.Af:case v.td:case v.Rk:case v.qd:case v.th:case v.Bc:case v.Tf:case v.zc:case v.Gc:case v.Nc:case v.Fi:case v.Jh:case v.A:case v.D:case v.Ei:case v.wc:case v.ok:return c()({},e,Object.keys(t.listData.lists||{}).reduce((s,a)=>c()({},s,{[a]:Ls(e[a],c()({},t,{listId:a}))}),{}));case v.Bf:case v.fc:case v.sd:case v.ih:case v.ni:case v.oh:case v.Kb:case v.Ac:case v.vc:case v.Ui:case v.Ih:case v.z:case v.Kk:{const s=t.listId;return c()({},e,{[s]:Ls(e[s],t)})}case v.ce:case v.jb:case v.vh:case v.li:case v.fj:case v.Cl:case v.bk:case v.vd:case v.Rd:case v.Ed:case v.fd:case v.zl:case v.Fl:{const s=t.listsToUpdate,a=void 0===s?[]:s,n=t.itemsToUpdate,r=void 0===n?[]:n;return a.length&&r.length?c()({},e,a.reduce((s,a)=>c()({},s,{[a.listId]:Ls(e[a.listId],c()({},t,{listToUpdate:a,itemsToUpdate:r}))}),{})):e}case v.Ad:{const s=t.listId,a=void 0===s?"":s;return""===a?e:He()(e,a)}case v.vg:{const s=Object.keys(t.listData.lists),a=s[0],n=s[1],r=s[2],i=c()({},e,s.reduce((s,a)=>c()({},s,{[a]:Ls(e[a],c()({},t,{listId:a}))}),{}));return i[n].itemIds=i[n].itemIds.filter(e=>!i[a].itemIds.includes(e)&&!i[r].itemIds.includes(e)),i[r].itemIds=i[r].itemIds.filter(e=>!i[a].itemIds.includes(e)&&!i[n].itemIds.includes(e)),i}case v.Yk:{const s=Object.keys(t.listData.lists),a=s[0],n=s[1],r=s[2],i=c()({},e,s.reduce((s,a)=>c()({},s,{[a]:Ls(e[a],c()({},t,{listId:a}))}),{}));return i[a].itemIds=i[a].itemIds.filter(e=>!i[n].itemIds.includes(e)&&!i[r].itemIds.includes(e)),i[n].itemIds=i[n].itemIds.filter(e=>!i[a].itemIds.includes(e)&&!i[r].itemIds.includes(e)),i}case v.Rf:{const s=Object.keys(t.listData.lists),a=Object.keys(e).filter(e=>Object(H.t)(e)===E.Pb.GROCERY_STORES),n=s[0],r=a[0],i=a[1];if([n,r,i].some(e=>!e))return e;const o=c()({},e,s.reduce((s,a)=>c()({},s,{[a]:Ls(e[a],c()({},t,{listId:a}))}),{}));return o[n].itemIds=o[n].itemIds.filter(e=>!o[r].itemIds.includes(e)),o[i].itemIds=o[i].itemIds.filter(e=>!o[n].itemIds.includes(e)&&!o[r].itemIds.includes(e)),o}case v.xc:{const s=t.groupId;if(!s)return e;const a=Object(H.j)(E.Qb.GROUPS,s);return Object(R.f)(e,[a])}case v.Hc:{const s=t.newListId,a=t.tempListId,n=Object(R.d)(e,a,s),r=Object(H.j)(E.Qb.GROUPS);return n[r]=Ls(e[r],c()({},t,{listId:r})),n}case v.bl:return c()({},e,Object.keys(e||{}).reduce((s,a)=>c()({},s,{[a]:Ls(e[a],c()({},t,{listId:a}))}),{}));default:return e}};var Ps=Object(h.combineReducers)({locationSuggestions:(e={},t)=>{switch(t.type){case v.Ag:return c()({},e,{[t.keyword]:t.suggestions});default:return e}},locationFetchStatus:(e={},t)=>{switch(t.type){case v.zg:return{[t.keyword]:E.bd.LOADING};case v.Ag:return{[t.keyword]:E.bd.LOADED};case v.yg:return{[t.keyword]:E.bd.ERROR};default:return e}}});var Fs=Object(h.combineReducers)({suggestions:function(e={},t){switch(t.type){case v.U:case v.V:return{};case v.T:return t.suggestions?{[t.email]:t.suggestions}:e}return e},status:function(e={},t){switch(t.type){case v.U:return{[t.email]:E.bd.LOADING};case v.V:return{[t.email]:E.bd.LOADED};case v.T:return{[t.email]:E.bd.ERROR}}return e}});function ws(e){return{getSuggestions:t=>e.suggestions[t],getStatus:t=>e.status[t]||E.bd.DOES_NOT_EXIST}}var ks=s(48);const xs=Object(h.combineReducers)({id:(e=null,t)=>{const s=t.account;switch(t.type){case v.Vf:case v.V:case v.l:return s.id}return e},email:(e=null,t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.V:case v.l:return-1===[E.i.EXTERNAL,E.i.PHONE].indexOf(s.type)?s.email:"";case v.s:{const t=n.email;return void 0===t?e:t}}return e},description:(e=null,t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.V:case v.l:return s.description||"";case v.s:{const t=n.description;return void 0===t?e:t}}return e},isPrimary:(e=!1,t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.V:case v.l:return!!s.isPrimary;case v.s:{const t=n.isPrimary;return void 0===t?e:t}}return e},isSelected:(e=!1,t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.V:case v.l:return!!s.isSelected;case v.s:{const t=n.isSelected;return void 0===t?e:t}}return e},isSending:(e=!1,t)=>{const s=t.account,a=t.isSending,n=t.accountType;switch(t.type){case v.Vf:case v.V:case v.l:return s.isSending;case v.s:if(void 0!==a)return ks.h({type:n})?e:a}return e},signatureActive:(e=!1,t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.V:case v.l:case v.Ij:return!!s.signatureActive;case v.s:{const t=n.signatureActive;return void 0===t?e:t}}return e},signature:(e="",t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a,r=t.updatedAccount;switch(t.type){case v.Vf:case v.V:case v.l:return s.signature||"";case v.t:return void 0!==n.signature?n.signature:r&&void 0!==r.signature?r.signature:e;case v.s:{const t=n.signature;return void 0===t?e:t}}return e},sendingName:(e=null,t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.V:case v.l:return s.sendingName||"";case v.s:{const t=n.sendingName;return void 0===t?e:t}}return e},status:(e=null,t)=>{const s=t.account,a=t.status,n=t.updatedProperties,r=void 0===n?{}:n;switch(t.type){case v.Vf:case v.V:case v.l:return s.status;case v.s:{const t=r.status;return void 0===t?e:t}case v.p:return e===a?e:a}return e},type:(e=null,t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.V:case v.l:return s.type||"";case v.s:{const t=n.type;return void 0===t?e:t}}return e},replyToAddress:(e=null,t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.V:case v.l:return s.replyToAddress||"";case v.s:{const t=n.replyToAddress;return void 0===t?e:t}}return e},isActive:(e=!1,t)=>{const s=t.account;switch(t.type){case v.Vf:return s.isPrimary;default:return e}},accountVerified:(e=!1,t)=>{const s=t.account;switch(t.type){case v.Vf:case v.V:case v.l:return s.accountVerified}return e},isSynced:(e=!0,t)=>{switch(t.type){case v.l:case v.i:return!0;case v.h:return!1;default:return e}},subscriptionId:(e=null,t)=>{const s=t.account;switch(t.type){case v.Vf:case v.V:case v.l:return s.subscriptionId||e;default:return e}},link:(e={},t)=>{const s=t.account,a=t.updatedProperties,n=void 0===a?{}:a;switch(t.type){case v.Vf:case v.l:case v.V:return s.link||{};case v.s:{const t=n.link;return void 0===t?e:t}default:return e}},serverUri:(e="",t)=>{const s=t.account;switch(t.type){case v.Vf:case v.V:case v.l:return s.serverUri||""}return e},forwardEmail:(e="",t)=>{const s=t.account,a=void 0===s?{}:s,n=t.updatedProperties,r=void 0===n?{}:n,i=r.unsetFields,o=void 0===i?[]:i,c=a.forwardEmail,d=void 0===c?"":c;switch(t.type){case v.s:if(-1!==o.indexOf("forwardEmail"))return"";break;case v.t:if(r.hasOwnProperty("forwardEmail"))return a.forwardEmail;break;case v.Vf:return d}return e},forwardEmailVerified:(e=!1,t)=>{const s=t.account,a=void 0===s?{}:s,n=t.updatedProperties,r=void 0===n?{}:n,i=r.unsetFields,o=void 0===i?[]:i,c=a.forwardEmailVerified,d=void 0!==c&&c;switch(t.type){case v.s:if(-1!==o.indexOf("forwardEmail"))return!1;break;case v.t:if(r.hasOwnProperty("forwardEmailVerified"))return a.forwardEmailVerified;break;case v.Vf:return d}return e},createTime:(e="",t)=>{const s=t.account,a=void 0===s?{}:s;switch(t.type){case v.Vf:return a.createTime;case v.l:return Date.now()/1e3}return e},linkedAccounts:(e=[],t)=>{const s=t.account,a=void 0===s?{}:s;switch(t.type){case v.Vf:case v.l:return a.linkedAccounts||e}return e},showForwardReviewAlert:(e=!1,t)=>{const s=t.updatedProperties;switch(t.type){case v.Gi:return s.showForwardReviewAlert}return e},folderPrefix:(e="",t)=>{const s=t.account;switch(t.type){case v.Vf:case v.V:case v.l:return!s.isPrimary&&s.folderPrefix?s.folderPrefix:e}return e}});var Us=(e={},t)=>{switch(t.type){case v.Vf:{const s=t.accounts,a=void 0===s?[]:s;return a.length?a.reduce((e,s)=>(e[s.id]=xs({},c()({},t,{account:s})),e),{}):e}case v.t:case v.Ij:case v.l:case v.h:{const s=t.updatedAccount;return s?c()({},e,{[s.id]:xs(e[s.id],c()({},t,{account:s}))}):e}case v.Gi:{const s=t.accountId;return t.updatedProperties?c()({},e,{[s]:xs(e[s],t)}):e}case v.s:{const s=t.accountId,a=t.updatedProperties;return a&&a.isSending&&1===Object.keys(a).length?Object.keys(e).reduce((a,n)=>c()({},a,{[n]:xs(e[n],c()({},t,{isSending:n===s,accountType:e[n].type}))}),{}):a?c()({},e,{[s]:xs(e[s],t)}):e}case v.V:{const s=t.newAccount;return s?c()({},e,{[s.id]:xs(e[s.id],c()({},t,{account:s}))}):e}case v.q:{const s=t.updatedAccount;return s?He()(e,[s.id]):e}case v.i:return Object.keys(e).reduce((s,a)=>c()({},s,{[a]:xs(e[a],t)}),{});case v.p:{const s=t.accountId;if(!s)return e;const a=Object.keys(e).map(t=>e[t]).filter(e=>e.type===E.i.ALIAS),n=e[s]||a.find(e=>e.id===s),r=c()({},n,{status:E.h.DELETE_IN_PROGRESS});return r.type===E.i.DEA?He()(e,[r.id]):c()({},e,{[r.id]:xs(e[r.id],c()({},t,{account:r,status:E.h.DELETE_IN_PROGRESS}))})}default:return e}};const Gs=4002,js=4003;var Hs=Object(h.combineReducers)({id:(e=null,t)=>{switch(t.type){case v.Vf:return t.selectedMailbox.id}return e},allMailboxes:(e=null,t)=>{switch(t.type){case v.Vf:return[t.selectedMailbox]}return e},accounts:Us,aliasSuggestion:Fs,socialAccountsStatus:(e={},t)=>{switch(t.type){case v.Rc:case v.Tj:return c()({},e,t.response);case v.Qj:{const s=t.provider;return c()({},e,{[s]:{status:E.Md.NOT_CONNECTED}})}case v.Nj:case v.Sj:{const s=t.provider,a=t.enable,n=void 0===a||a,r=E.T.indexOf(s)>-1;if(!E.S[s]&&!r)return e;let i=E.Md.NOT_CONNECTED;return n&&(i=r?E.Md.QUEUED:E.Md.CONNECTED),c()({},e,{[s]:{status:i}})}default:return e}},deaBaseName:(e={deaDomain:"",deaPrefix:""},t)=>{switch(t.type){case v.uj:{const s=t.features,a=(void 0===s?{}:s)[E.ic.DEA_BASE_NAME];return void 0!==a?a:e}case v.Vf:{const s=t.mailboxAttributes,a=((void 0===s?{}:s).responses||{})[E.ic.DEA_BASE_NAME];return void 0!==a?a:e}case v.re:return{deaPrefix:t.baseName,deaDomain:t.domain};default:return e}},baseNameSuggestions:(e=[],t)=>{switch(t.type){case v.se:case v.qe:case v.re:return[];case v.Vf:case v.te:{const e=t.suggestions;return void 0===e?[]:e}default:return e}},recentlyAddedAccount:(e=null,t)=>{switch(t.type){case v.l:return t.updatedAccount.id;case v.i:return null;default:return e}},accountAlerts:(e=[],t)=>{const s=t.accountAlerts,a=void 0===s?[]:s;switch(t.type){case v.Vf:case v.x:case v.Pb:case v.Yh:return a&&a.length>0?a:e;default:return e}},mailboxSize:(e=0,t)=>{switch(t.type){case v.uj:{const s=t.features;return(void 0===s?{}:s)[E.ic.MAILBOX_SIZE]||e}case v.Vf:{const s=t.mailboxAttributes;return((void 0===s?{}:s).responses||{})[E.ic.MAILBOX_SIZE]||e}default:return e}}});const Bs=/<img .*\/?>/i,Vs=/<a\s.?/im,Ws=Object(h.combineReducers)({body:function(e={},t){const s=t.messageId,a=t.v3MessageBodiesMap;switch(t.type){case v.Vf:case v.Mg:case v.Ug:case v.Lg:case v.Jg:case v.gh:case v.Cl:case v.Zj:case v.zl:return a[s].body||{};default:return e}},status:function(e=E.bd.DOES_NOT_EXIST,t){const s=t.errorMessageIds,a=void 0===s?[]:s;switch(t.type){case v.Vf:case v.Mg:case v.Ug:case v.Lg:case v.Jg:case v.gh:case v.Cl:case v.Zj:case v.zl:return-1===a.indexOf(t.messageId)?E.bd.LOADED:E.bd.ERROR;case v.di:case v.Ng:case v.Lh:return e===E.bd.LOADED?E.bd.LOADED:E.bd.DOES_NOT_EXIST;case v.Kg:return E.bd.ERROR;default:return e}},isSecure:function(e=!1,t){switch(t.type){case v.Vf:case v.Jg:case v.gh:case v.Cl:case v.zl:return!1;case v.Mg:case v.Ug:case v.Lg:case v.Zj:case v.Ng:return!!t.secure;default:return e}},hasFullBody:function(e=!1,t){const s=t.messageId,a=t.full,n=t.v3MessageBodiesMap;switch(t.type){case v.Vf:case v.Jg:case v.gh:case v.Cl:case v.zl:return!0;case v.Mg:case v.Ug:case v.Lg:case v.Zj:case v.Ng:{const e=n[s].body,t=void 0===e?{}:e,r=t.htmlAnnotations;return!a&&r?!r.some(({type:e})=>"quoted"===e):!!a}default:return e}},retryCount:function(e=0,t){switch(t.type){case v.Kg:return Math.min(E.ac+1,e+1);default:return e}}});var qs=function(e={},t){switch(t.type){case v.Vf:case v.Mg:case v.Ug:case v.Lg:case v.Jg:case v.gh:case v.Cl:case v.Zj:case v.Lh:case v.Ng:case v.di:case v.zl:case v.Kg:{const s=Object.keys(t.v3MessageBodiesMap||{});if(!s.length)return e;const a=s.reduce((s,a)=>c()({},s,{[a]:Ws(e[a],c()({},t,{messageId:a}))}),{});return c()({},e,a)}case v.lj:if(t.name===E.zd.SHOW_IMAGES){if(!0===t.value){const t=Object.keys(e).reduce((t,s)=>e[s].body.htmlAnnotations.some(({type:e})=>"blocked"===e)?c()({},t):c()({},t,{[s]:e[s]}),{});return c()({},t)}return{}}return e;default:return e}};var zs=function(e={},t){const s=t.listData,a=void 0===s?{}:s,n=t.type,r=t.itemsToUpdate,i=t.messageMetadataMap,o=void 0===i?{}:i,d=-1!==[v.Cl].indexOf(n),l=-1!==[v.Te].indexOf(n),u=-1!==[v.Pb].indexOf(n);switch(n){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Cl:case v.jh:case v.td:case v.ph:case v.oi:case v.Rk:case v.th:{if(!a.messages)return e;const t=Object.keys(a.messages).filter(t=>d||u||l?!p()(e[t],a.messages[t].flags):!e[t]).reduce((e,t)=>c()({},e,{[t]:a.messages[t].flags}),{});return Object.keys(t).length?c()({},e,t):e}case v.Fl:case v.zl:{const t=c()({},Object.keys(a.messages||[]).reduce((e,t)=>c()({},e,{[t]:a.messages[t].flags}),{}),(r||[]).reduce((e,{messageId:t,flags:s})=>c()({},e,{[t]:s}),{}));if(t){const s=Object.keys(t).filter(s=>!p()(e[s],t[s])).reduce((e,s)=>c()({},e,{[s]:t[s]}),{});return Object.keys(s).length?c()({},e,s):e}return e}case v.Lg:case v.Mg:{const t=Object.keys(o);if(!t.length)return e;const s=t.map(t=>({[t]:e[t]})),n=Object.keys(a.messages||[]).reduce((t,s)=>{const n=a.messages[s].decos,r=n&&n.some(e=>e&&e.id===E.nc.CRD);return c()({},t,{[s]:r?a.messages[s].flags:e[s]})},{});return c()({},e,Object.assign({},...s,n))}case v.li:case v.bk:{const s=r.filter(e=>e.isAffected).reduce((s,a)=>c()({},s,{[a.messageId]:n===v.li?c()({},e[a.messageId],{read:!t.isRead}):c()({},e[a.messageId],{flagged:!t.isStarred})}),{});return Object.keys(s).length?c()({},e,s):e}case v.vh:{const t=r.filter(e=>e.isAffected).reduce((t,s)=>{const a=c()({},e[s.messageId]);return(s.isSpamMove||s.isHamMove)&&(a.spam=s.isSpamMove,a.ham=s.isHamMove),c()({},t,{[s.messageId]:a})},{});return Object.keys(t).length?c()({},e,t):e}default:return e}};var Ks=function(e={},t){const s=t.listData,a=void 0===s?{}:s,n=t.type,r=t.message,i=void 0===r?{}:r,o=t.itemsToUpdate,d=t.messageMetadataMap,l=void 0===d?{}:d,u=-1!==[v.Jg,v.gh].indexOf(n),_=-1!==[v.Pb].indexOf(n),m=-1!==[v.Te].indexOf(n),h=-1!==[v.Lb].indexOf(n);switch(n){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.zl:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.jh:case v.td:case v.ph:case v.oi:case v.Rk:case v.th:{if(!a.messages)return e;const t=Object.keys(a.messages).filter(t=>{const s=a.messages[t];return u||_||m?!p()(e[t],s):h?!e[t]||e[t]!==s.folder.id:!e[t]}).reduce((e,t)=>c()({},e,{[t]:a.messages[t].folder.id}),{});return Object.keys(t).length?c()({},e,t):e}case v.Fl:return i.id&&i.folder&&i.folder.id?c()({},e,{[i.id]:i.folder.id}):e;case v.Lg:case v.Mg:{const t=Object.keys(l);if(!t.length)return e;const s=t.map(t=>({[t]:e[t]})),n=Object.keys(a.messages||[]).reduce((t,s)=>{const n=a.messages[s].decos,r=n&&n.some(e=>e&&e.id===E.nc.CRD);return t[s]=r?a.messages[s].folder.id:e[s],t},{});return c()({},e,Object.assign({},...s,n))}case v.Uk:case v.ce:case v.jb:case v.vh:{const t=o.filter(e=>e.isAffected),s=t.filter(e=>!e.destinationFolder).map(e=>e.messageId),a=t.reduce((t,s)=>c()({},t,{[s.messageId]:s.destinationFolder?s.destinationFolder.id:e[s.messageId]}),{});return Object.keys(a).length||s.length?He()(c()({},e,a),s):e}default:return e}};const Zs=(e,t,s)=>{Object.keys(e).forEach(a=>{const n=e[a].filter(e=>e!==s.messageId);0!==n.length&&(t[a]=n)})},Ys=(e,t)=>{const s={};return Zs(e,s,t),t.destinationFolder?(-1!==t.destinationFolder.types.indexOf(E.Cb.TRASH)&&(s[E.oc.TRASH]||(s[E.oc.TRASH]=[]),s[E.oc.TRASH].push(t.messageId)),-1!==t.destinationFolder.types.indexOf(E.Cb.BULK)&&(s[E.oc.BULK]||(s[E.oc.BULK]=[]),s[E.oc.BULK].push(t.messageId)),s):s},Xs=(e={},t)=>{const s=t.messageGroup,a=void 0===s?{}:s,n=t.itemToUpdate,r=void 0===n?{}:n,i=t.folders,o=t.listId;switch(t.type){case v.Vf:{let e=E.oc.DEFAULT;const t=Object(H.o)(o),s=i.find(e=>e.folder.id===t),n=s?Object(G.o)(s.folder):"";return n===E.Cb.TRASH?e=E.oc.TRASH:n===E.Cb.BULK&&(e=E.oc.BULK),{[e]:a[E.oc.DEFAULT]}}case v.Pb:case v.Lb:case v.Vk:case v.mh:case v.Ug:case v.rh:case v.Ti:case v.Vi:case v.Jg:case v.gh:case v.zl:case v.Cl:return p()(a,e)?e:c()({},e,a);case v.ce:case v.jb:return r.isAffected?Ys(e,r):e;case v.vh:return r.isAffected?((e,t)=>{if(!t.destinationFolder||-1!==t.destinationFolder.types.indexOf(E.Cb.TRASH)||-1!==t.destinationFolder.types.indexOf(E.Cb.BULK))return Ys(e,t);if(-1!==t.folder.types.indexOf(E.Cb.TRASH)||-1!==t.folder.types.indexOf(E.Cb.BULK)){const s={};return Zs(e,s,t),s[E.oc.DEFAULT]||(s[E.oc.DEFAULT]=[]),s[E.oc.DEFAULT].push(t.messageId),s}return e})(e,r):e;default:return e}};var Qs=function(e={},t){const s=t.type,a=t.listData,n=void 0===a?{}:a,r=t.itemsToUpdate,i=t.folders,o=void 0===i?{}:i,d=t.listId;switch(s){case v.Pb:case v.Vf:case v.Lb:case v.Vk:case v.mh:case v.Ug:case v.rh:case v.Ti:case v.Vi:case v.Jg:case v.gh:case v.zl:case v.Cl:{const t=n.groupIdToMessageIdsMap;if(!t)return e;const a=Object.keys(t).filter(s=>!p()(t[s],e[s])).reduce((a,n)=>c()({},a,{[n]:Xs(e[n],{type:s,messageGroup:t[n],folders:o,listId:d})}),{});return Object.keys(a).length?c()({},e,a):e}case v.vh:case v.ce:case v.jb:return r.length?r.reduce((e,t)=>{const a=t.groupId,n=a?Xs(e[a],{type:s,itemToUpdate:t}):{};return Object.keys(n).length?c()({},e,{[a]:n}):He()(e,[a])},c()({},e)):e;default:return e}};const $s=Object(g.createSelector)(e=>e,(e={})=>{const t=()=>Object.keys(e).reduce((t,s)=>(Object.keys(e[s]).forEach(a=>{e[s][a].forEach(e=>t[e]=s)}),t),{}),s=t=>{const s=e[t]||{};return Object.keys(s).reduce((e,t)=>[...e,...s[t]],[])||[]},a={doesMessageGroupIdExist:t=>!!e[t],getAllMessageIdsFromMessageGroupId:s,doesMessageGroupIdExistInList:(t,s)=>!!e[t]&&!!e[t][s],getMessageIdsFromMessageGroupIdForMessageGroupFolderType:(t,a)=>{return a?(e[t]||{})[a]||[]:s(t)},getMessageIdToGroupIdMap:t,getGroupIdContainingMessageId:e=>t()[e]};return c()({},a)});var Js=s(63);const ea=Object(h.combineReducers)({replyTo:(e=[],t)=>{const s=t.replyTo;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.Lg:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Rk:case v.th:case v.Mg:case v.ph:case v.zl:case v.Uh:case v.oi:return p()(e,s)?e:s||e;default:return e}},from:(e=[],t)=>{const s=t.message;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Rk:case v.th:case v.ph:case v.oi:case v.zl:case v.Lg:case v.Mg:case v.Uh:return p()(e,s.headers.from)?e:s.headers.from;default:return e}},to:(e=[],t)=>{const s=t.message;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.zl:case v.Rk:case v.th:return p()(e,s.headers.to)?e:s.headers.to;default:return e}},cc:(e=[],t)=>{const s=t.message;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.zl:case v.Rk:case v.th:return p()(e,s.headers.cc)?e:s.headers.cc;default:return e}},bcc:(e=[],t)=>{const s=t.message;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.zl:case v.Rk:case v.th:return p()(e,s.headers.bcc)?e:s.headers.bcc;default:return e}},date:(e=null,t)=>{const s=t.message,a=t.isCard;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Uh:case v.ph:case v.oi:case v.zl:case v.Rk:case v.th:return s.headers.date?s.headers.date:e;case v.Mg:case v.Lg:return a&&s.headers.date?s.headers.date:e;default:return e}},messageIdRfc822:(e="",t)=>{const s=t.message,a=t.isCard;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Uh:case v.ph:case v.oi:case v.zl:case v.Rk:case v.th:return s.headers.messageIdRfc822?s.headers.messageIdRfc822:e;case v.Mg:case v.Lg:return a&&s.headers.messageIdRfc822?s.headers.messageIdRfc822:e;default:return e}}}),ta=Object(h.combineReducers)({messageId:(e="",t)=>{const s=t.message,a=void 0===s?{}:s;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Rk:case v.th:case v.ph:case v.oi:case v.zl:case v.Uh:case v.Mg:case v.Lg:return a.id||e;default:return e}},csid:(e="",t)=>{const s=t.message,a=t.isCard;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.zl:case v.Cl:case v.Rk:case v.th:case v.Uh:case v.oi:case v.ph:return!e&&s.csid?s.csid||"":e;case v.Mg:case v.Lg:return!e&&s.csid&&a?s.csid||"":e;default:return e}},conversationId:(e="",t)=>{const s=t.message,a=t.isCard;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Rk:case v.th:case v.ph:case v.oi:case v.zl:case v.Uh:return s.conversationId?s.conversationId:e;case v.Mg:case v.Lg:return a&&s.conversationId?s.conversationId:e;default:return e}},cardConversationId:(e="",t)=>{const s=t.message,a=void 0===s?{}:s;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Rk:case v.th:case v.ph:case v.oi:case v.zl:case v.Mg:case v.Lg:case v.Uh:case v.Te:return a.cardConversationId?a.cardConversationId:e;default:return e}},decos:(e=[],t)=>{const s=t.message,a=void 0===s?{}:s;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Rk:case v.th:case v.ph:case v.zl:case v.Mg:case v.Lg:case v.Uh:case v.oi:return a.decos?a.decos:e;default:return e}},inReplyTo:(e={},t)=>{const s=t.message;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.zl:case v.Cl:case v.Rk:case v.th:return p()(e,s.replyTo)?e:s.inReplyTo||{};default:return e}},classification:(e="",t)=>{const s=t.message,a=t.isCard;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.ph:case v.Uh:case v.oi:case v.zl:case v.Rk:case v.th:return s.classification?s.classification:e;case v.Mg:case v.Lg:return a&&s.classification?s.classification:e;default:return e}},verifiedDomains:(e=[],t)=>{const s=t.message;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.zl:case v.Rk:case v.th:return p()(e,s.verifiedDomains)?e:s.verifiedDomains||[];default:return e}},headers:ea,folderOfDelivery:(e="",t)=>{const s=t.message,a=t.isCard;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Uh:case v.ph:case v.oi:case v.Rk:case v.th:case v.zl:return s.folderOfDelivery?s.folderOfDelivery:e;case v.Mg:case v.Lg:return a&&s.folderOfDelivery?s.folderOfDelivery:e;default:return e}},downloadAllUrl:(e="",t)=>{const s=t.message,a=void 0===s?{}:s;return a.downloadAllUrl&&e!==a.downloadAllUrl?a.downloadAllUrl:e},shouldNudgeToReply:(e=!1,t)=>{return!(!t.shouldNudgeToReply||t.type!==v.Rb)||e},getNumExtractedInfo:(e=0,t)=>{switch(t.type){case v.Rb:case v.Qb:case v.Mg:return e+1;default:return e}},spame:(e="",t)=>{const s=t.message,a=void 0===s?{}:s;switch(t.type){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.rh:case v.Pb:case v.Lb:case v.Vk:case v.Cl:case v.Rk:case v.th:case v.ph:case v.oi:case v.zl:case v.Uh:case v.Mg:case v.Lg:return a.spame||e;default:return e}}});var sa=function(e={},t){const s=t.listData,a=void 0===s?{}:s,n=t.type,r=t.messageMetadataMap,i=void 0===r?{}:r,o=-1!==[v.Jg,v.gh].indexOf(n),d=-1!==[v.Pb].indexOf(n),l=-1!==[v.Te].indexOf(n);switch(n){case v.Vf:case v.Ti:case v.Vi:case v.mh:case v.Ug:case v.Uh:case v.rh:case v.Pb:case v.zl:case v.Lb:case v.Vk:case v.Jg:case v.gh:case v.Cl:case v.Te:case v.ph:case v.oi:case v.Rk:case v.th:{if(!a.messages)return e;const s=Object.keys(a.messages).filter(t=>o||d||l?!p()(e[t],a.messages[t]):!e[t]).reduce((s,r)=>c()({},s,{[r]:ta(e[r],c()({type:n,message:a.messages[r],draftFolderId:t.draftFolderId,date:t.date,replyTo:i[r]?i[r].headers.replyTo:void 0},n===v.Cl?{draftMessage:t.message}:{}))}),{});return Object.keys(s).length?c()({},e,s):e}case v.Lg:case v.Mg:{const t=Object.keys(i);if(!t.length)return e;const s=t.map(t=>({[t]:ta(e[t],{type:n,message:i[t],replyTo:i[t].headers.replyTo})})),r=Object.keys(a.messages||[]).reduce((t,s)=>{const r=a.messages[s].decos,i=r&&r.some(e=>e&&e.id===E.nc.CRD);return c()({},t,{[s]:ta(e[s],{type:n,message:a.messages[s],replyTo:a.messages[s].headers.replyTo,isCard:i})})},{});return c()({},e,Object.assign({},...s,r))}case v.Rb:case v.Qb:{const s=t.scoresList,a=void 0===s?[]:s,r=t.messageIdList,i=(void 0===r?[]:r).reduce((t,s)=>{if(e[s]){const r=a.some(e=>s===e.mid);return c()({},t,{[s]:ta(e[s],{type:n,shouldNudgeToReply:r})})}return t},{});return Object.keys(i).length?c()({},e,i):e}default:return e}};const aa=(e={})=>({doesMessageIdExist:t=>!!e[t],getConversationId:t=>e[t].conversationId,getCardConversationId:t=>e[t].cardConversationId,getDecos:t=>e[t]&&e[t].decos,isCoupon:t=>e[t].decos&&e[t].decos.some(e=>e&&e.id===E.nc.CPN),getCsid:t=>e[t].csid,getClassification:t=>e[t].classification,getMessageId:t=>e[t].messageId,__getMessage:t=>e[t],isVerifiedDomain:t=>!!e[t].verifiedDomains.length&&Object(Js.i)(e[t].verifiedDomains),getTimeStamp:t=>e[t].headers.date,getFromAddresses:t=>e[t].headers.from,getToAddresses:t=>e[t].headers.to,getCcAddresses:t=>e[t].headers.cc,getBccAddresses:t=>e[t].headers.bcc,getReplyToAddresses:t=>e[t].headers.replyTo,getDate:t=>e[t].headers.date,shouldNudgeToReply:t=>!!e[t].shouldNudgeToReply,getNumExtractedInfo:t=>e[t].getNumExtractedInfo,isMarkedAsSpam:t=>"N"===e[t].spame,getFolderOfDelivery:t=>e[t].folderOfDelivery,findMessageIdsForConversationId:t=>Object.keys(e).filter(s=>e[s].conversationId===t),getParentConversationIdForCardConversationId:t=>{const s=aa(e).getParentMessageIdForCardConversationId(t);return s?e[s].conversationId:""},getParentMessageIdForCardConversationId:t=>Object.keys(e).find(s=>e[s].cardConversationId===t&&e[s].decos.some(({id:e})=>e===E.nc.EML)),getDownloadAllUrl:t=>e[t]?e[t].downloadAllUrl:"",__get__:t=>e[t],getMessagesCount:()=>Object.keys(e).length});var na=function(e={},t){const s=t.listData,a=void 0===s?{}:s;switch(t.type){case v.Vf:case v.Pb:case v.Vk:case v.mh:case v.Ug:case v.Jg:case v.gh:case v.Mg:case v.Lg:case v.zl:case v.Cl:case v.Lb:case v.rh:case v.hc:case v.Ti:case v.Vi:{const t=a.attachmentIdToMessageIdMap,s=void 0===t?{}:t;return Object.keys(s).length?c()({},e,s):e}default:return e}};const ra=[],ia=Object(g.createSelector)(e=>e,(e={})=>{const t=Object.keys(e).reduce((t,s)=>{const a=e[s];return c()({},t,{[a]:(t[a]||[]).concat(s)})},{});return{attachmentsByMessageId:e=>t[e]||ra,getMessageIdForAttachmentId:t=>e[t]}}),oa=Object(h.combineReducers)({offerId:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.offerId;default:return e}},description:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.description;default:return e}},expiryTimestamp:(e=0,t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.expiryTimestamp;default:return e}},brandName:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.brandName;default:return e}},imageUrl:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.imageUrl||"";default:return e}},discountType:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.discountType;default:return e}},cardId:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.cardId||"";default:return e}},categories:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.categories;default:return e}},value:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.value;default:return e}},amountUnit:(e="",t)=>{const s=t.offer;switch(t.type){case v.Jh:return s.amountUnit;default:return e}},activated:(e=!1,t)=>{const s=t.offer,a=(void 0===s?{}:s).activated,n=void 0!==a&&a;switch(t.type){case v.Jh:case v.D:return n;default:return e}}});var ca=function(e={},{type:t,offers:s}){switch(t){case v.Jh:{const a=(s||[]).filter(t=>!p()(e[t.offerId],t));return a.length?a.reduce((e,s)=>c()({},e,{[s.offerId]:oa(e[s.offerId],{type:t,offer:s})}),c()({},e)):e}case v.D:{if(!s)return e;const a=s.reduce((s,a)=>c()({},s,{[a.offerId]:oa(e[a.offerId],{type:t,offer:a})}),{});return Object.keys(a).length?c()({},e,a):e}default:return e}};var da=function(e=!0,t){switch(t.type){case v.Kh:return t.online}return e};const la=e=>e.name===E.gd.FOLDER||e.name===E.gd.CONTACTS||e.name===E.gd.SUBSCRIPTION_LIST||Object(H.P)(e);var ua=function(e=[],t){if(t.route&&t.route.query.fullscreen)return e;switch(t.type){case v.eg:return[...e,t.route];case v.Ub:return e.filter(e=>!Object(V.D)(e,t.route));case v.Tb:return e.filter(e=>!(t.pagesToClose||[]).find(t=>Object(V.D)(e,t)));case v.Dl:{const s=t.pages,a=void 0===s?[]:s;return a.length?a:e}case v.Pb:{const s=t.folderMap,a=void 0===s?{}:s;return e.filter(e=>{if(e.name===E.gd.MESSAGE_FROM_FOLDER_LIST){const t=Object(R.a)(e,"params.fid",null);if(t)return a.hasOwnProperty(t)}return!0})}default:{if(t.pages&&t.pages!==e)return t.pages;if(t.route===t.previousRoute)return e;const s=t.tabsToRemove,a=void 0===s?[]:s,n=t.i13nModel;if(-1!==[ae.e.ATTACHMENT_PREVIEW_IMAGE_CLOSE,ae.e.ATTACHMENT_PREVIEW_DOCUMENT_CLOSE].indexOf((void 0===n?{}:n).mKey)&&"1"===t.previousRoute.query.messagePreview){const s=e.filter(e=>!Object(V.D)(e,t.previousRoute));return[t.route,...s]}if(la(t.route)){const s=e.filter(e=>!la(e));return[t.route,...s]}return-1!==e.findIndex(e=>Object(V.D)(e,t.route))?e.map(e=>Object(V.D)(e,t.route)?t.route:e):t.replaceRoute||t.previousRoute.name===t.route.name&&!t.forceNewPage&&!1!==t.replaceRoute?e.map(e=>Object(V.D)(e,t.previousRoute)?t.route:e):a.length>0?[...e.filter(e=>-1===a.findIndex(t=>Object(V.D)(t,e))),t.route]:[...e,t.route]}}};var _a=(e={},t)=>{switch(t.type){case v.li:case v.bk:case v.vh:case v.ce:case v.Uk:case v.jb:return t;case v.tl:case v.sl:return{};default:return e}};var ma=(e={},t)=>{switch(t.type){case v.Ti:case v.Vi:{const s=t.listData.people,a=void 0===s?{}:s;return c()({},e,a)}default:return e}};var pa=function(e={},t){switch(t.type){case v.Yg:{const s=Object(B.g)(t);return c()({},e,{[s]:{printId:s,isPrinted:!1,printType:E.Uc.MESSAGE,messageId:t.messageId}})}case v.Zg:{const s=t.printId,a=e[s];return c()({},e,{[s]:c()({},a,{isPrinted:!0})})}case v.Xg:case v.Wg:return He()(e,t.printId);case v.fi:{const s=t.retailerId;return c()({},e,{[s]:{isPrinted:!1,printId:s,printType:E.Uc.OFFERS}})}}return e};const ha=(e,t)=>{const s=e.schemaCards[t],a=s.potentialSavings,n=s.price,r=s.currency,i=s.orderedItems,o=s.sellerName,c=s.broker;let d=e.schemaCards[t].orderDate;if(!d){const s=Object.keys(e.messageIdToSchemaIdsMap).find(s=>e.messageIdToSchemaIdsMap[s].find(e=>e.id===t)),a=e.messages[s].headers&&e.messages[s].headers.date;d=a?new Date(1e3*parseInt(String(a),10)).toISOString():`${(new Date).getFullYear()}-01-01T00:00:00Z`}return{potentialSavings:a,price:n,currency:r,orderedItems:i,orderDate:d,sellerName:o,broker:c}};var ga=s(147),Ea=s.n(ga);var Ia=function(e=[],t){switch(t.type){case v.qi:return t.recentSearches.map(e=>({query:Ea()(e.query)}));case v.Vi:case v.td:if(!0===t.addToRecentSearch){const s=Object(H.s)(t.listId);return[{query:s},...e.filter(e=>e.query!==s)]}break;case v.je:return e.filter(e=>e.query!==t.query)}return e};const Sa=Object(h.combineReducers)({affinityScore:(e=null,t)=>{const s=t.retailer;switch(t.type){case v.Rf:return s.inferredScore;default:return e}},brandImage:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.brandImage||null;default:return e}},categories:(e=[],t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.categories;default:return e}},displayName:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.displayName;default:return e}},emailIds:(e=[],t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.emailIds||[];default:return e}},errorHint:(e="",t)=>{const s=t.retailer;switch(t.type){case v.tg:return s.errorHint;default:return e}},id:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.id;default:return e}},index:(e=-1,t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.index;default:return e}},linked:(e=!1,t)=>{const s=t.retailer;switch(t.type){case v.Fi:case v.vg:case v.ug:case v.tg:case v.Yk:return s.linked;default:return e}},loyaltyId:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:case v.vg:return s.loyaltyId||null;case v.Yk:return"";default:return e}},numActivatedOffers:(e=null,t)=>{const s=t.numActivatedOffers;switch(t.type){case v.A:return s;case v.D:return null===e?1:e+1;default:return e}},offersUsed:(e=null,t)=>{const s=t.offersUsed;switch(t.type){case v.Pi:return s;default:return e}},proxyType:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.proxyType;default:return e}},loyaltyCardLength:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.loyaltyCardLength||"";default:return e}},loyaltyCardPrefix:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.loyaltyCardPrefix||"";default:return e}},registrationInfo:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.registrationInfo;default:return e}},registrationUrl:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.registrationUrl||null;default:return e}},subDomains:(e=[],t)=>{const s=t.retailer;switch(t.type){case v.Fi:return s.subDomains||[];default:return e}},totalSavings:(e=null,t)=>{const s=t.totalSavings;switch(t.type){case v.Pi:return s;default:return e}}});var Ca=Object(h.combineReducers)({retailers:function(e={},{errorHint:t="",linked:s=!1,listId:a,numActivatedOffers:n,offersUsed:r,quotientRetailers:i,retailerId:o="",retailers:d,totalSavings:l,type:u}){switch(u){case v.Fi:{const t=(d||[]).filter(t=>!p()(e[t.id],t));return t.length?t.reduce((e,t,s)=>c()({},e,{[t.id]:Sa(e[t.id],{type:u,retailer:c()({},t,{index:s})})}),c()({},e)):e}case v.vg:case v.Yk:{if(!d)return e;const t=d.reduce((t,s)=>c()({},t,{[s.id]:Sa(e[s.id],{type:u,retailer:s})}),{});return Object.keys(t).length?c()({},e,t):e}case v.Pi:case v.Oi:{const t={[o]:Sa(e[o],{type:u,totalSavings:l,offersUsed:r})};return c()({},e,t)}case v.A:case v.D:{const t=Object(H.y)(a),s={[t]:Sa(e[t],{type:u,numActivatedOffers:n})};return c()({},e,s)}case v.ug:case v.tg:{const a={[o]:Sa(e[o],{type:u,retailer:{errorHint:t,linked:s}})};return c()({},e,a)}case v.Rf:{if(!i)return e;const t=i.filter(t=>t.id in e).reduce((t,s)=>c()({},t,{[s.id]:Sa(e[s.id],{type:u,retailer:s})}),{});return Object.keys(t).length?c()({},e,t):e}default:return e}},allCategories:(e={},t)=>{const s=t.groceryCategories,a=void 0===s?[]:s;switch(t.type){case v.Ff:return Object.assign({},...a.map(e=>({[e.id]:e})));default:return e}}});const fa=(e={})=>({getTotalNumberOfRetailers:()=>e.retailers?Object.keys(e.retailers).length:0,getOrderedRetailers:()=>{if(!e.retailers)return[];const t=Object(R.g)(e.retailers).sort((e,t)=>e.index-t.index);return[...t.filter(e=>e.linked),...t.filter(e=>!e.linked)]},getRetailersFromRetailerIds:t=>t.filter(t=>t in(e.retailers||{})).map(t=>e.retailers[t]),isLinkedRetailer:t=>e.retailers&&e.retailers[t]?e.retailers[t].linked:null,getDisplayNameFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].displayName||"",getCategoriesFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].categories||[],getAstraCategoriesFromRetailerId:t=>{const s=fa(e).getCategoriesFromRetailerId(t),a=e.allCategories||{};return s.map(e=>c()({},a[e["@id"]],{name:e.name}))},getAllGroceryCategories:()=>e.allCategories||{},getProxyTypeFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].proxyType||"",getLoyaltyCardLengthFromRetailerId:t=>e.retailers&&e.retailers[t]?e.retailers[t].loyaltyCardLength:null,getLoyaltyCardPrefixFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].loyaltyCardPrefix||"",getBrandImageFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].brandImage||"",getLoyaltyIdFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].loyaltyId||"",getRegistrationUrlFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].registrationUrl||"",getTotalSavingsFromRetailerId:t=>e.retailers&&e.retailers[t]?e.retailers[t].totalSavings:null,getOffersUsedFromRetailerId:t=>e.retailers&&e.retailers[t]?e.retailers[t].offersUsed:null,getNumActivatedOffersFromRetailerId:t=>e.retailers&&e.retailers[t]?e.retailers[t].numActivatedOffers:null,getRegistrationInfoFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].registrationInfo||"",getErrorHintFromRetailerId:t=>e.retailers&&e.retailers[t]&&e.retailers[t].errorHint||"",getRetailerIdFromEmail:t=>{if(e.retailers){let s=Object.keys(e.retailers).find(s=>e.retailers[s].emailIds&&e.retailers[s].emailIds.find(e=>e===t));if(!s){const a=t.indexOf("@")>-1?t.split("@")[1]:t;s=Object.keys(e.retailers).find(t=>e.retailers[t].subDomains&&e.retailers[t].subDomains.find(e=>e===a))}return s}return null},isSupportedQuotientRetailer:t=>e.retailers?!!fa(e).getRetailerIdFromEmail(t):null,getTopNPersonalizedStores:t=>e.retailers?Object(R.g)(e.retailers).filter(e=>"number"==typeof e.affinityScore).sort((e,t)=>t.affinityScore-e.affinityScore).slice(0,t):[],getNumberOfLinkedRetailers:()=>e.retailers?Object.keys(e.retailers).filter(t=>e.retailers[t].linked).length:0});var Ta=Object(h.combineReducers)({routesConfig:function(e=[],t){switch(t.type){case v.eg:return t.routesConfig}return e},route:function(e={},t){switch(t.type){case v.Vf:case v.eg:case v.Lh:return t.route;default:return t.route&&e===t.route?e:t.route||e}},hashParams:function(e={},t){switch(t.type){case v.eg:case v.Lh:return t.hashParams||e}return e},mrdParams:function(e={},t){switch(t.type){case v.Vf:return t.mrdParams||e;case v.eg:case v.Lh:return{}}return e},uiContext:function(e={},t){switch(t.type){case v.eg:case v.Lh:return t.i13nModel||t.uiContext||e}return e}});const Aa=(e,t)=>(s=t,a)=>(function(e,t,s){const a=t.savedSearch;switch(t.type){case v.xg:case v.Kd:return a[s]||e}return e})(s,a,e),ba=Object(h.combineReducers)({id:Aa("id",""),name:Aa("name",""),types:Aa("types",[]),decorations:Aa("decorations",[]),priority:Aa("priority",""),query:Aa("query",""),userQueries:Aa("userQueries",[]),accountIds:Aa("accountIds",[]),folderIds:Aa("folderIds",[])});var Oa=function(e={},t){switch(t.type){case v.xg:case v.Kd:{const s=(t.savedSearches||[]).filter(t=>!p()(e[t.id],t));return s.length?s.reduce((e,s)=>c()({},e,{[s.id]:ba(e[s.id],{type:t.type,savedSearch:s})}),c()({},e)):e}case v.ne:return He()(e,[t.savedSearchId]);default:return e}};var Ra=(e={isFocused:!1},t)=>{switch(t.type){case v.Si:return c()({},e,{isFocused:!0});case v.Ri:return c()({},e,{isFocused:!1});default:return e}};const Na=(e={})=>({isSearchInputFocused:()=>e.searchInput.isFocused||!1});var Ma=function(e={},t){switch(t.type){case v.uk:return c()({},e,{[t.query]:(e[t.query]||[]).concat(t.suggestions)})}return e};var Da=Object(h.combineReducers)({settingsApiCallStatus:(e=E.bd.LOADING,t)=>{switch(t.type){case v.uj:return E.bd.LOADED;case v.tj:return E.bd.ERROR;default:return e}},blockedSendersApiCallStatus:(e=E.bd.LOADING,t)=>{switch(t.type){case v.uj:case v.ij:case v.oj:return E.bd.LOADED;case v.tj:case v.hj:case v.nj:return E.bd.ERROR;default:return e}},filtersAndBlockedSendersApiCallStatus:(e=E.bd.LOADING,t)=>{switch(t.type){case v.uj:case v.oj:return E.bd.LOADED;case v.tj:case v.nj:return E.bd.ERROR;default:return e}}});const ya=Object(h.combineReducers)({affinityScore:(e=null,t)=>{const s=t.retailer;switch(t.type){case v.Rf:return s.inferredScore;default:return e}},homepage:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Gj:return s.homepage;default:return e}},id:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Gj:return s.id;default:return e}},isSupported:(e=!1,t)=>{const s=t.retailer;switch(t.type){case v.Gj:return s.isSupported;default:return e}},logoUrl:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Gj:return s.logoUrl;default:return e}},name:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Gj:return s.retailerName;default:return e}},promotionDomain:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Gj:return s.promotionDomain;default:return e}},receiptsDomain:(e="",t)=>{const s=t.retailer;switch(t.type){case v.Gj:return s.receiptsDomain;default:return e}}});var La=function(e={},{type:t,retailers:s,shopRunnerRetailers:a}){switch(t){case v.Gj:{const a=(s||[]).filter(t=>!p()(e[t.id],t));return a.length?a.reduce((e,s)=>c()({},e,{[s.id]:ya(e[s.id],{type:t,retailer:s})}),c()({},e)):e}case v.Rf:{if(!a)return e;const s=a.reduce((s,a)=>c()({},s,{[a.id]:ya(e[a.id],{type:t,retailer:a})}),{});return Object.keys(s).length?c()({},e,s):e}default:return e}};var va=Object(h.combineReducers)({authWindow:(e={},t)=>{switch(t.type){case v.We:{const e=t.i13nModel,s=(void 0===e?{}:e).mKey;if(t.name!==E.ub.LINKEDIN_REAUTH_CUE||s!==`cue_${E.ub.LINKEDIN_REAUTH_CUE}_reconnect`)break;return{provider:E.Nd.LinkedIn,url:""}}case v.Uf:case v.Mj:case v.Kj:case v.Yb:case v.Wb:return{url:t.url,provider:t.provider};case v.lj:if(e.provider&&(t.name===E.zd.THEME||t.name===E.zd.THEME_MODE))return{url:void 0,provider:void 0};break;case v.Lh:case v.ce:case v.Lj:case v.Nj:case v.Jj:case v.Xb:case v.Zb:case v.Vb:return{url:void 0,provider:void 0}}return e}});function Pa(e,t,s=[]){let a=e.index,n=void 0===a?-1:a;return t===E.X.UP?n--:t===E.X.DOWN?n++:t===E.X.FIRST?n=0:t===E.X.LAST?n=s.length-1:Object(P.a)(!t,"Movement not supported yet"),n<0?n=0:n>=s.length&&(n=s.length-1),{index:n,streamItem:s[n]}}var Fa=(e={},t)=>{const s=t.streamItem,a=t.streamItems,n=void 0===a?[]:a,r=t.selectionPayload,i=void 0===r?{}:r;switch(t.type){case v.kk:case v.dk:case v.Yf:case v.hk:case v.di:{const t=n.findIndex(e=>p()(e,s)),a={streamItem:s,index:t};return p()(e,a)?e:a}case v.Lh:{const t=n.findIndex(e=>p()(e,s));if(!s||-1===t)return{};const a={streamItem:s,index:t};return p()(e,a)?e:a}case v.ci:return e.streamItem?He()(e,"streamItem"):e;case v.lk:case v.fk:{const s=Pa(e,t.movement,n);return p()(e,s)?e:s}case v.li:case v.bk:case v.ce:case v.jb:case v.vh:case v.fj:case v.zl:case v.Fl:case v.Pb:case v.Lb:case v.Vi:case v.Vk:case v.mh:case v.rh:case v.Ti:case v.Df:case v.jh:case v.ph:case v.oi:case v.Af:case v.td:case v.Te:case v.Rk:case v.qd:case v.th:{const s=t.oldMessageStreamItems,a=void 0===s?[]:s,n=t.newMessageStreamItems,r=void 0===n?[]:n;if(!r.length)return{};if(!Object.keys(e).length)return e;const i=a[e.index]||{},o=r.findIndex(e=>e.id===i.id&&e.listId===i.listId);if(-1!==o){const t=e.index===o&&p()(e.streamItem,i)?e:{streamItem:i,index:o};return e.streamItem?t:He()(t,"streamItem")}const c=a.slice(e.index+1).find(e=>r.some(t=>e.id===t.id&&e.listId===t.listId))||r[r.length-1]||{},d={streamItem:c,index:r.findIndex(e=>e.id===c.id&&e.listId===c.listId)};return e.streamItem?d:He()(d,"streamItem")}case v.Sg:case v.Pg:case v.Qg:{const s=t.streamItem;return c()({},e,{streamItem:s})}case v.Cl:case v.gh:case v.Jg:{const s=t.streamItem,a=t.previousStreamItem;return s&&a&&i.oldCursor&&p()(i.oldCursor.streamItem,a)?c()({},e,{streamItem:s}):e}default:return e}};const wa=Object.prototype.hasOwnProperty,ka=(e={},t=[])=>t.reduce((e,{listId:t,id:s})=>c()({},e,{[t]:c()({},e[t]||{},{[s]:!0})}),c()({},e)),xa=(e={},t=[])=>t.reduce((e,{listId:t,id:s})=>c()({},e,{[t]:He()(e[t]||{},s)}),c()({},e)),Ua=e=>e.reduce((e,{listId:t,id:s})=>c()({},e,{[t]:c()({},e[t]||{},{[s]:!0})}),{});var Ga=function(e={},t){const s=t.streamItem,a=void 0===s?{}:s,r=t.selectionPayload,i=void 0===r?{}:r,o=t.streamItems,d=void 0===o?[]:o,l=i.oldCursor,u=i.oldSelectedItems,_=void 0===u?[]:u;switch(t.type){case v.X:case v.ik:{const e=t.selectedItems;return ka({},void 0===e?[]:e)}case v.dk:return _.some(e=>p()(e,a))?e:ka(c()({},xa(Ua(_),[..._])),[a]);case v.kk:case v.Yf:return a.id?_.some(e=>p()(e,a))?xa(Ua(_),[a]):ka(Ua(_),[a]):e;case v.gk:return a.id&&t.multipleStreamItems?_.some(e=>p()(e,a))?xa(Ua(_),[a]):ka(Ua(_),t.multipleStreamItems):e;case v.hk:{if(!a.id)return e;if(!l)return ka(Ua(_),[a]);const t=d.findIndex(e=>p()(e,a)),s=[l.index,t].sort((e,t)=>e-t),r=n()(s,2),i=r[0],o=r[1];return ka(Ua(_),d.slice(i,o+1))}case v.lk:{const s=Pa(l||{},t.movement,d);if(!_.some(e=>p()(e,s.streamItem))){const e=[s.streamItem];return l&&l.streamItem&&e.push(l.streamItem),ka(Ua(_),e)}return l&&l.streamItem?xa(Ua(_),[l.streamItem]):e}case v.fk:case v.jk:case v.ce:case v.ib:case v.jb:case v.vh:case v.fj:case v.ci:case v.Fl:case v.zl:case v.di:case v.ch:return Object.keys(e).length?{}:e;case v.Lh:case v.Si:{const s=t.clearSelection;return void 0!==s&&s&&Object.keys(e).length?{}:e}default:return t.clearSelection&&Object.keys(e).length?{}:e}};var ja=(e=E.xd.NONE,t)=>{switch(t.type){case v.X:return E.xd.ALL;case v.ik:return t.selectionType;case v.jk:case v.kk:case v.Yf:case v.hk:case v.lk:case v.fk:case v.ce:case v.ib:case v.jb:case v.vh:case v.fj:case v.Fl:case v.zl:case v.di:case v.ci:return E.xd.NONE;case v.Lh:case v.Si:{const s=t.clearSelection;return void 0!==s&&s?E.xd.NONE:e}default:return e}};const Ha=(e=[],t=(()=>{}))=>{const s=((e=[])=>e.reduce((e,t)=>c()({},e,{[t.listId]:(e[t.listId]||[]).concat(t.id)}),{}))(e),a=Object.keys(s).reduce((e,a)=>{const n=t(a)||[];return e[a]=n.length?s[a].filter(e=>-1===n.indexOf(e)):s[a],e},{});return e.filter(({id:e,listId:t})=>-1!==(a[t]||[]).indexOf(e))},Ba=e=>{const t=[];return e.forEach(e=>{const s=Object(H.t)(e.listId);if(s===E.Pb.MESSAGES)t.push({id:e.id,listId:e.listId});else if(s===E.Pb.IMAGES){e.items.forEach(e=>{t.push({id:e.id,listId:e.listId,messageId:e.messageGroupId,previewable:e.previewable,downloadUrl:e.downloadUrl})})}else s===E.Pb.DOCUMENTS&&t.push({id:e.id,listId:e.listId,messageId:e.messageGroupId,previewable:e.previewable,downloadUrl:e.downloadUrl})}),t},Va=e=>`${e.listId}-${e.csid}`,Wa=(e={},t)=>{const s=t.itemToUpdate;switch(t.type){case v.Bc:{if(!s)return e;const a=s.category,n=s.contacts,r=void 0===n?[]:n,i=s.remainingCount,o=void 0===i?0:i,c=t.listId,d=Object(H.W)(c,{name:a}),l=Va({csid:d,listId:c});return r.length+o>E.Tb?e:He()(e,l)}case v.Gb:{const s=Va({csid:t.categoryListId,listId:t.listId});return e[s]?He()(e,s):c()({},e,{[s]:!0})}case v.fd:{const s=t.streamId,a=t.streamItem,n=Va({csid:a.listId,listId:s}),r=Va({csid:a.oldListId,listId:s}),i=e[n]?He()(e,n):e;return i[r]?He()(i,r):i}case v.Qd:return{};case v.Rg:case v.Pg:case v.bk:case v.li:{if(!s)return e;const t=Va({csid:s.csid,listId:s.listId});return c()({},e,{[t]:s.expansionState})}case v.Ub:return e;case v.zl:case v.Fl:{const s=t.listId,a=t.shouldCreateExpansionState;if(!(void 0!==a&&a))return e;const n=Va({csid:t.inReplyToMessageCsid,listId:Object(H.W)(s,{listContentType:E.Pb.MESSAGE})});return e[n]?e:c()({},e,{[n]:E.D.TEMPORARY_EXPANSION})}case v.di:case v.Lh:return Object.keys(e).filter(t=>e[t]!==E.D.TEMPORARY_EXPANSION).reduce((t,s)=>c()({},t,{[s]:e[s]}),{});default:return e}},qa=Object(h.combineReducers)({cursor:Fa,selectedItems:Ga,selectionType:ja,expansionState:Wa}),za=(e,t={})=>e.persistStreamItemExpansionStates?e.persistStreamItemExpansionStates.reduce((t,s)=>c()({},t,{[s.streamId]:qa(t[s.streamId],c()({},e,{itemToUpdate:s}))}),c()({},t)):t,Ka=(e,t)=>Object.keys(e).filter(Boolean).reduce((s,a)=>c()({},s,{[a]:c()({},e[a],{expansionState:Wa(e[a].expansionState,t)})}),{});var Za=(e={},t)=>{switch(t.type){case v.Bc:{const s=t.listId,a=t.contacts,n=void 0===a?[]:a,r=Object(H.u)(s);return n.length&&r!==E.Qb.TOP_CONTACTS?n.reduce((e,a)=>c()({},e,{[s]:qa(e[s],c()({},t,{itemToUpdate:a,listId:s}))}),c()({},e)):e}case v.Gb:{const s=t.listId;return c()({},e,{[s]:qa(e[s],t)})}case v.Ed:case v.fd:{const s=t.streamId;return c()({},e,{[s]:qa(e[s],t)})}case v.Qd:case v.Rg:case v.Pg:return t.itemsToUpdate.reduce((e,s)=>c()({},e,{[s.streamId]:qa(e[s.streamId],c()({},t,{itemToUpdate:s}))}),c()({},e));case v.X:case v.ik:case v.jk:case v.Sg:case v.Qg:case v.ci:{const s=t.streamId;return s?c()({},e,{[s]:qa(e[s],t)}):e}case v.Si:{const s=t.streamId,a=t.clearSelection,n=void 0!==a&&a;return s&&n?c()({},e,{[s]:qa(e[s],t)}):e}case v.ch:{const s=t.triggeredFromContextMenu,a=t.streamId;return void 0!==s&&s&&a?c()({},e,{[a]:qa(e[a],t)}):e}case v.Yf:{const s=t.streamId,a=t.streamItems,n=void 0===a?[]:a,r=t.streamItem,i=void 0===r?{}:r,o=t.selectionPayload,d=(void 0===o?{}:o).oldSelectedItems;return(void 0===d?[]:d).find(e=>p()(e,i))?e:s?c()({},e,{[s]:qa(e[s],c()({},t,{streamItems:Ba(n)}))}):e}case v.Lh:{const s=[ae.e.OPEN_MSG,ae.e.DOC_READ_MSG,ae.e.PHOTO_READ_MSG],a=[ae.e.PHOTO_OPEN,ae.e.DOC_OPEN],n=((e={})=>e.i13nModel||e.uiContext||{})(t)||{};if(-1===[...s,...a].indexOf(n.mKey))return e;const r=t.streamId,i=t.streamItems,o=void 0===i?[]:i;if(!r)return e;const d=c()({},e,{[r]:qa(e[r],c()({},t,{streamItems:Ba(o)}))});return Ka(d,t)}case v.di:case v.kk:case v.dk:case v.gk:case v.hk:case v.lk:case v.fk:{const s=t.streamId,a=t.streamItems,n=void 0===a?[]:a;if(!s)return e;const r=c()({},e,{[s]:qa(e[s],c()({},t,{streamItems:Ba(n)}))});return Ka(r,t)}case v.Cl:case v.gh:case v.Jg:{const s=t.streamId;return s&&e[s]?c()({},e,{[s]:qa(e[s],t)}):e}case v.li:{const s=t.isRead,a=t.streamId,n=t.itemsToUpdate,r=void 0===n?[]:n,i=t.streamItems;if(!r.length)return e;const o=Ba(void 0===i?[]:i),d=c()({},e,{[a]:qa(e[a],c()({},t,{oldMessageStreamItems:o,newMessageStreamItems:Ha(o,e=>Object(ts.a)(r,e,s?[]:["unread"]))}))});return za(t,d)}case v.bk:{const s=t.isStarred,a=t.streamId,n=t.itemsToUpdate,r=void 0===n?[]:n,i=t.streamItems;if(!r.length)return e;const o=Ba(void 0===i?[]:i),d=c()({},e,{[a]:qa(e[a],c()({},t,{oldMessageStreamItems:o,newMessageStreamItems:Ha(o,e=>Object(ts.a)(r,e,s?["flagged","starred"]:[]))}))});return za(t,d)}case v.ce:case v.ib:case v.jb:case v.vh:case v.fj:case v.zl:case v.Fl:{const s=t.streamId,a=t.streamItem,n=t.listId,r=t.conversationsMode,i=t.itemsToUpdate,o=void 0===i?[]:i,d=t.streamItems,l=t.listsToUpdate,u=void 0===l?[]:l,_=t.inReplyToMessageCsid;if(!o.length)return e;const m=Ba(void 0===d?[]:d),p=r&&_?Object(q.b)(n,a.id):null;return c()({},e,p?{[p]:qa(e[p],c()({},t,{shouldCreateExpansionState:!0}))}:null,{[s]:qa(e[s],c()({},t,{oldMessageStreamItems:m,newMessageStreamItems:Ha(m,e=>{const t=u.find(t=>t.listId===e)||{};return Object(ts.b)(o,t.folderIds)})}))})}case v.Pb:case v.Lb:{const s=t.streamId,a=t.listData,n=t.streamItems,r=void 0===n?[]:n;return a.lists?c()({},e,{[s]:qa(e[s],c()({},t,{oldMessageStreamItems:Ba(r),newMessageStreamItems:Object.keys(a.lists||[]).reduce((e,t)=>(a.lists[t].itemIds.forEach(s=>{e.push({id:s,listId:t})}),e),[])}))}):e}case v.Ub:{const s=t.streamId,a=t.route;return s&&a?He()(e,[s]):e}default:return e}};var Ya=Object(h.combineReducers)({subjects:function(e={},t){switch(t.type){case v.Vf:case v.Ug:case v.Vk:case v.Pb:case v.Lb:case v.mh:case v.Ti:case v.Vi:case v.rh:case v.Jg:case v.gh:case v.Mg:case v.Lg:case v.zl:case v.Cl:{const s=Object(R.a)(t,"listData.subjects",{}),a=function(e,t={}){return Object.keys(t).reduce((s,a)=>{const n=Object.keys(t[a])[0],r=Object(H.z)(n);if(!e[a]||e[a][r]!==t[a][n]){const i=Object(Js.m)(t[a][n]);s[a]=c()({},e[a],{[r]:t[a][n],[H.a]:i})}return s},{})}(e,s);return Object.keys(a).length?c()({},e,a):e}default:return e}},snippets:function(e={},t){switch(t.type){case v.Vf:case v.Ug:case v.Vk:case v.Pb:case v.Lb:case v.mh:case v.Ti:case v.Vi:case v.rh:case v.Jg:case v.gh:case v.Mg:case v.Lg:case v.zl:case v.Cl:{const s=Object(R.a)(t,"listData.snippets",{}),a=function(e,t={}){return Object.keys(t).reduce((s,a)=>{const n=Object.keys(t[a])[0],r=Object(H.z)(n);return e[a]&&e[a][r]===t[a][n]||(s[a]=c()({},e[a],{[r]:t[a][n]})),s},{})}(e,s);return Object.keys(a).length?c()({},e,a):e}default:return e}}});var Xa=s(157);const Qa={[Xa.a.HUFFPOST]:(e,t,s)=>({id:t.id,provider:Xa.a.HUFFPOST,icon:t.icon,name:t.name,email:t.email,description:t.strings.description,status:e.subscriptionStatus[t.id]||Xa.c.READY,subscribeOptions:{email:s,list:t.subid}})};var $a=(e={},t)=>{const s=e.subscriptionStatus||{};switch(t.type){case v.rk:s[t.id]=Xa.c.PENDING;break;case v.mk:s[t.id]=Xa.c.FAILURE;break;case v.sk:s[t.id]=Xa.c.SUCCESS}return c()({},e,{subscriptionStatus:s})};var Ja=(e={},t)=>{const s=t.undoAction,a=t.deleteItemCount,n=t.numListsPreviouslyCleaned,r=t.unSubscribeList,i=void 0===r?[]:r;switch(t.type){case v.Fg:return c()({},e,{unsubscribeItems:c()({},i.reduce((e,t)=>c()({},e,{[t.key]:t}),{})),undoAction:s,deleteItemCount:a,numListsPreviouslyCleaned:n});case v.Gg:case v.ce:if(!Object(R.b)(e))return{}}return e};var en=s(166),tn=s.n(en);var sn=s(627),an=s.n(sn);const nn=(e=[],t)=>{const s=t.getAction(),a=s.actionTimestamp,n=s.accountId,r=s.updatedProperties,i=s.warnOnClose,o=void 0===i||i;switch(s.type){case v.kf:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s})=>({type:E.re.FETCH_PRIMARY_ACCOUNT,hash:`FETCH_PRIMARY_ACCOUNT_DATA_HASH-${s}`,id:e,timestamp:s,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:n,updatedProperties:r,actionTimestamp:a}));case v.s:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s,warnOnClose:a})=>({type:E.re.ACCOUNT_TO_UPDATE,hash:`UPDATE_ACCOUNT_UNSYNCED_DATA_HASH-${s}`,id:e,timestamp:s,warnOnClose:a,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:n,updatedProperties:r,actionTimestamp:a,warnOnClose:o}));default:return e}},rn=(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.t:case v.r:return e.filter(e=>!(e.userInputtedValues.accountId===s.accountId&&e.userInputtedValues.requestTimestamp<=s.requestTimestamp))}return e};function on({baseName:e,domain:t}){return E.re.BASENAME_TO_CREATE+e+t}var cn=s(35);const dn=(e=[],{getAction:t})=>{const s=t(),a=s.type,n=s.category,r=s.actionTimestamp;switch(a){case v.bg:return e.concat({id:E.re.CATEGORY_FOLLOWING_LIST,hash:E.re.CATEGORY_FOLLOWING_LIST,timestamp:r,type:E.re.CATEGORY_FOLLOWING_LIST});case v.Eb:case v.Ib:{const t=a===v.Eb?E.re.FOLLOW_CATEGORY:E.re.UNFOLLOW_CATEGORY;return e.concat({id:t,hash:`${t}-${n.id}`,timestamp:r,type:t,userInputtedValues:{category:n}})}default:return e}},ln=(e,{getAction:t,isFeatureEnabled:s})=>{const a=t(),n=a.category,r=(void 0===n?{}:n).id,i=void 0===r?"":r;switch(a.type){case v.Bb:case v.Ab:case v.Fb:case v.Cb:case v.Jb:case v.Hb:return[];case v.bg:return e.filter(()=>s(E.ub.CATEGORY_FOLLOWING));default:return e.filter(()=>s(E.ub.CATEGORY_FOLLOWING)&&i)}},un=(e,t,s=[])=>`${e}-${t}-${s.join("")}`,_n=(e,t)=>{const s=t.listId;return e.concat([{type:E.re.CONTACTS_LIST,hash:s,timestamp:t.actionTimestamp,userInputtedValues:{listId:s,count:t.count}}])},mn=(e,t,s,a={})=>{const n=(0,t.getContactListSelectors)(),r=n.getSelectedGroup,i=a.listFilter||(0,n.getCurrentFilter)(),o=a.selectedGroup||r(i);let c;if(o&&(o+"").includes("temp:"))return e;i!==E.Qb.GROUPS||o||(c=!0);const d=Object(H.j)(i,o),l={listId:d,count:void 0!==a.count?a.count:(e=>{switch(e){case E.Qb.TOP_CONTACTS:return E.Yb;case E.Qb.GROUPS:return E.d}return E.Tb})(i)};return c&&(l.fetchGroupContactsNext=c),e.concat([{type:E.re.CONTACTS_LIST,hash:d,timestamp:s,userInputtedValues:l}])},pn=e=>e.map(({id:e})=>e).join();function hn({fromEmail:e,syncThrottle:t,action:s}){return c()({id:e,hash:e,timestamp:s.actionTimestamp,type:E.re.IMPORTANT_CONTACTS_FETCH,userInputtedValues:{fromEmail:e,listId:Object(H.q)(e)}},t?{syncThrottle:t}:{})}const gn=(e,t)=>`${e}-${t}`,En=({listId:e,isStale:t=!1},s)=>{const a=(0,s.getAction)();return{type:E.re.LIST_TO_UPDATE,id:e,hash:e,timestamp:a.actionTimestamp,userInputtedValues:{listId:e,isStale:t}}},In=(e=[],t,s=!1)=>{const a=t.getAction,n=t.isSpamMessage,r=t.isFeatureEnabled,i=t.getMessageBodyRetryCount,o=t.isMobileRoute,c=(0,t.getFeatureCueSelectors)().isShown,d=!r(E.ub.CONVERSATIONS)||r("fetchFullBody");let l=!r(E.zd.SHOW_IMAGES);const u=r(E.ub.INLINE_IMAGES_PROXIED);if(o()){const e=c(E.ub.MOBILE_PAC_NOTIFICATION_CUE)&&!r(E.ub.INLINE_IMAGES_PROXIED);l=l&&(!!e||!c(E.ub.MOBILE_PAC_NOTIFICATION_CUE))}else l=l&&!u;const _=a(),m=_.isFallback,p=void 0!==m&&m,h=_.actionTimestamp,g=_.secure,I=void 0===g||g,S=_.full,C=void 0===S?d:S,f=_.type;let T=null;return s&&(T=f===v.bg?E.Qc.LAUNCH:f===v.Pb?E.Qc.CHECK_MAIL:E.Qc.NEIGHBOR),e.map(e=>{const t=I&&(n(e)||l),s=i(e);return{type:E.re.MESSAGE_ITEM_TO_FETCH,id:e,hash:e+C+t,timestamp:h,userInputtedValues:{messageId:e,secure:t,full:C,isFallback:p,prefetchMode:T,retryCount:s}}})},Sn=(e,t)=>{const s=t.getAction,a=t.getCurrentListId,n=t.isFeatureEnabled,r=(0,t.getFoldersSelectors)().isSpamFolder,i=s(),o=i.actionTimestamp,c=i.full,d=i.secure,l=void 0===d||d,u=!n(E.zd.SHOW_IMAGES)&&!n(E.ub.INLINE_IMAGES_PROXIED),_=a(),m=Object(H.o)(_),p=void 0!==m&&r(m);return{type:E.re.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:o,userInputtedValues:{messageGroupId:e,full:c,secure:l&&(p||u)}}},Cn=(e,t,s=!1)=>{const a=t.isDraftMessage,n=t.isSentMessage,r=t.getMessageFlags,i=t.doesMessageBodyExist,o=t.getHashParams,c=(0,t.getMessageIdsFromMessageGroupId)(e)||[],d=c.filter(e=>!a(e)),l=d[d.length-1],u=(o()||{}).messageId,_=c.filter(e=>e===u||n(e)||a(e)||e===l||r(e).flagged||!r(e).read);return(s?_.slice(0,2):_).filter(e=>!i(e))},fn=(e=[],t,s)=>{const a=t.doesMessageGroupIdExist;return e.reduce((e,n)=>{if(a(n)){const a=Cn(n,t,s);return e.concat(In(a,t,s)).concat(((e,t)=>{const s=t.getSetting,a=t.getListsSelectors,n=t.doesMessageGroupIdExist,r=t.doesListExist,i=(0,t.getAction)().listId;if(!i||!r(i)||Object(H.t)(i)!==E.Pb.MESSAGES)return[];const o=a().getItemIdsSelectors,c=s(E.zd.NEIGHBOR_PREFETCH_COUNT);if(0===c)return[];const d=o(i).getItemIds(),l=d.indexOf(e);return d.filter(e=>{const t=d.indexOf(e);return t!==l&&t<=l+c&&t>=l-c}).reduce((e,s)=>{if(n(s)){const a=Cn(s,t,!0);return e.concat(In(a,t,!0))}return e.concat(Sn(s,t))},[])})(n,t))}return e.concat(Sn(n,t))},[])},Tn=e=>{const t=(0,e.getRouteParams)();return fn([t.groupId],e)},An=e=>{const t=e.getAction,s=e.doesComposeSessionExist,a=(0,e.getRouteParams)().csid,n=s(a)?e.getDraftMessageId(a):void 0;return n?In([n],e):t().full?((e,t)=>{const s=(0,t.getAction)();return{type:E.re.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:s.actionTimestamp,userInputtedValues:{draftCsid:e,full:!0,secure:!1}}})(a,e):[]},bn=[v.li,v.bk,v.vh,v.ce,v.Uk,v.jb],On=[v.tl,v.sl,v.ub,v.Vk,v.Tk],Rn={[v.li]:E.sc.READ,[v.bk]:E.sc.STAR,[v.vh]:E.sc.MOVE,[v.ce]:E.sc.MOVE,[v.Uk]:E.sc.MOVE,[v.jb]:E.sc.MOVE},Nn={[E.sc.READ]:"read",[E.sc.STAR]:"flagged",[E.sc.SPAM]:"spam",[E.sc.HAM]:"spam",[E.sc.ANSWER]:"answered",[E.sc.FORWARD]:"forwarded"},Mn=(e,t)=>t.isSpamMove?E.sc.SPAM:t.isHamMove?E.sc.HAM:Rn[e],Dn=(e=[],t)=>e.filter(e=>e.isAffected).map(e=>((e,t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp;return{type:E.re.MESSAGE_ITEM_TO_UPDATE,id:e.messageId||e.messageQuery,hash:`${e.messageId||e.messageQuery}-${a}`,timestamp:a,warnOnClose:!0,userInputtedValues:{[Mn(s.type,e)]:e}}})(e,t)),yn=(e,t)=>{const s=e.messageItemsToSync,a=e.itemsToUpdate,n=void 0===a?[]:a,r=e.type,i=[...void 0===s?[]:s,...n].find(e=>e.id===t.id||e.messageId===t.id),o=t.userInputtedValues,d=void 0===o?{}:o;if(((e,{type:t,triageActionType:s,id:a,checkForPermDelete:n})=>!(void 0!==t&&e.type!==t||void 0!==s&&e.triageActionType!==s||Object(R.a)(e,"itemsToUpdate.0.messageId")===a||Object(R.a)(e,"itemsToUpdate.0.messageQuery")===a||!n||!Object(R.a)(e,"itemsToUpdate.0.permanentDelete")))(e,{type:v.ce,triageActionType:E.ne.DELETE_FOLDER_ITEMS,id:t.id,checkForPermDelete:!0}))return((e,t)=>{const s=e.userInputtedValues,a=void 0===s?{}:s;return c()({},e,{userInputtedValues:Object.keys(a).reduce((e,s)=>{const n=a[s];return t(n)?c()({},e,{[s]:n}):e},{})})})(t,e=>{return Object(R.a)(e,"folder.id")!==Object(R.a)(n[0],"folder.id")});if(!i)return t;switch(r){case v.tl:case v.sl:case v.ub:case v.Vk:case v.Tk:return c()({},t,{userInputtedValues:He()(d,i.updateTypes)})}return t},Ln=(e,t)=>{const s=t.getAction,a=t.getRoute,n=(0,t.getFeaturesSelectors)().getSetting("bulkActionDialogThreshold");return((e,t)=>e.type===v.Lh&&Object(H.w)(t)!==Object(H.w)(e.route))(s(),a())||e.length>=n||e.some(e=>{const t=Object.keys(e.userInputtedValues),s=Object(R.g)(e.userInputtedValues);return t.some(e=>e!==E.sc.READ)||s.some(e=>!!e.messageQuery)})},vn=({accountId:e,updatedSettingAttributes:t,actionTimestamp:s})=>({type:E.re.SETTINGS_TO_CHANGE,hash:E.re.SETTINGS_TO_CHANGE,timestamp:s,userInputtedValues:{accountId:e,updatedSettingAttributes:t,requestTimestamp:s}}),Pn=({provider:e,stateSelectors:t,unsyncedData:s,timestamp:a})=>{const n=t.getSetting;let r=E.Ld[e],i=E.U[e];return(0,t.isFeatureEnabled)(E.ub.USE_LINKEDIN_TEST_SPID)&&(r=E.Ld[E.Nd.LinkedInTest],i=null),s.concat({type:E.re.SOCIAL_ACCOUNT_AUTH_URL,hash:e,timestamp:a,userInputtedValues:{provider:e,spid:r,appRootPath:n(E.zd.APP_ROOT_PATH),scope:i}})},Fn=(e,t=!1)=>{const s={type:E.re.IMPORT_CONTACTS_PROVIDERS_STATUS,hash:"ALL_ACCOUNTS",timestamp:e,userInputtedValues:{retryCount:6}};return t&&(s.syncThrottle=1200),s},wn=e=>{const t=(0,e.getRoute)(),s=t.params;return t.name===E.gd.SETTINGS&&(void 0===s?{}:s).settingsGroupId===E.Cd.SOCIAL_ACCOUNTS},kn=({unsyncedData:e,action:t,enable:s=!0})=>{const a=t.provider;return e.concat({type:E.re.SOCIAL_ACCOUNT_IMPORT,hash:a+(s?"_enable":"_disable"),timestamp:t.actionTimestamp,userInputtedValues:{provider:a,spid:E.Ld[a],enable:s}})},xn=({timestamp:e})=>[{type:E.re.SOCIAL_ACCOUNT_STATUS,hash:"ALL_PROVIDERS",timestamp:e}],Un=Object(H.e)({referrer:E.Rb.TOP_COUPONS}),Gn=E.ee.DAILY_CHECKIN,jn=E.ee.IMAPIN,Hn=e=>{return{type:E.re.FETCH_CLOUD_STORAGE_PROVIDERS,hash:"CLOUD_STORAGE_ACCOUNTS",timestamp:e}},Bn={[E.re.CONTACTS_GROUP_CREATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.Gc:{const t=s.tempListId;return e.concat([{type:E.re.CONTACTS_GROUP_CREATE,timestamp:s.actionTimestamp,hash:t,userInputtedValues:{tempGroupId:s.tempGroupId,tempListId:t,name:s.name,endpoints:s.endpoints}}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Hc:case v.Fc:{const t=s.tempListId;return Object(P.a)(t,"`listId` is a required option"),e.filter(e=>e.hash!==t)}}return e}},[E.re.CONTACTS_GROUP_EDIT]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.Nc:{const t=s.actionTimestamp,a=s.listId,n=s.groupId,r=s.newName,i=s.addedEndpoints,o=s.removedEndpoints,c=s.oldGroup;if(!s.doUpdatesExist)break;return e.concat([{type:E.re.CONTACTS_GROUP_EDIT,timestamp:t,hash:a,userInputtedValues:{groupId:n,listId:a,newName:r,addedEndpoints:i,removedEndpoints:o,oldGroup:c}}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Oc:case v.Mc:{const t=s.listId;return Object(P.a)(t,"`listId` is a required option"),e.filter(e=>e.hash!==t)}}return e}},[E.re.CONTACTS_LIST]:{preparer:(e=[],t)=>{const s=t.getRoute,a=t.isFeatureEnabled,n=t.getSmartViewTypeFromRoute,r=t.doesListExist,i=t.getActionableRightRailPane,o=(0,t.getAction)(),d=s(),l=o.type,u=o.actionTimestamp,_=i()===E.ed.ContactsPane;switch(l){case v.bg:return[E.gd.CONTACTS,E.gd.CONTACT_DETAILS,E.gd.CONTACT_DETAILS_FROM_SEARCH,E.gd.CREATE_CONTACT,E.gd.EDIT_CONTACT,E.gd.EDIT_CONTACT_FROM_SEARCH].indexOf(d.name)>-1?mn(e,t,u):e;case v.Lh:{if(o.name===E.dd.CONTACTS_PANE&&_||d.name===E.gd.CONTACTS)return mn(e,t,u);const s=n(d)===E.Kd.COUPONS,i=a(E.ub.COUPONS_SMART_VIEW_SEARCH)&&s,c=i?{listFilter:E.Qb.NOT_PEOPLE,count:E.d}:{};if(i&&!r(Object(H.j)(E.Qb.NOT_PEOPLE)))return mn(e,t,u,c);break}case v.Kc:case v.Lc:case v.Ed:case v.Dd:case v.fd:case v.dd:case v.Qd:case v.Sd:return mn(e,t,u);case v.wc:{const s=o.newGroupId;let a={};if(s)return mn(e,t,u,a={selectedGroup:s,ListFilter:E.Qb.GROUPS});break}case v.Pc:return _n(e,o);case v.De:case v.I:case v.Hi:if(o.name!==E.dd.CONTACTS_PANE||!_)break;return mn(e,t,u);case v.Cc:{const s=o.isCreateView;if(o.discardOptimisticSave)return s?_n(e,c()({},o,{listId:Object(H.j)(E.Qb.GROUPS)})):mn(e,t,u);break}case v.Bc:{const s=o.fetchGroupContactsNext,a=(0,t.getContactListSelectors)(),n=a.getSelectedGroup,r=(0,a.getCurrentFilter)(),i=n(r);if(!s||r!==E.Qb.GROUPS||!i)break;return mn(e,t,u)}case v.bd:case v.cd:return[Object(H.j)(E.Qb.GROUPS),Object(H.j)(E.Qb.GROUPS,o.value||E.ab)].reduce((e,t)=>r(t)?e:_n(e,c()({},o,{listId:t})),e)}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.zc:case v.yc:case v.Bc:case v.Ac:{const t=s.listId;if(s.unsyncedDataType!==E.re.CONTACTS_LIST||!t)break;return e.filter(({userInputtedValues:e})=>e.listId!==t)}}return e}},[E.re.CONTACTS_CATEGORY_LIST]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp;switch(s.type){case v.Gb:{const n=(0,t.getStreamsSelectors)(),r=n.getExpansionStateForStreamItem,i=s.categoryListId,o=s.listId;if(!(0,n.doesStreamExist)(o)||!r({streamId:o,listId:o,csid:i}))return e;const c=Object(H.y)(i),d={listId:o,categoryListId:i,count:E.d,characters:[c]};return e.concat([{type:E.re.CONTACTS_CATEGORY_LIST,hash:"CATEGORY_CONTACTS_LIST_"+i+d.count,timestamp:a,userInputtedValues:d}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Bc:case v.Ac:{const t=s.listId,a=s.characters,n=s.count;if(s.unsyncedDataType!==E.re.CONTACTS_CATEGORY_LIST)break;return e.filter(e=>{const s=e.userInputtedValues,r=s.characters,i=s.count;return s.listId!==t||!p()(a,r)||i!==n})}}return e}},[E.re.CONTACT_DETAILS]:{preparer:(e=[],t)=>{const s=t.getAction,a=t.getRelatedListIdByContactId,n=(0,t.getRoute)(),r=s(),i=r.actionTimestamp;let o;switch(r.type){case v.Dc:o=a(r.id);break;case v.bg:case v.Lh:n.name!==E.gd.CONTACT_DETAILS&&n.name!==E.gd.CONTACT_DETAILS_FROM_SEARCH&&n.name!==E.gd.EDIT_CONTACT||(o=a(n.params.id))}return o?e.concat([{type:E.re.CONTACT_DETAILS,hash:o,timestamp:i,userInputtedValues:{listId:o}}]):e},reconciler:(e,t)=>{const s=(0,t.getAction)(),a=s.listData,n=(void 0===a?{}:a).lists,r=void 0===n?{}:n;switch(s.type){case v.Ui:return e.filter(e=>e.userInputtedValues.listId!==s.listId);default:return e.filter(e=>!r[e.userInputtedValues.listId])}}},[E.re.CONTACT_SAVE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.oldContact,n=s.newContact,r=s.image,i=s.actionTimestamp,o=s.skipContactDiffCheck;switch(s.type){case v.ed:if(!a.id||!o&&p()(a,n)&&r)break;return e.concat([{type:E.re.CONTACT_SAVE,hash:"CONTACT_SAVE_"+a.id,timestamp:i,userInputtedValues:{newContact:n,oldContact:a,skipContactDiffCheck:o}}])}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.fd:case v.dd:return e.filter(e=>e.userInputtedValues.oldContact.id!==s.contact.id)}return e}},[E.re.CONTACT_PHOTO_UPLOAD]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.oldContact,n=void 0===a?{}:a,r=s.image,i=s.actionTimestamp;switch(s.type){case v.ed:if(!r||!n.id)break;return e.concat({type:E.re.CONTACT_PHOTO_UPLOAD,hash:"CONTACT_PHOTO_UPLOAD_"+n.id,timestamp:i,userInputtedValues:{id:n.id,editToken:n.editToken,image:r}})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.ad:case v.Zc:return e.filter(e=>e.userInputtedValues.id!==s.contact.id)}return e}},[E.re.SOCIAL_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.Uf:case v.Mj:return Pn({provider:s.provider,stateSelectors:t,unsyncedData:e,timestamp:s.actionTimestamp});case v.We:{const a=s.actionTimestamp,n=s.i13nModel,r=(void 0===n?{}:n).mKey;if(s.name!==E.ub.LINKEDIN_REAUTH_CUE||r!==`cue_${E.ub.LINKEDIN_REAUTH_CUE}_reconnect`)break;return Pn({provider:E.Nd.LinkedIn,stateSelectors:t,unsyncedData:e,timestamp:a})}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Kj:case v.Jj:return e.filter(e=>e.userInputtedValues.provider!==s.provider)}return e}},[E.re.SOCIAL_ACCOUNT_IMPORT]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.Nj:return kn({unsyncedData:e,action:s});case v.oe:return kn({unsyncedData:e,action:s,enable:!1})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Sj:case v.Rj:{const t=s.enable,a=void 0===t||t;return e.filter(e=>e.userInputtedValues.provider!==s.provider||e.userInputtedValues.enable!==a)}}return e}},[E.re.SOCIAL_ACCOUNT_STATUS]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,a=t.getRoute,n=(0,t.getAction)(),r=n.actionTimestamp,i=n.type;if(!s(E.ub.SOCIAL_ACCOUNTS))return e;switch(i){case v.bg:if(0===e.length&&(s(E.ub.SHOW_LINKEDIN_REAUTH_UPSELL)||a().name===E.gd.SETTINGS))return xn({timestamp:r});break;case v.Lh:if(0===e.length&&a().name===E.gd.SETTINGS){const s=(0,t.getSocialAccountsStatus)();return Object(R.b)(s)?xn({timestamp:r}):e}}return e},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.Tj:case v.Uj:return[]}return e}},[E.re.CONTACT_CREATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.oldContact,n=void 0===a?{}:a,r=s.newContact,i=s.image,o=s.actionTimestamp;switch(s.type){case v.ed:if(n.id)break;return e.concat([{type:E.re.CONTACT_CREATE,hash:r.name,timestamp:o,userInputtedValues:{newContact:r,image:i,timestamp:o}}])}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Dd:case v.Ed:return e.filter(e=>e.userInputtedValues.timestamp!==s.timestamp)}return e}},[E.re.CONTACT_DELETE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.Rd:{const t=s.actionTimestamp,a=s.listsToUpdate,n=s.itemsToUpdate;return e.concat([{type:E.re.CONTACT_DELETE,hash:pn(n),timestamp:t,userInputtedValues:{listsToUpdate:a,itemsToUpdate:n}}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Qd:case v.Sd:{const t=s.itemsToUpdate,a=void 0===t?[]:t;Object(P.a)(a.every(({editToken:e})=>e),"Edit token expected in contact items to update");const n=pn(a);return e.filter(e=>e.hash!==n)}}return e}},[E.re.CONTACT_GROUP_DELETE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.wc:{const t=s.groupId;return e.concat([{type:E.re.CONTACT_GROUP_DELETE,hash:t,timestamp:s.actionTimestamp,userInputtedValues:{groupId:t}}])}}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.vc:case v.xc:{const t=s.groupId,a=void 0===t?"":t;return e.filter(e=>e.hash!==a)}}return e}},[E.re.IMPORT_CONTACTS_PROVIDERS_STATUS]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp;switch(s.type){case v.bg:case v.Lh:if(wn(t))return[Fn(a)];break;case v.Sj:if(E.T.indexOf(s.provider)>-1&&wn(t))return[Fn(a,!0)]}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Rc:if(e&&e[0]&&e[0].userInputtedValues&&e[0].userInputtedValues.retryCount>0&&wn(t)){const t=s.response,a=void 0===t?{}:t;if(Object.keys(a).find(e=>a[e].status===E.Md.QUEUED)){const t=Fn(s.actionTimestamp,!0);return t.userInputtedValues.retryCount=e[0].userInputtedValues.retryCount-1,t.repeat=!0,t.syncDefer=1e3,[t]}}return[];case v.Qc:return[]}return e}}},Vn={[E.re.MEMBERSHIP_REWARDS_LAUNCH]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,a=(0,t.getAction)(),n=a.type,r=a.actionTimestamp;if(!s(E.ub.MEMBERSHIP_REWARDS))return e;switch(n){case v.bg:case v.Lh:return[{type:E.re.MEMBERSHIP_REWARDS_LAUNCH,hash:"MEMBERSHIP_REWARDS_LAUNCH_HASH",timestamp:r}];default:return e}},reconciler:(e,t)=>{const s=t.getMembershipRewardsSelectors,a=(0,t.getAction)().type;if(s().getAtosInfo().atosStatus)return[];switch(a){case v.Eg:case v.Dg:return[]}return e}},[E.re.TMR_REGISTER_ACTION]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,a=(0,t.getAction)(),n=a.type,r=a.actionTimestamp;if(!s(E.ub.MEMBERSHIP_REWARDS))return e;switch(n){case v.l:return[{type:E.re.TMR_REGISTER_ACTION,hash:`TMR_REGISTER_ACTION_HASH_${jn}`,timestamp:r,userInputtedValues:{rewardsActionType:jn}}];case v.Lh:return[{type:E.re.TMR_REGISTER_ACTION,hash:`TMR_REGISTER_ACTION_HASH_${Gn}`,timestamp:r,userInputtedValues:{rewardsActionType:Gn}}];default:return e}},reconciler:(e,t)=>{const s=t.getMembershipRewardsSelectors,a=(0,t.getAction)(),n=s(),r=n.getRewardsActionsTimestamp,i=(0,n.isImapInCompleted)(),o=r(Gn);switch(a.type){case v.Gk:case v.Fk:return e.filter(({userInputtedValues:e})=>a.rewardsActionType!==e.rewardsActionType)}return e.filter(({userInputtedValues:e,timestamp:t})=>{switch(e.rewardsActionType){case Gn:{const e=!!o&&new Date(o),s=new Date(t);return e&&!Object(U.d)(e,s)}case jn:return!i;default:return!1}})}}};var Wn=c()({},Bn,Vn,{[E.re.SUBSCRIPTION_LIST]:{preparer:(e=[],t)=>{const s=t.getRoute,a=t.getSelectedMailboxId,n=t.getEmailOfSelectedAccount,r=(0,t.getAction)(),i=s(),o=r.sortOrder;switch(r.type){case v.bg:case v.Lh:case v.qk:if(i.name===E.gd.SUBSCRIPTION_LIST){const s=t.getSelectedAccountId,i=a(),c=s(),d=n(),l=o||E.Od.RELEVANCE;return e.concat([{type:E.re.SUBSCRIPTION_LIST,hash:l,timestamp:r.timestamp,userInputtedValues:{mailboxId:i,accountId:c,email:d,sortOrder:l}}])}return e;default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.ok:case v.nk:return e.filter(e=>e.userInputtedValues.sortOrder!==s.sortOrder);default:return e}}},[E.re.UNSUBSCRIBE_EMAIL]:{preparer:(e=[],t)=>{const s=t.getSelectedMailboxId,a=t.getMessagesFolderIdSelectors,n=t.getAccountIdByFolderId,r=(0,t.getAction)();switch(r.type){case v.el:{const t=r.messageId,i=s(),o=n(a().getFolderId(r.messageId));return e.concat([{hash:t,timestamp:r.actionTimestamp,type:E.re.UNSUBSCRIBE_EMAIL,userInputtedValues:{messageId:t,mailboxId:i,accountId:o}}])}default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.fl:case v.dl:return e.filter(e=>e.userInputtedValues.messageId!==s.messageId);default:return e}}},[E.re.UNSUBSCRIBE_BRAND]:{preparer:(e=[],t)=>{const s=t.getSelectedMailboxId,a=(0,t.getAction)();switch(a.type){case v.bl:{const t=a.brandId,n=a.brandId.split(":"),r=s();return e.concat([{hash:t,timestamp:a.actionTimestamp,type:E.re.UNSUBSCRIBE_BRAND,userInputtedValues:{brandId:t,mailboxId:r,accountId:n[n.length-1]}}])}default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.cl:case v.al:return e.filter(e=>e.userInputtedValues.brandId!==s.brandId);default:return e}}},[E.re.LAUNCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp;switch(s.type){case v.eg:return[{id:E.re.LAUNCH,hash:E.re.LAUNCH,timestamp:a,type:E.re.LAUNCH,userInputtedValues:s}]}return e},reconciler:(e=[],t)=>{const s=t.getSelectedMailboxId,a=(0,t.getAction)().type;if(s())return[];switch(a){case v.Vf:case v.bg:case v.cg:return[]}return e},syncSelector:(e=[],t)=>{return(0,t.getSelectedMailboxId)()?[]:e}},[E.re.DOCUMENT_FETCH]:{preparer:(e=[],t)=>{const s=t.getRouteParams,a=t.doesAttachmentExistById,n=t.getDocumentIdByAttachmentId,r=t.getAttachmentTypeByAttachmentId,i=(0,t.getAction)(),o=(s()||{}).attachmentId;if(!o||!a(o)||r(o)===E.w.Types.IMAGE)return e;const c=n(o);if(!c)return e;switch(i.type){case v.bg:case v.Lh:case v.ve:return e.concat(((e,t,s,a,n)=>{const r=n.getAttachmentTypeByAttachmentId,i=n.getAttachmentSubtypeByAttachmentId,o=n.getDocumentRetryCount,c=(0,n.getAction)(),d=o(t,s,a),l=[];let u;for(u=s;u<=a;u++){const n=gn(t,u);l.push({id:n,hash:n,timestamp:c.actionTimestamp,type:E.re.DOCUMENT_FETCH,userInputtedValues:{attachmentId:e,documentId:t,pageNumber:u,startPage:s,endPage:a,retryCount:d,type:r(e),subtype:i(e)}})}return l})(o,c,i.startPage||1,i.endPage||E.u.PAGES_CHUNK_SIZE,t))}return e},reconciler:(e=[],t)=>{const s=t.isDocumentLoaded,a=t.isDocumentPageLoaded,n=t.getDocumentRetryCount,r=(0,t.getAction)();return e.filter(e=>{const t=e.userInputtedValues,r=t.documentId,i=t.pageNumber;return!(n(r,t.startPage,t.endPage)>E.eb||s(r)&&a(r,i))}).filter(e=>{const t=e.userInputtedValues,s=t.documentId,a=t.startPage,n=t.endPage;switch(r.type){case v.we:case v.ue:return!(s===r.documentId&&a===r.startPage&&n===r.endPage)}return!0})},syncSelector:(e=[])=>{const t=e.sort((e,t)=>e.timestamp-t.timestamp).reduce((e,t)=>{const s=t.userInputtedValues,a=s.documentId,n=s.startPage,r=s.endPage;return c()({},e,{[t.timestamp]:c()({hash:`${a}-${n}-${r}`},t)})},{});return Object(R.g)(t)}},[E.re.COMPOSE_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const s=t.getIsXobnified,a=(0,t.getAction)(),n=a.query||"";if(!s())return e;switch(a.type){case v.id:{const e=un(n,a.contextFrom,a.recipientList);return[{id:e,hash:e,timestamp:a.actionTimestamp,type:E.re.COMPOSE_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:a}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.jd:case v.hd:{const t=un(s.query,s.contextFrom,s.recipientList);return e.id!==t}}return!0})}},[E.re.SEARCH_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,a=(0,t.getAction)(),n=a.query||"",r=s(E.ub.SHOW_EMPTY_SEARCH_SUGGESTIONS);if(!n&&!r)return e;switch(a.type){case v.Si:case v.vk:return[{id:n||E.mb,hash:n||E.mb,timestamp:a.actionTimestamp,type:E.re.SEARCH_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:{query:n}}]}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.uk:case v.tk:return e.id!==E.mb&&e.id!==s.query}return!0})}},[E.re.IMPORTANT_CONTACTS_FETCH]:{preparer:(e=[],t)=>{const s=t.getSelectedMailboxId,a=t.getAction,n=t.getEmailOfSelectedAccount,r=(0,t.getListsSelectors)().doesListExist;if(!s())return e;const i=a();switch(i.type){case v.Si:{const t=n();return r(Object(H.q)(t))?e:[...e,hn({fromEmail:t,syncThrottle:6e5,action:i})]}case v.Lh:case v.bg:case v.ch:{if(i.type!==v.ch&&-1===[E.gd.NEW_DRAFT,E.gd.EDIT_DRAFT].indexOf(i.route.name))break;const t=n();return r(Object(H.q)(t))?e:e.concat(hn({fromEmail:t,action:i}))}case v.Qd:case v.Sd:{const t=i.listsToUpdate;return(void 0===t?[]:t).reduce((t,{listId:s})=>{if(Object(H.u)(s)!==E.Qb.IMPORTANT_CONTACTS)return e;const a=Object(H.s)(s);return e.concat(hn({fromEmail:a,action:i}))},e)}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.Tf:case v.Sf:return e.userInputtedValues.listId!==s.listId}return!0})}},[E.re.VIDEO_CHANNELS_METADATA_FETCH]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,a=(0,t.getAction)();if(!s(E.ub.EMPTY_FOLDER_VIDEO)||s(E.ub.AOL_VIDEO_PLAYER))return e;switch(a.type){case v.bg:return[{id:E.re.VIDEO_CHANNELS_METADATA_FETCH,hash:"VIDEO_CHANNELS_METADATA_FETCH",timestamp:a.actionTimestamp,type:E.re.VIDEO_CHANNELS_METADATA_FETCH,userInputtedValues:{}}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.Hl:case v.Gl:return[]}return e}},[E.re.VIDEO_CHANNEL_FETCH]:{preparer:(e=[],t)=>{const s=t.getVideoChannelsMetaData,a=(0,t.getAction)(),r=a.actionTimestamp;switch(a.type){case v.Hl:{const t=s(),a=Object.keys(t||{}),i=n()(a,1)[0];return i?[{id:i,hash:i,timestamp:r,type:E.re.VIDEO_CHANNEL_FETCH,userInputtedValues:{channelAlias:i}}]:e}case v.Je:return[{id:a.channelAlias,hash:a.channelAlias,timestamp:r,type:E.re.VIDEO_CHANNEL_FETCH,userInputtedValues:a}]}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)(),a=s.type;return e.filter(e=>{switch(a){case v.Jl:case v.Il:return e.id!==s.channel}return!0})}},[E.re.COMPOSE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.csid,n=s.listId,r=s.actionTimestamp,i=s.payload;switch(s.type){case v.El:return e.map(e=>c()({},e,{userInputtedValues:c()({},e.userInputtedValues,e.id===a&&{listId:n}),hash:e.hash||e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp||e.timestamp}));case v.jl:{const t=i.userInputtedValues.csid;return e.concat({id:t,hash:t,timestamp:r,saveDueTimestamp:r,type:E.re.COMPOSE,userInputtedValues:c()({},i.userInputtedValues)})}default:return e.map(e=>c()({},e,{hash:e.hash?e.hash:e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp?e.saveDueTimestamp:e.timestamp}))}},reconciler:(e,t)=>{const s=t.getAction,a=t.isOnline,r=t.isSendRequested,i=t.isSent,o=t.didAttachmentUploadFail,d=(0,t.getComposeSessionsSelectors)(),l=d.doesComposeSessionExist,u=d.isComposeSessionDirty,_=s(),m=e.filter(e=>{const t=e.userInputtedValues,s=void 0===t?{}:t,a=s.csid;return l(a)&&!i(a)&&(u(s)||r(a))}).reduce((e,t)=>{let s=t.saveDueTimestamp;return[v.Al,v.Dl].indexOf(_.type)>-1&&t.userInputtedValues.lastEditedTimeStamp===_.lastEditedTimeStamp&&(s=_.actionTimestamp),c()({},e,{[t.id]:(e[t.id]||[]).concat(c()({},t,{saveDueTimestamp:s}))})},{});if(!a()){const e=Object.keys(m).map(e=>{const t=m[e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,1),s=n()(t,1)[0],a=(s.userInputtedValues.attachmentsInfo||[]).map(e=>e.contentId),r=m[e].reduce((e,t)=>e.concat(t.userInputtedValues.newContentIds||[]),[]).filter(e=>-1!==a.indexOf(e)&&!o(e));return c()({},s,{userInputtedValues:c()({},s.userInputtedValues,{newContentIds:r})})});return[].concat.apply([],e)}const p=Object.keys(m).map(e=>{const t=m[e].sort((e,t)=>t.timestamp-e.timestamp).slice(0,1),s=(n()(t,1)[0].userInputtedValues.attachmentsInfo||[]).map(e=>e.contentId),a=m[e].map(e=>c()({},e,{userInputtedValues:c()({},e.userInputtedValues,{newContentIds:(e.userInputtedValues.newContentIds||[]).filter(e=>-1!==s.indexOf(e)&&!o(e))})})),r=[...a].sort((e,t)=>e.timestamp-t.timestamp).find(e=>(e.userInputtedValues.newContentIds||[]).length);return r?a.filter(e=>e.timestamp>=r.timestamp):a.sort((e,t)=>t.timestamp-e.timestamp).slice(0,1)});return[].concat.apply([],p)},syncSelector:(e,t,s)=>{const a=t.isSendRequested,n=t.isAMT,r=t.isAttachmentUploadPendingForComposeSession,i=t.getSetting,o=(0,t.getAction)(),d=o.type,l=o.forceSync,u=o.i13nModel,_=void 0===u?{}:u,m=i(E.zd.COMPOSE_SAVE_INTERVAL),p=-1!==[v.Lh,v.Kh].indexOf(d)||d===v.zk&&l,h=n(),g=e=>!h&&s-e.saveDueTimestamp>m,I=_.mKey===ae.e.MANUAL_SAVE_DRAFT;let S;return S=h?p&&I:p,e.filter(e=>{const s=e.userInputtedValues.newContentIds;return!!(void 0===s?[]:s).length||!r(e.id)&&(t.isSendRequested(e.id)||g(e)||S)}).map(e=>c()({},e,{hash:a(e.id)?e.id:e.hash,userInputtedValues:c()({},e.userInputtedValues,{showNotification:I||!g(e)})}))}},[E.re.MESSAGE_ITEM_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getRoute,a=t.isMessageRoute,n=t.isAttachmentRoute,r=t.isDraftRoute,i=t.isComposeRoute,o=t.doesStreamExist,c=t.getCursorItem,d=t.getListsSelectors,l=t.getMainStreamListIds,u=t.getSelectedMailboxId,_=t.getSetting,m=(0,t.getAction)();if(!u())return e;switch(m.type){case v.bg:{const s=m.listId,n=d(),o=n.getItemIdsSelectors,c=n.doesListExist;if(a())return e.concat(Tn(t));if(i()||r())return e.concat(An(t));if(!s||!c(s)||Object(H.t)(s)!==E.Pb.MESSAGES)return e;const l=o(s);return e.concat((0,l.getItemIds)().slice(0,_(E.zd.NUM_MESSAGE_GROUPS_TO_PREFETCH)).reduce((e,s)=>e.concat(fn([s],t,!0)),[]))}case v.Rg:case v.Pg:{const s=m.itemsToUpdate.filter(e=>Boolean(e.messageId)).map(e=>e.messageId);return e.concat(In(s,t))}case v.di:case v.xf:case v.bh:return e.concat(m.itemId?fn([m.itemId],t):In(m.messageIds,t));case v.he:return e.concat(fn([m.messageGroupId],t));case v.ch:case v.Yg:return e.concat(In([m.messageId],t));case v.Cl:case v.zl:case v.fk:case v.Zf:return e}if(n())return e.concat((e=>{const t=e.doesMessageGroupIdExist,s=(0,e.getRouteParams)().groupId;return t(s)?fn([s],e):[]})(t));if(a())return e.concat(Tn(t));if(i()||r())return e.concat(An(t));if(_(E.zd.PREVIEW_PANE)===E.Rc.NO||m.type===v.kk)return e;const p=l(s()),h=Object(q.a)(p);if(h&&o(h)){const s=c(h)||{};if(s.id)switch(Object(H.t)(s.listId)){case E.Pb.MESSAGES:return e.concat(fn([s.id],t));case E.Pb.MESSAGE:return e.concat(In([s.id],t))}}return e},reconciler:(e,t)=>{const s=t.doesMessageBodyHasError,a=t.doesMessageGroupIdExist,n=t.doesMessageBodyExist,r=t.isSecureMessage,i=t.doesMessageFullBodyExist,o=t.getDraftMessageId,d=t.isOnline,l=t.getMessageBodyRetryCount,u=(0,t.getAction)(),_=e;if(!d())return _.map(e=>c()({},e,{timestamp:u.actionTimestamp}));const m=_.filter(e=>{if(e.userInputtedValues.messageId){const t=e.userInputtedValues,a=t.messageId,o=t.secure,c=t.full;if((u.messageIds||[]).indexOf(a)>-1){if(u.type===v.di)return l(a)<=E.ac;if(u.type===v.Kg)return!1}return!s(a)&&!(!c&&n(a))&&(!n(a)||!o&&r(a)||!i(a))}return e.userInputtedValues.messageGroupId?u.type===v.Tg?e.userInputtedValues.messageGroupId!==u.messageGroupId:!a(e.userInputtedValues.messageGroupId):!e.userInputtedValues.draftCsid||(u.type===v.Tg?e.userInputtedValues.draftCsid!==u.csid:!o(e.userInputtedValues.draftCsid))}),p={};return m.forEach(e=>{p[e.id]?e.userInputtedValues.full&&(p[e.id]=e):p[e.id]=e}),[...Object(R.g)(p)]},syncSelector:e=>{const t=e,s=t.some(e=>0==!!e.userInputtedValues.prefetchMode),a=t.reduce((e,t)=>{if(t.userInputtedValues.messageGroupId||t.userInputtedValues.draftCsid)return c()({},e,{[t.timestamp]:t});const a=`${t.timestamp}-${t.userInputtedValues.secure}-${t.userInputtedValues.full}`;if(!e[a]){const n=!1===s?t.userInputtedValues.prefetchMode:null;return c()({},e,{[a]:{type:E.re.MESSAGE_ITEM_TO_FETCH,id:a,hash:a,timestamp:t.timestamp,userInputtedValues:{messageIds:[t.userInputtedValues.messageId],secure:t.userInputtedValues.secure,full:t.userInputtedValues.full,isFallback:t.userInputtedValues.isFallback,prefetchMode:n,retryCount:t.userInputtedValues.retryCount}}})}return c()({},e,{[a]:c()({},e[a],{userInputtedValues:c()({},e[a].userInputtedValues,{messageIds:e[a].userInputtedValues.messageIds.concat(t.userInputtedValues.messageId)})})})},{});return[].concat.apply([],Object(R.g)(a))}},[E.re.LIST_TO_UPDATE]:{preparer:(e=[],t)=>{const s=(0,t.getRoute)(),a=Object(H.w)(s);return s.name&&Object(H.Q)(a)?e.concat(En({listId:a},t)):e},reconciler:(e,t)=>{const s=(0,t.getAction)(),a=s.listsToUpdate,n=void 0===a?[]:a,r=s.listData,i=(void 0===r?{}:r).lists,o=void 0===i?{}:i;let c=e;return n.length&&(c=e.map(e=>n.some(t=>t.listId===e.id)?En({listId:e.id,isStale:!0},t):e)),Object.keys(o).length&&(c=e.map(e=>o[e.id]?En({listId:e.id},t):e)),c},syncSelector:(e,t)=>{const s=t.doesListExist,a=t.getCurrentListId,n=t.getSetting,r=t.isAsyncTaskPending,i=t.getSelectedMailboxId,o=t.getRoute,d=t.getAppName,l=t.getPrescribedNumberOfColumns,u=t.isFeatureEnabled,_=t.getSmartViewTypeFromRoute,m=t.isMessageUpdatePending,p=t.getAccountSelectors,h=(0,t.getAction)(),g=o()||{},I=h.previousRoute,S=void 0===I?{}:I,C=a(),f=p().userHasRegisteredAccount(),T=e.find(e=>e.id===C),A=Object(H.t)(C),b=u(E.ub.COUPONS_SMART_VIEW_SEARCH)&&g.name===E.gd.SEARCH&&_(g)===E.Kd.COUPONS,O=u(E.ub.BOOTCAMP_COUPONS)&&_(g)===E.Kd.COUPONS&&A===E.Pb.COUPON_CARDS,R=d()===E.t.MOBILE_APP&&2===l();if(!g.url||!R&&-1!==[E.gd.MESSAGE_FROM_SEARCH_LIST].indexOf(g.name)||!T||!i()||r()||b||O||m()||!f)return[];const N=T.userInputtedValues.isStale&&-1!==[E.gd.LIST,E.gd.FOLDER,E.gd.SEARCH].indexOf(g.name),M=!(g.url!==S.url&&h.type!==v.Nb&&(N||!s(C))||h.type===v.bg&&!s(C)||h.type===v.Vk||h.forceSync);return[c()({},T,{userInputtedValues:c()({},T.userInputtedValues,{loadMoreItems:h.type===v.kh,forceSync:h.forceSync,userInitiated:h.userInitiated}),syncThrottle:500,repeat:M,syncDefer:M?n(E.zd.CHECK_MAIL_INTERVAL):0})]}},[E.re.BUSINESS_LISTING]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s,getSetting:a,isMessageRoute:n,isDraftRoute:r,isComposeRoute:i,getListsSelectors:o,getMessageIdsFromMessageGroupId:c,getBusinessListingSelectors:d,getMessagesSelectors:l,getEnvironmentSelectors:u,doesMessageGroupIdExist:_})=>{const m=t(),p=m.type,h=m.actionTimestamp,g=m.groupId,I=void 0===g?"":g,S=m.itemId,C=void 0===S?"":S,f=m.listId,T=m.messageGroup,A=(void 0===T?{}:T).id,b=void 0===A?"":A,O=m.updateBusinessListingForEmail,N=void 0===O?"":O,M=u().getGeoLocation();if(!s(E.ub.COUPON_STORE_LOCATOR))return e;let D=[];switch(p){case v.bg:{const e=o(),t=e.getItemIdsSelectors,s=e.doesListExist;n()?D=c(I)||[]:!i()&&!r()&&f&&s(f)&&Object(H.t)(f)===E.Pb.MESSAGES&&(D=(0,t(f).getItemIds)().slice(0,a(E.zd.NUM_MESSAGE_GROUPS_TO_PREFETCH)).map(e=>c(e)).reduce((e,t)=>e.concat(t),[]));break}case v.Lh:case v.di:C&&_(C)&&D.push(...c(C));break;case v.Ug:b&&D.push(...c(b));break;case v.wf:""!==N&&e.push({type:E.re.BUSINESS_LISTING,hash:N,timestamp:h,userInputtedValues:{dataType:E.re.BUSINESS_LISTING,senderEmail:N,latlong:M}})}const y=D.map((({getBusinessListingSelectors:e,getMessagesSelectors:t})=>{const s=e().doesValidListingExist,a=t(),n=a.getCardConversationId,r=a.getFromAddresses,i=a.getDecos;return e=>Object(F.b)(e).checkIf(n).checkIf(e=>Object(cn.l)(i(e),E.nc.CPN)).chain(e=>Object(R.a)(r(e),"0.email",void 0)).checkIfNot(s).chain(e=>({senderEmail:e}))})({getBusinessListingSelectors:d,getMessagesSelectors:l})).filter(e=>!e.isNothing()).map(e=>e.unbox());return e.concat(y.map(({senderEmail:e})=>({type:E.re.BUSINESS_LISTING,hash:e,timestamp:h,userInputtedValues:{dataType:E.re.BUSINESS_LISTING,senderEmail:e,latlong:M}})))},reconciler:(e,{getAction:t})=>{const s=t(),a=s.senderEmail;switch(s.type){case v.ql:case v.pl:return e.filter(({userInputtedValues:{senderEmail:e=""}={}})=>e!==a)}return e}},[E.re.GEO_LOCATION]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s})=>Object(F.b)(t()).checkIf(()=>s(E.ub.GEO_LOCATION)).checkIfNot(()=>e.some(({type:e})=>e===E.re.GEO_LOCATION)).checkIf(({type:e})=>e===v.vf).chain(e=>{let t=e.actionTimestamp,s=e.email,a=void 0===s?"":s,n=Ke()(e,["actionTimestamp","email"]);return c()({},n,{actionTimestamp:t,unsyncedDataForAction:[{type:E.re.GEO_LOCATION,hash:E.re.GEO_LOCATION,timestamp:t,userInputtedValues:{updateBusinessListingForEmail:a}}]})}).unbox(({unsyncedDataForAction:t=[]}={})=>e.concat(t),()=>e),reconciler:(e,{getAction:t})=>{switch(t().type){case v.wf:case v.uf:return[]}return e}},[E.re.SAVED_SEARCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),a=s.actionTimestamp;switch(s.type){case v.Lh:case v.di:return e.concat({id:E.re.SAVED_SEARCH,hash:E.re.SAVED_SEARCH,timestamp:a,type:E.re.SAVED_SEARCH,userInputtedValues:{}});default:return e}},reconciler:(e=[],t)=>{const s=t.getAction,a=t.getSavedSearchesSelectors,n=t.isFeatureEnabled,r=t.getMessageIdsFromMessageGroupId,i=(0,t.getMessagesSelectors)(),o=i.isCoupon,c=i.doesMessageIdExist,d=a().getTotalNumberOfSavedSearches,l=s(),u=l.itemId;switch(l.type){case v.xg:case v.wg:return[];default:return Object(F.b)(u).checkIf(()=>n(E.ub.COUPONS_AUTO_CLIP)).checkIf(()=>0===d()).checkIfNot(e=>""===e,e=>r(e)).checkIfNot(([e])=>""===e).checkIf(e=>c(e)&&o(e)).unbox(()=>e,()=>[])}}},[E.re.LOCATION_TO_UPDATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp,n=s.location;switch(s.type){case v.rj:return[{id:E.re.LOCATION_TO_UPDATE,hash:E.re.LOCATION_TO_UPDATE,timestamp:a,type:E.re.LOCATION_TO_UPDATE,userInputtedValues:{location:n}}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.qj:case v.sj:return[]}return e}},[E.re.CONVERSATION_MODE_TO_UPDATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp,n=s.value;switch(s.type){case v.nd:return[{hash:E.re.CONVERSATION_MODE_TO_UPDATE,timestamp:a,type:E.re.CONVERSATION_MODE_TO_UPDATE,userInputtedValues:{value:n}}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.od:case v.md:return[]}return e}},[E.re.PARENT_MESSAGE_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),a=s.cardConversationId,n=s.actionTimestamp;switch(s.type){case v.Th:return e.concat([{type:E.re.PARENT_MESSAGE_TO_FETCH,hash:a,timestamp:n,userInputtedValues:{cardConversationId:a}}]);default:return e}},reconciler:(e,{getAction:t})=>{const s=t(),a=s.cardConversationId,n=void 0===a?"":a;switch(s.type){case v.Uh:case v.Sh:return[];default:return n?e:[]}}},[E.re.COUPONS_TO_FETCH]:{preparer:(e=[],{getAction:t,getRoute:s,isFeatureEnabled:a,getSelectedAccountId:n})=>{const r=t(),i=r.actionTimestamp;switch(r.type){case v.eg:case v.cg:return e;default:{const t=s(),o=Object(H.w)(t),c=a(E.ub.COUPONS_SMART_VIEW_SEARCH)&&t.name===E.gd.SEARCH,d=Object(H.s)(o),l=Object(H.m)(o),u=n(),_=a(E.ub.DEALS_VIEW_V2),m=Object(H.W)(o,{listFilter:E.Qb.ALL_COUPON_CARDS,referrer:E.Id.COUPONS,accountIds:[u]}),p=Object(H.W)(o,{listFilter:E.Qb.SAVED_COUPON_CARDS,referrer:E.Id.COUPONS,accountIds:[u]}),h=[{type:E.re.COUPONS_TO_FETCH,hash:`${E.re.COUPONS_TO_FETCH}-${m}`,timestamp:i,userInputtedValues:{listId:m,decoId:[E.nc.CPN],isSearch:c,keyword:d,emailAddress:l,action:r}}];return _&&c||h.push({type:E.re.COUPONS_TO_FETCH,hash:`${E.re.COUPONS_TO_FETCH}-${p}`,timestamp:i,userInputtedValues:{listId:p,decoId:[E.nc.CPN,E.nc.TAG],isSearch:c,keyword:d,emailAddress:l}}),e.concat(h)}}},reconciler:(e=[],{getAction:t,doesListExist:s,isFeatureEnabled:a,doesListHasMoreItems:n,getSetting:r,getSmartViewTypeFromRoute:i,getRoute:o})=>{const c=t().type,d=i(o());switch(c){case v.E:{const t=a(E.ub.AD_BLOCK_COUPONS)&&r(E.zd.AD_BLOCK_COUPONS_SORT_ORDER)!==E.k.RECOMMENDED;return e.filter(({userInputtedValues:{listId:e,isSearch:n}})=>(a(E.ub.BOOTCAMP_COUPONS)||n)&&t&&!s(e))}case v.hh:return e.filter(({userInputtedValues:{listId:e,action:t,isSearch:r}})=>(a(E.ub.BOOTCAMP_COUPONS)||t||r)&&s(e)&&d===E.Kd.COUPONS&&n(e));case v.td:case v.sd:return[];default:return e.filter(({userInputtedValues:{listId:e,isSearch:t}})=>(a(E.ub.BOOTCAMP_COUPONS)||t)&&!s(e)&&d===E.Kd.COUPONS&&Object(H.t)(e)===E.Pb.COUPON_CARDS)}}},[E.re.GEMINI_AD_ASSET]:{preparer:(e=[],t)=>{const s=t.getAdsSelectors,a=t.getRoute,n=(0,t.getAction)(),r=n.actionTimestamp;if(-1===[v.Lh,v.bg].indexOf(n.type))return e;const i=a();if(i.name!==E.gd.SPONSORED_MESSAGE)return e;const o=((0,s().getGeminiAdDataFromCreativeId)(Object(R.a)(i,"params.creativeId"))||{}).nativeAd,c=void 0===o?{}:o;return c.geminiSponsoredAsset||!c.url?e:e.concat([{type:E.re.GEMINI_AD_ASSET,hash:`GEMINI_AD_ASSET_HASH-${i.params.creativeId}`,timestamp:r,userInputtedValues:{dataType:E.re.GEMINI_AD_ASSET,creativeId:i.params.creativeId,url:c.url}}])},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.tf:case v.sf:return e.filter(({userInputtedValues:e})=>e.creativeId!==s.creativeId);default:return e}}},[E.re.RELATED_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp;switch(s.type){case v.Lh:case v.bg:return[{type:E.re.RELATED_SEARCHES_TO_FETCH,hash:"RELATED_SEARCHES_UNSYNCED_DATA_HASH",timestamp:a,userInputtedValues:{dataType:E.re.RELATED_SEARCHES_TO_FETCH}}];default:return e}},reconciler:(e,t)=>{const s=t.getAction,a=t.isFeatureEnabled,n=(0,(0,t.getAdsSelectors)().getRelatedSearches)(),r=s();if(!a(E.ub.RELATED_SEARCHES_CARD)||n&&Object.keys(n).length)return[];switch(r.type){case v.ui:case v.ti:return[]}return e}},[E.re.MESSAGE_ITEM_TO_UPDATE]:{preparer:(e=[],t)=>{const s=t.getFeaturesSelectors,a=(0,t.getAction)(),n=s().isEnabled(E.ub.UPDATE_ITEMS_V3);if(!(e=>bn.indexOf(e)>=0)(a.type)||!n)return e;if(a.type===v.jb){const s=a.itemsToUpdate.filter(e=>!!e.messageQuery);return e.concat(Dn(s,t))}return e.concat(Dn(a.itemsToUpdate,t))},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return Object(R.g)(e.sort((e,t)=>e.timestamp-t.timestamp).reduce((e,t)=>{const s=e[t.id]?c()({},e[t.id].userInputtedValues,t.userInputtedValues):t.userInputtedValues;return c()({},e,{[t.id]:c()({},e[t.id]||t,{userInputtedValues:s})})},{})).map(e=>yn(s,e)).filter(e=>Object.keys(e.userInputtedValues).length)},syncSelector:(e=[],t)=>{const s=t.getMessageFlags,a=t.getMessageFolderId,n=t.getAccountIdByFolderId,r=t.isFeatureEnabled,i=(0,t.getAction)(),o=i.actionTimestamp,d=i.type,l=!r(E.ub.MARK_AS_READ_DEFER)||Ln(e,t)?0:2e3,u=e.map(e=>{const t=Object(R.g)(e.userInputtedValues),r=e.id,i=t[0],o=i&&i.messageQuery,d=o?void 0:r,l=Object.keys(e.userInputtedValues);let u,_,m;if(o)_=i.flags,u=i.destinationFolder,m=void 0;else{const e=a(r);m=e?n(e):void 0,u={id:e},_=s(r)}return c()({id:r,messageId:d,permanentDelete:t.some(e=>e.permanentDelete),updateTypes:l,messageQuery:o,deleteDuplicates:t.some(e=>e.deleteDuplicates),flags:_,folder:u},m?{accountId:m}:{})}).map(e=>{const t=c()({},e);return e.updateTypes.forEach(e=>{const s=Nn[e];s&&(t.flags=c()({},t.flags||{},{[s]:!!(t.flags||{})[s]}))}),t});return!u.length||(e=>On.indexOf(e)>=0)(d)?[]:[{type:E.re.MESSAGE_ITEM_TO_UPDATE,id:E.re.MESSAGE_ITEM_TO_UPDATE,hash:E.re.MESSAGE_ITEM_TO_UPDATE,timestamp:o,userInputtedValues:{messageItemsToSync:u},syncDefer:l}]}},[E.re.ASYNC_TASK_STATUS]:{preparer:(e=[],t)=>{const s=t.getAction,a=s(),n=a.actionTimestamp;switch(a.type){case v.vh:case v.ce:case v.jb:case v.li:case v.bk:{const t=s(),a=t.isAsync;return void 0!==a&&a?[{type:E.re.ASYNC_TASK_STATUS,hash:"ASYNC_TASK_STATUS_HASH",timestamp:n,userInputtedValues:{taskId:null,status:E.C.INIT,progress:0,pollCount:0,abort:!1,actionPayload:t}}]:e}case v.ub:{const e=s(),t=e.tasks,a=void 0===t?[]:t,r=Ke()(e,["tasks"]);return a.map(({id:e,status:t,progress:s,pollCount:a=0})=>({type:E.re.ASYNC_TASK_STATUS,hash:e,timestamp:n,userInputtedValues:{taskId:e,status:t,progress:s,pollCount:a,abort:!1,actionPayload:r}}))}case v.vb:{const t=s(),a=t.id,r=t.status,i=t.progress,o=t.pollCount,d=void 0===o?0:o;return e.map(e=>e.userInputtedValues.taskId&&a!==e.userInputtedValues.taskId?e:c()({},e,{timestamp:n,userInputtedValues:c()({},e.userInputtedValues,{taskId:a,status:r,progress:i,pollCount:d})}))}case v.tb:return e.map(e=>c()({},e,{timestamp:n,userInputtedValues:c()({},e.userInputtedValues,{abort:!0})}));default:return e}},reconciler:(e,t)=>{const s=t.isOnline,a=(0,t.getAction)(),n=a.type,r=a.triageActionType;if(!s())return e.length>0?[]:e;switch(n){case v.tl:case v.sl:return e.filter(e=>Object(R.a)(e,"userInputtedValues.actionPayload.triageActionType",void 0)!==r);case v.sb:return e.length>0?[]:e;default:return e}},syncSelector:(e=[],t,s)=>{const a=(0,t.getFeaturesSelectors)().getSetting(E.zd.ASYNC_TASK_POLL_INTERVAL);return e.filter(e=>{const t=e.userInputtedValues;return!!t.abort||!!t.taskId&&!(s-e.timestamp<a)})}},[E.re.CONTACT_CARD]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp,n=s.email,r=s.isCompose;switch(s.type){case v.Vc:return e.concat([{type:E.re.CONTACT_CARD,hash:n,timestamp:a,userInputtedValues:{email:n,isCompose:r}}]);default:return e}},reconciler:(e,t)=>{const s=t.doesContactIdExist,a=(0,t.getAction)();switch(a.type){case v.Wc:case v.Uc:return e.filter(e=>e.userInputtedValues.email!==a.email)}return e.filter(e=>!s(e.userInputtedValues.email))}},[E.re.COMPONENT_UI_STATE]:{preparer:(e=[])=>e.sort((e,t)=>t.timestamp-e.timestamp).slice(0,10),syncSelector:()=>[]},[E.re.ACCOUNT_TO_UPDATE]:{preparer:nn,reconciler:rn,syncSelector:e=>{const t=an()(e,e=>e.timestamp);return t?[t]:[]}},[E.re.SETTINGS_TO_CHANGE]:{preparer:(e=[],t)=>{const s=t.getAction(),a=s.name,n=s.actionTimestamp,r=s.shownMaxTimes,i=void 0!==r&&r;switch(s.type){case v.Rh:case v.af:return-1===[E.ub.WEB_PAC_NOTIFICATION_CUE,E.ub.MOBILE_PAC_NOTIFICATION_CUE].indexOf(a)?e:a!==E.ub.WEB_PAC_NOTIFICATION_CUE||i?e.concat(vn({actionTimestamp:n,accountId:"none",updatedSettingAttributes:[{name:E.zd.SHOW_IMAGES,value:!0}]})):e;case v.Ak:case v.Lh:{const t=s.updatedSettingAttributes,a=s.accountId,r=void 0===a?"none":a;return t?e.concat(vn({accountId:r,updatedSettingAttributes:t,actionTimestamp:n})):e}default:return e}},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.kj:case v.mj:if(s.requestActionPayload){const t=s.requestActionPayload,a=t.requestTimestamp,n=t.accountId;return e.filter(e=>e.userInputtedValues.accountId!==n||a<e.timestamp)}return e}return e},syncSelector:e=>{if(!e.length)return[];e.sort((e,t)=>e.timestamp-t.timestamp);const t=e.reduce((e,t)=>{const s=t.userInputtedValues,a=s.accountId,n=s.updatedSettingAttributes,r=s.requestTimestamp;e[a]||(e[a]={});const i=e[a].userInputtedValues,o=void 0===i?{}:i;return e[a]=c()({},e[a],{type:E.re.SETTINGS_TO_CHANGE,hash:E.re.SETTINGS_TO_CHANGE+a,timestamp:t.timestamp,userInputtedValues:c()({},o,{updatedSettingAttributes:c()({},o.updatedSettingAttributes||{},n.reduce((e,{name:t,value:s})=>(e[t]=s,e),{})),accountId:a,requestTimestamp:r})}),e},{});return Object.keys(t).reduce((e,s)=>{const a=t[s],n=a.userInputtedValues;return n.updatedSettingAttributes=Object.keys(n.updatedSettingAttributes).reduce((e,t)=>[...e,{name:t,value:n.updatedSettingAttributes[t]}],[]),[...e,a]},[])}},[E.re.FOLDER]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.type,n=s.folderId,r=s.folderName,i=s.actionTimestamp,o=s.filters,c=s.originalFolderName,d=s.newFolderName,l=s.subfolders;switch(a){case v.wi:case v.Zd:return e.concat([{type:E.re.FOLDER,hash:n,timestamp:i,userInputtedValues:{folderId:n,folderName:r,filters:o,originalFolderName:c,newFolderName:d,updateType:a,subfolders:l}}]);default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.xi:case v.vi:return e.filter(({userInputtedValues:e})=>e.folderId!==s.folderId||e.updateType!==v.wi);case v.ae:case v.Yd:return e.filter(({userInputtedValues:e})=>e.folderId!==s.folderId||e.updateType!==v.Zd)}return e}},[E.re.GEMINI_AD]:{preparer:(e=[],t)=>{const s=t.getAction,a=t.getAdSectionIds,n=t.getCurrentSpaceId;if(!(0,t.isFeatureEnabled)(E.ub.PENCIL_AD))return[];const r=s(),i=a(),o=n();return Object(R.b)(i)||!o?e:e.concat(Object.keys(i).map(e=>({type:E.re.GEMINI_AD,hash:`GEMINI_AD_HASH-${i[e]}`,timestamp:r.actionTimestamp,userInputtedValues:{spaceId:o,sectionId:i[e],adPosition:e}})))},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.qf:case v.pf:return e.filter(({userInputtedValues:e})=>-1===Object(R.g)(s.sectionIds).indexOf(e.sectionId));default:return e}},syncSelector:(()=>{let e={},t={},s={};return(a,n,r)=>{if(!a.length||"undefined"==typeof window)return[];const i=n.getAdSectionIds,o=n.getRoute,d=n.getSelectedMailboxId,l=n.getStreamsSelectors,u=n.getSetting,_=n.getCurrentListId,m=n.isFeatureEnabled,p=n.getAdsSelectors,h=n.getReconciledUnysncedDataByHash,g=n.getEnvironmentSelectors,I=n.getSmartViewTypeFromRoute,S=n.getBreakingNewsSelectors,C=n.getAdListItemsSelectors,f=(0,n.getAction)(),T=i(),A=o(),b=l(),N=b.doesStreamExist,M=b.getCursorSelectors,D=p(),y=D.getFeedbackStartedSectionIds,L=D.getCachedGeminiAds,P=-1!==[E.gd.FOLDER,E.gd.SEARCH,E.gd.LIST].indexOf(A.name),F=f.type===v.Lf&&m(E.ub.RIGHT_RAIL_UPSELL_VIDEO_AD),k=I(A)===E.Kd.COUPONS,x=p().getFanAdRenderState();let U=!1,G=!1,j=!1;if(f.streamId&&N(f.streamId)&&u(E.zd.PREVIEW_PANE)!==E.Rc.NO&&P){const t=M(f.streamId).getCursorItem();!t||t.id===e.id&&t.listId===e.listId||Object(H.t)(t.listId)!==E.Pb.MESSAGES||(e=t,U=!0)}d()&&!Object(V.D)(A,t)&&(G=!0,t=A),Object(R.e)(T,s)||(j=!0,s=T);const B=-1!==[v.ci,v.ch].indexOf(f.type)||G||j||f.type===v.Ue||k&&f.type===v.bg,W=Object(w.g)(f),q=U||W||B,z=y().length>0,K=p().getDisplayPencilAdV3(),Z=u(E.zd.BREAKING_NEWS_VERSION),Y=m(E.ub.BREAKING_NEWS_ENABLED)&&Z===E.B.VERSION_1?S().getNewsArticle():{};if(m(E.ub.FAN_ADS)&&-1===[E.rb.AD_LOAD_FAILED_RETRY,E.rb.PERMANENT_GEMINI_FALLBACK].indexOf(x))return[];if(k&&-1===[v.Lh,v.bg].indexOf(f.type))return[];if(!F&&(!q||z||m("drawer")))return[];const X=_(),Q=h(m(E.ub.LIST_V3)?Object(H.U)(X):`MessageListUi-${X}`)||{},$=Object(R.a)(Q,"uiState.scrollTop",0),J=g().getWindowDimensions().contentAndRightRailHeight,ee=O.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT+(m(E.ub.SECOND_PENCIL_AD)||m(E.ub.TIMECHUNK_PENCIL_AD)?J:0),te=u(E.zd.GEMINI_SECTION_IDS),se=[te[E.Db.MESSAGE_LIST],te[E.Db.MESSAGE_LIST_2],te[E.Db.MESSAGE_LIST_2_FALLBACK]],ae=u(E.zd.TIME_TO_WAIT_SINCE_LAST_AD_CALL),ne=a.filter(({userInputtedValues:e})=>!m(E.ub.ROTATE_PENCIL_AD_ON_EXPIRE)||L(e.sectionId).length<=2).filter(({userInputtedValues:e})=>-1!==Object(R.g)(T).indexOf(e.sectionId)).filter(({userInputtedValues:e})=>!(P&&(Object(H.B)(X)||Object(H.K)(X)||$>ee)&&-1!==se.indexOf(e.sectionId))).filter(e=>B||r-e.timestamp>ae).filter(({userInputtedValues:e})=>e.sectionId!==te[E.Db.MESSAGE_LIST_2_FALLBACK]?!(K[e.sectionId]&&[2,4,6].indexOf(K[e.sectionId])>-1):!(K[te[E.Db.MESSAGE_LIST_2]]&&[2,4,6].indexOf(K[te[E.Db.MESSAGE_LIST_2]])>-1)).filter(({userInputtedValues:e})=>!(Y.title&&e.sectionId===te[E.Db.MESSAGE_LIST])).filter(({userInputtedValues:e})=>!C().isAdMarkedForSkipRotation(e.adPosition));return ne.length?ne.reduce((e,t)=>{const s=t.userInputtedValues,a=t.timestamp,n=s.spaceId,r=s.sectionId,i=s.adPosition;return e[0]?[c()({},e[0],{userInputtedValues:c()({},e[0].userInputtedValues,{sectionIds:c()({},e[0].userInputtedValues.sectionIds,{[i]:r})})})]:[{type:E.re.GEMINI_AD,hash:"GEMINI_AD_HASH",timestamp:a,userInputtedValues:{spaceId:n,sectionIds:{[i]:r}}}]},[]):[]}})()},[E.re.VACATION_RESPONSE_SETTINGS]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.value,n=s.actionType,r=s.actionTimestamp;switch(s.type){case v.Bj:return[{type:E.re.VACATION_RESPONSE_SETTINGS,hash:E.se.SAVE_VACATION_RESPONSE,timestamp:r,warnOnClose:!0,userInputtedValues:{value:a,actionType:n,requestTimestamp:r}}];default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Cj:case v.Aj:return e.filter(e=>e.hash!==E.se.PREVENT_ROUTE_CHANGE&&e.timestamp>s.requestTimestamp);default:return e.filter(e=>e.hash!==E.se.PREVENT_ROUTE_CHANGE)}}},[E.re.RAW_MESSAGE]:{syncSelector:(e,t)=>{const s=(0,t.getAction)(),a=s.messageId;return s.type!==v.Ol?[]:[{type:E.re.RAW_MESSAGE,hash:a,timestamp:s.actionTimestamp,userInputtedValues:{dataType:E.re.RAW_MESSAGE,messageId:a}}]}},[E.re.COUPON_RECOMMENDATIONS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),a=s.actionTimestamp,n=s.messageId,r=void 0===n?"":n;switch(s.type){case v.qd:return e.concat({type:E.re.COUPON_RECOMMENDATIONS_TO_FETCH,hash:"COUPONS_RECOMMENDATIONS_UNSYNCED_DATA_HASH",timestamp:a,userInputtedValues:{cardMessageId:r}});default:return e}},reconciler:(e,{getAction:t,getCouponsSelectors:s,isFeatureEnabled:a})=>{const r=t(),i=r.type,o=r.parentMessageId,c=void 0===o?"":o,d=r.messageId,l=void 0===d?"":d,u=r.recommendations,_=void 0!==u&&u,m=r.listId,p=void 0===m?"":m,h=s().isSingleCouponParentMessageId,g=n()(e,1)[0],I=(void 0===g?{}:g).userInputtedValues,S=(void 0===I?{}:I).cardMessageId,C=void 0===S?"":S,f=Object(H.e)({referrer:E.Rb.COUPON_RECOMMENDATIONS,keyword:C});switch(i){case v.td:case v.sd:return p===f?[]:e;default:return Object(F.b)(c).checkIfNot(()=>""===l).checkIf(()=>_).checkIf(()=>a(E.ub.COUPON_RECOMMENDATIONS)||a(E.ub.COUPON_REC_WITH_ADS)).checkIf(e=>h(e)||a(E.ub.MULTI_COUPON_RECOMMENDATIONS)).unbox(()=>e,()=>[])}},syncSelector:(e,{getAction:t})=>{switch(t().type){case v.rd:return e;default:return[]}}},[E.re.ACCOUNT_TO_REAUTH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp,n=s.wssid,r=s.accountId,i=s.email,o=s.provider;switch(s.type){case v.w:return[...e,{type:E.re.ACCOUNT_TO_REAUTH,hash:E.re.ACCOUNT_TO_REAUTH+r,timestamp:a,userInputtedValues:{wssid:n,accountId:r,email:i,provider:o}}];default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.x:case v.v:return e.filter(({userInputtedValues:e})=>e.accountId!==s.accountId)}return e}},[E.re.RETAILERS]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s})=>{const a=t(),n=a.actionTimestamp,r=a.type;if(!s(E.ub.QUOTIENT))return e;switch(r){case v.bg:return e.concat({id:E.re.RETAILERS,hash:E.re.RETAILERS,timestamp:n,type:E.re.RETAILERS});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s,getRetailersSelectors:a})=>{const n=a().getTotalNumberOfRetailers;switch(t().type){case v.Fi:case v.Ei:return[];default:return e.filter(()=>s(E.ub.QUOTIENT)&&0===n())}}},[E.re.AFFILIATE_COUPONS]:{preparer:(e=[],t)=>{const s=t.getListItems,a=t.isFeatureEnabled,n=t.getCurrentListId,r=t.getAction,i=t.getMessagesSelectors,o=t.getSelectedMailboxId,c=(0,t.getRoute)();if(Object(H.M)(c)||!a(E.ub.ENABLE_AFFILIATE_COUPONS))return e;const d=i().isCoupon,l=r(),u=l.type,_=l.actionTimestamp,m=l.messageGroupList,p=void 0===m?[]:m,h=[],g=s(n()),I=o();p.length>0?p.forEach(e=>{d(e.messages[0].id)&&h.push(e.messages[0].id)}):g.length>0&&g.forEach(e=>{e.messages&&d(e.messages[0].id)&&h.push(e.messages[0].id)});const S=h.toString().replace(/,/g,"+");switch(u){case v.bg:case v.mh:return e.concat({id:E.re.AFFILIATE_COUPONS,hash:E.re.AFFILIATE_COUPONS,timestamp:_,type:E.re.AFFILIATE_COUPONS,userInputtedValues:{stringOfMessageIds:S,mailboxId:I}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{switch(t().type){case v.S:case v.R:return[];default:return e.filter(()=>s(E.ub.ENABLE_AFFILIATE_COUPONS))}}},[E.re.SHOPRUNNER_RETAILERS]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s})=>{const a=t(),n=a.type,r=a.actionTimestamp;if(!s(E.ub.SHOPRUNNER))return e;switch(n){case v.bg:return e.concat({id:E.re.SHOPRUNNER_RETAILERS,hash:E.re.SHOPRUNNER_RETAILERS,timestamp:r,type:E.re.SHOPRUNNER_RETAILERS});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s,getShopRunnerRetailersSelectors:a})=>{const n=a().getTotalNumberOfRetailers;switch(t().type){case v.Gj:case v.Fj:return[];default:return e.filter(()=>s(E.ub.SHOPRUNNER)&&0===n())}}},[E.re.RETAILER_LINK]:{preparer:(e=[],{getAction:t})=>{const s=t(),a=s.actionTimestamp,n=s.retailerId,r=s.loyaltyId,i=s.parentName;switch(s.type){case v.ug:return e.concat({id:E.re.RETAILER_LINK,hash:n,timestamp:a,type:E.re.RETAILER_LINK,userInputtedValues:{retailerId:n,loyaltyId:r,parentName:i}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const a=t(),n=a.retailerId,r=a.loyaltyId;switch(a.type){case v.vg:case v.tg:return[];default:return Object(F.b)(n).checkIfNot(e=>""===e).checkIf(()=>s(E.ub.QUOTIENT)).checkIf(()=>r).checkIfNot(()=>""===r).unbox(()=>e,()=>[])}}},[E.re.RETAILER_UNLINK]:{preparer:(e=[],{getAction:t})=>{const s=t(),a=s.actionTimestamp,n=s.retailerId;switch(s.type){case v.Xk:return e.concat({id:E.re.RETAILER_UNLINK,hash:n,timestamp:a,type:E.re.RETAILER_UNLINK,userInputtedValues:{retailerId:n}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const a=t(),n=a.retailerId;switch(a.type){case v.Yk:case v.Wk:return[];default:return Object(F.b)(n).checkIfNot(e=>""===e).checkIf(()=>s(E.ub.QUOTIENT)).unbox(()=>e,()=>[])}}},[E.re.OFFERS]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const a=s(),n=t(),r=n.actionTimestamp,i=n.type,o=Object(H.w)(a),c=Object(H.y)(o)||"",d=Object(H.s)(o).trim()||"";switch(i){case v.Lh:case v.bg:case v.vg:return e.concat({id:E.re.OFFERS,hash:c+d,timestamp:r,type:E.re.OFFERS,userInputtedValues:{listId:o,retailerId:c,search:d}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{switch(t().type){case v.Jh:case v.Ih:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(E.ub.QUOTIENT)&&Object(H.t)(e)===E.Pb.OFFER_CARDS&&Object(H.u)(e)===E.Qb.RECOMMENDED_OFFER_CARDS&&""!==t)}}},[E.re.ACTIVATE_OFFER]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const a=t(),n=a.contextOfUse,r=a.type,i=a.actionTimestamp,o=a.retailerId,c=a.offer,d=a.offerRowIndex,l=a.offerIndexInRow,u=a.search,_=s(),m=Object(H.w)(_),p=Object(H.W)(m,{listFilter:E.Qb.ACTIVATED_OFFER_CARDS});switch(r){case v.C:return e.concat({id:E.re.ACTIVATE_OFFER,hash:`${o}-${c.offerId}`,timestamp:i,type:E.re.ACTIVATE_OFFER,userInputtedValues:{contextOfUse:n,listId:p,retailerId:o,offer:c,offerRowIndex:d,offerIndexInRow:l,search:u}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const a=t(),n=a.retailerId,r=void 0===n?"":n,i=a.offer,o=(void 0===i?{}:i).offerId,c=void 0===o?"":o;switch(a.type){case v.D:case v.B:return[];default:return Object(F.b)(r).checkIfNot(e=>""===e).checkIf(()=>s(E.ub.QUOTIENT)).checkIf(()=>c).checkIfNot(()=>""===c).unbox(()=>e,()=>[])}}},[E.re.ACTIVATED_OFFERS]:{preparer:(e=[],{getAction:t,getRetailersSelectors:s,getRoute:a})=>{const n=a(),r=t(),i=r.actionTimestamp,o=r.type,c=Object(H.w)(n),d=Object(H.y)(c)||"",l=(0,s().getNumActivatedOffersFromRetailerId)(d),u=Object(H.W)(c,{listFilter:E.Qb.ACTIVATED_OFFER_CARDS});switch(o){case v.Lh:case v.bg:case v.vg:return Object(H.u)(c)===E.Qb.RECOMMENDED_OFFER_CARDS||Object(H.t)(c)!==E.Pb.OFFER_CARDS||null===l?e.concat({id:E.re.ACTIVATED_OFFERS,hash:E.re.ACTIVATED_OFFERS,timestamp:i,type:E.re.ACTIVATED_OFFERS,userInputtedValues:{listId:u,retailerId:d}}):e;default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const a=t().type;switch(void 0===a?"":a){case v.A:case v.z:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(E.ub.QUOTIENT)&&Object(H.t)(e)===E.Pb.OFFER_CARDS&&""!==t)}}},[E.re.SAVINGS]:{preparer:(e=[],{getAction:t,getRoute:s})=>{const a=s(),n=t(),r=n.actionTimestamp,i=n.type,o=Object(H.w)(a),c=Object(H.y)(o)||"";switch(i){case v.Lh:case v.bg:case v.vg:return e.concat({id:E.re.SAVINGS,hash:`${c}-savings`,timestamp:r,type:E.re.SAVINGS,userInputtedValues:{listId:o,retailerId:c}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{switch(t().type){case v.Pi:case v.Oi:return[];default:return e.filter(({userInputtedValues:{listId:e,retailerId:t}})=>s(E.ub.QUOTIENT)&&Object(H.t)(e)===E.Pb.OFFER_CARDS&&Object(H.u)(e)===E.Qb.RECOMMENDED_OFFER_CARDS&&""!==t)}}},[E.re.IC_USER_PROFILE]:{preparer:(e,{getAction:t,isFeatureEnabled:s,getRetailersSelectors:a,getShopRunnerRetailersSelectors:n})=>{const r=t(),i=r.type,o=r.actionTimestamp,c=a().getTotalNumberOfRetailers(),d=n().getTotalNumberOfRetailers();return![E.ub.PERSONALIZED_GROCERY_UPSELL,E.ub.MSG_READ_SHOPRUNNER_PERSONALIZED,E.ub.SHOPRUNNER_PERSONALIZED_UPSELL].some(e=>s(e))||i!==v.Fi&&i!==v.Gj||s(E.ub.QUOTIENT)&&0===c||s(E.ub.SHOPRUNNER)&&0===d?[]:[{id:E.re.IC_USER_PROFILE,hash:E.re.IC_USER_PROFILE,timestamp:o,type:E.re.IC_USER_PROFILE}]},reconciler:(e,{getAction:t})=>{switch(t().type){case v.Qf:case v.Rf:return[];default:return e}}},[E.re.CATEGORY_FOLLOWING_LIST]:{preparer:dn,reconciler:ln},[E.re.FOLLOW_CATEGORY]:{preparer:dn,reconciler:ln},[E.re.UNFOLLOW_CATEGORY]:{preparer:dn,reconciler:ln},[E.re.NUDGE_TO_REPLY]:{preparer:(e=[],t)=>{const s=t.getCurrentListId,a=t.getListItems,n=t.getMessagesSelectors,r=t.getSelectedAccountId,i=t.getSubjectAndSnippetSelectors,o=t.getAccountSelectors,c=t.getMessageFlags,d=t.doesMessageGroupIdExist,l=t.getMessageIdsFromMessageGroupId,u=t.getAttachmentsByMessageId,_=t.isFeatureEnabled,m=t.getSetting,p=(0,t.getAction)(),h=p.actionTimestamp,g=p.type,I=p.messageGroupList,S=void 0===I?[]:I,C=s(),f=E.Vb-m(E.ub.REPLY_NUDGE_COUNT);if((g===v.bg||g===v.mh)&&Object(H.t)(C)===E.Pb.MESSAGES&&_(E.ub.NUDGE_TO_REPLY)&&f>0){const t=[],s=[],_=S.length?S:a(C),m=1,p=14,g=n(),I=g.getClassification,f=g.getFromAddresses,T=g.getToAddresses,A=i().getSnippet,b=o().getAccountEmailByAccountId(r());return _.forEach(e=>{let a=!1;const n=Object(Js.f)(e,{listId:C}),r=Math.floor((h-1e3*n.date)/864e5),i=d(e.id)?l(e.id):[],o=i[i.length-1];if(s.push(o),r>=m&&r<=p){const e=()=>{const e=u(o);return Object(R.a)(e,"0.subtype","")===E.w.SubTypes.ICS},s=()=>{const e=f(o),t=T(o),s=i.some(e=>c(e).answered),a=c(o).answered,n=t.length>1;return t.some(e=>e.email===b)&&!e.some(e=>e.email===b)&&(n?!s:!a)};if(a=(()=>"P"===I(o))()&&s()&&!e()){const e=A(o,C);""!==e&&t.push({mid:o,snippet:e})}}}),e.concat({id:E.re.NUDGE_TO_REPLY,hash:E.re.NUDGE_TO_REPLY,timestamp:h,type:E.re.NUDGE_TO_REPLY,userInputtedValues:{nudgeToReplySnippetList:t,messageIdList:s}})}return e},reconciler:(e,{getAction:t})=>{switch(t().type){case v.Rb:case v.Qb:return[];default:return e}}},[E.re.REPLY_SUGGESTIONS]:{preparer:(e=[],t)=>{const s=t.getAction,a=t.getSubjectAndSnippetSelectors,n=t.getCurrentListId,r=t.isFeatureEnabled,i=s(),o=i.actionTimestamp,c=i.type,d=n();if(r(E.ub.SMART_REPLY)&&c===v.Ai){const t=s().messageId,n=(0,a().getSnippet)(t,d)||"";return n.length?e.concat({id:E.re.REPLY_SUGGESTIONS,hash:n,timestamp:o,type:E.re.REPLY_SUGGESTIONS,userInputtedValues:{snippet:n}}):e}return e},reconciler:(e,t)=>{const s=t.getReplySuggestionSelectors;switch((0,t.getAction)().type){case v.zi:case v.yi:return e.filter(e=>{const t=e.userInputtedValues.snippet;return!s().getSuggestionsBySnippet(t)});default:return e}}},[E.re.BASENAME_TO_CREATE]:{preparer:(e=[],t)=>{const s=t.getAction(),a=s.actionTimestamp;switch(s.type){case v.qe:{const t=s.domain,n=s.baseName;return[...e,{type:E.re.BASENAME_TO_CREATE,hash:on({baseName:n,domain:t}),timestamp:a,userInputtedValues:{domain:t,baseName:n}}]}default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)(),a=s.baseName,n=s.domain;switch(s.type){case v.te:case v.re:case v.pe:return e.filter(({hash:e})=>e!==on({baseName:a,domain:n}))}return e}},[E.re.ACCOUNT_DELETE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.accountId;switch(s.type){case v.p:return e.concat(((e,t)=>{const s=(0,t.getAction)();return{type:E.re.ACCOUNT_DELETE,hash:e,timestamp:s.actionTimestamp,userInputtedValues:{accountId:e,updateType:s.type}}})(a,t));default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.o:case v.q:return e.filter(({userInputtedValues:e})=>e.updateType!==v.p&&e.accountId!==s.updatedAccount.id)}return e}},[E.re.ACCOUNT_ADD]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.newAccount;switch(s.type){case v.j:return e.concat(((e,t)=>{const s=(0,t.getAction)(),a=s.emailOrPhoneRegAccount;return{type:E.re.ACCOUNT_ADD,hash:e.email,id:e.email,timestamp:s.actionTimestamp,userInputtedValues:{newAccount:e,emailOrPhoneRegAccount:void 0!==a&&a,updateType:s.type}}})(a,t));default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.l:case v.h:return e.filter(({userInputtedValues:e})=>e.updateType!==v.j&&e.newAccount.email!==s.newAccount.email)}return e}},[E.re.MORE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.shouldFetchMoreItems,a=(0,t.getAction)(),n=a.actionTimestamp,r=a.listId,i=a.currentGroupId,o=a.allItemsSelected;switch(a.type){case v.kh:return i&&!s(r,i)?e:[...e,{type:E.re.MORE_ITEMS_TO_FETCH,hash:E.re.MORE_ITEMS_TO_FETCH+r,timestamp:n,userInputtedValues:{allItemsSelected:o,listId:r}}];default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.mh:case v.lh:case v.rh:case v.qh:case v.th:case v.sh:return e.filter(e=>e.hash!==E.re.MORE_ITEMS_TO_FETCH+s.listId)}return e},syncSelector:(e,t)=>{const s=t.getPendingUpdate;return(0,t.isAsyncTaskPending)()||s().type?[]:e}},[E.re.GIFS_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.Cf:{const a=s.query,n=s.listId,r=s.fetchMoreItems,i=(0,t.getListsSelectors)(),o=i.getItemIdsSelectors,c=i.hasMoreItems,d=s.listId;if((0,i.doesListExist)(n)){const t=o(n).getItemIds().length;if(!c(n)&&t)return e;if(t&&!r)return e}return[...e,{id:d,hash:d,timestamp:s.actionTimestamp,type:E.re.GIFS_TO_FETCH,userInputtedValues:{query:a,listId:n,fetchMoreItems:r,id:d}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.Df:case v.Bf:return e.id!==s.id}return!0})}},[E.re.GIF_CATEGORY_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction,a=(0,t.getGifCategoriesSelectors)().isCategoryListLoaded,n=s();switch(n.type){case v.zf:return a()?[]:[{id:E.re.GIF_CATEGORY_TO_FETCH,hash:E.re.GIF_CATEGORY_TO_FETCH,timestamp:n.actionTimestamp,type:E.re.GIF_CATEGORY_TO_FETCH}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.Af:case v.yf:return[]}return e}},[E.re.TOP_COUPONS_TO_FETCH]:{preparer:(e=[],{isFeatureEnabled:t,getAction:s,getEmailOfSelectedAccount:a,getRoute:n,getSmartViewTypeFromRoute:r,getCouponsSelectors:i,getSetting:o})=>{const c=i().getTopCoupons;if(!t(E.ub.COUPON_CARD_EXTRACTIONS)||c().length)return e;const d=s(),l=d.type,u=d.actionTimestamp,_=r(n())===E.Kd.COUPONS,m=t(E.ub.COUPONS_SMART_VIEW_SEARCH)&&_,p=t(E.ub.AD_BLOCK_COUPONS)&&o(E.zd.AD_BLOCK_COUPONS_SORT_ORDER)===E.k.RECOMMENDED,h=t(E.ub.DEALS_VIEW_V2)&&_,g=t(E.ub.MSG_READ_COUPON_RECOMMENDATIONS);switch(l){case v.Lh:case v.E:return h||p||m?e.concat({type:E.re.TOP_COUPONS_TO_FETCH,hash:"TOP_COUPONS_UNSYNCED_DATA_HASH",timestamp:u,userInputtedValues:{email:a()}}):e;case v.bg:return g||h?e.concat({type:E.re.TOP_COUPONS_TO_FETCH,hash:"TOP_COUPONS_UNSYNCED_DATA_HASH",timestamp:u,userInputtedValues:{email:a()}}):e;default:return e}},reconciler:(e,{getAction:t})=>{const s=t(),a=s.listId,n=void 0===a?"":a;switch(s.type){case v.td:case v.sd:return n===Un?[]:e;default:return e}}},[E.re.ALIAS_EMAIL_TO_CREATE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.U:return[{hash:E.re.ALIAS_EMAIL_TO_CREATE,timestamp:s.actionTimestamp,type:E.re.ALIAS_EMAIL_TO_CREATE,userInputtedValues:{email:s.email}}]}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.V:case v.T:return[]}return e}},[E.re.CONFIRM_EMAIL_TO_RESEND]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.tc:{const t=s.account.email;return[...e,{hash:t,id:t,timestamp:s.actionTimestamp,type:E.re.CONFIRM_EMAIL_TO_RESEND,userInputtedValues:{account:s.account}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.uc:case v.sc:return e.filter(e=>e.id!==s.email)}return e}},[E.re.BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getSettingsSelectors().getBlockedSendersApiCallStatus,a=t.getAction(),n=t.getEnvironmentSelectors().getAppName,r=a.actionTimestamp;switch(a.type){case v.Lh:case v.bg:{const a=t.getRouteName();return n()!==E.t.MOBILE_APP||a!==E.gd.MESSAGE_FROM_FOLDER_LIST&&a!==E.gd.MESSAGE_FROM_SEARCH_LIST&&a!==E.gd.MESSAGE_FROM_LIST||s()===E.bd.LOADED?e:e.concat([{id:E.re.BLOCKED_SENDERS_TO_FETCH,hash:E.re.BLOCKED_SENDERS_TO_FETCH,type:E.re.BLOCKED_SENDERS_TO_FETCH,timestamp:r}])}case v.jj:return e.concat([{id:E.re.BLOCKED_SENDERS_TO_FETCH,hash:E.re.BLOCKED_SENDERS_TO_FETCH,type:E.re.BLOCKED_SENDERS_TO_FETCH,timestamp:r}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case v.uj:case v.tj:case v.oj:case v.ij:case v.hj:case v.nj:return[]}return e}},[E.re.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),a=s.actionTimestamp;switch(s.type){case v.pj:return e.concat([{id:E.re.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,hash:E.re.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,type:E.re.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,timestamp:a}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case v.uj:case v.tj:case v.oj:case v.nj:return[]}return e}},[E.re.COMPOSE_ATTRIBUTES_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction,a=t.doesCurrentRouteContainDraft,n=t.getSelectedMailboxId,r=(0,(0,t.getComposeAttributesSelectors)().getComposeAttributesStatus)();if(!n()||r!==E.bd.LOADING)return[];const i=s();switch(i.type){case v.ch:return[{hash:E.re.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:i.actionTimestamp,type:E.re.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}];case v.Rl:case v.Ql:return e;default:if(a())return[{hash:E.re.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:i.actionTimestamp,type:E.re.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.nc:case v.mc:return[]}return e}},[E.re.POST_LUNCH_TO_SYNC]:{reconciler:(e,t)=>{switch((0,t.getAction)().type){case v.Yh:case v.Xh:return[]}return e},syncSelector:(e=[],t)=>{const s=t.getAction;if(!(0,t.getSelectedMailboxId)())return[];switch(s().type){case v.eg:case v.Vf:case v.cg:return[]}return e}},[E.re.TOP_RETAILERS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),a=s.actionTimestamp;switch(s.type){case v.Lh:case v.bg:return[{type:E.re.TOP_RETAILERS_TO_FETCH,hash:"TOP_RETAILERS_UNSYNCED_DATA_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getDealsSelectors:r})=>{const i=t().type,o=n(s())===E.Kd.COUPONS,c=a(E.ub.COUPONS_SMART_VIEW_SEARCH)&&o,d=r().getTopRetailers();if(!c||d)return[];switch(i){case v.Pk:case v.Ok:return[]}return e}},[E.re.TOP_DEAL_CATEGORIES_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const s=t(),a=s.actionTimestamp;switch(s.type){case v.Lh:case v.bg:return[{type:E.re.TOP_DEAL_CATEGORIES_TO_FETCH,hash:"TOP_DEAL_CATEGORIES_UNSYNCED_DATA_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getDealsSelectors:r})=>{const i=t().type,o=n(s())===E.Kd.COUPONS,c=a(E.ub.CATEGORY_FILTER),d=a(E.ub.COUPONS_SMART_VIEW_SEARCH)&&o,l=r().getTopDealCategories();if(!c||!d||l)return[];switch(i){case v.Nk:case v.Mk:return[]}return e}},[E.re.RECENT_SEARCH_DELETE]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.query,n=s.actionTimestamp;switch(s.type){case v.je:return e.concat({id:a,hash:a,userInputtedValues:{query:a},timestamp:n,type:E.re.RECENT_SEARCH_DELETE,syncThrottle:12e4,syncDefer:200})}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.ke:case v.ie:return e.id!==s.query}return!0})}},[E.re.LINK_ENHANCER_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.jg:{const a=s.cardUrl,n=a;return void 0!==(0,(0,t.getLinkEnhancerSelectors)().getEnhancedLinks)()[a]?e:[...e,{id:n,hash:n,timestamp:s.actionTimestamp,type:E.re.LINK_ENHANCER_TO_FETCH,userInputtedValues:{cardUrl:a,id:n}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return e.filter(e=>{switch(s.type){case v.kg:case v.ig:return e.id!==s.id}return!0})}},[E.re.FETCH_PRIMARY_ACCOUNT]:{preparer:nn,reconciler:rn},[E.re.UPDATE_PAC_CUE]:{preparer:(e=[],t)=>{const s=t.getSetting,a=(0,t.getAction)(),n=s(E.zd.SCOUT_ONBOARDING),r=Object(qt.b)(n,E.ub.WEB_PAC_NOTIFICATION_CUE);switch(a.type){case v.Rh:{const t=a.name,s=a.userResponse;return s<=r?e:[{hash:E.re.UPDATE_PAC_CUE,timestamp:a.actionTimestamp,type:E.re.UPDATE_PAC_CUE,userInputtedValues:{name:t,userResponse:s}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();return[v.bf,v.Ze].indexOf(s.type)>-1&&s.feature===E.ub.WEB_PAC_NOTIFICATION_CUE?e.filter(e=>{switch(s.type){case v.bf:return e.userInputtedValues.userResponse>Object(qt.b)(s.value,E.ub.WEB_PAC_NOTIFICATION_CUE);case v.Ze:return!1}return!0}):e}},[E.re.RSVP_FETCH]:{preparer:(e=[],t)=>{const s=t.getCalendarSelectors,a=t.doesMessageBodyExist,n=(0,t.getAction)(),r=n.type,i=n.messageId,o=n.actionTimestamp,c=s().getInviteStatus;switch(r){case v.xf:return!i||a(i)?e:"READY"===c(i)?e:e.concat([{type:E.re.RSVP_FETCH,timestamp:o,hash:i,userInputtedValues:{messageId:i}}]);default:return e}},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Xf:case v.Wf:return e.filter(({userInputtedValues:e})=>!(s.messageIds||[]).includes(e.messageId));default:return e}}},[E.re.BREAKING_NEWS]:{preparer:(e=[],{getAction:t})=>{const s=t(),a=s.actionTimestamp;switch(s.type){case v.bg:case v.ob:case v.Lh:return[{type:E.re.BREAKING_NEWS,hash:"BREAKING_NEWS_HASH",timestamp:a}]}return e},reconciler:(e,t)=>{const s=t.isFeatureEnabled,a=t.getSetting,n=t.getBreakingNewsSelectors,r=(0,t.getAction)().type,i=s(E.ub.BREAKING_NEWS_ENABLED),o=s(E.ub.NEED_TO_KNOW_NEWS_CUE),c=n().getNewsRefreshTimestamp(),d=a(E.zd.BREAKING_NEWS_REFRESH_INTERVAL),l=a(E.zd.BREAKING_NEWS_VERSION);if(!i||o||r===v.bg&&l===E.B.VERSION_1)return[];switch(r){case v.qb:case v.nb:return[]}return e.filter(e=>e.timestamp-c>d)}},[E.re.NEED_TO_KNOW_NEWS]:{preparer:(e=[],t)=>{const s=t.isFeatureEnabled,a=(0,t.getAction)(),n=a.type,r=a.actionTimestamp,i=n===v.Y&&a.isVisible;return s(E.ub.NEED_TO_KNOW_NEWS_CUE)&&(n===v.bg||i&&s(E.ub.SHOW_NTK_ON_VISIBILITY_CHANGE))?e.concat({id:E.re.NEED_TO_KNOW_NEWS,hash:E.re.NEED_TO_KNOW_NEWS,timestamp:r,type:E.re.NEED_TO_KNOW_NEWS}):e},reconciler:(e,{getAction:t})=>{switch(t().type){case v.Eh:case v.Dh:return[];default:return e}}},[E.re.CLOUD_STORAGE_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.Yb:return(({provider:e,unsyncedData:t,timestamp:s})=>t.concat({type:E.re.CLOUD_STORAGE_ACCOUNT_AUTH_URL,hash:E.re.CLOUD_STORAGE_ACCOUNT_AUTH_URL,timestamp:s,userInputtedValues:{provider:e}}))({provider:s.provider,unsyncedData:e,timestamp:s.actionTimestamp})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.Wb:case v.Vb:return e.filter(e=>e.userInputtedValues.provider!==s.provider)}return e}},[E.re.CLOUD_STORAGE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.gc:{const a=s.query,n=s.listId,r=s.fetchMoreItems,i=s.source,o=s.path,c=(0,t.getListsSelectors)(),d=c.getItemIdsSelectors,l=c.hasMoreItems,u=s.listId;if((0,c.doesListExist)(n)){const t=d(n).getItemIds().length;if(!l(n)&&t)return e;if(t&&!r)return e}return[...e,{id:u,hash:u,timestamp:s.actionTimestamp,type:E.re.CLOUD_STORAGE_ITEMS_TO_FETCH,userInputtedValues:{query:a,listId:n,fetchMoreItems:r,id:u,source:i,path:o}}]}}return e},reconciler:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.hc:case v.fc:return e.filter(e=>e.id!==s.id)}return e}},[E.re.FETCH_CLOUD_STORAGE_PROVIDERS]:{preparer:(e=[],t)=>{const s=(0,t.getAction)(),a=s.actionTimestamp;switch(s.type){case v.bg:case v.Lh:case v.cc:if((e=>{const t=(0,e.getRoute)(),s=t.params;return t.name===E.gd.SETTINGS&&(void 0===s?{}:s).settingsGroupId===E.Cd.SOCIAL_ACCOUNTS})(t))return Hn(a);break;case v.Zb:return Hn(a)}return e},reconciler:(e=[],t)=>{switch((0,t.getAction)().type){case v.ec:case v.dc:return[]}return e}},[E.re.UNLINK_CLOUD_STORAGE_ACCOUNT]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.bc:return(({provider:e,unlink:t,unsyncedData:s,timestamp:a})=>s.concat({type:E.re.UNLINK_CLOUD_STORAGE_ACCOUNT,hash:E.re.UNLINK_CLOUD_STORAGE_ACCOUNT,timestamp:a,userInputtedValues:{provider:e,unlink:t}}))({provider:s.provider,unlink:s.unlink,unsyncedData:e,timestamp:s.actionTimestamp})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.cc:case v.ac:return e.filter(e=>e.userInputtedValues.provider!==s.provider)}return e}},[E.re.CLOUD_STORAGE_ITEM_SHAREABLE_LINK]:{preparer:(e=[],t)=>{const s=(0,t.getAction)();switch(s.type){case v.kc:return(({itemId:e,unsyncedData:t,timestamp:s})=>t.concat({type:E.re.CLOUD_STORAGE_ITEM_SHAREABLE_LINK,hash:E.re.CLOUD_STORAGE_ITEM_SHAREABLE_LINK,timestamp:s,userInputtedValues:{itemId:e}}))({itemId:s.itemId,unsyncedData:e,timestamp:s.actionTimestamp})}return e},reconciler:(e,t)=>{const s=(0,t.getAction)();switch(s.type){case v.jc:case v.ic:return e.filter(e=>e.userInputtedValues.itemId!==s.itemId)}return e}},[E.re.HALLOWEEN_BANNER]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s})=>{const a=t(),n=a.type,r=a.actionTimestamp;if(!s(E.ub.ENABLE_HALLOWEEN_BANNER))return e;switch(n){case v.Yh:return[{id:E.re.HALLOWEEN_BANNER,hash:E.re.HALLOWEEN_BANNER,timestamp:r,type:E.re.HALLOWEEN_BANNER}];default:return e}},reconciler:(e,{getAction:t})=>{switch(t().type){case v.Hf:case v.Gf:return[];default:return e}}}}),qn=s(382);var zn=(e=[],t)=>t.unsyncedData&&!p()(t.unsyncedData,e)?t.unsyncedData:e;const Kn=(e,t,s,a)=>{const n=t.reduce((e,t)=>c()({},e,{[t.type]:(e[t.type]||[]).concat(t)}),{}),r=_()(Object.keys(E.re).concat(t.map(e=>e.type)));return[].concat.apply([],r.map(t=>Wn[t]&&"function"==typeof Wn[t][e]?Wn[t][e](n[t]||[],s,a):n[t]||[]))},Zn=(e,t={})=>Kn("reconciler",e,t).concat(((e,t={})=>{const s=(0,t.getAction)();return s.type!==v.zk&&qn.a[s.type]?[{id:`V2-${s.type}-${s.actionTimestamp}`,hash:`V2-${s.type}-${s.actionTimestamp}`,type:s.type,isAutoGenerated:!0,timestamp:s.actionTimestamp,userInputtedValues:s}]:[]})(0,t));var Yn=Object(h.combineReducers)({currentChannel:(e="",t)=>{switch(t.type){case v.Mb:case v.Jl:return t.channel}return e},showVideoPlayer:(e=!0,t)=>{switch(t.type){case v.Kl:return!1;case v.Ll:return!0}return e},channelData:(e={},t)=>{switch(t.type){case v.Hl:return t.payload;case v.Jl:{const s=t.payload,a=t.channel;return c()({},e,{[a]:s[a]})}}return e},isPaused:(e=!1,t)=>{switch(t.type){case v.Ml:return!0;case v.Nl:return!1}return e}});var Xn=function(e={},t){switch(t.type){case v.gj:return{messageId:t.messageId,listId:t.listId};case v.Lh:{const e=(t.route.params||{}).settingsGroupId;if((void 0===e?"":e)!==E.Cd.FILTERS)return{}}}return e};var Qn=(e={},t)=>{switch(t.type){case v.zi:return e[t.snippet]=t.replies,Object.assign({},e);default:return e}};var $n=Object(h.combineReducers)({atosInfo:(e={},t)=>{switch(t.type){case v.Eg:return Object(R.a)(t,"data.atos",{})}return e},rewardsActions:(e={},t)=>{switch(t.type){case v.Eg:{const e={};return Object(R.a)(t,"data.rewardsActions",[]).forEach(t=>{e[t.tag]={id:t.id,title:t.title}}),e}}return e},rewardsActionsTimestamp:(e={},t)=>{switch(t.type){case v.Eg:{const e={};return Object(R.a)(t,"data.lastRegisteredActions",[]).forEach(s=>{e[s.rewardsActionType]=t.actionTimestamp}),e}case v.Gk:return e[t.rewardsActionType]=t.actionTimestamp,e}return e},mailChallenges:(e={},t)=>{switch(t.type){case v.Eg:{const e={};return Object(R.a)(t,"data.mailChallenges",[]).forEach(t=>{e[t.tag]=t}),e}}return e},mailChallengesProgress:(e={},t)=>{switch(t.type){case v.Eg:{const e={};return Object(R.a)(t,"data.mailChallengesProgress",[]).forEach(t=>{e[t.tag]={recurringProgresses:t.recurringProgresses,repeatedTimes:t.repeatedTimes}}),e}case v.Gk:return(t.data.completedChallengesProgress||[]).forEach(t=>{e[t.tag]={recurringProgresses:t.recurringProgresses,repeatedTimes:t.repeatedTimes}}),e}return e},lastCompletedChallenges:(e={},t)=>{switch(t.type){case v.Eg:{const e={};return Object(R.a)(t,"data.lastRegisteredActions",[]).forEach(t=>{const s=t.completedChallenges,a=void 0===s?[]:s;a.length&&a.forEach(t=>{e[t.tag]={pointsReceived:t.points,bonusChallengeCompleted:t.bonusChallengeCompleted,showSpin:!0}})}),e}case v.Gk:{const e={},s=t.data.completedChallenges,a=void 0===s?[]:s;return a.length&&a.forEach(t=>{e[t.tag]={pointsReceived:t.points,bonusChallengeCompleted:t.bonusChallengeCompleted,showSpin:!0}}),e}case v.Hk:return Object(R.a)(e,`${E.ge.DAILY_CHECKIN}.showSpin`)&&(e[E.ge.DAILY_CHECKIN].showSpin=!1),e}return e},superAppChallenges:(e=[],t)=>{switch(t.type){case v.Eg:return Object(R.a)(t,"data.superAppChallenges",[])}return e},pointsBalance:(e=0,t)=>{switch(t.type){case v.Eg:case v.Gk:return Object(R.a)(t,"data.pointsBalance")||e}return e},redeemItems:(e=[],t)=>{switch(t.type){case v.Eg:return Object(R.a)(t,"data.redeemItems",[])}return e},selectedTab:(e=E.he.CHECKIN,t)=>{switch(t.type){case v.Ik:return t.tab;case v.Hi:return t.tab||e}return e}});var Jn=Object(h.combineReducers)({newsArticle:(e={},t)=>{switch(t.type){case v.qb:return t.news&&t.news.id?e.id!==t.news.id?c()({},t.news,{isRead:!1}):e:{};case v.lb:case v.Hi:return void 0===e.isRead||t.type===v.Hi&&t.name!==E.dd.BREAKING_NEWS||(e.isRead=!0),e;case v.mb:case v.nb:return{}}return e},isDismissed:(e=!1,t)=>{switch(t.type){case v.mb:return!0}return e},newsRefreshTimestamp:(e=0,t)=>{switch(t.type){case v.qb:case v.nb:return t.actionTimestamp}return e}});const er=Object(h.combineReducers)({isRead:(e=!1,t)=>{switch(t.type){case v.li:return!t.isRead;case v.Lh:if(t.route.name===E.gd.SPONSORED_MESSAGE)return!0;break;case v.qf:return!1}return e},isSelected:(e=!1,t)=>{switch(t.type){case v.Lk:return!e;case v.X:return!0;case v.ce:case v.vh:case v.li:case v.fe:case v.jk:case v.Si:case v.bk:return!1}return e},isDeleted:(e=!1,t)=>{switch(t.type){case v.fe:return!0;case v.ce:case v.vh:if(t.isSelected)return!0;break;case v.qf:return!1}return e},rotateAd:(e=2,t)=>{switch(t.type){case v.li:return t.isRead?2:0;case v.Lh:if(t.route.name===E.gd.SPONSORED_MESSAGE){if(2===e)return 0;if(e<=1)return++e}else if(t.previousRoute.name!==E.gd.SPONSORED_MESSAGE&&e<=1)return++e;break;case v.fe:return 0;case v.ce:case v.vh:if(t.isSelected)return 0;if(e<=1)return++e;break;default:if(Object(w.g)(t)&&e<=1)return++e}return e}});var tr=(e={},t)=>{if(!Object.keys(e).length&&t.type===v.qf&&t.sponsoredMessageTriage)return[E.Db.MESSAGE_LIST,E.Db.MESSAGE_LIST_2].forEach(s=>{e[s]=er(e[s],t)}),e;if(Object.keys(e).length)switch(t.type){case v.Lk:case v.fe:return c()({},e,{[t.adPosition]:er(e[t.adPosition],t)});case v.X:case v.jk:case v.bk:case v.Si:if(t.type!==v.Si||t.clearSelection){const s={};return Object.keys(e).forEach(a=>{s[a]=er(e[a],t)}),s}break;case v.li:{const s=c()({},e);return Object.keys(e).forEach(a=>{e[a].isSelected&&(s[a]=er(e[a],t))}),s}case v.vh:case v.ce:if("DELETE_SELECTED_ITEMS"===t.triageActionType||"MOVE_SELECTED_ITEMS"===t.triageActionType){const s={};return Object.keys(e).forEach(a=>{s[a]=er(e[a],c()({},t,{isSelected:e[a].isSelected}))}),s}break;case v.Lh:if(t.route.name===E.gd.SPONSORED_MESSAGE)return c()({},e,{[t.adPosition]:er(e[t.adPosition],t)});if(t.previousRoute.name!==E.gd.SPONSORED_MESSAGE){const s={};return Object.keys(e).forEach(a=>{s[a]=er(e[a],t)}),s}break;case v.qf:{const s=c()({},e);return Object.keys(e).forEach(a=>{t.sectionIds&&Object.keys(t.sectionIds).indexOf(a)>-1&&(s[a]=er(e[a],t))}),s}default:if(Object(w.g)(t)){const s={};return Object.keys(e).forEach(a=>{s[a]=er(e[a],t)}),s}}return e};var sr=(e={},t)=>{switch(t.type){case v.hc:{const s=t.listData.cloudStorageItems,a=void 0===s?{}:s;return c()({},e,a)}default:return e}};var ar=(e="",t)=>{switch(t.type){case v.jc:return t.shareableLink||"";default:return e}},nr=Object(h.combineReducers)({cloudStorageItems:sr,shareableLink:ar});const rr=Object(h.combineReducers)({articleId:(e="",t)=>{const s=t.article;switch(t.type){case v.Eh:return s.articleId;default:return e}},articleTitle:(e="",t)=>{const s=t.article;switch(t.type){case v.Eh:return s.articleTitle||"";default:return e}}});var ir=function(e={},t){const s=t.needToKnowNews,a=void 0===s?{}:s,n=a.articles,r=void 0===n?[]:n,i=a.coverImage,o=void 0===i?"":i,c=a.homepageUrl,d=void 0===c?"":c,l=t.type;switch(l){case v.Eh:{if(!r||!r.length)return e;const t=r.reduce((t,s)=>s.articleId?[...t,rr(e[s.articleId],{type:l,article:s})]:[...t],[]);return t.length?{articles:t,coverImage:o,homepageUrl:d}:e}default:return e}};const or=Object(h.combineReducers)({location:(e={},t)=>{const s=t.affiliateCouponsData;switch(t.type){case v.S:return s.location;default:return e}},logo:(e="",t)=>{const s=t.affiliateCouponsData;switch(t.type){case v.S:return s.logo;default:return e}},name:(e="",t)=>{const s=t.affiliateCouponsData;switch(t.type){case v.S:return s.name;default:return e}},url:(e="",t)=>{const s=t.affiliateCouponsData;switch(t.type){case v.S:return s.url;default:return e}},description:(e="",t)=>{const s=t.affiliateCouponsData;switch(t.type){case v.S:return s.description;default:return e}}}),cr=Object(h.combineReducers)({locations:or,msgId:(e="",t)=>{const s=t.affiliateCouponsData;switch(t.type){case v.S:return s.msgId;default:return e}},coupons:(e=[],t)=>{const s=t.affiliateCouponsData;switch(t.type){case v.S:return s.coupons;default:return e}},categories:(e=[],t)=>{const s=t.affiliateCouponsData;switch(t.type){case v.S:return s.categories;default:return e}}});var dr=function(e={},{type:t,affiliateCouponsData:s}){switch(t){case v.S:{const a=s||[];return a.length?a.reduce((e,s)=>c()({},e,{[s.msgId]:cr(e[s.msgId],{type:t,affiliateCouponsData:s})}),c()({},e)):e}default:return e}};const lr=(e="",t)=>{switch(t.type){case v.Hf:return t.actionName;default:return e}},ur=(e="",t)=>{switch(t.type){case v.Hf:return t.description;default:return e}},_r=(e="",t)=>{switch(t.type){case v.Hf:return t.url;default:return e}},mr=Object(h.combineReducers)({actionName:lr,description:ur,id:(e="",t)=>{switch(t.type){case v.Hf:return t.id;default:return e}},imgUrl:(e="",t)=>{switch(t.type){case v.Hf:return t.imgUrl;default:return e}},provider:(e="",t)=>{switch(t.type){case v.Hf:return t.provider;default:return e}},title:(e="",t)=>{switch(t.type){case v.Hf:return t.title;default:return e}},url:_r}),pr=Object(h.combineReducers)({actionName:lr,cardItems:(e=[],{type:t,items:s})=>{switch(t){case v.Hf:return s.map((e,s)=>mr(e,c()({},e,{type:t,id:s})));default:return e}},cardType:(e="",t)=>{switch(t.type){case v.Hf:return t.cardType;default:return e}},description:ur,url:_r});var hr=Object(h.combineReducers)({halloweenCards:function(e={},{cards:t,type:s}){switch(s){case v.Hf:return t.map(t=>pr(e[t.cardType],c()({},t,{type:s}))).reduce((e,t)=>(e[t.cardType]=e[t.cardType]?[...e[t.cardType],t]:[t],e),{});default:return e}},cardShowCounter:function(e=0,t){const s=t.type;return s!==v.Lh&&s!==v.di||!t.isOrdOrShipmentMail?e:e+1}});s.d(t,"c",function(){return Nr}),s.d(t,"b",function(){return Pr});const gr=[E.gd.SUBSCRIPTION_LIST],Er=E.lb.Status,Ir=e=>e.url,Sr=e=>e.params,Cr=e=>-1!==e.url.indexOf("/search/"),fr=e=>"/m/"===e.url.substr(0,3),Tr=e=>-1!==e.url.indexOf("/edit/"),Ar=e=>-1!==e.url.indexOf("/compose/"),br=e=>e.name===E.gd.FOLDER,Or=e=>(Object(P.a)(e&&void 0!==e.url,"isMessageRoute: route.url does not exist",e||{url:"undefined"}),-1!==e.url.indexOf("/messages/")),Rr=({list:e,timePredicates:t,sortOrder:s=E.Od.DATE_ASC})=>{const a=[E.Od.DATE_DESC,E.Od.DATE_ASC].indexOf(s)>=0;if(!(e.length>=4&&a))return e;const n=Object(ls.d)(e,t),r=n.list;return n.isGroupedList?Object(ls.a)(r):r},Nr={action:{reducer:(e={},t)=>t,selector:(e={})=>e},unsyncedData:{reducer:zn,selector:(e=[])=>{return{getUnsyncedData:()=>e,getReconciledUnsyncedData:t=>{if(!(0,t.getAction)().route)return e;const s=((e,t={})=>tn()(Kn("preparer",e,t).filter(e=>Boolean(e.hash)),"hash"))(e,t);return Zn(s,t)},getUnsyncedDataToSync:(e,t)=>((e,t,s)=>Kn("syncSelector",e,t,s))(e.getReconciledUnsyncedData(),e,t)}}},launchError:{reducer:Cs,selector:(e={})=>({getLaunchErrorType:()=>e.type})},composeSessions:{reducer:We,selector:(e={})=>{const t={doesComposeSessionExist:t=>!!e[t],getComposeFieldToFocus:t=>(e[t]||{}).composeFieldToFocus,doComposeFromRouteQueryParams:t=>e[t].doComposeFromRouteQueryParams,doComposeFromMailToLink:t=>Boolean(e[t].mailToLink),getMailToLink:t=>e[t].mailToLink,getStationeryTheme:t=>e[t].stationeryTheme,getUndoStack:t=>e[t].composeUndoStack,getRedoStack:t=>e[t].composeRedoStack,getUiState:t=>e[t].composeUiState,wasAutotagDropdownClosed:t=>e[t].isAutotagDisabled,wasRelatedContactsClosed:t=>e[t].isRelatedContactsDismissed,getReplyingToMessageId:e=>{const s=t.getInReplyAllToMessageId,a=t.getInForwardToMessageId;return(0,t.getInReplyToMessageId)(e)||s(e)||a(e)},getAttachmentProgress:t=>e[t].attachmentProgress,findReplyForwardCsidsOfMessage:s=>Object.keys(e).filter(e=>t.getReplyingToMessageId(e)===s),findDraftMessageCsid:s=>Object.keys(e).find(e=>t.getDraftMessageId(e)===s),getDraftMessageId:t=>(Object(P.a)(e[t],"getDraftMessageId csid does not exist",{csid:t}),e[t].draftMessageId),getForwardCreativeId:t=>e[t].forwardCreativeId,getForwardAttachmentIds:t=>e[t].forwardAttachmentIds,getInReplyToMessageId:t=>e[t].inReplyToMessageId,getInReplyAllToMessageId:t=>e[t].inReplyAllToMessageId,getInForwardToMessageId:t=>e[t].inForwardToMessageId,isReplyMessage:t=>Boolean(e[t].inReplyToMessageId),isReplyAllMessage:t=>Boolean(e[t].inReplyAllToMessageId),isForwardMessage:t=>Boolean(e[t].inForwardToMessageId),isSendRequested:t=>e[t].sendStatus===Ge.g.SENDING,isSendFailed:t=>e[t].sendStatus===Ge.g.SEND_FAILED,isSent:t=>(Object(P.a)(e[t],"isSent csid does not exist",{csid:t||"undefined"}),e[t].sendStatus===Ge.g.SENT),getLastSaveTimeStamp:t=>e[t].lastSaveTimeStamp,isQuotedTextExpanded:t=>Boolean(e[t].isQuotedTextExpanded),getFatalErrorCount:t=>e[t].fatalErrorCount,isComposeSessionDirty:({csid:t,lastEditedTimeStamp:s})=>Boolean(s)&&(!e[t]||!e[t].lastSaveTimeStamp||e[t].lastSaveTimeStamp!==s),getLastOpenTimeStamp:t=>e[t].lastOpenTimeStamp,getLastAutotagQuery:t=>e[t].lastAutotagQuery,getSelectedReplySuggestion:t=>e[t].selectedReplySuggestion,getComposeParams:t=>e[t].composeParams,getComposeHeaderFocus:t=>e[t].composeHeaderInputFocus};return t}},attachments:{reducer:Oe,selector:(e={})=>({doesAttachmentExistById:t=>!!e[t],getAttachmentById:t=>e[t],getContentIdByAttachmentId:t=>e[t].contentId,getConversationIdByAttachmentId:t=>e[t].conversationId,getAttachmentExtentionByAttachmentId:t=>{const s=(e[t]&&e[t].filename||"").split(".");return Array.isArray(s)&&s.length>=2?s.pop():"unknown"},getMimetypeByAttachmentId:t=>`${e[t].type}/${e[t].subtype}`,getAttachmentTypeByAttachmentId:t=>e[t].type,getAttachmentSubtypeByAttachmentId:t=>e[t].subtype,getSizeByAttachmentId:t=>e[t].size,isInlineAttachmentById:t=>e[t].disposition===be.INLINE,isNonInlineAttachmentById:t=>e[t].disposition!==be.INLINE,getConversationId:t=>e[t].conversationId,getTimeStamp:t=>e[t].creationDate,getMessageReferenceByContentId:t=>{const s=Object(R.g)(e).find(e=>e.contentId===t);if(s&&s.id){const e=s.partId;return{id:s.id.split(":").slice(0,-1).join(":"),pid:e}}},getDownloadUrlByContentId:t=>{const s=Object(R.g)(e).find(e=>e.contentId===t);return s?s.downloadUrl:null},getByContentId:t=>Object(R.g)(e).find(e=>e.contentId===t),hasError:t=>{const s=Object(R.g)(e).find(e=>e.contentId===t);return!(!s||s.id)},isUploaded:t=>{const s=Object(R.g)(e).find(e=>e.contentId===t);return!(!s||!s.id)},getThumbnailUrl:t=>{const s=Object(R.g)(e).find(e=>e.contentId===t);return Object(x.l)(s.thumbnailUrl,150)},getDocumentIdByAttachmentId:t=>e[t].documentId,getAttachmentIdByDocumentId:t=>{const s=Object(R.g)(e).find(e=>e.documentId===t);return s?s.id:null}})},lists:{reducer:vs,selector:(e={})=>{const t={doesListExist:s=>Boolean(e[s]&&t.getListStatus(s)!==E.bd.DOES_NOT_EXIST),getListIdsByContentType:t=>Object.keys(e).filter(e=>Object(H.t)(e)===t),getItemIdsSelectors:t=>((e=[])=>({doesItemIdExist:t=>!!e.find(e=>e===t),getItemIdByIndex:t=>e[t],getItemIdIndex:t=>e.indexOf(t),getItemIds:()=>e}))(e[t]?e[t].itemIds:[]),__getListIds__:()=>Object.keys(e),getListNextItemsUrl:t=>e[t].nextItemsUrl,getListOffset:t=>e[t].offset,hasMoreItems:t=>e[t].hasMoreItems,getListStatus:t=>e[t].status,getLmv3Query:t=>e[t].lmv3Query,getSuggestedWords:t=>e[t].suggestedWords,getTotalHits:t=>e[t].totalHits,doesListItemExist:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).doesItemIdExist(s),getListItemIdIndex:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).getItemIdIndex(s),getItemIdByIndex:(e,s)=>t.getItemIdsSelectors(e).getItemIdByIndex(s),getItemIds:e=>t.getItemIdsSelectors(e).getItemIds(),getPreviousListItemId:(e,s)=>{const a=t.getListItemIdIndex(e,s)-1;if(!(a<0))return t.getItemIdByIndex(e,a)},getImportantContactIds:()=>{const s=Object(H.q)("");return t.doesListExist(s)?e[s].itemIds:[]},getImportantContactEmailsByContextEmail:s=>{const a=Object(H.q)(s);return t.doesListExist(a)?e[a].itemIds:[]},getNextListItemId:(e,s)=>{const a=t.getListItemIdIndex(e,s)+1;if(!(a>t.getItemIds(e).length))return t.getItemIdByIndex(e,a)},isListEmpty:e=>t.getListStatus(e)===E.bd.LOADED&&0===t.getItemIds(e).length,isListExpanded:t=>!!e[t]&&e[t].expanded};return t}},streams:{reducer:Za,selector:(e={})=>({doesStreamExist:t=>!!e[t],getSelectedItemsSelectors:t=>((e={})=>({getSelectedItems:()=>Object.keys(e).reduce((t,s)=>t.concat(Object.keys(e[s]).map(e=>({id:e,listId:s}))),[]),isItemSelected:t=>e[t.listId]&&e[t.listId][t.id],hasSelectedItems:()=>{let t,s;for(s in e)if(wa.call(e,s))for(t in e[s])if(wa.call(e[s],t))return!0;return!1}}))(e[t].selectedItems),getCursorSelectors:t=>((e={})=>({getCursor:()=>e,getCursorItem:()=>e.streamItem}))(e[t].cursor),getSelectionType:t=>((e=E.xd.NONE)=>({getSelectionType:()=>e}))(e[t].selectionType).getSelectionType(),getExpansionStateForStreamItem:t=>e[t.streamId].expansionState[Va(t)]})},documents:{reducer:ht,selector:e=>({getState:t=>e[t]?e[t].status:E.bd.DOES_NOT_EXIST,getDocument:t=>e[t],getError:t=>{const s=!!e[t].retryCount&&Object(R.g)(e[t].retryCount).some(e=>e>E.eb),a=e[t].error;return a&&a.isRetryable?c()({},a,{isRetryable:!s&&a.isRetryable}):a},getNumberOfPages:t=>e[t].numPages,getRetryCount:(t,s,a)=>e[t]?e[t].retryCount[mt(s,a)]:0,isDocumentLoaded:t=>!(!e[t]||e[t].status!==E.bd.LOADED),isPageLoaded:(t,s)=>!(!e[t].pages[s]||e[t].pages[s].status!==E.bd.LOADED)})},subjectsAndSnippets:{reducer:Ya,selector:e=>({getSubject:(t,s)=>{const a=Object(H.z)(s);return e.subjects[t][a]||e.subjects[t][H.a]},getSnippet:(t,s)=>{const a=Object(H.z)(s);return e.snippets[t][a]||e.snippets[t][H.a]}})},folders:{reducer:as,selector:(e={})=>{const t=t=>!!e[t].types.find(e=>E.Xd.hasOwnProperty(e)),s=t=>(Object(P.a)(e[t],"getPrimaryFolderTypeByFolderId folderId does not exist",{folderId:t||"undefined"}),(e[t].types||[]).find(e=>E.Tc.hasOwnProperty(e))),a={doesFolderIdExist:t=>!!e[t],getFolderIdsByName:t=>Object.keys(e).reduce((s,a)=>e[a].name===t?s.concat(a):s,[]),getFolderIds:()=>Object.keys(e),getFolderName:t=>e[t].name,getFolderNameLocalizer:t=>{const a=s(t),n=e[t].name;return e=>Object(G.n)(e,a)||n},shouldUpdateFolders:t=>{const s=Object.keys(Object(G.f)(t));return Object.keys(e).length!==s.length||s.some(e=>!a.doesFolderIdExist(e))},getFolderTotal:t=>e[t].total,getFolderHighestModSeq:t=>e[t].highestModSeq,getFolderLevelByFolderId:t=>e[t].level,getFolderUnreadCount:t=>e[t].unread,getFolderTypes:t=>e[t].types,getFolderUidNext:t=>e[t].uidNext,getFolderPath:t=>e[t].path,isPermDeleteFolderType:e=>{const t=s(e);return-1!==[E.Cb.TRASH,E.Cb.DRAFT,E.Cb.BULK].indexOf(t)},getFolderIdsByNameAndAccountId:(t,s)=>Object.keys(e).reduce((a,n)=>e[n].name===t&&e[n].accountId===s?a.concat(n):a,[]),getFolderDisplayTypeByFolderId:t=>{const a=e[t].types,n=s(t);return n===E.Cb.ARCHIVE&&a.indexOf(E.Cb.EXTERNAL_ALL)>-1?E.Ab.ALL_MAIL:n},getPrimaryFolderTypeByFolderId:s,isSystemFolder:t,isSpamFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===E.Cb.BULK,getAccountIdByFolderId:t=>(Object(P.a)(e[t],"getAccountIdByFolderId folderId does not exist",{folderId:t||"undefined"}),e[t].accountId),getFolderIdsFromFolderType:(t,s)=>Object.keys(e).reduce((a,n)=>-1!==e[n].types.indexOf(t)&&e[n].accountId===s?a.concat(n):a,[]),getAllInboxes:()=>Object.keys(e).reduce((t,s)=>-1!==e[s].types.indexOf(E.Cb.INBOX)?t.concat(s):t,[]).map(t=>e[t]),getFolderIdsByAccountId:t=>Object.keys(e).filter(function(s){return e[s].accountId===t}),isDraftFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===E.Cb.DRAFT,isSentFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===E.Cb.SENT,isTrashFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===E.Cb.TRASH,getParentFolderId:t=>{const s=e[t].path,a=e[t].name,n=e[t].accountId,r=Object.keys(e).find(t=>e[t].accountId===n&&e[t].path+"/"+a===s);return r||""},getSystemFolderListWithSmartView:n=>Object.keys(e).filter(s=>e[s].accountId===n&&t(s)).map(e=>({id:e,type:s(e),kind:"folder",name:a.getFolderName(e),level:0})).concat(Object.keys(G.c).map(e=>({id:e,type:e,kind:"smartview",name:e,level:0}))).sort((e,t)=>G.a[e.type]-G.a[t.type]),getCustomFolderIds:t=>Object.keys(e).map(t=>e[t]).filter(e=>e.accountId===t&&e.types.indexOf(E.Cb.USER)>=0&&e.types.indexOf(E.Cb.INVISIBLE)<0).sort(ts.d).map(e=>e.id),getUserCardFolderIds:t=>{let s;for(s in e){const a=e[s];if(a.accountId===t&&a.types.indexOf(E.Cb.USER)>=0&&a.types.indexOf(E.Cb.CARD)>=0&&a.types.indexOf(E.Cb.INVISIBLE)>=0)return s}return-1},getSystemFolderList:n=>Object.keys(e).filter(s=>e[s].accountId===n&&t(s)).map(e=>({id:e,type:s(e),kind:"folder",name:a.getFolderName(e),level:0})).sort((e,t)=>G.a[e.type]-G.a[t.type]),getCustomFolderList:t=>Object.keys(e).map(t=>e[t]).filter(e=>e.accountId===t&&(e.types.indexOf(E.Cb.USER)>=0||a.hasChildren(e.id))&&-1===e.types.indexOf(E.Cb.INVISIBLE)).sort(ts.d).map(e=>({id:e.id,type:s(e.id),kind:"folder",name:e.name,level:e.level})),hasChildren:t=>{const s=e[t].path+"/",a=e[t].accountId;let n=!1;return Object.keys(e).some(t=>{const r=e[t].accountId;0===e[t].path.indexOf(s)&&a===r&&(n=!0)}),n},getSubfolders:e=>{const t=a.getFolderPath(e)+"/",s=a.getAccountIdByFolderId(e);return a.getFolderIdsByAccountId(s).filter(s=>0===a.getFolderPath(s).indexOf(t)&&s!==e).map(e=>({id:e,name:a.getFolderPath(e)}))},getMessageGroupFolderType:e=>a.isTrashFolder(e)?E.oc.TRASH:a.isSpamFolder(e)?E.oc.BULK:E.oc.DEFAULT,__get__:t=>e[t],__getFolderIds__:()=>Object.keys(e)};return c()({},a)}},savedSearches:{reducer:Oa,selector:(e={})=>({doesSavedSearchIdExist:t=>!!e[t],getSavedSearchesByQuery:t=>Object.keys(e).reduce((s,a)=>e[a].query===t?s.concat(e[a]):s,[]),getTotalNumberOfSavedSearches:()=>Object.keys(e).length})},mailboxes:{reducer:Hs,selector:(e={})=>{const t={getAllMailboxes:()=>e.allMailboxes,getSelectedMailboxId:()=>e.id,getAccountsSelectors:()=>((e={})=>{const t=Object.keys(e),s={getAccountById:t=>e[t],getPrimaryAccount:()=>t.map(t=>e[t]).find(({isPrimary:e})=>!!e),getPrimaryAccountType:()=>(s.getPrimaryAccount()||{}).type,getPrimaryAccountId:()=>t.find(t=>e[t].isPrimary),isPrimaryAccountDisabled:()=>s.getPrimaryAccount().status===E.h.DISABLED,userHasRegisteredAccount:()=>{const s=t.find(t=>{const s=e[t],a=s.type;return s.isPrimary&&s.status===E.h.DISABLED&&(a===E.i.EXTERNAL||a===E.i.PHONE)}),a=t.find(t=>{const s=e[t],a=s.status;return ks.h({type:s.type})&&(a===E.h.ENABLED||a===E.h.PENDING)});return!s||!!a},getAllAccounts:({includeDisabled:s=!1}={})=>t.map(t=>e[t]).filter(({status:e})=>s||e!==E.h.DISABLED).sort(ks.j),getSelectedAccountId:()=>t.find(t=>e[t].isSelected),getSendingAccountId:()=>t.find(t=>e[t].isSending),hasIMAPinAccounts:()=>t.filter(t=>ks.h(e[t])).length>0,isMyEmailAddress:t=>Object(R.g)(e).some(e=>e.email===t),getRootAccounts:()=>t.map(t=>e[t]).filter(e=>E.ad.indexOf(e.type)>-1),hasMultipleRootAccounts:()=>s.getRootAccounts().length>1,getSendAccountsByAccountId:e=>{const t=s.getAccountById(e);if(!t.isPrimary)return[t];const a=s.getAllAccounts().filter(e=>-1===E.ad.indexOf(e.type)||e.type===E.i.BIZMAIL&&!e.isPrimary);return[t].concat(a)},isSignatureActive:t=>Boolean(e[t].signatureActive),getSignatureByAccountId:t=>e[t].signatureActive?e[t].signature:"",isPrimaryAccountEmail:e=>{const t=s.getAccountIdByAccountEmail(e);return E.ad.indexOf(s.getAccountTypeByAccountId(t))>-1},getSignatureByAccountEmail:e=>s.isPrimaryAccountEmail(e)?s.getSignatureByAccountId(s.getAccountIdByAccountEmail(e)):s.getSignatureByAccountId(s.getSelectedAccountId()),getAccountDescriptionByAccountId:e=>s.getAccountById(e).description,getAccountTypeByAccountId:e=>s.getAccountById(e).type,getAccountEmailByAccountId:e=>s.getAccountById(e).email,getAccountNameByAccountId:e=>s.getAccountById(e).sendingName,getAccountProvider:t=>ks.d(e[t]),isSelectedAccountId:e=>s.getAccountById(e).isSelected,getMyAddresses:()=>Object.keys(e).map(t=>e[t].email),hasAccountWithEmail:t=>Object(R.g)(e).some(e=>e.type!==E.i.POPIN&&e.email===t),getAccountIdByAccountEmail:t=>Object(R.g)(e).find(e=>e.email===t).id,getAliasAccounts:()=>Object.keys(e).map(t=>e[t]).filter(e=>e.type===E.i.ALIAS),getAccountIds:()=>Object.keys(e),doesSelectedAccountExist:()=>Boolean(s.getSelectedAccountId()),getProviderFromAccount:t=>ks.d(e[t]),getAccountsWithMailboxes:()=>Object.keys(e).filter(t=>e[t].isPrimary||ks.h(e[t])),getAvailableAccounts:()=>s.getAccountsWithMailboxes().filter(e=>s.getAccountById(e).status!==E.h.DELETE_IN_PROGRESS),getImapInAccounts:()=>Object.keys(e).filter(t=>ks.h(e[t])),getAccountSubscriptionIds:()=>Object.keys(e).map(t=>e[t]).map(e=>e.subscriptionId),getFolderPrefixByAccountId:t=>e[t].folderPrefix||"",getMailboxAccounts:()=>s.getAllAccounts().filter(e=>ks.h(e)||e.isPrimary)};return s})(e.accounts),getAliasSuggestions:ws(e.aliasSuggestion).getSuggestions,getAliasSuggestionStatus:ws(e.aliasSuggestion).getStatus,getSocialAccountsStatus:()=>e.socialAccountsStatus,getDeaBaseName:()=>e.deaBaseName,getBaseNameSuggestions:()=>e.baseNameSuggestions,getRecentlyAddedAccount:()=>e.recentlyAddedAccount?e.accounts[e.recentlyAddedAccount]:null,isAccountExpired:s=>{const a=t.getAccountsSelectors().getAccountById(s);return!(!a||!Object(ks.h)(a)||!e.accountAlerts.find(e=>e.accountId===s&&-1!==[Gs,js].indexOf(e.state)&&1===e.type))},getAlertIdByAccountId:t=>(e.accountAlerts.find(e=>e.accountId===t)||{}).id,getExpiredAccounts:()=>t.getAccountsSelectors().getAllAccounts().filter(e=>t.isAccountExpired(e.id)),getMailboxSize:()=>e.mailboxSize};return t}},ads:{reducer:Ae,selector:e=>t=>({getAdRotationId:()=>e.adRotationId,getGeminiAds:t=>e.geminiAds[t],hasAnyGeminiAd:()=>Object.keys(e.geminiAds).length,getGeminiAdData:e=>Q(0,t,e),getGeminiAdDataInArray:e=>$(0,t,e),hasGeminiError:()=>!!Object.keys(e.geminiError).find(t=>e.geminiError[t]),getGeminiError:t=>e.geminiError[t],getNativeAdData:e=>Q(0,t,e).nativeAd,getPencilAdData:s=>((e,t,s="")=>{const a=t.getRoute,n=t.isFeatureEnabled,r=(0,t.getSetting)(E.zd.GEMINI_SECTION_IDS),i=a(),o=Object(H.w)(i),c=Q(0,t,s).pencilAd,d=e.searchAds[o];return s===r[E.Db.MESSAGE_LIST_2]?i.name===E.gd.SEARCH?d&&d[1]&&n(E.ub.SECOND_SEARCH_AD)?d[1].pencilAd:Se.pencilAd:c:d&&d[0]?d[0].pencilAd:c})(e,t,s),getAdFeedbackStatus:()=>e.adFeedback,getFeedbackStartedSectionIds:()=>Object.keys(e.adFeedback).filter(t=>e.adFeedback[t]===oe),getAdFeedbackBeacon:e=>Object(R.a)(Q(0,t,e),"pencilAd.adFeedbackBeacon"),getMessageReadAdRotationTimestamp:()=>e.messageReadAdRotation.timestamp,getMessageReadAdRotationTimestampV2:()=>e.messageReadAdRotation.timestampV2,getMessageReadAdRotationActive:()=>e.messageReadAdRotation.active,getDarlaAdData:()=>e.darla,getGeminiCategories:()=>e.geminiCategories,doesSponsoredAdExist:t=>!!e.sponsoredAds[t],getSponsoredAd:t=>e.sponsoredAds[t],getSearchAdData:t=>e.searchAds[t]?e.searchAds[t].pencilAd:null,getPlaAdData:t=>t?Object(R.a)(e,`searchPlaAds.${t}`,[]):[],getRelatedSearches:()=>e.relatedSearches,getGeminiAdDataFromCreativeId:s=>{let a;return Object.keys(e.geminiAds).find(e=>(a=Q(0,t,e)).creativeId===s)?a:null},isAdBlocked:()=>e.isAdBlocked,getNativeAdFormType:e=>{const s=Object(R.a)(Q(0,t,e),"nativeAd.embeddedLandingUrls",{});return(Object(R.g)(s).find(e=>"fsubmit"===e.label)||{}).type||null},getCachedGeminiAds:e=>X(0,t,e),getSponsoredMomentData:()=>((e,t)=>{const s=J(0,t);return s?s.pencilAd:null})(0,t),getVideoSponsoredMomentData:()=>((e,t)=>{if(!t.isFeatureEnabled(E.ub.VIDEO_SPONSORED_MOMENT))return null;const s=J(0,t);return s?s.videoAd:null})(0,t),isSponsoredMomentClosed:()=>e.isSponsoredMomentClosed,getShoppingCartAd:()=>((e,t)=>{const s=t.isFeatureEnabled,a=t.hasMatchingDomainInMessageGroup,n=(0,t.getSetting)(E.zd.GEMINI_SECTION_IDS)[E.Db.SHOPPING_CART],r=$(0,t,n),i=Object(R.a)(r,"0.pencilAd.domain");return s(E.ub.SHOPPING_CART_AD)&&!s(E.ub.LASTPASS_UPSELL)&&!s(E.ub.YFINANCE_UPSELL)&&r.length&&a({[i]:!0})?r:[]})(0,t),getGeminiAdTimestamp:e=>((e,t,s)=>(X(0,t,s)[0]||{}).timestamp||Se.timestamp)(0,t,e),getFanAdRenderState:()=>e.fanAdRenderState,getFanAdRenderTimeStamp:()=>e.fanAdRenderTimeStamp,getCheckMailAdRotationIdleTimestamp:()=>e.checkMailAdRotationIdleTimestamp,getDisplayPencilAdV3:()=>e.displayPencilAdV3,getRightRailCollapsed:()=>e.rrCollapseOnShoppingCartAd===E.cd.COLLAPSED,isABPDetected:()=>e.isABPDetected})},people:{reducer:ma,selector:(e={})=>({getContactByXobniId:t=>e[t],doesPeopleContactExistByXobniId:t=>e[t],getRelationshipHistoryByXobniId:t=>e[t].relationshipHistory})},printItems:{reducer:pa,selector:(e={})=>({getItemToPrint:()=>{const t=Object.keys(e).filter(t=>!e[t].isPrinted)[0];return t?e[t]:{}}})},messageBodies:{reducer:qs,selector:(e={})=>({get:t=>e[t].body,getState:t=>e[t]?e[t].status:E.bd.DOES_NOT_EXIST,doesMessageBodyExist:t=>!!e[t]&&-1===[E.bd.DOES_NOT_EXIST,E.bd.ERROR].indexOf(e[t].status),hasFullBody:t=>e[t]&&e[t].hasFullBody,hasError:t=>e[t]&&e[t].status===E.bd.ERROR,hasInlineImage:t=>{const s=e[t];if(!s)return!1;const a=s.body,n=a.html,r=void 0===n?"":n,i=a.htmlAnnotations;return(void 0===i?[]:i).some(({type:e})=>"blocked"===e)||Bs.test(r)},hasAnchorLinks:t=>{const s=e[t];if(!s)return!1;const a=s.body.html;return Vs.test(void 0===a?"":a)},isSecureMessage:t=>{const s=e[t];if(!s)return!1;const a=s.body.htmlAnnotations,n=s.isSecure;return s.hasFullBody?(void 0===a?[]:a).some(({type:e})=>"blocked"===e):n},getMessageBodiesCount:()=>Object.keys(e).length,getRetryCount:t=>e[t]?e[t].retryCount:0})},messageGroups:{reducer:Qs,selector:$s},cardGroups:{reducer:Le,selector:(e={})=>t=>({doesCardGroupIdExist:t=>!!e[t],getMessageIdsFromCardGroupId:t=>e[t],getMostRecentEmailId:s=>{const a=(0,t.getMessagesSelectors)(),n=a.getDecos,r=a.getTimeStamp,i=e[s].filter(e=>n(e).some(e=>e.id===E.nc.EML));return i.length>1&&i.sort((e,t)=>r(t)-r(e)),i[0]}})},cardMessageToSchemas:{reducer:Pe,selector:(e={})=>({getSchemas:t=>e[t]})},flights:{reducer:es,selector:(e={})=>({getFlightCard:t=>e[t],getCardDate:t=>Date.parse(e[t].departureTime),isEligibleCardForFilter:(t,s,a)=>{const n=Date.parse(e[t].departureTime);switch(s){case E.Qb.TRAVEL_VIEW_UPCOMING:return n>=a;case E.Qb.TRAVEL_VIEW_PAST:return n<a}return!0}})},coupons:{reducer:ct,selector:dt},groceries:{reducer:Ca,selector:fa},affiliateCoupons:{reducer:dr,selector:(e={})=>({getTotalNumberOfTOMs:()=>Object.keys(e).length,getCouponInfo:t=>e[t]||null})},shopRunnerRetailers:{reducer:La,selector:(e={})=>({getTotalNumberOfRetailers:()=>Object.keys(e).length,getRetailerFromSubdomain:(t="")=>{const s=t.toLowerCase(),a=Object.keys(e).find(t=>!(!e[t].promotionDomain||!(e[t].promotionDomain===s||e[t].promotionDomain.split(",").indexOf(s)>-1))||!(!e[t].receiptsDomain||!(e[t].receiptsDomain===s||e[t].receiptsDomain.split(",").indexOf(s)>-1)));return e[a]},getTopNPersonalizedStores:(t,s)=>Object.keys(e).map(t=>e[t]).filter(e=>e.name!==s&&"number"==typeof e.affinityScore).sort((e,t)=>t.affinityScore-e.affinityScore).map(e=>e.name).slice(0,t)})},offers:{reducer:ca,selector:(e={})=>({doesOfferExist:t=>!!e[t],getOffer:t=>e[t],isOfferActivated:t=>e[t]&&e[t].activated,getOffers:t=>t.map(t=>e[t])})},activatedOffers:{reducer:Z,selector:(e={})=>({getActivatedOffer:t=>e[t]||{},doesOfferExistInActivatedStore:t=>!!e[t]})},categoryFollowing:{reducer:xe,selector:(e={})=>({isCategoryFollowed:t=>e.categories&&e.categories[t]&&e.categories[t].following,isCategoryLastError:t=>e.categories&&e.categories[t]&&e.categories[t].error,isProfileLoadedSuccessfully:()=>e.icprofile})},needToKnowNews:{reducer:ir,selector:(e={})=>({getHomePageUrl:()=>e.homepageUrl||"",getCoverImageUrl:()=>e.coverImage||"",getNewsArticles:()=>e.articles||[]})},halloweenBanner:{reducer:hr,selector:function(e={}){return{getCardsByType:t=>e.halloweenCards[t],getCardShowCounterValue:()=>e.cardShowCounter}}},receipts:{reducer:function(e={},t){const s=t.listData,a=void 0===s?{}:s;switch(t.type){case v.ph:case v.Mg:case v.Lg:case v.Ug:case v.oi:case v.Vf:{if(!a.schemaCards)return e;const t=Object.keys(a.schemaCards).filter(t=>a.schemaCards[t].type===E.qd.Order&&!p()(e[t],ha(a,t))).reduce((e,t)=>c()({},e,{[t]:ha(a,t)}),{});return Object.keys(t).length?c()({},e,t):e}default:return e}},selector:(e={})=>({getReceipt:t=>e[t],getPrice:t=>e[t].price,getPotentialSavings:t=>e[t].potentialSavings,getFirstItemName:t=>e[t].orderedItems.length?e[t].orderedItems[0].name:0,getOrderDate:t=>e[t].orderDate,getNumItems:t=>e[t].orderedItems.length,getCurrency:t=>e[t].currency||"",getSellerName:t=>e[t].sellerName,getTotalPotentialSaving:(t=0)=>Object.keys(e).filter(s=>t<=Date.parse(e[s].orderDate)).map(t=>Math.floor(100*e[t].potentialSavings)).reduce((e,t)=>e+t,0)/100,getNumPurchases:(t=0)=>Object.keys(e).filter(s=>t<=Date.parse(e[s].orderDate)).length,getTotalSpentWithEligibleSaving:(t=0)=>Object.keys(e).filter(s=>0!==e[s].potentialSavings&&t<=Date.parse(e[s].orderDate)).map(t=>Math.floor(100*e[t].price)).reduce((e,t)=>e+t,0)/100})},contentProviders:{reducer:it,selector:(e={})=>({doesContentProviderExist:t=>void 0!==e[t],isContentProviderConnected:t=>e[t].isConnected,getContentProvidersStatus:()=>Object.keys(e).reduce((t,s)=>(t[s]={status:e[s].isConnected?E.Md.CONNECTED:E.Md.NOT_CONNECTED},t),{})})},router:{reducer:Ta,selector:(e={})=>({getRoutesConfig:()=>e.routesConfig,getRoute:()=>e.route,getHashParams:()=>e.hashParams,getRouteUIContext:()=>e.uiContext,getMrdParams:()=>e.mrdParams})},pages:{reducer:ua,selector:(e=[])=>({doesPageExist:t=>-1!==e.findIndex(e=>Object(V.D)(e,t)),getPages:()=>e,getFolderPageRoute:()=>e.find(e=>e.name===E.gd.FOLDER),getSettingsPageRoute:()=>e.find(e=>e.name===E.gd.SETTINGS)})},history:{reducer:os,selector:cs},unSubscribeList:{reducer:Ja,selector:(e={})=>({getUnSubscribeList:()=>e,getUnSubscribeListItem:t=>e[t]})},messages:{reducer:sa,selector:aa},messagesFlags:{reducer:zs,selector:(e={})=>({getFlags:t=>e[t]})},messagesFolderId:{reducer:Ks,selector:(e={})=>({getFolderId:t=>e[t],doesMessageIdHasFolderId:t=>!!e[t]})},videoPlayers:{reducer:Yn,selector:e=>({getCurrentChannel:()=>e.currentChannel,getShowVideoPlayer:()=>e.showVideoPlayer,getChannelMetaData:()=>e.channelData,getIsPaused:()=>e.isPaused})},addressBook:{reducer:Y,selector:e=>({getContacts:()=>e.contacts,getContactBlackList:()=>e.contactBlackList,getContactName:t=>e.contacts[t].name,doesContactIdExist:t=>Boolean(e.contacts&&e.contacts[t]),getContactById:t=>e.contacts[t]})},messageToAttachments:{reducer:na,selector:ia},businessListings:{reducer:Ne,selector:(e={})=>({getBusinessListing:(t,s,a=Date.now())=>e[t]?c()({},e[t],{hoursToday:e[t].hours[Object(U.h)({timezone:s,time:a}).weekday]||""}):{},doesValidListingExist:(t,s=Date.now())=>{const a=e[t];return!!(a&&a.lastUpdated&&a.lastUpdated+18e5>s)}})},features:{reducer:Yt,selector:(e={})=>t=>{const s=t.getEnvironmentSelectors,a=(a,r)=>{if(s().getIsInternalIP()&&Object(Et.b)()&&window.__DEBUG_MAIL__&&window.__DEBUG_MAIL__[a])return window.__DEBUG_MAIL__[a];switch(a){case E.ub.MESSAGE_READ_CONTACT_CARD:return Ft(e[a],t);case E.ub.PLA_SEARCH_ADS:return((e,t)=>{const s=(0,t.getRoute)(),a=Object(H.w)(s),n=s.name===E.gd.SEARCH,r=n&&!!Object(H.m)(a);return e&&n&&Pt(!0,t)&&!r&&!Object(H.O)(a)&&Object(H.t)(a)===E.Pb.MESSAGES})(e[a],t);case E.ub.HIPMUNK_CARD:case E.ub.BOOKING_CARD:case E.ub.SEATGEEK_CARD:return Ht(e[a],t);case E.ub.WIDE_RIGHT_RAIL:return((e,t)=>{const s=t.getEnvironmentSelectors,a=(0,t.getQueryParams)(),n=s().getIsInternalIP(),r=Vt.start,i=Vt.end,o=e[E.ub.WIDE_RIGHT_RAIL],c=Date.now();return n&&a.wideRightRail?"true"===a.wideRightRail:!!(o&&r&&i)&&r<=c&&c<i})(e,t);case E.ub.NUKE_DISPLAY_ADS_ON_INACTIVE:return((e,t)=>e[E.ub.NUKE_DISPLAY_ADS_ON_INACTIVE]&&!(0,t.isAppVisible)())(e,t);case E.ub.HIDE_RIGHT_RAIL:return((e,t)=>{const s=t.isFeatureEnabled,a=t.getSetting,n=(0,t.getAdsSelectors)().getRightRailCollapsed(),r=a(E.zd.PREVIEW_PANE)!==E.Rc.NO;return e||s(E.ub.IS_WIDER_MAIL_EXTN_ENABLED)||!r&&n})(e.hideRightPaneAds,t);case E.ub.RIGHT_RAIL_CONTACT_CARD:case E.ub.RIGHT_RAIL_PHOTO_CARD:case E.ub.RIGHT_RAIL_DOCS_CARD:case E.ub.RIGHT_RAIL_MESSAGES_CARD:return((e,t,s)=>{const a=t.isFeatureEnabled,n=(0,t.getRoute)(),r=Object(H.w)(n),i=Object(H.t)(r),o=n.name===E.gd.SEARCH,c=a(E.ub.COUPONS_SMART_VIEW_SEARCH)&&[E.Pb.COUPON_CARDS,E.Pb.OFFER_CARDS].includes(i),d=o&&!!Object(H.m)(r)&&!c;if(!Pt(!0,t,!0))return!1;switch(s){case E.ub.RIGHT_RAIL_CONTACT_CARD:return d;case E.ub.RIGHT_RAIL_PHOTO_CARD:return i!==E.Pb.IMAGES&&d;case E.ub.RIGHT_RAIL_DOCS_CARD:return i!==E.Pb.DOCUMENTS&&d;case E.ub.RIGHT_RAIL_MESSAGES_CARD:return i!==E.Pb.MESSAGES&&d;default:return!1}})(0,t,a);case E.ub.MSG_READ_SHOPRUNNER_CARD:case E.ub.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD:return void 0!==e[a]?!!e[a]:e[a];case E.ub.COUPON_CLIPPER_CUE:return(void 0!==e[a]?!!e[a]:e[a])&&t.isMessageRoute();case E.ub.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return e[a]&&!e[E.ub.IS_WIDER_MAIL_EXTN_ENABLED]&&(e[E.ub.MAIL_PRO_ELIGIBLE]||e[E.ub.WIDER_MAIL_ELIGIBLE]||e[E.ub.RIGHT_RAIL_UPSELL_VIDEO_AD]);case E.ub.MAIL_READER_V3:return Mt(t);case E.ub.SHOPPING_CART_AD:return((e,t)=>{const s=t.hasMatchingDomainInMessageGroup,a=t.getCurrentListId,n=t.getGroupId,r=t.getMessagesSelectors,i=t.getRelevantMessageIdFromMessageGroupId,o=(0,t.isFeatureEnabled)(E.ub.APAC_SHOPPING_CART_AD)?E.f:E.Ed,c=r().getDecos,d=n(),l=i(d,a());if(!d||!l)return!1;const u=(c(l)||[]).some(({id:e})=>e===E.hb[E.Kd.PEOPLE]);return e&&s(o)&&!u})(e[a],t);case E.ub.HOTELS_CARD_PREFILL:return Bt(e[a],t);case E.ub.RELATED_SEARCHES_CARD:return((e,t)=>{const s=t.getAdsSelectors,a=t.getParticipantInFocus,n=(0,t.getFeaturesSelectors)().isEnabled,r=Ft(e,t),i=n(E.ub.HIPMUNK_CARD)||n(E.ub.BOOKING_CARD)||n(E.ub.SEATGEEK_CARD);if(!r||i)return!1;const o=(0,s().getRelatedSearches)(),c=(a()||{}).email;return!!Object(kt.a)(o,c)||!Object.keys(o).length})(e[a],t);case E.ub.RIGHT_RAIL_NATIVE_AD:return((e,t)=>{const s=t.getRouteName;return Pt(e,t,!0)&&s()===E.gd.SPONSORED_MESSAGE})(e[a],t);case E.ub.SUBSCRIPTION_ADS:return Ft(e[a],t)&&t.hasMatchingDomainInMessageGroup(E.Qd);case E.ub.PLA_ADS_AVAILABLE:return(e=>{const t=(0,e.getPlaAdsSelectors)().getPlaAdsData();return t&&t.length>0})(t);case E.ub.SMARTVIEW_CATEGORIES_ENABLED:return e[E.ub.SMARTVIEW_CATEGORIES_ALL]||e[E.ub.SMARTVIEW_CATEGORIES_PEOPLE]||e[E.ub.SMARTVIEW_CATEGORIES_PEOPLE_V2]||e[E.ub.SMARTVIEW_CATEGORIES_SHOPPING];case E.ub.SHOW_TABS:return e[E.zd.MAIL_TABS];case E.zd.MAIL_TABS:return e[a]||t.hasFailedComposeSend();case E.zd.HAS_GUIDED_STAR_ANIMATION:return Nt(t);case E.zd.SNIPPETS:return e[a];case E.zd.PREVIEW_PANE:return wt(e[a],t);case E.zd.MESSAGE_DESTINATION_LABEL_TYPE:return yt(e,t);case E.zd.LIST_ITEM_HEIGHT:return Rt(e,t,r);case E.zd.THEME_MODE:return Gt(e,t)?bt.h.LIGHT:e[a];case E.zd.THEME:return Gt(e,t)?bt.i.DEFAULT:e[a];case E.zd.NOTIFICATION_MODE:return((e,t)=>{const s=t.isFeatureEnabled,a=s(E.ub.PUSH_NOTIFICATIONS),n=s("browserNotifications");return a&&Object(Lt.e)()?E.Cc.PUSH:n?E.Cc.BROWSER:null})(0,t);case E.zd.SYSTEM_TABS:return Ut(e[a],t);case E.zd.NOTIFICATION:return vt(t);case E.zd.COUPON_CARDS_FETCH_COUNT:return((e,t)=>{const s=t.getRoute,a=t.isFeatureEnabled,n=t.getSmartViewTypeFromRoute,r=t.getSetting,i=(0,t.getCouponsSelectors)().getCoupons,o=s(),c=a(E.ub.COUPONS_SMART_VIEW_SEARCH)&&[E.Kd.COUPONS,E.Kd.GROCERIES,E.Kd.GROCERIESV2].includes(n(o)),d=a(E.ub.AD_BLOCK_COUPONS)&&r(E.zd.AD_BLOCK_COUPONS_SORT_ORDER)!==E.k.RECOMMENDED;return(c||d)&&Object.keys(i()).length<100?100:e})(e[a],t);case E.zd.PENCIL_AD_VERSION:return t.getRouteName()!==E.gd.SEARCH&&e[a];case E.zd.PREFERRED_AD_FORMAT:return(e=>{let t=N.UNSET;for(const s in M)M[s]===e&&(t=s);return t})(e[a]);case E.ub.RETAILER_FILTER:return((e,t)=>{const s=t.getCurrentListId,a=(0,t.getSmartViewTypeFromRoute)((0,t.getRoute)())===E.Kd.COUPONS,n=Object(H.t)(s())===E.Pb.COUPON_CARDS;return e&&a&&n})(e[a],t);case E.ub.MAIL_PRO_LINK_IN_SETTINGS_MENU:return(e=>{if(!e||!Object(Et.b)()||!window.AppBootstrapData)return!1;const t=(window.AppBootstrapData.mailboxAttributes["web.clientVersionHistory"]||{}).value,s=(void 0===t?"":t).split("|").filter(e=>!!e),a=Date.now();if(1===s.length)return!0;const r=s.reduce((e,t="")=>{const s=t.split(","),r=n()(s,2);if("6"===r[0]){let t=1e3*parseInt(r[1],10);return t>a&&(t/=1e3),Math.max(e,t)}return e},0);return 0!==r&&a-r>60*E.dc})(e[a]);case E.ub.WIDER_MAIL_PROMO:return((e,t)=>{if(!e||!Object(Et.b)())return!1;const s=t.isFeatureEnabled,a=s(E.ub.MAIL_PRO),n=s(E.ub.HIDE_RIGHT_RAIL),r=s(E.ub.IS_WIDER_MAIL_EXTN_ENABLED);return!a&&!n&&!r})(e[a],t);case E.zd.ACTION_AFTER_MSG_MOVE:return Wt(e,t);case E.ub.INLINE_IMAGES_PROXIED:return((e,t)=>{const s=t.getSetting;if((0,t.isMobileRoute)())return e;const a=s(E.zd.SCOUT_ONBOARDING)||[],n=Object(qt.d)(a);return e&&n})(e[a],t);case E.ub.YFINANCE_UPSELL:case E.ub.LASTPASS_UPSELL:case E.ub.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:return((e,t,s)=>{const a=t.doesMessageGroupIdExist,n=t.getMessagesSelectors,r=t.getMessageSubject,i=t.getGroupId,o=t.getMessageIdsFromMessageGroupId,c=t.getMessageListItems,d=(0,t.getRoute)(),l=Object(H.w)(d),u=n(),_=u.doesMessageIdExist,m=u.getFromAddresses,p=i(),h=a(p)&&o(p)[0],g=_(h)&&m(h)[0],I=h&&r(h,l),S=I&&zt.every(e=>I.toLowerCase().indexOf(e)>-1),C=g&&g.email&&E.Kb.hasOwnProperty(g.email.toLowerCase());switch(s){case E.ub.LASTPASS_UPSELL:return e&&S;case E.ub.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:{const t=c(l).some(e=>{const t=a(e.id)&&o(e.id)[0];if(!t)return!1;const s=r(t,l);return s&&zt.every(e=>s.toLowerCase().indexOf(e)>-1)});return e&&t}case E.ub.YFINANCE_UPSELL:return e&&C;default:return!1}})(e[a],t,a);case E.ub.LASTPASS_FREETRIAL_UPSELL:return e[a]&&e[E.ub.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE];case E.ub.BREAKING_NEWS_ENABLED:return((e,t)=>{const s=t.isFeatureEnabled,a=t.getSetting,n=t.isFolderRoute,r=t.getBreakingNewsSelectors,i=t.getCurrentListId,o=t.isNarrowScreen,c=t.getGroupId,d=(0,t.getRoute)(),l=r().getIsBreakingNewsDismissed(),u=a(E.zd.BREAKING_NEWS_SETTINGS),_=a(E.zd.BREAKING_NEWS_VERSION),m=e&&u&&!l,p=i(),h=d.name===E.gd.SEARCH&&(Object(H.P)(d)||!Object(H.O)(p)),g=n(),I=o()&&!s(E.ub.WIDE_RIGHT_RAIL),S=!!c();switch(_){case E.B.VERSION_1:return m&&g;case E.B.VERSION_2:case E.B.VERSION_3:return m&&(g||h);case E.B.VERSION_4:return m&&!I&&(g||h)&&!S;case E.B.VERSION_5:return e&&u&&!I&&(g||h||S);default:return!1}})(e[E.ub.BREAKING_NEWS],t);case E.ub.ABP_STATIC_ADS:return e[a]&&t.getAdsSelectors().isABPDetected();case E.ub.PENCIL_AD:case E.ub.SECOND_PENCIL_AD:case E.ub.SECOND_SEARCH_AD:case E.ub.ROTATE_ADS_ONLINE:case E.ub.ROTATE_ADS_ON_CHECK_MAIL:case E.ub.ADBLOCK_UPSELL_CUE:case E.ub.ADBLOCK_UPSELL:case E.ub.AD_BLOCK_COUPONS:return e[a]&&!t.isFeatureEnabled(E.ub.ABP_STATIC_ADS);default:return e[a]}};return{isEnabled:t=>{const s=a(t),n=e.route,r=(void 0===n?{}:n).name;return Object(Ot.b)(e,t,r),void 0!==s?!!s:s},getSetting:(t,s)=>{const n=e.route,r=(void 0===n?{}:n).name;return Object(Ot.a)(e,t,r),a(t,s)},getDefaultSetting:t=>{const s=e.route,a=(void 0===s?{}:s).name;return Object(Ot.a)(e,t,a),e[t]}}}},featureCues:{reducer:$t,selector:e=>({isShown:t=>e[t]&&e[t].isShown,shownFeatures:()=>Object.keys(e||{}).filter(t=>e[t].isShown),isPersistent:t=>e[t]&&e[t].isPersistent,isUdbOnly:t=>e[t]&&e[t].isUdbOnly,isKeySaved:t=>e[t]&&e[t].isKeySaved,getSubkey:t=>e[t]&&e[t].subkey,getUserResponse:t=>e[t]&&e[t].userResponse})},gifItems:{reducer:is,selector:(e={})=>({getGifItems:()=>e})},gifCategories:{reducer:rs,selector:(e={})=>({isGifCategoryQuery:t=>e.categories.hasOwnProperty(t),getGifCategoryTopItemsStatus:t=>e.categories[t].status,getGifCategoryTopItemsUrl:t=>e.categories[t].category.topItemsUrl,getGifCategoriesList:()=>e.categoryIds.map(t=>e.categories[t].category),isCategoryListLoaded:()=>e.categoriesStatus===E.bd.LOADED})},contacts:{reducer:rt,selector:e=>({doesContactExist:({id:t})=>!!e.byId[t],getContactById:t=>e.byId[t],getContactIdByEmail:t=>e.idByEmail[t],getContactByEmail:t=>{const s=e.idByEmail[t];return s?e.byId[s]:null},getCurrentFilter:()=>e.selectedPaneFilter,getCurrentPaneView:()=>e.contactsPaneView,getCurrentPaneListId:()=>Object(H.j)(e.selectedPaneFilter,e.selectedUserGroup[e.selectedPaneFilter]||""),isEditable:t=>{const s=e.byId[t]||{},a=s.isEditable;return!!s.editToken&&void 0!==a&&a},isDeletable:t=>{const s=e.byId[t]||{};return!!s.editToken&&s.isInUserContactList},getAllGroupsData:()=>e.groupsById||{},getSelectedGroup:t=>e.selectedUserGroup[t],getGroupName:t=>((e.groupsById||{})[t]||{name:""}).name,getAllGroupNames:()=>Object.keys(e.groupsById).reduce((t,s)=>c()({},t,{[e.groupsById[s].name.toLowerCase()]:++t[e.groupsById[s].name.toLowerCase()]||1}),{}),isUserAddedContact:t=>!!e.byId[t]&&e.byId[t].isInUserContactList})},socialAccounts:{reducer:va,selector:e=>({showAuthWindow:()=>!!e.authWindow.provider,getAuthWindowData:()=>e.authWindow})},downloads:{reducer:gt,selector:e=>({getDownloads:()=>e})},online:{reducer:da,selector:e=>({isOnline:()=>e})},searchSuggestions:{reducer:Ma,selector:function(e={}){return{getSuggestions:t=>e[t]}}},searchInput:{reducer:Ra,selector:Na},calendar:{reducer:De,selector:(e={})=>({getInviteUid:t=>e[t]&&e[t].uid,getInviteStatus:t=>e[t]&&e[t].status,getInviteInfo:t=>e[t]})},environment:{reducer:ft,selector:(e={})=>({getAppName:()=>e.appName,getIsInternalIP:()=>e.isInternalIP,isAMT:()=>e.isAMT,isAppVisible:()=>e.applicationVisibility,getApplicationLastVisibleTimeStamp:()=>e.applicationLastVisibleTimeStamp,getBuildRefreshStatus:()=>e.buildRefreshStatus,getIsXobnified:()=>e.isXobnified,getTimeZoneName:()=>e.timeZoneName,getBrowser:()=>e.browser||{},getGeoLocation:()=>e.geoLocation,getPageDirection:()=>e.pageDirection,getTimezoneUpdatingStatus:()=>e.timezoneUpdating,getWindowDimensions:()=>e.windowDimensions||{},getLoggerParams:()=>e.loggerParams,getUserSegmentData:()=>e.userSegmentData,getInactiveSinceDate:()=>(function(e={}){const t=Object(R.g)(e).filter(e=>e.segment_inactivesince&&St.test(e.segment_inactivesince));return t.length?Object(R.g)(t).map(e=>e.segment_inactivesince.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")).reduce((e,t)=>new Date(e)-new Date(t)<0?t:e):It})(e.userSegmentData)})},composeSuggestions:{reducer:qe,selector:function(e={}){return{getSuggestions:t=>(e.composeSuggestionsFromImportantContacts[t]||[]).concat(e.composeSuggestions[t]||[]).reduce((e,t)=>e.map[t.email]?(e.map[t.email].filteredResults=t.filteredResults,e):(e.result=[...e.result,t],e.map[t.email]=t,e),{map:{},result:[]}).result}}},locationSuggestions:{reducer:Ps,selector:(e={})=>({getLocationSuggestionsMap:()=>e.locationSuggestions,getLocationSuggestions:t=>e.locationSuggestions[t]||[],getLocationSuggestionStatus:t=>e.locationFetchStatus[t]||E.bd.DOES_NOT_EXIST})},subscription:{reducer:$a,selector:(e={})=>({getSubscriptionStatus:()=>c()({},e.subscriptionStatus),getSubscriptions:t=>Xa.b.map(s=>{if(-1!==Object.keys(Qa).indexOf(s.provider))return Qa[s.provider](e,s,t)})})},settings:{reducer:Da,selector:(e={})=>({getSettingsApiCallStatus:()=>e.settingsApiCallStatus,getBlockedSendersApiCallStatus:()=>e.blockedSendersApiCallStatus,getFiltersAndBlockedSendersApiCallStatus:()=>e.filtersAndBlockedSendersApiCallStatus})},importantContacts:{reducer:Ss,selector:function(e={}){return{getImportantContacts:()=>e}}},recentSearches:{reducer:Ia,selector:function(e={}){return{getRecentSearches:()=>e}}},breakingNews:{reducer:Jn,selector:function(e={}){return{getNewsArticle:()=>e.newsArticle,getIsBreakingNewsDismissed:()=>e.isDismissed,getNewsRefreshTimestamp:()=>e.newsRefreshTimestamp}}},pendingUpdate:{reducer:_a,selector:(e={})=>({getPendingUpdate:()=>e})},designClassifier:{reducer:ut,selector:(e={})=>({isDetailPaneExpanded:()=>e.isDetailPaneExpanded})},composeAttributesStatus:{reducer:Ue,selector:(e={})=>({getComposeAttributesStatus:()=>e.composeAttributesStatus})},deals:{reducer:lt,selector:e=>({getTopRetailers:()=>e.topRetailers,getTopDealCategories:()=>e.topDealCategories})},linkEnhancer:{reducer:fs,selector:(e={})=>({getEnhancedLinks:()=>e})},addFilter:{reducer:Xn,selector:(e={})=>({getAddFilter:()=>e})},replySuggestions:{reducer:Qn,selector:(e={})=>({getSuggestionsBySnippet:t=>e[t]})},adListItems:{reducer:tr,selector:(e={})=>({getAdItems:()=>Object.keys(e),getSelectedPencilAds:()=>Object.keys(e).filter(t=>e[t].isSelected),hasSelectedPencilAds:()=>{let t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].isSelected)return!0;return!1},isAdSelected:t=>!!e[t]&&e[t].isSelected,isAdMarkedAsRead:t=>!!e[t]&&e[t].isRead,isAdDeleted:t=>!!e[t]&&e[t].isDeleted,isAdMarkedForSkipRotation:t=>!!e[t]&&e[t].rotateAd<2})},cloudStorageAccounts:{reducer:nr,selector:(e={})=>({getCloudStorageItems:()=>e.cloudStorageItems,getShareableLink:()=>e.shareableLink})},membershipRewards:{reducer:$n,selector:(e={})=>({getAtosStatus:()=>Object(R.a)(e,"atosInfo.atosStatus",""),getAtosInfo:()=>e.atosInfo,getRewardsAction:t=>e.rewardsActions[t]||{},getRewardsActionsTimestamp:t=>e.rewardsActionsTimestamp[t],getLastCompletedChallenges:t=>e.lastCompletedChallenges[t]||{},getChallengeDefns:t=>e.mailChallenges[t]||{},getChallengeProgress:t=>e.mailChallengesProgress[t]||{},getSuperAppChallenges:()=>e.superAppChallenges,getPointsBalance:()=>e.pointsBalance,getRedeemItems:()=>e.redeemItems,isImapInCompleted:()=>Object(R.a)(e,`mailChallengesProgress.${E.ge.IMAPIN}.repeatedTimes`)>0,getSelectedTab:()=>e.selectedTab})}},Mr=(e=>Object(h.combineReducers)(Object.keys(e).reduce((t,s)=>c()({},t,{[s]:e[s].reducer}),{})))(Nr);t.a=Mr;const Dr=(e=>Object.keys(e).reduce((t,s)=>c()({},t,{[s]:Object(g.createSelector)(e=>e[s],t=>e[s].selector(t))}),{}))(Nr),yr=((e={})=>{return(t,s,a,n)=>r=>{const i=s(),o=((t,s)=>e[t]?e[t]:(e[t]=Object(g.createSelector)(s,()=>({})),e[t]))(t,a)(r);return o[i]?o[i]:(o[i]=n(...a.map(e=>e(r))),o[i])}})({}),Lr=e=>{let t=S;return e<f?t=I:e>=A&&(t=C),t},vr=(e,t)=>e>t?E.Jc.LANDSCAPE:E.Jc.PORTRAIT,Pr=Object(g.createSelector)(e=>e,e=>{const t=Dr,s={getDesignClassifierDimensions:()=>{const e=s.getEnvironmentSelectors().getWindowDimensions(),t=e.clientWidth,a=e.clientHeight,n=s.getRouterSelectors().getRoute(),r=n&&n.name,i=s.isFeatureEnabled(E.ub.DESIGN_CLASSIFIER)?((e,t)=>t<T?1:e<f?1:2)(t,a):1;return{clientWidth:t,clientHeight:a,orientation:vr(t,a),columns:i,messageListWidth:i>1&&!gr.includes(r)?Lr(t):I,sidebarWidth:i>1||r===E.gd.SUBSCRIPTION_LIST?Lr(t):I,isDetailPaneExpanded:s.isDetailPaneExpanded()}},shouldShowTwoColumnInRoute:()=>{const e=s.getRoute(),t=e&&e.name;return!t||!gr.includes(t)},isDetailPaneExpanded:()=>t.designClassifier(e).isDetailPaneExpanded(),getOrientation:()=>s.getDesignClassifierDimensions().orientation,getPrescribedNumberOfColumns:()=>s.getDesignClassifierDimensions().columns,getPrescribedMessageListWidth:()=>s.getDesignClassifierDimensions().messageListWidth,getPrescribedSidebarWidth:()=>s.getDesignClassifierDimensions().sidebarWidth,getAction:()=>t.action(e),getActionTimeStamp:()=>s.getAction().actionTimestamp,isWindowResizingDone:()=>s.getAction().type===v.Rl,getFeaturesSelectors:()=>t.features(e)(s),isFeatureEnabled:e=>yr("isFeatureEnabled",()=>e,[e=>e],()=>s.getFeaturesSelectors().isEnabled(e))(s),getSetting:e=>yr("getSetting",()=>e,[e=>e],()=>s.getFeaturesSelectors().getSetting(e))(s),getDefaultSetting:e=>s.getFeaturesSelectors().getDefaultSetting(e),getBusinessListingSelectors:()=>t.businessListings(e),getBusinessListingForUserTimezone:(e,t=Date.now())=>{const a=s.getTimeZoneName;return(0,(0,s.getBusinessListingSelectors)().getBusinessListing)(e,a(),t)},getAdsSelectors:()=>t.ads(e)(s),getPrintItemsSelectors:()=>t.printItems(e),getAddFilterSelectors:()=>t.addFilter(e),getReplySuggestionSelectors:()=>t.replySuggestions(e),getItemToPrint:()=>s.getPrintItemsSelectors().getItemToPrint(),getUnsyncedDataSelectors:()=>t.unsyncedData(e),getReconciledUnsyncedData:()=>yr("getReconciledUnsyncedData",()=>"RECONCILE_UNSYNCED_DATA_CACHE",[e=>e],()=>s.getUnsyncedDataSelectors().getReconciledUnsyncedData(s))(s),getUnsyncedDataToSync:(e=Date.now())=>s.getUnsyncedDataSelectors().getUnsyncedDataToSync(s,e),getReconciledUnysncedDataByHash:e=>{return s.getReconciledUnsyncedData().find(t=>t.hash===e)},getRequestHashForUnsyncedDataItem:e=>`${e.type}-${e.hash}`,getUnsyncedDataToSyncByRequestHash:(e,t)=>{const a=s.getRequestHashForUnsyncedDataItem;return(0,s.getUnsyncedDataToSync)(t).find(t=>a(t)===e)},getOnlineSelectors:()=>t.online(e),isOnline:()=>s.getOnlineSelectors().isOnline(),getContentProviders:()=>t.contentProviders(e),getPeopleSelectors:()=>t.people(e),doesPeopleContactExistByXobniId:e=>s.getPeopleSelectors().doesPeopleContactExistByXobniId(e),getPeopleContactByXobniId:e=>s.getPeopleSelectors().getContactByXobniId(e),getRelationshipHistoryByXobniId:e=>s.getPeopleSelectors().getRelationshipHistoryByXobniId(e),getListsSelectors:()=>t.lists(e),doesListExist:e=>s.getListsSelectors().doesListExist(e),doesListHasMoreItems:e=>s.getListsSelectors().hasMoreItems(e),getListStatus:e=>s.getListsSelectors().getListStatus(e),doesListItemExist:(e,t)=>s.getListsSelectors().doesListItemExist(e,t),getListItemIdIndex:(e,t)=>s.getListsSelectors().getListItemIdIndex(e,t),shouldFetchMoreItems:(e,t)=>{const a=s.getFeaturesSelectors,n=s.getListItemIds,r=s.doesListHasMoreItems,i=(0,s.getListsSelectors)(),o=i.getListItemIdIndex,c=i.doesListExist,d=a().getSetting("messageScrollLoadThreshold"),l=o(e,t),u=c(e)?n(e):[];return c(e)&&r(e)&&u.length-l<=d},getPreviousListItemId:(e,t)=>s.getListsSelectors().getPreviousListItemId(e,t),getNextListItemId:(e,t)=>s.getListsSelectors().getNextListItemId(e,t),isListEmpty:e=>s.getListsSelectors().isListEmpty(e),isListStale:e=>s.getReconciledUnsyncedData().some(t=>t.type===E.re.LIST_TO_UPDATE&&t.userInputtedValues.listId===e&&t.userInputtedValues.isStale),getListLmv3Query:e=>s.getListsSelectors().getLmv3Query(e),getListSuggestedWords:e=>s.getListsSelectors().getSuggestedWords(e),getAllItemsCountForListId:e=>{const t=s.doesListExist,a=s.getListLmv3Query,n=s.doesFolderIdExist,r=s.getFolderTotal,i=(0,s.getListsSelectors)().getTotalHits,o=Object(H.o)(e);return t(e)&&a(e)?i(e):o&&n(o)&&r(o)||null},getStreamsSelectors:()=>t.streams(e),getFoldersSelectors:()=>t.folders(e),getSavedSearchesSelectors:()=>t.savedSearches(e),getMessageGroupsSelectors:()=>t.messageGroups(e),getCardGroupsSelectors:()=>t.cardGroups(e)(s),getCardMessageToSchemasSelectors:()=>t.cardMessageToSchemas(e),getFlightsSelectors:()=>t.flights(e),getItemIdsSelectors:e=>s.getListsSelectors().getItemIdsSelectors(e),getListItemIds:e=>s.getItemIdsSelectors(e).getItemIds(),getPeopleListItems:e=>s.getListItemIds(e).map(s.getPeopleContactByXobniId),getMessageTimestamp:e=>s.getMessagesSelectors().getTimeStamp(e),getMessageListItems:e=>{const t=s.getSetting,a=Object(H.t)(e),n=t(E.zd.LIST_ITEM_HEIGHT,{contentType:a});return yr("getMessageListItems",()=>`${e}-${n}`,[e=>e.getListsSelectors(),e=>e.getMessagesSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageGroupsSelectors()],()=>{const t=s.getMessageIdsFromMessageGroupId,r=s.getFoldersSelectors,i=s.getMessagesSelectors,o=s.getListsSelectors,c=s.getMessageFolderId,d=(0,s.getCardGroupsSelectors)().getMessageIdsFromCardGroupId,l=r().getPrimaryFolderTypeByFolderId,u=i().getTimeStamp,_=(0,o().getItemIdsSelectors)(e).getItemIds,m=Object(H.o)(e);return _().reduce((s,r)=>{const i=a===E.Pb.TRAVEL_CARDS?d(r):t(r,e),o=[],_=[];i.forEach(e=>{l(c(e))!==E.Cb.DRAFT?o.push(e):_.push(e)});let p=m&&l(m)===E.Cb.DRAFT?_:o;0===p.length&&(p=i);const h=p[p.length-1],g=0===o.length?i[0]:o[0],I=[...p].reverse().find(e=>c(e)===m)||h;return void 0===I?s:[...s,{id:r,listId:e,firstMessageId:g,relevantMessageId:I,recentMessageId:h,listItemHeight:n,timestamp:1e3*u(I)}]},[])})(s)},getSystemFolderListWithSmartView:e=>yr("getSystemFolderListWithSmartView",()=>e,[e=>e.getFoldersSelectors()],t=>t.getSystemFolderListWithSmartView(e))(s),getCustomFolderList:e=>yr("getCustomFolderList",()=>e,[e=>e.getFoldersSelectors()],t=>t.getCustomFolderList(e))(s),getAttachmentListItems:e=>{const t=s.getAttachmentsSelectors,a=s.getListsSelectors,n=s.isFeatureEnabled,r=s.getMessageIdForAttachmentId,i=(0,s.getFeaturesSelectors)().getSetting,o=t(),c=o.getTimeStamp,d=o.getAttachmentById,l=(0,a().getItemIdsSelectors)(e).getItemIds,u=Object(H.t)(e),_=i(E.zd.LIST_ITEM_HEIGHT,{contentType:u}),m=n(E.ub.CONVERSATIONS);return l().map(t=>{const s=d(t),a=r(t);let n=!0;return(u===E.Pb.IMAGES&&s.isExternal||u===E.Pb.DOCUMENTS&&!Object(x.m)(s))&&(n=!1),{id:t,listId:e,listItemHeight:_,timestamp:c(t),messageId:a,messageGroupId:m?s.conversationId:a,previewable:n,downloadUrl:s.downloadUrl}})},getMessageListItemsSinceTimestamp:(e,t)=>Object(H.t)(e)!==E.Pb.MESSAGES?[]:s.getMessageListItems(e).filter(e=>e.timestamp>=t),getRefundSelectors:()=>({getRefundCardsForCardConversationId:e=>{const t=s.getCardMessageToSchemasSelectors,a=s.getReceiptSelectors,n=(0,(0,s.getCardGroupsSelectors)().getMessageIdsFromCardGroupId)(e)||[],r=t().getSchemas;return n.map(e=>{const t=(r(e)||[]).filter(({type:e})=>e===E.qd.Order);return t.length?{cmid:e,price:a().getPrice(t[0].id),potentialSavings:a().getPotentialSavings(t[0].id),itemName:a().getFirstItemName(t[0].id),orderDate:a().getOrderDate(t[0].id),currency:a().getCurrency(t[0].id)}:{}})}}),getReceiptSelectors:()=>t.receipts(e),getPlaAdsSelectors:()=>({getPlaAdsData:()=>{const e=s.isFeatureEnabled,t=s.getAdsSelectors,a=(0,s.getRoute)(),n=Object(H.w)(a);return e(E.ub.PLA_SEARCH_ADS)&&t().getPlaAdData(n)||[]}}),getMembershipRewardsSelectors:()=>t.membershipRewards(e),getCardConversationIdByMessageId:e=>s.getMessagesSelectors().getCardConversationId(e),getRetailersSelectors:()=>c()({getOfferCategoryCounts:e=>{const t=s.getItemIdsSelectors,a=s.getOffersSelectors,n=(0,s.getRetailersSelectors)().getCategoriesFromRetailerId,r=a().getOffers,i=n(e),o=r((0,t(Object(H.W)("{}",{name:e,listContentType:E.Pb.OFFER_CARDS,listFilter:E.Qb.RECOMMENDED_OFFER_CARDS,referrer:"groceries"})).getItemIds)()),c={};return i.forEach(e=>c[e.name]=Object.keys(o).filter(t=>o[t].categories.includes(e.name)).length),c},getRetailerStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds();return(0,s.getRetailersSelectors().getRetailersFromRetailerIds)(t)}},t.groceries(e)),getShopRunnerRetailersSelectors:()=>t.shopRunnerRetailers(e),getAffiliateCouponsSelectors:()=>t.affiliateCoupons(e),getHalloweenBannerSelectors:()=>t.halloweenBanner(e),getOffersSelectors:()=>c()({getOfferItemFromOfferId:e=>{const t=s.getOffersSelectors(),a=t.getOffer;if((0,t.doesOfferExist)(e)){const t=a(e),s=t.amountUnit,n=t.brandName,r=t.description,i=t.discountType,o=t.cardId,c=t.imageUrl,d=t.value,u=t.categories,_=Math.floor((t.expiryTimestamp-(new Date).getTime())/E.dc);let m="";if(s&&"0"!==d)if(i===E.Xc.AMOUNT){m=`${l()(s)}${d}`}else i===E.Xc.PERCENT?m=`${d}%`:i===E.Xc.GETXFREE&&(m=`Get ${d} free`);return{brandName:n,cardId:o,categories:u,dateDiff:_,description:r,discountType:i,imageUrl:c,offerId:e,offerValue:m}}return{}},getOfferStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds().filter(e=>!!e),a=s.getOffersSelectors().getOfferItemFromOfferId;return t.map(e=>a(e))},getFilteredOffers:(e=[],t="")=>{if(!e.length||""===t)return e;if(t.includes(V.a)&&Object(H.I)(t)){const s=Object(H.i)(t);return e.filter(e=>e.categories.find(e=>e===s))}const s=new RegExp("\\b"+Object(z.a)(t),"i");return e.filter(e=>null!==e.brandName.match(s)||null!==e.description.match(s))}},t.offers(e)),getActivatedOffersSelectors:()=>c()({getActivatedOfferItemFromOfferId:e=>{const t=(0,s.getActivatedOffersSelectors().getActivatedOffer)(e),a=t.amountUnit,n=t.brandName,r=t.description,i=t.discountType,o=t.imageUrl,c=t.value,d=Math.floor((t.expiryTimestamp-(new Date).getTime())/E.dc);let u="";if(a&&"0"!==c)if(i===E.Xc.AMOUNT){u=`${l()(a)}${c}`}else i===E.Xc.PERCENT?u=`${c}%`:i===E.Xc.GETXFREE&&(u=`Get ${c} free`);return{brandName:n,dateDiff:d,description:r,imageUrl:o,offerId:e,offerValue:u,discountType:i}},getActivatedOfferStreamItems:e=>{const t=s.getListsSelectors().getItemIdsSelectors(e).getItemIds(),a=s.getActivatedOffersSelectors().getActivatedOfferItemFromOfferId;return t&&t.map(e=>a(e))}},t.activatedOffers(e)),getCategoryFollowingSelectors:()=>t.categoryFollowing(e),getNeedToKnowNewsSelectors:()=>t.needToKnowNews(e),getRootCouponSelectors:()=>t.coupons(e),getCouponsSelectors:()=>c()({getCouponExpirationTime:(s,a=new Date)=>{const n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())),r=t.coupons(e).getValidThroughDate(s),i=t.coupons(e).isInferredDate(s),o=new Date(r);return o.setUTCHours(23),o.setUTCMinutes(59),o.setUTCSeconds(59),{date:o.getDate(),month:o.getMonth(),dateDiff:Math.floor((o.getTime()-n.getTime())/864e5),timestamp:o.getTime(),isInferred:i}},getCouponCardsForCardConversationId:(a,n=new Date)=>{const r=s.getMessagesSelectors(),i=r.getParentMessageIdForCardConversationId,o=r.getParentConversationIdForCardConversationId,c=s.getCategoryFollowingSelectors,d=(0,s.isFeatureEnabled)(E.ub.CONVERSATIONS)?o:i,l=s.getCardMessageToSchemasSelectors().getSchemas,u=s.getCouponsSelectors().getCouponExpirationTime,_=c().isCategoryFollowed;return(s.getCardGroupsSelectors().getMessageIdsFromCardGroupId(a)||[]).map(s=>{const r=l(s)||[],o=d(a),c=r.filter(({type:e})=>e===E.qd.Coupon);if(1===c.length){const d=r[0].id,l=dt(e.coupons).getFromAddress(d),_=l.name,m=l.email,p=dt(e.coupons).getCouponCategory(c[0].id)||[];return{schemaId:d,parentMessageGroupId:o,parentMessageId:i(a),cmid:s,categories:p,clipped:dt(e.coupons).isClipped(d),unusualDiscount:dt(e.coupons).getUnusualDiscount(d),description:dt(e.coupons).getDescription(d),email:m,domain:_,savedSearchQuery:t.coupons(e).getSavedSearchQuery(d),expirationTime:u(r[0].id,n),dealLink:t.coupons(e).getDealLink(d)}}}).filter(e=>e&&e.expirationTime.dateDiff>=0&&e.email&&e.domain&&e.description).sort((e,t)=>{let s=t.categories.filter(e=>_(e.id)).length-e.categories.filter(e=>_(e.id)).length;return 0===s&&e.unusualDiscount!==t.unusualDiscount&&("Great Savings"===t.unusualDiscount?s=1:"Great Savings"===e.unusualDiscount&&(s=-1)),0===s&&e.clipped!==t.clipped&&(s=t.clipped?1:-1),0===s&&(s=e.expirationTime.timestamp-t.expirationTime.timestamp),s})},getCouponCardStreamItems:e=>yr("getCouponCardStreamItems",()=>e,[e=>e.getRootCouponSelectors(),e=>e.getMessagesSelectors()],()=>{const t=s.isFeatureEnabled,a=s.getMessagesSelectors,n=s.getListsSelectors,r=s.getCardMessageToSchemasSelectors,i=(0,s.getCouponsSelectors)(),o=i.getCouponExpirationTime,c=i.getDealLink,d=i.getDescription,l=i.getFromAddress,u=i.isClipped,_=i.getCardConversationId,m=i.getImageUrl,p=a(),h=p.getParentMessageIdForCardConversationId,g=p.getParentConversationIdForCardConversationId,I=t(E.ub.CONVERSATIONS)?g:h,S=t(E.ub.VIGLINK);return n().getItemIdsSelectors(e).getItemIds().reduce((t,s)=>{const a=r().getSchemas(s).filter(e=>e.type===E.qd.Coupon);if(1===a.length){const n=a[0].id,r=l(n),i=r.name,p=void 0===i?"":i,h=r.email,g=void 0===h?"":h,E=u(n),C=d(n),f=o(n),T=f.dateDiff,A=f.isInferred,b=f.timestamp,O=c(n),R=_(n),N=I(R),M=m(n);T>=0&&t.push({id:n+e+s,timestamp:b,fromEmail:g,fromName:p,clipped:E,description:C,daysUntilExpiry:T,isInferredDate:A,schemaId:n,cardMid:s,cardConversationId:R,listId:e,dealLink:O,viglinkEnabled:S,imageUrl:M,groupId:N})}return t},[])})(s),getNumberOfUnexpiredCoupons:(e,t)=>{const a=s.getMessagesSelectors().getCardConversationId,n=s.getCouponsSelectors().getCouponCardsForCardConversationId;return Object(h.compose)(e=>e.length,e=>n(e,t),a)(e)},isSingleCouponParentMessageId:(e,t=new Date)=>1===s.getCouponsSelectors().getNumberOfUnexpiredCoupons(e,t),getCouponRecommendations:(e="")=>{const t=s.getListsSelectors,a=t().doesListExist,n=Object(H.e)({referrer:E.Rb.COUPON_RECOMMENDATIONS,keyword:e});return a(n)&&(0,t().getItemIdsSelectors)(n).getItemIds()||[]},getTopCoupons:(e="")=>{const t=s.getListsSelectors,a=(0,s.getCouponsSelectors)().getCouponCardFromCardId,n=t().doesListExist,r=Object(H.e)({referrer:E.Rb.TOP_COUPONS});return n(r)?((0,t().getItemIdsSelectors)(r).getItemIds()||[]).map(e=>a(e)).map(t=>c()({},t,{originalLink:t.dealLink,dealLink:Object(w.b)(t.dealLink,e)})):[]},getAdBlockCoupons:()=>{const e=s.getSetting,t=(0,s.getCouponsSelectors)(),a=t.getTopCoupons,n=t.getFromAddress,r=t.getCouponExpirationTime,i=(0,t.getCoupons)(),o=e(E.zd.AD_BLOCK_COUPONS_SORT_ORDER),d=E.l[o],l=a(d);if(o===E.k.RECOMMENDED)return l;const u=Object.keys(i).map(e=>{const t=n(e),s=t.name,a=t.email;return c()({},i[e],{email:a,domain:s,expirationTime:r(e),originalLink:i[e].dealLink,dealLink:Object(w.b)(i[e].dealLink,d)})});if(o===E.k.EXPIRATION)return u.sort((e,t)=>e.expirationTime.dateDiff-t.expirationTime.dateDiff).slice(0,10);if(o===E.k.RANDOM){let e=[];for(let t=0;t<10;t++){const t=Math.floor(Math.random()*u.length);e=e.concat(u.splice(t,1))}return e}return l},getCouponCategoriesForMessageGroup:(t="")=>{const a=s.getGroupId,n=s.doesMessageGroupIdExist,r=s.getCardConversationIdsFromMessageGroupId,i=s.getCardGroupsSelectors,o=s.getCategoryFollowingSelectors,d=(0,s.getCardMessageToSchemasSelectors)().getSchemas,l=i().getMessageIdsFromCardGroupId,u=o().isCategoryFollowed,_=[];let m={};if(""===t&&(t=a()),!t||!n(t))return _;const p=r(t),h=l(p.length&&p[0])||[];if(!h.length)return _;h.forEach(t=>{const s=(d(t)||[]).filter(({type:e})=>e===E.qd.Coupon);let a=[];s.length&&(a=dt(e.coupons).getCouponCategory(s[0].id)),a&&a.length&&(m=a.reduce((e,t)=>c()({},e,{[t.id]:t}),m))});const g=Object(R.g)(m);return g.length>1&&g.sort((e,t)=>(u(t.id)?1:0)-(u(e.id)?1:0)),g},emailHasCoupons:()=>{const e=s.getRoute,t=s.isFeatureEnabled,a=s.__patchV2MessageGroupItemId__,n=s.doesMessageGroupIdExist,r=(0,s.getGroupId)(),i=Object(H.w)(e());if(!r||!n(r,i))return!1;const o=a(r,i);return t(E.ub.COUPON_CARD_EXTRACTIONS)&&o.messages[0].decos.some(e=>e&&"CPN"===e.id)},getCouponCardFromCardId:(a,n)=>{const r=s.getCouponsSelectors,i=(0,s.getCardMessageToSchemasSelectors)().getSchemas,o=r().getCouponExpirationTime,c=i(a)||[];if(1===c.filter(({type:e})=>e===E.qd.Coupon).length){const s=c[0].id,r=dt(e.coupons).getFromAddress(s),i=r.name,d=r.email;return{schemaId:s,cmid:a,clipped:dt(e.coupons).isClipped(s),description:dt(e.coupons).getDescription(s),email:d,domain:i,autoClipEligible:!!t.coupons(e).getSavedSearchQuery(s),expirationTime:o(s,n),dealLink:dt(e.coupons).getDealLink(s),unusualDiscount:dt(e.coupons).getUnusualDiscount(s)}}return{}}},t.coupons(e)),getComposeSessionsSelectors:()=>t.composeSessions(e),getAttachmentsSelectors:()=>t.attachments(e),getMessageToAttachmentsSelectors:()=>t.messageToAttachments(e),getSubjectsAndSnippetsSelectors:()=>t.subjectsAndSnippets(e),getMessagesSelectors:()=>t.messages(e),getMessagesFlagSelectors:()=>t.messagesFlags(e),getMessagesFolderIdSelectors:()=>t.messagesFolderId(e),getMessageBodiesSelectors:()=>t.messageBodies(e),getSearchSuggestionSelectors:()=>t.searchSuggestions(e),getDocumentSelectors:()=>t.documents(e),isDocumentLoaded:e=>s.getDocumentSelectors().isDocumentLoaded(e),isDocumentPageLoaded:(e,t)=>s.getDocumentSelectors().isPageLoaded(e,t),getDocumentRetryCount:(e,t,a)=>s.getDocumentSelectors().getRetryCount(e,t,a),getRouterSelectors:()=>t.router(e),getPagesSelectors:()=>t.pages(e),getSmartViewPages:()=>{const e=s.getSelectedAccountIdByRoute(s.getRoute());return(s.getSetting(E.zd.SYSTEM_TABS)||[]).filter(e=>!!e.status).map(t=>{const a=s.getSmartViewPageByType(t.name);return a?t.name===E.Kd.COUPONS&&a.name===E.gd.SEARCH?a:s.normalizeRoute(Object(V.t)(Object(H.w)(a),{accountIds:e})):s.normalizeRoute(Object(V.w)(t.name,{accountIds:e,excludefolders:s.isFeatureEnabled(E.ub.CONVERSATIONS)?[E.Cb.TRASH,E.Cb.BULK]:[E.Cb.TRASH,E.Cb.BULK,E.Cb.DRAFT,E.Cb.SENT]}))})},getSmartViewTypeFromListId:e=>{const t=Object(H.A)(e);return Object.keys(E.Id).find(e=>E.Id[e]===t)},getSmartViewTypeFromRoute:e=>e.name===E.gd.TUTORIAL?E.Kd.TUTORIAL:s.getSmartViewTypeFromListId(Object(H.w)(e)),getDefaultFolderRoute:()=>{const e=s.getRoute,t=s.normalizeRoute,a=s.getFolderIdsByFolderTypeForAccount,n=s.getSelectedAccountIdByRoute,r=(0,s.getAccountSelectors)(),i=r.getAccountById,o=r.getSelectedAccountId;let c=n(e());c=i(c)?c:o();const d=a(E.Cb.INBOX,c);return t(Object(V.l)(d[0]))},isShoppingSmartViewEnabled:()=>{const e=s.isFeatureEnabled;return e(E.ub.SMARTVIEW_CATEGORIES_SHOPPING)||e(E.ub.SMARTVIEW_CATEGORIES_ALL)},getSmartViewPosition:e=>{return e===E.Kd.COUPONS?(0,s.isShoppingSmartViewEnabled)()?E.Jd.TAB_BAR:E.Jd.SIDE_BAR:E.Ob.indexOf(e)>-1?E.Jd.SIDE_BAR:E.ie.indexOf(e)>-1?E.Jd.TAB_BAR:void 0},getMaxTabCounts:()=>{return(0,s.getSetting)(E.zd.MAIL_TABS)?E.Xb:E.Wb},isDraftGroup:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return t&&t.some(e=>s.doesMessageIdHasFolderId(e)&&s.isDraftMessage(e))},doesGroupHasStaleMessageId:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return t&&t.some(e=>!s.doesMessageIdHasFolderId(e))},getTabPages:()=>yr("getTabPages",()=>"tabs",[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getPagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.isFeatureEnabled(E.ub.SHOW_TABS),e=>e.isFeatureEnabled(E.ub.SMARTVIEW_CATEGORIES_ENABLED),e=>e.getSetting(E.zd.SYSTEM_TABS)],()=>{const e=s.isFeatureEnabled,t=s.getSmartViewPages,a=s.getDefaultFolderRoute,n=s.doesRouteContainFailure,r=s.getSmartViewPosition,o=s.getSmartViewTypeFromRoute,c=s.getSelectedAccountIdByRoute,d=s.getRoute,l=s.normalizeRoute;let u=(0,s.getPages)();const _=e(E.ub.SHOW_TABS),m=e(E.ub.SMARTVIEW_CATEGORIES_ENABLED),p=c(d());if(m){const e=t()||[],s=u.reduce((e,t)=>{const s=Object(H.M)(t)&&!Object(H.P)(t)?o(t):null;return s&&s!==E.Kd.TUTORIAL?r(s)===E.Jd.SIDE_BAR&&e.push(s===E.Kd.COUPONS&&t.name===E.gd.SEARCH?t:l(Object(V.t)(Object(H.w)(t),{accountIds:p}))):e.push(t),e},[]),c=i()(s),d=c[0],_=c.slice(1),m=_.findIndex(e=>Object(H.P)(e));if(m>-1)u=[..._.splice(m,1),...e,...Object(V.C)(_,n)];else{const t=a();u=d?br(d)||Object(H.P)(d)?[d,...e,...Object(V.C)(_,n)]:[t,...e,...Object(V.C)([d,..._],n)]:[t,...e,...Object(V.C)(_,n)]}}return _||(u=u.filter(e=>m&&(br(e)||e.name===E.gd.TUTORIAL||Object(H.M)(e)&&o(e)||Object(H.P)(e))||n(e))),u})(s),getPages:()=>s.getPagesSelectors().getPages().filter(e=>Object(V.D)(s.reconcileRoute(e),e)),doesRouteContainFailure:e=>yr("doesRouteContainFailure",()=>e,[e=>e.getPages(),e=>e.getMessagesSelectors(),e=>e.getComposeSessionsSelectors()],()=>{const t=s.isFeatureEnabled,a=s.getMessageGroupStreamItems,n=s.doesMessageGroupIdExist,r=(0,s.getComposeSessionsSelectors)(),i=r.isSendFailed,o=r.doesComposeSessionExist,c=t(E.ub.CONVERSATIONS)&&Or(e)||Tr(e)||Ar(e),d=e=>e&&o(e)&&i(e);if(c){const t=e.params,s=t.csid,r=t.groupId,i=Object(H.w)(e);return r&&n(r,i)?a({id:r,listId:i}).some(({csid:e})=>d(e)):d(s)}return!1})(s),doesPageExist:e=>s.getPagesSelectors().doesPageExist(e),getSmartViewPageByType:e=>s.getPagesSelectors().getPages().find(t=>Object(H.M)(t)&&s.getSmartViewTypeFromRoute(t)===e),getSettingsPageRoute:()=>s.getPagesSelectors().getSettingsPageRoute(),getFolderPageRoute:()=>s.getPagesSelectors().getFolderPageRoute(),getSortOrderForFolderRoute:()=>{const e=s.getFolderPageRoute();return e?Object(H.F)(Object(H.w)(e)):E.Od.DATE_DESC},getRoutesInfo:()=>Object(V.z)({appName:s.getAppName(),routesConfig:s.getRouterSelectors().getRoutesConfig()}),getPreviousRoute:()=>s.getRouterSelectors().getRoute(),getRoute:()=>s.reconcileRoute(s.getRouterSelectors().getRoute()),isAttPreviewFromCompose:(e,t)=>{if(!t)return!1;const a=s.getMessageCsid,n=s.doesComposeSessionExist,r=s.doesMessageIdExist,i=(0,s.getFoldersSelectors)().getPrimaryFolderTypeByFolderId,o=Object(H.o)(e);if(!o||i(o)!==E.Cb.DRAFT)return!1;const c=Object(B.f)(t);return!(!c||!r(c))&&!!n(a(c))},reconcileRoute:(e,t=!1)=>{if(e){const a=(0,s.getReconciledValidPage)(e,t);return a?a.route:e}return e},getReconciledValidPage:(e,t=!1)=>{const a=s.getReconciledPage;let n,r=a(e,t);for(;r&&Object.keys(r).length&&!p()(n,r);)r=a((n=r).route,t);return n},getReconciledPage:(t,a=!1)=>yr("getReconciledPage",()=>`${t.url}-${a}`,[e=>e],()=>{const r=s.getFolderPageRoute,i=s.getAction,o=s.isValidListMessageGroup,c=s.getRoutesInfo,d=s.getSetting,l=s.isListEmpty,u=s.doesListExist,_=s.doesFolderIdExist,m=s.doesMessageGroupIdExist,p=s.getSelectedAccountIdByRoute,h=s.getFolderIdsByFolderTypeForAccount,g=s.getPrescribedNumberOfColumns,I=s.getSelectedMailboxId,S=s.hasSelectedStreamItems,C=s.doesComposeSessionExist,f=s.isSent,T=s.doesPageExist,A=s.doesStreamExist,b=s.isMessageGroupLoading,O=s.isSpamFolder,R=s.isSendRequested,N=s.getSmartViewPageByType,M=s.getSmartViewTypeFromListId,D=s.isAttPreviewFromCompose,y=s.createPageForRoute,L=s.getFallbackPageForRoute,P=s.getContactListSelectors,F=s.getAccountIdByFolderId,w=s.getAdListItemsSelectors,k=(0,s.getAccountSelectors)(),x=k.getAccountById,U=k.getSelectedAccountId,G=cs(e.history),j=G.getCurrentPage,B=G.getPageAtIndex,W=Object(V.y)(t),z=i(),K=r();if(I()&&(z.type!==v.Lh||!Object(V.D)(z.route,t))){if(z.type===v.Vi&&z.navigateFromToAll){return y(Object(V.A)(c(),Object(V.t)(Object(H.W)(z.listId,{listFilter:E.Qb.ALL})),W),0)}if(z.type===v.Yc||z.type===v.ed){let e;if(t.name===E.gd.EDIT_CONTACT_FROM_SEARCH?e=Object(V.A)(c(),Object(V.i)(Object(H.w)(t),t.params.id),W):t.name===E.gd.EDIT_CONTACT?e=Object(V.A)(c(),Object(V.h)(t.params),W):t.name===E.gd.CREATE_CONTACT&&(e=Object(V.A)(c(),Object(V.j)(t.params),W)),e)return y(e)}if(z.type===v.Rd){let e;if(t.name===E.gd.CONTACT_DETAILS?e=Object(V.A)(c(),Object(V.j)(),W):t.name===E.gd.CONTACT_DETAILS_FROM_SEARCH&&(e=Object(V.A)(c(),Object(V.t)(Object(H.w)(t)),W)),e)return y(e)}if(z.type===v.l&&fr(Object(V.A)(c(),t,W)))return y(Object(V.A)(c(),Object(V.b)(),W));if(!a&&-1!==[v.Ub,v.Tb].indexOf(z.type)&&!T(t)){const e=Object(H.w)(t);if(z.type!==v.Tb&&-1!==[E.gd.MESSAGE_FROM_SEARCH_LIST,E.gd.MESSAGE_FROM_LIST].indexOf(t.name)){if(Object(H.H)(e)){const t=M(e);if(t){const e=N(t);if(e)return y(e)}}return y(Object(V.A)(c(),Object(V.t)(e),W))}let s=Object(H.o)(e);const a=Object(H.F)(e),n=Sr(t).serializedListId;if(!s&&n&&(s=Object(H.o)(Object(H.x)(n))),!s){if(K)return y(K);s=h(E.Cb.INBOX,p(t))[0]}return y(Object(V.A)(c(),Object(V.l)(s,a),W))}switch(t.name){case E.gd.MESSAGE_FROM_LIST:case E.gd.MESSAGE_FROM_SEARCH_LIST:case E.gd.MESSAGE_FROM_FOLDER_LIST:{const e=Object(H.w)(t),s=Object(H.o)(e),a=Sr(t),r=a.groupId,i=a.attachmentId,I=Object(q.a)([e]),C=A(I)&&S(I)||w().hasSelectedPencilAds(),f=2===g();if(i&&"1"===t.query.fullscreen)return;if(C&&f&&fr(t)&&Or(t))return y(Object(V.A)(c(),Object(V.o)(Object(H.w)(t)),W));if(s&&!_(s)){const e=h(E.Cb.INBOX,p(t)),s=n()(e,1)[0];return y(Object(V.A)(c(),Object(V.l)(s),W))}const T=s?F(s):void 0;if(T&&!x(T)){const e=h(E.Cb.INBOX,U()),t=n()(e,1)[0];return y(Object(V.A)(c(),Object(V.l)(t),W))}if(!m(r,e)&&!b(r)||u(e)&&Object(H.t)(e)===E.Pb.MESSAGES&&!o(e,r)&&!D(e,i)){const t=d(E.zd.ACTION_AFTER_MSG_MOVE),a=z.streamItems,n=(void 0===a?[]:a).filter(e=>Object(H.t)(e.listId)===E.Pb.MESSAGES),i=n.findIndex(e=>e.id===r),o=!!s&&O(s);if(t===E.j.GO_BACK_TO_FOLDER||u(e)&&l(e)||o||-1===i)return y(Object(V.A)(c(),Object(V.o)(e),W));let _;switch(parseInt(t,10)){case E.j.SHOW_NEXT_MESSAGE:_=n[i+1]||n[i-1]||void 0;break;case E.j.SHOW_PREVIOUS_MESSAGE:_=n[i-1]||n[i+1]||void 0}return _?y(Object(V.A)(c(),Object(V.q)(e,_.id),W),0):y(Object(V.A)(c(),Object(V.o)(e),W))}break}case E.gd.EDIT_FOLDER:case E.gd.FOLDER:{const e=Object(H.w)(t),s=Object(H.o)(e);if(!_(s)){const e=h(E.Cb.INBOX,p(t)),s=n()(e,1)[0];return y(Object(V.A)(c(),Object(V.l)(s),W))}if(!x(F(s))){const e=h(E.Cb.INBOX,U()),t=n()(e,1)[0];return y(Object(V.A)(c(),Object(V.l)(t),W))}break}case E.gd.EDIT_DRAFT:case E.gd.NEW_DRAFT:{const e=Sr(t),s=e.serializedListId,a=e.csid,n=e.referrerRoute;if(!C(a)||f(a)||R(a)){let e;if(fr(t)){const e=j(),t=e.route,s=e.backIdx,a=void 0===s?-1:s;return-1!==a?B(a):L(t)}if(s&&(e=Object(H.o)(Object(H.x)(s))),!e){if(n&&(n.name===E.gd.MESSAGE_FROM_SEARCH_LIST||n.name===E.gd.SEARCH))return y(Object(V.A)(c(),Object(V.t)(Object(H.w)(n)),W));if(K)return y(K);e=h(E.Cb.INBOX,p(t))[0]}return y(Object(V.A)(c(),Object(V.l)(e),W))}return}case E.gd.CONTACT_DETAILS:case E.gd.EDIT_CONTACT:{const e=!z.unsyncedData||z.unsyncedData.find(e=>e.type===E.re.CONTACTS_LIST);if(!(-1!==[v.Vf,v.bg].indexOf(z.type))&&!e&&!P().doesContactExist(t.params))return y(Object(V.A)(c(),Object(V.j)(t.params),W));break}case E.gd.CONTACT_DETAILS_FROM_SEARCH:case E.gd.EDIT_CONTACT_FROM_SEARCH:{const e=Object(H.w)(t),s=!z.unsyncedData||z.unsyncedData.find(e=>e.type===E.re.CONTACTS_LIST);if(!(-1!==[v.Vf,v.bg].indexOf(z.type))&&!s&&!P().doesContactExist(t.params))return y(Object(V.A)(c(),Object(V.t)(e),W))}}}})(s),getHistoryPageIndex:()=>cs(e.history).getActivePageIndex(),getHistoryStack:()=>cs(e.history).getHistoryStack(),getCurrentPage:()=>{const e=(0,s.getCurrentHistoryState)(),t=e.historyStack;return t.length?t[e.activePageIndex]:{}},getPageAtIndex:e=>{const t=(0,s.getCurrentHistoryState)().historyStack;return t.length&&e<t.length?t[e]:{}},getPreviousPage:()=>{const e=s.getFallbackPageForRoute,t=(0,s.getCurrentHistoryState)(),a=t.historyStack,n=a.length?a[t.activePageIndex]:{},r=n.route,i=n.backIdx,o=void 0===i?-1:i;return-1!==o?a[o]:e(void 0===r?{}:r)},getLastPageWithRoute:(e,t,a)=>{const n=s.getRoutesInfo;if(t<0||t>=e.length)return j.a.error("pageindex_out_of_bounds",{pageIndex:t,historyStack:e,route:a}),{route:Object(V.A)(n(),a,Object(V.y)(a)),backIdx:-1};let r=e&&e.length?e[t].backIdx:-1;for(;r>=0;){const t=e[r];if(Object(V.D)(a,t.route))return t;r=t.backIdx}return{route:Object(V.A)(n(),a,Object(V.y)(a)),backIdx:-1}},createPageForRoute:(e,t=-1,a={})=>{const n=s.getHistoryPageIndex,r=s.getLastPageWithRoute,i=s.getRoutesInfo;let o=a.historyStack,c=void 0===o?[]:o,d=a.activePageIndex,l=void 0===d?-1:d;return(!c.length||l<0)&&(c=(0,s.getHistoryStack)(),l=n()),t<0?r(c,l,e):0===t?{route:Object(V.A)(i(),e,Object(V.y)(e)),backIdx:c.length?c[l].backIdx:-1}:{route:Object(V.A)(i(),e,Object(V.y)(e)),backIdx:l}},getFallbackPageForRoute:e=>{const t=s.getAccountById,a=s.getPrimaryAccountId,n=s.getSelectedAccountIdByRoute,r=s.doesComposeSessionExist,i=s.getDraftMessageId,o=s.getReplyingToMessageId,c=s.getMessageFolderId,d=s.getRoutesInfo,l=s.getFolderIdsByFolderTypeForAccount;let u;switch(e.name){case E.gd.MESSAGE_FROM_SEARCH_LIST:u=Object(V.t)(Object(H.w)(e));break;case E.gd.MESSAGE_FROM_FOLDER_LIST:u=Object(V.m)(Object(H.w)(e));break;case E.gd.NEW_DRAFT:case E.gd.EDIT_DRAFT:{let t=null,s="";const a=e.params&&e.params.csid;if(!a)break;if(r(a)&&(t=i(a)?i(a):o(a)),t&&(s=c(t)),!s)break;u={name:E.gd.FOLDER,params:{fid:s}};break}case E.gd.CONTACT_DETAILS:u=Object(V.j)(e.params);break;case E.gd.CONTACT_DETAILS_FROM_SEARCH:u=Object(V.t)(Object(H.w)(e));break;case E.gd.SPONSORED_MESSAGE:u=Object(V.m)(Object(H.w)(e));break;case E.gd.THEME_CHOOSER:case E.gd.SIGNATURES_FROM_SETTINGS:case E.gd.ACCOUNT_LIST_FROM_SETTINGS:case E.gd.BLOCKED_SENDERS:case E.gd.MESSAGE_PREVIEW:u=Object(V.v)();break;case E.gd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:u=Object(V.b)();break;case E.gd.ADD_ACCOUNT_PROVIDER:u=Object(V.c)()}if(u)return{route:Object(V.A)(d(),u,Object(V.y)(e)),backIdx:-1};const _=n(e),m=t(_)?_:a(),p=l(E.Cb.INBOX,m)[0];return{route:Object(V.A)(d(),Object(V.l)(p),Object(V.y)(e)),backIdx:-1}},getCurrentHistoryState:()=>{const e=s.getHistoryPageIndex,t=s.getAction,a=s.getRouterSelectors,n=s.getReconciledPage,r=s.getReconciledValidPage;let i=(0,s.getHistoryStack)();const o=e(),c=t(),d=c.popstate,l=c.nextPage,u=c.type,_=c.startOverStack,m=a().getRoute();let p=l||n(m);if(p&&Object.keys(p).length){const e=r(p.route);p=e||p}switch(u){case v.Lh:return void 0!==d?p&&Object.keys(p).length?{historyStack:_?[p]:[...i.slice(0,d),p,...i.slice(d+1)],activePageIndex:d}:{historyStack:_?[{route:m,backIdx:-1}]:i,activePageIndex:d}:(o!==i.length-1&&(i=[...i.slice(0,o+1)]),p||(p={route:m,backIdx:o}),{activePageIndex:o+1,historyStack:[...i,p]});case v.bg:case v.Vf:return p||(p={route:m,backIdx:-1}),{activePageIndex:0,historyStack:[p]};default:return p&&Object.keys(p).length?(o!==i.length-1&&(i=[...i.slice(0,o+1)]),{activePageIndex:o+1,historyStack:[...i,p]}):{historyStack:i,activePageIndex:o}}},normalizeRoute:e=>Object(V.A)(s.getRoutesInfo(),e,Object(V.y)(s.getRoute())),getHashParams:()=>s.getRouterSelectors().getHashParams(),getRouteUIContext:()=>s.getRouterSelectors().getRouteUIContext(),getMrdParams:()=>s.getRouterSelectors().getMrdParams(),getRouteName:()=>(e=>e.name)(s.getRoute()),getRouteUrl:()=>Ir(s.getRoute()),getRouteParams:()=>Sr(s.getRoute()),getQueryParams:()=>(e=>e.query||{})(s.getRoute()),isMobileRoute:()=>fr(s.getRoute()),isOriginSearchRoute:()=>Cr(s.getRoute()),isMessageRoute:()=>Or(s.getRoute()),isAttachmentRoute:()=>(e=>e.params&&e.params.attachmentId)(s.getRoute()),isGroceriesOffersRoute:()=>(e=>Object(H.V)(Object(H.w)(e),{listContentType:E.Pb.OFFER_CARDS,listFilter:E.Qb.RECOMMENDED_OFFER_CARDS}))(s.getRoute()),isDraftRoute:()=>Tr(s.getRoute()),isComposeRoute:()=>Ar(s.getRoute()),isFolderRoute:()=>br(s.getRoute()),isValidListMessageGroup:(e,t)=>{const a=s.doesListItemExist,n=s.getMessageFolderId,r=s.getMessageIdsFromMessageGroupId;if(!Object(H.T)(e))return a(e,t);const i=Object(H.o)(e),o=r(t,e);return!(o.length<1)&&(!i||o.some(e=>n(e)===i))},getAccountSelectors:t.mailboxes(e).getAccountsSelectors,getUnSubscribeListSelectors:()=>t.unSubscribeList(e),getVideoPlayerSelectors:()=>t.videoPlayers(e),getContactSelectors:()=>t.addressBook(e),getContactListSelectors:()=>t.contacts(e),getRelatedListIdByContactId:s=>{const a=t.contacts(e).getContactById(s)||{},n=a.name,r=a.emails,i=void 0===r?[]:r;return Object(H.d)({listContentType:E.Pb.PEOPLE,referrer:E.Rb.CONTACT_DETAILS,name:n,emailAddresses:i,contactIds:[s]})},getSocialAccountSelectors:()=>t.socialAccounts(e),getCloudStorageAccountSelectors:()=>t.cloudStorageAccounts(e),doesContactIdExist:e=>s.getContactSelectors().doesContactIdExist(e),getContactById:e=>s.getContactSelectors().getContactById(e),getFeatureCueSelectors:()=>t.featureCues(e),getSubjectAndSnippetSelectors:()=>t.subjectsAndSnippets(e),getGifItemsSelectors:()=>t.gifItems(e),getGifCategoriesSelectors:()=>t.gifCategories(e),getLinkEnhancerSelectors:()=>t.linkEnhancer(e),getDownloadsSelectors:()=>t.downloads(e),isQuotedTextExpanded:t.composeSessions(e).isQuotedTextExpanded,getComposeUndoStack:t.composeSessions(e).getUndoStack,getComposeRedoStack:t.composeSessions(e).getRedoStack,getComposeUiState:t.composeSessions(e).getUiState,getMessageFolderId:t.messagesFolderId(e).getFolderId,doesMessageIdHasFolderId:t.messagesFolderId(e).doesMessageIdHasFolderId,getFolderHighestModSeq:e=>s.doesFolderIdExist(e)?s.getFoldersSelectors().getFolderHighestModSeq(e):0,doesFolderIdExist:e=>s.getFoldersSelectors().doesFolderIdExist(e),getFolderName:e=>s.getFoldersSelectors().getFolderName(e),getFolderDisplayTypeByFolderId:e=>s.getFoldersSelectors().getFolderDisplayTypeByFolderId(e),getFolderIdsByName:t.folders(e).getFolderIdsByName,getFolderIdsByNameForSelectAccountId:e=>s.getFoldersSelectors().getFolderIdsByNameAndAccountId(e,s.getSelectedAccountId()),getFolderTotal:t.folders(e).getFolderTotal,getPrimaryFolderTypeByFolderId:t.folders(e).getPrimaryFolderTypeByFolderId,isPermDeleteFolderType:t.folders(e).isPermDeleteFolderType,getFolderFullName:a=>{const n=s.getAccountIdByFolderId(a),r=s.getAccountById(n),i=t.folders(e).getFolderPath(a),o=s.getAccountSelectors().getFolderPrefixByAccountId(n);return!r.isPrimary&&o.length>0?i.substr(i.indexOf("/")+1):i},getStaleFolderIds:e=>{const t=Object(G.f)(e);return Object.keys(t).filter(e=>{const a=t[e],n=s.getFolderHighestModSeq(e);return n&&n!==a.highestModSeq})},shouldUpdateFolders:s=>t.folders(e).shouldUpdateFolders(s),isSpamFolder:s=>t.folders(e).isSpamFolder(s),isSpamMessage:e=>Object(h.compose)(s.isSpamFolder,s.getMessageFolderId)(e),isTrashFolder:s=>t.folders(e).isTrashFolder(s),isTrashMessage:e=>Object(h.compose)(s.isTrashFolder,s.getMessageFolderId)(e),isDraftFolder:s=>t.folders(e).isDraftFolder(s),isDraftMessage:e=>Object(h.compose)(s.isDraftFolder,s.getMessageFolderId)(e),isSentFolder:s=>t.folders(e).isSentFolder(s),isSentMessage:e=>Object(h.compose)(s.isSentFolder,s.getMessageFolderId)(e),getParticipant:e=>{const t=s.getMessagesSelectors().getFromAddresses,a=[e].filter(e=>{const s=t(e);return s.length>0&&(s[0].email||s[0].name)}).map(e=>{const a=t(e),n=s.getMessageFlags(e);return{email:a[0].email,name:a[0].name,recent:!n.read}});return n()(a,1)[0]},getRecipients:e=>{const t=s.getMessagesSelectors().getToAddresses(e),a=s.getMessageFlags(e);return t.filter(e=>e.email||e.name).reduce((e,t)=>e.concat({email:t.email,name:t.name,recent:!a.read}),[])},getMessageFromAddress:t.messages(e).getFromAddresses,getMessageToAddress:t.messages(e).getToAddresses,getMessageCcAddress:t.messages(e).getCcAddresses,getMessageBccAddress:t.messages(e).getBccAddresses,getReplyToAddress:t.messages(e).getReplyToAddresses,getMessageDate:t.messages(e).getDate,getMessageFlags:t.messagesFlags(e).getFlags,getMessageSubject:t.subjectsAndSnippets(e).getSubject,getMessageSnippet:t.subjectsAndSnippets(e).getSnippet,getMessageTimeStamp:e=>s.getMessagesSelectors().getTimeStamp(e),getAccountIdByFolderId:s=>t.folders(e).getAccountIdByFolderId(s),doesMessageBodyExist:e=>s.getMessageBodiesSelectors().doesMessageBodyExist(e),isSecureMessage:e=>s.getMessageBodiesSelectors().isSecureMessage(e),doesMessageFullBodyExist:e=>s.getMessageBodiesSelectors().hasFullBody(e),doesMessageBodyHasError:e=>s.getMessageBodiesSelectors().hasError(e),getMessageBody:e=>s.getMessageBodiesSelectors().get(e),getMessageBodyState:e=>s.getMessageBodiesSelectors().getState(e),getMessageBodyRetryCount:e=>s.getMessageBodiesSelectors().getRetryCount(e),getAccountSignaturebyAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSignatureByAccountId(s),getAccountSignaturebyFolderId:e=>s.getAccountSignaturebyAccountId(s.getAccountIdByFolderId(e)),getSignatureByAccountEmail:e=>s.getAccountSelectors().getSignatureByAccountEmail(e),doesMessageIdExist:e=>s.getMessagesSelectors().doesMessageIdExist(e),getMessageCsid:e=>s.getMessagesSelectors().getCsid(e),doesMessageGroupIdExist:(e,t)=>{const a=s.getFoldersSelectors().getMessageGroupFolderType,n=t||Object(H.w)(s.getRoute()),r=a(Object(H.o)(n)||"");return s.getMessageGroupsSelectors().doesMessageGroupIdExistInList(e,r)},getMessageIdsFromMessageGroupId:(e,t)=>{const a=s.getFoldersSelectors().getMessageGroupFolderType,n=t||Object(H.w)(s.getRoute()),r=a(Object(H.o)(n)||"");return s.getMessageGroupsSelectors().getMessageIdsFromMessageGroupIdForMessageGroupFolderType(e,r)},getExpansionStateForStreamItem:e=>s.getStreamsSelectors().getExpansionStateForStreamItem(e),getMessageGroupStreamItemsWithExpansionStates:e=>{const t=ms(s.getMessageGroupStreamItems(e),s),a=e.id,n=e.listId,r=Object(q.b)(n,a);return s.doesStreamExist(r)?t.map(e=>{const t=s.getExpansionStateForStreamItem(e)||e.expansionState;return c()({},e,{expansionState:t})}):t},isAllCardsExpanded:(e,t)=>{return(0,s.getMessageGroupStreamItemsWithExpansionStates)({id:t,listId:e}).every(({expansionState:e})=>e===E.D.EXPANDED)},getCardConversationIdsFromMessageGroupId:e=>{const t=(s.isFeatureEnabled(E.ub.CONVERSATIONS)?s.getMessagesSelectors().findMessageIdsForConversationId(e):[e]).filter(s.getMessagesSelectors().doesMessageIdExist).map(s.getMessagesSelectors().getCardConversationId).filter(e=>!!e);return _()(t)},getGroupIdStateHash:e=>Object(F.i)(e,s.getMessageIdsFromMessageGroupId(e)),getRelevantMessageIdFromMessageGroupId:(e,t)=>{const a=s.getMessageIdsFromMessageGroupId(e,t)||[],n=Object(H.o)(t),r=a[a.length-1];return[...a].find(e=>s.getMessageFolderId(e)===n)||r},getAccountIdFromMessageGroupId:(e,t)=>{const a=s.getAccountIdByFolderId,n=s.getMessageFolderId,r=(0,s.getRelevantMessageIdFromMessageGroupId)(e,t),i=n(r);return Object(P.a)(i,"getAccountIdFromMessageGroupId: folderId is undefined",{messageGroupId:e||"undefined",listId:t||"undefined",relevantMessageId:r||"undefined",folderId:i||"undefined"}),a(i)},getSubjectFromMessageGroupId:(e,t)=>{const a=s.getRelevantMessageIdFromMessageGroupId(e,t);return s.getSubjectAndSnippetSelectors().getSubject(a,t)},getGroupIdContainingMessageId:e=>s.getMessageGroupsSelectors().getGroupIdContainingMessageId(e),getGroupIdContainingAttachmentId:e=>{const t=s.isFeatureEnabled(E.ub.CONVERSATIONS),a=s.getMessageIdForAttachmentId(e);return t?s.doesMessageIdExist(a)?s.getGroupIdContainingMessageId(a):s.getConversationIdByAttachmentId(e):a},getAttachmentIdsByGroupId:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return _()(t.reduce((e,t)=>e.concat(s.getAttachmentIdsByMessageId(t)),[]))},getAttachmentIdIndexInMessage:(e,t)=>s.getAttachmentIdsByMessageId(t).indexOf(e),getAttachmentIdIndexInMessageGroup:(e,t)=>s.getAttachmentIdsByGroupId(t).indexOf(e),getPreviousAttachmentIdForMessageGroup:(e,t)=>{const a=s.getAttachmentIdsByGroupId(t),n=s.getAttachmentIdIndexInMessageGroup(e,t)-1;if(!(n<0))return a[n]},getNextAttachmentIdForMessageGroup:(e,t)=>{const a=s.getAttachmentIdsByGroupId(t),n=s.getAttachmentIdIndexInMessageGroup(e,t)+1;if(!(n>a.length))return a[n]},getPreviousAttachmentIdForMessage:(e,t)=>{const a=s.getAttachmentIdsByMessageId(t),n=s.getAttachmentIdIndexInMessage(e,t)-1;if(!(n<0))return a[n]},getNextAttachmentIdForMessage:(e,t)=>{const a=s.getAttachmentIdsByMessageId(t),n=s.getAttachmentIdIndexInMessage(e,t)+1;if(!(n>a.length))return a[n]},isSingleDraftGroup:e=>{const t=s.getMessageIdsFromMessageGroupId(e);return 1===t.length&&s.isDraftMessage(t[0])},getCsidForSingleDraftGroup:e=>{if(!s.isSingleDraftGroup(e))return;const t=s.getMessageIdsFromMessageGroupId(e),a=n()(t,1);return s.getMessageCsid(a[0])},__patchV2AttachmentId__:(e,t)=>{const a=s.doesMessageIdExist,n=s.getAttachmentById,r=s.getMessageSubject,i=(0,s.getMessageIdForAttachmentId)(e);return{partialMessage:{subject:a(i)?r(i,t):void 0},attachment:n(e)}},__patchV2MessageGroupItemId__:(e,t)=>s.__patchV2MessageGroupItem__({id:e},t),__patchV2MessageId__:(e,t)=>yr("__patchV2MessageId__",()=>`${e}-${t}`,[e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageToAttachmentsSelectors(),e=>e.getAttachmentsSelectors(),e=>e.getSubjectsAndSnippetsSelectors()],()=>{const a=s.getFoldersSelectors,n=s.getAttachmentIdsByMessageId,r=s.getAttachmentById,i=s.getMessageSubject,o=s.getMessageSnippet,d=s.getMessageFlags,l=s.getMessageFolderId,u=(0,s.getMessagesSelectors)().__get__,_=a().__get__,m=u(e),p=n(e).map(r).filter(Boolean),h=l(e),g=d(e);return c()({},m,{id:e,attachments:p,attachmentCount:p.length,folder:_(h),snippet:o(e,t),headers:c()({},m.headers,{subject:i(e,t)}),flags:g,folderId:h})})(s),__patchV2MessageGroupItem__:(e={},t)=>e.id?yr("__patchV2MessageGroupItem__",()=>`${e.id}-${t}`,[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors()],()=>{const a=(0,s.getMessageIdsFromMessageGroupId)(e.id,t);return e.messages=a.map(e=>s.__patchV2MessageId__(e,t)),s.isSingleDraftGroup(e.id)&&(e.messages[0].csid=s.getCsidForSingleDraftGroup(e.id)),e})(s):e,getMessageGroupParticipantsInfo:(e,t)=>yr("getMessageGroupParticipantsInfo",()=>`${e}-${t}`,[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],()=>{const a=s.getMessageIdsFromMessageGroupId,n=s.getAccountSelectors,r=s.getFoldersSelectors,i=s.getParticipant,o=s.getRecipients,c=Object(H.o)(t),d=c?r().getPrimaryFolderTypeByFolderId(c):void 0,l=a(e,t),u=l.reduce((e,t)=>e.concat(o(t)),[]),_=l.reduce((e,t)=>{const s=i(t)||{},a=s.name,n=s.email;return e.concat({name:void 0===a?"":a,email:void 0===n?"":n})},[]),m=n().getMyAddresses().reduce((e,t)=>(e[t]=!0,e),{});return{senders:d===E.Cb.SENT||d===E.Cb.DRAFT?Object(B.m)({recipients:u,participants:_,myAddresses:m}):_,myAddresses:m}})(s),getMessageGroupStreamItems:e=>{const t=e.id,a=e.listId,n=s.getMessageCsid,r=s.getComposeSessionsSelectors,i=s.getMessageIdsFromMessageGroupId,o=s.isDraftMessage,c=s.getFoldersSelectors,d=s.doesComposeSessionExist,l=s.isSent,u=s.getMessageTimestamp,_=s.getMessageFolderId,m=(0,s.isFeatureEnabled)(E.ub.CONVERSATIONS),p=c().getPrimaryFolderTypeByFolderId,h=r(),g=h.findReplyForwardCsidsOfMessage,I=h.getDraftMessageId,S=i(t,a),C=S.filter(e=>o(e)),f=Object(H.W)(a,{listContentType:E.Pb.MESSAGE}),T=Object(q.b)(a,t);if(!m)return S.map(e=>({streamId:T,listId:f,csid:n(e),messageId:e,folderType:p(_(e))}));const A=S.map(e=>({messageId:e,timestamp:u(e)})).sort((e,t)=>e.timestamp-t.timestamp).filter(({messageId:e})=>!o(e)).reduce((e,{messageId:t})=>{const s=p(_(t)),a=n(t),r=g(t).filter(e=>!l(e)).reduce((e,t)=>{const s=I(t);return!s||o(s)?e.concat({streamId:T,listId:f,csid:t,messageId:s,folderType:E.Cb.DRAFT}):e},[]);return e.concat({streamId:T,listId:f,csid:a,messageId:t,folderType:s}).concat(r)},[]),b=C.filter(e=>!A.some(t=>t.messageId===e)).map(e=>{let t;const s=n(e);return t=d(s)?l(s)?E.Cb.SENT:E.Cb.DRAFT:p(_(e)),{streamId:T,listId:f,csid:s,messageId:e,folderType:t}});return A.concat(b)},getSelectedMessageIdsFromStreamId:e=>{const t=s.getSelectedStreamItems,a=s.getMessageIdsFromMessageGroupId;return(0,s.doesStreamExist)(e)?t(e).reduce((e,{id:t})=>e.concat(a(t)),[]):[]},isListRefreshing:(e,t=Date.now())=>s.getUnsyncedDataToSync(t).some(t=>t.type===E.re.LIST_TO_UPDATE&&t.id===e&&0===t.syncDefer),getDraftErrors:D.hasInvalidComposeField.bind(D),isSendRequested:t.composeSessions(e).isSendRequested,isSent:t.composeSessions(e).isSent,isComposeSaveDue:({csid:e,lastEditedTimeStamp:t,newContentIds:a=[],removedContentIds:n=[],composeSaveInterval:r})=>{if(!s.isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;r=r||s.getFeaturesSelectors().getSetting(E.zd.COMPOSE_SAVE_INTERVAL);const i=s.getComposeSessionsSelectors().getLastSaveTimeStamp(e);return a.length>0||n.length||s.getActionTimeStamp()-i>r&&!(()=>s.getReconciledUnsyncedData().some(t=>t.type===E.re.COMPOSE&&t.id===e))()},isMessageGroupRequested:e=>s.getReconciledUnsyncedData().some(t=>t.type===E.re.MESSAGE_ITEM_TO_FETCH&&t.userInputtedValues.messageGroupId===e),isMessageGroupLoading:e=>s.getUnsyncedDataSelectors().getUnsyncedData().some(t=>t.type===E.re.MESSAGE_ITEM_TO_FETCH&&t.id===e),isSaving:({csid:e},t=Date.now())=>s.getUnsyncedDataToSync(t).some(t=>t.type===E.re.COMPOSE&&t.id===e),isGeminiAdLoading:e=>s.getUnsyncedDataToSync().some(t=>t.type===E.re.GEMINI_AD&&Object(R.g)(t.userInputtedValues.sectionIds).some(t=>t===e)),getLastEditedTimestampForCompose:e=>{const t=s.findUnsyncedDataByCsid(e);if(t)return t.lastEditedTimeStamp},isFreshCompose:e=>{const t=s.findUnsyncedDataByCsid(e);return t?!t.lastEditedTimeStamp:!s.getDraftMessageId(e)},isMessageUpdatePending:()=>yr("isMessageUpdatePending",()=>"isMessageUpdatePending",[e=>e.getReconciledUnsyncedData()],()=>s.getReconciledUnsyncedData().some(e=>e.type===E.re.MESSAGE_ITEM_TO_UPDATE))(s),isAsyncTaskPending:()=>yr("isAsyncTaskPending",()=>"isAsyncTaskPending",[e=>e.getReconciledUnsyncedData()],()=>s.getReconciledUnsyncedData().some(e=>e.type===E.re.ASYNC_TASK_STATUS))(s),getAsyncTask:()=>{return s.getReconciledUnsyncedData().find(e=>e.type===E.re.ASYNC_TASK_STATUS).userInputtedValues},isComposeSessionDirty:({csid:e,lastEditedTimeStamp:t})=>s.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}),getLastSaveTimeStampForDraft:e=>s.getComposeSessionsSelectors().getLastSaveTimeStamp(e),getDraftStatus:({csid:a,lastEditedTimeStamp:n})=>{const r=s.getLastSaveTimeStampForDraft(a);return s.isSaving({csid:a})||t.composeSessions(e).getFatalErrorCount(a)?Er.SAVING:n===r?Er.SAVED:void 0},canSendDraft:({csid:e,lastEditedTimeStamp:t,attachmentsInfo:a=[]})=>{const n=s.getDraftMessageId(e),r=s.getMessagesSelectors(),i=r.isMarkedAsSpam;if(!n||!t||(0,r.doesMessageIdExist)(n)&&i(n)||s.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;const o=s.getAttachmentIdsByMessageId(n).map(s.getContentIdByAttachmentId),c=Object(R.g)(a).some(e=>-1===o.indexOf(e.contentId));return!a.length||!c},findReplyForwardCsidsOfMessage:e=>s.getComposeSessionsSelectors().findReplyForwardCsidsOfMessage(e),doesComposeSessionExist:e=>s.getComposeSessionsSelectors().doesComposeSessionExist(e),getComposeFieldToFocus:e=>s.getComposeSessionsSelectors().getComposeFieldToFocus(e),showUnsyncedDataWarning:()=>{return s.getReconciledUnsyncedData().some(e=>e.type===E.re.COMPOSE&&s.doesComposeSessionExist(e.id)&&(s.isSendRequested(e.id)||e.userInputtedValues.lastEditedTimeStamp&&s.getLastSaveTimeStampForDraft(e.id)!==e.userInputtedValues.lastEditedTimeStamp)||e.warnOnClose)},findUnsyncedDataByCsid:e=>yr("findUnsyncedDataByCsid",()=>e,[e=>e.getReconciledUnsyncedData()],()=>{const t=s.getReconciledUnsyncedData().find(t=>t.type===E.re.COMPOSE&&t.id===e);if(t)return t.userInputtedValues})(s),getDraftCardMessage:e=>yr("getDraftCardMessage",()=>e,[t=>(t.findUnsyncedDataByCsid(e)||{}).lastEditedTimeStamp],()=>{const t=s.findUnsyncedDataByCsid,a=s.getDraftFolderIdByAccountEmail,n=(0,s.getFoldersSelectors)().getFolderTypes,r=t(e),i=r.from,o=r.to,c=r.cc,d=r.bcc,l=r.subject,u=r.lastEditedTimeStamp,_=r.attachmentsInfo,m=a(i.email),p=Math.floor((u||Date.now())/1e3);return{message:{flags:{read:!0,flagged:!1},folder:{id:m,types:n(m)},headers:{from:[i],to:o,cc:c,bcc:d,subject:l,date:p},attachments:_}}})(s),isAttachmentUploadPendingForComposeSession:e=>{const t=s.getAttachmentByContentId;return(0,s.getReconciledUnsyncedData)().filter(({type:t,id:s,userInputtedValues:{newContentIds:a=[]}={}})=>t===E.re.COMPOSE&&s===e&&a.length).reduce((e,{userInputtedValues:{newContentIds:t=[]}})=>e.concat(...t),[]).some(e=>!t(e))},doComposeFromRouteQueryParams:e=>s.getComposeSessionsSelectors().doComposeFromRouteQueryParams(e),doComposeFromMailToLink:e=>s.getComposeSessionsSelectors().doComposeFromMailToLink(e),getComposeMailToLink:e=>s.getComposeSessionsSelectors().getMailToLink(e),getComposeParams:e=>s.getComposeSessionsSelectors().getComposeParams(e),getComposeHeaderFocus:e=>s.getComposeSessionsSelectors().getComposeHeaderFocus(e),getStationeryTheme:e=>s.getComposeSessionsSelectors().getStationeryTheme(e),findDraftMessageCsid:e=>s.getComposeSessionsSelectors().findDraftMessageCsid(e),getDraftMessageId:e=>s.getComposeSessionsSelectors().getDraftMessageId(e),getForwardCreativeId:e=>s.getComposeSessionsSelectors().getForwardCreativeId(e),getInForwardToMessageId:e=>s.getComposeSessionsSelectors().getInForwardToMessageId(e),getForwardAttachmentIds:e=>s.getComposeSessionsSelectors().getForwardAttachmentIds(e),isReplyMessage:e=>s.getComposeSessionsSelectors().isReplyMessage(e),isReplyAllMessage:e=>s.getComposeSessionsSelectors().isReplyAllMessage(e),isForwardMessage:e=>s.getComposeSessionsSelectors().isForwardMessage(e),getReplyingToMessageId:e=>s.getComposeSessionsSelectors().getReplyingToMessageId(e),isReplyOrReplyAll:e=>s.isReplyMessage(e)||s.isReplyAllMessage(e),getAttachmentsByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).map(s.getAttachmentById),getAttachmentCountByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).length,hasNonInlineAttachmentsByMessageId:e=>(s.getAttachmentIdsByMessageId(e)||[]).some(s.isNonInlineAttachmentById),hasFailedComposeSend:()=>{const e=s.getReconciledUnsyncedData,t=(0,s.getComposeSessionsSelectors)().isSendFailed;return e().some(({type:e,id:s})=>e===E.re.COMPOSE&&t(s))},getSelectedMailboxId:t.mailboxes(e).getSelectedMailboxId,getMailboxSize:t.mailboxes(e).getMailboxSize,getCurrentListId:()=>Object(H.w)(s.getRoute()),getFolderIdsFromListId:s=>{const a=Object(H.p)(s),n=a.folderIds,r=void 0===n?[]:n,i=a.folderNames,o=void 0===i?[]:i,c=t.folders(e),d=c.getFolderIdsByName,l=c.doesFolderIdExist;return o.reduce((e,t)=>e.concat(d(t)),[]).concat(r).filter(l)},isSearchInputFocused:()=>Na(e).isSearchInputFocused(),getSearchSuggestions:t.searchSuggestions(e).getSuggestions,getComposeSuggestions:s=>{const a=t.addressBook(e).getContactBlackList(),n=t.composeSuggestions(e).getSuggestions(s)||[];return a.length?n.filter(e=>!a.find(t=>t.email===e.email)):n},getComposeSuggestionsFromImportantsByQuery:({query:e,contextEmail:t})=>{e=e.trim().toLocaleLowerCase();return(0,s.getImportantContacts)(t).filter(({email:t,contact:{name:s}={}})=>s&&s.toLocaleLowerCase().split(" ").find(t=>0===t.indexOf(e))||t.slice(0,t.indexOf("@")).toLocaleLowerCase().split(".").find(t=>0===t.indexOf(e))).map(({email:e,contact:{name:t,id:s}={}})=>({name:t,email:e,id:s})).slice(0,E.Ub)},getImportantContacts:e=>{const t=s.getContactListSelectors,a=(0,s.getListsSelectors)().getImportantContactEmailsByContextEmail,n=t(),r=n.getContactIdByEmail,i=n.getContactById;return a(e).map(e=>{const t=r(e);return{email:e,contact:i(t)}})},getCurrentGroupId:()=>s.getRoute().params.groupId,getFolderIdsForSelectedAccount:e=>s.getFolderIdsByFolderTypeForAccount(e,s.getSelectedAccountId()),getDefaultFolderIdForSelectedAccount:()=>s.getFolderIdsForSelectedAccount(E.Cb.INBOX)[0],getDefaultFolderIdForAccount:e=>s.getFolderIdsByFolderTypeForAccount(E.Cb.INBOX,e)[0],getFolderIdsByFolderTypeForAccount:(s,a)=>t.folders(e).getFolderIdsFromFolderType(s,a),getAccountById:s=>t.mailboxes(e).getAccountsSelectors().getAccountById(s),getSendAccountsByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSendAccountsByAccountId(s),getProviderFromAccount:s=>t.mailboxes(e).getAccountsSelectors().getProviderFromAccount(s),getAccountDescriptionByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getAccountDescriptionByAccountId(s),getSelectedAccountId:()=>{const e=s.getAccountSelectors(),t=e.getAccountById,a=e.getPrimaryAccountId,n=s.getSelectedAccountIdByRoute(s.getRoute());return t(n)?n:a()},getPrimaryAccountId:()=>s.getAccountSelectors().getPrimaryAccountId(),getSendingAccountId:()=>t.mailboxes(e).getAccountsSelectors().getSendingAccountId(),getSelectedAccountIdByRoute:e=>{const t=Object(H.w)(e),a=t?Object(H.g)(t):[];if(1===a.length)return a[0];let n=Object(H.o)(t);const r=void 0!==e.params?e.params.csid:void 0,i=s.getDraftMessageId,o=s.getReplyingToMessageId,c=s.getMessageFolderId,d=s.doesFolderIdExist,l=s.getAccountIdByFolderId,u=s.getFolderPageRoute,_=s.getCursorItem,m=s.doesStreamExist,p=s.doesMessageGroupIdExist,h=s.getMainStreamListIds,g=s.getAccountIdFromMessageGroupId,I=s.getDefaultSetting;if(!n&&r&&(0,s.doesComposeSessionExist)(r)){const e=i(r)||o(r);n=e?c(e):void 0}if(Ir(e)&&Or(e)&&p(e.params.groupId,t))return g(e.params.groupId,t);if(Ir(e)&&Cr(e)&&I(E.zd.PREVIEW_PANE)!==E.Rc.NO){const s=h(e),a=Object(q.a)(s),r=m(a)?_(a):void 0;if(r){if(r.id&&"MESSAGES"===Object(H.t)(r.listId)&&p(r.id,t))return g(r.id,t);if(r.csid){const e=i(r.csid)||o(r.csid);n=e?c(e):void 0}}}if(n&&d(n))return l(n);if(!n){const e=u();if(e){const t=Object(H.w)(e);return l(Object(H.o)(t))}}const S=e.query?e.query.accountIds:void 0;return S||s.getAccountSelectors().getSelectedAccountId()},doesSelectedAccountExist:()=>s.getAccountSelectors().doesSelectedAccountExist(),getAccountNameByAccountId:e=>s.getAccountSelectors().getAccountNameByAccountId(e),hasAccountWithEmail:t.mailboxes(e).getAccountsSelectors().hasAccountWithEmail,getAccountIdByAccountEmail:s=>t.mailboxes(e).getAccountsSelectors().getAccountIdByAccountEmail(s),getEmailOfSelectedAccount:()=>t.mailboxes(e).getAccountsSelectors().getAccountEmailByAccountId(s.getSelectedAccountId()),isFolderExpanded:e=>{return-1!==s.getSetting(E.zd.EXPANDED_FOLDERS).indexOf(e)},getAttachmentById:e=>s.getAttachmentsSelectors().getAttachmentById(e),getContentIdByAttachmentId:e=>s.getAttachmentsSelectors().getContentIdByAttachmentId(e),getConversationIdByAttachmentId:e=>s.getAttachmentsSelectors().getConversationIdByAttachmentId(e),getMimetypeByAttachmentId:e=>s.getAttachmentsSelectors().getMimetypeByAttachmentId(e),getAttachmentExtentionByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentExtentionByAttachmentId(e),getAttachmentTypeByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentTypeByAttachmentId(e),getAttachmentSubtypeByAttachmentId:e=>s.getAttachmentsSelectors().getAttachmentSubtypeByAttachmentId(e),getSizeByAttachmentId:e=>s.getAttachmentsSelectors().getSizeByAttachmentId(e),doesAttachmentExistById:e=>s.getAttachmentsSelectors().doesAttachmentExistById(e),getDocumentIdByAttachmentId:e=>s.getAttachmentsSelectors().getDocumentIdByAttachmentId(e),getAttachmentIdByDocumentId:e=>s.getAttachmentsSelectors().getAttachmentIdByDocumentId(e),getAttachmentMessageReferenceByContentId:e=>s.getAttachmentsSelectors().getMessageReferenceByContentId(e),getAttachmentByContentId:e=>s.getAttachmentsSelectors().getByContentId(e),isInlineAttachmentById:e=>s.getAttachmentsSelectors().isInlineAttachmentById(e),isNonInlineAttachmentById:e=>s.getAttachmentsSelectors().isNonInlineAttachmentById(e),didAttachmentUploadFail:e=>s.getAttachmentsSelectors().hasError(e),getAttachmentIdsByMessageId:t.messageToAttachments(e).attachmentsByMessageId,getAttachmentDownloadAllUrlByMessageId:e=>s.getMessagesSelectors().getDownloadAllUrl(e),getMessageIdForAttachmentId:t.messageToAttachments(e).getMessageIdForAttachmentId,getAliasSuggestions:t.mailboxes(e).getAliasSuggestions,getAliasSuggestionStatus:t.mailboxes(e).getAliasSuggestionStatus,getSocialAccountsStatus:t.mailboxes(e).getSocialAccountsStatus,getAllAccounts:t.mailboxes(e).getAccountsSelectors().getAllAccounts,getPrimaryAccount:t.mailboxes(e).getAccountsSelectors().getPrimaryAccount,getAccountsForSearch:()=>yr("getAccountsForSearch",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getAccountsSelectors().getAllAccounts().filter(e=>e.status===E.h.ENABLED&&e.accountVerified&&e.type&&E.ud.indexOf(e.type)>-1))(s),getExpiredAccounts:()=>yr("getExpiredAccounts",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getExpiredAccounts())(s),getAlertIdByAccountId:t.mailboxes(e).getAlertIdByAccountId,getRootAccounts:()=>yr("getRootAccounts",()=>"accounts",[e=>e.getMailboxesSelectors()],e=>e.getAccountsSelectors().getRootAccounts())(s),getRootAccountsWithDefaultFolder:()=>yr("getRootAccountsWithDefaultFolder",()=>"accounts",[e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],(e,t)=>{const s=e.getAccountsSelectors().getRootAccounts(),a=t.doesFolderIdExist,n=t.getFolderUnreadCount,r=t.getFolderIdsFromFolderType;return s.map(e=>{const t=r(E.Cb.INBOX,e.id)[0];return c()({},e,{defaultFolder:{id:t,unread:a(t)?n(t):0}})})})(s),getFoldersForMoveMenu:()=>yr("getFoldersForMoveMenu",()=>"folders",[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getFoldersSelectors()],(e,t,s)=>{const a=s.getCustomFolderList,n=s.getSystemFolderList,r=Object(H.w)(e),i=Object(H.o)(r),o=i?[i]:[];function d(e,{assignShortcuts:t=!1,disabledFolderIds:s=[]}){const a=[];if(e.forEach(e=>{const t=e.id,n=e.type,r=c()({},e,{disabled:-1!==s.indexOf(t)});n===E.Cb.INBOX&&(r.shortcut=0),a.push(r)}),t){let e=0;for(let t=0;e<9&&a[t];t++)a[t].type!==E.Cb.INBOX&&(a[t].shortcut=++e)}return a}const l=a(t),u=n(t).filter(({type:e})=>-1===[E.Cb.DRAFT,E.Cb.SENT].indexOf(e));return{customFolders:d(l,{assignShortcuts:!0,disabledFolderIds:o}),systemFolders:d(u,{disabledFolderIds:o})}})(s),getAliasAccounts:t.mailboxes(e).getAccountsSelectors().getAliasAccounts,hasMultipleRootAccounts:t.mailboxes(e).getAccountsSelectors().hasMultipleRootAccounts,isMyEmailAddress:t.mailboxes(e).getAccountsSelectors().isMyEmailAddress,getMyAddresses:()=>s.getAccountSelectors().getMyAddresses(),__patchV2MyAddresses__:()=>s.getMyAddresses().reduce((e,t)=>c()({},e,{[t]:!0}),{}),getMailboxesSelectors:()=>t.mailboxes(e),getSettingsSelectors:()=>t.settings(e),getComposeAttributesSelectors:()=>t.composeAttributesStatus(e),getDraftFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(E.Cb.DRAFT,s)[0],getSelectedAccountIdByAccountEmail:e=>{let t;return t=s.getAccountSelectors().isPrimaryAccountEmail(e)?s.getAccountIdByAccountEmail(e):s.getSelectedAccountId()},getDraftFolderIdForPrimaryAccount:()=>{const e=s.getAccountSelectors();return s.getDraftFolderIdByAccountId((0,e.getPrimaryAccountId)())},getDraftFolderIdByAccountEmail:e=>s.getDraftFolderIdByAccountId(s.getSelectedAccountIdByAccountEmail(e)),getSendFolderIdForPrimaryAccount:()=>{const e=s.getAccountSelectors();return s.getSendFolderIdByAccountId((0,e.getPrimaryAccountId)())},getSendFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(E.Cb.SENT,s)[0],getInboxFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(E.Cb.INBOX,s)[0],getSendFolderIdByAccountEmail:e=>s.getSendFolderIdByAccountId(s.getSelectedAccountIdByAccountEmail(e)),__isPermDeleteMessage:e=>{return(0,s.isPermDeleteFolderType)((0,s.getMessageFolderId)(e))},__getLastNonDraftMessageIdByGroupId:e=>{const t=(0,s.getMessageIdsFromMessageGroupId)(e).filter(e=>!s.isDraftMessage(e));return t[t.length-1]},__getMessage:e=>s.getMessagesSelectors().__getMessage(e),__getMessageWithFlagsAndFolderId:e=>{const t=s.getMessageFlags,a=s.getMessageFolderId,n=(0,s.getMessagesSelectors)().__getMessage(e);return c()({},n,{flags:t(e),folderId:a(e)})},__getOriginalMessageGroupSender:e=>{let t;if(s.doesMessageGroupIdExist(e)){const a=s.getMessageIdsFromMessageGroupId(e),r=n()(a,1),i=s.getMessageFromAddress(r[0]);t=n()(i,1)[0]}return t},__getFolderIdMapFromFolderType(e,t){const a=s.getMessageFolderId,r=s.getAccountIdByFolderId,i=s.getFolderIdsByFolderTypeForAccount,o={};return e.forEach(e=>{const s=i(t,(e=>r(a(e)))(e)),c=n()(s,1)[0];o.hasOwnProperty(c)||(o[c]=[]),o[c].push(e)}),o},getCalendarSelectors:()=>t.calendar(e),getAdListItemsSelectors:()=>t.adListItems(e),getSubscriptionSelectors:()=>t.subscription(e),getEnvironmentSelectors:()=>t.environment(e),getWindowDimensions:()=>s.getEnvironmentSelectors().getWindowDimensions(),getMainContentWidth:()=>{const e=s.getRightRailPanes,t=(0,s.isNarrowScreen)()?O.RIGHT_RAIL_NARROW_WIDTH:O.RIGHT_RAIL_WIDTH,a=e().length?Number(t.substring(0,t.length-2)):52;return s.getWindowDimensions().contentAndRightRailWidth-a},getAppName:()=>s.getEnvironmentSelectors().getAppName(),isBrowserSupportedByNoble:()=>{const e=s.getFeaturesSelectors().isEnabled,t=e(E.ub.NOBLE_SUPPORTED_BROWSER_VERSION),a=e(E.ub.NOBLE_SUPPORTED_OS_VERSION);return t&&a},getIsXobnified:()=>s.getEnvironmentSelectors().getIsXobnified(),isAMT:()=>s.getEnvironmentSelectors().isAMT(),isAppVisible:()=>s.getEnvironmentSelectors().isAppVisible(),getApplicationLastVisibleTimeStamp:()=>s.getEnvironmentSelectors().getApplicationLastVisibleTimeStamp(),getBuildRefreshStatus:()=>s.getEnvironmentSelectors().getBuildRefreshStatus(),getTimeZoneName:()=>s.getEnvironmentSelectors().getTimeZoneName(),getIsInternalIP:()=>yr("getIsInternalIP",()=>"getIsInternalIP",[e=>e.getEnvironmentSelectors()],()=>s.getEnvironmentSelectors().getIsInternalIP())(s),isNarrowScreen:()=>yr("isNarrowScreen",()=>"isNarrowScreen",[e=>e],()=>(e=>{const t=e.getWindowDimensions,s=e.getSmartViewTypeFromRoute,a=e.getRoute,n=e.isFeatureEnabled,r=(0,e.getSetting)(E.zd.PREVIEW_PANE)===E.Rc.RIGHT,i=t(),o=s(a())===E.Kd.COUPONS,c=n(E.ub.DEALS_VIEW_V2);let d=Object(R.a)(i,"innerWidth",0);return!d&&Object(Et.b)()&&window.innerWidth&&(d=window.innerWidth),!!d&&(!r&&d<O.NARROW_SCREEN_WIDTH||r&&d<O.WIDE_SCREEN_WIDTH)&&!(c&&o)})(s))(s),isMessageDeliveredToSpamFolder:a=>{const n=s.getMessagesSelectors().getFolderOfDelivery(a);return!(!n||!s.doesFolderIdExist(n))&&t.folders(e).isSpamFolder(n)},shouldShowSpamAttachmentWarning:e=>!s.isSpamMessage(e)&&s.isMessageDeliveredToSpamFolder(e),getLaunchError:t.launchError(e).getLaunchErrorType,getLocationSuggestionSelectors:()=>t.locationSuggestions(e),getTravelCardListItems:(e,t,a)=>(function(e,t,s,a){const n=[],r=e.getMessagesSelectors,i=e.getFlightsSelectors,o=e.getCardGroupsSelectors,c=e.getCardMessageToSchemasSelectors,d=(0,e.getListsSelectors)().getItemIdsSelectors(t).getItemIds,l=r().getConversationId,u=o(),_=u.getMessageIdsFromCardGroupId,m=u.getMostRecentEmailId,p=c().getSchemas,h=Object(H.u)(t),g=Object(H.F)(t);switch(d().forEach(e=>{const r=_(e),o=m(e),c=s?l(o):o;r.forEach(s=>{p(s).forEach(({id:s,type:r})=>{if(r===E.qd.FlightReservation){const o=i(),d=o.isEligibleCardForFilter,l=(0,o.getCardDate)(s);d(s,h,a)&&n.push({id:s,type:r,listId:t,cardConversationId:e,groupId:c,cardDate:l,timestamp:l})}})})}),g){case E.Od.CARD_DATE_ASC:n.sort((e,t)=>e.cardDate-t.cardDate);break;case E.Od.CARD_DATE_DESC:n.sort((e,t)=>t.cardDate-e.cardDate)}return n})(s,e,t,a),getReceiptCardListItems:(e,t)=>(function(e,t,s){const a=[],n=e.getCardMessageToSchemasSelectors,r=e.getListsSelectors,i=e.getReceiptSelectors,o=(0,e.getMessagesSelectors)(),c=o.getCardConversationId,d=o.getParentMessageIdForCardConversationId,l=o.getParentConversationIdForCardConversationId,u=n().getSchemas,_=r().getItemIdsSelectors,m=i(),p=m.getPrice,h=m.getFirstItemName,g=m.getOrderDate,I=m.getNumItems,S=m.getCurrency,C=_(t).getItemIds(),f=Object(H.F)(t);switch(C.forEach(e=>{const n=u(e).filter(e=>e.type===E.qd.Order);if(1===n.length){const r=c(e),i=n[0].id,o=p(i),u=h(i),_=g(i),m=I(i),C=S(i),f=l(r),T=d(r);a.push({id:i,type:E.qd.Order,listId:t,schemaId:i,cardMid:e,price:o,itemName:u,numItems:m,currency:C,orderDate:_,conversationId:f,messageId:T,hasConv:s,timestamp:new Date(_).getTime()})}}),f){case E.Od.DATE_ASC:a.sort((e,t)=>e.timestamp-t.timestamp);break;case E.Od.DATE_DESC:a.sort((e,t)=>t.timestamp-e.timestamp)}return a})(s,e,t),getCurrentSpaceId:()=>Object(us.b)(e).spaceId,getAvailableSortOrders:()=>{const e=s.getFoldersSelectors,t=s.getRoute,a=s.isFeatureEnabled,n=(0,s.getCurrentListId)(),r=Object(H.o)(n),i=r?e().getPrimaryFolderTypeByFolderId(r):void 0,o=a(E.ub.CONVERSATIONS);return((e,t,s,a)=>{const n=a?Object(H.t)(a):E.Pb.MESSAGES;switch(e.name){case E.gd.SEARCH:return n===E.Pb.IMAGES||n===E.Pb.DOCUMENTS?hs:ps;default:return t===E.Cb.DRAFT?gs:s?Es:Is}})(t(),i,o,n)},shouldEnableGroupActions:e=>{const t=s.getCursorItem,a=s.doesStreamExist,n=s.hasSelectedStreamItems,r=s.getAdListItemsSelectors,i=a(e)?t(e):void 0,o=a(e)&&n(e)||r().hasSelectedPencilAds();return!(!i||o)},shouldEnableTriageActions:e=>{const t=s.getCursorItem,a=s.doesStreamExist,n=s.getSelectedStreamItems,r=a(e)?t(e):void 0,i=a(e)?n(e):[];return!!(r||i.length>0)},canShowToolbarItem:e=>{const t=s.isAllCardsExpanded,a=s.getMessageIdsFromMessageGroupId,n=s.shouldEnableGroupActions,r=s.doesStreamExist,i=s.getCursorItem,o=s.getFoldersSelectors,c=s.getCurrentListId,d=(0,s.getSetting)(E.zd.PREVIEW_PANE),l=r(e)?i(e):void 0,u=l?l.id:void 0,_=!!l&&t(l.listId,u),m=a(u),p=Object(H.o)(c());return((e,t,s,a,n)=>r=>{let i;const o=Boolean(e),c=e===E.Cb.TRASH,d=e===E.Cb.ARCHIVE,l=e===E.Cb.BULK,u=e===E.Cb.DRAFT,_=s!==E.Rc.NO&&t&&n.length>1;switch(r){case"archive":i=!o||!d&&!l&&!c;break;case"restore":i=d||l||c;break;case"spam":i=!l;break;case"ham":i=l;break;case"raf":i=s!==E.Rc.NO&&(!o||!l&&!u);break;case"expandAll":i=_&&!1===a;break;case"collapseAll":i=_&&!0===a;break;default:i=!0}return i})(p?o().getPrimaryFolderTypeByFolderId(p):void 0,n(e),d,_,m)},canEnableToolbarItem:e=>{const t=s.shouldEnableTriageActions,a=s.getFoldersSelectors,n=s.getCurrentListId,r=s.getSelectedAccountId,i=s.getSelectedStreamItems,o=s.doesStreamExist,c=s.getAccountIdFromMessageGroupId,d=s.getMessageIdsFromMessageGroupId,l=s.getMessageFolderId,u=s.isDraftFolder,m=s.getCursorItem,p=(0,s.shouldEnableGroupActions)(e),h=t(e),g=Object(H.o)(n()),I=g?a().getPrimaryFolderTypeByFolderId(g):void 0,S=o(e),C=S?i(e):[],f=S?m(e):{},T=C.map(({id:e})=>e),A=r(),b=T.map(e=>c(e,n()));let O=!1;if(0===T.length&&f||1===T.length){const e=d(0===T.length?f.id:T[0]);1===e.length&&(O=u(l(e[0])))}return((e,t,s,a,n,r)=>i=>{let o;const c=e===E.Cb.DRAFT,d=e===E.Cb.SENT,l=e===E.Cb.BULK;let u=(n=_()(n)).length<=1;switch(1===n.length&&(u=u&&n[0]===a),i){case"archive":o=!c&&t&&!r;break;case"move":o=!c&&t&&u&&!r;break;case"spam":o=!c&&!d&&t&&!r;break;case"ham":o=l&&t&&!r;break;case"raf":o=s;break;case"more":default:o=t}return o})(I,h,p,A,b,O)},doesComposeHaveFatalError:a=>t.composeSessions(e).getFatalErrorCount(a)>=s.getSetting(E.zd.COMPOSE_THROTTLE_COUNT),isLoadingGeminiAsset:e=>s.getReconciledUnsyncedData().some(t=>t.type===E.re.GEMINI_AD_ASSET&&t.userInputtedValues.creativeId===e),getStreamItemInFocus:()=>{const e=s.doesStreamExist,t=s.getCursorItem,a=s.doesMessageGroupIdExist,n=s.getRoute,r=s.getMessageGroupStreamItemsWithExpansionStates,i=s.getGroupId,o=(0,s.getComposeSessionsSelectors)().doesComposeSessionExist,c=n(),d=Object(H.w)(c),l=i(),u=l&&a(l,d)?Object(q.b)(d,l):void 0;let _=e(u)?t(u):void 0;if(!_||Object(H.t)(_.listId)===E.Pb.COMPOSE&&!o(_.id)){const e=Object(H.W)(d,{listContentType:E.Pb.MESSAGE}),t=l&&a(l,d)?r({id:l,listId:e}):[];_=t.filter(e=>e.expansionState===E.D.EXPANDED).slice(-1)[0]||t.slice(-1)[0]}return _},getGroupIdInPreviewPane:()=>{const e=s.doesStreamExist,t=s.getCursorItem,a=s.doesMessageGroupIdExist,n=s.getSelectedStreamItems,r=(0,s.getMainStreamListIds)((0,s.getRoute)()),i=Object(q.a)(r),o=e(i)?n(i).length:0,c=e(i)?t(i):void 0;return 0===o&&c&&a(c.id)?c.id:null},getGroupId:()=>{const e=s.getGroupIdInPreviewPane,t=s.getSetting,a=Sr((0,s.getRoute)())||{};return t(E.zd.PREVIEW_PANE)===E.Rc.NO||a.groupId?a.groupId:e()},getMainStreamListIds:e=>{const t=s.isFeatureEnabled,a=(0,s.getRetailersSelectors)().getTotalNumberOfRetailers,n=Object(H.w)(e),r=[n],i=Object(H.t)(n);if(fr(e))return r;switch(i){case E.Pb.COUPON_CARDS:return Object(H.u)(n)===E.Qb.ALL_COUPON_CARDS&&(t(E.ub.DEALS_VIEW_V2)?e.name!==E.gd.SEARCH&&r.unshift(Object(H.e)({referrer:E.Rb.TOP_COUPONS})):r.unshift(Object(H.W)(n,{listFilter:E.Qb.SAVED_COUPON_CARDS,referrer:E.Id.COUPONS}))),r;case E.Pb.GROCERY_STORES:return a()&&r.push(Object(H.W)(n,{listFilter:E.Qb.RECOMMENDED_GROCERY_STORES})),r.push(Object(H.W)(n,{listFilter:E.Qb.UNLINKED_GROCERY_STORES})),r}return r},getMainStreamItems:t=>{let a=[];const r=s.getListsSelectors,i=s.getTravelCardListItems,o=s.getReceiptCardListItems,c=s.getEnvironmentSelectors,d=s.getMessageListItems,l=s.getAttachmentListItems,u=s.isFeatureEnabled,_=s.doesListExist,m=s.getMainStreamListIds,p=s.getMainContentWidth,h=s.getFeaturesSelectors,g=Object(H.w)(t);if(!_(g))return a;const I=h().getSetting,S=r(),C=S.hasMoreItems,f=S.getListStatus,T=c().getTimeZoneName,A=u(E.ub.CONVERSATIONS),b=Object(H.t)(g),R=m(t),N=Object(ls.c)({timezone:T(),now:Object(U.i)()});switch(b){case E.Pb.TRAVEL_CARDS:{const e=Date.now(),t=Object(ls.c)({timezone:T(),now:Object(U.i)(),hasFutureTime:!0}),s=Object(H.u)(g)===E.Qb.TRAVEL_VIEW_UPCOMING?t:N,n=i(g,A,e);a=Rr({list:n,timePredicates:s});break}case E.Pb.COUPON_CARDS:{const t=R.filter(e=>_(e)).reduce((e,t)=>e===E.bd.LOADING||e===E.bd.ERROR?e:f(t),E.bd.DOES_NOT_EXIST);a=Object(ds.c)(e,R,t);break}case E.Pb.GROCERY_STORES:{const t=R.filter(e=>_(e)).reduce((e,t)=>e===E.bd.LOADING||e===E.bd.ERROR?e:f(t),E.bd.DOES_NOT_EXIST);a=function(e,t,s){const a=Pr(e),r=a.getListsSelectors,i=a.getMainContentWidth,o=(0,a.getRetailersSelectors)().getRetailerStreamItems,c=r().doesListExist;if(s!==E.bd.DOES_NOT_EXIST){const e=i();let s=0,a=0,r=!1;const d=t.filter(e=>Object(H.t)(e)===E.Pb.GROCERY_STORES&&c(e)).map(t=>{const a=o(t);return t.includes(E.Qb.RECOMMENDED_GROCERY_STORES)&&(r=!0),Object(ts.c)(a,O.RETAILERS_LIST_ITEM_WIDTH,e).map(e=>({id:s++,listId:t,retailers:e}))});if(d.some(e=>e.length)){const e=n()(t,3),i=e[0],o=e[1],c=e[2],l=d[0],u=r?d[1]:[],_=r?d[2]:d[1];d.splice(a,0,[{listId:Object(H.W)(i,{listContentType:E.Pb.ZERO_SAVED_GROCERY_STORES}),id:s++,linked:!0}]),a++,l.length&&(u.length||_.length)?(d.splice(a,0,[{listId:Object(H.W)(i,{listContentType:E.Pb.GROCERY_STORES_SEPARATOR}),id:s++,linked:!0}]),a+=2):a++,u.length&&(d.splice(a,0,[{listId:Object(H.W)(o,{listContentType:E.Pb.GROCERY_STORES_SEPARATOR}),id:s++,linked:!1}]),a+=2),_.length&&(l.length||u.length)&&d.splice(a,0,[{listId:Object(H.W)(c,{listContentType:E.Pb.GROCERY_STORES_SEPARATOR}),id:s++,linked:!1}])}return d.reduce((e,t)=>e.concat(t),[])}return[]}(e,R,t);break}case E.Pb.OFFER_CARDS:{const t=Object(H.u)(g);a=function(e,t,s,a){const n=Pr(e),r=n.getActivatedOffersSelectors,i=n.getMainContentWidth,o=n.getRetailersSelectors,c=n.isFeatureEnabled,d=(0,n.getOffersSelectors)().getOfferStreamItems,l=r().getActivatedOfferStreamItems,u=o().getAstraCategoriesFromRetailerId,_=c(E.ub.ENABLE_YM6_GROCERY),m=_?O.YM6_OFFER_CARD_ITEM_WIDTH:O.OFFER_CARD_ITEM_WIDTH,p=Object(H.s)(t),h=Object(H.I)(p);if(s!==E.bd.DOES_NOT_EXIST){const e=a===E.Qb.ACTIVATED_OFFER_CARDS?l(t):d(t),s=Object(ts.c)(e,m,i());let n=s.length-1;const r=s.reduce(function(e,s,a){const n={};return n.offers=s,n.id=a,n.listId=t,e.push(n),e},[]);if(a===E.Qb.RECOMMENDED_OFFER_CARDS&&r&&r.length&&!h&&(r.splice(0,0,{listId:Object(H.W)(t,{listContentType:E.Pb.SINGLE_STORE_SEPARATOR}),id:++n}),_)){const e=Object(H.y)(t)||"",s=u(e)||[],a=Object(ts.c)(s,O.CATEGORY_ITEM_WIDTH,i()),c=(0,o().getOrderedRetailers)(),d=c.findIndex(t=>t.id===e),l=(c[d]||{}).displayName,_=void 0===l?"Retailer":l;r.splice(0,0,{categoryRows:a,retailerId:e,listId:Object(H.W)(t,{listContentType:E.Pb.GROCERY_CATEGORIES}),id:++n}),r.splice(0,0,{retailerId:e,retailerName:_,listId:Object(H.W)(t,{listContentType:E.Pb.STORE_SUMMARY}),id:++n})}return r}return[]}(e,g,f(g),t);break}case E.Pb.REFUND_CARDS:{const e=o(g,A);(a=Rr({list:e,timePredicates:N})).length&&(a[a.length-1].isLastItemInGroup=!0);break}case E.Pb.MESSAGES:{const e=Object(H.F)(g),t=d(g);a=Rr({list:t,timePredicates:N,sortOrder:e});break}case E.Pb.IMAGES:{const e=Object(H.F)(g),t=l(g),s=t.length>=4&&-1!==[E.Od.DATE_DESC,E.Od.DATE_ASC].indexOf(e),n=p(),r=I(E.zd.LIST_ITEM_HEIGHT,{contentType:b}),i=Math.floor(n/r);if(s){const e=Object(ls.d)(t,N),s=e.list;a=e.isGroupedList?[...Object(ls.b)(s,i)]:Object(ls.e)(t,i,"unknown","none")}else 0!==t.length&&(a=Object(ls.e)(t,i,"unknown","none"));break}case E.Pb.DOCUMENTS:{const e=Object(H.F)(g),t=l(g);a=Rr({list:t,timePredicates:N,sortOrder:e});break}}return R.some(e=>_(e)&&C(e))&&(a=[...a,{id:E.Pb.LOAD_MORE,listId:Object(H.f)({listContentType:E.Pb.LOAD_MORE})}]),a},getListItemsWithAds:(e,t)=>{const a=s.doesListExist,n=s.getSetting,r=s.isFeatureEnabled,i=s.getEnvironmentSelectors,o=s.getAdsSelectors,c=Object(H.w)(e),d=e.name===E.gd.SEARCH,l=r(E.ub.PENCIL_AD),u=o().isAdBlocked;if(!a(c)||0===t.length||!l||u())return t;const _=Object(H.t)(c);let m=t;if(_===E.Pb.MESSAGES){const e=n(E.zd.LIST_ITEM_HEIGHT,{contentType:_}),a=n(E.zd.GEMINI_SECTION_IDS),o=se(s,e,d,a[E.Db.MESSAGE_LIST]),c=(0,i().getWindowDimensions)(),l=c.innerHeight-c.ybarHeight-O.MESSAGE_TOOLBAR_CONTAINER_HEIGHT,u=((e,t,s)=>{if(t!==E.Pb.MESSAGES)return!1;const a=e.getAdsSelectors,n=e.isFeatureEnabled,r=(0,e.getSetting)(E.zd.GEMINI_SECTION_IDS),i=a(),o=i.getPencilAdData,c=(0,i.getAdFeedbackStatus)();return n(E.ub.SECOND_PENCIL_AD)&&o(r[E.Db.MESSAGE_LIST_2]).clickUrl&&(!s||n(E.ub.SECOND_SEARCH_AD))&&c[r[E.Db.MESSAGE_LIST_2]]!==E.m.ENDED})(s,_,d)&&l>0,p=r(E.ub.SECOND_SEARCH_AD);if(m=t[0].listId&&Object(H.t)(t[0].listId)===E.Pb.TIMECHUNK?[t[0],o,...t.slice(1)]:[o,...t],u){const t=r(E.ub.TIMECHUNK_PENCIL_AD);let n=0,i=0;const o=se(s,e,d,a[E.Db.MESSAGE_LIST_2]);for(let e=0;e<m.length;e++){const s=!t||m[e].listId&&Object(H.t)(m[e].listId)===E.Pb.TIMECHUNK;if(n>l&&i>=10&&s){m.splice(e,0,o);break}if(d&&p&&e===m.length-1){m.push(o);break}i+=m[e].relevantMessageId?1:0,n+=Object(H.t)(m[e].listId)===E.Pb.TIMECHUNK?O.ITEM_LIST_SEPARATOR_HEIGHT:m[e].listItemHeight}}}return m},getSubscriptionListItems:e=>{const t=s.isFeatureEnabled,a=(0,s.getListsSelectors)(),n=a.getItemIdsSelectors;return(0,a.doesListExist)(e)&&t(E.ub.SUBSCRIPTION_LIST)?n(e).getItemIds():[]},sortContactAlphabetically:(e,t)=>{const a=e.itemType,n=t.itemType,r=(void 0===a?{}:a).id||e.id,i=(void 0===n?{}:n).id||t.id,o=(0,s.getContactListSelectors)().getContactById,c=o(r)||{},d=c.name,l=c.emails,u=void 0===l?[]:l,_=o(i)||{},m=_.name,p=_.emails,h=void 0===p?[]:p,g=d&&d.toUpperCase()||u[0]&&u[0].toUpperCase()||void 0,E=m&&m.toUpperCase()||h[0]&&h[0].toUpperCase()||void 0;return g<E?-1:g>E?1:0},getContactListItems:e=>{const t=s.getStreamsSelectors,a=s.sortContactAlphabetically,n=(0,s.getListsSelectors)(),r=n.getItemIdsSelectors,i=n.getTotalHits;if(!(0,n.doesListExist)(e))return[];const o=Object(H.u)(e);if(o===E.Qb.GROUPS){return r(e).getItemIds().map(t=>({id:Object(Xe.c)(t),itemType:t,listId:e,type:E.Pb.CONTACTS})).sort(a)}const c=t(),d=c.doesStreamExist,l=c.getExpansionStateForStreamItem,u=r(e).getItemIds().filter(e=>r(e).getItemIds().length>0),_=u.length>1,m=d(e),p=o===E.Qb.USER_CREATED_CONTACTS;return Object(k.c)(u.map(t=>{const s=_?[{id:t+"separator",listId:t,type:E.Pb.CONTACTS_SEPARATOR}]:[],n=r(t).getItemIds().map(e=>({id:e,listId:t,type:E.Pb.CONTACTS})),o=i(t);let c=n;if(p&&o>E.Tb){if(c=[...n.slice(0,E.Tb),{id:t+"loader",listId:t,type:E.Pb.EXPAND_COLLAPSE_CONTACTS}],m&&!!l({streamId:e,listId:e,csid:t})){const e=o-n.length,s=e>0&&Object(k.d)(e)||[];c=[...c,...n.slice(E.Tb).sort(a),...s.map(e=>({id:t+"loading"+e,listId:t,type:E.Pb.LOADING_INDICATOR}))]}}return[...s,...c]}))},getCustomContactGroups:()=>{const e=s.getItemIdsSelectors,t=s.doesListExist,a=Object(H.j)(E.Qb.GROUPS);return t(a)?e(a).getItemIds():[]},doesStreamExist:e=>s.getStreamsSelectors().doesStreamExist(e),getStreamSelectionType:e=>s.getStreamsSelectors().getSelectionType(e),getCursor:e=>{return(0,s.getStreamsSelectors().getCursorSelectors)(e).getCursor()},getCursorItem:e=>{return(0,s.getStreamsSelectors().getCursorSelectors)(e).getCursorItem()},hasSelectedStreamItems:e=>{const t=s.getStreamsSelectors().getSelectedItemsSelectors;return s.getStreamSelectionType(e)!==E.xd.NONE||t(e).hasSelectedItems()},getSelectedStreamItems:e=>{return(0,s.getStreamsSelectors().getSelectedItemsSelectors)(e).getSelectedItems().filter(({id:e,listId:t})=>!!s.doesListItemExist(t,e))},isStreamItemSelected:(e,t)=>{const a=s.getStreamsSelectors().getSelectedItemsSelectors,n=s.getRoute();return(!fr(n)||!Or(n))&&a(e).isItemSelected(t)},isMoveAllowed:(e,t)=>{const a=s.getAccountIdsOfSelectedItems,n=s.getMessageGroupStreamItems,r=s.getCurrentListId,i=(0,s.getFoldersSelectors)().getPrimaryFolderTypeByFolderId;if(t){const e=n(t);return!(!function(e){return e.every(e=>e.folderType===E.Cb.BULK)}(e)&&function(e){return e.every(e=>e.folderType===E.Cb.DRAFT)}(e))}const o=r(),c=a(e,o),d=Object(H.o)(o),l=d?i(d):null,u=Boolean(l);return 1===c.length&&!(u&&l===E.Cb.DRAFT)},getParticipantInFocus:()=>{const e=s.doesMessageGroupIdExist,t=s.getMessageIdsFromMessageGroupId,a=s.getStreamItemInFocus,n=s.getParticipant,r=s.getGroupId,i=(0,s.getMessagesSelectors)().doesMessageIdExist,o=a()||{},c=o.id||o.messageId,d=r();if(o&&i(c))return n(c);const l=e(d)?t(d):[],u=l[l.length-1];return i(u)?n(u):null},getImportantContactsSelectors:()=>t.importantContacts(e),getComposeSuggestionSelectors:()=>t.composeSuggestions(e),getRecentSearchesSelectors:()=>t.recentSearches(e),getBreakingNewsSelectors:()=>t.breakingNews(e),getSenderEmailIdsFromMessageGroup:e=>{const t={},a=s.getMyAddresses();return e.forEach(e=>{s.doesMessageGroupIdExist(e)&&s.getMessageIdsFromMessageGroupId(e).forEach(e=>{const n=s.getMessageFromAddress(e)[0];n&&n.email&&-1===a.indexOf(n.email)&&(t[n.email]=!0)})}),Object.keys(t)},getAdSectionIds:()=>{const e=s.getRoute,t=s.isFeatureEnabled,a=s.getSetting,n=s.getAction,r=s.getPrescribedNumberOfColumns,i=s.isMobileRoute,o=s.getSmartViewTypeFromRoute,c=(0,s.getAdsSelectors)().getSponsoredMomentData,d=n().type,l=e(),u=a(E.zd.GEMINI_SECTION_IDS),_=a(E.zd.PREFERRED_AD_FORMAT),m=i(l),p=2===r(),h=t(E.ub.SPONSORED_MOMENT)&&c()&&_!==N.PENCIL_AD,g=o(l)===E.Kd.COUPONS,I=[];switch(d){case v.Bd:if(t(E.ub.COUPON_REC_WITH_ADS))return{[E.Db.COUPON_REC]:u[E.Db.COUPON_REC]};break;case v.Lf:if(t(E.ub.RIGHT_RAIL_UPSELL_VIDEO_AD))return{[E.Db.RIGHT_RAIL_UPSELL]:u[E.Db.RIGHT_RAIL_UPSELL]}}if(g&&t(E.ub.DEALS_SHOPPING_CART_AD)&&t(E.ub.DEALS_VIEW_V2))return{[E.Db.DEALS_SHOPPING_CART]:u[E.Db.DEALS_SHOPPING_CART]};switch(l.name){case E.gd.BASE:case E.gd.FOLDER:case E.gd.SEARCH:h?I.push(E.Db.MESSAGE_LIST_SM):(t(E.ub.AD_PARTIALLY_ABOVE_FOLD)||I.push(E.Db.MESSAGE_LIST),t(E.ub.MESSAGE_LIST_AD_CAROUSEL)?I.push(E.Db.MESSAGE_LIST_CAROUSEL):t(E.ub.SECOND_PENCIL_AD)&&(I.push(E.Db.MESSAGE_LIST_2),u[E.Db.MESSAGE_LIST_2_FALLBACK]&&I.push(E.Db.MESSAGE_LIST_2_FALLBACK))),t(E.ub.SHOPPING_CART_AD)&&I.push(E.Db.SHOPPING_CART);break;case E.gd.MESSAGE_FROM_FOLDER_LIST:case E.gd.MESSAGE_FROM_SEARCH_LIST:case E.gd.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:case E.gd.MESSAGE_FROM_LIST:m&&p?h?I.push(E.Db.MESSAGE_LIST_SM):(t(E.ub.AD_PARTIALLY_ABOVE_FOLD)||I.push(E.Db.MESSAGE_LIST),t(E.ub.MESSAGE_LIST_AD_CAROUSEL)?I.push(E.Db.MESSAGE_LIST_CAROUSEL):t(E.ub.SECOND_PENCIL_AD)&&I.push(E.Db.MESSAGE_LIST_2)):(t(E.ub.SHOPPING_CART_AD)&&I.push(E.Db.SHOPPING_CART),h||I.push(E.Db.MESSAGE_READ),t(E.ub.SUBSCRIPTION_ADS)&&I.push(E.Db.SUBSCRIPTION))}return I.reduce((e,t)=>(u[t]&&(e[t]=u[t]),e),{})},isPeopleMessage:(e,t)=>{const a=s.getMessagesSelectors,n=s.getRelevantMessageIdFromMessageGroupId;return!!(0,s.isPeopleSmartViewEnabled)()&&!!(0,a().getDecos)(n(e,t)).find(({id:e})=>e===E.hb[E.Kd.PEOPLE])},isPeopleSmartViewEnabled(){const e=s.isFeatureEnabled,t=E.ub.SMARTVIEW_CATEGORIES_PEOPLE,a=E.ub.SMARTVIEW_CATEGORIES_PEOPLE_V2;return e(E.ub.SMARTVIEW_CATEGORIES_ALL)||e(t)||e(a)},isMessageReadAdRotationActive:()=>{const e=s.getStreamItemInFocus,t=s.getEnvironmentSelectors,a=s.getRoute,n=s.doesStreamExist,r=s.getCursorItem,i=(0,s.getFeaturesSelectors)(),o=i.isEnabled,c=i.getSetting,d=t().isAppVisible(),l=o(E.ub.MESSAGE_READ_AD_ROTATION),u=o(E.ub.HIDE_RIGHT_RAIL),_=c(E.zd.PREVIEW_PANE)!==E.Rc.NO,m=a(),p=Object(H.w)(m),h=e(),g=!(!h||!h.listId)&&Object(H.t)(h.listId)===E.Pb.MESSAGE;let I=m.name===E.gd.MESSAGE_FROM_SEARCH_LIST||m.name===E.gd.MESSAGE_FROM_FOLDER_LIST;if(_){const e=Object(q.a)([p]);I=!!(n(e)?r(e):null)}return l&&!u&&d&&I&&g},isComposeFocused:()=>{const e=s.getRouteName,t=(0,s.getStreamItemInFocus)()||{},a=t.folderType,n=t.listId,r=e();return r===E.gd.NEW_DRAFT||r===E.gd.EDIT_DRAFT||a===E.Cb.DRAFT||n&&Object(H.t)(n)===E.Pb.COMPOSE},getVideoChannelsMetaData:()=>(0,s.getVideoPlayerSelectors)().getChannelMetaData(),getAutotagSuggestions(e){const t=s.getComposeSessionsSelectors().getLastAutotagQuery(e);return s.getComposeSuggestions(t).slice(0,3)},couldShowEmptyFolderVideo(){const e=s.getMainStreamListIds,t=s.listExistsAndIsEmpty,a=(0,s.getRoute)();return!e(a).some(e=>!(Object(H.t)(e)===E.Pb.MESSAGES&&t(e)&&(a.name===E.gd.FOLDER||Object(H.O)(e)&&!Object(W.d)(e)&&a.name!==E.gd.MESSAGE_FROM_SEARCH_LIST)&&!Object(H.N)(a)))},listExistsAndIsEmpty(e){const t=s.isListEmpty,a=s.doesListHasMoreItems;return(0,s.doesListExist)(e)&&t(e)&&!a(e)},shouldShowAdBlockCoupons(e=!1){const t=s.isFeatureEnabled,a=s.getRouteName,n=s.getCurrentListId,r=s.getActionableRightRailPane,i=(0,s.getAdsSelectors)().isAdBlocked,o=a(),c=n(),d=Object(H.A)(c);return t(E.ub.AD_BLOCK_COUPONS)&&!t(E.ub.HIDE_RIGHT_RAIL)&&!r()&&(i()||e)&&(o===E.gd.FOLDER||o===E.gd.LIST||o===E.gd.SEARCH&&(d===E.Id[E.Kd.UNREAD]||d===E.Id[E.Kd.STARRED]))},hasMatchingDomainInMessageGroup:e=>{return(0,s.getSenderEmailIdsFromMessageGroup)([(0,s.getGroupId)()]).some(t=>!!e[Object(F.l)(t)])},getActionableRightRailPane:()=>{const e=s.isFeatureEnabled,t=(0,s.getSetting)(E.zd.ACTIONABLE_RIGHT_RAIL_CONTENT);switch(t&&t.currentView){case E.dd.CONTACTS_PANE:return e(E.ub.CONTACTS_PANE_FEATURE)?E.ed.ContactsPane:null;case E.dd.MEMBERSHIP_REWARDS:return E.ed.MembershipRewards;case E.dd.CALENDAR_PANE:return E.ed.CalendarPane;default:return null}},getContextualRightRailPanes:()=>{const e=s.isFeatureEnabled,t=s.isAttachmentRoute,a=s.isGroceriesOffersRoute,n=s.shouldShowAdBlockCoupons,r=s.shouldShowEbayWarrantyUpsell,i=s.getSetting,o=s.getSmartViewTypeFromRoute,c=s.getRoute,d=s.getBreakingNewsSelectors,l=(0,s.isRRUpsellVideoAdTimestampValid)(),u=c(),_=i(E.zd.BREAKING_NEWS_VERSION),m=i(E.zd.ACTIONABLE_RIGHT_RAIL_CONTENT),p=d().getNewsArticle(),h=e(E.ub.BREAKING_NEWS_ENABLED)&&(_===E.B.VERSION_4&&!!p.title&&!p.isRead||_===E.B.VERSION_5&&m&&m.currentView===E.dd.BREAKING_NEWS);if(t())return[E.ed.AttachmentUi];if(a())return[E.ed.RightPaneGroceriesList];if(e(E.ub.HIDE_RIGHT_RAIL))return[];const g=[];if(h&&g.push(E.ed.BreakingNews),l&&u.name!==E.gd.SEARCH||!e(E.ub.RIGHT_RAIL_CONTACT_CARD)&&!e(E.ub.MESSAGE_READ_CONTACT_CARD)||g.push(E.ed.ContactCard),e(E.ub.RIGHT_RAIL_MESSAGES_CARD)&&g.push(E.ed.MessageBrief),e(E.ub.RIGHT_RAIL_PHOTO_CARD)&&g.push(E.ed.PhotoBrief),e(E.ub.RIGHT_RAIL_DOCS_CARD)&&g.push(E.ed.DocumentBrief),e(E.ub.DEALS_VIEW_V2)&&o(u)===E.Kd.COUPONS&&g.push(E.ed.SavedDeals),e(E.ub.RETAILER_FILTER)&&g.push(E.ed.RetailerFilter),!l){r()&&i(E.zd.EBAY_WARRANTY_UPSELL_POSITION)===E.nb.RIGHT&&g.push(E.ed.EbayWarrantyUpsell),n()&&g.push(E.ed.AdBlockCoupons),e(E.ub.SUBSCRIPTION_ADS)&&g.push(E.ed.SubscriptionAds),e(E.ub.RIGHT_RAIL_NATIVE_AD)&&g.push(E.ed.RightRailNativeAd),e(E.ub.RELATED_SEARCHES_CARD)&&g.push(E.ed.RelatedSearchesCard),(e(E.ub.HIPMUNK_CARD)||e(E.ub.BOOKING_CARD)||e(E.ub.SEATGEEK_CARD))&&g.push(E.ed.TravelCardsGroup),e(E.ub.PLA_ADS_AVAILABLE)&&g.push(E.ed.PlaAds),e(E.ub.ADS)&&!t()&&!e(E.ub.RIGHT_RAIL_NATIVE_AD)&&!e(E.ub.HIDE_RIGHT_RAIL)&&!e(E.ub.RIGHT_RAIL_CONTACT_CARD)&&!e(E.ub.RIGHT_RAIL_PHOTO_CARD)&&!e(E.ub.RIGHT_RAIL_DOCS_CARD)&&!e(E.ub.PLA_ADS_AVAILABLE)&&!e(E.ub.RETAILER_FILTER)&&g.push(E.ed.RightPaneAds)}return g},getRightRailPanes:()=>{const e=s.getContextualRightRailPanes,t=(0,s.getActionableRightRailPane)();return t?[t]:e()},getPendingUpdate:()=>t.pendingUpdate(e).getPendingUpdate(),getDealsSelectors:()=>t.deals(e),getAccountIdsByFolderId:e=>{return e&&(0,s.doesFolderIdExist)(e)?yr("getAccountIdsByFolderId",()=>e,[e=>e.getFoldersSelectors()],()=>{const t=s.getFoldersSelectors().getAccountIdByFolderId(e);return t?[t]:[""]})(s):[]},getAccountIdsOfSelectedItems:(e,t)=>{const a=s.getSelectedStreamItems,n=s.getAccountIdFromMessageGroupId,r=[];return(0,s.doesStreamExist)(e)?(a(e).map(({id:e})=>e).reduce((e,s)=>(e.push(n(s,t)),e),r),_()(r)):r},getSelectedItems:e=>yr("getSelectedItems",()=>e,[e=>e.getStreamsSelectors()],()=>{const t=s.getSelectedStreamItems;return(0,s.doesStreamExist)(e)?t(e).reduce((e,{id:t})=>c()({},e,{[t]:!0}),{}):{}})(s),getListItems:e=>{return(0,s.doesListExist)(e)?yr("getListItems",()=>e,[e=>e.getListsSelectors()],()=>{const t=s.getListItemIds,a=s.__patchV2MessageGroupItemId__,n=s.__patchV2AttachmentId__,r=Object(H.t)(e);return t(e).map(t=>{switch(r){case E.Pb.MESSAGES:return a(t,e);case E.Pb.DOCUMENTS:case E.Pb.IMAGES:return n(t,e)}}).filter(e=>!e.messages||e.messages.length>0)})(s):[]},getMessageGroupRoutes:e=>{return(0,s.doesListExist)(e)?yr("getMessageGroupRoutes",()=>e,[e=>e.getListsSelectors(),e=>e.isFeatureEnabled(E.ub.CONVERSATIONS)],()=>{const t=s.getListItems,a=(0,s.isFeatureEnabled)(E.ub.CONVERSATIONS),n=Object(H.t)(e),r=t(e),i={};return r.forEach(t=>{const s=Object(V.r)({item:t,listId:e,isConversationMode:a});s&&(n===E.Pb.MESSAGES?i[t.id]=s:i[t.attachment.id]=s)}),i})(s):{}},getReceiptFromMessageId:e=>{const t=s.getCardMessageToSchemasSelectors,a=s.getReceiptSelectors,n=s.getRoute,r=s.getRelevantMessageIdFromMessageGroupId,i=s.getCardGroupsSelectors,o=s.getMessagesSelectors;let c=e;if(!c){const e=(0,s.getGroupId)();if(!e)return null;c=r(e,Object(H.w)(n()))}const d=o().getCardConversationId(c),l=i().getMessageIdsFromCardGroupId(d)||[];for(const e of l){const s=(t().getSchemas(e)||[]).find(e=>e.type===E.qd.Order)||{},n=a().getReceipt(s.id)||null;if(n)return n}return null},shouldShowEbayWarrantyUpsell:()=>{const e=s.getRelevantMessageIdFromMessageGroupId,t=s.getRoute,a=s.getGroupId,n=s.getMessagesSelectors,r=s.hasMatchingDomainInMessageGroup,i=s.getReceiptFromMessageId,o=s.getSetting,c=s.isNarrowScreen,d=(0,s.isFeatureEnabled)(E.ub.EBAY_WARRANTY_UPSELL),l=a();if(!d||!l)return!1;const u=Object(H.w)(t()),_=o(E.zd.EBAY_WARRANTY_UPSELL_POSITION),m=e(l,u);if(!m)return!1;const p=!!n().getDecos(m).find(e=>e.id===E.nc.ORD),h=i(m);if(!h)return!1;const g=h.orderedItems.some(({category:e=[]})=>e.some(({name:e=""})=>{const t=e.split(">")[0]||"";return y.f.some(e=>e===t.toLowerCase())})),I=Object(F.l)(Object(R.a)(h,"broker.url","")),S=(I&&I.indexOf("ebay.com")>-1||"eBay"===Object(R.a)(h,"broker.name",""))&&r({"ebay.com":"ebay.com"}),C=h.orderedItems.every(({name:e=""})=>!e.toLowerCase().includes("warranty")),f=_===E.nb.RIGHT&&c();return g&&p&&S&&C&&!f},getAllDraftsInRoute(e){const t=s.isDraftMessage,a=s.doesRouteContainDraft,n=s.doesMessageGroupIdExist,r=s.getMessageGroupStreamItems,i=(0,s.isFeatureEnabled)(E.ub.CONVERSATIONS);if(Ar(e)||Tr(e))return[e.params.csid];if(i&&Or(e)&&a(e)){const s=e.params.groupId,a=Object(H.w)(e);if(s&&n(s,a))return r({id:s,listId:a}).filter(({messageId:e})=>t(e)).map(({csid:e})=>e)}return[]},doesRouteContainDraft(e){const t=s.doesMessageGroupIdExist,a=s.getMainStreamListIds,n=s.doesStreamExist,r=s.getCursorItem,i=s.isDraftGroup,o=(0,s.getSetting)(E.zd.PREVIEW_PANE)===E.Rc.NO;if(Ar(e)||Tr(e))return!0;if(o){if(Or(e)){const s=e.params.groupId;if(t(s)&&i(s))return!0}}else{const s=a(e),o=Object(q.a)(s);if(o&&n(o)){const e=r(o);if(e&&e.id){const s=e.id;if(t(s)&&i(s))return!0}}}return!1},doesCurrentRouteContainDraft:()=>(0,s.doesRouteContainDraft)((0,s.getRoute)()),getFormattedTopRetailers:()=>{const e=s.getContactListSelectors,t=s.getContactById,a=(0,s.getDealsSelectors)().getTopRetailers()||[],n=e().getContactByEmail,r={};return a.map(({email:e,nameFromEmail:s})=>{const a=n(e)||t(e);return{email:e,name:a?a.name:s}}).filter(({name:e})=>!r[e]&&(r[e]=!0)).sort((e,t)=>e.name.toLowerCase()===t.name.toLowerCase()?0:e.name.toLowerCase()<t.name.toLowerCase()?-1:1)},canDisplayBlockSenderMenuItemForMessageId:t=>{const s=Pr(e),a=s.getFoldersSelectors,n=s.getMessageFolderId,r=s.getMessagesSelectors,i=s.getParticipant,o=s.getAccountSelectors;if(!(0,s.getFeaturesSelectors)().isEnabled(E.ub.BLOCK_SENDERS))return!1;const c=i(t);return!(!c||!Object(F.n)(c.email)||r().isVerifiedDomain(t)||a().getFolderTypes(n(t)).indexOf(E.Cb.SENT)>-1)&&-1===o().getMyAddresses().indexOf(c.email)},isRRUpsellVideoAdTimestampValid(){const e=s.getSetting,t=(0,s.isFeatureEnabled)(E.ub.RIGHT_RAIL_UPSELL_VIDEO_AD),a=60*e(E.zd.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION)*1e3;if(t&&Object(F.m)()){const e=window.localStorage.getItem(L.b);return e&&Date.now()-e<a}},getAllowedFolderNamesForMessageFilters:()=>{const e=s.getFolderFullName,t=s.getPrimaryAccountId,a=(0,s.getFoldersSelectors)(),n=a.getCustomFolderList,r=a.getSystemFolderList,i=t();return[...r(i),...n(i)].filter(({type:e})=>-1===[E.Cb.DRAFT,E.Cb.SENT,E.Cb.BULK].indexOf(e)).map(({id:t})=>e(t))},shouldNavigateSearchFromToAll:e=>{const t=s.isListEmpty,a=s.doesListExist,n=Object(H.w)(e);return n&&a(n)&&!Object(H.A)(n)&&Object(H.u)(n)===E.Qb.FROM&&t(n)}};return s})},function(e,t,s){"use strict";s.r(t);var a=s(50),n=s.n(a);var r=s(24);s.d(t,"GRID_UNIT",function(){return i}),s.d(t,"BASE_LINK_COLOR",function(){return o}),s.d(t,"SELECTED",function(){return c}),s.d(t,"TRANSPARENT",function(){return d}),s.d(t,"BLUE",function(){return l}),s.d(t,"RED",function(){return u}),s.d(t,"SALMON",function(){return _}),s.d(t,"DARK_BLUE",function(){return m}),s.d(t,"DARK_THEME_BLUE",function(){return p}),s.d(t,"WHITE",function(){return h}),s.d(t,"BLACK",function(){return g}),s.d(t,"BACKGROUND_COLOR",function(){return E}),s.d(t,"IMPROVED_GRAY",function(){return I}),s.d(t,"IMPROVED_GRAY_DARK",function(){return S}),s.d(t,"LESS_IMPORTANT_GRAY",function(){return C}),s.d(t,"FIRST_LEVEL_GRAY",function(){return f}),s.d(t,"OVERLAY",function(){return T}),s.d(t,"YAHOO_PURPLE",function(){return A}),s.d(t,"SECOND_LEVEL_GRAY",function(){return b}),s.d(t,"THIRD_LEVEL_GRAY",function(){return O}),s.d(t,"FIRST_LEVEL_ORANGE",function(){return R}),s.d(t,"FOURTH_LEVEL_GRAY",function(){return N}),s.d(t,"FIFTH_LEVEL_GRAY",function(){return M}),s.d(t,"COOL_FAINT",function(){return D}),s.d(t,"HEADING_PURPLE",function(){return y}),s.d(t,"WORK_AREA_BACKGROUND_COLOR",function(){return L}),s.d(t,"BORDER_MEDIUM_COLOR",function(){return v}),s.d(t,"MODE_CHOOSER_BLOCK_GRAY",function(){return P}),s.d(t,"BLOCK_IMAGE_BANNER_GRAY",function(){return F}),s.d(t,"GREEN",function(){return w}),s.d(t,"FOLDER_ITEM_HOVER_BGCOLOR",function(){return k}),s.d(t,"BURN_5",function(){return x}),s.d(t,"BURN_8",function(){return U}),s.d(t,"BURN_10",function(){return G}),s.d(t,"BURN_16",function(){return j}),s.d(t,"BURN_20",function(){return H}),s.d(t,"BURN_24",function(){return B}),s.d(t,"BURN_30",function(){return V}),s.d(t,"BURN_46",function(){return W}),s.d(t,"BURN_60",function(){return q}),s.d(t,"BURN_70",function(){return z}),s.d(t,"BURN_85",function(){return K}),s.d(t,"BURN_80",function(){return Z}),s.d(t,"DODGE_6",function(){return Y}),s.d(t,"DODGE_8",function(){return X}),s.d(t,"DODGE_10",function(){return Q}),s.d(t,"DODGE_12",function(){return $}),s.d(t,"DODGE_16",function(){return J}),s.d(t,"DODGE_20",function(){return ee}),s.d(t,"DODGE_30",function(){return te}),s.d(t,"DODGE_50",function(){return se}),s.d(t,"DODGE_60",function(){return ae}),s.d(t,"DODGE_80",function(){return ne}),s.d(t,"DODGE_95",function(){return re}),s.d(t,"HEADER_COLOR_1",function(){return ie}),s.d(t,"HEADER_COLOR_2",function(){return oe}),s.d(t,"SRP_LINK_COLOR",function(){return ce}),s.d(t,"ITEM_HOVER_BGCOLOR",function(){return de}),s.d(t,"ITEM_SELECTED_BGCOLOR",function(){return le}),s.d(t,"MESSAGE_LIST_GEMINI_AD_BGCOLOR",function(){return ue}),s.d(t,"MESSAGE_LIST_HOVER_GEMINI_AD_BGCOLOR",function(){return _e}),s.d(t,"ATTACHMENT_LIGHT_PURPLE",function(){return me}),s.d(t,"ATTACHMENT_MEDIUM_PURPLE",function(){return pe}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_MEDIUM_PURPLE",function(){return he}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_LIGHT_PURPLE",function(){return ge}),s.d(t,"COUPON_SELF_EXTRACTION_MODAL_FAINT_PURPLE",function(){return Ee}),s.d(t,"PILL_SELECTED_BGCOLOR",function(){return Ie}),s.d(t,"DEFAULT_BACKGROUND_COLOR",function(){return Se}),s.d(t,"MAIN_APP_BORDER",function(){return Ce}),s.d(t,"PRIMARY_BUTTON_ACTIVE_COLOR",function(){return fe}),s.d(t,"PRIMARY_BUTTON_TEXT_COLOR",function(){return Te}),s.d(t,"PRIMARY_BUTTON_PRESSED_COLOR",function(){return Ae}),s.d(t,"PRIMARY_BUTTON_INACTIVE_TEXT_COLOR",function(){return be}),s.d(t,"PRIMARY_BUTTON_INACTIVE_COLOR",function(){return Oe}),s.d(t,"PRIMARY_BUTTON_HOVER_COLOR",function(){return Re}),s.d(t,"SECONDARY_BUTTON_NORMAL",function(){return Ne}),s.d(t,"SECONDARY_BUTTON_ACTIVE",function(){return Me}),s.d(t,"PRIMARY_BUTTON_ACTIVE_COLOR_LIGHT",function(){return De}),s.d(t,"HOVER_BUTTON_COLOR_LIGHT",function(){return ye}),s.d(t,"BORDER_SEGMENT",function(){return Le}),s.d(t,"BORDER_SEGMENT_LIGHT",function(){return ve}),s.d(t,"SEGMENT_DEFAULT_DARK",function(){return Pe}),s.d(t,"SEGMENT_ACTIVE_DARK",function(){return Fe}),s.d(t,"BOLD",function(){return we}),s.d(t,"NORMAL",function(){return ke}),s.d(t,"MEDIUM",function(){return xe}),s.d(t,"SMALL",function(){return Ue}),s.d(t,"BASE_FONT_STACK",function(){return Ge}),s.d(t,"ROUNDED_FONT_STACK",function(){return je}),s.d(t,"MOBILE_BASE_FONT_STACK",function(){return He}),s.d(t,"BASE_FONT_WEIGHT",function(){return Be}),s.d(t,"BASE_FONT_SIZE",function(){return Ve}),s.d(t,"BASE_LINE_HEIGHT",function(){return We}),s.d(t,"LOWEST_LINE_HEIGHT",function(){return qe}),s.d(t,"LOWER_LINE_HEIGHT",function(){return ze}),s.d(t,"HIGHER_LINE_HEIGHT",function(){return Ke}),s.d(t,"HIGHEST_LINE_HEIGHT",function(){return Ze}),s.d(t,"ALT_FONT_STACK",function(){return Ye}),s.d(t,"FONT_SIZE_XXS",function(){return Xe}),s.d(t,"FONT_SIZE_XS",function(){return Qe}),s.d(t,"FONT_SIZE_S",function(){return $e}),s.d(t,"FONT_SIZE_M",function(){return Je}),s.d(t,"FONT_SIZE_L",function(){return et}),s.d(t,"FONT_SIZE_XL",function(){return tt}),s.d(t,"FONT_SIZE_XXL",function(){return st}),s.d(t,"ICON_SIZE_XXXS",function(){return at}),s.d(t,"ICON_SIZE_XXS",function(){return nt}),s.d(t,"ICON_SIZE_XS",function(){return rt}),s.d(t,"ICON_SIZE_S",function(){return it}),s.d(t,"ICON_SIZE_M",function(){return ot}),s.d(t,"ICON_SIZE_L",function(){return ct}),s.d(t,"ICON_SIZE_XL",function(){return dt}),s.d(t,"ICON_SIZE_XXL",function(){return lt}),s.d(t,"ICON_SIZE_XXXL",function(){return ut}),s.d(t,"AVATAR_SIZE_S",function(){return _t}),s.d(t,"AVATAR_SIZE_M",function(){return mt}),s.d(t,"AVATAR_SIZE_L",function(){return pt}),s.d(t,"AVATAR_SIZE_COMPACT",function(){return ht}),s.d(t,"AVATAR_SIZE_40",function(){return gt}),s.d(t,"AVATAR_SIZE_24",function(){return Et}),s.d(t,"AVATAR_SIZE_42",function(){return It}),s.d(t,"AVATAR_SIZE_44",function(){return St}),s.d(t,"AVATAR_SIZE_60",function(){return Ct}),s.d(t,"IconColors",function(){return ft}),s.d(t,"BORDER_SUPER_LIGHT",function(){return Tt}),s.d(t,"BORDER_LIGHT",function(){return At}),s.d(t,"BORDER_DARK",function(){return bt}),s.d(t,"BORDER_WARNING",function(){return Ot}),s.d(t,"BORDER_ACTIVE",function(){return Rt}),s.d(t,"BORDER_MEDIUM",function(){return Nt}),s.d(t,"BOX_SHADOW_NORMAL",function(){return Mt}),s.d(t,"ShadowBlurs",function(){return Dt}),s.d(t,"SHADOW_COLOR",function(){return yt}),s.d(t,"Shadows",function(){return Lt}),s.d(t,"FOCUS_OUTLINE",function(){return vt}),s.d(t,"FOCUS_OUTLINE_DARK_THEME_MODE",function(){return Pt}),s.d(t,"APP_HEADER_FOCUS_OUTLINE",function(){return Ft}),s.d(t,"MESSAGE_TOOLBAR_CONTAINER_HEIGHT",function(){return wt}),s.d(t,"MESSAGE_LIST_ITEM_NORMAL_HEIGHT",function(){return kt}),s.d(t,"MESSAGE_LIST_ITEM_SLIM_HEIGHT",function(){return xt}),s.d(t,"MESSAGE_LIST_ITEM_RELAXED_HEIGHT",function(){return Ut}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT",function(){return Gt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SLIM_HEIGHT",function(){return jt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_RELAXED_HEIGHT",function(){return Ht}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_NORMAL_HEIGHT",function(){return Bt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_SLIM_HEIGHT",function(){return Vt}),s.d(t,"MESSAGE_LIST_ITEM_COMPACT_SNIPPET_RELAXED_HEIGHT",function(){return Wt}),s.d(t,"MESSAGE_LIST_ITEM_LOAD_MORE_HEIGHT",function(){return qt}),s.d(t,"MESSAGE_LIST_GEMINI_AD_HEIGHT",function(){return zt}),s.d(t,"MESSAGE_LIST_GEMINI_AD_HEIGHT_M",function(){return Kt}),s.d(t,"MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT",function(){return Zt}),s.d(t,"MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT",function(){return Yt}),s.d(t,"MESSAGE_LIST_FEEDBACK_FORM_HEIGHT",function(){return Xt}),s.d(t,"MOBILE_MESSAGE_LIST_ITEM_HEIGHT",function(){return Qt}),s.d(t,"MOBILE_SNIPPET_MESSAGE_LIST_ITEM_HEIGHT",function(){return $t}),s.d(t,"TRAVEL_LIST_ITEM_HEIGHT",function(){return Jt}),s.d(t,"PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET",function(){return es}),s.d(t,"PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET",function(){return ts}),s.d(t,"PREVIEW_PANE_DEFAULT_TOP_PIXELS_OFFSET",function(){return ss}),s.d(t,"PREVIEW_PANE_CONSTRAINT_TOP_PIXELS_OFFSET",function(){return as}),s.d(t,"PREVIEW_PANE_CONSTRAINT_BOTTOM_PIXELS_OFFSET",function(){return ns}),s.d(t,"PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET",function(){return rs}),s.d(t,"PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET",function(){return is}),s.d(t,"PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS",function(){return os}),s.d(t,"PREVIEW_PANE_RIGHT_PANE_MINIMUM_PIXELS",function(){return cs}),s.d(t,"PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS",function(){return ds}),s.d(t,"PREVIEW_PANE_BOTTOM_PANE_MINIMUM_PIXELS",function(){return ls}),s.d(t,"ITEM_LIST_SEPARATOR_HEIGHT",function(){return us}),s.d(t,"MOBILE_ITEM_LIST_SEPARATOR_HEIGHT",function(){return _s}),s.d(t,"SEARCH_BAR_HEIGHT",function(){return ms}),s.d(t,"PHOTO_ITEM_SIZE",function(){return ps}),s.d(t,"PHOTO_SIZE_PLUS_PADDING",function(){return hs}),s.d(t,"PHOTO_ITEM_SMALL_SIZE",function(){return gs}),s.d(t,"DOCUMENT_ITEM_HEIGHT",function(){return Es}),s.d(t,"OFFER_CARD_ITEM_WIDTH",function(){return Is}),s.d(t,"OFFER_CARD_ITEM_HEIGHT",function(){return Ss}),s.d(t,"ACTIVATED_OFFERS_THUMBNAIL_WIDTH",function(){return Cs}),s.d(t,"YM6_OFFER_CARD_ITEM_WIDTH",function(){return fs}),s.d(t,"YM6_OFFER_CARD_ITEM_HEIGHT",function(){return Ts}),s.d(t,"STORE_SUMMARY_ITEM_HEIGHT",function(){return As}),s.d(t,"CATEGORY_ITEM_WIDTH",function(){return bs}),s.d(t,"CATEGORY_ITEM_HEIGHT",function(){return Os}),s.d(t,"HEADING_FONT_WEIGHT",function(){return Rs}),s.d(t,"STYLELESS_INPUT",function(){return Ns}),s.d(t,"STYLELESS_BUTTON",function(){return Ms}),s.d(t,"ButtonPadding",function(){return Ds}),s.d(t,"PALETTE",function(){return ys}),s.d(t,"TabIndices",function(){return Ls}),s.d(t,"ZIndices",function(){return vs}),s.d(t,"TAB_MIN_WIDTH",function(){return Ps}),s.d(t,"TAB_MAX_WIDTH",function(){return Fs}),s.d(t,"TAB_MENU_WIDTH",function(){return ws}),s.d(t,"TAB_MENU_WIDTH_WITH_CATEGORIES",function(){return ks}),s.d(t,"NAVIGATION_WIDTH",function(){return xs}),s.d(t,"NAVIGATION_PERCENTAGE_WIDTH",function(){return Us}),s.d(t,"NAVIGATION_MAX_WIDTH",function(){return Gs}),s.d(t,"APP_MIN_WIDTH_VERTICAL_VIEW",function(){return js}),s.d(t,"APP_MIN_WIDTH",function(){return Hs}),s.d(t,"NARROW_SCREEN_WIDTH",function(){return Bs}),s.d(t,"WIDE_SCREEN_WIDTH",function(){return Vs}),s.d(t,"FOLDER_INDENTATION",function(){return Ws}),s.d(t,"BREAKPOINTS",function(){return qs}),s.d(t,"PillMaxWidths",function(){return zs}),s.d(t,"ACCESSIBLE",function(){return Ks}),s.d(t,"AD_WIDTH_NARROW",function(){return Zs}),s.d(t,"AD_WIDTH_WIDE",function(){return Ys}),s.d(t,"MESSAGE_LIST_CAROUSEL_AD_HEIGHT",function(){return Xs}),s.d(t,"MESSAGE_LIST_CAROUSEL_AD_HEIGHT_L",function(){return Qs}),s.d(t,"PENCIL_AD_HEIGHT_L",function(){return $s}),s.d(t,"RIGHT_RAIL_WIDTH_VALUE",function(){return Js}),s.d(t,"SRP_RIGHT_RAIL_WIDTH",function(){return ea}),s.d(t,"RIGHT_RAIL_WIDTH",function(){return ta}),s.d(t,"RIGHT_RAIL_NARROW_WIDTH",function(){return sa}),s.d(t,"FEATURE_CUE_BACKGROUND_COLOR",function(){return aa}),s.d(t,"FEATURE_CUE_PADDING",function(){return na}),s.d(t,"FEATURE_CUE_HEADER_TEXT",function(){return ra}),s.d(t,"FEATURE_CUE_BODY_TEXT",function(){return ia}),s.d(t,"FEATURE_CUE_CONTAINER",function(){return oa}),s.d(t,"FEATURE_CUE_HIGHLIGHT_COLOR",function(){return ca}),s.d(t,"FEATURE_CUE_HIGHLIGHT_SHADOW_COLOR",function(){return da}),s.d(t,"MOBILE_TRANSITION_DURATION",function(){return la}),s.d(t,"Gradients",function(){return ua}),s.d(t,"MOBILE_CARD_HEADER_HEIGHT",function(){return _a}),s.d(t,"ESTIMATED_SOFT_KEYBOARD_HEIGHTS",function(){return ma}),s.d(t,"DEAL_ITEM_HEIGHT",function(){return pa}),s.d(t,"COUPON_LIST_ITEM_HEIGHT",function(){return ha}),s.d(t,"RECEIPT_LIST_ITEM_HEIGHT",function(){return ga}),s.d(t,"ZERO_SAVED_COUPONS_VIEW_HEIGHT",function(){return Ea}),s.d(t,"RETAILERS_LIST_ITEM_HEIGHT",function(){return Ia}),s.d(t,"RETAILERS_LIST_ITEM_WIDTH",function(){return Sa}),s.d(t,"ZERO_SAVED_GROCERY_STORES_ITEM_HEIGHT",function(){return Ca}),s.d(t,"ROADTRIP_PHOTO_THEME_BROWN",function(){return fa}),s.d(t,"scrollToTopButtonContainer",function(){return Ta}),s.d(t,"settingsSubHeaderLinkStyle",function(){return Aa}),s.d(t,"defaultFujiIcon",function(){return ba}),s.d(t,"fujiIconButtonContent",function(){return Oa}),s.d(t,"YBAR_HEIGHT",function(){return Ra}),s.d(t,"POPOVER_CONTENT_BORDER_RADIUS",function(){return Na}),s.d(t,"BASIC_MOBILE_NAVIGATION_BAR_HEIGHT",function(){return Ma}),s.d(t,"BASIC_MOBILE_MESSAGE_HEIGHT",function(){return Da}),s.d(t,"SKELETON_CENTER_COL_WIDTH",function(){return ya});const i=4,o=n.a.ycolorBlue10a,c=n.a.ycolorBlue10a,d="transparent",l=n.a.ycolorBlue10a,u=n.a.ycolorRed2a,_=n.a.ycolorSalmon3b,m="#00008B",p="#12a9ff",h="#fff",g=n.a.ycolorGrayA,E="rgba(241, 241, 245, .5)",I="#a7acbb",S="#5b636a",C=n.a.ycolorGrayD,f=n.a.ycolorGrayE,T=n.a.ycolorPurple14a,A="#400090",b=n.a.ycolorGrayF,O=n.a.ycolorGrayG,R=n.a.ycolorOrange4a,N=n.a.ycolorGrayH,M=n.a.ycolorGrayI,D=n.a.ycolorGrayFg,y="#775eec",L=h,v=n.a.ycolorGrayFg,P=n.a.ycolorGrayH,F=n.a.ycolorGrayJ,w="#1AC567",k="rgba(24, 143, 255, 0.08)",x="rgba(0, 0, 0, .05)",U="rgba(0, 0, 0, .08)",G="rgba(0, 0, 0, .1)",j="rgba(0, 0, 0, .16)",H="rgba(0, 0, 0, .2)",B="rgba(0, 0, 0, .24)",V="rgba(0, 0, 0, .3)",W="rgba(0, 0, 0, .46)",q="rgba(0, 0, 0, .6)",z="rgba(0, 0, 0, .7)",K="rgba(0, 0, 0, .85)",Z="rgba(039, 41, 43, .8)",Y="rgba(255, 255, 255, .06)",X="rgba(255, 255, 255, .08)",Q="rgba(255, 255, 255, .10)",$="rgba(255, 255, 255, .12)",J="rgba(255, 255, 255, .16)",ee="rgba(255, 255, 255, .2)",te="rgba(255, 255, 255, .3)",se="rgba(255, 255, 255, .5)",ae="rgba(255, 255, 255, .6)",ne="rgba(255, 255, 255, .8)",re="rgba(255, 255, 255, .95)",ie="#7282fb",oe="#7934f7",ce=o,de="rgba(24,143,255, 0.08)",le="rgba(24,143,255, 0.16)",ue="#ccf5e4",_e="#baf4d7",me="#7daae8",pe="#7a50ee",he="#7934F7",ge="#7282FB",Ee="#DECDFC",Ie="#daedff",Se="#f4f4f7",Ce="1px solid "+n.a.ycolorGrayH,fe=n.a.ycolorBlue10a,Te=h,Ae=n.a.ycolorBlueviolet12a,be=n.a.ycolorGrayG,Oe=n.a.ycolorGrayH,Re=n.a.ycolorBlue10b,Ne=n.a.ycolorBlue10a,Me=n.a.ycolorBlueviolet12a,De="rgba(24,143,255,0.16)",ye="rgba(24,143,255,0.04)",Le="1px solid",ve="rgba(24,143,255,0.32)",Pe=n.a.ycolorGrayC,Fe=n.a.ycolorGrayA,we="bold",ke="normal",xe=500,Ue=400,Ge='"Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',je='"Arial Rounded MT Bold", "Helvetica Rounded", Arial, sans-serif',He="Roboto, San Francisco, -apple-system, Helvetica Neue, SegoeUI, Helvetica, Arial, Sans-Serif",Be="regular",Ve="13px",We="18px",qe="13px",ze="15px",Ke="20px",Ze="24px",Ye='"Helvetica Neue Medium", "Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',Xe="11px",Qe="12px",$e="13px",Je="15px",et="17px",tt="24px",st="30px",at="12px",nt="16px",rt="20px",it="24px",ot="32px",ct="48px",dt="72px",lt="96px",ut="120px",_t=20,mt=32,pt=96,ht=28,gt=40,Et=24,It=42,St=44,Ct=60,ft={NORMAL:g,FIRST_LEVEL_GRAY:f,FIRST_LEVEL_ORANGE:R,NORMAL_LESS_DIM:"rgba(38, 40, 42, 0.8)",IMPROVED_GRAY_DARK:S,INVERTED:h,INVERTED_MORE_DIM:"rgba(255, 255, 255, 0.3)",INVERTED_DIM:"rgba(255, 255, 255, 0.5)",INVERTED_LESS_DIM:"rgba(255, 255, 255, 0.8)",SELECTED:c,PRIMARY_HOVER:Re,SELECTED_DARK_THEME_MODE:p,DISABLED:b,STARRED:n.a.ycolorOrange4a,STARRED_DARK:n.a.ycolorYellow5c,SMARTVIEW_DARK:"rgba(255, 255, 255, .6)",LESS_IMPORTANT:C,SECOND_LEVEL_GRAY:b,THIRD_LEVEL_GRAY:O,FAINT:n.a.ycolorGrayH,COOL_FAINT:n.a.ycolorGrayFg,ADVISORY:n.a.ycolorYellow5c,WARNING:n.a.ycolorPink1a,HEADING:y,HOVER_BGCOLOR:"rgba(24, 143, 255, 0.08)",ICON_HOVER_BGCOLOR:"rgba(24, 143, 255, 0.15)",ACTIVE_BGCOLOR:"rgba(185, 189, 197, 0.3)",YBADGE:n.a.ycolorPurple14c,YBANG:n.a.ycolorPurple14b,GREEN:n.a.ycolorGreen6b,PURPLE:T,TOUCH_PRIMARY:n.a.ycolorBlue10a,Attachments:{MEDIA:n.a.ycolorFuchsia18a,CAL:n.a.ycolorFuchsia18a,EXCEL:n.a.ycolorGreen6b,DOC:n.a.ycolorBlue10b,SLIDE:n.a.ycolorOrange4c,PDF:n.a.ycolorOrange4c,GENERIC:n.a.ycolorBlue10a,COMPRESSED:n.a.ycolorTurquoise8b},SmartViews:{PEOPLE:n.a.ycolorYellow5c,SHOPPING:"#EF5483"},SocialIcons:{FACEBOOK:"#3B5998",LINKEDIN:"#0077B5",TWITTER:"#1DA1F2"}},Tt=`1px solid ${n.a.ycolorGrayI}`,At=`1px solid ${n.a.ycolorGrayH}`,bt=`1px solid ${g}`,Ot=`1px solid ${n.a.ycolorPink1a}`,Rt=`1px solid ${n.a.ycolorGrayF}`,Nt=`1px solid ${v}`,Mt=`0 ${2*i}px ${2*i}px ${-2*i}px\n    rgba(0,0,0,.5)`,Dt={LOW:3,MEDIUM:6,HIGH:10},yt="rgba(0, 0, 0, .3)",Lt={LOW:`0 0 ${Dt.LOW}px ${yt}`,MED:`0 0 ${Dt.MEDIUM}px ${yt}`,HIGH:`0 0 ${Dt.HIGH}px ${yt}`,BLACK_MED:`0 0 ${Dt.MEDIUM}px rgb(0, 0, 0)`},vt=`1px dotted ${n.a.ycolorGrayA}`,Pt="1px dotted #c7cad1",Ft=`1px dotted ${n.a.ycolorGrayFg}`,wt=13*i,kt=8*i,xt=6*i,Ut=11*i,Gt=14*i,jt=12*i,Ht=15*i,Bt=18*i,Vt=16*i,Wt=20*i,qt=18*i,zt=12*i,Kt=12*i,Zt=18*i,Yt=3.25*Zt,Xt=2*zt,Qt=15*i,$t=20*i,Jt=34*i,es=32,ts=30,ss=180,as=180,ns=180,rs=32,is=45,os=285,cs=490,ds=180,ls=180,us=8*i,_s=10*i,ms=12*i,ps=150,hs=ps+8,gs=100,Es=16*i,Is=105*i,Ss=26.75*i,Cs=13*i,fs=106.5*i,Ts=29*i,As=24*i,bs=34*i,Os=41*i,Rs=we,Ns={border:0,boxShadow:"none",width:"100%",minHeight:"40px"},Ms={fontFamily:Ge,fontSize:Ve,border:0,backgroundColor:d},Ds={XXXS:.25*i,XXS:.5*i,XS:1*i,S:2*i,M:2*i,L:3*i,XL:4*i,XXL:4*i},ys=n.a,Ls={APP_HEADER_MAIL_APPS:0,APP_HEADER_ACCOUNT_MENU:0,APP_HEADER_SEARCHBOX:10,FOLDER_LIST:20,MESSAGE_LIST_TOOLBAR:30,MESSAGE_LIST_MAIN:40,MESSAGE_GROUP_HEADER:50,SEGMENTED_CONTROL_FILTERS:60,ATTACHMENT_PREVIEW:70,ATTACHMENT_PREVIEW_TOOLBAR:80,COMMS_PROPERTIES_BAR:90,FOLDER_SELECTION_MENU:100},vs={CURSOR:11e3,MODAL:1e4,POPOVER:{LOW:100,MEDIUM:500,HIGH:900},OVERLAY:9e3,NOTIFICATION:9100,NOTIFICATION_FROM_MODAL:10100,PERSISTENT_NOTIFICATION:90,TIMECHUNK:10},Ps=108,Fs=144,ws=28,ks=250,xs=192,Us=14,Gs=224,js=1280,Hs=1024,Bs=1360,Vs=1600,Ws="0 0 0 8px",qs={H860:"@media (min-height: 860px)",W1280:"@media (min-width: 1280px)",W1360:"@media (min-width: 1360px)",W1440:"@media (min-width: 1440px)",W1600:"@media (min-width: 1600px)",W1920:"@media (min-width: 1920px)",W769:"@media (min-width: 769px)",W768:"@media (max-width: 768px)",MAXWIDTH1280:"@media (max-width: 1280px)"},zs={S:"88px",L:"160px"},Ks={position:"absolute",left:"-10000px",top:"auto",width:"1px",height:"1px",overflow:"hidden"},Zs=192,Ys=332,Xs=200,Qs=320,$s=280,Js=332,ea="300px",ta=`${Js}px`,sa=`${Zs}px`,aa=ys.ycolorBlue10a,na="18px 24px 24px",ra={lineHeight:"24px",fontSize:et,fontWeight:xe,color:g},ia={fontSize:Ve,lineHeight:We,color:g},oa={backgroundColor:h,padding:na,minWidth:"200px",maxWidth:"450px"},ca=n.a.ycolorYellow5c,da="rgba(255,183,0,0.30)",la={enter:225,leave:195,fullScreen:375},ua={POSITIVE:`linear-gradient(60deg, ${n.a.ycolorTurquoise8a}, #26D2AA, ${n.a.ycolorBluegreen7a})`,NEGATIVE:`linear-gradient(60deg, ${n.a.ycolorSalmon3b}, #F32C53, ${n.a.ycolorFuchsia18a})`,NEUTRAL:"linear-gradient(60deg, #FFA008, #FF7812, #FF501B)"},_a=14*i,ma={iPad:{landscape:398,portrait:312}},pa=29*i,ha=9*i,ga=9*i,Ea=19*i,Ia=44.75*i,Sa=51.5*i,Ca=37.5*i,fa="#2A211E",Ta={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:`${4*i}px`,right:0,height:`${8*i}px`,width:`${8*i}px`,marginRight:"16px",backgroundColor:Object(r.a)("#000",.7),borderRadius:"2px",cursor:"pointer",zIndex:2},Aa={color:o,textDecoration:"none"},ba={display:"inline-block",width:it,height:it,fill:ft.NORMAL,"pointer-events":"none",flexShrink:0,WebkitTapHighlightColor:d},Oa={display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},Ra=21*i,Na={LOW:2,MEDIUM:4,HIGH:6,MOBILE_DEFAULT:8},Ma=11*i,Da="79px",ya="100%"},,function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"f",function(){return r}),s.d(t,"b",function(){return i}),s.d(t,"i",function(){return o}),s.d(t,"h",function(){return c}),s.d(t,"g",function(){return d}),s.d(t,"d",function(){return l}),s.d(t,"a",function(){return u}),s.d(t,"e",function(){return _});var a=s(9);const n={S:6,M:12,L:24},r=.95,i=Object(a.c)(n),o=Object(a.c)(["MOUNT","HOVER","CLICK","RIGHTCLICK"]),c=Object(a.c)(["UP","DOWN","START","END","ANY"]),d=Object(a.c)(["HORIZONTAL","VERTICAL"]),l=Object(a.c)(["DEFAULT","DARK","GRADIENT","LIGHTGRAY"]),u=Object(a.c)(["CENTER","START","END","ANY"]),_=Object(a.c)(["LOW","MEDIUM","HIGH","MOBILE_DEFAULT"])},,function(e,t,s){"use strict";s.d(t,"a",function(){return I});var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=s(3),c=s.n(o),d=(s(8),s(1)),l=s.n(d),u=s(638),_=s.n(u),m=s(13),p=s.n(m),h=s(5);s(9);const g={ADD:l.a.createElement("path",{d:"M13.75 9.25h-3v-3c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3h-3c-.414 0-.75.336-.75.75s.336.75.75.75h3v3c0 .414.336.75.75.75s.75-.336.75-.75v-3h3c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),ADDATTACHMENT:l.a.createElement("path",{d:"M13.334 9.166h-2.5v-2.5c0-.46-.374-.834-.834-.834s-.834.374-.834.834v2.5h-2.5c-.46 0-.834.374-.834.834 0 .46.374.834.834.834h2.5v2.5c0 .46.372.834.834.834s.834-.372.834-.834v-2.5h2.5c.46 0 .834-.372.834-.834s-.374-.834-.834-.834zM10 .834C4.938.834.834 4.938.834 10S4.938 19.166 10 19.166s9.166-4.104 9.166-9.166S15.062.834 10 .834zM10 17.5c-4.143 0-7.5-3.358-7.5-7.5 0-4.143 3.357-7.5 7.5-7.5s7.5 3.357 7.5 7.5c0 4.142-3.357 7.5-7.5 7.5z"}),ALIGN_CENTER:l.a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM6 7c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1H6zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM14 15H6c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),ALIGN_LEFT:l.a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM4 9h8c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM12 15H4c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),APP_HIDDEN:l.a.createElement("path",{d:"M15.9 6.2c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1C6.2 2.9 5.3 2 4.1 2 2.9 2 2 2.9 2 4.1c0 1.2.9 2.1 2.1 2.1zm11.8 5.9c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1C2.9 7.9 2 8.8 2 10c0 1.2.9 2.1 2.1 2.1zM15.9 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zM10 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1z"}),ARCHIVE:l.a.createElement("path",{d:"M17.25 7H11.767v.75c0 .966-.784 1.75-1.75 1.75s-1.75-.784-1.75-1.75V7H2.75c-.414 0-.75.336-.75.75v8.5c0 .414.336.75.75.75h14.5c.414 0 .75-.336.75-.75v-8.5c0-.414-.336-.75-.75-.75zM3 5h14c.552 0 1-.448 1-1s-.448-1-1-1H3c-.552 0-1 .448-1 1s.448 1 1 1z"}),ARROW_RIGHT_DOC:l.a.createElement("path",{d:"M7.252 17.785L14.72 10 7.25 2.214c-.285-.287-.748-.287-1.035 0-.287.285-.287.75 0 1.035l6.34 6.75-6.34 6.75c-.286.285-.286.748 0 1.035.287.287.75.287 1.037 0"}),ARROW_UP:l.a.createElement("path",{d:"M14.8 8.5l-5-5-5 5c-.3.3-.3.8 0 1.1s.8.3 1.1 0L9 6.4v9.4c0 .4.3.8.8.8s.8-.3.8-.8V6.4l3.2 3.2c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.8 0-1.1z"}),ATTACH:l.a.createElement("path",{d:"M16.7 16.5c-1.7 1.7-4.4 1.7-6.1 0l-3.9-3.9c-1-1-1.1-2.7 0-3.9 1.1-1.1 2.8-1.1 3.9 0l3.6 3.6c.3.3.3.8 0 1.1s-.8.3-1.1 0L9.6 9.9c-.5-.5-1.2-.5-1.7 0s-.5 1.2 0 1.7l4.1 4.1s1.8 1.5 3.6-.3c1.1-1.1 1.1-2.8 0-3.9L8.4 4.4c-1.1-1.1-2.8-1.1-3.9 0-2.1 2.1.4 4.1.4 4.1.3.3.3.8 0 1.1s-.8.3-1.1 0c0 0-3.8-2.9-.3-6.4 1.7-1.7 4.4-1.7 6.1 0l7.2 7.2c1.6 1.7 1.6 4.5-.1 6.1"}),ATTACHMENT:l.a.createElement("path",{d:"M15.6 14.4c-1.3 1.3-3.3 1.3-4.6 0l-2.9-2.9c-.8-.8-.8-2.1 0-2.9.8-.8 2.1-.8 2.9 0l2.7 2.7c.2.2.2.6 0 .8s-.6.2-.8 0l-2.7-2.7c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l3.1 3.1s1.4 1.1 2.7-.2c.8-.8.8-2.1 0-2.9L9.3 5.3c-.8-.8-2.1-.8-2.9 0-1.6 1.6.2 3.1.2 3.1.2.2.2.6 0 .8s-.6.2-.8 0c0 0-2.8-2.2-.2-4.8 1.3-1.3 3.3-1.3 4.6 0l5.4 5.4c1.2 1.3 1.2 3.3 0 4.6"}),ATTACH_CAL:l.a.createElement("path",{d:"M16.36 4H14V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H7V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H3.64c-.35 0-.64.28-.64.64v10.73c0 .35.29.63.64.63h12.73c.35 0 .63-.28.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 15H4v-5h12v5zm0-6H4V5h2v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h6v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h2v4z"}),ATTACH_DOC:l.a.createElement("path",{d:"M4.5 17V3h7v3.45c0 .3.25.55.55.55h3.45v10h-11zM16.34 6.19s-3.26-3.22-3.88-3.84c-.16-.14-.32-.33-.6-.35H4.23c-.4 0-.73.33-.73.73v14.55c0 .4.33.73.73.73h11.55c.4 0 .72-.33.72-.73V6.62c-.01-.2-.08-.34-.16-.43z"}),ATTACH_DOC_48:l.a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zm-.708 14.683H3.644V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13zM11.834 7.302l-5.48.99v7.514l5.48.99v-1.31h2.26c.277 0 .5-.178.5-.455s-.223-.454-.5-.454h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.456-.5-.456h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26v-.91h2.26c.277 0 .5-.18.5-.457s-.223-.455-.5-.455h-2.26V7.302zm-1.672 6.36c-.194.1-.485-.003-.715.012-.154-.745-.334-1.485-.473-2.234-.136.727-.312 1.448-.468 2.17-.223-.01-.447-.025-.672-.04-.192-.99-.42-1.973-.6-2.966.2-.01.4-.017.598-.024.12.717.256 1.43.36 2.15l.494-2.21c.22-.012.442-.02.662-.032.155.76.313 1.518.48 2.275.132-.782.277-1.56.417-2.34.233-.008.465-.02.696-.034-.26 1.09-.49 2.19-.778 3.273z"}),ATTACH_GDOCS_48:l.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM5.46 9.09v6.365c0 .502.407.91.91.91h7.272c.502 0 .91-.408.91-.91V9.09c0-.5-.408-.908-.91-.908H6.37c-.503 0-.91.407-.91.91zm4.856 5.455H6.983c-.277 0-.5-.178-.5-.454s.223-.454.5-.454h3.333c.276 0 .5.18.5.455s-.224.455-.5.455zm2.727-1.818h-6.06c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h6.06c.276 0 .5.18.5.455s-.224.454-.5.454zM6.976 10h6.06c.276 0 .5.178.5.455 0 .276-.224.454-.5.454h-6.06c-.277 0-.5-.18-.5-.455 0-.277.223-.455.5-.455z"}),ATTACH_GENERIC_48:l.a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.297 0H3.644c-.503 0-.91.408-.91.91v18.22c0 .502.41.912.91.912h12.754c.5 0 .91-.41.91-.91V4.98c0-.247-.094-.424-.202-.534zM3.644 19.13V.91h8.2v3.873c0 .376.306.683.682.683h3.872V19.13H3.644z"}),ATTACH_GSHEETS_48:l.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM5.46 9.09v6.365c0 .502.407.91.91.91h7.272c.502 0 .91-.408.91-.91V9.09c0-.5-.408-.908-.91-.908H6.37c-.503 0-.91.407-.91.91zm2.128 5.455h-.605c-.277 0-.5-.178-.5-.454s.223-.454.5-.454h.605c.277 0 .5.18.5.455s-.223.455-.5.455zm5.455 0H9.71c-.277 0-.5-.178-.5-.454s.223-.454.5-.454h3.333c.276 0 .5.18.5.455s-.224.455-.5.455zm0-1.818H9.71c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h3.333c.276 0 .5.18.5.455 0 .276-.224.454-.5.454zM9.703 10h3.333c.276 0 .5.178.5.455 0 .276-.224.454-.5.454H9.703c-.277 0-.5-.18-.5-.455s.223-.455.5-.455zm-2.115 2.727h-.605c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h.605c.277 0 .5.18.5.455s-.223.454-.5.454zM6.976 10h.606c.276 0 .5.178.5.455 0 .276-.224.454-.5.454h-.606c-.277 0-.5-.18-.5-.455 0-.277.223-.455.5-.455z"}),ATTACH_GSLIDES_48:l.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM5.46 9.09v6.365c0 .502.407.91.91.91h7.272c.502 0 .91-.408.91-.91V9.09c0-.5-.408-.908-.91-.908H6.37c-.503 0-.91.407-.91.91zm8.182 4.092H6.37v-4.09h7.272v4.09z"}),ATTACH_ICS_48:l.a.createElement("path",{d:"M19.09 2.73H15V1.365c0-.228-.227-.455-.455-.455-.227 0-.454.228-.454.456V2.73H5.91V1.365c0-.228-.228-.455-.455-.455C5.227.91 5 1.14 5 1.367V2.73H.91c-.5 0-.91.408-.91.908v14.546c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V3.638c0-.5-.41-.91-.91-.91zm0 15.454H.91V3.638H5v.91c0 .227.227.454.455.454.227 0 .454-.227.454-.455v-.91h8.18v.91c0 .228.228.455.455.455.228 0 .455-.227.455-.455v-.91h4.09v14.547zM8.218 10.962l-.447-.076L9.48 9.25c.27-.257.396-.41.396-.702 0-.337-.29-.458-.56-.458H5.873c-.237 0-.438.2-.438.44 0 .236.2.437.438.437H8.59l-1.757 1.77c-.223.222-.27.35-.27.477 0 .238.203.44.44.44h.242c1.01 0 1.61.42 1.61 1.124 0 .66-.503 1.106-1.226 1.106-.58 0-1.067-.184-1.532-.58-.116-.097-.218-.138-.347-.138-.276 0-.518.243-.518.52 0 .143.078.28.16.362l.024.02c.59.506 1.308.752 2.194.752 1.385 0 2.315-.838 2.315-2.084 0-.992-.574-1.582-1.707-1.774zM14.036 7.99c-.2 0-.4.044-.686.122l-.995.29c-.217.064-.35.236-.35.45 0 .232.208.437.448.437.048 0 .135-.015.217-.035l.827-.244v5.212c0 .298.242.54.54.54s.54-.242.54-.54V8.53c0-.3-.243-.54-.54-.54z"}),ATTACH_IMAGE:l.a.createElement("path",{d:"M16.36 4H3.64c-.35 0-.64.28-.64.64v10.73c0 .34.29.63.64.63h12.73c.35 0 .63-.29.63-.64V4.64c-.01-.36-.28-.64-.64-.64zM16 5v8.5l-4-5-2.95 3.64L7 9.5l-3 3.2V5h12zM6.77 15H4v-.91L7 11l1.44 1.89L6.77 15zM8 15l4-5 4 5H8z"}),ATTACH_IMAGE_48:l.a.createElement("path",{d:"M19.09 1.82H.91c-.5 0-.91.4-.91.91v14.55c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V2.73c0-.51-.4-.91-.91-.91zM.91 17.27v-1.02l4.55-5.54L8.2 14l-2.74 3.28-4.55-.01zm5.68 0L12.73 10l6.36 7.27H6.59zm12.5-1.36l-6.36-7.27-3.94 4.65-3.34-4-4.54 5.53V2.73h18.18v13.18z"}),ATTACH_MOVIE_48:l.a.createElement("path",{d:"M7.918 12.67c.06 0 .1-.02.17-.06l4.03-2.345c.125-.072.178-.167.178-.26s-.064-.19-.188-.262L8.062 7.398c-.07-.04-.082-.06-.142-.06-.15 0-.193.117-.193.32V12.35c0 .202.044.32.19.32zM19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547z"}),ATTACH_PDF_48:l.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM11.59 12.67c-.058-.065-.118-.133-.178-.203-.405-.468-.772-.973-1.08-1.478.17-.79.26-1.518.27-2.066l.002-.103c.015-.622.04-1.666-.863-1.856-.278-.058-.556-.002-.78.16-.242.173-.408.453-.443.75-.11.92.332 2.123.978 3.243-.17.71-.41 1.45-.71 2.123-.667.256-1.33.608-1.954 1.077-1.09.787-.984 1.37-.823 1.647.147.253.44.393.76.393.155 0 .32-.033.475-.104.887-.405 1.59-1.313 2.116-2.388.653-.22 1.304-.344 1.915-.393.582.585 1.385 1.225 2.123 1.245.712.02 1.072-.373 1.12-.77.052-.42-.254-.952-1.045-1.126-.532-.115-1.176-.178-1.88-.15zm-4.674 2.868c-.09.042-.17.04-.215.028.03-.09.167-.308.597-.617.277-.21.562-.392.85-.552-.356.52-.768.93-1.23 1.14zm2.38-7.57c.008-.064.05-.155.12-.206.034-.024.068-.035.108-.035.017 0 .036.002.055.006.243.05.252.535.24 1.07l-.003.106c-.006.277-.033.6-.082.954-.33-.74-.495-1.417-.438-1.897zm.465 4.963c.115-.3.218-.608.308-.914.182.26.372.51.562.742-.285.042-.576.1-.87.173zm3.543.658c.336.074.437.23.435.263-.007.016-.09.096-.32.082h-.002c-.213-.006-.547-.14-.972-.466.31.023.6.066.86.122z"}),ATTACH_PPT_48:l.a.createElement("path",{d:"M8.767 11.032v.934c.228.018.45.06.59-.175.104-.177.095-.502-.026-.64-.156-.176-.36-.15-.563-.118zM11.82 10.818h-.006V7.285l-5.467.99v7.498l5.467.99v-2.218h2.264c.246 0 .454-.203.454-.454 0-.252-.203-.454-.454-.454h-2.264v-1.294h.005c.245.366.664.608 1.14.608.676 0 1.238-.487 1.35-1.13h-1.577v-1.584c-.38.062-.705.278-.912.582zm-1.76.99c-.087.37-.327.63-.705.722-.188.046-.39.037-.604.055v1.055H8.18v-3.187c.442 0 .88-.012 1.32.01.115.004.248.09.333.177.327.335.327.752.23 1.167zM13.188 10.235v1.13h1.123c-.092-.578-.545-1.033-1.122-1.13zM17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09z"}),ATTACH_SOUND_48:l.a.createElement("path",{d:"M19.09 1.822H.91c-.503 0-.91.407-.91.91v14.545c0 .502.407.91.91.91h18.18c.503 0 .91-.408.91-.91V2.73c0-.5-.407-.908-.91-.908zm0 15.455H.91V2.73h18.18v14.547zM11.818 11.81c.25 0 .455-.202.455-.452V7.746c0-.25-.204-.45-.455-.45s-.454.2-.454.45v3.612c0 .25.203.452.454.452zM13.636 11.353c.25 0 .455-.202.455-.45V9.546c0-.25-.203-.45-.454-.45s-.454.2-.454.45v1.355c0 .25.203.45.454.45zM8.182 14.067c.25 0 .454-.202.454-.45V6.39c0-.25-.203-.452-.454-.452-.25 0-.455.202-.455.452v7.224c0 .25.204.45.455.45zM10 13.165c.25 0 .455-.202.455-.452V9.1c0-.248-.204-.45-.455-.45s-.455.202-.455.45v3.613c0 .25.204.452.455.452zM6.364 12.274c.25 0 .454-.204.454-.455V8.636c0-.25-.203-.454-.454-.454-.25 0-.455.203-.455.454v3.182c0 .25.203.454.454.454z"}),ATTACH_XLS_48:l.a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642c-.502 0-.91.407-.91.91v18.18c0 .5.41.91.91.91H16.37c.5 0 .908-.41.908-.91V4.973c0-.247-.094-.424-.202-.534zM16.37 19.09H3.64V.91h8.182v3.863c0 .375.307.682.682.682h3.863V19.09zM12.18 9.545c0-.228-.157-.383-.366-.432V7.286l-5.467.99v7.497l5.467.99v-1.33c.21-.05.365-.205.365-.433s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432s-.157-.383-.366-.432v-.954c.21-.05.365-.204.365-.432 0-.23-.157-.383-.366-.433V9.98c.21-.05.365-.204.365-.433zm-2.587 4.222c-.19-.463-.425-.91-.562-1.394-.152.45-.37.876-.547 1.317-.247-.003-.494-.013-.74-.023.29-.558.57-1.12.867-1.675-.253-.572-.532-1.132-.793-1.7.248-.015.496-.03.744-.042.17.433.353.862.49 1.307.15-.472.372-.916.563-1.372.254-.017.51-.033.766-.045-.302.607-.604 1.214-.91 1.818.31.622.626 1.238.937 1.86-.27-.016-.542-.032-.814-.05zM13.233 13.636h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.454.5.454zM13.233 15.455h.837c.276 0 .5-.18.5-.455s-.224-.455-.5-.455h-.837c-.277 0-.5.18-.5.455s.223.455.5.455zM13.233 11.818h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.178-.5.454s.223.454.5.454zM13.233 10h.837c.276 0 .5-.178.5-.455 0-.276-.224-.454-.5-.454h-.837c-.277 0-.5.18-.5.455s.223.455.5.455z"}),ATTACH_ZIP_48:l.a.createElement("path",{d:"M4.272 15.458h-.365c-.15 0-.27.137-.27.287v.364c0 .15.12.257.27.257h.365c.15 0 .273-.107.273-.258v-.365c0-.15-.122-.287-.273-.287zM3.907 14.55h.365c.15 0 .273-.11.273-.26v-.363c0-.15-.122-.287-.273-.287h-.365c-.15 0-.27.136-.27.287v.364c0 .15.12.26.27.26zM5.18 14.55h-.36c-.152 0-.275.12-.275.272v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM5.18 12.73h-.36c-.152 0-.275.123-.275.274v.364c0 .15.123.272.274.272h.36c.152 0 .275-.122.275-.272v-.364c0-.15-.123-.273-.274-.273zM3.907 12.73h.365c.15 0 .273-.107.273-.257v-.364c0-.152-.122-.288-.273-.288h-.365c-.15 0-.27.136-.27.287v.363c0 .15.12.258.27.258zM5.196 8.64H3.91c-.15 0-.274.122-.274.273v1.713c0 .158.13.287.287.287h.622v.65c0 .15.123.26.273.26h.366c.15 0 .27-.11.27-.26V8.9c0-.144-.115-.26-.258-.26zM19.09 4.55h-8.808L9.176 2.215c-.11-.222-.296-.394-.54-.394H.86c-.478.028-.857.42-.857.904v.454H0v14.097c0 .502.407.91.91.91h18.18c.5 0 .91-.41.91-.91V5.457c0-.5-.407-.908-.91-.908zm0 12.727H5.456v-.637c0-.15-.123-.273-.274-.273h-.36c-.152 0-.275.123-.275.273v.637H.91V2.73H8.41l1.12 2.467c.073.16.234.26.41.26h9.15v11.82z"}),ATTENTION:l.a.createElement("path",{d:"M10.727 10.727c0 .4-.326.727-.727.727-.402 0-.727-.326-.727-.727V6.364c0-.4.325-.727.727-.727.4 0 .727.326.727.727v4.363zM10 14.364c-.402 0-.727-.326-.727-.727s.325-.727.727-.727c.4 0 .727.326.727.727s-.326.727-.727.727zM10 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z"}),BELL:l.a.createElement("path",{d:"M18.132 15.148c.126.16.202.36.202.58 0 .518-.42.94-.94.94-.026 0-.052-.004-.077-.005H2.684c-.025.002-.05.004-.077.004-.52 0-.94-.42-.94-.94 0-.218.076-.42.202-.58h-.002s.095-.13.314-.3c.062-.05.564-.468.97-1.2.077-.143.31-.647.347-.75.1-.275.17-.61.276-1.09.255-1.65.24-3.997.24-3.997-.003-.054-.004-.107-.004-.16 0-2.875 2.03-5.273 4.738-5.85v-.134c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25V1.8c2.707.576 4.74 2.975 4.74 5.85 0 .054 0 .107-.002.16 0 0-.018 2.348.237 3.996.108.48.177.815.278 1.092.037.102.27.607.348.75.406.732.908 1.15.97 1.2.217.17.312.3.312.3zM10 19.583c-1.15 0-2.083-.933-2.083-2.083h4.167c0 1.15-.933 2.083-2.084 2.083z"}),BIG_STAR:l.a.createElement("path",{d:"M18.38 6.917h-5.83l-1.8-5.54c-.106-.324-.41-.544-.75-.544s-.643.22-.748.543L7.45 6.916H1.62c-.34 0-.642.22-.747.544-.106.324.01.68.286.88l4.715 3.423-1.802 5.54c-.105.324.01.68.287.88.276.2.65.2.926 0L10 14.758l4.716 3.422c.138.1.3.15.463.15.16 0 .324-.05.462-.15.276-.2.392-.555.286-.88l-1.8-5.54 4.715-3.422c.276-.2.392-.556.286-.88-.107-.324-.41-.543-.75-.543z"}),BOLD:l.a.createElement("path",{d:"M15.2 8.9c.3-.6.4-1.2.4-1.8 0-2.2-1.8-4-4-4H5.1C4.5 3 4 3.5 4 4.1v11.8c0 .6.5 1.1 1.1 1.1h7.1c2.6 0 4.6-2.1 4.6-4.6 0-1.4-.6-2.7-1.6-3.5zM14 12.7c0 .9-.7 1.6-1.6 1.6H6.8v-3.1h5.7c.8-.1 1.5.6 1.5 1.5zM6.8 8.3V5.8h4.8c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3H6.8v-.1z"}),CALENDAR:l.a.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1zm-7.95 8.276v.002c0 1.296-.944 2.247-2.475 2.247-.982 0-1.717-.304-2.277-.784-.137-.12-.254-.325-.254-.54 0-.393.332-.727.725-.727.216 0 .36.088.48.186.393.334.806.51 1.344.51.57 0 .972-.324.972-.834v-.02c0-.56-.5-.873-1.344-.873h-.236c-.353 0-.647-.295-.647-.647 0-.208.087-.384.323-.62L7.998 8.33h-2.11c-.353 0-.65-.295-.65-.65 0-.35.297-.647.65-.647h3.346c.44 0 .765.255.765.668 0 .374-.176.58-.453.845L8.203 9.83c.932.157 1.846.647 1.846 1.923v.02zm4.205 2.19c-.412 0-.746-.334-.746-.746v-4.75l-.532.137c-.078.02-.186.04-.265.04-.352 0-.656-.294-.656-.647 0-.305.195-.56.498-.648l.973-.284c.284-.08.5-.128.707-.128h.02c.41 0 .745.333.745.745v5.536c0 .412-.333.746-.745.746z"}),CALENDAR_EMPTY:l.a.createElement("path",{d:"M18 3.496h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1v11.5c0 .64.367 1 1 1h16c.633 0 1-.36 1-1v-11.5c0-.64-.367-1-1-1z"}),CALENDAR_SETTINGS:l.a.createElement("path",{d:"M19 7V4.496c0-.64-.367-1-1-1h-3v-.46c0-.552-.448-1-1-1-.553 0-1 .448-1 1v.46H6.998v-.46c0-.552-.448-1-1-1s-1 .448-1 1v.46H2c-.633 0-1 .36-1 1V7h18zM1 8.5v7.496c0 .64.367 1 1 1h16c.633 0 1-.36 1-1V8.5H1z"}),CAL_ACCEPT:l.a.createElement("path",{d:"M14.1 7.3c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0l1.6 1.6L13 7.3c.4-.3.8-.3 1.1 0zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_DECLINE:l.a.createElement("path",{d:"M11.1 10l2.3 2.4c.3.3.3.8 0 1.1s-.8.3-1.1 0L10 11.1l-2.4 2.4c-.3.3-.8.3-1.1 0-.3-.3-.3-.8 0-1.1L8.9 10 6.6 7.6c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0L10 8.9l2.3-2.3c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1L11.1 10zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_MAYBE:l.a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 13c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm.8-4.1v.4c0 .4-.3.7-.7.7s-.7-.3-.7-.7v-1c0-.4.3-.7.7-.7.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5-1.7.7-1.6 1.6c0 .5-.3.8-.7.8-.5 0-.8-.3-.8-.8C6.9 6.5 8.4 5 10 5s3 1.3 3 3c0 1.4-1 2.6-2.2 2.9z"}),CHECKBOX_OFF:l.a.createElement("path",{d:"M14.5 17h-9C4.1 17 3 15.9 3 14.5v-9C3 4.1 4.1 3 5.5 3h9C15.9 3 17 4.1 17 5.5v9c0 1.4-1.1 2.5-2.5 2.5zm-9-13C4.7 4 4 4.7 4 5.5v9c0 .8.7 1.5 1.5 1.5h9c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5h-9z"}),CHECKBOX_ON:l.a.createElement("path",{d:"M14.5 3h-9C4.122 3 3 4.122 3 5.5v9C3 15.878 4.122 17 5.5 17h9c1.378 0 2.5-1.122 2.5-2.5v-9C17 4.122 15.878 3 14.5 3zm-.208 4.713L8.5 13.5l-2.792-2.624c-.277-.277-.277-.727 0-1.004.278-.278.727-.278 1.005 0L8.5 11.5l4.786-4.792c.278-.277.728-.277 1.006 0 .277.278.277.727 0 1.005z"}),CHECKMARK:l.a.createElement("path",{d:"M7.2 14.1l-3.5-3.5c-.3-.3-.3-.7 0-1s.8-.3 1 0l3 2.9 7.4-7.3c.3-.3.8-.3 1 0 .3.3.3.7 0 1L8.2 14c-.2.3-.7.3-1 .1z"}),CHEVRON_UP:l.a.createElement("path",{d:"M13.5 12.75c-.192 0-.384-.073-.53-.22L10 9.56l-2.97 2.97c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.44l4.03 4.03c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22z"}),CIRCLE:l.a.createElement("circle",{cx:"10",cy:"10",r:"4"}),CLEAR:l.a.createElement("path",{id:"Clear",d:"M10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm3.445 10.68c.21.21.21.554 0 .765-.21.211-.554.211-.765 0L10 10.765l-2.68 2.68c-.21.211-.554.211-.765 0-.21-.21-.21-.554 0-.765L9.235 10l-2.68-2.68c-.21-.21-.21-.554 0-.765.21-.211.554-.211.766 0L10 9.235l2.68-2.68c.21-.21.554-.21.765 0 .21.212.21.554 0 .766L10.765 10l2.68 2.68z"}),CLOCK:l.a.createElement("path",{d:"M11.974 12.7c-.275.277-.723.277-.998 0L9.58 11.307c-.18-.133-.308-.337-.308-.58V7.09c0-.402.325-.727.728-.727.403 0 .728.325.728.727v3.366l1.247 1.247c.276.276.276.72 0 .997zM10 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8z"}),CLOCK_OUTLINE:l.a.createElement("path",{d:"M10 16.5c3.6 0 6.5-2.9 6.5-6.5S13.6 3.5 10 3.5 3.5 6.4 3.5 10s2.9 6.5 6.5 6.5zm0 1.5c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zM12.3 11.8c.3.2.4.7.1 1-.2.3-.7.4-1 .1L9 11.1V6.5c0-.4.3-.7.7-.7s.7.3.7.7v3.9l1.9 1.4z"}),CLOSE:l.a.createElement("path",{d:"M10 9l5.1-5.1c.3-.3.7-.3 1 0 .3.3.3.7 0 1L11 10l5.1 5.1c.3.3.3.7 0 1-.3.3-.7.3-1 0L10 11l-5.1 5.1c-.3.3-.7.3-1 0-.3-.3-.3-.7 0-1L9 10 3.9 4.9c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9z"}),CLOSE_MINI:l.a.createElement("path",{d:"M12.8 13.8L10 11l-2.8 2.8c-.3.3-.7.3-1 0s-.3-.7 0-1L9 10 6.2 7.2c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9l2.8-2.8c.3-.3.7-.3 1 0s.3.7 0 1L11 10l2.8 2.8c.3.3.3.7 0 1s-.7.3-1 0z"}),COLLAPSE_LIST:l.a.createElement("path",{d:"M12 2.5H8c-.2 0-.3.2-.1.4L10 5l2.1-2.1c.2-.2.1-.4-.1-.4zm-4 15h4c.2 0 .3-.2.1-.4L10 15l-2.1 2.1c-.2.2-.1.4.1.4zm8.5-6.5h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1s-.4-1-1-1zm-13-2h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),COMPOSE:l.a.createElement("path",{d:"M8.79 15.834c-.09.09-.21.152-.333.167-.055.016-3.957 0-3.957 0-.3.006-.505-.242-.5-.54v-3.856c0-.148.06-.29.164-.397l4.174-4.17 4.624 4.625-4.172 4.172zm4.96-4.96L9.128 6.25l2.078-2.075c.214-.215.576-.24.783-.032l3.864 3.88c.174.175.228.525-.022.775l-2.08 2.077z"}),COMPOSE_EMOJI:l.a.createElement("path",{d:"M10 1.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5zm0 15.3c-3.8 0-6.9-3.1-6.9-6.9S6.2 3.2 10 3.2s6.9 3.1 6.9 6.9-3 6.8-6.9 6.8zm-2.5-9c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.6-1.2-1.2.5-1.2 1.2-1.2zm5.3 0c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.5-1.2-1.2.6-1.2 1.2-1.2zm.74 4.66c-.48 1.06-2.03 2.04-3.41 2.04s-2.93-.97-3.41-2.04c-.47-1.06.79-.96.79-.96h5.24c.01 0 1.27-.1.79.96z"}),CONTACT_CARD:l.a.createElement("path",{d:"M17.3 3H2.7c-.4 0-.7.3-.7.7v12.6c0 .4.3.7.7.7h14.6c.4 0 .7-.3.7-.7V3.7c0-.4-.3-.7-.7-.7zM5.5 7.7c.2-.7.8-1.3 1.6-1.5 1.5-.3 2.9 1 2.5 2.5-.2.8-.8 1.4-1.6 1.6-1.5.3-2.8-1-2.5-2.6zm5.1 6.8h-6c-.6 0-.9-.6-.6-1.1.7-1 2.1-1.7 3.6-1.7s2.9.7 3.6 1.7c.3.4-.1 1.1-.6 1.1zm5.2-1.3H14c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h1.8c.4 0 .7.3.7.7s-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7z"}),CONTACTCARD_OUTLINE:l.a.createElement("path",{d:"M15 12.5h-.83c-.46 0-.83.37-.83.83s.37.83.83.83H15c.46 0 .83-.37.83-.83s-.37-.83-.83-.83zm-1.67-1.67H15c.46 0 .83-.37.83-.83s-.37-.83-.83-.83h-1.67c-.46 0-.83.37-.83.83 0 .46.37.83.83.83zm0-3.33H15c.46 0 .83-.37.83-.83s-.37-.84-.83-.84h-1.67c-.46 0-.83.37-.83.83s.37.84.83.84zm4.17 8.33h-4.17c-.54-1.9-2.35-3.33-5.46-3.33s-4.83 1.43-5.37 3.33V4.17h15v11.66zm-13.08 0c.57-.97 1.45-1.67 3.45-1.67s2.96.7 3.54 1.67H4.42zM18.33 2.5H1.67c-.46 0-.83.37-.83.83v13.33c0 .46.37.83.83.83h16.67c.46 0 .83-.37.83-.83V3.33c0-.46-.38-.83-.84-.83zm-10.41 5c.69 0 1.25.56 1.25 1.25S8.61 10 7.92 10s-1.25-.56-1.25-1.25.56-1.25 1.25-1.25zm0 4.17c1.61 0 2.92-1.31 2.92-2.92S9.53 5.83 7.92 5.83C6.31 5.83 5 7.14 5 8.75s1.31 2.92 2.92 2.92z"}),CONTRACT:l.a.createElement("path",{d:"M11 4.1v4.3c0 .3.3.6.6.6H16c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM9 16v-4.3c0-.4-.3-.7-.6-.7H3.9c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3L8 16.5c.1.2.3.2.4.2.3 0 .5-.2.6-.5V16z"}),DEALS:l.a.createElement("path",{d:"M16.823 9.802l-6.49-6.608C10.213 3.07 10.045 3 9.87 3H3.657c-.358 0-.648.29-.648.648v6.215c0 .175.068.34.192.463l6.603 6.488c.126.123.29.186.454.186.165 0 .33-.064.458-.19l6.1-6.094c.252-.252.254-.66.005-.914zM6.896 8.126c-.706 0-1.278-.568-1.278-1.268 0-.7.572-1.268 1.278-1.268.705 0 1.277.568 1.277 1.268 0 .7-.572 1.268-1.277 1.268z"}),DELETE:l.a.createElement("path",{d:"M3.994 17.21c0 .41.335.79.745.79h10.52c.41 0 .734-.387.734-.797V7h-12v10.21zm7.256-6.946c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zm-4 0c0-.415.336-.75.75-.75.416 0 .752.335.752.75v4.49c0 .414-.336.75-.75.75-.416 0-.752-.336-.752-.75v-4.49zM17 3h-4.26v-.076c0-.51-.336-.924-.76-.924H8.007c-.425 0-.773.414-.773.924V3H3c-.552 0-1 .447-1 1s.448 1 1 1h14c.552 0 1-.448 1-1s-.448-1-1-1z"}),DEVICE_PHONE:l.a.createElement("path",{d:"M14.7 1H5.8c-.4 0-.8.4-.8.8v16.4c0 .5.3.8.8.8h8.9c.4 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8zm-4.4 16.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm3.7-4.3H6.5V2.5H14v10.9z"}),CAR:l.a.createElement("path",{d:"M17.868 7.572l-1.325-3.61C15.89 2.184 14.183 1 12.27 1H7.73C5.817 1 4.11 2.184 3.456 3.962l-1.325 3.61C.876 8.162 0 9.458 0 10.972v4.356C0 16.362.814 17.2 1.818 17.2v.45c0 .745.61 1.35 1.364 1.35s1.364-.605 1.364-1.35v-.45h10.91v.45c0 .745.61 1.35 1.363 1.35.752 0 1.363-.605 1.363-1.35v-.45c1.005 0 1.818-.838 1.818-1.872v-4.356c0-1.514-.876-2.81-2.132-3.4zM5.166 4.578C5.556 3.515 6.586 2.8 7.73 2.8h4.54c1.144 0 2.174.715 2.564 1.778l.973 2.722H4.193l.973-2.722zM3.636 13.6c-1.005 0-1.818-.806-1.818-1.8S2.632 10 3.636 10s1.818.806 1.818 1.8-.813 1.8-1.818 1.8zm12.728 0c-1.004 0-1.818-.806-1.818-1.8s.814-1.8 1.818-1.8c1.005 0 1.818.806 1.818 1.8s-.814 1.8-1.818 1.8z"}),DOCUMENTS_S:l.a.createElement("path",{d:"M10.97 2.994H5.11c-.335 0-.61.275-.61.61V16.39c0 .337.275.612.61.612h9.778c.337 0 .612-.275.612-.612V7.525c0-.163-.064-.318-.18-.432l-3.92-3.92c-.114-.115-.27-.18-.43-.18zm-.006 4.534V4.473l3.055 3.055h-3.056z"}),DOWNLOAD:l.a.createElement("path",{d:"M16.8 13.5c-.4 0-.8.3-.8.8v1.2H4v-1.3c0-.4-.3-.7-.7-.7s-.8.3-.8.8v2c0 .4.3.7.8.7H17c.4 0 .5-.3.5-.7v-2c0-.5-.3-.8-.7-.8zM9.5 13.1c.3.2.7.2.9 0l3.9-3.6c.3-.3.3-.7 0-1-.1-.1-.3-.2-.5-.2l-2.3.5V3.1c0-.3-.3-.6-.6-.6H9.1c-.3 0-.6.3-.6.6v5.7l-2.3-.5c-.2 0-.3 0-.5.2-.3.3-.3.7 0 1l3.8 3.6z"}),DRAFTS:l.a.createElement("path",{d:"M13.083 8.52H7.06c-.416 0-.753-.337-.753-.753s.337-.753.753-.753h6.023c.415 0 .752.337.752.753s-.337.753-.752.753zm-.037 2.99h-5.99c-.414 0-.75-.336-.75-.75s.336-.748.75-.748h5.99c.414 0 .75.334.75.748s-.336.75-.75.75zm2.767-9.498H4.258c-.397 0-.722.332-.722.74v14.26c0 .572.634.917 1.114.607l1.678-1.24 1.388 1.208c.253.195.603.2.862.015l1.457-1.22 1.458 1.22c.26.186.61.18.862-.015l1.387-1.208 1.68 1.24c.48.31 1.114-.035 1.114-.608V2.752c0-.408-.326-.74-.723-.74z"}),EMOJI_FOOD_AND_DRINK:l.a.createElement("path",{d:"M18.3 14.1c0-.6-.5-1.1-1.1-1.1H17c.7 0 1.2-.7 1-1.4-.6-2-2.3-3.4-4.5-3.4H10l.4-3.2H8.9l.7-2.3 2.2.8c.1 0 .2 0 .2-.1l.2-.7c0-.1 0-.2-.1-.2l-2.6-.8c-.3-.1-.6.1-.7.4l-.9 3.1H1.7l1.6 13.2H16.2c.8 0 1.6-.7 1.6-1.6v-.9c0-.2-.1-.5-.2-.7.3-.2.7-.6.7-1.1zm-15.6-8h6.7l-.2 2.2h-.3c-2.1 0-3.9 1.4-4.5 3.4-.2.7.3 1.4 1 1.4h-.1c-.6 0-1.1.5-1.1 1.1 0 .5.3.9.8 1-.2.2-.2.5-.2.7v.9c0 .2.1.4.2.6h-.9L2.7 6.1zm14 10.6c0 .3-.2.5-.5.5H6.3c-.3 0-.5-.2-.5-.5v-.9c0-.1.1-.2.2-.2h10.7c.1 0 .2.1.2.2v.9h-.2zm-5.4-1.5L5.8 13h10.9l-5.4 2.2zm5.1-3.1H6.1c-.4 0-.7-.5-.5-.8.6-1.2 1.9-2 3.3-2h4.7c1.4 0 2.6.8 3.3 2 .1.3-.1.8-.5.8z"}),ENTER:l.a.createElement("path",{d:"M8 6.8c.3-.3.8-.3 1.1 0s.3.8 0 1.1L6.9 10h7.6V4.8c0-.4.3-.8.8-.8.4 0 .7.3.7.8v6c0 .5-.4.8-.7.8H6.9l2.2 2.2c.1.1.2.3.2.5s-.1.4-.2.5c-.3.3-.8.3-1.1 0l-4-4 4-4z"}),EXCLAMATION:l.a.createElement("path",{d:"M9 11V6c0-.553.448-1 1-1s1 .447 1 1v5c0 .552-.448 1-1 1s-1-.448-1-1zm1 4c-.552 0-1-.448-1-1s.448-1 1-1 1 .448 1 1-.448 1-1 1m0-12c-3.858 0-7 3.14-7 7s3.142 7 7 7c3.86 0 7-3.14 7-7s-3.14-7-7-7m0 16c-4.962 0-9-4.038-9-9s4.038-9 9-9c4.96 0 9 4.038 9 9s-4.04 9-9 9"}),EXCLAMATION_ALT:l.a.createElement("path",{d:"M2.097 15.85c-.285.517.09 1.15.68 1.15h14.446c.59 0 .964-.633.68-1.15L10.68 2.66c-.295-.537-1.065-.537-1.36 0L2.098 15.85zm8.68-4.282c0 .428-.348.776-.777.776s-.776-.348-.776-.776V8.464c0-.428.347-.776.776-.776s.777.348.777.776v3.104zM10 15.448c-.43 0-.776-.35-.776-.777s.347-.775.776-.775c.43 0 .777.348.777.776s-.348.777-.777.777z"}),EXPAND:l.a.createElement("path",{d:"M2 13.1v4.3c0 .3.3.6.6.6H7c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM18 6.9V2.6c0-.3-.3-.6-.6-.6H13c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3 1 1.6c.1.2.3.2.4.2.3 0 .5-.2.6-.5v-.3z"}),EXPAND_LIST:l.a.createElement("path",{d:"M8 8h4c.2 0 .3-.2.1-.4L10 5.5 7.9 7.6c-.2.2-.1.4.1.4zm4 4H8c-.2 0-.3.2-.1.4l2.1 2.1 2.1-2.1c.2-.2.1-.4-.1-.4zm4.5 3h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1 0-.5-.4-1-1-1zM3.5 5h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),FEEDBACK:l.a.createElement("path",{d:"M19.07 10.56l.25-.234c.44-.41.68-.91.68-1.413 0-1.26-1.346-2.04-2.593-2.04h-4.91l.212-.627c.35-1.04.443-2.35.262-3.693-.184-1.37-1.03-2.337-2.204-2.524-.624-.097-1.237.055-1.638.415-.213.19-.46.528-.434 1.053.064 1.327-.36 2.35-1.52 3.64-.135.154-.276.307-.42.458-.523.547-1.11 1.1-1.747 1.647-.14.16-.186.215-.248.366v11.45l11.12-.01c.95 0 2.06-.54 2.06-1.915 0-.3-.06-.576-.176-.82l-.176-.372.34-.23c.494-.33.734-.735.734-1.235 0-.293-.064-.574-.193-.836l-.19-.39.37-.227c.496-.3.747-.74.747-1.294 0-.296-.064-.595-.184-.858l-.14-.31-.003-.002zM.01 8.096L0 19.526c0 .255.18.473.476.473h2.38V7.62H.477c-.295 0-.467.222-.467.476z"}),FOLDER:l.a.createElement("path",{d:"M2.5 15.8c0 .4.3.7.7.7h13.6c.4 0 .7-.3.7-.7V10h-15v5.8zM16.8 5h-6.3l-.8-1.6C9.6 3.2 9.3 3 9 3H3.2c-.4 0-.7.3-.7.7v4.8h15V5.7c0-.4-.3-.7-.7-.7z"}),FORWARD:l.a.createElement("path",{d:"M10.442 16.956c-.515.385-1.238.01-1.238-.62V14h-6.94c-.427 0-.764-.372-.764-.8V7.794c0-.427.337-.793.764-.793h6.94V4.695c0-.705.767-.97 1.238-.62l7.74 5.81c.363.272.456.894 0 1.237l-7.74 5.834z"}),GETAWAYFILL:l.a.createElement("path",{d:"M17.1 16.2c.4-.3 1-.8 2-.8V17c-.5 0-.6.2-1 .5-.3.3-1 .8-2 .8-.9 0-1.5-.5-1.9-.8s-.6-.5-1-.5c-.5 0-.7.2-1 .5-.5.3-1 .8-2.1.8-1.16 0-1.75-.5-2.14-.8-.34-.3-.53-.5-1-.5s-.65.2-1 .5c-.42.3-.99.8-2.05.8-1.07 0-1.64-.5-2.06-.8-.34-.3-.53-.5-1-.5v-1.6c1.06 0 1.63.5 2.06.8.34.3.53.4 1 .4s.65-.1 1-.4c.42-.3.99-.8 2.05-.8 1.07 0 1.64.5 2.06.8.33.3.5.4.98.4.5 0 .6-.1 1-.4.5-.3 1-.8 2.1-.8 1 0 1.5.5 2 .8.4.3.5.4 1 .4s.7-.1 1-.4zM5.91 7.75c-1.37-.4-2.34-1.91-2.44-2.09-.23-.37-.14-.84.21-1.1 2.15-1.6 4.84-2.22 7.52-1.75v-.45c.2-.44.6-.71 1-.59.5.12.8.58.6 1.02l-.1.45c2.5.89 4.4 2.75 5.4 5.21.3.4.2.9-.2 1-.3.1-1.3.75-2.4.75-.4 0-.5 0-.9-.1-.7-.25-1.4-.95-1.8-1.45-.4.2-1 .3-1.6.3L9.69 14.5c-.1.4-.42.6-.84.6h-.16c-.48-.1-.74-.6-.62-1.1l1.45-5.45c-.5-.3-.92-.7-1.18-1.1-.62.3-1.56.5-2.43.3z"}),GIF_BOX:l.a.createElement("path",{d:"M18.787 3.226C18.69 3.128 18.497 3 18.3 3H1.768C1.34 3 1 3.396 1 3.813v13.405c0 .49.378.782.767.782H18.3c.487 0 .7-.235.7-.783V3.715c0-.196-.115-.39-.213-.49zM17.5 16.5h-15v-12h15v12zM13 11h2.5v-1H13V9h3V8h-4v5h1zM10.002 8H11v5h-.998zM6.488 13.067c.434 0 .8-.085 1.097-.255.173-.097.368-.265.585-.503l.113.69H9v-2.753H7v.836h1.03c-.055.328-.204.594-.445.797-.24.203-.55.304-.928.304-.385 0-.73-.128-1.03-.384-.303-.256-.454-.692-.454-1.308 0-.612.14-1.07.42-1.374s.633-.458 1.067-.458c.227 0 .432.037.618.112.33.136.56.386.646.728H9c-.06-.482-.29-.896-.704-1.218-.416-.323-.966-.485-1.65-.485-.79 0-1.425.245-1.905.734-.48.49-.74 1.14-.74 1.95 0 .803.258 1.435.734 1.897.455.46 1.04.69 1.754.69z"}),GUEST_LIST:l.a.createElement("g",null,l.a.createElement("path",{d:"M6.3 10.4c-2.982 0-5.4 1.405-5.4 3.137v1.387c0 .43.347.776.776.776h9.248c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136zM13.8 10.4c-.725 0-1.413.086-2.045.236.91.784 1.445 1.783 1.445 2.9V15.7h5.224c.43 0 .776-.347.776-.776v-1.388c0-1.73-2.418-3.136-5.4-3.136z"}),l.a.createElement("circle",{cx:"13.8",cy:"6.4",r:"2.7"}),l.a.createElement("circle",{cx:"6.3",cy:"6.4",r:"2.7"})),HOME:l.a.createElement("path",{d:"M17.8 9.4l-7.2-7.2c-.2-.1-.4-.2-.6-.2s-.4.1-.5.2L2.2 9.4c-.3.3-.3.8 0 1.1s.8.3 1.1 0l.2-.2v6.9c0 .4.3.7.7.7h3.6V15c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v2.9h3.3c.4 0 1-.3 1-.7v-6.9l.2.2c.3.3.8.3 1.1 0 .3-.3.3-.8 0-1.1z"}),INBOX:l.a.createElement("path",{d:"M10 10l9-3.5V4c0-.65-.366-1-1-1H2c-.633 0-1 .35-1 1v2.5l9 3.5zm.76 1.195c-.42.165-1.102.164-1.52 0L5.12 9.598 1 8v8c0 .65.367 1 1 1h16c.633 0 1-.35 1-1V8l-8.24 3.195z"}),INDENT:l.a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM4.6 7.8c-.4.4-.4 1 0 1.4l.8.8H2.6c-.6 0-1 .4-1 1s.4 1 1 1h2.8l-.8.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0L9.2 11 6 7.8c-.4-.4-1-.4-1.4 0z"}),INFO:l.a.createElement("path",{d:"M10 7.1c-.4 0-.8-.3-.8-.8.1-.3.4-.7.8-.7s.8.3.8.8c0 .4-.4.7-.8.7zm.7 5.8c0 .4-.3.7-.7.7s-.7-.3-.7-.7V9.3c0-.4.3-.7.7-.7s.7.3.7.7v3.6zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),INPUT_ARROW_DOWN:l.a.createElement("path",{id:"Path-1009",d:"M5.5 7.5h9l-4.5 5z"}),ITALIC:l.a.createElement("path",{d:"M15.8 3H7.5c-.5 0-.9.4-.9.9s.4.9.9.9h3l-4 9.5h-3c-.5 0-.9.4-.9.9s.4.9.9.9h8.3c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H8.3l4-9.5h3.4c.5 0 .9-.4.9-.9s-.3-.9-.8-.9z"}),LINK:l.a.createElement("path",{d:"M8.247 12H3.542c-.482 0-.934-.216-1.275-.592-.34-.376-.463-.876-.463-1.408 0-1.098.745-2 1.74-2h4.703c.498 0 .902-.437.902-.987S8.744 6 8.246 6H3.542C1.554 6 0 7.804 0 10c0 1.064.31 2.065.992 2.817C1.672 13.57 2.58 14 3.542 14h4.704c.498 0 .902-.463.902-1.013 0-.55-.403-.987-.9-.987zM18.944 7.183C18.262 6.43 17.356 6 16.394 6h-4.705c-.5 0-.903.463-.903 1.013 0 .55.36.987.858.987h4.748c.482 0 .934.216 1.275.592.34.376.528.876.528 1.408 0 .532-.187 1.032-.528 1.408-.34.376-.794.592-1.275.592H11.69c-.5 0-.903.437-.903.987 0 .275.1.524.264.704.164.18.39.293.64.293l4.703.017c.963 0 1.87-.43 2.55-1.183C19.626 12.064 20 11.064 20 10c0-1.064-.375-2.064-1.056-2.817zM6.684 10.005c0 .273.097.52.255.7s.374.295.615.295h4.89c.482 0 .872-.45.872-.996 0-.547-.39-1.005-.87-1.004H7.554c-.48 0-.87.458-.87 1.005z"}),LIST_ORDERED:l.a.createElement("path",{d:"M7 5h10c.552 0 1-.448 1-1s-.448-1-1-1H7c-.552 0-1 .448-1 1s.448 1 1 1zM17 9H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM17 15H7c-.552 0-1 .448-1 1s.448 1 1 1h10c.552 0 1-.448 1-1s-.448-1-1-1zM4.297 15.865v-.01c.187-.052.328-.15.422-.293.093-.143.14-.308.14-.495 0-.173-.04-.325-.12-.457-.082-.132-.187-.244-.314-.336-.13-.092-.273-.16-.435-.206-.16-.045-.32-.068-.482-.068-.207 0-.395.032-.564.096-.17.064-.313.155-.434.272-.12.117-.215.258-.282.422-.068.162-.105.343-.113.54h.777c-.003-.197.048-.36.153-.49s.262-.197.468-.197c.15 0 .283.044.398.133.116.088.172.214.172.38 0 .108-.028.196-.083.263-.057.065-.127.116-.212.15-.086.035-.18.057-.28.065-.1.006-.193.006-.282 0v.548c.1 0 .204.003.312.01.112.005.21.025.303.06.093.034.17.09.228.167.06.077.09.19.09.336 0 .187-.064.335-.19.443-.127.107-.28.16-.467.16-.117 0-.22-.02-.306-.06-.086-.04-.158-.094-.215-.16-.06-.07-.102-.15-.134-.244-.03-.093-.047-.19-.05-.294h-.778c-.003.224.03.422.1.594.072.172.172.32.302.438.132.12.29.21.475.272.186.063.392.094.618.094.197 0 .386-.028.564-.082.18-.056.34-.136.477-.242.14-.108.25-.24.33-.398.083-.157.126-.337.126-.538 0-.22-.064-.41-.19-.567-.127-.158-.3-.26-.523-.308zM3.44 10.964c.133-.1.27-.196.413-.283s.28-.176.42-.266c.14-.09.266-.19.374-.3.11-.11.2-.235.267-.377.067-.142.1-.312.1-.51 0-.19-.038-.363-.114-.517-.078-.152-.18-.28-.31-.385-.13-.106-.28-.186-.452-.24-.17-.057-.35-.085-.54-.085-.247 0-.465.04-.657.12-.19.08-.347.192-.474.337-.126.143-.22.312-.282.504-.064.193-.09.4-.083.627h.803c0-.107.01-.212.033-.32.02-.104.056-.202.11-.29.05-.088.117-.158.202-.212.085-.055.188-.083.31-.083.18 0 .33.055.445.16.117.108.173.255.173.446 0 .12-.028.226-.086.32-.056.094-.127.177-.21.252s-.18.14-.28.204c-.104.062-.2.122-.29.183-.177.115-.344.23-.504.342-.16.11-.3.232-.415.365-.118.133-.21.282-.28.45-.07.17-.102.367-.102.595h3.03v-.683H3.084c.103-.135.222-.252.355-.353zM3.118 6h.903V2H3.3c-.022.152-.075.28-.156.382-.08.103-.18.185-.297.25-.116.062-.246.105-.393.13-.146.025-.298.036-.454.032v.61h1.118V6z"}),LIST_ORDERED_FLIPPED:l.a.createElement("path",{d:"M13 3H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 9H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 15H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM17.26 15.86v-.01c.19-.05.33-.15.42-.29.09-.14.14-.31.14-.49 0-.17-.04-.33-.12-.46-.08-.13-.19-.24-.31-.34-.13-.09-.27-.16-.44-.21-.16-.04-.32-.06-.48-.06-.21 0-.4.03-.56.1-.17.06-.31.16-.43.27-.12.12-.22.26-.28.42-.07.16-.11.34-.11.54h.78c0-.2.05-.36.15-.49s.26-.2.47-.2c.15 0 .28.04.4.13s.17.21.17.38c0 .11-.03.2-.08.26-.06.07-.13.12-.21.15-.09.03-.18.06-.28.06-.1.01-.19.01-.28 0v.55c.1 0 .2 0 .31.01.11.01.21.03.3.06s.17.09.23.17c.06.08.09.19.09.34 0 .19-.06.34-.19.44-.13.11-.28.16-.47.16-.12 0-.22-.02-.31-.06-.09-.04-.16-.1-.22-.16-.06-.07-.1-.15-.13-.24s-.05-.19-.05-.29h-.78c0 .22.03.42.1.59.07.17.17.32.3.44.13.12.29.21.47.27.19.06.39.09.62.09.2 0 .39-.03.56-.08.18-.06.34-.14.48-.24.14-.11.25-.24.33-.4.08-.16.13-.34.13-.54 0-.22-.06-.41-.19-.57-.13-.14-.31-.25-.53-.3zM16.05 11.32c.1-.13.22-.25.35-.35.13-.1.27-.2.41-.28s.28-.18.42-.27c.14-.09.27-.19.37-.3.11-.11.2-.24.27-.38s.1-.31.1-.51c0-.19-.04-.36-.11-.52-.08-.15-.18-.28-.31-.39-.13-.11-.28-.19-.45-.24-.17-.05-.35-.08-.54-.08-.25 0-.47.04-.66.12-.19.08-.35.19-.48.34-.13.14-.22.31-.28.5-.06.19-.09.4-.08.63h.8c0-.11.01-.21.03-.32.02-.11.06-.2.11-.29.05-.09.12-.16.2-.21.09-.05.19-.08.31-.08.18 0 .33.05.45.16s.17.25.17.45c0 .12-.03.23-.09.32-.04.08-.11.17-.2.24s-.18.14-.28.2c-.1.06-.2.12-.29.18-.18.12-.34.23-.5.34-.16.11-.3.23-.41.37-.12.13-.21.28-.28.45-.07.17-.1.37-.1.59H18v-.68h-1.95zM16.08 6h.9V2h-.72c-.02.15-.08.28-.16.38-.08.1-.18.19-.3.25s-.25.11-.39.13c-.15.02-.3.04-.45.03v.61h1.12V6z"}),LIST_UNORDERED:l.a.createElement("path",{d:"M3 15c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm14 2H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1z"}),LOCATION_MARKER:l.a.createElement("path",{d:"M10 10.004c-1.183 0-2.07-.883-2.07-2.06s.887-2.06 2.07-2.06 2.07.883 2.07 2.06-.985 2.06-2.07 2.06m0-9.006C6.155.998 3 4.18 3 8c0 3.232 4.732 8.87 6.21 10.633.494.49.987.49 1.48 0C12.17 16.968 17 11.33 17 8c0-3.82-3.155-6.996-7-6.996"}),MESSENGER:l.a.createElement("path",{d:"M10 2c-4.42 0-8 3.58-8 8 0 4.417 3.58 8 8 8 4.417 0 7.998-3.583 7.998-8 0-4.42-3.58-8-7.998-8zm2.264 4.563c.51 0 .922.413.922.922 0 .51-.413.922-.922.922-.51 0-.922-.413-.922-.922 0-.51.413-.922.922-.922zm-4.553 0c.51 0 .923.424.923.948s-.413.948-.922.948c-.508 0-.92-.424-.92-.948s.412-.947.92-.947zm5.954 7.386c-.816.715-2.664 1.064-3.653 1.05-1.01.014-2.836-.335-3.652-1.05-1.24-1.09-1.376-2.95-1.376-3.363H15.04c0 .413-.135 2.273-1.376 3.362z"}),MINUS:l.a.createElement("path",{d:"M13.75 9.25h-7.5c-.414 0-.75.336-.75.75s.336.75.75.75h7.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),MIXED_CHECKBOX:l.a.createElement("g",null,l.a.createElement("path",{fill:"#188FFF",d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1z"}),l.a.createElement("path",{d:"M14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),MORE:l.a.createElement("g",null,l.a.createElement("circle",{cx:"3",cy:"10",r:"2"}),l.a.createElement("circle",{cx:"10",cy:"10",r:"2"}),l.a.createElement("circle",{cx:"17",cy:"10",r:"2"})),MOVE_TO_FOLDER:l.a.createElement("path",{d:"M17.25 5h-6.77l-.715-1.563C9.643 3.171 9.375 3 9.083 3H2.75c-.414 0-.75.336-.75.75v12.5c0 .414.336.75.75.75h6.5v-6.19l-1.72 1.72c-.293.293-.767.293-1.06 0s-.293-.767 0-1.06L10 7.94l3.53 3.53c.293.293.293.767 0 1.06-.146.147-.338.22-.53.22s-.384-.073-.53-.22l-1.72-1.72V17h6.5c.414 0 .75-.336.75-.75V5.75c0-.414-.336-.75-.75-.75z"}),NEWS:l.a.createElement("path",{d:"M8.5 9.8c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7zm6.6 0c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-3.6c-.4 0-.7.3-.7.7s.3.7.7.7h3.6zm0 2.9c.4 0 .7-.3.7-.7s-.3-.7-.7-.7H7.8c-.4 0-.7.3-.7.7s.3.7.7.7h7.3zM4.9 8.4H3.5v5.9c0 .4.3.7.7.7s.7-.3.7-.7V8.4zm10.2 8.1H4c-1.2 0-2-1-2-2.2V7.6c0-.4.3-.7.7-.7h2.2V4.7c0-.4.3-.7.7-.7h11.6c.5 0 .8.3.8.7v8.9c0 1.6-1.3 2.9-2.9 2.9z"}),NOTEPAD:l.a.createElement("path",{d:"M13 14.73V18l4-4h-3.11c-.66 0-.89.063-.89.73zM16 2H4c-.667 0-1 .333-1 1v14c0 .626.305.946.892.985.053.01.096.015.108.015h7.51v-4.23c.018-.832.438-1.25 1.266-1.256H17V3c-.007-.667-.34-1-1-1zM9 14H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75H9c.43 0 .778.335.778.75S9.428 14 9 14zm4.11-3.5H6.89c-.43 0-.78-.335-.78-.75S6.46 9 6.89 9h6.22c.43-.01.78.335.78.75s-.35.75-.78.75zm0-3.5H6.89c-.43 0-.78-.335-.78-.75s.35-.75.78-.75h6.22c.43 0 .78.335.78.75s-.35.75-.78.75z"}),NO_INTERNET:l.a.createElement("g",null,l.a.createElement("ellipse",{cx:"10",cy:"14.852",rx:"1.5",ry:"1.469"}),l.a.createElement("path",{d:"M19.268 7.865c-.31-.313-.635-.61-.967-.884C15.97 5.06 13.02 4 9.996 4S4.018 5.06 1.687 6.983c-.323.268-.637.552-.933.848-.34.34-.34.892 0 1.233.34.34.892.34 1.232 0 .258-.26.528-.505.81-.738C4.815 6.66 7.37 5.74 9.995 5.74c2.62 0 5.177.918 7.197 2.585.29.238.57.495.84.765.17.172.393.258.617.258.22 0 .443-.084.613-.252.34-.338.344-.888.005-1.23zM11 11.41V7.832c0-.507-.45-.917-1-.917-.553 0-1 .41-1 .917v3.577c0 .505.45.916 1 .916s1-.41 1-.916zM7.057 8.843c-.844.288-1.646.7-2.384 1.23-.394.284-.77.602-1.113.945-.34.34-.34.89-.002 1.23.17.172.393.257.616.257.222 0 .444-.085.615-.254.278-.278.58-.534.9-.763.445-.322.926-.573 1.424-.782.104-.044.17-.143.17-.255V9.01c.002-.12-.116-.205-.227-.167zM15.348 10.072c-.715-.515-1.49-.917-2.305-1.202-.146-.05-.3.063-.3.218v1.365c0 .112.066.21.17.254.495.208.974.46 1.42.778.315.228.62.486.9.766.34.34.893.34 1.232-.003s.337-.892-.004-1.232c-.348-.344-.722-.662-1.112-.943z"})),NONE_BELL:l.a.createElement("path",{d:"M16.065 13.117c-.28-.85-.43-1.745-.43-2.654v-2.77c0-2.626-1.69-4.918-4.062-5.708-.185-.06-.374-.108-.566-.15v-.17c0-.69-.56-1.25-1.25-1.25s-1.25.558-1.25 1.25v.17c-.192.042-.382.09-.567.15-.712.238-1.36.612-1.922 1.087l10.045 10.045h.002zM9.758 19.583c1.035 0 1.875-.84 1.875-1.875h-3.75c0 1.035.84 1.875 1.875 1.875zM18.504 17.914h.003L2.674 2.085c-.325-.326-.854-.326-1.18 0-.324.324-.324.85 0 1.178l2.653 2.652c-.174.565-.27 1.162-.27 1.78v2.77c0 1.764-.55 3.48-1.57 4.91-.3.468-.565.69-.654.92-.08.21.05.576.35.576v.004h13.103l2.22 2.22c.163.163.376.244.59.244.21 0 .425-.08.588-.244.325-.326.325-.853 0-1.18z"}),ORB:l.a.createElement("path",{d:"M.76 14.462c.505 1.253 1.21 2.29 2.115 3.11.903.818 1.966 1.424 3.182 1.82 1.22.392 2.538.59 3.96.59 1.4 0 2.708-.2 3.924-.59.49-.16 1.852-.62 3.185-1.82.906-.817 1.61-1.856 2.116-3.11.507-1.255.76-2.742.76-4.462 0-1.72-.253-3.208-.76-4.462-.505-1.255-1.21-2.29-2.115-3.108-.904-.82-1.964-1.426-3.184-1.82C12.726.216 11.417.02 10.02.02c-1.423 0-2.74.196-3.96.59-.396.127-1.83.62-3.183 1.82-.912.81-1.61 1.854-2.116 3.108C.252 6.793 0 8.278 0 10c0 1.72.253 3.207.76 4.462z"}),OUTDENT:l.a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM8.2 10H5.5l.8-.8c.4-.4.4-1 0-1.4s-1-.4-1.4 0L1.6 11l3.2 3.2c.4.4 1 .4 1.4 0s.4-1 0-1.4l-.7-.8h2.8c.6 0 1-.4 1-1-.1-.6-.5-1-1.1-1z"}),PEOPLE:l.a.createElement("path",{d:"M5.5 10.6c1.64 0 3.078.828 3.863 2.062.36.564-.03 1.317-.684 1.317H2.32c-.652 0-1.042-.754-.683-1.318.785-1.234 2.222-2.06 3.863-2.06zm8.5 2.025c1.64 0 3.078.827 3.863 2.06.36.565-.03 1.318-.684 1.318h-6.36c-.652 0-1.042-.753-.683-1.317.785-1.234 2.222-2.06 3.863-2.06zM5.5 9C4.12 9 3 7.88 3 6.5S4.12 4 5.5 4 8 5.12 8 6.5 6.88 9 5.5 9zm8.5 2c-1.38 0-2.5-1.12-2.5-2.5S12.62 6 14 6s2.5 1.12 2.5 2.5S15.38 11 14 11z"}),POP_OUT:l.a.createElement("path",{d:"M15.4 16.4H3.6V4.6H11V3H2.8c-.4 0-.8.4-.8.8v13.4c0 .4.4.8.8.8h13.4c.5 0 .8-.4.8-.8V9.5h-1.6v6.9zM17.3 2h-4.2c-.2 0-.4.3-.4.6s.2.4.2.4l1.6 1-3.2 3.2c-.2.2-.2.5 0 .7l1 1c.2.2.5.2.7 0l3.2-3.2 1 1.6s.1.2.4.2.5-.3.5-.6V2.7c-.1-.4-.3-.7-.8-.7z"}),PRINTER:l.a.createElement("path",{d:"M13.8 13.5H6.2c-.4 0-.7.3-.7.7v2.6c0 .4.3.7.7.7h7.6c.4 0 .7-.3.7-.7v-2.6c0-.4-.3-.7-.7-.7zM15.5 3.2c0-.4-.3-.7-.7-.7H5.2c-.4 0-.7.3-.7.7v3.3h11V3.2zM17.3 8H2.7c-.4 0-.7.3-.7.7v6.6c0 .4.3.7.7.7h.6c.4 0 .7-.3.7-.7v-2.6c0-.4.3-.7.7-.7h10.6c.4 0 .7.3.7.7v2.6c0 .4.3.7.6.7h.7c.4 0 .7-.3.7-.7V8.7c0-.4-.3-.7-.7-.7zM15 11c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"}),READ:l.a.createElement("path",{d:"M10 2c-4.41 0-8 3.58-8 8s3.59 8 8 8 8-3.58 8-8-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.46 6-6 6"}),REFRESH:l.a.createElement("path",{d:"M16 10.3c0-1.4-.5-2.7-1.3-3.7l-1.1 1.1c.5.7.9 1.7.9 2.7 0 2.5-2 4.5-4.4 4.5H9l1-.8c.3-.3.4-.8.1-1.1-.3-.4-.9-.4-1.2-.1L6.5 15c-.3.3-.3.8 0 1.1l2.4 2.2c.3.3.9.3 1.2-.1.3-.3.2-.8-.1-1.1l-1-.8h1c3.3 0 6-2.7 6-6zM5.5 10.3c0-2.5 2-4.5 4.5-4.5h1.1l-1 .8c-.3.3-.3.8-.1 1.1.3.4.9.4 1.2.1l2.4-2.2c.3-.3.3-.8 0-1.1l-2.4-2.2c-.3-.3-.9-.3-1.2.1-.3.3-.2.8.1 1.1l1 .8H10c-3.3 0-6 2.7-6 6 0 1.4.5 2.6 1.2 3.7l1.1-1.1c-.5-.8-.8-1.7-.8-2.6z"}),REPLY:l.a.createElement("path",{d:"M8.71 15.946c.503.432 1.28.075 1.28-.587v-2.622c5.05 0 6.858 3.584 7.02 4.204.352.797 1.535.594 1.48-.262-.42-6.662-3.91-10.728-8.5-10.728V3.534c0-.662-.775-1.02-1.277-.588l-6.95 6.02c-.364.312-.36.875.01 1.18l6.938 5.8z"}),REPLY_ALL:l.a.createElement("path",{d:"M2.044 9.406l5.86-5.045c.324-.32.324-.838 0-1.16-.326-.32-.854-.32-1.18 0L.245 8.78c-.325.32-.325.84 0 1.16l6.507 6.42c.326.32.854.32 1.18 0 .325-.32.325-.84 0-1.16L2.043 9.407zM12.725 6.617V3.89c0-1.06-1.123-1.108-1.576-.694L4.804 9.14c-.348.32-.345.83.014 1.145l6.388 6.1c.63.525 1.526.162 1.526-.562l-.01-2.85c3.417 0 5.686 3.154 5.708 3.2.22.314.47.432.704.432.463 0 .864-.463.864-.772 0-7.27-4.44-9.216-7.275-9.216z"}),RESTORE_TO_INBOX:l.a.createElement("path",{d:"M18 4.174V3.78c0-.414-.325-.75-.727-.75H2.727c-.402 0-.727.336-.727.75v.394l8 3.782 8-3.782zM8.267 13.468l6.194-4.955c.403-.3 1.058-.073 1.058.528v1.968H18V5.824L10 9.53 2 5.826v8.456c0 .416.325.75.728.75h6.17l-.63-.506c-.39-.292-.31-.823 0-1.056zM19.678 12.51h-5.64v-.984c0-.3-.328-.414-.53-.264l-3.095 2.476c-.154.116-.194.382 0 .528l3.096 2.487c.218.164.527.004.527-.264v-.997h5.64c.183 0 .327-.16.327-.34v-2.306c0-.182-.144-.338-.326-.338z"}),RICHTEXT_OFF:l.a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm3.854 12.147c.195.195.195.513 0 .707s-.512.195-.707 0l-1.897-1.897-1.897 1.897c-.195.195-.513.195-.707 0-.195-.194-.195-.512 0-.707l1.897-1.897-1.897-1.897c-.195-.195-.195-.513 0-.707s.512-.195.707 0l1.897 1.897 1.897-1.897c.195-.195.513-.195.707 0s.195.512 0 .707l-1.897 1.897 1.897 1.897z"}),RICHTEXT_ON:l.a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792c-.115.538.232 1.07.77 1.186.538.114 1.072-.233 1.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm5 9.5c0 .275-.225.5-.5.5H15v2.5c0 .275-.225.5-.5.5s-.5-.225-.5-.5V13h-2.5c-.275 0-.5-.225-.5-.5s.225-.5.5-.5H14V9.5c0-.275.225-.5.5-.5s.5.225.5.5V12h2.5c.275 0 .5.225.5.5z"}),SCISSORS:l.a.createElement("path",{d:"M12.5 7.4l4.8-4.7c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L11 6l1.5 1.4zM7.9 6c.4-.6.6-1.3.6-2 0-2.2-1.8-4-4-4s-4 1.8-4 4 1.8 4 4 4c.7 0 1.4-.2 2-.6L8.1 9l-1.6 1.6c-.6-.4-1.3-.6-2-.6-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4c0-.7-.2-1.4-.6-2l1.6-1.6 6.3 6.3c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4L7.9 6zM2.5 4c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm2 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),SEARCH:l.a.createElement("path",{d:"M17.5 16.5l-4.8-4.8c.8-1 1.3-2.3 1.3-3.7 0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6c1.4 0 2.7-.5 3.7-1.3l4.8 4.8c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.7 0-1zm-9.5-4c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}),SEARCH_MAIL:l.a.createElement("path",{d:"M17.81 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .25-.24.25-.65 0-.9zM13.68 15c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76S14.65 15 13.68 15zM16 4.5V4c0-.6-.37-1-.99-1h-12C2.41 3 2 3.41 2 4v.5S8.99 7 9 7l7-2.5zM13.67 8.95c.86 0 1.66.26 2.33.7V6L9 8.5C8.99 8.5 2 6 2 6c-.01-.01 0 6.75 0 6.75 0 .6.39 1.25 1 1.25h6.46c-.04-.25-.08-.5-.08-.76.01-2.37 1.92-4.29 4.29-4.29z"}),SEARCH_MINI:l.a.createElement("path",{d:"M15.26 14.108l-2.467-2.466c.513-.737.818-1.63.818-2.596 0-2.515-2.04-4.555-4.555-4.555C6.54 4.49 4.5 6.53 4.5 9.047s2.04 4.556 4.555 4.556c.957 0 1.843-.298 2.576-.802l2.47 2.468c.16.16.37.24.58.24s.42-.08.58-.24c.32-.32.32-.84 0-1.16zm-6.205-2c-1.69 0-3.06-1.37-3.06-3.062 0-1.69 1.37-3.06 3.06-3.06s3.062 1.37 3.062 3.06-1.372 3.062-3.062 3.062z"}),SEARCH_WEB:l.a.createElement("path",{d:"M9.3 16.44c-.95-.46-1.74-1.83-2.14-3.66h1.48c.05-.49.19-.96.38-1.39H6.94c-.05-.45-.07-.91-.07-1.39s.03-.94.07-1.39H9.3v2.25c.36-.58.83-1.08 1.39-1.45v-.8h5.77c.09.44.14.89.15 1.36v.51c0 .38.31.7.7.7.38 0 .7-.31.7-.7v-.51c-.02-4.58-3.88-8.25-8.53-7.95-3.92.25-7.12 3.38-7.45 7.28-.38 4.5 2.95 8.3 7.27 8.67.08.01.2.01.32.02.24.01.46-.11.59-.31.2-.33.08-.77-.28-.93l-.63-.31zm6.69-9.22h-1.76c-.24-1.18-.64-2.22-1.14-3.06 1.27.67 2.29 1.75 2.9 3.06zM10.7 3.56c.95.46 1.74 1.83 2.14 3.66H10.7V3.56zm-1.4 0v3.66H7.16c.41-1.83 1.19-3.21 2.14-3.66zm-2.39.6c-.51.84-.9 1.88-1.14 3.06H4.01c.61-1.31 1.63-2.39 2.9-3.06zM3.39 10c0-.48.05-.94.15-1.39h2.01c-.04.45-.07.91-.07 1.39 0 .48.03.94.07 1.39H3.54c-.1-.45-.15-.91-.15-1.39zm.62 2.78h1.76c.24 1.17.63 2.22 1.14 3.06-1.27-.67-2.29-1.75-2.9-3.06zM17 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04-1.68 0-3.03 1.36-3.03 3.04s1.36 3.04 3.04 3.04c.61 0 1.18-.18 1.65-.49l1.59 1.59c.25.25.65.25.9 0 .24-.25.24-.65 0-.9m-4.14-1.48c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76-.79 1.76-1.76 1.76"}),SELECTED:l.a.createElement("path",{d:"M10.83 16.338c-.49.385-1.184.385-1.676 0L0 9.4v9.585C0 19.585.43 20 1.077 20h17.846c.63 0 1.077-.415 1.077-1.015v-9.6l-9.17 6.953zM.37 8.985l9.168 6.8c.246.185.585.185.83 0l9.263-6.8c.186-.138.186-.415 0-.554L10.71.23c-.415-.307-1-.307-1.415 0L.37 8.43c-.185.14-.185.416 0 .555z"}),SENT:l.a.createElement("path",{d:"M17.6 9.3L3 2.8c-.5-.2-1.1.2-1 .7l1.4 5L9.2 10l-5.8 1.5L2 16.3c-.2.6.4 1.1 1 .9l14.5-6.5c.6-.3.6-1.1.1-1.4z"}),SETTINGS:l.a.createElement("path",{d:"M10.025 13.157c-1.747 0-3.167-1.416-3.167-3.157s1.42-3.157 3.167-3.157c1.746 0 3.167 1.416 3.168 3.157 0 1.74-1.422 3.157-3.168 3.157m8.66-4.62c-.023-.005-.084-.02-1.344-.22l-1.018-.17c-.03-.004-.056-.026-.065-.056l-.005-.018-.008-.018-.038-.093c-.09-.215-.302-.732-.405-.973l-.006-.016-.01-.015c-.013-.027-.012-.06.007-.086l1.374-1.91c.132-.182.12-.43-.032-.603-.027-.028-.505-.505-1.43-1.425-.09-.09-.21-.14-.34-.14-.1 0-.196.03-.278.09l-1.92 1.37c-.012.01-.03.015-.048.015-.023-.003-.03-.005-.037-.01l-.02-.008-.018-.01-1.065-.44c-.088-.036-.092-.057-.095-.078l-.384-2.32c-.036-.234-.28-.402-.476-.402H9.027c-.24 0-.44.172-.477.408l-.38 2.307c-.004.01-.015.036-.045.063-.14.065-.794.33-1.08.447l-.036.015-.022.008-.02.01c-.01.006-.023.01-.036.01-.01 0-.03-.003-.046-.016l-.1-.072C4.98 2.888 4.957 2.874 4.935 2.862c-.07-.042-.154-.064-.24-.064-.06 0-.215.012-.335.123l.002.002c-.046.043-.17.166-.58.573l-.846.844-.01.01-.012.012c-.136.16-.158.372-.055.557v-.003c.082.14.354.515 1.4 1.955.017.023.02.057.005.084l-.01.016-.006.017-.043.097c-.134.317-.254.6-.404.974l-.006.016-.005.015c-.01.03-.035.054-.066.06L1.4 8.53c-.232.036-.403.237-.403.476v1.988c0 .237.177.44.412.476l2.316.38c.03.006.057.03.066.058l.004.014.005.014c.17.43.293.74.453 1.086l.005.01.005.01c.015.028.012.063-.007.09l-1.373 1.907-.077.167c-.038.16.007.335.13.456l.09.087 1.32 1.316c.09.09.21.14.34.14.103 0 .202-.03.285-.092l1.89-1.35c.03-.015.052-.023.066-.023.01 0 .036.003.086.02l.05.022c.373.16.642.276 1.02.42l.013.006.013.004c.03.01.052.035.058.065l.384 2.318c.028.21.252.405.478.405h1.994c.24 0 .44-.172.477-.408l.378-2.286c.02-.06.047-.094.214-.153.353-.14.62-.246.962-.4.03-.01.056-.015.07-.015.007 0 .022 0 .053.018l1.902 1.358.015.012.02.01c.076.047.162.07.25.07.114 0 .223-.04.314-.117l.012-.012.012-.012.705-.703c.56-.563.703-.708.753-.77.055-.074.13-.22.07-.413-.004-.017-.01-.034-.02-.055l-.01-.025H17.2c-.057-.108-.198-.3-.547-.773l-.86-1.197c-.018-.026-.02-.06-.006-.087l.01-.017.006-.018.434-1.047c.047-.085.066-.1.108-.113 2.255-.362 2.333-.387 2.367-.397l.012-.004.012-.005c.208-.078.317-.285.317-.448V9.006c.002-.22-.146-.41-.37-.468"}),SHARE_SOCIAL:l.a.createElement("path",{d:"M13.2 12.1c-.6 0-1.2.2-1.7.6l-2.3-1.6c.1-.3.2-.7.2-1.1s-.1-.7-.2-1.1l2.3-1.6c.5.3 1.1.6 1.7.6 1.6 0 2.9-1.3 2.9-2.9s-1.3-3-2.9-3-2.9 1.3-2.9 2.9c0 .4.1.7.2 1.1L8.2 7.6c-.5-.3-1.1-.5-1.8-.5-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9c.6 0 1.2-.2 1.7-.6l2.3 1.6c-.1.3-.2.7-.2 1.1 0 1.6 1.3 2.9 2.9 2.9S16 16.6 16 15s-1.2-2.9-2.8-2.9z"}),SHOPPING:l.a.createElement("path",{d:"M16.8 7h-3.4v-.7C13.4 4.5 11.9 3 10 3S6.6 4.5 6.6 6.3V7H3.2c-.5 0-.8.4-.7.8l1.9 8.7c.1.3.4.5.7.5H15c.3 0 .6-.2.7-.5l1.8-8.7c0-.1 0-.8-.7-.8zM12 7H8v-.7c0-1.1.9-2 2-2s2 .9 2 2V7z"}),SPAM:l.a.createElement("path",{d:"M12.84 11.7c.314.314.314.825 0 1.14-.316.316-.827.316-1.142 0l-1.7-1.7-1.697 1.7c-.314.316-.825.316-1.14 0-.315-.314-.315-.826 0-1.14l1.7-1.7-1.724-1.724c-.316-.315-.316-.826 0-1.14.316-.316.826-.316 1.14 0l1.725 1.723 1.725-1.725c.315-.315.826-.315 1.14 0s.316.826 0 1.14L11.142 10l1.7 1.7zm4.18-7.027c-1.296-.09-3.867-.6-6.512-2.977-.145-.13-.327-.196-.51-.196-.18 0-.363.065-.507.196C6.847 4.074 4.276 4.583 2.98 4.673c-.41.03-.706.38-.707.79 0 9.375 6.28 12.534 7.462 12.987.087.034.18.05.27.05.09 0 .18-.016.265-.047 1.182-.438 7.46-3.578 7.46-12.99 0-.412-.295-.762-.706-.79z"}),SPONSORED:l.a.createElement("path",{d:"M5.4 4.3c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm-.5 9.8l-.5.5c-.3.3-.3.7 0 1s.7.3 1 0l.5-.5c.3-.3.3-.7 0-1s-.8-.3-1 0zm10.2 0c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm0-8.2l.5-.5c.3-.3.3-.7 0-1s-.7-.3-1 0l-.5.5c-.3.3-.3.7 0 1 .3.3.8.3 1 0zm2.2 3.4h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.3-.7-.7-.7zM8.5 7.8h3.6c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-1.5c0-.4-.3-.7-.7-.7s-.6.3-.6.7H8.2c-1 0-1.8.8-1.8 1.8v.7c0 1 .8 1.8 1.8 1.8h2.5c.4 0 .7.3.7.7s-.3.7-.7.7H7.1c-.4 0-.7.3-.7.7s.3.7.7.7h2.2c0 .4.3.7.7.7s.7-.3.7-.7h.4c1 0 1.8-.8 1.8-1.8V11c0-1-1-1.8-2.2-1.8H8.5c-.4 0-.7-.3-.7-.7s.3-.7.7-.7zM10 4.2c.4 0 .7-.3.7-.7v-.8c0-.4-.3-.7-.7-.7s-.7.3-.7.7v.7c0 .5.3.8.7.8zM3.5 9.3h-.8c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.2-.7-.6-.7zm6.5 6.5c-.4 0-.7.3-.7.7v.7c0 .4.3.7.7.7s.7-.3.7-.7v-.7c0-.4-.3-.7-.7-.7z"}),STAR:l.a.createElement("path",{d:"M15.718 8.35c-.066-.205-.256-.35-.47-.35h-3.656l-1.13-3.475c-.066-.203-.256-.34-.47-.34s-.403.137-.47.34L8.393 8H4.736c-.214 0-.403.145-.47.35-.066.203.007.426.18.552l2.958 2.152-1.13 3.482c-.066.204.006.427.18.553.173.125.407.125.58 0l2.958-2.153 2.958 2.152c.087.062.19.094.29.094s.205-.032.29-.095c.174-.127.247-.35.18-.554l-1.13-3.482 2.96-2.152c.172-.126.244-.35.178-.553z"}),STATIONERY:l.a.createElement("path",{d:"M17.007 3H16V.78c0-.562-.43-.922-.96-.78L2 3v14c0 .548.45 1 1 1h14.007c.548 0 .993-.45.993-1V4c0-.548-.445-1-.993-1zM14.5 1.5V3H8l6.5-1.5zm2 15h-13v-12h13v12zM10 14.5l3.397-3.426c.804-.814.804-2.14 0-2.954-.395-.4-.922-.62-1.482-.62-.594 0-1.112.154-1.915 1.058C9.187 7.643 8.67 7.5 8.086 7.5c-.56 0-1.087.22-1.482.62-.805.814-.805 2.14 0 2.955L10 14.5z"}),STRIKETHROUGH:l.a.createElement("path",{d:"M8.5 7.5c-.3-.3-.8-.7-.8-1.7 0-1.2.9-2.3 2.8-2.3 1.5 0 2.3 1.1 2.7 2.1.2.4.7.7 1.3.4.5-.2.5-.8.3-1.1-.6-1.2-1.3-2.9-4.3-2.9C7.4 2 6 3.9 6 5.8c0 .9.2 1.2.5 1.7h2zM16.2 9H3.8c-.5 0-.8.3-.8.7s.3.8.8.8H10c2 .4 2.9 1.3 2.9 2.8 0 1.6-1 2.7-2.9 2.7s-2.6-.9-3-2c-.1-.4-.6-.8-1.1-.6-.3.1-.7.5-.6 1 .4 1.4 1.7 3.1 4.7 3.1s4.5-1.9 4.5-4.3c0-1.3-.4-2-1-2.7h2.7c.4 0 .8-.4.8-.8s-.3-.7-.8-.7z"}),TAB_IMAGES:l.a.createElement("path",{d:"M3.46 14.636l3.633-5.814 1.38 2.206-1.26 1.824c-.226.33-.11.76.26.96.334.18.75.104.996-.15l3.71-5.568 4.36 6.54H3.46v.002zM17.272 3H2.728C2.326 3 2 3.326 2 3.727v12.356c0 .4.326.726.728.726h14.546c.4 0 .727-.326.727-.727V3.727c0-.4-.326-.727-.727-.727z"}),TEXT:l.a.createElement("path",{d:"M11.1 17c.5 0 .7-.2.8-.6l1.1-2.8h4.2l1.1 2.8c.2.5.6.6 1.1.5.4-.1.6-.7.4-1L16 6.1c-.2-.3-.5-.6-.9-.6s-.7.3-.9.6l-3.1 8L7 3.7c-.2-.4-.5-.7-1-.7-.6 0-.9.4-1.1.8l-4.7 12s-.3.8.4 1.1c.4.2.9 0 1.1-.5L3 12.9h5.9l1.4 3.5s.2.6.8.6zm-7.6-5.4L6 5.2l2.5 6.4h-5zm10 .8L15.2 8l1.7 4.4h-3.4z"}),TEXT_COLOR:l.a.createElement("g",null,l.a.createElement("circle",{fill:"#30D3B6",cx:"5.5",cy:"14",r:"4"}),l.a.createElement("circle",{fill:"#FFD333",cx:"9.5",cy:"6",r:"4"}),l.a.createElement("circle",{fill:"#FF333A",cx:"14.5",cy:"14",r:"4"}),l.a.createElement("path",{d:"M15.9 4"})),TRAVEL:l.a.createElement("path",{d:"M6 7.59c-.1-.1-.06-.1-.3-.1H2.464c-.1 0-.293-.024-.393.076-.114.115-.06.213.04.424L4.2 11.8c.082.124.2.2.3.2h4.6l-2.33 2.333c-.24.226-.24.46-.16.54.1.1.133.13.29.13H11c.1 0 .096-.005.2-.1l3-2.903h2.088c.9 0 2.182-.36 2.182-1.8 0-1.176-1.182-1.7-2.182-1.7H6.7M9.712 8h3.7L10.6 5.1c-.1-.1-.2-.1-.3-.1H7.7c-.2 0-.294.07-.34.18-.04.232.036.295.14.42L9.712 8z"}),TRUSTED:l.a.createElement("path",{d:"M17 4.7c-1.3-.1-3.9-.6-6.5-3-.1-.1-.3-.2-.5-.2s-.4.1-.5.2C6.8 4.1 4.3 4.6 3 4.7c-.4 0-.7.4-.7.8 0 9.4 6.3 12.5 7.5 13h.6c1.2-.4 7.5-3.6 7.5-13-.2-.4-.5-.8-.9-.8zm-2.4 2.6c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0L9 11.8l4.5-4.5c.4-.3.9-.3 1.1 0z"}),TUMBLR:l.a.createElement("path",{d:"M11.84 17.95h-.12c-3.76 0-4.58-2.77-4.58-4.38V9.08H5.65c-.17 0-.31-.14-.31-.31V6.65c0-.22.14-.42.35-.5 1.93-.68 2.54-2.37 2.63-3.65.02-.33.2-.5.5-.5h2.21c.17 0 .31.14.31.31V5.9h2.59c.17 0 .31.14.31.31v2.54c0 .17-.14.31-.31.31h-2.6v4.15c0 1.04.69 1.33 1.11 1.33.41-.01.81-.13 1.01-.21.15-.06.28-.1.4-.07.11.03.18.1.23.25l.69 2c.06.16.1.33-.01.46-.55.57-1.8.96-2.92.98z"}),VIDEO_CALL:l.a.createElement("path",{d:"M18.4 5.1c-.1 0-.3 0-.4.1l-2.3 1.5V5.2c0-.9-.7-1.5-1.5-1.5H2.3c-.9 0-1.5.7-1.5 1.5v9.5c0 .9.7 1.5 1.5 1.5h11.8c.9 0 1.5-.7 1.5-1.5v-1.5l2.3 1.5c.1.1.3.1.4.1.5 0 .9-.4.9-.9V6c.1-.5-.3-.9-.8-.9z"}),YBADGE:l.a.createElement("g",null,l.a.createElement("path",{d:"M16 3H4c-.5 0-1 .5-1 1v12c0 .6.5 1 1 1h12c.6 0 1-.5 1-1V4c0-.5-.5-1-1-1z",fill:"#400090"}),l.a.createElement("path",{d:"M10.7 15.1H10c-.3 0-.5 0-.7.1v-.1c0-.3.1-4.3.1-4.3-.2-.4-3.5-5.9-3.5-5.9.2.1.5.1.7.1.3 0 .5-.1.7-.1.5.7 2.6 4.2 2.7 4.4.1-.1 2.2-3.7 2.6-4.4.2.1.5.1.7.1.3 0 .5 0 .7-.1 0 0-3.3 5.6-3.5 5.9.1 0 .2 4 .2 4.3z",fill:"#fff"})),YBANG:l.a.createElement("g",null,l.a.createElement("circle",{cx:"10",cy:"10",r:"7"}),l.a.createElement("path",{fill:"#FFF",d:"M7.115 7.813L8.27 10.62l1.165-2.807h1.877l-2.86 6.562H6.56l.774-1.738-2.15-4.825h1.93zm4.586 2.57c.674 0 1.173.484 1.173 1.09 0 .616-.52 1.128-1.213 1.128-.673 0-1.173-.492-1.173-1.09 0-.605.52-1.126 1.214-1.126zM15.2 5.667l-1.917 4.3h-2.14l1.917-4.3h2.14z"})),TAP_TO_TOP:l.a.createElement("path",{d:"M14.4 9.7L11 6.4V19H9V6.4L5.6 9.8c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L10 3l5.7 5.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.3 0M3.3 1h13.4c.7 0 1.3.4 1.3 1 0 .5-.6 1-1.3 1H3.3C2.6 3 2 2.5 2 2c0-.6.6-1 1.3-1"}),SIDEBAR:l.a.createElement("path",{d:"M17.2 6H2.8C2.358 6 2 5.552 2 5s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1z"}),SOLID_CIRCLE:l.a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8"}),HOTELS:l.a.createElement("path",{d:"M18.182 8.364h-9.32l-1.7-2.956c-.148-.252-.416-.406-.707-.406h-3.82v-2.47c0-.452-.366-.818-.817-.818S1 2.08 1 2.65V17.38c0 .332.367.7.818.7s.818-.368.818-.82v-1.635h14.727v1.636c0 .45.367.817.818.817s.82-.366.82-.818V9.18c0-.452-.367-.818-.818-.818zM5.985 6.638l.954 1.726H2.635V6.638h3.35zM2.635 10H5.91v3.987H2.635V10zm4.91 0h9.818v3.987H7.545V10z"}),TICKETS:l.a.createElement("path",{d:"M16.667 1.022H12.5v.833c0 .06-.01.198-.04.384-.053.313-.147.625-.29.91-.383.768-1.04 1.205-2.17 1.205S8.213 3.918 7.83 3.15c-.143-.285-.237-.597-.29-.91-.03-.186-.04-.324-.04-.385v-.833H3.333c-.457 0-.833.38-.833.846V18.19c0 .486.403.828.837.828.15 0 .307-.04.45-.134l1.935-1.418 1.603 1.383c.15.114.33.17.51.17.17 0 .338-.05.484-.153L10 17.47l1.682 1.398c.145.102.315.154.485.154.18 0 .36-.057.51-.172l1.6-1.383 1.937 1.418c.144.092.3.133.45.133.434 0 .836-.342.836-.827V1.87c0-.465-.375-.846-.833-.846zm-.834 15.53l-.568-.415-1.075-.788-1.008.87-1.025.885-1.087-.904-1.07-.89-1.07.892-1.087.904-1.027-.886-1.01-.87-1.074.788-.565.412V2.675H5.92v.012l.004.012c.08.37.207.78.414 1.195C6.995 5.21 8.214 6.022 10 6.022s3.005-.813 3.662-2.127c.21-.42.34-.833.417-1.21.002-.012 0 .004 0 .004v-.014h1.753v13.876zM13.333 11.35H6.667c-.46 0-.833.37-.833.828 0 .456.372.827.833.827h6.665c.46 0 .833-.37.833-.827 0-.457-.37-.827-.832-.827zM13.33 8H6.664c-.46 0-.833.37-.833.827 0 .456.373.827.834.827h6.665c.46 0 .832-.37.832-.827 0-.458-.37-.827-.832-.827z"}),THEATERS:l.a.createElement("path",{d:"M18.695 4.19c.222.18.334.462.298.746l-.827 6.617c-.03 2.732-2.262 4.946-5 4.946-.025 0-.05-.004-.075-.004-.396 2.362-2.45 4.17-4.924 4.17-2.738 0-4.97-2.214-5-4.946L2.34 9.103c-.036-.284.078-.565.298-.747.222-.182.524-.235.792-.147.023.007 2.195.718 4.417.783L7.34 4.937c-.036-.284.078-.566.298-.748.222-.183.524-.236.792-.147.024.008 2.408.79 4.737.79s4.712-.78 4.737-.79c.267-.09.57-.036.79.146zM8.167 19c1.66 0 3.028-1.222 3.28-2.81-1.894-.7-3.256-2.508-3.28-4.636l-.112-.892c-1.475-.013-2.922-.285-3.906-.523l.677 5.424c.004.034.007.07.007.103C4.834 17.505 6.328 19 8.167 19zm-.833-5.833c0 .46-.374.833-.834.833-.46 0-.833-.373-.833-.833s.373-.834.833-.834c.46 0 .834.374.834.834zm.833 4.166H6.5c0-.914.753-1.667 1.667-1.667s1.667.752 1.667 1.667H8.167zm8.34-5.936l.677-5.425c-1.007.245-2.503.528-4.017.528-1.513 0-3.01-.283-4.017-.528l.368 2.95.206 1.647.103.827c.004.034.007.07.007.103 0 1.287.742 2.394 1.812 2.95.157.08.32.146.49.203.087.03.173.06.265.083.07.017.14.028.21.042.183.03.367.056.557.056 1.838 0 3.333-1.495 3.333-3.333 0-.034.003-.07.007-.103zm-3.34.103h1.667c0 .914-.753 1.667-1.667 1.667S11.5 12.414 11.5 11.5h1.667zM12.334 9c0 .46-.373.833-.833.833s-.833-.373-.833-.833.373-.833.833-.833.834.373.834.833zm3.333 0c0 .46-.373.833-.833.833S14 9.46 14 9s.373-.833.833-.833.834.373.834.833z"}),CONCERTS:l.a.createElement("path",{d:"M18.62 1.368c-.505-.506-1.325-.506-1.832 0l-.717.718c-.262.262-.38.61-.37.953l-4.86 4.856-.12-2.453c-.02-.424-.333-.776-.75-.846-.414-.064-.83.16-.987.555L7.32 9.312 1.55 11.744c-.38.16-.602.555-.542.962.06.408.39.722.798.765l4.13.434.458 4.3c.043.405.355.732.758.794.047.007.092.01.137.01.355 0 .683-.208.828-.54l2.316-5.308 2.14-.77c.39-.14.635-.527.593-.94-.042-.41-.36-.74-.77-.8l-1.434-.205-.005-.12 6.03-6.03c.33 0 .66-.127.913-.38l.72-.717c.506-.506.506-1.326 0-1.832"}),SPORTS:l.a.createElement("path",{d:"M19.045 5.638c-.374-1.283-2.008-1.185-2.392-.1l-.216.613c-.192.463-.562.474-.89.474-.17 0-.333-.05-.472-.15-.506-.352-1.535-1.118-1.985-1.454-.144-.107-.317-.164-.497-.164h-1.555c-.16 0-.32.038-.45.132-1.076.78-3.58 2.628-7.74 3.41C1.746 8.606 1 9.786 1 11.018c0 1.11.686 2.655 1.805 2.655H3.5v.417c0 .46.375.834.833.834.46 0 .834-.375.834-.834v-.416h1.666v.416c0 .46.375.834.834.834.458 0 .833-.375.833-.834v-.416h1.667v.416c0 .46.375.834.833.834.458 0 .833-.375.833-.834v-.416H16v.416c0 .46.375.834.833.834.46 0 .834-.375.834-.834v-.416h.2c1.944 0 1.415-6.822 1.178-8.036zM3.415 9.994c.792-.28 1.078-.376 2.006-.666l2.68 2.68H3.78c-1.234 0-1.554-1.564-.364-2.014zm7.042 2.013l-3.3-3.3c.436-.176.845-.355 1.226-.535l3.835 3.835h-1.76zm6.9 0h-2.782L9.937 7.37c.605-.345 1.07-.647 1.366-.847h1.014c.555.413 1.357 1.007 1.803 1.32.42.292.913.448 1.427.448.846 0 1.574-.308 2.066-.853.124 1.48.066 3.664-.257 4.57z"}),FACEBOOK:l.a.createElement("path",{d:"M17.117 2H2.883C2.395 2 2 2.395 2 2.883v14.234c0 .488.395.883.883.883h7.663v-6.196H8.46V9.39h2.086V7.607c0-2.067 1.262-3.192 3.106-3.192.883 0 1.642.066 1.863.095v2.16l-1.28.002c-1.002 0-1.196.476-1.196 1.176V9.39h2.39l-.31 2.415h-2.08V18h4.076c.49 0 .884-.395.884-.883V2.883c0-.488-.395-.883-.883-.883z"}),FLICKR:l.a.createElement("g",null,l.a.createElement("circle",{cx:"5.2",cy:"10",r:"4",fill:"#1d75cf"}),l.a.createElement("circle",{cx:"14.8",cy:"10",r:"4",fill:"#fe0084"})),FLICKR_MONOCHROME:l.a.createElement("g",null,l.a.createElement("circle",{cx:"5.2",cy:"10",r:"4"}),l.a.createElement("circle",{cx:"14.8",cy:"10",r:"4"})),TWITTER:l.a.createElement("path",{d:"M18 4.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.8 0-3.3 1.5-3.3 3.3 0 .3 0 .5.1.7-2.7-.1-5.1-1.4-6.7-3.4-.3.5-.4 1-.4 1.6 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.2 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H2c1.5 1 3.2 1.6 5 1.6 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"}),LINKEDIN:l.a.createElement("path",{d:"M15.242 15.097h-2.104v-3.405c0-.902-.163-1.44-.914-1.44-.54 0-.946.293-1.215.576v4.27H8.904V8.835h2.104v.836c.365-.396.996-.887 1.878-.887 1.477 0 2.354.952 2.354 2.907v3.405zM6.338 7.935c-.67 0-1.214-.544-1.214-1.214 0-.67.544-1.215 1.214-1.215.672 0 1.215.544 1.215 1.216 0 .67-.543 1.215-1.215 1.215zm1.066 7.162H5.3v-6.26h2.104v6.26zM17.922 2.53c-.053-.12-.117-.217-.195-.295-.078-.078-.17-.137-.273-.176-.105-.04-.222-.06-.35-.06H2.896c-.13 0-.248.02-.35.06-.104.038-.196.097-.274.175-.078.078-.144.176-.195.294-.053.116-.078.227-.078.33v14.28c0 .104.025.215.078.332.05.118.117.215.195.294.078.078.17.137.273.176.104.04.22.058.35.058h14.207c.13 0 .246-.02.35-.058.104-.04.196-.098.274-.176.078-.08.142-.176.195-.294.052-.117.078-.228.078-.332V2.86c0-.103-.026-.214-.078-.33z"}),BASKET:l.a.createElement("path",{d:"M12.51 13.71v-1.636c0-.452.368-.818.82-.818.45 0 .817.367.817.818v1.636c0 .452-.367.818-.818.818-.453 0-.82-.366-.82-.818zm-3.283 0v-1.636c0-.452.367-.818.818-.818.452 0 .82.367.82.818v1.636c0 .452-.368.818-.82.818-.45 0-.818-.366-.818-.818zm-3.272-.014V12.06c0-.452.367-.818.818-.818.452 0 .818.367.818.818v1.636c0 .452-.366.818-.817.818-.452 0-.818-.367-.818-.818zM18.18 8.002h-2.834l-3.03-4.545c-.25-.375-.758-.477-1.134-.227-.376.25-.478.76-.227 1.135l2.424 3.637H6.62l2.423-3.637c.252-.376.15-.884-.226-1.135-.376-.25-.884-.148-1.135.227l-3.03 4.545H1.82c-.45 0-.818.366-.818.818s.367.818.818.818h.21l1.928 6.426c.29.965 1.35 1.936 2.36 1.936h7.37c1.008 0 2.07-.97 2.36-1.936l1.927-6.426h.21c.45 0 .817-.367.817-.818s-.367-.818-.818-.818z"}),CAMERA_FILL:l.a.createElement("path",{d:"M7.59 10.744c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5zm-1.666 0c0-2.3 1.865-4.167 4.167-4.167s4.168 1.865 4.168 4.167c0 2.3-1.865 4.167-4.167 4.167s-4.166-1.865-4.166-4.166zm.832-6.667v-.833c0-.46-.373-.833-.833-.833h-2.5c-.46 0-.833.374-.833.834v.833h-.833c-.46 0-.833.373-.833.833v11.667c0 .46.373.833.833.833h16.687c.46 0 .812-.373.812-.833V4.91c0-.46-.352-.833-.812-.833H6.756z"}),TAG_FILL:l.a.createElement("path",{d:"M5.9 7.5c-.9 0-1.7-.7-1.7-1.6S5 4.2 5.9 4.2s1.7.8 1.7 1.7-.8 1.6-1.7 1.6zm13 2.2L10.4 1c-.1-.1-.4-.2-.6-.2H1.7c-.5 0-.8.4-.8.8v8.1c0 .2.1.4.3.6l8.6 8.5c.2.2.4.2.6.2.2 0 .4-.1.6-.2l8-8c.2-.2.2-.7-.1-1.1z"}),CARD:l.a.createElement("path",{d:"M18.597 3.035H1.335c-.476 0-.864.386-.864.86V7.5h18.99V3.896c0-.475-.387-.86-.863-.86zm-15.13 9.33H9.3c.46 0 .835.374.835.834s-.374.833-.834.833H3.468c-.46 0-.834-.374-.834-.834s.374-.835.834-.835zM.47 16.135c0 .475.388.86.865.86h17.262c.476 0 .864-.385.864-.86V8.5H.47v7.635z"}),CLIPCOUPON:l.a.createElement("path",{d:"M4.3 14.3c-.9 0-1.7.8-1.7 1.7 0 .9.8 1.7 1.7 1.7 1 0 1.7-.8 1.7-1.7 0-.9-.8-1.7-1.7-1.7zM12.7 14.3c-.9 0-1.7.7-1.7 1.7s.7 1.7 1.7 1.7 1.7-.7 1.7-1.7-.8-1.7-1.7-1.7zM14.3 13.1c-.5-.3-1.1-.4-1.7-.4-.6 0-1.2.2-1.7.5L3.3 5.4c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l5.2 5.2L6 13.2c-1.6-.9-3.6-.4-4.6 1.2S1 18 2.6 18.9c1.6.9 3.6.4 4.6-1.2.3-.5.5-1.1.5-1.7 0-.6-.2-1.2-.5-1.7L8.5 13l1.3 1.3c-.9 1.6-.4 3.6 1.2 4.5 1.6.9 3.6.4 4.5-1.2.9-1.5.4-3.6-1.2-4.5zM6 16c0 .9-.7 1.7-1.7 1.7-.9 0-1.7-.7-1.7-1.7 0-.9.7-1.7 1.7-1.7.9 0 1.7.8 1.7 1.7zm6.7 1.7c-.9 0-1.7-.7-1.7-1.7s.7-1.7 1.7-1.7 1.7.7 1.7 1.7-.8 1.7-1.7 1.7zM18.5 1H7.7c-.5 0-.9.4-.9.8v5h1.7V2.7h9.2v7.5h-4.2v1.7h5c.5 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8zM14.9 5.4c-.3-.3-.9-.3-1.2 0l-4 4.1 1.2 1.2 4-4c.3-.4.3-1 0-1.3z"}),CART:l.a.createElement("path",{d:"M6.677 16.28c0 .693-.56 1.254-1.253 1.254-.692 0-1.253-.562-1.253-1.253 0-.69.562-1.252 1.254-1.252.693 0 1.253.56 1.253 1.253zm6.685-.022c0 .692-.56 1.253-1.253 1.253-.693 0-1.253-.56-1.253-1.252 0-.69.56-1.253 1.252-1.253s1.253.562 1.252 1.253zM18.332 2.5h-2.808c-.397 0-.738.278-.818.667l-.55 2.667H1.67c-.563 0-.963.543-.8 1.08l2.033 6.672c.108.352.432.592.8.592h9.77c.397 0 .738-.28.818-.668l1.124-5.506.783-3.834h2.133c.462 0 .836-.373.836-.835s-.374-.835-.836-.835zM12.79 12.507H4.32L2.797 7.504H13.81l-.023.113-.012.063-.985 4.827z"}),DESKTOP_ATTACHMENT:l.a.createElement("path",{d:"M17.4 14.5H2.6V4.6h3.5v5.5c0 .2.1.5.2.8.3.8 1.1 1.3 2.2 1.3h.1c1.1 0 1.8-.5 2.2-1.3.1-.2.2-.5.2-.8V7c0-.2 0-.5-.2-.7-.2-.4-.7-.7-1.2-.7h-.1.1-.2c-.7 0-1.1.2-1.2.7-.2.2-.3.4-.3.6v2.9c0 .2.2.5.5.5.2 0 .5-.2.5-.5V6.9c0-.1 0-.2.1-.2.1-.2.2-.2.5-.2.2 0 .4.1.5.2v3.1c0 .2 0 .5-.2.7-.2.5-.6.7-1.3.7h-.1c-.7 0-1.1-.2-1.3-.7-.1-.3-.1-.6-.1-.8V4.6h10.4v9.9zM7.1 3v-.2s.1-.4.2-.6c.2-.4.7-.7 1.2-.7h.1C9.7 1.4 10 2 10 3H7.1zm11.1 0H11C11 1.4 10.3.5 8.6.5h-.1c-1 0-1.7.5-2.1 1.3-.3.4-.3.9-.3 1.2H1.8c-.5 0-.8.3-.8.8v11.5c0 .5.3.8.8.8h6.6l-.8 1.6H5.1c-.5 0-.8.3-.8.8s.3.8.8.8H15c.5 0 .8-.3.8-.8s-.3-.8-.8-.8h-2.5l-.8-1.6h6.6c.5 0 .8-.3.8-.8V3.8c-.1-.5-.4-.8-.9-.8z"}),PREVIEW:l.a.createElement("path",{d:"M10 14.9c-5.1 0-7.9-3.6-7.9-3.6-.7-.7-.7-1.9 0-2.6 0 0 2.8-3.6 7.9-3.6s7.9 3.6 7.9 3.6c.7.7.7 1.9 0 2.6 0 0-2.8 3.6-7.9 3.6zm0-1.8c1.7 0 3.1-1.4 3.1-3.1 0-1.7-1.4-3.1-3.1-3.1-1.7 0-3.1 1.4-3.1 3.1 0 1.7 1.4 3.1 3.1 3.1zm0-1.5c-.9 0-1.7-.7-1.7-1.6 0-.9.7-1.7 1.6-1.7h.1c.9 0 1.6.8 1.6 1.7 0 .9-.7 1.6-1.6 1.6z"}),DRIVE:l.a.createElement("path",{d:"M6.7 2.8L1 12.8l2.8 5 5.7-10zM6.7 2.8zM7.6 12.8l-2.9 5H16l3-5.1zM18.5 12.1l-5.7-9.9H7.2l5.5 9.9z"}),DROPBOX:l.a.createElement("path",{d:"M10 11.3L4.6 8 .9 11l5.4 3.4 3.7-3.1 3.7 3.1 5.4-3.4-3.7-3zM10 12l-3.7 3.1-1.6-1v1.1l5.3 3.2 5.4-3.2v-1.1l-1.6 1zM19.1 5zM10 4.7L6.3 1.6.9 5l3.7 3zM19.1 5l-5.4-3.4L10 4.7 15.4 8z"}),ADD_CONTACT:l.a.createElement("path",{d:"M15.21 6.875c0 1.496-1.212 2.71-2.71 2.71-1.495 0-2.71-1.214-2.71-2.71s1.215-2.71 2.71-2.71c1.496 0 2.71 1.214 2.71 2.71zm1.847 5.474c-.11-.105-.216-.21-.345-.305-.992-.74-2.51-1.21-4.212-1.21s-3.22.47-4.21 1.21c-.13.095-.237.2-.347.304-.534.503-.86 1.095-.86 1.74v1.328c0 .458.376.834.835.834h9.166c.46 0 .834-.376.834-.834v-1.33c0-.643-.324-1.235-.86-1.74zM7.5 8.437H6.25v-1.25c0-.46-.372-.834-.834-.834s-.834.372-.834.834v1.25h-1.3v.01c-.436.03-.782.382-.782.823s.346.795.78.824v.01h1.302v1.303h.01c.03.434.382.78.824.78s.794-.345.823-.78h.01v-1.302H7.5c.46 0 .834-.372.834-.834S7.96 8.44 7.5 8.44z"}),MONOCHROME_MIXED_CHECKBOX:l.a.createElement("path",{d:"M7 11h6c.552 0 1-.448 1-1 0-.553-.448-1-1-1H7c-.552 0-1 .447-1 1 0 .552.448 1 1 1zM14.5 17h-9C4.122 17 3 15.878 3 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"}),NOTSPAM:l.a.createElement("path",{d:"M17.023 4.67v.002c-1.3-.09-3.87-.6-6.515-2.978-.143-.13-.326-.194-.507-.194-.182 0-.364.065-.508.195-2.644 2.38-5.216 2.89-6.513 2.978-.412.03-.707.38-.708.792C2.272 14.84 8.55 18 9.732 18.45c.087.035.18.05.272.05.09 0 .177-.014.264-.047 1.18-.437 7.46-3.578 7.46-12.99 0-.413-.294-.76-.705-.792zM10 13.864c-2.135 0-3.864-1.73-3.864-3.863S7.866 6.137 10 6.137 13.86 7.867 13.86 10s-1.73 3.863-3.863 3.863zM7.37 10c0 1.45 1.18 2.627 2.63 2.627.5 0 .962-.147 1.36-.39l-3.597-3.6c-.245.4-.392.863-.392 1.363zM9.998 7.372c-.5 0-.962.148-1.36.392l3.597 3.597c.243-.397.39-.86.39-1.36 0-1.45-1.178-2.628-2.627-2.628z"}),BLOCK_PEOPLE:l.a.createElement("path",{d:"M12.6 10c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM12.6 11c-4.4 0-6.4 2.5-6.4 4.3V18h13v-2.7c-.1-2.1-2.1-4.3-6.6-4.3zm4.6 5H8v-.7c0-.6 1.1-2.3 4.5-2.3 3 0 4.6 1.2 4.6 2.3v.7zM6.1 10.2L5 9.1 6.1 8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L3.6 7.7 2.5 6.6c-.4-.3-1-.3-1.4 0-.3.4-.3 1 0 1.4l1.1 1.1-1.1 1.1c-.3.4-.3 1 0 1.4.4.4 1 .4 1.4 0l1.1-1.1 1.1 1.1c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4z"}),BLOCK_PEOPLE_FILL:l.a.createElement("path",{d:"M16.1 6c0 1.8-1.5 3.2-3.2 3.2-1.8 0-3.2-1.5-3.2-3.2s1.5-3.2 3.2-3.2c1.8-.1 3.2 1.4 3.2 3.2zm2.3 6.6c.6.6 1 1.3 1 2.1v1.6c0 .5-.4 1-1 1h-11c-.6 0-1-.5-1-1v-1.6c0-.8.4-1.5 1-2.1l.4-.4c1.2-.9 3-1.5 5.1-1.5s3.9.6 5.1 1.5l.4.4zM4.8 8.9L5.9 10c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-1.1-1.1-1.1 1.1c-.4.3-1 .3-1.4 0s-.4-1 0-1.4L2 8.9.9 7.8c-.3-.4-.3-1 0-1.4s1-.4 1.4 0l1.1 1.1 1.1-1.1c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L4.8 8.9z"}),PHONE:l.a.createElement("path",{d:"M18.8 16.5c.3-.4.3-.9-.1-1.2L14.2 12c-.2-.2-.5-.2-.8-.1l-3.1 1c-.6-.5-1.2-1-1.8-1.6-.4-.5-1-1.1-1.5-1.7l1-3.1c.2-.3.1-.5 0-.8L4.7 1.3c-.3-.4-.8-.4-1.2-.1L1.6 3.1C-.1 4.7 2 9.5 6.3 13.7c4.2 4.2 9 6.4 10.6 4.7l1.9-1.9z"}),COMMENT_FILL:l.a.createElement("path",{d:"M4.4 1.1h11.2c1.8 0 3.3 1.5 3.3 3.2v8.1c0 1.8-1.5 3.2-3.3 3.2H5.8l-3.4 3c-.2.1-.4.2-.6.2-.1 0-.2 0-.3-.1-.3-.1-.5-.4-.5-.7V4.3c.1-1.8 1.6-3.2 3.4-3.2zm9.7 4.8H6c-.4 0-.8.4-.8.8s.3.9.8.9h8.1c.4 0 .8-.4.8-.8s-.4-.9-.8-.9zM6 9.2c-.4 0-.8.4-.8.8s.4.8.8.8h8.1c.4 0 .8-.4.8-.8s-.4-.8-.8-.8H6z"}),CONVERSATIONS_FILL:l.a.createElement("path",{d:"M14.8 9.2V4.4c0-1.8-1.4-3.2-3.2-3.2H4.5c-1.8 0-3.2 1.4-3.2 3.2v9.3c0 .4.2.7.5.9.1 0 .2.1.4.1s.4-.1.6-.2l2.3-2.2h6.5c1.8.1 3.2-1.4 3.2-3.1zM5.3 4.4h5.6c.4 0 .8.4.8.8s-.4.8-.9.8H5.3c-.5 0-.8-.4-.8-.8s.3-.8.8-.8zm5.5 4.8H5.3c-.4 0-.8-.4-.8-.8s.4-.8.8-.8h5.6c.4 0 .8.4.8.8-.1.4-.4.8-.9.8zM16.4 5.3v3.9c0 2.6-2.1 4.8-4.8 4.8H5.7l-.3.2c.4 1.2 1.6 2.1 3 2.1h6.5l2.3 2.2c.2.2.4.2.6.2.2 0 .3-.1.4-.1.3-.2.5-.5.5-.9V8.4c.1-1.5-1-2.7-2.3-3.1z"}),UNSUBSCRIBE:l.a.createElement("path",{d:"M18.2 9.8c-.8-.3-1.5-.5-2.4-.5-3.2 0-5.8 2.5-6.1 5.5H2.3c-.5 0-1-.4-1-1V5.5l8.2 3.8.3.1.4-.1 8.1-3.5zm0-6.1L9.8 7.2 1.3 3.3v-.5c0-.6.4-1 1-1h15c.6 0 1 .4 1 1zm-4.1 8.7l1.8 1.9 1.8-1.9c.4-.4.9-.4 1.2 0 .4.4.4.9 0 1.2l-1.8 1.9 1.8 1.8c.4.4.4.9 0 1.2-.4.4-.9.4-1.2 0L16 16.8l-1.8 1.8c-.4.4-.9.4-1.2 0-.4-.4-.4-.9 0-1.2l1.8-1.8-1.8-1.9c-.4-.4-.4-.9 0-1.2.2-.4.8-.4 1.1-.1z"}),BLOCK:l.a.createElement("path",{d:"M2.5 10c0-1.8.6-3.4 1.6-4.7l10.5 10.5c-1.3 1-2.9 1.6-4.7 1.6-4 .1-7.4-3.3-7.4-7.4m15 0c0 1.8-.6 3.4-1.7 4.7L5.3 4.2c1.3-1 2.9-1.7 4.7-1.7 4.1 0 7.5 3.4 7.5 7.5M10 .8C4.9.8.8 4.9.8 10s4.1 9.2 9.2 9.2 9.2-4.1 9.2-9.2S15.1.8 10 .8"}),TAB_MESSAGES:l.a.createElement("path",{d:"M17.273 4H2.727C2.325 4 2 4.335 2 4.75v1.393l8 3.782 8-3.782V4.75c0-.415-.325-.75-.727-.75zM10 11.5L2 7.794v7.456c0 .415.325.75.728.75h14.545c.4 0 .727-.335.727-.75V7.793L10 11.5z"}),FLAG:l.a.createElement("g",null,l.a.createElement("path",{d:"M16.8 4h-4.3v-.7c0-.5-.4-.8-.8-.8H7.3c-.5 0-.8.4-.8.8v7.3c0 .5.4.8.8.8H10v1.2c0 .5.4.8.8.8h5.9c.5 0 .8-.4.8-.8V4.8c0-.4-.3-.8-.7-.8"}),l.a.createElement("path",{d:"M4.3 19c-.4 0-.8-.3-.8-.8V1.7c0-.4.3-.7.7-.7.5 0 .8.3.8.7v16.5c0 .5-.3.8-.7.8z"})),SUBSCRIPTIONS:l.a.createElement("path",{d:"M.5 13.2V6.6L4 8v6.1H1.4c-.5 0-.9-.4-.9-.9zm13.8-9.5V5H4.8c-.5 0-.8.4-.8.9v.4L.5 4.9V3.7c0-.5.4-.9.9-.9h12.1c.4.1.8.5.8.9zm-2.5 9.5c.4.2 1.1.2 1.6 0l6.1-2.5v5.6c0 .5-.4.9-.9.9H6.5c-.5 0-.9-.4-.9-.9v-5.6zm6.8-6.4c.5 0 .9.4.9.9V9l-6.9 2.9-6.9-3V7.6c0-.5.4-.9.9-.9h12z"}),SORT:l.a.createElement("path",{d:"M9.2 3.6c0-.4.4-.8.8-.8h8.2c.5 0 .8.4.8.8s-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8m-8 9.7c.3-.3.8-.3 1.2 0l1.9 1.8V2h1.6v13.1l1.9-1.8c.3-.3.8-.3 1.2 0 .2.1.2.3.2.5s-.1.4-.2.5L5.1 18l-3.9-3.6c-.3-.3-.3-.8 0-1.1M14.1 10c0 .4-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8s.4-.8.8-.8h3.3c.4 0 .8.4.8.8m2.4-3.2c0 .4-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8s.3-.8.8-.8h5.7c.5 0 .8.4.8.8"})};class E extends l.a.Component{shouldComponentUpdate(e){return e.ariaLabel!==this.props.ariaLabel||e.colorState!==this.props.colorState||e.size!==this.props.size||e.rotate!==this.props.rotate||e.kind!==this.props.kind}render(){const e=this.props,t=e.colorState,s=e.size,a=e.rotate,r=e.allowPointerEvents,o=e.ariaLabel,c=e.kind,d=e.flipRTL,u=i()(e,["colorState","size","rotate","allowPointerEvents","ariaLabel","kind","flipRTL"]),m=p()(_.a,{colorState:t,size:s,rotate:a,allowPointerEvents:r,flipRTL:d});let h=m.icon;return d&&(h+=" "+m.rtlRawScaleX),l.a.createElement("svg",n()({"aria-label":o,viewBox:"0 0 20 20",className:h},u),g[c])}}c()(E,"defaultProps",{colorState:h.a.NORMAL,size:h.d.S}),t.b=E;const I=g},function(e,t,s){"use strict";s.d(t,"a",function(){return R}),s.d(t,"z",function(){return M}),s.d(t,"B",function(){return D}),s.d(t,"A",function(){return y}),s.d(t,"D",function(){return L}),s.d(t,"o",function(){return v}),s.d(t,"q",function(){return P}),s.d(t,"p",function(){return F}),s.d(t,"s",function(){return w}),s.d(t,"k",function(){return k}),s.d(t,"r",function(){return x}),s.d(t,"m",function(){return U}),s.d(t,"e",function(){return G}),s.d(t,"f",function(){return j}),s.d(t,"t",function(){return B}),s.d(t,"u",function(){return V}),s.d(t,"w",function(){return W}),s.d(t,"n",function(){return q}),s.d(t,"d",function(){return z}),s.d(t,"l",function(){return K}),s.d(t,"x",function(){return Z}),s.d(t,"v",function(){return Y}),s.d(t,"j",function(){return X}),s.d(t,"h",function(){return Q}),s.d(t,"i",function(){return $}),s.d(t,"b",function(){return J}),s.d(t,"c",function(){return ee}),s.d(t,"g",function(){return te}),s.d(t,"y",function(){return se}),s.d(t,"C",function(){return ae});var a=s(31),n=s.n(a),r=s(4),i=s.n(r),o=s(251),c=s(57),d=s.n(c),l=s(33),u=s.n(l),_=s(10),m=s(0),p=s(196),h=s(85),g=s(448),E=s.n(g),I=s(21),S=s(293),C=s.n(S),f=s(62),T=s(63),A=s(9),b=s(231),O=s.n(b);const R="!";function N(e){const t=[],s=E()(e,t);return{match:e=>{const a=s.exec(e);if(!a)return null;const n=a.slice(1);return t.reduce((e,t,s)=>n[s]?i()({},e,{[t.name]:decodeURIComponent(n[s])}):e,{})},stringify:E.a.compile(e)}}const M=C()(({routesConfig:e})=>e.map(e=>{const t=e.path;return Object(I.a)(e.name&&t,"config.routes should be in this format [{route.name: routePattern}]"),i()({},e,{pattern:N(t)})}),({appName:e})=>e);function D(e,t={}){const s=Object(o.parse)(e),a=s.pathname,n=s.query,r=i()({},t,d.a.parse(n)),c=d.a.stringify(r);return c?a+"?"+c:a}function y(e,t={},s){const a=i()({},s,t.query),n=e.find(e=>e.name===t.name);if(!n)return{query:{}};const r=n.pattern.stringify(t.params||{},{pretty:!0});return{name:t.name,params:t.params||{},query:a,url:D(r,a)}}const L=(e={},t={})=>e===t||e.name===t.name&&u()(e.params,t.params)&&u()(e.query,t.query);function v(e,t={}){return Object(_.L)(e)?B(e,t):U(e,t)}function P(e,t,s={}){const a=Object(_.X)(e);return Object(_.J)(e)||Object(_.C)(e)?{name:m.gd.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:a,groupId:t}),query:s}:Object(_.L)(e)?{name:m.gd.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:a,groupId:t}),query:s}:{name:m.gd.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:a,groupId:t}),query:s}}function F({attachment:e,listId:t,isConversationMode:s}){const a=s?e.conversationId:e.id&&Object(f.f)(e.id);return a?{name:m.gd.MESSAGE_FROM_SEARCH_LIST,params:{groupId:a,query:Object(_.Y)(t)}}:null}function w({groupId:e,listId:t}){return e?{name:m.gd.MESSAGE_FROM_SEARCH_LIST,params:{groupId:e,query:Object(_.Y)(t)}}:null}function k(e,t,s={}){return{name:m.gd.EDIT_DRAFT,params:{csid:t,serializedListId:Object(_.X)(e)},query:s}}function x({item:e,listId:t,isConversationMode:s}){if(Object(_.t)(t)===m.Pb.MESSAGES){if(e.messages&&1===e.messages.length&&Object(T.j)(e))return k(t,e.messages[0].csid);const a=Object(_.L)(t),n=Object(_.X)(t),r=a&&s?Object(A.a)(e,"messages.0.conversationId"):e.id;return r&&n?P(t,r):null}return F({attachment:e.attachment,listId:t,isConversationMode:s})}function U(e,t={}){const s=Object(_.W)(e,t),a=Object(_.X)(s);return a?{name:m.gd.FOLDER,params:{fid:a}}:null}function G(e,t,s,a={},n){const r=Object(_.X)(e);return Object(_.L)(e)?{name:m.gd.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:r,groupId:t,attachmentId:s}),query:a}:{name:m.gd.MESSAGE_FROM_FOLDER_LIST,params:n?{fid:r,groupId:t,attachmentId:s,csid:n}:{fid:r,groupId:t,attachmentId:s},query:a}}function j(e,t,s={}){return i()({},e,{params:i()({},e.params,{attachmentId:t}),query:i()({},e.query,s)})}const H=e=>({name:m.gd.LIST,params:{serializedListId:Object(_.Y)(e)}});function B(e,t={}){const s=Object(_.W)(e,t);if(Object(_.J)(s)||Object(_.C)(s))return H(s);const a=Object(_.Y)(s);return a?{name:m.gd.SEARCH,params:{query:a}}:null}function V(e){return B(Object(_.d)(e))}function W(e,t){return e===m.Kd.TUTORIAL?function(){return{name:m.gd.TUTORIAL}}():V(Object(h.b)(e,t))}function q(e,t){const s={listContentType:m.Pb.OFFER_CARDS,referrer:m.Rb[m.Kd.GROCERIES],listFilter:m.Qb.RECOMMENDED_OFFER_CARDS,name:e,keyword:t},a=Object(_.W)(Object(_.d)(s));return H(a)}function z(e){const t={listContentType:m.Pb.OFFER_CARDS,referrer:m.Rb[m.Kd.GROCERIES],listFilter:m.Qb.ACTIVATED_OFFER_CARDS,name:e},s=Object(_.W)(Object(_.d)(t));return H(s)}const K=(e,t)=>U(Object(_.v)(e,t)),Z=(e,t)=>({name:m.gd.SPONSORED_MESSAGE,params:{fid:Object(_.X)(e),creativeId:t}});function Y(e={},t){return i()({name:m.gd.SETTINGS,params:e},t?{query:t}:{})}function X(e={}){return{name:m.gd.CONTACTS,params:{},query:e}}function Q(e={}){return{name:m.gd.CONTACT_DETAILS,params:e}}function $(e,t){return{name:m.gd.CONTACT_DETAILS_FROM_SEARCH,params:{query:Object(_.Y)(e),id:t}}}function J(e={}){return{name:m.gd.ACCOUNT_LIST_FROM_SETTINGS,params:e}}function ee(e={}){return{name:m.gd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,params:e}}function te(e,t={},s){return{name:m.gd.NEW_DRAFT,params:i()({csid:e},s?{referrerRoute:s}:{}),query:t}}function se(e={},t){const s=!t||t!==m.t.BASIC_MAIL_APP&&t!==m.t.BASIC_MOBILE_APP?m.qb:p.a;return Object.keys(e.query||{}).filter(e=>-1===s.indexOf(e)).reduce((t,s)=>i()({},t,{[s]:e.query[s]}),{})}function ae(e=[],t=(()=>!0)){const s=O()(e,e=>t(e)),a=n()(s,2);return[...a[0],...a[1]]}},function(e,t,s){"use strict";var a=s(0),n=s(7),r=s(21),i=s(9),o=s(57),c=s.n(o),d=s(33),l=s.n(d),u=(s(622),s(56));const _=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,m=/^"(\\"|[^"])+"$/,p=/^[A-Za-z0-9\-]+$/,h=["sgproxy_test_10@localhost","sgproxy_test_20@localhost"];function g(e){const t=e.lastIndexOf("@");return{localPart:e.substr(0,t),domainPart:e.substr(t+1)}}function E(e){return!(!_.test(e)&&!m.test(e))}function I(e){const t=e.split("."),s=t.length;if(s<2)return!1;for(let e=0;e<s;e++)if(!p.test(t[e]))return!1;return!0}function S(e){if(!e)return!1;if(-1!==h.indexOf(e))return!0;const t=g(e),s=t.domainPart;return!!E(t.localPart)&&!!I(s)}s.d(t,"a",function(){return C}),s.d(t,"g",function(){return A}),s.d(t,"f",function(){return b}),s.d(t,"e",function(){return O}),s.d(t,"r",function(){return R}),s.d(t,"n",function(){return N}),s.d(t,"p",function(){return M}),s.d(t,"o",function(){return D}),s.d(t,"j",function(){return y}),s.d(t,"h",function(){return L}),s.d(t,"q",function(){return v}),s.d(t,"i",function(){return P}),s.d(t,"b",function(){return U}),s.d(t,"k",function(){return G}),s.d(t,"l",function(){return j}),s.d(t,"c",function(){return H}),s.d(t,"m",function(){return B}),s.d(t,"d",function(){return V});const C=()=>{},f=/^[^\\\/%]+$/,T=[a.gd.NEW_DRAFT,a.gd.EDIT_DRAFT,a.gd.FOLDER,a.gd.SEARCH,a.gd.MESSAGE_FROM_FOLDER_LIST,a.gd.MESSAGE_FROM_SEARCH_LIST,a.gd.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST];function A(){var e=(Date.now()+Math.floor(1e9*Math.random())).toString();return e.substr(e.length-10)}function b({min:e=0,max:t=0}){const s=Math.round(Math.random()*(t-e)+e),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let e=0;e<s;e++)n+=a.charAt(Math.floor(Math.random()*a.length));return n}const O=g,R=E,N=S,M=function(e){return!!S(e)&&"verizonmedia.com"===g(e).domainPart};function D(e){return void 0!==e&&f.test(e.trim())}function y(e){return Object(r.a)(e,"event object is required"),e.key===a.Lb.ENTER?n.d.nav:"keydown"===e.type?n.d.shortcut:n.d.click}function L(e){return Object(i.a)(e||{},"container.id","app-container")}function v(e){const t=e.htmlAnnotations.map(e=>e.divIds?e:(e.divIds=e.divids,delete e.divids,e));return{html:e.html,htmlAnnotations:t}}function P(){let e="";for(let t=0;t<arguments.length;t++)e+=JSON.stringify(arguments[t]);return function(e){let t,s,a,n,r=new Array(256),i=0,o=-1;const c=e.length;for(n=0;256!==n;++n)r[n]=t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=n)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1;for(r="undefined"!=typeof Int32Array?new Int32Array(r):r,i=0;i<c;)(t=e.charCodeAt(i++))<128?o=o>>>8^r[255&(o^t)]:t<2048?o=(o=o>>>8^r[255&(o^(192|t>>6&31))])>>>8^r[255&(o^(128|63&t))]:t>=55296&&t<53248?(t=64+(1023&t),a=1023&e.charCodeAt(i++),o=(o=(o=(o=o>>>8^r[255&(o^(240|t>>8&7))])>>>8^r[255&(o^(128|t>>2&63))])>>>8^r[255&(o^(128|a>>6&15|3&t))])>>>8^r[255&(o^(128|63&a))]):o=(o=(o=o>>>8^r[255&(o^(224|t>>12&15))])>>>8^r[255&(o^(128|t>>6&63))])>>>8^r[255&(o^(128|63&t))];return s=-1^o,s=new Uint32Array([s])[0].toString(16)}(e)}const F=Object.freeze({isNotNothing:()=>!1,isNothing:()=>!0,chain:()=>F,checkIf:()=>F,checkIfNot:()=>F,unbox:(e,t=(()=>C))=>t(),debug:()=>(console.log("Box:[NOTHING]"),F)});function w(e){return null==e||"number"==typeof e&&isNaN(e)||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||e===F}function k(e){return!1===e||w(e)}const x=e=>e;function U(e){return w(e)?F:{checkIf:(t,s=x)=>k(t(e))?F:U(s(e)),checkIfNot:(t,s=x)=>k(t(e))?U(s(e)):F,isNotNothing:()=>!0,isNothing:()=>!1,chain:t=>U(t(e)),unbox:(t=(()=>e))=>t(e),debug:(t=x)=>(console.log("Box:[",JSON.stringify(t(e),null,2),"]"),U(e))}}function G(e,t){return c.a.parse(e)[t]||null}function j(e){if(!e)return null;const t=O(e).domainPart;let s=t.split(".").slice(-2).join(".");return-1!==["co.uk","co.in","com.hk","com.tw"].indexOf(s)&&(s=t.split(".").slice(-3).join(".")),s}function H(e,t,s=[]){if(!s.length)return l()(e,t);for(const a of s)if(!l()(e[a],t[a]))return!1;return!0}function B(){try{const e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function V(e){const t=e.doesComposeSessionExist,s=e.getComposeHeaderFocus,n=e.getMainStreamListIds,r=e.getCursorItem,i=e.doesStreamExist,o=e.getMessageGroupStreamItems,c=e.getStreamItemInFocus,d=(0,e.getRoute)();let l=d.params.csid;const _=d.name;if(!l){const e=Object(u.a)(n(d)),t=i(e)?r(e):void 0;if(t){const e=c();if(e){const s=o(t).find(t=>t.folderType===a.Cb.DRAFT&&(t.csid===e.csid||t.csid===e.id));l=s?s.csid:void 0}}}const m=t(l);return{csid:l,isCompose:T.includes(_)&&m,inputFocus:m?s(l):{}}}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(4),i=s.n(r),o=s(39),c=s.n(o),d=s(3),l=s.n(d),u=s(8),_=s.n(u),m=s(1),p=s.n(m),h=s(639),g=s.n(h),E=s(13),I=s.n(E),S=s(28),C=(s(9),s(90)),f=s.n(C);const T=S.a.THEMED_LIKE_COMPSOE_BUTTON,A=S.a.PRIMARY,b=[A,S.a.SECONDARY,S.a.DANGER,T],O=[T];class R extends p.a.Component{constructor(...e){super(...e),l()(this,"keyboardClick",e=>{/^( |Enter)$/.test(e.key)&&(e.preventDefault(),e.stopPropagation(),this.props.onClick(e))})}componentWillMount(){if(O.indexOf(this.props.kind)>=0&&!this.context.getTheme)throw new Error("context.getTheme() is required for theme related button kind")}render(){const e=this.props,t=e.kind,s=e.disabled,a=e.paddingLess,r=e.marginLess,o=e.onClick,d=e.children,l=e.isOnDarkBackground,u=e.overridingClass,_=e.tabIndex,m=c()(e,["kind","disabled","paddingLess","marginLess","onClick","children","isOnDarkBackground","overridingClass","tabIndex"]),h=I()(g.a,i()({decorated:b.indexOf(t)>=0,kind:t,disabled:s,paddingLess:a,marginLess:r,isOnDarkBackground:l,primaryHover:`${t===A}_${s}`},t===T?{[`${T}_${this.context.getTheme()}`]:!0}:{}));return p.a.createElement("button",n()({tabIndex:_,disabled:Boolean(s),className:u?f()(h.button,u):h.button,onKeyDown:o&&this.keyboardClick,onClick:o,type:"button"},m),d)}}l()(R,"contextTypes",{getTheme:_.a.func}),l()(R,"defaultProps",{kind:S.a.PRIMARY,disabled:!1,paddingLess:!1,marginLess:!1,isOnDarkBackground:!1,tabIndex:-1}),t.a=R},function(e,t,s){"use strict";s.d(t,"a",function(){return h});s(8);var a=s(1),n=s.n(a),r=s(16),i=s(19),o=s(640),c=s.n(o),d=s(13),l=s.n(d),u=s(90),_=s.n(u);const m=/^(kind|colorState|size|rotate)$/,p=/^(?:(?:disabled|paddingLess|role|title)$|data-|aria-|on)/;function h(e){const t={},s=l()(c.a,{size:e.size,paddingLess:e.paddingLess,isOnDarkBackground:e.isOnDarkBackground,isCompact:e.isCompact,disabled:e.disabled}),a={"data-test-id":e["data-test-id"]||"icon-btn-"+e.kind.toLowerCase(),"data-iskeynav":e["data-iskeynav"],tabIndex:e.tabIndex,id:e.id,className:s.button};return Object.keys(e).forEach(s=>{m.test(s)?t[s]=e[s]:p.test(s)?a[s]=e[s]:"className"===s&&(a[s]=_()(a.className,e[s]))}),n.a.createElement(i.a,a,n.a.createElement("span",{className:s.content},n.a.createElement(r.b,t),e.children?n.a.createElement("span",{className:s.label},e.children):null))}h.defaultProps={isOnDarkBackground:!1}},function(e,t,s){"use strict";var a=s(9);t.a=function(e,t,s={}){if(!e){const e=new Error(t);throw e.name="Invariant",Object(a.b)(s)||(e.data=s),e}return e}},function(e,t,s){"use strict";s.d(t,"f",function(){return _}),s.d(t,"j",function(){return m}),s.d(t,"d",function(){return p}),s.d(t,"i",function(){return h}),s.d(t,"c",function(){return g}),s.d(t,"g",function(){return E}),s.d(t,"e",function(){return I}),s.d(t,"a",function(){return S}),s.d(t,"h",function(){return C}),s.d(t,"b",function(){return f}),s.d(t,"l",function(){return T}),s.d(t,"o",function(){return A}),s.d(t,"m",function(){return b}),s.d(t,"n",function(){return O}),s.d(t,"k",function(){return R});var a=s(4),n=s.n(a),r=s(12),i=s(9),o=s(24),c=s(0);const d={NIGHT_LANDSCAPE:{IMAGE:"/img/night_landscape.jpg",BG_BACKGROUND_COLOR:"#1d1f39",BACKGROUND_COLOR:"#1d1f39",BACKGROUND_SIZE:"100% auto",BACKGROUND_REPEAT:"no-repeat",MAX_BACKGROUND_SIZE:"100% auto",GRADIENT_COLOR_1:"#8DA4EC",GRADIENT_COLOR_2:"#8DA4EC",GRADIENT_COLOR_3:"#8DA4EC",HIGHLIGHT:"#8DA4EC",COMPOSE_BUTTON_COLOR:"#8DA4EC",SEGMENT_BORDER_COLOR:Object(o.a)("#8DA4EC",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#8DA4EC",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#8DA4EC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#8DA4EC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#8DA4EC",.16),FOLDER_ACTIVED_BORDER:"2px solid #8DA4EC",ITEM_SELECTED_BGCOLOR:Object(o.a)("#8DA4EC",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#8DA4EC",.16),OPACITY_MASK_COLOR:"#111222",PREVIEWR_TOOLBAR_COLOR:Object(o.a)("#111222",.3),CLIP_BUTTON_COLOR:"#8DA4EC"},ROADTRIP:{IMAGE:"/img/roadtrip.jpg",BACKGROUND_REPEAT_IMAGE:"/img/roadtrip_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"349px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#be8f85",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#d9aa76",GRADIENT_COLOR_2:"#d9aa76",GRADIENT_COLOR_3:"#d9aa76",HIGHLIGHT:"#d9aa76",COMPOSE_BUTTON_COLOR:"#d9aa76",SEGMENT_BORDER_COLOR:Object(o.a)("#d9aa76",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#d9aa76",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#d9aa76",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#d9aa76",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#d9aa76",.16),FOLDER_ACTIVED_BORDER:"2px solid #d9aa76",ITEM_SELECTED_BGCOLOR:Object(o.a)("#d9aa76",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#d9aa76",.16),OPACITY_MASK_COLOR:r.ROADTRIP_PHOTO_THEME_BROWN,PREVIEWR_TOOLBAR_COLOR:Object(o.a)(r.ROADTRIP_PHOTO_THEME_BROWN,.3),CLIP_BUTTON_COLOR:"#d9aa76"},SUNSET_AUSSIE:{IMAGE:"/img/sunset_aussie.jpg",BACKGROUND_REPEAT_IMAGE:"/img/sunset_aussie_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#5B3B3E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#ef8f4e",GRADIENT_COLOR_2:"#ef8f4e",GRADIENT_COLOR_3:"#ef8f4e",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:Object(o.a)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:Object(o.a)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#ef8f4e",.16),OPACITY_MASK_COLOR:"#352431",PREVIEWR_TOOLBAR_COLOR:Object(o.a)("#352431",.3),CLIP_BUTTON_COLOR:"#ef8f4e"},LIGHTHOUSE:{IMAGE:"/img/lighthouse.jpg",BACKGROUND_REPEAT_IMAGE:"/img/lighthouse_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"263.5px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#03383E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#85CBAC",GRADIENT_COLOR_2:"#85CBAC",GRADIENT_COLOR_3:"#85CBAC",HIGHLIGHT:"#85CBAC",COMPOSE_BUTTON_COLOR:"#85CBAC",SEGMENT_BORDER_COLOR:Object(o.a)("#85CBAC",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#85CBAC",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#85CBAC",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#85CBAC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#85CBAC",.16),FOLDER_ACTIVED_BORDER:"2px solid #85CBAC",ITEM_SELECTED_BGCOLOR:Object(o.a)("#85CBAC",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#85CBAC",.16),OPACITY_MASK_COLOR:"#072328",PREVIEWR_TOOLBAR_COLOR:Object(o.a)("#072328",.3),CLIP_BUTTON_COLOR:"#85CBAC"}},l={DEFAULT:{BROWSER_URLBAR_COLOR:"#ffffff",GRADIENT_COLOR_1:r.HEADER_COLOR_1,GRADIENT_COLOR_2:r.HEADER_COLOR_1,GRADIENT_COLOR_3:r.HEADER_COLOR_2,HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:r.PRIMARY_BUTTON_ACTIVE_COLOR,SEGMENT_BORDER_COLOR:Object(o.a)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#4faaff",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)(r.PRIMARY_BUTTON_ACTIVE_COLOR,.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)(r.PRIMARY_BUTTON_ACTIVE_COLOR,.16),FOLDER_ACTIVED_BORDER:`2px solid ${r.PRIMARY_BUTTON_ACTIVE_COLOR}`,ITEM_SELECTED_BGCOLOR:Object(o.a)("#188fff",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#188fff",.16),PREVIEWR_TOOLBAR_COLOR:r.HEADER_COLOR_2,CLIP_BUTTON_COLOR:r.PRIMARY_BUTTON_ACTIVE_COLOR},SUNRISE:{BROWSER_URLBAR_COLOR:"#e07400",GRADIENT_COLOR_1:"#f3b049",GRADIENT_COLOR_2:"#ea7d56",GRADIENT_COLOR_3:"#d4207d",HIGHLIGHT:"#ef8f4e",COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:Object(o.a)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#ef8f4e",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:Object(o.a)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#ef8f4e",.16),PREVIEWR_TOOLBAR_COLOR:"#d4207d",CLIP_BUTTON_COLOR:"#ef8f4e"},AQUA_GREEN:{BROWSER_URLBAR_COLOR:"#008f88",GRADIENT_COLOR_1:"#a0b952",GRADIENT_COLOR_2:"#4fa46d",GRADIENT_COLOR_3:"#008f88",HIGHLIGHT:"#7aaf60",COMPOSE_BUTTON_COLOR:"#7aaf60",SEGMENT_BORDER_COLOR:Object(o.a)("#7aaf60",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#7aaf60",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#7aaf60",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#7aaf60",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#7aaf60",.16),FOLDER_ACTIVED_BORDER:"2px solid #7aaf60",ITEM_SELECTED_BGCOLOR:Object(o.a)("#7aaf60",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#7aaf60",.16),PREVIEWR_TOOLBAR_COLOR:"#008f88",CLIP_BUTTON_COLOR:"#7aaf60"},AQUA_BLUE:{BROWSER_URLBAR_COLOR:"#0034a3",GRADIENT_COLOR_1:"#26b0b1",GRADIENT_COLOR_2:"#1373aa",GRADIENT_COLOR_3:"#0034a3",HIGHLIGHT:"#1d92ae",COMPOSE_BUTTON_COLOR:"#1d92ae",SEGMENT_BORDER_COLOR:Object(o.a)("#1d92ae",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#1d92ae",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#1d92ae",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#1d92ae",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#1d92ae",.16),FOLDER_ACTIVED_BORDER:"2px solid #1d92ae",ITEM_SELECTED_BGCOLOR:Object(o.a)("#1d92ae",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#1d92ae",.16),PREVIEWR_TOOLBAR_COLOR:"#0034a3",CLIP_BUTTON_COLOR:"#1d92ae"},DEEP_PURPLE:{BROWSER_URLBAR_COLOR:"#200f35",GRADIENT_COLOR_1:"#8d7da2",GRADIENT_COLOR_2:"#59496e",GRADIENT_COLOR_3:"#200f35",HIGHLIGHT:"#b08ae4",COMPOSE_BUTTON_COLOR:"#b08ae4",SEGMENT_BORDER_COLOR:Object(o.a)("#b08ae4",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#b08ae4",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#b08ae4",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#b08ae4",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#b08ae4",.16),FOLDER_ACTIVED_BORDER:"2px solid #b08ae4",ITEM_SELECTED_BGCOLOR:Object(o.a)("#b08ae4",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#b08ae4",.16),PREVIEWR_TOOLBAR_COLOR:"#200f35",CLIP_BUTTON_COLOR:"#b08ae4"},BLUE_NIGHT:{BROWSER_URLBAR_COLOR:"#1c3e5c",GRADIENT_COLOR_1:"#1c3e5c",GRADIENT_COLOR_2:"#1c3e5c",GRADIENT_COLOR_3:"#1c3e5c",HIGHLIGHT:"#4faaff",COMPOSE_BUTTON_COLOR:"#4faaff",SEGMENT_BORDER_COLOR:Object(o.a)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#4faaff",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#4faaff",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#4faaff",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#4faaff",.16),FOLDER_ACTIVED_BORDER:"2px solid #4faaff",ITEM_SELECTED_BGCOLOR:Object(o.a)("#4faaff",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#4faaff",.16),PREVIEWR_TOOLBAR_COLOR:"#1c3e5c",CLIP_BUTTON_COLOR:"#4faaff"},DARK_GREY:{BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:"#5C6070",GRADIENT_COLOR_2:"#5C6070",GRADIENT_COLOR_3:"#373A43",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#5C6070",SEGMENT_BORDER_COLOR:Object(o.a)("#5C6070",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#5C6070",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#5C6070",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#5C6070",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#5C6070",.16),FOLDER_ACTIVED_BORDER:"2px solid #5C6070",ITEM_SELECTED_BGCOLOR:Object(o.a)("#5C6070",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#5C6070",.16),CLIP_BUTTON_COLOR:"#5C6070"}};let u={DEFAULT:n()({},l.DARK_GREY,{GRADIENT_COLOR_1:Object(o.a)("#FFFFFF",.5),GRADIENT_COLOR_2:Object(o.a)("#FFFFFF",.5),GRADIENT_COLOR_3:Object(o.a)("#FFFFFF",.3),SIDEBAR_COLOR:"#333",BACKGROUND_COLOR:"#000"})};u=Object.keys(u).reduce(function(e,t){return e[`${c.Wd.AOL}_${t}`]=u[t],e},{});const _={ATT:{BROWSER_URLBAR_COLOR:"#009fdb",GRADIENT_COLOR_1:"#009fdb",GRADIENT_COLOR_2:"#009fdb",GRADIENT_COLOR_3:"#009fdb",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#009fdb",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(o.a)("#009fdb",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#009fdb",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#009fdb",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#009fdb",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#009fdb",.16),FOLDER_ACTIVED_BORDER:"2px solid #009fdb",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(o.a)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(o.a)("#009fdb",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#009fdb",.16),CLIP_BUTTON_COLOR:"#009fdb"},FRONTIER:{BROWSER_URLBAR_COLOR:"#931F27",GRADIENT_COLOR_1:"#BD2832",GRADIENT_COLOR_2:"#BD2832",GRADIENT_COLOR_3:"#931F27",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#BD2832",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(o.a)("#BD2832",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#BD2832",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#BD2832",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#BD2832",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#BD2832",.16),FOLDER_ACTIVED_BORDER:"2px solid #BD2832",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(o.a)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(o.a)("#BD2832",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#BD2832",.16),CLIP_BUTTON_COLOR:"#BD2832"},ROGERS:n()({},l.DARK_GREY,{BROWSER_URLBAR_COLOR:"#373A43",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(o.a)("#FFFFFF",.32)}`}),BT:{BROWSER_URLBAR_COLOR:"#6400AA",GRADIENT_COLOR_1:"#6400AA",GRADIENT_COLOR_2:"#6400AA",GRADIENT_COLOR_3:"#6400AA",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#6400AA",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(o.a)("#6400AA",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#6400AA",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#6400AA",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#6400AA",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#6400AA",.16),FOLDER_ACTIVED_BORDER:"2px solid #6400AA",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(o.a)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(o.a)("#6400AA",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#6400AA",.16),CLIP_BUTTON_COLOR:"#6400AA"},SKY:{BROWSER_URLBAR_COLOR:"#0051B7",GRADIENT_COLOR_1:"#0051B7",GRADIENT_COLOR_2:"#0051B7",GRADIENT_COLOR_3:"#0051B7",HIGHLIGHT:"#FFFFFF",COMPOSE_BUTTON_COLOR:"#0051B7",COMPOSE_BUTTON_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BORDER_COLOR:Object(o.a)("#0051B7",.64),SEGMENT_BACKGROUND_COLOR:Object(o.a)("#0051B7",.32),SEGMENT_HOVER_COLOR:Object(o.a)("#0051B7",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BACKGROUND_COLOR:Object(o.a)("#0051B7",.32),FOLDER_HOVERED_BACKGROUND_COLOR:Object(o.a)("#0051B7",.16),FOLDER_ACTIVED_BORDER:"2px solid #0051B7",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:Object(o.a)("#FFFFFF",.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${Object(o.a)("#FFFFFF",.32)}`,ITEM_SELECTED_BGCOLOR:Object(o.a)("#0051B7",.32),ITEM_HOVERED_BGCOLOR:Object(o.a)("#0051B7",.16),CLIP_BUTTON_COLOR:"#0051B7"}},m=n()({},_,l,d),p=n()({},l,_,u,{DEFAULT:n()({},l.DEFAULT,{BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"}),PURPLE:n()({},l.DEFAULT,{BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"})}),h=Object(i.c)(m),g=Object(i.c)(p),E=Object(i.c)(d),I=Object(i.c)(_),S=Object(i.c)(u),C={LIGHT:"LIGHT",MEDIUM:"MEDIUM",DARK:"DARK"},f={[C.LIGHT]:{PRIMARY_BLUE:r.BLUE,BOTTOM_TOOLBACK_BACKGROUND:"white",PRIMARY_TEXT:r.PALETTE.ycolorGrayA,LIST_BACKGROUND:"white"},[C.DARK]:{PRIMARY_BLUE:r.DARK_THEME_BLUE,BOTTOM_TOOLBACK_BACKGROUND:r.PALETTE.ycolorGrayC,PRIMARY_TEXT:"white",LIST_BACKGROUND:r.PALETTE.ycolorGrayB}},T=(e,t)=>{const s=e||h.DEFAULT;return s.IMAGE?`url(${t(s.IMAGE)})`:`linear-gradient(45deg,\n        ${s.GRADIENT_COLOR_1},\n        ${s.GRADIENT_COLOR_2},\n        ${s.GRADIENT_COLOR_3})`},A=e=>!!E[e],b=({context:e,includeMedium:t=!1})=>{const s=e.getThemeMode();return t&&s===C.MEDIUM||s===C.DARK},O=e=>!!I[e],R=(e,t=!1)=>{const s=b({context:e,includeMedium:t}),a=A(e.getTheme());return{darkModeNonPhotoTheme:!a&&s,["darkModePhotoTheme_"+e.getTheme()]:a&&s}}},,function(e,t,s){"use strict";function a(e,t){var s=0,a=[0,0,0,t];if(4!==e.length&&7!==e.length)throw new Error('The hex string has have length of 4 or 7 including the "#". We got: '+e);for(4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),s=0;s<3;s++)a[s]=parseInt(e.slice(2*s+1,2*s+3),16);return"rgba("+a.join(", ")+")"}s.d(t,"a",function(){return a})},function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"d",function(){return u}),s.d(t,"c",function(){return _}),s.d(t,"e",function(){return m}),s.d(t,"h",function(){return p}),s.d(t,"g",function(){return h}),s.d(t,"f",function(){return g}),s.d(t,"a",function(){return E}),s.d(t,"i",function(){return I});var a=s(4),n=s.n(a),r=s(0),i=s(9),o=s(251),c=s(57),d=s.n(c);function l(){return"undefined"!=typeof window}function u(e){if(l())return new Promise(t=>{const s=new Image;s.src=e,s.onload=()=>{t()}})}function _(e,t={}){if(!e)return e;const s=Object(o.parse)(e),a=s.protocol,r=s.host,i=s.pathname,c=s.query,l=s.hash,u=n()({},d.a.parse(c),t),_=d.a.stringify(u);let m="";return a&&(m=a+"//"),r&&(m+=r),i&&(m+=i),_&&(m=m+"?"+_),l&&(m+=l),m}function m(e){const t=e||{},s=t.partner,a=t.reason,n=window.location.port;let i=window.location.protocol+"//"+window.location.hostname;n&&(i+=":"+n),i+=r.xe+"?reason="+(void 0===a?"unkown":a),"ycorp"===(void 0===s?"":s)&&(i+="&.partner=ycorp"),window.location.replace(i)}function p(){return l()&&"function"==typeof Object(i.a)(window,"DataTransfer.prototype.setDragImage")}function h(e){if(!l())return;const t=Object(i.a)(window,"AppBootstrapData.browserName");t&&t.toLowerCase().indexOf("safari")>=0||(e.style.position="fixed",e.style.top="-1000px",e.style.left="-1000px")}function g(e,t){return p()&&(t||((t=document.createElement("img")).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",document.body.appendChild(t)),e.setDragImage(t,0,0)),t}function E(e){e&&document.body.removeChild(e)}function I(){try{return JSON.parse.apply(JSON,arguments)}catch(e){return null}}},function(e,t,s){"use strict";var a=s(119),n=s.n(a),r=s(539),i=s.n(r),o=s(73),c=s(9),d=s(18),l=s(25);const u=Object(c.c)(["RETRIED","SUCCESS","FAIL"]);var _=function(e){return function(t){return t._originalEnd=t._end,t._originalShouldRetry=t._shouldRetry,t._end=()=>{const e=t._retries;return e>0&&(t.url=Object(l.c)(t.url,{retries:e})),t._originalEnd()},t._shouldRetry=(s,a)=>{const n=t._originalShouldRetry(s,a),r=t._retries,i=a&&a.status||"N/A",c=Object(d.k)(t.url,"ymreqid")||"";let l=s&&s.code||(200!==i?"NOT_OK_STATUS":"N/A");if(s&&s.crossDomain&&(l="OUTBOUND"),1===r&&n&&(o.a.error("superagent_retry",{apiName:e,ymreqid:c,errorCode:l,statusCode:i,state:u.RETRIED}),t.retryErrorCode=l,t.retryStatusCode=i),2===r){const a=t.retryErrorCode,n=void 0===a?"":a,r=t.retryStatusCode,d=void 0===r?"":r;o.a.error("superagent_retry",s||200!==i?{apiName:e,ymreqid:c,errorCode:l,statusCode:i,retryErrorCode:n,retryStatusCode:d,state:u.FAIL}:{apiName:e,ymreqid:c,retryErrorCode:n,retryStatusCode:d,state:u.SUCCESS})}return n},t}},m=s(38),p=s(44);const h=/<!-- status code : (\d{3}) -->\n<!-- ([\s\S]*?) -->\n<!-- host machine: ([\s\S]*?) -->/,g={400:"BAD_REQUEST",404:"NOT_FOUND",413:"PAYLOAD_TOO_LARGE",500:"INTERNAL_SERVER_ERROR",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT"};function E(e,t,s){let a=null;return a||(a=function(e){if(e&&e.crossDomain){const t=e.message,s=e.status,a=!Object(l.b)()||navigator.onLine;return new m.a("HttpTransport.OutboundError",t,{errorCode:"OUTBOUND",statusCode:s,isOnline:a})}}(e)),a||(a=function(e){if(e&&"ENOTFOUND"===e.code)return new m.a("HttpTransport.ServerNotFound",e.message,{errorCode:e.code})}(e)),a||(a=function(e){if(e&&"ECONNREFUSED"===e.code)return new m.a("HttpTransport.ConnectionRefused",e.message,{errorCode:e.code})}(e)),a||(a=function(e){if(e&&"ECONNRESET"===e.code)return new m.a("HttpTransport.ConnectionReset",e.message,{errorCode:e.code})}(e)),a||(a=function(e){if(e&&"ECONNABORTED"===e.code)return new m.a("HttpTransport.ConnectionTimedOut",e.message,{errorCode:e.code})}(e)),a||(a=function(e){if(e&&(e.parse||"SyntaxError"===e.name))return new m.a("HttpTransport.ParseError",e.message,{statusCode:e.statusCode,errorCode:"SyntaxError"===e.name?"SyntaxError":"ParseError",responseText:e.rawResponse})}(e)),a||(a=function(e){const t=e&&e.status;if(403===t){let s;const a=Object(c.a)(e,"type","");try{s="text/html"===a&&e.text?JSON.parse(e.text):Object(c.a)(e,"body",{})}catch(e){s={}}const n=Object(c.a)(s,"name","");if(n===p.c)return new m.a(p.c,{data:s.data||"",errorCode:"CRUMB",statusCode:t})}}(t)),a||(a=function(e){if(e&&200!==e.status){const t=e.text,s=void 0===t?"":t,a=e.status,n=e.body;let r="NOT_OK_STATUS";a>=400&&(h.test(s)?r="YCPI":g.hasOwnProperty(a)&&(r=g[a]));const i={responseText:s,body:n,errorCode:r,statusCode:a};return new m.a("HttpTransport.NotOkStatusCode",i)}}(t)),a||(a=function(e,t){const s=t&&t.header&&(t.header.Accept||t.header.accept||""),a=e&&e.type||"";if(s&&a&&a.toLowerCase().indexOf(s.toLowerCase())<0)return new m.a("HttpTransport.ContentTypeError",`request:${s}-response:${a}`,{errorCode:"CONTENT_TYPE_MISSMATCH",statusCode:e.status,html:e.text,headers:e.headers})}(t,s)),a||(a=function(e,t){if(e||!t)return new m.a("GenericError",e&&`${e.name}: ${e.message}`||"")}(e,t)),a}var I=function(e){return btoa(unescape(encodeURIComponent(e)))};const S=["get","head"],C=3e4;class f{send(e){return new Promise((t,s)=>{const a=this._getRequest(e);a.end((e,n)=>{const r=E(e,n,a);if(r)return s(r);t(this._mapResponse(n))})})}_getRequest({method:e,url:t,body:s,withCredentials:a,headers:n,fields:r,attachments:o,parser:c,timeout:d=C,httpRetry:l=0,shouldRetry:u=(()=>{}),apiName:m="",tls:p,uploadProgressCallback:h}){const g=i.a[this._getMethodName(e)](t);return this._setBody(g,e,s),a&&g.withCredentials(),this._setHeaders(g,n),this._setFields(g,r),this._setAttachments(g,o),this._setParser(g,c),this._setRetry(g,l,u),this._setUploadProgressCallback(g,h),this._setTLS(g,p),d&&g.timeout(d),m&&g.use(_(m)),g}_getMethodName(e){return"delete"===(e=e.toLowerCase())&&(e="del"),e}_mapResponse(e){return{body:e.body,text:e.text,status:e.status,headers:e.headers}}_setBody(e,t,s){~S.indexOf(this._getMethodName(t))?e.query(s):e.send(s)}_setHeaders(e,t){t&&Object.keys(t).forEach(s=>{e.unset(s),e.set(s,t[s])})}_setFields(e,t){t&&Object.keys(t).forEach(s=>{e.field(s,t[s])})}_setAttachments(e,t){t&&Object.keys(t).forEach(s=>{const a=I(t[s].name);e.attach(s,t[s],`=?UTF-8?b?${a}?=`)})}_setParser(e,t){t&&e.parse(function(e,s){e.text="",e.on("data",function(t){e.text+=t}),e.on("end",function(){t(e.text,s)})})}_setRetry(e,t,s){e.retry(t,s)}_setUploadProgressCallback(e,t){t&&e.on("progress",t)}_setTLS(e,t){Object(c.b)(t)||(t.key&&e.key(t.key),t.cert&&e.cert(t.cert),t.ca&&e.ca(t.ca))}}class T extends f{createStream(e){const t=this._getRequest(e),s=n()();let a=!1;if("undefined"!=typeof window&&window.AppBootstrapData){const e=window.AppBootstrapData,t=e.browserVersion;a="Edge"===e.browserName&&15===parseInt(t,10)}return t.on("progress",e=>{a||s.emit("data",e.currentTarget.responseText)}),t.end((e,n)=>{const r=E(e,n,t);r?setTimeout(()=>{s.emit("error",r)},0):setTimeout(()=>{a&&s.emit("data",n.text),s.emit("end")},0)}),s}}var A=s(21),b=s(395),O=s.n(b);s.d(t,"a",function(){return R});const R=Object(c.c)(["GET","HEAD","POST","PUT","PATCH","DELETE"]),N=new O.a;function M(e,t,s={}){const a=s.uploadProgressCallback,n=s.timeout,r=void 0===n?C:n,i=s.httpRetry,o=void 0===i?0:i,c=s.shouldRetry,d=void 0===c?()=>{}:c,l=s.apiName,u=void 0===l?"":l,_=s.tls,m=void 0===_?{}:_;this.adapter=new T,this.withCredentials=!1,this._method=e.toUpperCase(),Object(A.a)(R[this._method],"Invalid HTTP method. Valid options are: "+JSON.stringify(Object.keys(R))),this._timeout=r,this._url=t,this._headers={},this._fields={},this._attachments={},this._body=null,this._httpRetry=o,this._shouldRetry=d,this._apiName=u,this._uploadProgressCallback=a,this._tls=m}M.prototype.setHeader=function(e,t){return this._headers[e]=t,this},M.prototype.setCookieHeader=function(e){Object(A.a)(e,"Cookie should not be empty"),this.setHeader("Cookie",e)},M.prototype.setField=function(e,t){return this._fields[e]=t,this},M.prototype.setAttachment=function(e,t){return this._attachments[e]=t,this},M.prototype.setParser=function(e){return this._parser=e,this},M.prototype.setRetry=function(e){return this._httpRetry=e,this},M.prototype.send=function(e){e&&(this._body=e);const t=this.adapter.send({withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout,httpRetry:this._httpRetry,shouldRetry:this._shouldRetry,apiName:this._apiName,uploadProgressCallback:this._uploadProgressCallback,tls:this._tls});return t.then(()=>{N.emit("success")},e=>{e.url=this._url,N.emit("error",e)}),t},M.prototype.createStream=function(e){e&&(this._body=e);const t=this.adapter.createStream({withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout});return t.on("error",e=>N.emit("error",e)),t},M.on=function(...e){N.on(...e)},M.off=function(...e){N.off(...e)},M.emit=function(...e){N.emit(...e)};t.b=M},function(e,t,s){"use strict";var a=s(8),n=s.n(a),r=s(1),i=s.n(r);var o=class extends i.a.Component{render(){return null}},c=s(46),d=s.n(c),l=s(73),u=s(15),_=s(11);class m extends r.Component{constructor(e){super(e);const t=this.props._moduleResolver(),a=!!s.m[t],n=this._interopRequireDefault(a?s(t):null);this.state={LoadedComponent:n,loaded:a,failed:!1}}_updateLoadedState(e){const t=this.props,s=t.onModuleLoadFailure,a=t.bundleName,n=l.a.feature("lazy_component",{bundleName:void 0===a?"lazy_group_1":a});e.then(e=>{this._isMounted&&(n.logSuccessAndLatency(),this.setState({loaded:!0,failed:!1,LoadedComponent:e.default?e.default:e}))}).catch(e=>{n.logFailure(),s&&s(e),this.setState({loaded:!0,failed:!0})})}componentWillReceiveProps(e){this.state.failed&&(this.props.isOffline&&!e.isOffline)&&this.load()}componentDidMount(){if(this._isMounted=!0,!this.state.loaded)if(this.props.defer){const e=()=>{window.requestIdleCallback?window.requestIdleCallback(()=>this.load()):setTimeout(()=>this.load())};"complete"===document.readyState?e():window.addEventListener("load",e)}else this.load()}componentDidUpdate(e,t){if(t.loaded!==this.state.loaded&&this.state.loaded){const e=this.props.onModuleLoadSuccess;e&&e()}}componentWillUnmount(){this._isMounted=!1}load(){this._updateLoadedState(this.props._moduleLoader())}_interopRequireDefault(e){return e&&e.__esModule?e.default:e}render(){const e=r.Children.toArray(this.props.children);if(!this.state.loaded)return I(e.find(p));if(this.state.failed){let t=null;return this.props.isOffline&&(t=e.find(g)),I(t||e.find(h))}const t=this.state.LoadedComponent,s=d()(this.props,["import","defer","onModuleLoadFailure","onModuleLoadSuccess","_moduleLoader","_moduleResolver","isOffline","bundleName","children"]);return i.a.createElement(t,s,e.filter(E))}}function p(e){return e.props.loading}function h(e){return e.props.failed}function g(e){return e.props.offline}function E(e){return e.type!==o}function I(e){return e&&e.props.children?r.Children.only(e.props.children):null}var S=Object(u.connect)(e=>{return{isOffline:!(0,Object(_.b)(e).isOnline)()}})(m),C=s(3),f=s.n(C),T=s(19),A=s(28);class b extends i.a.Component{constructor(...e){super(...e),f()(this,"handleClick",e=>{e.preventDefault(),this.context.retry()})}render(){return i.a.createElement(T.a,{kind:A.a.CHROMELESS,onClick:this.handleClick},this.props.children)}}f()(b,"contextTypes",{retry:n.a.func});s.d(t,"a",function(){return S}),s.d(t,"b",function(){return o})},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(9);const n=Object(a.c)(["PLAIN","PRIMARY","SECONDARY","CHROMELESS","ICON","ICON_HIGHLIGHTED","MENUITEM","MENUITEM_PARENT_TEXT_COLOR","DANGER","SECONDARY_BORDERLESS","CUE","THEMED_LIKE_COMPSOE_BUTTON","PILL"])},,function(e,t,s){"use strict";s.r(t),s.d(t,"Fonts",function(){return r}),s.d(t,"FontSizes",function(){return i}),s.d(t,"NO_STATIONERY",function(){return o}),s.d(t,"STATIONERY_MIN_WIDTH",function(){return c}),s.d(t,"ToolbarActions",function(){return d}),s.d(t,"FocusableRefs",function(){return l}),s.d(t,"KeyCodes",function(){return u}),s.d(t,"RTEKeyModifier",function(){return _}),s.d(t,"EditorTypes",function(){return m}),s.d(t,"ToolbarTypes",function(){return p}),s.d(t,"PreviewTypes",function(){return h}),s.d(t,"TOOLBAR_HEIGHT",function(){return g}),s.d(t,"HORIZONTAL_PADDING",function(){return E}),s.d(t,"FORMAT_DATE_OPTION",function(){return I}),s.d(t,"IMAGE_OVERLAY_INITIAL_LEFT",function(){return S}),s.d(t,"CURRENT_IMAGE_SIZE_STATUS",function(){return C}),s.d(t,"RTEHoverOverlayTypes",function(){return f}),s.d(t,"INLINE_IMAGE_PLUGIN_CLASSES",function(){return T}),s.d(t,"INLINE_IMAGE_PLUGIN_SIZE",function(){return A}),s.d(t,"HYPERLINK_PLUGIN_IGNORE_CLASS",function(){return b}),s.d(t,"COMPOSE_MIN_WIDTH",function(){return O}),s.d(t,"OutlookSupportHTMLAttributes",function(){return R}),s.d(t,"OutlookSupportHTMLHeadContent",function(){return N}),s.d(t,"EDITOR_EVENTS",function(){return M}),s.d(t,"DELETE_CONTACT",function(){return D}),s.d(t,"INLINE_IMAGE_SELECTOR",function(){return y}),s.d(t,"STATIONERY_BODY_SELECTOR",function(){return L}),s.d(t,"LINK_EHANCER_CARD_SELECTOR",function(){return v}),s.d(t,"HIDE_SELECTION_CLASS",function(){return P}),s.d(t,"IMAGE_STATUS",function(){return F});var a=s(9),n=s(84);const r=n.e,i=n.d,o="no_stationery",c=480,d={FILE_SELECT:"fileselect",FILE_SELECT_BTN_CLICKED:"fileselectbtnclicked",SEND:"send",DELETE_DRAFT:"delete_draft",UPDATE_STATIONERY:"update_stationery",CREATE_LINK:"createlink",PLAIN_TEXT:"plaintext",RICH_TEXT:"richtext",INSERT_ORDERED_LIST:"insertorderedlist",FONT_NAME:"fontname",FONT_SIZE:"fontsize"},l=n.a,u={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,SPACE:32,TAB:9},_={NO_MODIFIER:1,ALT:1,SHIFT:2,SPECIAL:4,NONSPECIAL:8},m=Object(a.c)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),p=Object(a.c)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS"]),h=Object(a.c)(["MESSAGE","VACATION_RESPONSE"]),g=70,E=72,I={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"},S="-5000px",C=Object(a.c)(["LARGE","SMALL"]),f=Object(a.c)(["IMAGE","LINK_ENHANCER_CARD"]),T={GIF_WRAPPER_CLASS:"yahoo-gif-wrapper",INLINE_IMAGE_CLASS:"yahoo-inline-image",IMAGE_OVERLAY_CLASS:"yahoo-inline-img-overlay",ONLINE_GIF_CLASS:"yahoo-online-gif",EMOJI_WRAPPER_CLASS:"yahoo-emoji-wrapper",IGNORE_CLASS:"yahoo-ignore-inline-image"},A={IMAGE_SMALL_WIDTH:400,IMAGE_BIG_WIDTH:800,TINY_IMAGE_WIDTH:100,IMAGE_BIG_PERCENTAGE:"100%",IMAGE_SMALL_PERCENTAGE:"50%"},b="yahoo-ignore-hyperlink",O=670,R=['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" "),N="\x3c!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]--\x3e",M=Object(a.c)(["emoji_inserted","gif_inserted","gif_removed","gif_resized","inline_attachment_inserted","inline_image_removed","inline_image_resized","inline_to_non_inline_attachment","stationery_cleared","default_stationery_cleared","link_enhancer_card_removed","link_enhancer_card_size_changed","link_enhancer_card_added","link_enhancer_card_moved"]),D="delete-contact",y=`img[class*="${T.INLINE_IMAGE_CLASS}"]:not([class*="${T.ONLINE_GIF_CLASS}"]):not([class*="${T.IGNORE_CLASS}"])`,L='[id$="middleBody"]',v='div[class*="yahoo-link-enhancr-card"]',P="hide-selection",F={loading:"yahoo-loading"}},,,,function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=s(3),c=s.n(o),d=(s(8),s(1)),l=s.n(d),u=s(667),_=s.n(u),m=s(13),p=s.n(m),h=s(98);s(9);class g extends l.a.Component{render(){const e=this.props,t=e.name,s=e.kind,a=e.ariaLabel,r=e.dir,o=e.title,c=i()(e,["name","kind","ariaLabel","dir","title"]),d=p()(_.a,{kind:s}),u=this.props.children||this.props.text;return l.a.createElement("li",n()({name:t,title:o,"data-test-id":t,className:d.listItem,"aria-label":a,role:"menuitem",dir:r},c),u)}}c()(g,"defaultProps",{kind:h.a.DEFAULT}),t.a=g},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"e",function(){return i}),s.d(t,"d",function(){return d}),s.d(t,"b",function(){return l}),s.d(t,"f",function(){return _}),s.d(t,"h",function(){return m}),s.d(t,"g",function(){return p}),s.d(t,"j",function(){return h}),s.d(t,"l",function(){return g}),s.d(t,"a",function(){return S}),s.d(t,"i",function(){return C}),s.d(t,"k",function(){return f});var a=s(0),n=s(25);const r=encodeURIComponent(":"),i=encodeURIComponent(" "),o=encodeURIComponent("("),c=encodeURIComponent(")"),d=encodeURIComponent("["),l=encodeURIComponent("]"),u=/(?:^|[\s(])folderid:(\d+)/i,_=["SYNC","INVISIBLE"];function m(e){let t="";switch(e){case a.Qb.PEOPLE:t+=`${i}is${r}personal`;break;case a.Qb.SHOPPING:t+=`${i}is${r}shopping`;break;case a.Qb.TRAVEL:t+=`${i}is${r}travel`;break;case a.Qb.TRAVEL_VIEW_UPCOMING:case a.Qb.TRAVEL_VIEW_PAST:t+=`${i}decoId${r}FLR`;break;case a.Qb.SAVED_COUPON_CARDS:t+=`${i}decoId${r}${o}CPN${i}TAG${c}`;break;case a.Qb.ALL_COUPON_CARDS:t+=`${i}decoId${r}${o}CPN${c}`;break;case a.Qb.ALL_REFUND_CARDS:t+=`${i}decoId${r}${o}ORD${c}`;break;case a.Qb.FINANCE:t+=`${i}is${r}financial`;break;case a.Qb.SOCIAL:t+=`${i}is${r}social`}return t}function p(e){return(u.exec(e&&e.base||"")||[])[1]||"1"}function h(e){const t=Number(function(e,t,s){if(!e[t])return"";const a=e[t].split(" ").map(e=>e.split(":")).filter(([e])=>e===s);return 0===a.length?"":a[0][1]||""}(e,"options","count"));return isNaN(t)?0:t}function g(e,t,s){return Array.isArray(t)?Array.prototype[s?"every":"some"].call(t,t=>g(e,t)):e&&e.some(e=>e&&e.id&&e.id===t)}class E{constructor(e,t,s){this.promise=e,this.counter=t||1,this.time=Date.now()+(s||0),e.then(e=>(this.time=Date.now(),e))}increaseCount(){this.counter+=1}age(){return Date.now()-this.time}isActive(e){return this.age()<e}getExponentialDelayTime(){return Math.min(100+Math.pow(2,this.counter),2147483647)}getExponentialDelayedPromise(){return new Promise((e,t)=>{this.promise.then(t=>{setTimeout(()=>{e(t)},this.getExponentialDelayTime())},e=>{setTimeout(()=>{e.errorCode="DEBOUNCED",t(e)},this.getExponentialDelayTime())})}).then(e=>(this.time=Date.now(),e),e=>{throw this.time=Date.now(),e})}}class I{constructor({TTL:e=0,logTTL:t=a.ce,activate:s=!1}){this.TTL=e,this.logTTL=Math.max(t,e),this.active=s,this.recentCallMap={}}cleanUpExpiredEntries(){const e=Date.now(),t={};Object.keys(this.recentCallMap).filter(t=>e-this.recentCallMap[t].time<this.logTTL).forEach(e=>t[e]=this.recentCallMap[e]),this.recentCallMap=t}execute(e){const t=Date.now(),s=e.hash,a=e.log,n=void 0===a?()=>{}:a;this.cleanUpExpiredEntries();const r=this.recentCallMap[s],i=this.active&&r&&r.isActive(this.TTL);return r&&(r.increaseCount(),n({duration:r.age(),counter:r.counter,active:i})),i?(r.time=t,r.getExponentialDelayedPromise()):(this.recentCallMap[s]=new E(e.execute(),r&&r.counter,this.TTL),this.recentCallMap[s].promise)}}class S{constructor(e){this.map={},this.defaultTTL=200,this.active=!(!e||!Object.keys(e).length),this.TTLList=e,this.active&&(this.defaultTTL=e.default||200)}get(e){if(!Object(n.b)())return{execute:e=>e.execute()};const t=this.TTLList.hasOwnProperty(e)?this.TTLList[e]:this.defaultTTL;return this.map[t]||(this.map[t]=new I({TTL:t,activate:this.active})),this.map[t]}}function C(e){let t=`$.result.mailboxes[?(("${e}" in $.result.mailboxes[*].id &&  @.id=="${e}") || (@.isSelected==true && "${e}" nin $.result.mailboxes[*].id))].id`,s=t=>t.id===e;return e||(t="$..mailboxes[?(@.isSelected==true)].id",s=e=>e.isSelected),{jsonPath:t,filterFn:s}}function f(e,t){let s;return e&&((s=e.find(C(t).filterFn))||(s=e.find(C(null).filterFn))),s||{}}},function(e,t,s){"use strict";var a=s(6);t.a=Object(a.defineMessages)({error_title:{id:"compose.error_title",defaultMessage:"Error"},bigAttachment:{id:"compose.too_big_attachment",defaultMessage:"The file exceeds the {maxFileSize}MB attachment limit. Large attachment support coming soon!"},compose_view:{id:"compose.view_aria_label",defaultMessage:"Compose view"},message_body:{id:"compose.message_body",defaultMessage:"Message body"},quoted_draft:{id:"quoted_draft",defaultMessage:"On {date}, {quotedName} &lt;{quotedAddress}&gt; wrote:"},forwarded_message:{id:"forwarded_message",defaultMessage:"Forwarded Message"},quoted_message_from:{id:"quoted_message_from",defaultMessage:"<b>From:</b> {from}"},quoted_message_to:{id:"quoted_message_to",defaultMessage:"<b>To:</b> {to}"},quoted_message_cc:{id:"quoted_message_cc",defaultMessage:"<b>Cc:</b> {cc}"},quoted_message_subject:{id:"quoted_message_subject",defaultMessage:"<b>Subject:</b> {subject}"},quoted_message_sentdate:{id:"quoted_message_sentdate",defaultMessage:"<b>Sent:</b> {sentDate}"},beingUploadedAlert:{id:"being_uploaded_alert",defaultMessage:"Attachment is still being uploaded. Wait and send?"},beingUploadedAlertOK:{id:"compose.beingUploadedAlert.ok",defaultMessage:"OK"},beingUploadedAlertSendWithout:{id:"compose.beingUploadedAlert.send_without",defaultMessage:"Send Without"},emptySubjectAlert:{id:"empty_subject_alert",defaultMessage:"Do you want to send the message without any subject?"},emptySubjectAlertSend:{id:"compose.emptySubjectAlert.send",defaultMessage:"Send"},emptySubjectAlertCancel:{id:"compose.emptySubjectAlert.cancel",defaultMessage:"Cancel"},includeOriginalAttachmentsAlert:{id:"include_original_attachments_alert",defaultMessage:"Include original attachments?"},includeOriginalAttachmentsAlertMsg:{id:"include_original_attachments_alert_msg",defaultMessage:"You added new recipients to your reply. Do you want to include attachments from the original message?"},includeOriginalAttachmentsAlertYes:{id:"compose.includeOriginalAttachmentsAlert.yes",defaultMessage:"Yes"},includeOriginalAttachmentsAlertNo:{id:"compose.includeOriginalAttachmentsAlert.no",defaultMessage:"No"},switch_to_plain_text_warning_title:{id:"compose.switch_to_plain_text_warning_title",defaultMessage:"Switch to Plain Text"},switch_to_plain_text_message:{id:"compose.switch_to_plain_text_message",defaultMessage:"Converting your message to plain text will remove all formatting and inline images. Continue?"},switch_to_plain_text_warning:{id:"compose.switch_to_plain_text_warning",defaultMessage:"Converting your message to plain text will lose all formatting and remove inserted items. Continue?"},switch_to_plain_text_warning_ok:{id:"compose.switch_to_plain_text_warning_ok",defaultMessage:"OK"},switch_to_plain_text_warning_cancel:{id:"compose.switch_to_plain_text_warning_cancel",defaultMessage:"Cancel"},font_family_label_modern:{id:"compose.font_family_label_modern",defaultMessage:"Modern"},font_family_label_modernwide:{id:"compose.font_family_label_modernwide",defaultMessage:"Modern Wide"},font_family_label_classic:{id:"compose.font_family_label_classic",defaultMessage:"Classic"},font_family_label_classicwide:{id:"compose.font_family_label_classicwide",defaultMessage:"Classic Wide"},unsupportedFileType:{id:"compose.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."},plaintext_icon_label:{id:"compose.plaintext_icon_label",defaultMessage:"Switch to plain text mode"},plaintext:{id:"compose.plaintext",defaultMessage:"Switch to plain text mode"},plaintext_text_label:{id:"compose.plaintext_text_label",defaultMessage:"Plain Text"},leftAlign:{id:"compose.left_align_icon",defaultMessage:"Left align"},rightAlign:{id:"compose.right_align_icon",defaultMessage:"Right align"},centerAlign:{id:"compose.center_align_icon",defaultMessage:"Center align"},bulletedList:{id:"compose.bulleted_list_icon",defaultMessage:"Bulleted List"},numberedList:{id:"compose.numbered_list_icon",defaultMessage:"Numbered list"},increaseIndent:{id:"compose.increase_indent_icon",defaultMessage:"Increase indent"},decreaseIndent:{id:"compose.decrease_indent_icon",defaultMessage:"Decrease indent"},strikeThrough:{id:"compose.strikethrough_icon",defaultMessage:"Strikethrough"},bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},color:{id:"compose.color",defaultMessage:"Color"}})},function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return n});const a={BACKSPACE:8,BRACKETLEFT:91,BRACKETRIGHT:93,BREAK:13,COMMA:44,DELETE:46,DOWN:40,ENTER:13,EQUAL:187,ESCAPE:27,FF_COMMA:188,FF_SEMICOLON:186,KEYE:101,KEYK:107,KEYL:108,KEYV:118,LEFT:37,MINUS:189,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SEMICOLON:59,SLASH:47,SPACE:32,TAB:9,UP:38},n={KEYA:"a",KEYD:"d",KEYE:"e",KEYF:"f",KEYK:"k",KEYL:"l",KEYR:"r",KEYV:"v",KEYP:"p",PERIOD:"."}},function(e,t,s){"use strict";var a=s(52),n=s(9),r=s(620),i=s.n(r),o=s(44);const c="MAIL-ERROR";function d(e,t,s){if(!e)throw new Error("name is a required argument for MailError");"string"!=typeof t&&(s=t,t=null),Error.apply(this),Error.captureStackTrace&&Error.captureStackTrace(this,d);const a=Object(n.a)(d.MANIFEST,e);if(!a)throw new Error("Error name ["+e+"] is not in the list of available errors. see ./manifest.js");t=t||a.description,a.requiredData&&a.requiredData.forEach(t=>{if(!s||!s.hasOwnProperty(t))throw new Error("property ["+t+"] is required for ["+e+"] error. Got: "+JSON.stringify(s))}),this.token=c,this.name=e,this.message=t,this.data=s||{},this.isRetryable=!1,this.statusCode=Object(n.a)(this,"data.statusCode",null),this.errorCode=Object(n.a)(this,"data.body.error.code",null)||Object(n.a)(this,"data.body.data.errorCode",null)||Object(n.a)(this,"data.errorCode",null),this.code=a.code||o.r}d.MANIFEST=i.a,d.VALIDATE_SUCCESS=123456,(d.prototype=Object.create(Error.prototype)).getDataByName=function(e,t=null){return Object(n.a)(this.data,e,t)},d.prototype.setDataByName=function(e,t){this.data[e]=t},d.errorify=e=>{let t;return e instanceof d?e:(e instanceof a.a?((t=new d("ApiError",e.message,e.failureMap)).stack=e.stack,t.statusCode=e.statusCode,t.errorCode=e.errorCode,t.extraStatusCode=e.extraStatusCode,t.extraErrorCode=e.extraErrorCode,t.isRetryable=e.isRetryable,Object.assign(t.data,{info:e.errorInfo})):e instanceof Error?(t=new d("GenericError",[e.name,e.message].join(": "))).stack=e.stack:t=new d("UnknownError",`Error: ${JSON.stringify(e)}`,{errorCode:"UNKNOWN"}),t)},d.prototype.serialize=function(){return JSON.stringify(this.toJSON())},d.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,data:this.data,token:"MAIL-ERROR"}},d.jsonToError=function(e){return Object.assign(new Error,{stack:void 0},e)},t.a=d},,function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(29),l=s(642),u=s.n(l),_=s(643),m=s.n(_),p=s(644),h=s.n(p),g=s(645),E=s.n(g),I=s(13),S=s.n(I),C=s(152),f=s(14);var T=s(12),A=(s(9),s(11)),b=s(15),O=s(46),R=s.n(O),N=s(192);s.d(t,"a",function(){return M});class M extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{isVisible:!1,arrowDirection:this.props.permittedArrowDirections[0]}),i()(this,"handleKeyDown",e=>{switch(e.key){case"Escape":return e.preventDefault(),e.stopPropagation(),void this.hide();default:return}}),i()(this,"handleClick",()=>{!this.props.persistent&&this.props.hideOnContentClick&&this.hide()}),i()(this,"getArrowClassNames",e=>{let t=h.a;return this.props.arrowSize===f.b.S?t=m.a:this.props.arrowSize===f.b.L&&(t=E.a),S()(t,{arrowDirectionDown:e===f.h.DOWN,arrowDirectionLeft:e===f.h.START,arrowDirectionRight:e===f.h.END,bg:this.props.bg,zAltitude:this.props.zAltitude,align:this.props.align,highlight:this.props.highlight,collapseArrowWrapper:this.props.collapseArrowWrapper})}),i()(this,"updatePosition",()=>{const e=this.props,t=e.overflowScroll,s=e.popoverAnchor,a=e.align,n=e.offset,r=e.arrowSize,i=e.isArrowVisible,o=e.permittedArrowDirections,c=e.customPositioning,l=e.useMenuPositioning,u=e.fullWidthPositioning,_=e.isTwoColumnLayout,m=e.isRTL,p=e.collapseArrowWrapper,h=e.contentComfortThreshold,g=s&&s.hasOwnProperty("current")?s.current:s;if(!g)return;const E=function(e,t,s,a,n,r,i,o=!1,c=f.f){let d=t.getBoundingClientRect();const l=f.c[a],u=Math.sqrt(2*Math.pow(l,2)),_=o?0:Math.sqrt(Math.pow(l,2)-Math.pow(u/2,2)),m=e.ownerDocument.documentElement.offsetHeight,p=e.ownerDocument.documentElement.offsetWidth,h=e.getBoundingClientRect();let g=s;const E=e=>e<.4?f.a.START:e>.6?f.a.END:f.a.CENTER;s===f.a.ANY&&(r.indexOf(f.h.UP)>-1||r.indexOf(f.h.DOWN)>-1)?g=E((h.left+h.width/2)/p):s===f.a.ANY&&(r.indexOf(f.h.START)>-1||r.indexOf(f.h.END)>-1)&&(g=E((h.top+h.height/2)/m));const I=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollLeft:e.ownerDocument.body.scrollLeft,S=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollTop:e.ownerDocument.body.scrollTop,C={top:h.top+S,right:h.right+I,bottom:h.bottom+S,left:h.left+I,height:h.height,width:h.width},T=-(C.width/2+d.width/2),A=C.height/2-d.height/2,b={below:m-C.bottom-C.height/2,above:C.top,left:C.left,right:p-C.right},O={},R=Math.floor(Math.max(b.above,b.below)-m*(1-c)),N=Math.floor(Math.max(b.left,b.right)-p*(1-c));let M,D;if(d.height+_>R&&(M=R-_),d.width+_>N&&(D=N-_),M||D){const e=M||d.height,t=D||d.width;d=Object.assign({},d,{height:e,bottom:d.top+e,width:t,right:d.left+t}),O.overflow="auto",M&&(O.maxHeight=`${M}px`),D&&(O.maxWidth=`${D}px`)}const y=b.below*c-d.height>=0,L=b.above*c-d.height>=0,v=b.left*c-d.width>=0,P=b.right*c-d.width>=0;r[0]===f.h.ANY&&(r=[f.h.UP,f.h.DOWN,f.h.START,f.h.END]);const F=function(){const e={};let t,s=!1;for(let s=0;s<=r.length;s++){if((t=r[s])===f.h.UP&&y){e.top=`${C.bottom+_}px`,e.left=`${C.right+T}px`;break}if(t===f.h.DOWN&&L){e.top=`${C.top-(d.height+_)}px`,e.left=`${C.right+T}px`;break}if(t===f.h.START&&P||t===f.h.END&&P&&i){e.top=`${C.top+A}px`,e.left=i?`${C.right+(C.width+_)}px`:`${C.right+_}px`;break}if(t===f.h.END&&v||t===f.h.START&&v&&i){e.top=`${C.top+A}px`,e.left=i?`${C.left-d.width-_}px`:`${C.left-(d.width+_)}px`;break}}return t===f.h.UP||t===f.h.DOWN?g===f.a.START?i?d.width?e.left=`${C.right-d.width+n}px`:s=!0:e.left=`${C.left-n}px`:g===f.a.END&&(i?e.left=`${C.left}px`:d.width?e.left=`${C.right-d.width+n}px`:s=!0):t!==f.h.START&&t!==f.h.END||(g===f.a.START?e.top=`${C.top-n}px`:g===f.a.END&&(e.top=`${C.bottom-d.height+n}px`)),{positioningStyles:e,arrowDirection:t,canNotPosition:s}}();return{canNotPosition:F.canNotPosition,positioningStyles:F.positioningStyles,innerContentScrollingStyles:O,arrowDirection:F.arrowDirection,adjustedAlign:g}}(Object(d.findDOMNode)(g),Object(d.findDOMNode)(this.refs.popoverContent),a,r,n,o,m,p,h),I=E.arrowDirection,S=E.adjustedAlign;if(E.canNotPosition)return;let C=E.positioningStyles,A=E.innerContentScrollingStyles;if(c&&(C=null),l){const e=Object(N.a)(Object(d.findDOMNode)(g),Object(d.findDOMNode)(this.refs.popoverContent),m);for(const t in e)e[t]=`${e[t]}px`;C=e}u&&!_&&(C.left=`${2*T.GRID_UNIT}px`,C.width=`calc(100% - ${4*T.GRID_UNIT}px)`),t||(A=null),i&&Object.assign(this.refs.popoverArrow.style,this.getArrowStyle(S)),I!==this.state.arrowDirection?this.setState({arrowDirection:I},()=>{Object.assign(this.refs.popoverContent.style,C),Object.assign(this.refs.popoverInnerContent.style,A)}):(Object.assign(this.refs.popoverContent.style,C),Object.assign(this.refs.popoverInnerContent.style,A))}),i()(this,"handleWindowMouseDown",e=>{const t=this.props.popoverAnchor,s=t&&t.hasOwnProperty("current")?t.current:t;if(!s)return;const a=Object(d.findDOMNode)(this.refs.popoverContent),n=Object(d.findDOMNode)(s),r=!a.contains(e.target)&&a!==e.target,i=n.contains(e.target)||n===e.target;r&&!i&&this.props.onHide()}),i()(this,"hide",()=>{const e=this.props;this.setState({isVisible:!e.hideOnContentClick},e.onHide)}),i()(this,"getArrowStyle",e=>{const t=this.props,s=t.offset,a=t.arrowSize,n=t.popoverAnchor,r=t.isRTL,i=n&&n.hasOwnProperty("current")?n.current:n;if(!i)return{};const o=Object(d.findDOMNode)(i).getBoundingClientRect(),c=this.state.arrowDirection;let l,u=s-f.c[a],_="",m="";return e!==f.a.CENTER?(e===f.a.END?m="flex-end":e===f.a.START&&(m="flex-start"),c===f.h.START||c===f.h.END?(l=f.g.VERTICAL,u+=o.height/2):(l=f.g.HORIZONTAL,u+=o.width/2),(e===f.a.END&&!r||r&&e===f.a.START)&&(u*=-1),c!==f.h.DOWN&&c!==f.h.END||(_="rotate(180deg)",e===f.a.END?m="flex-start":e===f.a.START&&(m="flex-end")),{transform:l===f.g.HORIZONTAL?`translateX(${u}px) ${_}`:`translateY(${u}px) ${_}`,justifyContent:m}):void 0})}componentDidMount(){this.updatePosition(),this.props.onShow(),this.setState({isVisible:!0},()=>{this.props.persistent||(window.addEventListener("resize",this.hide,!1),this.props.outerClickFallthrough&&window.addEventListener("mousedown",this.handleWindowMouseDown,!1))})}componentWillUnmount(){clearTimeout(this.positionTimeout),window.removeEventListener("resize",this.hide,!1),window.removeEventListener("mousedown",this.handleWindowMouseDown,!1)}componentDidUpdate(){this.positionTimeout=setTimeout(()=>{this.refs.popoverContent&&this.updatePosition()},0)}render(){const e=this.state.isVisible?"visible":"hidden",t=this.getArrowClassNames(this.state.arrowDirection),s=S()(u.a,{bg:this.props.bg,zAltitude:this.props.zAltitude,animate:this.props.animate,highlight:this.props.highlight,borderRadius:this.props.borderRadius,ignorePointerEvents:this.props.ignorePointerEvents});return c.a.createElement(C.a,{rootId:this.props.layerRootId},this.props.outerClickFallthrough?null:c.a.createElement("div",{"data-test-id":"popover-overlay",className:s.overlay,onClick:()=>this.props.persistent?null:this.props.onHide()}),c.a.createElement("div",n()({"data-test-id":"popover-content",className:s.popover,onClick:this.handleClick,onKeyDown:this.handleKeyDown},R()(this.props,["contentComfortThreshold","outerClickFallthrough","triggerOn","permittedArrowDirections","zAltitude","onShow","boundingBox","align","arrowSize","bg","onHide","overflowScroll","persistent","isArrowVisible","customPositioning","useMenuPositioning","fullWidthPositioning","animate","ignorePointerEvents","popoverAnchor","highlight","hideOnContentClick","borderRadius","isTwoColumnLayout","isRTL","dispatch","collapseArrowWrapper","layerRootId"]),{style:{visibility:e},ref:"popoverContent"}),c.a.createElement("div",{className:s.popoverContent,ref:"popoverInnerContent"},"function"==typeof this.props.children?this.props.children(this.updatePosition):this.props.children),c.a.createElement("div",{className:t.pointerWrapper,ref:"popoverArrow"},this.props.isArrowVisible?c.a.createElement("div",{"data-test-id":"popover-content-arrow",className:t.pointer}):null)))}}i()(M,"displayName","PopoverContent"),i()(M,"defaultProps",{outerClickFallthrough:!0,permittedArrowDirections:[f.h.ANY],boundingBox:void 0,ignorePointerEvents:!1,triggerOn:f.i.MOUNT,align:f.a.CENTER,arrowSize:f.b.M,offset:0,bg:f.d.DEFAULT,zAltitude:T.ZIndices.POPOVER.LOW,onHide:()=>{},onShow:()=>{},overflowScroll:!0,persistent:!1,isArrowVisible:!0,customPositioning:!1,useMenuPositioning:!1,animate:!1,highlight:!1,hideOnContentClick:!0,borderRadius:f.e.LOW,collapseArrowWrapper:!1,layerRootId:"app",contentComfortThreshold:f.f});const D=Object(b.connect)(e=>{const t=Object(A.b)(e),s=t.getPrescribedNumberOfColumns,a=(0,t.getEnvironmentSelectors)();return{isTwoColumnLayout:2===s(),isRTL:"rtl"===a.getPageDirection()}})(M);t.b=D},function(e,t,s){"use strict";s.d(t,"c",function(){return _}),s.d(t,"b",function(){return p}),s.d(t,"a",function(){return E}),s.d(t,"n",function(){return S}),s.d(t,"j",function(){return C}),s.d(t,"i",function(){return f}),s.d(t,"p",function(){return T}),s.d(t,"e",function(){return A}),s.d(t,"o",function(){return b}),s.d(t,"m",function(){return O}),s.d(t,"g",function(){return R}),s.d(t,"l",function(){return N}),s.d(t,"q",function(){return M}),s.d(t,"d",function(){return D}),s.d(t,"r",function(){return y}),s.d(t,"k",function(){return L}),s.d(t,"f",function(){return v}),s.d(t,"h",function(){return P});var a=s(4),n=s.n(a),r=s(0),i=s(9),o=s(21),c=s(477),d=s.n(c),l=s(6);const u=Object(i.c)([r.Kd.PHOTOS,r.Kd.DOCUMENTS,r.Kd.COUPONS,r.Kd.RECEIPTS,r.Kd.GROCERIES,r.Kd.TRAVEL,r.Kd.TUTORIAL]),_=Object(i.c)([r.Kd.UNREAD,r.Kd.STARRED]),m=n()({},r.Tc,Object(i.c)([r.Kd.UNREAD,r.Kd.STARRED])),p={[r.Cb.INBOX]:"inbx",[r.Cb.SENT]:"sent",[r.Cb.DRAFT]:"drft",[r.Cb.TRASH]:"trsh",[r.Cb.BULK]:"spm",[r.Cb.ARCHIVE]:"archve",[r.Cb.USER]:"usrFldr",[r.Cb.CHATS]:"cht",SEARCH_KEYWORD:"keywSrp",SEARCH_PEOPLE:"cntctSrp",SEARCH_SMARTVIEW:"smrtSrp"},h="1",g="/",E={};E[r.Cb.INBOX]=0,E[r.Kd.UNREAD]=1,E[r.Kd.STARRED]=2,E[r.Cb.DRAFT]=3,E[r.Cb.SENT]=4,E[r.Cb.ARCHIVE]=5,E[r.Cb.BULK]=6,E[r.Cb.TRASH]=7;const I=Object(l.defineMessages)({folder_inbox:{id:"folder_inbox",defaultMessage:"Inbox"},folder_draft:{id:"folder_draft",defaultMessage:"Drafts"},folder_sent:{id:"folder_sent",defaultMessage:"Sent"},folder_trash:{id:"folder_trash",defaultMessage:"Trash"},folder_bulk:{id:"folder_bulk",defaultMessage:"Spam"},folder_archive:{id:"folder_archive",defaultMessage:"Archive"},folder_all_mail:{id:"folder_all_mail",defaultMessage:"All Mail"}});function S(e,t=""){const s=I["folder_"+t.toLowerCase()];return s?e(s):null}function C(e){let t;switch(e.type){case r.Cb.SENT:case r.Cb.BULK:case r.Cb.ARCHIVE:case r.Cb.TRASH:return 0;case r.Cb.DRAFT:return e.total;default:return t=e.unread<0?0:e.unread}}function f(e){switch(e){case r.Cb.INBOX:return[r.Bb.MARK_READ,r.Bb.ARCHIVE];case r.Cb.DRAFT:case r.Cb.SENT:case r.Cb.ARCHIVE:return[r.Bb.MARK_READ];case r.Cb.BULK:case r.Cb.TRASH:return[r.Bb.DELETE];default:return[r.Bb.MARK_READ,r.Bb.ARCHIVE,r.Bb.DELETE,r.Bb.SEPARATOR,r.Bb.RENAME_FOLDER,r.Bb.DELETE_FOLDER,r.Bb.CREATE_FOLDER]}}function T(){return Object.keys(u).map(e=>A(e))}function A(e){return{folder:{name:e,id:e,types:[e],isSmartView:!0,isSystem:!1,unread:0,total:0},children:[]}}function b(e){return e.types.find(e=>m.hasOwnProperty(e))}function O(e){const t=b(e);if(t&&p[t])return p[t]}function R(e,t){const s=e.find(e=>!0===e.isSelected);return t.find(e=>b(e.folder)===r.Cb.INBOX&&e.folder.accountId===s.id).folder}function N(e,t,s=!1){const a=D(e.name);let n="",r="";const i=[];let o=!1;return e.accountId===h||s||e.name.match(/\//)&&(n=a.shift(),n+=a.shift()),a.forEach(s=>{n+=s,o?o=!1:(r+=s,t.hasOwnProperty(n)&&t[n].accountId===e.accountId&&(i.push(r),r="",o=!0))}),i}function M(e,t,s,a=""){let n=a,r="";const i=[];let o=!1;return s.forEach(s=>{if(n+=s,o)o=!1;else{r+=s,Object.keys(t).some(s=>t[s].path===n&&t[s].accountId===e.accountId)&&(i.push(r),r="",o=!0)}}),i}function D(e){let t,s,a="";const n=[];for(t=0;t<e.length;t++)(s=e.charAt(t))===g?(""!==a&&n.push(a),n.push(g),a=""):a+=s;return""!==a&&n.push(a),n}function y(e,t,s,a){const n=d()(t);if(Object(o.a)(s.length>0,"folderPathParts must be populated for insert into folder tree to work."),a===s.length-1)n.name=s[a],e.push({folder:Object.assign({},n,{level:a}),children:[]});else{const t=s[a];e.forEach(e=>{e.folder.name===t&&e.folder.accountId===n.accountId&&y(e.children,n,s,a+1)})}}function L(e,t,s){const a=[];return!t.isPrimary&&t.folderPrefix.length>0&&a.push(t.folderPrefix),s&&a.push(s),a.push(e),a.join("/")}function v(e){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=a.folder;t[n.id]=n,a.children.length>0&&Object.assign(t,v(a.children))}return t}const P=e=>e>r.Zb?r.hc:""+e},function(e,t,s){"use strict";s.d(t,"e",function(){return E}),s.d(t,"c",function(){return k}),s.d(t,"d",function(){return x}),s.d(t,"f",function(){return U}),s.d(t,"a",function(){return G}),s.d(t,"b",function(){return j});var a=s(8),n=s.n(a),r=s(0),i=s(9);const o=n.a.string,c=n.a.number,d=n.a.bool,l=n.a.array,u=n.a.object,_=n.a.shape,m=n.a.oneOf,p=n.a.oneOfType,h=n.a.arrayOf,g=n.a.func,E=_({name:o.isRequired,lastObservedTimezone:_({client:o,server:o}),location:_({city:o,state:o,country:o}),geoLocation:_({city:o,state:o,country:o}),longName:o,formattedOffset:o,currentOffset:c}),I=_({name:o,email:o}),S=_({virus:o,filename:o,size:c,partId:o,mimeType:o,type:m(Object(i.g)(r.w.Types)),messageReference:_({mid:o,pid:o}),disposition:o,downloadUrl:o,thumbnailUrl:o,contentId:o,dataId:o}),C=(_({isSpam:d,isRead:d,isFlagged:d}),_({id:o.isRequired,name:o.isRequired,isSystem:d.isRequired,types:h(o).isRequired})),f=_({folder:C.isRequired,children:h(u).isRequired}),T=(h(f),_({default:l.isRequired}),_({to:l,cc:l,bcc:l}),_({id:o.isRequired,accountId:o.isRequired,name:o.isRequired,isSystem:d,types:h(o).isRequired,total:c,unread:c})),A=(_({systemFolders:l.isRequired,customFolders:l.isRequired}),_({divIds:h(o).isRequired,classId:o})),b=_({html:o,text:o,htmlAnnotations:h(A),attachments:h(S),bidi:h(o)}),O=_({name:o.isRequired,params:u,query:u}),R=(_({route:O.isRequired,metadata:u}),_({subject:o,cc:h(I).isRequired,bcc:h(I).isRequired,to:h(I).isRequired,from:h(I).isRequired,date:o.isRequired})),N=_({id:o.isRequired,folder:T.isRequired,flags:_({flagged:d,read:d}).isRequired,headers:R.isRequired,snippet:o.isRequired,attachments:h(S).isRequired,body:b,verifiedDomains:n.a.array.isRequired,composeProps:n.a.object}),M=(_({messageId:o.isRequired,flags:_({flagged:d,read:d}).isRequired,headers:u.isRequired,snippet:o.isRequired,subject:o.isRequired,attachments:h(S).isRequired,downloadAllUrl:o.isRequired}),_({id:o.isRequired,messages:h(N).isRequired}),_({url:o,width:c,height:c}),_({name:o,email:o.isRequired,recent:d}),_({id:o,email:o,isPrimary:d.isRequired,state:m(Object(i.g)(r.jc)).isRequired,type:m(Object(i.g)(r.kc)).isRequired}),_({id:o,isPrimary:d.isRequired,email:o,accountVerified:d.isRequired,sendingName:o,status:m(Object(i.g)(r.h)).isRequired,type:m(Object(i.g)(r.i)).isRequired,serverUri:o,signature:o,signatureActive:d,secondaryAccounts:l,replyToAddress:o}),p([c,o]),p([c,u]),_({type:n.a.oneOf(Object(i.g)(r.Vd)),serviceId:n.a.string,name:n.a.string,emailIds:n.a.arrayOf(n.a.string)}),_({adHeadline:o.isRequired,adSummary:o.isRequired,adImg:o.isRequired,adSource:o.isRequired,clickUrl:o.isRequired,type:o.isRequired,creativeId:o,beacon:o,impressionTrackingUrls:l})),D=_({contentType:o.isRequired,url:o.isRequired,usageType:o.isRequired}),y=(_({creativeId:o.isRequired,pencilAd:M,nativeAd:D}),_({position:o.isRequired,bookId:c.isRequired})),L=(_({spaceId:o.isRequired,positions:h(y).isRequired}),_({content:u,state:m(Object(i.g)(r.bd))})),v=(_({pages:L.isRequired,numPages:c.isRequired,height:c.isRequired,width:c.isRequired,exceptions:u.isRequired,sheets:u.isRequired}),_({folderActionValueBean:_({folder:_({name:o.isRequired})}).isRequired})),P=_({type:m(Object(i.g)(r.wb)),value:v}),F=_({field:p([m(Object(i.g)(r.xb)),n.a.string]),operator:m(Object(i.g)(r.zb)),matchCase:d,value:o.isRequired}),w=(_({index:c.isRequired,name:o.isRequired,matchType:m(Object(i.g)(r.yb)),actions:h(P).isRequired,criterions:h(F).isRequired}),_({domains:h(o).isRequired,domainMessageBody:o.isRequired})),k=(_({enabled:d.isRequired,startDate:c,endDate:c,messageBody:o,domainSpecificResponse:w}),_({loadModule:g.isRequired})),x=_({firstDay:c,name:o}),U=(_({requireInteraction:d,sticky:d,modal:d,icon:o,type:m(Object(i.g)(r.Fc))}),_({code:c,isRetryable:d}),_({title:o.isRequired,options:_({body:o.isRequired,icon:o.isRequired,lang:o.isRequired,tag:o.isRequired,timestamp:c.isRequired}).isRequired,onClick:g}),_({id:o,status:m(Object(i.g)(r.C)).isRequired,progress:c.isRequired,expires:c}),_({spam:d,ham:d,move:d,archive:d,restore:d,delete:d,permDelete:d,raf:d}),_({request:g})),G=_({getAuthorizationURL:g}),j=(_({city:o,state:o,country:o,timezone:_({name:o.isRequired,longName:o,currentOffset:o,offsetPositive:d}).isRequired}),_({id:o,defaultMessage:o,description:o}),_({id:c.isRequired,name:o.isRequired,text:o.isRequired,imgUrl:o.isRequired,handle:o.isRequired,creationTime:n.a.instanceOf(Date).isRequired}),_({playlist:u.isRequired}),_({get:g})),H=(_({domainLogo:o.isRequired,domainColor:o.isRequired}),_({unicode:o.isRequired,unicode_alt:o.isRequired,code_decimal:o.isRequired,name:o.isRequired,shortname:o.isRequired,category:o.isRequired,emoji_order:o.isRequired,aliases:l.isRequired,aliases_ascii:l.isRequired,keywords:l.isRequired}),_({id:o,name:o,email:o,iataCode:o}),{number:o.isRequired,type:o}),B={type:o,addrFields:_({street:o,city:o,country:o,state:o,zipcode:o})},V=(_({id:o.isRequired,xobniId:o,categories:l,emails:h(o).isRequired,name:o,phonesWithType:h(_(H)),position:o,company:o,flickr:o,facebook:o,twitter:o,linkedIn:o,notes:o,addressesWithType:h(_(B))}),_({id:o,name:o,position:o,company:o,editToken:o,isBusiness:d,phonesWithType:h(_(H)),emails:h(o),emailType:u,backyard:o,flickr:o,facebook:o,twitter:o,linkedIn:o,website:o,relationshipHistory:u,notes:o,birthday:o,anniversary:o,addressesWithType:h(_(B)),hiddenEndpoint:o}),_({name:n.a.string,keyword:n.a.string,emailAddresses:n.a.arrayOf(n.a.string),accountIds:n.a.arrayOf(n.a.string),folders:n.a.arrayOf(n.a.string),listFilter:n.a.string}),_({scrollThresholdPercentage:c,render:g}),_({creationDate:c,downloadLink:o,id:o,itemType:o,lastUpdateTime:c,mimeType:o,name:o,online:d,ownerId:o,ownerNames:l,path:o,shareableThumbnailLink:o,sharedWith:l,size:c,source:o,tags:u,thumbnail:o}));_({id:o,item:V})},function(e,t,s){"use strict";s.d(t,"a",function(){return g}),s.d(t,"e",function(){return R}),s.d(t,"t",function(){return N}),s.d(t,"z",function(){return M}),s.d(t,"s",function(){return D}),s.d(t,"h",function(){return y}),s.d(t,"i",function(){return L}),s.d(t,"c",function(){return v}),s.d(t,"k",function(){return P}),s.d(t,"q",function(){return F}),s.d(t,"d",function(){return w}),s.d(t,"w",function(){return k}),s.d(t,"x",function(){return x}),s.d(t,"b",function(){return U}),s.d(t,"y",function(){return j}),s.d(t,"l",function(){return H}),s.d(t,"f",function(){return B}),s.d(t,"p",function(){return V}),s.d(t,"g",function(){return W}),s.d(t,"j",function(){return z}),s.d(t,"r",function(){return K}),s.d(t,"v",function(){return Z}),s.d(t,"u",function(){return Y}),s.d(t,"m",function(){return X}),s.d(t,"n",function(){return Q}),s.d(t,"o",function(){return $});var a=s(39),n=s.n(a),r=s(4),i=s.n(r),o=s(433),c=s.n(o),d=s(199),l=s(351),u=s.n(l),_=s(86),m=s(25),p=s(434),h=s.n(p);const g=86400,E=/[^0-9\/\ :.-]/g,I=/[\/\s:.-]/;let S;const C=e=>_.a.error("debug_datetime_polyfill",i()({},e)),f=h()(e=>C(e)),T=h()(e=>C(e)),A=(()=>{try{return new Intl.DateTimeFormat("en",{timeZone:"GMT"}),!0}catch(e){return!1}})(),b=()=>!(Object(m.b)()&&!A),O=e=>Intl._DateTimeFormatTimeZone&&Intl._timeZoneData&&Intl._timeZoneData.get(e)?(T({status:"loaded",timeZone:e}),!0):(f({status:"loading",timeZone:e}),!1);function R(e,t,s){try{if(S)return S(t,s).format(e);const a=s.timeZone,r=n()(s,["timeZone","timeZoneName"]);return b()||O(a)?(S=Object(d.a)(Intl.DateTimeFormat))(t,s).format(e):new Intl.DateTimeFormat(t,r).format(e)}catch(a){const n=s.timeZone,r=void 0===n?"unknown":n;throw a.data={timeZone:r,locale:t,date:e&&e.getTime()||"undefined",hasPolyfill:!!Intl._DateTimeFormatTimeZone,hasTimeZoneData:!(!Intl._timeZoneData||!Intl._timeZoneData.get(r))},a}}const N=function(e,t){const s=new u.a({max:t});return function(t,a){t instanceof Date||(t=new Date(t));const n=t.getTime()+"-"+a;let r=s.get(n);return void 0===r&&(r=e(t,a),s.set(n,r)),r}}(function(e,t){const s=R(e,"en-US",{timeZone:t,hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).replace(E,"").split(I),a=parseInt(s[2],10);return(Date.UTC(a,s[0]-1,s[1],s[3]||0,s[4]||0,s[5]||0)-new Date(e).setMilliseconds(0))/6e4},1e3);function M(e,{timezone:t}){let s=0;return e instanceof Date&&(e=e.getTime()),void 0!==t&&(s=N(e,t)),new Date(e+6e4*s)}function D({timezone:e,offset:t=0}){const s=Date.now();void 0!==e&&(t=N(s,e));const a=new Date(s+6e4*t),n=a.getUTCDate(),r=a.getUTCMonth(),i=a.getUTCFullYear(),o=Date.UTC(i,r,n);return void 0!==e?o-6e4*(t=N(o,e)):o}function y({timezone:e,time:t}){const s=new Date(t).getTime(),a=t=>6e4*N(t,e),n=e=>e-a(e),r=new Date((e=>e+a(e))(s)),i=r.getUTCDay(),o=r.getUTCDate(),c=r.getUTCMonth(),d=r.getUTCFullYear();return{weekday:i,date:o,month:c,year:d,startOfPastHour:e=>n(Date.UTC(d,c,o,-1*e)),startOfPastDay:e=>n(Date.UTC(d,c,o,-24*e)),startOfMonth:e=>n(Date.UTC(d,e,1)),startOfYear:e=>n(Date.UTC(e,0,1))}}function L(){return new Date}function v(e){return e?new Date(1e3*e):L()}function P(e){return F(e)+(g-1)}function F(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor(+t/1e3)}function w(e,t){return!(!x(e)||!x(t))&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function k(e){if(!(e instanceof Date))throw new Error("Expected date to be an instance of Date");return w(new Date,e)}function x(e){return function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)&&!isNaN(e.getTime())}function U(e){if(!x(e))throw new Error("Expected date to be an instance of Date");return new Date(e.valueOf())}function G(e){const t=U(e);return t.setDate(t.getDate()-t.getDay()),t}function j(e){const t=e.getDay();return 0===t||6===t}function H(e){const t=Date.now()+864e5*e,s=new Date(t);return s.getUTCMonth()+1+"/"+s.getUTCDate()+"/"+s.getUTCFullYear()}function B(e){const t=G(e),s=[t];for(let e=1;e<=6;e++){const a=U(t);a.setDate(a.getDate()+e),s.push(a)}return s}function V(e,t){const s=[];for(let a=1;a<=t;a++){const t=U(e);t.setDate(t.getDate()+a),s.push(t)}return s}function W(e){const t=U(e);t.setDate(1);const s=t.getMonth(),a=U(G(t)),n=[U(a)];for(a.setDate(a.getDate()+7);a.getMonth()===s;)n.push(U(a)),a.setDate(a.getDate()+7);return n}const q=1e3*g;function z(e,t){const s=new Date(t).getTime()-new Date(e).getTime();return Math.ceil(s/q)}function K(e){return F(e)-g}function Z(e,t=0){const s=new Date(e);return s.setDate(s.getDate()+t),s.getDay()}function Y(e=new Date){return Math.ceil(c()(new Date(e.getFullYear(),e.getMonth(),e.getDate()))/7)}function X(e){const t=e=>e<10?`0${e}`:e;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}`}function Q(e){const t=e=>e<10?`0${e}`:e;return`${e.getUTCFullYear()}-${t(e.getUTCMonth()+1)}-${t(e.getUTCDate())}`}function $(e){return"zh-Hant-HK"===e||"ko-KR"===e?"numeric":"short"}},function(e,t,s){"use strict";s.d(t,"r",function(){return n}),s.d(t,"b",function(){return r}),s.d(t,"c",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"l",function(){return d}),s.d(t,"o",function(){return l}),s.d(t,"n",function(){return u}),s.d(t,"m",function(){return _}),s.d(t,"i",function(){return m}),s.d(t,"j",function(){return p}),s.d(t,"k",function(){return h}),s.d(t,"a",function(){return g}),s.d(t,"q",function(){return E}),s.d(t,"g",function(){return I}),s.d(t,"u",function(){return S}),s.d(t,"h",function(){return C}),s.d(t,"p",function(){return f}),s.d(t,"f",function(){return T}),s.d(t,"s",function(){return A}),s.d(t,"t",function(){return b});var a=s(9);const n=0,r="Authentication.InvalidCredentials",i="Authentication.InvalidCrumb",o="Authentication.MissingCrumb",c="Authentication.WssidReissue",d="LaunchError.LaunchApiFailed",l="LaunchError.WrongMailboxState",u="LaunchError.PageNotFound",_="LaunchError.ActiveMailboxNotFound",m="Empty response returned from JEDI",p="The response returned from JEDI contains errors",h="Unhandled partial failure",g="Account is not supported",E="Multiple mailboxes found",I="One or more batch requests failed",S="Update request failed",C="Compose request failed",f="Message read request failed",T=Object(a.c)(["MISSING_YT_COOKIE","COOKIE_CHECK_SIGNATURE","COOKIE_CHECK_TIME_STAMP","INVALID_COOKIE_SCOPE","REMOVED_YT_COOKIE","DIFFERENT_USER","MISSING_OTH_COOKIE"]),A={[g]:"unsupported_acct",[E]:"multi_mboxes"},b=["EC-4001-SetMailboxAttribute","EP-5000"]},function(e,t,s){"use strict";s.d(t,"a",function(){return c});var a=s(685),n=s(686);const r="/",i=/^\s*\//,o=/\/\s*$/;const c=function(e){if(!e||"object"!=typeof e)throw new TypeError(e+" is not an object");return function(t){return e[t]?a.a.replace(o,"")+r+e[t].replace(i,""):t}}(n)},,function(e,t,s){"use strict";s.d(t,"i",function(){return I}),s.d(t,"j",function(){return S}),s.d(t,"c",function(){return C}),s.d(t,"a",function(){return T}),s.d(t,"b",function(){return A}),s.d(t,"f",function(){return b}),s.d(t,"q",function(){return O}),s.d(t,"e",function(){return R}),s.d(t,"h",function(){return N}),s.d(t,"g",function(){return M}),s.d(t,"d",function(){return D}),s.d(t,"s",function(){return y}),s.d(t,"k",function(){return L}),s.d(t,"m",function(){return v}),s.d(t,"o",function(){return P}),s.d(t,"n",function(){return F}),s.d(t,"l",function(){return w}),s.d(t,"r",function(){return k}),s.d(t,"p",function(){return x});var a=s(4),n=s.n(a),r=s(31),i=s.n(r),o=s(0),c=s(21),d=s(68),l=s.n(d),u=s(5);const _=o.w.Types,m=o.w.SubTypes,p=o.w.Dispositions,h=o.w.SimplifiedTypes,g=/\?(size|h|w)=([^&]*)/g,E=/&(size|h|w)=([^&]*)/g,I=e=>{const t=e.match(o.w.KnownDocTypes)||[],s=i()(t,2)[1];return(void 0===s?"":s).substring(0,3).toLowerCase()},S=e=>{const t=e.split("/");return{type:t[0],subtype:t[1]}},C=(()=>{function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return"<"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()+"@yahoo.com>"}})();const f=(e,t=p.ATTACHMENT)=>n()({},function(e,t=C()){const s=e.type.split("/"),a=i()(s,2),n=a[0],r=a[1];return{downloadUrl:e.downloadLink||URL.createObjectURL(e),filename:e.name,mimeType:e.type,size:e.size,type:n,subtype:r,contentId:t,dataId:t,isFromDataURI:!!e.isFromDataURI}}(e),{disposition:t}),T=e=>f(e,p.INLINE),A=e=>f(e,p.ATTACHMENT);function b(e,t=!1){return e.filter(({type:e,disposition:s})=>e===_.MESSAGE||s===p.ATTACHMENT||t&&s===p.INLINE)}function O(e){return e.filter(({type:e,subtype:t,disposition:s})=>!(e===_.MESSAGE&&t===m.RFC822&&s===p.INLINE))}function R(e,t){const s={};if(!e)return[];const a=e.filter(e=>!e);return a.length?(Object(c.a)(a,"Invalid attachment information: "+JSON.stringify(a)),[]):e.filter(Boolean).filter(({type:e,disposition:a,size:n,filename:r})=>{if(!n)return!1;const i=((r||"")+(n||0)).replace(/\s\s+/g," ");return!s[i]&&(s[i]=!0)&&(a!==p.INLINE||e!==_.IMAGE||n>=t)})}function N(e){return e.filter(Boolean).filter(({type:e,subtype:t})=>D(e,t)===h.CAL)}function M(e=[]){const t=e.filter(Boolean).map(e=>{switch(D(e.type,e.subtype)){case h.CAL:return u.b.ATTACH_CAL;case h.IMAGE:return u.b.ATTACH_IMAGE;case h.DOC:case h.PDF:case h.XLS:case h.PPT:case h.CSV:case h.TEXT:return u.b.ATTACH_DOC;default:return u.b.ATTACHMENT}});return 1===l()(t).length?t[0]:u.b.ATTACHMENT}function D(e,t){switch(e){case _.IMAGE:switch(t){case m.TIFF:return h.TIFF;default:return h.IMAGE}case _.AUDIO:return h.AUDIO;case _.VIDEO:return h.VIDEO;case _.APPLICATION:switch(t){case m.ACROBAT:case m.PDF:case m.VND_PDF:case m.X_PDF:return h.PDF;case m.GZIP:case m.TAR:case m.X_COMPRESSED:case m.X_ZIP:case m.ZIP:return h.COMPRESSED;case m.EXCEL:case m.MSEXCEL:case m.X_EXCEL:case m.X_MS_EXCEL:case m.XLS_M:case m.X_XLS:case m.XLS:case m.XLS_M_TEMPLATE:case m.XLS_TEMPLATE:case m.XLSX:return h.XLS;case m.DOC:case m.DOCX:case m.DOT:case m.FRAMEMAKER:case m.MS_WORD:case m.MSTNEF:case m.RICHTEXT:case m.SC2:case m.VND_MS_WORD:case m.VND_MSWORD:case m.WINWORD:case m.WORD:case m.X_DOT:case m.X_FM:case m.X_FRAMEMAKER:case m.X_MAKER:case m.X_MS_WORD:case m.X_MSW6:case m.X_RTF:case m.X_SOFFICE:case m.ZZ_DOT:return h.DOC;case m.PPT:case m.PPTX:case m.PPTX_SLIDESHOW:case m.PPTX_TEMPLATE:return h.PPT;case m.ICS:return h.CAL;case m.FOLDER:return h.FOLDER;case m.GDOCX:return h.GDOCS;case m.GXLS:return h.GSHEETS;case m.GPPT:return h.GSLIDES;default:return h.APPLICATION}case _.TEXT:switch(t){case m.CALENDAR:return h.CAL;case m.CSV:return h.CSV;default:return h.TEXT}default:return h.FILE}}function y({id:e},t=[],s=!0){return t.map(t=>{const a=s?{dataId:t.dataId?t.dataId:C(),contentId:t.contentId?t.contentId:C()}:{};return n()({messageReference:{id:e,pid:t.partId}},t,a)})}function L(e,t,s){Object(c.a)(e<=t,"You cannot have a page number greater than the last page of the document.");const a=e-(e%s||s)+1;let n=a+(s-1);return n>t&&(n=t),{startPage:a,endPage:n}}function v(e){if(!e)return!1;const t=e.type,s=e.subtype,a=e.size,n=e.isExternal,r=e.filename,i=`${t}/${s}`,c=D(t,s)===h.IMAGE,d=o.u.previewableMimeTypes.indexOf(i)>-1,l=s===m.OCTET_STREAM&&o.w.KnownDocTypes.test(r);return!n&&a>0&&(d||c||l)}function P(e,t){return!!(e&&e.id&&t&&v(e))}function F(e){if(!e||!e.id)return!1;const t=e.downloadUrl;return!(t&&t.indexOf("blob:")>=0)&&!!t}function w(e,t){return e?(e=e.replace(g,"?").replace(E,""))+"&size="+t+"w&w="+t+"&h="+t:""}function k(e){return e?e=e.replace(g,"?").replace(E,""):""}function x(e){if(!e)return!0;const t=e.split(".");if(t.length>1){const e=t.pop();if(o.qe[e])return!1}return!0}},function(e,t,s){"use strict";s.d(t,"j",function(){return c}),s.d(t,"i",function(){return l}),s.d(t,"d",function(){return u}),s.d(t,"e",function(){return _}),s.d(t,"c",function(){return m}),s.d(t,"f",function(){return p}),s.d(t,"a",function(){return h}),s.d(t,"b",function(){return g}),s.d(t,"g",function(){return E}),s.d(t,"h",function(){return I});var a=s(4),n=s.n(a),r=s(31),i=s.n(r),o=s(0);function c(e,t){if(t.isPrimary!==e.isPrimary)return t.isPrimary-e.isPrimary;if(t.type===o.i.DEA&&e.type!==o.i.DEA)return-1;if(t.type===o.i.DEA&&e.type===o.i.DEA){const s=e.email.toLowerCase()||"",a=t.email.toLowerCase()||"";return s.localeCompare(a)}return t.type!==o.i.DEA&&e.type===o.i.DEA?1:e.id-t.id}function d(e){const t=e.toLowerCase().split("@"),s=i()(t,2),a=s[1];let n=s[0];if(function e(t){if(!t)return!1;if(o.Kc[t])return!0;const s=t.indexOf(".");return!(s<0)&&e(t.substr(s+1))}(a))n=e;else{if(!function(e){if(!e)return!1;const t=e.split(".");return!(t[0]!==o.ob.YAHOO||t.length>3||(t.length>2&&o.ve[t[2]]?!o.de[t[1]]:2!==t.length||!o.de[t[1]]&&!o.ve[t[1]]))}(a))return!1;"yahoo.cn"===a&&(n=e)}return!(n.length<4||n.length>32)&&!!n}function l({domainCheck:e},t){let s=!1;if(e&&e.length>0){const a="(@"+e.join(".com$|@")+".com$)";if(!(s=new RegExp(a,"i").test(t))){const a="(@"+e.join("|@")+")\\.";s=new RegExp(a,"i").test(t)}}return s}function u(e){return e&&e.email?_(e.email)||function(e){return Object.keys(o.Gb||{}).find(t=>!!e.serverUri&&e.serverUri.indexOf(o.Gb[t].serverUri)>-1)}(e):null}function _(e){if(!e)return null;let t=function(e){return e?/@verizonmedia.com$/i.test(e)?o.ob.VERIZON_MEDIA:d(e)?o.ob.YAHOO:null:null}(e);return t||(t=o.nd.find(t=>{return l({domainCheck:o.Gb[t].domainHints||o.Gb[t].domainCheck},e)})),t}function m(e){const t=[o.i.SENDAS,o.i.POPIN,o.i.IMAPIN,o.i.EXCHANGEIN,o.i.BIZMAIL];return e.filter(e=>{const s=e.type;return e.isPrimary||s===o.i.ALIAS||s===o.i.DEA||"ENABLED"===e.status&&e.accountVerified&&t.indexOf(s)>-1})}function p(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function h({status:e,type:t,createTime:s,syncTime:a=20}){const n=Date.now(),r=t===o.i.EXCHANGEIN?10:a;return!!(e===o.h.ENABLED&&I({type:t})&&n/1e3-s<60*r)}function g(e,t){return void 0!==e.find(e=>e.type!==o.i.POPIN&&e.email===t)}function E({email:e,provider:t,type:s,sendingName:a="",description:r="",wssid:i="",crumb:c="",linkedAccounts:d}){let l={email:e,type:s,sendingName:a,description:r};const u={};if(i&&(u.wssid=i),c&&(u.crumb=c),I(l)){const s=e,a=o.Gb[t].serverUri;l=n()({},l,{serverUri:a,status:"ENABLED",authType:"OAUTH2",email:s,replyToAddress:s})}else s===o.i.SENDAS&&d.length>0&&Object.assign(l,{linkedAccounts:d});return{newAccount:l,config:u}}function I({type:e}){return-1!==[o.i.IMAPIN,o.i.EXCHANGEIN].indexOf(e)}},function(e,t,s){"use strict";s.d(t,"j",function(){return g}),s.d(t,"f",function(){return E}),s.d(t,"i",function(){return I}),s.d(t,"h",function(){return S}),s.d(t,"k",function(){return C}),s.d(t,"l",function(){return f}),s.d(t,"g",function(){return T}),s.d(t,"c",function(){return A}),s.d(t,"b",function(){return b}),s.d(t,"o",function(){return O}),s.d(t,"n",function(){return R}),s.d(t,"a",function(){return N}),s.d(t,"m",function(){return M}),s.d(t,"e",function(){return D}),s.d(t,"d",function(){return y}),s.d(t,"p",function(){return L});var a=s(31),n=s.n(a),r=s(39),i=s.n(r),o=s(4),c=s.n(o),d=s(2),l=s(11),u=s(17),_=s(0),m=s(18),p=s(10),h=s(273);const g=e=>c()({type:d.Lh},e),E=(e={})=>(t,s)=>{const a=Object(l.b)(s());let n;e.replaceInStack&&(n=(0,a.createPageForRoute)(e.route,0,(0,a.getCurrentHistoryState)())),t(g(c()({},e,{nextPage:n})))},I=e=>c()({},g({route:Object(u.w)(_.Kd.PEOPLE,{accountIds:e.accountId})}),{updatedSettingAttributes:e.updatedSettingAttributes,accountId:e.accountId}),S=(e={})=>{let t=e.csid,s=i()(e,["csid"]);return g(c()({},s,{route:Object(u.g)(t||Object(m.g)())}))},C=e=>(t,s)=>{const a=e.route,n=(0,Object(l.b)(s()).shouldNavigateSearchFromToAll)(a)?Object(u.t)(Object(p.W)(Object(p.w)(a),{listFilter:_.Qb.ALL})):a;t(g(c()({},e,{route:n})))},f=({streamId:e,i13nModel:t})=>(s,a)=>{const n=Object(l.b)(a()),r=n.getCursorItem,i=(0,n.doesStreamExist)(e)?r(e):void 0;if(!i)return;const o=i.listId,c=i.id,d=Object(p.t)(o);if(d===_.Pb.MESSAGES)s(g({route:Object(u.q)(o,c),i13nModel:t,streamItem:i}));else if(d===_.Pb.IMAGES||d===_.Pb.DOCUMENTS){const e=i.messageId,a=i.downloadUrl;return i.previewable?s(g({route:Object(u.e)(o,e,c,{fullscreen:"1"}),itemId:c,i13nModel:t,streamItem:i})):(window.open(a,"_blank"),s(Object(h.c)({streamItem:i,i13nModel:t})))}},T=e=>g({route:Object(u.l)(e.inboxFolderId)}),A=(e={})=>(t,s)=>{const a=Object(l.b)(s()).getRoute;t(c()({type:d.Ub},e,{route:e.route||a()}))},b=(e={})=>t=>{t(c()({type:d.Tb},e))},O=e=>c()({type:d.zk},e),R=e=>c()({type:d.Hj},e),N=e=>c()({type:d.wb},e),M=e=>c()({type:d.qc},e),D=e=>c()({type:d.Jf},e),y=e=>c()({type:d.ci},e),L=e=>(t,s)=>{const a=e.messageGroupIds,r=e.i13nModel,i=n()(a,1)[0],o=(0,Object(l.b)(s()).__getLastNonDraftMessageIdByGroupId)(i);t({type:d.Ol,i13nModel:r,messageId:o})}},,function(e,t,s){"use strict";s.d(t,"m",function(){return n}),s.d(t,"l",function(){return r}),s.d(t,"a",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"i",function(){return c}),s.d(t,"f",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"c",function(){return u}),s.d(t,"k",function(){return _}),s.d(t,"h",function(){return m}),s.d(t,"d",function(){return p}),s.d(t,"j",function(){return h}),s.d(t,"g",function(){return g}),s.d(t,"n",function(){return E});var a=s(9);const n="INTERACTION_SELECTION_TOGGLED",r="INTERACTION_SELECTION_MULTIPLE_TOGGLED",i="INTERACTION_CONTEXT_MENU",o="INTERACTION_CONTEXT_MENU_SHOWN",c="INTERACTION_GROUP_SPAM",d="INTERACTION_GROUP_NOT_SPAM",l="INTERACTION_GROUP_MOVE",u="INTERACTION_GROUP_DELETE",_="INTERACTION_GROUP_UNREAD",m="INTERACTION_GROUP_READ",p="INTERACTION_GROUP_FLAGGED",h="INTERACTION_GROUP_UNFLAGGED",g="INTERACTION_GROUP_PRINT",E=Object(a.c)(["ACCOUNT","FOLDER","NONE"])},function(e,t,s){"use strict";var a=s(21),n=s(9),r=s(44);const i="API-ERROR";function o(e,t,s=!0,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack,Object(a.a)(t&&"object"==typeof t,"Expected failureMap to be an object."),Object.keys(t).forEach(e=>{const s=t[e];Object(a.a)(s&&"object"==typeof s,`Invalid map passed to ApiError: ${e} had a value of ${s}`)}),this.token=i,this.name=this.constructor.name,this.message=e,this.failureMap=t,this.extraStatusCode=this.getExtraStatusCode(),this.extraErrorCode=this.getExtraErrorCode(),this.statusCode=this.getStatusCode(),this.errorCode=this.getErrorCode(),this.errorInfo=n,this.isRetryable=!!s&&this.getRetryable()}(o.prototype=Object.create(Error.prototype)).constructor=o,o.prototype.getStatusCode=function(){const e=String(this.extraStatusCode).split(",")[0].split(":")[1]||r.r;return Number(e)},o.prototype.getErrorCode=function(){return this.message===r.i?"EMPTY_RESPONSE":String(this.extraErrorCode).split(",")[0].split(":")[1]||r.r},o.prototype.getExtraStatusCode=function(){const e=[];return Object.keys(this.failureMap).forEach(t=>{e.push(`${t}:${this.failureMap[t].httpCode||r.r}`)}),e.join(",")||r.r},o.prototype.getExtraErrorCode=function(){const e=[];return Object.keys(this.failureMap).forEach(t=>{const s=this.failureMap[t],a=Object(n.a)(s,"response.error.code",r.r);e.push(`${t}:${a}`)}),e.join(",")||r.r},o.prototype.getRetryable=function(){return this.message===r.i||Object.keys(this.failureMap).every(e=>{const t=this.failureMap[e];if(429===t.httpCode)return!1;if(!t.response||!t.response.error)return!0;const s=t.response.error.code||"",a=s.split("-")[0],n=(t.response.id||"").split("_")[0],i=[n,s,`${s}-${n}`];for(const e of i)if(-1!==r.t.indexOf(e))return!0;return"EC"!==a&&"EP"!==a&&"EB-6000"!==s&&"EB-6003"!==s})},t.a=o},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r);class o extends i.a.Component{render(){const e=i.a.Children.only(this.props.children);return i.a.cloneElement(e,{onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})}}n()(o,"displayName","PopoverAnchor"),t.a=o},function(e,t,s){"use strict";s.d(t,"a",function(){return l}),s.d(t,"b",function(){return u});s(8);var a=s(1),n=s.n(a),r=s(9),i=s(649),o=s.n(i),c=s(13),d=s.n(c);const l=Object(r.c)(["S","M"]);function u({size:e,inverted:t,flex:s}){const a=d()(o.a,{size:e,inverted:t,flex:s});return n.a.createElement("div",{className:a.wrapper},n.a.createElement("div",{className:a.container,"data-test-id":"loading_indicator"},n.a.createElement("svg",{className:a.spinner,viewBox:"0 0 24 24",width:"24",height:"24"},n.a.createElement("path",{className:a.arc,d:"M12,22C6.477,22,2,17.523,2,12S6.477,2,12,2"}),n.a.createElement("path",{className:a.arc,d:"M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10"}))))}u.defaultProps={size:l.M}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(1),c=s.n(o),d=s(14);s(21),s(53);t.a=class extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{visiblePopoverTypes:[d.i.MOUNT]}),i()(this,"toggle",e=>{this.state.visiblePopoverTypes.indexOf(e)>-1?this.hide(e):this.show(e)}),i()(this,"show",e=>{const t=this.state.visiblePopoverTypes;t.indexOf(e)>-1||(t.push(e),this.setState({visiblePopoverTypes:t}))}),i()(this,"hide",(e,t)=>{const s=this.state.visiblePopoverTypes,a=s.indexOf(e);if(!t){const s=c.a.Children.toArray(this.props.children).filter(({props:t})=>t.triggerOn&&t.onHide&&t.triggerOn===e).map(({props:e})=>e.onHide);t=()=>s.forEach(e=>e())}-1!==a&&(s.splice(a,1),this.setState({visiblePopoverTypes:s},t))}),i()(this,"showContextualPopovers",e=>{c.a.Children.toArray(this.props.children).some(e=>e.props.triggerOn===d.i.RIGHTCLICK)&&(e.preventDefault(),this.show(d.i.RIGHTCLICK))}),i()(this,"toggleClickPopovers",()=>{this.toggle(d.i.CLICK)}),i()(this,"showHoverPopovers",()=>{this.show(d.i.HOVER)}),i()(this,"hideHoverPopovers",()=>{this.hide(d.i.HOVER)})}componentDidMount(){this.forceUpdate()}render(){const e=c.a.Children.toArray(this.props.children),t=e.shift(),s=c.a.cloneElement(t,{ref:"popoverAnchor",onClick:e=>{this.toggleClickPopovers(e),t.props.onClick&&t.props.onClick(e)},onContextMenu:this.showContextualPopovers,onMouseOver:this.showHoverPopovers,onMouseOut:this.hideHoverPopovers});let a=[];return this.refs.popoverAnchor&&(a=e.filter(e=>this.state.visiblePopoverTypes.indexOf(e.props.triggerOn)>-1).map(e=>c.a.cloneElement(e,{onHide:this.hide.bind(this,e.props.triggerOn,e.props.onHide),popoverAnchor:this.refs.popoverAnchor}))),c.a.createElement("div",n()({},this.props,{"data-test-id":"popover-container"}),s,a)}}},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return n});const a=(e=[])=>e.sort().join(""),n=(e,t)=>`${e}:${t}`},,function(e,t,s){"use strict";var a=s(6);t.a=Object(a.defineMessages)({all_mail_title:{id:"advanced_search.all_mail_title",defaultMessage:"All mail"},unknown_folder_title:{id:"advanced_search.unknown_folder_title",defaultMessage:"Unknown Folder"},system_folder_label:{id:"advanced_search.system_folder_label",defaultMessage:"Select this system folder for searching"},custom_folder_label:{id:"advanced_search.custom_folder_label",defaultMessage:"Select this custom folder for searching"},yahoo_account_description:{id:"advanced_search.yahoo_brand_name",defaultMessage:"Yahoo"},gmail_account_description:{id:"advanced_search.gmail_brand_name",defaultMessage:"Gmail"},aol_account_description:{id:"advanced_search.aol_brand_name",defaultMessage:"Aol"},outlook_account_description:{id:"advanced_search.outlook_brand_name",defaultMessage:"Outlook"},unknown_account_description:{id:"advanced_search.unknown_account_description",defaultMessage:"Unknown"}})},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(29),l=s(13),u=s.n(l),_=(s(125),s(9),s(646)),m=s.n(_),p=s(99),h=s(37);const g=()=>{},E=["escape","left","right","up","down","tab"];class I extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{cursorIndex:-1}),n()(this,"handleKeyDown",e=>{const t=e.which||e.keyCode,s=this.props.listNavigationOnInputEnabled;if(!(e.target&&e.target.type&&"text"===e.target.type)||s&&(!s||t!==h.b.LEFT&&t!==h.b.RIGHT))switch(t){case h.b.LEFT:case h.b.UP:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case h.b.RIGHT:case h.b.DOWN:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;case h.b.TAB:return void this.setState({cursorIndex:-1});case h.b.ESCAPE:return e.preventDefault(),e.stopPropagation(),void this.escape();default:return}}),n()(this,"handleBlur",()=>{const e=Object(d.findDOMNode)(this);setTimeout(()=>{this._isMounted&&!e.contains(document.activeElement)&&this.props.onHide()},0)})}componentDidMount(){this._isMounted=!0,this.props.focusOnMount&&setTimeout(()=>this.list&&this.list.focus(),0),this.mousetrap=this.context.bindShortcut(E,this.handleKeyDown,this.list),this.props.onShow()}componentWillUnmount(){this._isMounted=!1,this.context.unbindShortcut(E,this.mousetrap)}resetCursorIndex(){this.setState({cursorIndex:-1})}escape(){Object(d.findDOMNode)(this).focus(),Object(d.findDOMNode)(this).blur(),this.setState({cursorIndex:-1}),this.props.onEscape()}navigate(e){const t=Math.min,s=Math.max,a=Object(d.findDOMNode)(this),n=a.getElementsByTagName("li"),r=n.length-1;let i;this.props.circularNavigation?(i=this.state.cursorIndex+e)>r?i=0:i<0&&(i=r):i=t(s(this.state.cursorIndex+e,0),r);const o=n[i];if(a.querySelector("button:not([disabled])")||a.querySelector("a")||a.querySelector('[role="checkbox"]')){const t=o.querySelector("button:not([disabled])")||o.querySelector("a")||o.querySelector('[role="checkbox"]');t?(this.setState({cursorIndex:i}),this.props.selectItemInsteadOfFocus?this.props.selectItemInsteadOfFocus(t):t.focus()):this.setState({cursorIndex:i},function(){this.navigate(e)})}}getRole(){switch(this.props.kind){case p.a.MENU:return"menu";case p.a.TOOLBAR:return"menubar";default:return"list"}}render(){const e=this.getRole(),t=u()(m.a,{layout:this.props.layout,kind:this.props.kind,disabled:this.props.disabled,isRestrictedHeight:this.props.isRestrictedHeight});return c.a.createElement("ul",{"data-test-id":this.props["data-test-id"]||"navigable-list",ref:e=>this.list=e,tabIndex:this.props.tabIndex,role:e,onBlur:this.handleBlur,className:t.list},this.props.children)}}n()(I,"contextTypes",{bindShortcut:i.a.func,unbindShortcut:i.a.func}),n()(I,"defaultProps",{disabled:!1,tabIndex:-1,circularNavigation:!0,focusOnMount:!1,onShow:g,onHide:g,onEscape:g,isRestrictedHeight:!1,listNavigationOnInputEnabled:!1}),t.a=I},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return o});var a=s(9),n=s(12);const r=Object(a.c)(["MESSAGE_VIEW","LIST","LIST_WITH_PREVIEW_RIGHT","LIST_WITH_PREVIEW_BOTTOM"]),i=13*n.GRID_UNIT,o={HAS_GROUP_SELECTION:{[r.LIST]:!0,[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_SORT:{[r.LIST]:!0,[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_CLOSE:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.MESSAGE_VIEW]:!0},HAS_SINGLE_GROUP_ACTIONS:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0,[r.MESSAGE_VIEW]:!0},HAS_EXPAND_COLLAPSE:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0,[r.MESSAGE_VIEW]:!0},HAS_PREVIOUS_NEXT:{[r.MESSAGE_VIEW]:!0}};t.c=r},function(e,t,s){"use strict";s.d(t,"o",function(){return a}),s.d(t,"c",function(){return n}),s.d(t,"n",function(){return r}),s.d(t,"j",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"m",function(){return d}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return u}),s.d(t,"l",function(){return _}),s.d(t,"k",function(){return m}),s.d(t,"i",function(){return p}),s.d(t,"a",function(){return h}),s.d(t,"f",function(){return g}),s.d(t,"b",function(){return E});const a={HtmlPrimary:"HTML_PRIMARY",VideoPreview:"VIDEO_PREVIEW",VideoPrimary:"VIDEO_PRIMARY",NativeAdType:"NativeAdType",VideoAdType:"VideoAdType",PencilAdType:"PencilAdType",SearchAdType:"SearchAdType",FlashSaleAdType:"FlashSaleAdType",ShoppingCartAdType:"ShoppingCartAdType",ImagePortrait:"IMAGE_PORTRAIT"},n="http://n.gemini.yahoo.com:4080",r="/ssi",i=5443516,o=5582415,c=5600859,d=5559660,l="secOrigImagePortrait",u="secHqImage",_=5545469,m=5554834,p=5545468,h="ADEXTENSIONTYPE_CALL",g={bucket:"bk",apiVersion:"ve",size:"sz",sectionId:"se",creativeCode:"cc",contentType:"ct",adCount:"tk",propertyName:"ui",siteLanguage:"sl",countryCode:"co",requestId:"ri",publisherInfo:"pb",contentInHttps:"hs",forceFilter:"ff",format:"format",nonRevenue:"nr",adCategories:"ac",referer:"pu",domain:"dm"},E={5564286:2,5564699:18}},function(e,t,s){"use strict";s.d(t,"g",function(){return d}),s.d(t,"i",function(){return l}),s.d(t,"l",function(){return u}),s.d(t,"k",function(){return _}),s.d(t,"j",function(){return m}),s.d(t,"a",function(){return p}),s.d(t,"e",function(){return h}),s.d(t,"f",function(){return g}),s.d(t,"d",function(){return E}),s.d(t,"h",function(){return I}),s.d(t,"n",function(){return S}),s.d(t,"c",function(){return f}),s.d(t,"b",function(){return T}),s.d(t,"m",function(){return A});var a=s(31),n=s.n(a),r=s(0),i=s(41),o=s(21),c=s(9);function d({messageGroupId:e,mId:t}){return t?e+"-"+t:e}function l(e){return Object(i.o)(e.folder)===r.Cb.DRAFT}function u(e){return Object(i.o)(e.folder)===r.Cb.TRASH}function _(e){return Object(i.o)(e.folder)===r.Cb.BULK}function m(e){return t=>t.folder.id===e}function p(e){return e.length>27?e.split("_").pop().replace(/\+/g,"-").replace(/\//g,"_"):e}function h({partId:e,contentId:t},s){return Object(o.a)(s,"#generateAttachmentId must receive a messageId"),`${s}:${e||t}`}function g(e=""){const t=e.split(":");return n()(t,1)[0]}function E(e,t){return e.filter(({folder:e})=>t(Object(i.o)(e)))}function I({decos:e}){return!(!e||!Array.isArray(e))&&e.findIndex(e=>{if("CRD"===e.id)return!0})>-1}function S(e,t=[]){return e.schemaOrg.forEach(s=>{const a=s.schema||s,n=a["@type"];switch(n){case r.qd.ReservationPackage:a.subReservation&&(e.schemaOrg=a.subReservation,S(e,t));break;case r.qd.FlightReservation:{if(!a.reservationFor)break;const e=a.reservationId,s=void 0===e?"":e,i=a.reservationFor;let o=a.underName,d=void 0===o?[]:o,l=a.potentialAction,u=void 0===l?[]:l;const _=i.departureAirport,m=i.departureTime,p=i.departureTerminal,h=void 0===p?"":p,g=i.arrivalAirport,E=i.arrivalTerminal,I=void 0===E?"":E,S=i.flightNumber,C=void 0===S?"":S,f=i.arrivalTime,T=void 0===f?"":f;if(!(_&&g&&m&&a["@id"]))break;let A="";Array.isArray(u)||(u=[u]),Array.isArray(d)||(d=[d]),u.some(e=>{if(e["@type"]===r.qd.CheckInAction&&e.url)return A=Object(c.a)(e,"url.@value")||Object(c.a)(e,"url",""),!0}),t.push({id:a["@id"],type:n,providerName:Object(c.a)(i,"provider.name",""),providerIataCode:Object(c.a)(i,"provider.iataCode",""),providerUrl:Object(c.a)(i,"provider.url",""),departureAirportName:Object(c.a)(_,"name",""),departureAirportDesc:Object(c.a)(_,"description",""),departureAirportCode:Object(c.a)(_,"iataCode",""),departureTime:m,departureTerminal:h,arrivalAirportName:Object(c.a)(g,"name",""),arrivalAirportDesc:Object(c.a)(g,"description",""),arrivalAirportCode:Object(c.a)(g,"iataCode",""),arrivalTime:T,arrivalTerminal:I,flightNumber:C,reservationId:s,passengers:d.map(e=>e.name),checkInUrl:A});break}case r.qd.Coupon:{let s;const i=a["@id"],o=Object(c.a)(a,"validThrough",""),d=Object(c.a)(a,"description",""),l=Object(c.a)(e,"headers.from",[]),u=Object(c.a)(e,"cardConversationId",""),_=Object(c.a)(e,"decos",[]).some(e=>e&&e.id===r.nc.TAG),m=Object(c.a)(a,"category",[]),p=Object(c.a)(a,"identifier",[]),h=Object(c.a)(p.find(e=>e&&"inferredExpiryDate"===e.propertyID),"value",""),g=Object(c.a)(a,"image.url",null);if(!i||!d||!l.length||!o&&!h)break;if(a.potentialAction&&a.potentialAction.length>0){const e=a.potentialAction.find(e=>e["@type"]===r.pd.SUBSCRIBE_ACTION).object,t=(void 0===e?{}:e).savedSearchQuery;s=void 0===t?null:t}const E=m.filter(e=>e["@id"]&&e.name&&"GPT"===e.taxonomy&&["haifaproduct","GPT_ASPEN_LIB"].includes(e.method)).map(e=>{let t=e.name.split(">");return{id:e["@id"],name:t=t[t.length-1]}}),I=Object(c.a)(m.find(e=>"Great Savings"===e.name),"name","");t.push({id:i,type:n,validThrough:o||h,isInferredDate:!o&&!!h,description:d,dealLink:Object(c.a)(a,"url.value",a.url||""),savedSearchQuery:s,clipped:_,from:l[0],cardConversationId:u,unusualDiscount:I,couponCategories:E,retailer:Object(c.a)(a,"broker.name",""),imageUrl:g});break}case r.qd.Order:{const s=a.acceptedOffer,r=void 0===s?{}:s,i=a.orderedItem,o=void 0===i?[]:i,d=a.potentialSaving,l=void 0===d?{}:d,u=a.orderDate,_=a.seller,m=a.inferredOrderDate,p=a.broker,h=void 0===p?{}:p;if(!o.length||!a["@id"])break;o.forEach(e=>{e.category=Array.isArray(e.category)?e.category:[]});const g=Object(c.a)(r,"price",null);t.push({id:e.immutableid,type:n,price:null!==g?Number(Number(g).toFixed(2)):null,currency:Object(c.a)(r,"priceCurrency",""),potentialSavings:Number(Number(Object(c.a)(l,"price",0)).toFixed(2)),orderedItems:o,orderDate:u||m,sellerName:_?Object(c.a)(_,"name",""):"",broker:h});break}}}),t}function C(e){return`${e.email}@${e.name}`}function f(e){const t=e.length;if(t<=1)return e;const s=e[0],a={[C(s)]:s,[C(e[t-1])]:e[t-1]},n=[s];return e.slice(1,t-1).forEach(e=>{const t=C(e),n=a[t];(n!==s&&!n||!n.recent&&e.recent)&&(a[t]=e)}),e.slice(1,t-1).forEach(e=>{const t=C(e);a[t]===e&&n.push(e)}),n.push(e[t-1]),n.every(({email:e,recent:t,name:a})=>s.email===e&&s.recent===t&&s.name===a)?[s]:n}function T(e){if(1===e.length)return[0];const t=[0,e.length-1];let s=2;for(let a=1;a<e.length-1;a++){e[a].recent?(t.splice(s,0,a),s++):t.push(a)}return t}function A({recipients:e,participants:t,myAddresses:s}){let a=function(...e){const t={},s=[];let a=0;return e.forEach(e=>{e.forEach(e=>{const n=t[e.email];void 0===n?(t[e.email]=a,s[a]=Object.assign({},e),a++):s[n].recent=s[n].recent||e.recent})}),s}(e,t);if(a.length){const e=a.filter(e=>!s[e.email]);e.length&&(a=e)}return a}},function(e,t,s){"use strict";s.d(t,"d",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"h",function(){return c}),s.d(t,"i",function(){return d}),s.d(t,"a",function(){return u}),s.d(t,"b",function(){return _}),s.d(t,"j",function(){return p}),s.d(t,"l",function(){return h}),s.d(t,"k",function(){return g}),s.d(t,"m",function(){return E}),s.d(t,"e",function(){return I}),s.d(t,"c",function(){return S}),s.d(t,"f",function(){return C});var a=s(62),n=s(10),r=s(0);s(68);function i(e){const t=e.messages;let s=!0,a=!1,n=!1,r=!1;for(let e=0;e<t.length;e++){const i=t[e];i.flags.read||(s=!1),i.flags.flagged&&(a=!0),i.flags.answered&&(n=!0,r=!1),i.flags.forwarded&&(r=!0,n=!1)}return{read:s,flagged:a,answered:n,forwarded:r}}function o(e){return e.filter(e=>e.headers.from.length>0&&(e.headers.from[0].email||e.headers.from[0].name)).map(e=>({email:e.headers.from[0].email,name:e.headers.from[0].name,recent:!e.flags.read}))}function c(e){return e.messages.some(e=>e.attachments&&e.attachments.length)}function d(e=[]){return e.map(e=>e.domain).join("").toLowerCase().indexOf("yahoo")>=0}function l(e){return e.messages.some(e=>d(e.verifiedDomains))}function u(e){return e.messages.reduce((e,{attachments:t})=>e.concat(t),[]).filter(Boolean)}function _(e){return e.messages.reduce((e,{attachmentCount:t=0})=>e+t,0)}function m(e){return e.messages.some(a.i)}function p(e){return e.messages.every(a.i)}function h(e){return e.messages.every(a.l)}function g(e){return e.messages.every(a.k)}function E(e=""){return e.replace(/\^_(.+?)\^_/g,"$1")}function I(e){const t=e.messages;for(let e=t.length-1;e>=0;e--){if(t[e].folder.types[0]!==r.Cb.TRASH)return t[e].folder}return t[t.length-1].folder}function S(e,t={}){const s=t.listId;let r;return s&&(r=Object(n.o)(s)),(function(e,t){return function(e,t){const s=e.messages;let a;for(let e=s.length-1;e>=0;e--)if(t(s[e])){a=s[e];break}return a}(e,Object(a.j)(t))}(e,r)||e.messages[e.messages.length-1]).headers.date}function C(e,t={}){const s=i(e),a=o(e.messages),n=function(e){return e.reduce((e,t)=>t.headers.to.filter(e=>e.email||e.name).reduce((e,s)=>(e.push({email:s.email,name:s.name,recent:!t.flags.read}),e),e),[])}(e.messages),r=e.messages[0].headers.subject,d=e.messages[e.messages.length-1].snippet;return{flags:s,participants:a,recipients:n,subjectWithMatchDelimiter:r,snippetWithMatchDelimiter:d,subject:E(r),snippet:E(d),date:S(e,t),messageCount:e.messages.length,hasAttachment:c(e),hasVerifiedMessage:l(e),hasDraft:m(e),folder:I(e)}}},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(39),i=s.n(r),o=s(31),c=s.n(o),d=s(18),l=s(41),u=s(47),_=s(48),m=s(10),p=s(62),h=s(0),g=s(7),E=s(9),I=s(85),S=s(217),C=s(11),f=s(75);function T({messageGroupIds:e=[]},t){const s=Object(C.b)(t),a=s.doesMessageGroupIdExist,n=s.getMessageIdsFromMessageGroupId;return e.reduce((e,t)=>e.concat(a(t)?n(t):[]),[])}function A({listId:e},t){const s=(0,Object(C.b)(t).getListsSelectors)(),a=s.getItemIdsSelectors;return{numMsg:(0,s.doesListExist)(e)?a(e).getItemIds().length:0}}function b(e,t){const s=e.messageIds,a=e.itemsToUpdate;let n="",r=0;return a?(n=a.map(e=>e.messageId),r=a.length):r=T(e,t).length,{numMsg:r,mid:s&&s.length?s:n}}function O(e){return{msgID:e.messageIds.join(",")}}function R(e,t){const s=Object(C.b)(t),a=s.getMessageIdsFromMessageGroupId;if(!(0,s.doesMessageGroupIdExist)(e.messageGroupId))return{};const n=a(e.messageGroupId)||[];return{numMsg:n.length,mid:e.messageId||(n&&n.length?n[n.length-1]:"")}}function N(e,t){const s=e.destinationFolderId,a=e.destinationFolderType,n=e.messageIds,r=e.itemsToUpdate,i=(0,Object(C.b)(t).getFoldersSelectors)(),o=i.getPrimaryFolderTypeByFolderId,c=(0,i.doesFolderIdExist)(s)?l.b[o(s)]:void 0;let d="",u=0;return r?(d=r.map(e=>e.messageId),u=r.length):u=T(e,t).length,{numMsg:u,destin:c||a||"",mid:n&&n.length?n:d}}function M({itemsToUpdate:e}){return{numMsg:e.filter(e=>e.isAffected).length}}function D(e){const t=e.attachment;return{fileType:Object(u.d)(t.type,t.subtype),fileSize:t.size,msgId:t.id&&Object(p.f)(t.id)}}function y(e,t){const s=e.route,a=e.streamItem,n=e.i13nModel,r=(void 0===n?{}:n).actionData,i=void 0===r?{}:r;let o,c,l;if(!a)return i;o=a.listId,c=a.id,l=Object(E.a)(e,"hashParams.itemId");const u=Object(C.b)(t),_=u.getImportantContactsSelectors,m=u.doesMessageGroupIdExist,p=u.getMessageIdsFromMessageGroupId,h=u.getMessageGroupParticipantsInfo,g=u.getMessageFromAddress,I=u.getListItemIdIndex,S=(0,u.getMessagesSelectors)().getDecos;if(!m(c))return{};const f=(0,_().getImportantContacts)()||[],T=p(c),A=l||T.join(","),b=h(c,o).senders,O=void 0===b?[]:b,R=g(l=l||T[T.length-1]),N=R.length>0?R[0]:{},M=Object(d.n)(N.email)?Object(d.e)(N.email).domainPart:"NODOMAIN.COM",D={},y=[];T.forEach(e=>{S(e).forEach(e=>D[e.id]=e.id)});for(const e in D)y.push(D[e]);return Object.assign({},i,{query:s?s.params.query||s.params.fid:"",mid:c,msgID:A,sdrDomain:M,mailDecos:y,numRcpt:O.length,numMsg:T.length,importntCntct:f.some(e=>-1!==e.emails.indexOf(N.email)),itemIdx:I(o,c)})}function L(e,t){const s=e.message,a=e.messageId,r=Object(C.b)(t),i=r.isFeatureEnabled,o=r.getMessagesSelectors,c=r.getFolderName,d=r.doesFolderIdExist,u=Object(E.a)(e,"i13nModel.actionData",{});if(s)return n()({},u,{msgID:s.id,mHref:i(h.ub.CLICK_URL_LOGGING)?u.mHref:null,mSndr:s.headers.from.length>0?s.headers.from[0].email:"",mFldr:Object(l.m)(s.folder)});if(a){const e=o(),t=e.getFolderOfDelivery,s=(0,e.getFromAddresses)(a),r=t(a);return n()({},u,{msgID:a,mHref:i(h.ub.CLICK_URL_LOGGING)?u.mHref:null,mSndr:s.length>0?s[0].email:"",mFldr:d(r)?c(r):""})}return u}function v(e,t){const s={accountIds:Object(C.b)(t).getSelectedAccountId()},a=Object(I.b)(e.smartViewName,s),n=Object(m.d)(a);return{srchQry:Object(m.Y)(n),srchType:Object(m.K)(n)?"cntct":"kwrd"}}function P(e){const t=e.listId||Object(m.w)(e.route),s=Object(m.Y)(t),a=Object(m.s)(t),n=Object(m.m)(t),r=Object(m.K)(t);let i="kwrd";if(!r)switch(e.i13nModel.mKey){case g.e.SEARCH_BUTTON:i="kwrd";break;case g.e.SEARCH_RECENT_SUGGEST:i="recentSearch";break;case g.e.SEARCH_KWRD_SUGGEST:i="suggestedSearch";break;default:i="kwrd"}return Object.assign({srchQry:s,srchType:r?"cntct":i,query:r?n:a},Object(E.a)(e,"i13nModel.actionData",{}))}function F(e){const t=e.value,s={[h.Rc.NO]:"none",[h.Rc.RIGHT]:"vrtcl",[h.Rc.BOTTOM]:"hrztl"};if(s[t])return{setTo:s[t]}}function w(e){const t=e.value,s={[h.pc.SLIM]:"slm",[h.pc.NORMAL]:"rglr",[h.pc.RELAXED]:"rlxd"};if(s[t])return{setTo:s[t]}}function k(e){return{setTo:e.value?"true":"false"}}function x({messageId:e,schemaCard:{id:t=""}={},i13nModel:{mKey:s="",sec:a="",actionData:r={}}={},recommendations:i=!1}={},o){if(e&&t){const d=Object(C.b)(o),l=d.getCouponsSelectors,u=(0,d.getMessagesSelectors)().getParentMessageIdForCardConversationId,_=l(),m=_.isSingleCouponParentMessageId,p=_.getUnusualDiscount,h=_.getFromAddress,E=(0,_.getCardConversationId)(t),I=p(t),S=i?u(E):"",f=h(t).email,T=void 0===f?"":f,A=i&&s===g.e.COUPON_CLIPPED&&a===g.g.MSG_BODY&&m(S);if(I){const t=T.split("@"),s=c()(t,2)[1];return n()({ccid:E,sndr:s,cardMid:e,parentMid:S},r)}return n()({},r,{ccid:E,fromEmail:T,cardMid:e,parentMid:S,recommendationsEligible:A})}return{}}function U(e){const t=[],s=[];return e.files.forEach(e=>{const a=e.type.split("/");let n;n=a.length>1?Object(u.d)(a[0],a[1]):Object(u.d)(e.type,e.subtype),t.push(n),s.push(e.size)}),{attmTypes:t,attmSizes:s}}function G(e,t){const s=Object(C.b)(t),a=s.doesMessageGroupIdExist,n=s.getMessageIdsFromMessageGroupId,r=(0,s.getMessagesSelectors)(),i=r.getDecos;if(!e||!e.streamItem)return{};const o=e.streamItem.groupId;if(!(0,r.doesMessageIdExist)(o)&&!a(o))return{};const c=a(o)?n(o):[o],d={},l=[];c.forEach(e=>{i(e).forEach(e=>d[e.id]=e.id)});for(const e in d)l.push(d[e]);return{mailDecos:l}}function j(e,t){const s=Object(C.b)(t).isFeatureEnabled,a=Object(E.a)(e,"i13nModel.actionData",{});return s(h.ub.CLICK_URL_LOGGING)?a:n()({},a,{mHref:null})}function H(e){const t=Object(E.a)(e,"i13nModel.actionData",{});return n()({},t,{affliatePartner:"groupon"===Object(f.d)(t.url)?"groupon":"viglink"})}var B={[g.a.SEARCH_SUGGESTION]:function(e,t){const s=e.query,a=e.suggestions,n=Object(C.b)(t),r=n.getRecentSearchesSelectors,i=n.isFeatureEnabled,o=(0,(0,n.getImportantContactsSelectors)().getImportantContacts)(),c=(0,r().getRecentSearches)(),d=Object(S.d)(a,o,c,s,i(h.ub.SHOW_RECENT_SUGGESTIONS),i(h.ub.SHOW_EMPTY_SEARCH_SUGGESTIONS)).reduce((e,t)=>(t.hasOwnProperty("type")&&(e[t.type]?e[t.type]++:e[t.type]=1),e),{});return{query:s,people:d[h.Vd.PERSON]||0,keyword:d[h.Vd.KEYWORD]||0,recent:0}},[g.a.SEARCH_ZERO_RESULTS]:P,[g.e.MSG_REPLY]:R,[g.e.MSG_REPLY_ALL]:R,[g.e.MSG_FORWARD]:R,[g.e.MSG_SMART_REPLY]:R,[g.e.TOOLBAR_REPLY]:R,[g.e.TOOLBAR_REPLYALL]:R,[g.e.TOOLBAR_FORWARD]:R,[g.e.QUICK_REPLY]:R,[g.e.QUICK_REPLYALL]:R,[g.e.QUICK_FORWARD]:R,[g.e.MSG_HDR_MARK_READ]:O,[g.e.MSG_HDR_MARK_UNREAD]:O,[g.e.MSG_HDR_MARK_STAR]:O,[g.e.MSG_HDR_MARK_UNSTAR]:O,[g.e.MSG_GRP_HDR_MARK_READ]:b,[g.e.MSG_GRP_HDR_MARK_UNREAD]:b,[g.e.MSG_GRP_HDR_MARK_STAR]:b,[g.e.MSG_GRP_HDR_MARK_UNSTAR]:b,[g.e.TOOLBAR_SELECTALL_MSG]:A,[g.e.TOOLBAR_SELECT_NONE]:A,[g.e.TOOLBAR_BULK_CONTEXT_ALL]:A,[g.e.TOOLBAR_BULK_CONTEXT_NONE]:A,[g.e.TOOLBAR_BULK_CONTEXT_READ]:A,[g.e.TOOLBAR_BULK_CONTEXT_UNREAD]:A,[g.e.TOOLBAR_BULK_CONTEXT_STARRED]:A,[g.e.TOOLBAR_BULK_CONTEXT_UNSTARRED]:A,[g.e.TOOLBAR_ARCHIVE]:b,[g.e.TOOLBAR_DELETE]:b,[g.e.TOOLBAR_MOVE]:N,[g.e.DRAG_DROP_MOVE]:N,[g.e.TOOLBAR_SPAM]:b,[g.e.TOOLBAR_NOT_SPAM]:b,[g.e.TOOLBAR_MARK_READ]:b,[g.e.TOOLBAR_MARK_UNREAD]:b,[g.e.TOOLBAR_MARK_STARRED]:b,[g.e.TOOLBAR_MARK_UNSTARRED]:b,[g.e.TOOLBAR_VIEW_RAW]:b,[g.e.SELECT_MSG]:b,[g.e.MARK_MSG_READ]:b,[g.e.MARK_MSG_UNREAD]:b,[g.e.MARK_MSG_STARRED]:b,[g.e.MARK_MSG_UNSTARRED]:b,[g.e.MSG_LIST_DEL]:b,[g.e.UNDO_DELETE_ACTION]:M,[g.e.UNDO_ARCHIVE_ACTION]:M,[g.e.UNDO_MOVE_ACTION]:M,[g.e.PHOTO_DOWNLOAD]:D,[g.e.OPEN_MSG]:y,[g.e.RIGHT_RAIL_MSG_OPEN]:y,[g.e.DOC_READ_MSG]:y,[g.e.PHOTO_READ_MSG]:y,[g.e.ATTACHMENT_LIGHTBOX_DOCUMENT_MSG]:y,[g.e.ATTACHMENT_LIGHTBOX_IMAGE_MSG]:y,[g.e.OPEN_LINK]:L,[g.e.UNREAD_SMARTVIEW]:v,[g.e.STARRED_SMARTVIEW]:v,[g.e.PHOTO_SMARTVIEW]:v,[g.e.DOCUMENT_SMARTVIEW]:v,[g.e.SEARCH_BUTTON]:P,[g.e.ADVANCED_SEARCH_BUTTON]:P,[g.e.CONTACT_SEARCH]:P,[g.e.SUBJECT_SEARCH]:P,[g.e.SEARCH_PEOPLE_SUGGEST]:P,[g.e.SEARCH_KWRD_SUGGEST]:P,[g.e.SEARCH_RECENT_SUGGEST]:P,[g.e.SETTINGS_POPUP_PREVIEW_PANE]:F,[g.e.SETTINGS_PREVIEW_PANE]:F,[g.e.SETTINGS_POPUP_MSG_LIST_DENSITY]:w,[g.e.SETTINGS_MSG_LIST_DENSITY]:w,[g.e.SETTINGS_POPUP_TAB_SETTING]:k,[g.e.SETTINGS_TAB_SETTING]:k,[g.e.SETTINGS_POPUP_SNIPPET]:k,[g.e.SETTINGS_SNIPPET]:k,[g.e.SETTINGS_BLOCK_IMAGES]:k,[g.e.SETTINGS_NOTIFICATIONS]:k,[g.e.SETTINGS_CONVERSATION]:k,[g.e.SETTINGS_AUTOMATIC_REPLY]:function({value:e}){return{setTo:e.enabled?"true":"false"}},[g.e.BLOCK_SENDERS_SUBMIT]:function(e){const t=e.deleteItemsFromSenders;return{deleteItemsFromSenders:t?t.length:0}},[g.e.SEND]:function(e,t){const s=e.to,a=void 0===s?[]:s,n=e.cc,r=void 0===n?[]:n,i=e.bcc,o=void 0===i?[]:i,c=e.csid,d=e.attachmentsInfo,l=void 0===d?[]:d,u=e.containsStationery,_=Object(C.b)(t),m=_.isReplyMessage,p=_.isReplyAllMessage,h=_.isForwardMessage,g=(0,_.getInForwardToMessageId)(c);return{sttnry:u,to:a?a.length:0,cc:r?r.length:0,bcc:o?o.length:0,mid:g||"",compType:m(c)||p(c)||h(c)?"inline":"comp",numAttchmts:l.length,sizeAttchmts:l.reduce((e,{size:t})=>e+t,0)}},[g.e.COMPOSE_ADD_ATTACHMENT]:U,[g.e.COMPOSE_DRAG_ATTACHMENT]:U,[g.e.UNUSUAL_DISCOUNT_COUPON_CLIPPED]:x,[g.e.COUPON_CLIPPED]:x,[g.e.COUPON_UNCLIPPED]:x,[g.e.DOWNLOAD_ATTACHMENT]:D,[g.e.ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD]:D,[g.e.ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD]:D,[g.e.ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD]:D,[g.e.ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD]:D,[g.e.DOWNLOAD_ATTACHMENT_ALL]:function({attachments:e=[]}){return e.map(({type:e,subtype:t,size:s})=>({fileType:Object(u.d)(e,t),fileSize:s}))},[g.e.AUTHORIZE_IMAP_ACCOUNT]:function(e){const t=e.email;return{prvdr:e.provider||Object(_.e)(t)}},[g.e.COUPON_OPENED]:G,[g.e.RECEIPT_OPENED]:G,[g.e.TRAVEL_READ_MSG]:G,[g.e.LINK_ENHANCER_MOVE_LINK_INLINE]:j,[g.e.LINK_ENHANCER_ADD_LINK]:j,[g.e.LINK_ENHANCER_RESIZE_LINK]:j,[g.e.LINK_ENHANCER_REMOVE_LINK]:j,[g.e.LINK_ENHANCER_MOVE_LINK_BOTTOM]:j,[g.e.LINK_ENHANCER_SHARE_LINK]:j,[g.e.LINK_ENHANCER_OPEN_LINK]:L,[g.e.TOGGLE_LIST_VISIBILITY]:function(e,t){const s=Object(E.a)(e,"i13nModel.actionData",{}),a=(0,Object(C.b)(t).getListsSelectors)().isListExpanded;return n()({},s,{listId:e.listId,isExpanding:a(e.listId)})},[g.e.COUPON_CARD_VIGLINK_CLICKED]:H,[g.e.UNUSUAL_DISCOUNT_COUPON_CARD_VIGLINK_CLICKED]:H},V=s(74),W=s.n(V).a.create("norrin/i13n_client"),q=s(86),z=s(140),K=s(21);s.d(t,"a",function(){return Y});const Z={init(e){if("undefined"==typeof window)return;const t=window,s=t.rapidInstance;t.Y=t.YAHOO||{},t.Y.i13n=t.Y.i13n||{};const a=Object.assign({},e.rapid);if(a&&(a.pageview_on_init=!1),t.Y.i13n.Rapid){if(!s)try{t.rapidInstance=new t.Y.i13n.Rapid(a)}catch(e){const t=new z.a(e);q.a.error("Rapid init error",{rapidConfig:a,name:e.name||"",message:e.message||"",stack:t.toString()})}}else q.a.error("Rapid is not loaded");return t.rapidInstance},getRapidInstance:()=>"undefined"!=typeof window&&void 0!==window.rapidInstance&&window.rapidInstance,sendI13nModel(e,t,s=!1){const a=Object.assign({},e.i13nModel),n=B[a.mKey];"function"==typeof n&&(a.actionData=Object.assign({},a.actionData,n.call(this,e,t))),s&&a.mKeyGroup!==g.f.search&&a.sec!==g.g.FEATURE_CUE&&(a.mKey="SRP_"+a.mKey),function({mKey:e,sec:t,mKeyGroup:s,actionData:a={},interactionType:n=g.d.click}={}){if(!t||!e)return;g.d[n]||(n=g.d.click);const r=a.mHref,o=i()(a,["mHref"]),c={mKey:e,mHref:r?r.slice(0,290):null,intrctn:n,coreActn:s||null,actnData:Object(E.b)(o)?null:JSON.stringify(o)},d=W.feature(h.r.RapidClient,Object.assign({},{sec:t},c)),l=Z.getRapidInstance();l?(d.logSuccess(),l.beaconClick(t,null,0,c)):d.logFailure()}(a)},sendBeaconEvent(e,t){const s=e.i13nModel,a=B[s.eventName];"function"==typeof a&&(s.pageParams=a.call(this,e,t),s.pageParams.etrg=s.etrg),function({eventName:e,pageParams:t,outcome:s}){const a=W.feature(h.r.RapidClient,{eventName:e,outcome:s}),n=Z.getRapidInstance();n?(a.logSuccess(),n.beaconEvent(e,t,s)):a.logFailure()}(s)}};t.b=Z;function Y(e){return Object(K.a)(e,"the section id doesn't exist"),function(t){Object(K.a)(t,"expected a payload containg at least a mKey");const s=t.mKey,a=t.event,r=i()(t,["mKey","event"]);return Object(K.a)(s,"mKey can't be undefined. Check typo or define it in constants"),{i13nModel:n()({},r,{mKey:s,sec:e,interactionType:a?Object(d.j)(a):g.d.click})}}}},function(e,t,s){"use strict";s.d(t,"b",function(){return m}),s.d(t,"a",function(){return p}),s.d(t,"c",function(){return h});var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(12),l=(s(9),s(259)),u=s(15),_=s(11);const m="https://s.yimg.com/dh/ap/social/profile/profile_a64.png",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAACGElEQVRYw83WWXPaMBSG4fz/XyUdSba8yLKN3WwlNyFt4ialKc3SFKwCLZhYR8QeJzO81995xgzLcEQGdkRGnwY0WgLlyYDKgwCK4wEV7wEMfhc+ECh0kqTFm0BeOoqJryJBuB/qwrXJ9wAZnZplL98vTwREhRvICjQljs22b5Ljs8wFjIR/+tQApj6HrBcgdW1ed86dwMguJY+tezOHBBm6gCA3VkXgANLcjlc28EUgwxQHNJnbwCPJOgPKN0hU44DOrOIQA0DZS+0AAhRIcCBJrSKJP4G9THAg9jAAWzoAgb2EmkkcULqdIi/YE9wTjUwxIGLYvflDko6AIjUGPDieIE6s6E8MqLi9jHFAXGBA4eFApKwCuHq2XsAlRZYRDigfTttAxgLVHVAhtL6PT/huBYQxFr96DXzm6Cx0Ar5s/aAFbiBCo3e7wIThqz2AUDv3C+G7gSBEC+BrA4xZ6Fg5AekB/bG5vybgyT6A5EDV+ObXBpjdjBUFLnFABq0Eo+Xtov1BWtyWlIn2VlqAFOBN5ujX2cwnHgi5F5CchlVtnNVVSLlsAb7c5DOip+aNpnr5l6M52QUETWemQ7N8+RQ7gOf/i0FlOnbH2f8jrwE4fzCd+x2wNuCRe9OjZxBbQHirmDa9Ktn6TDTAWT/grAG4WAV9AVif8YMAGF8FQvVKwPqMbQEGPWMNMKiDAGBQ7wHQQR0EMLC/CsyEDBnhc8AAAAAASUVORK5CYII=",h={C:{imageSize:d.AVATAR_SIZE_COMPACT,requestSize:50},S:{imageSize:d.AVATAR_SIZE_S,requestSize:50},M:{imageSize:d.AVATAR_SIZE_M,requestSize:80},MEDIUM_PLUS:{imageSize:d.AVATAR_SIZE_40,requestSize:80},L:{imageSize:d.AVATAR_SIZE_L,requestSize:96},UNIFY_DESIGN_S:{imageSize:d.AVATAR_SIZE_24,requestSize:50},UNIFY_DESIGN_M:{imageSize:d.AVATAR_SIZE_M,requestSize:80},UNIFY_DESIGN_L:{imageSize:d.AVATAR_SIZE_44,requestSize:80},UNIFY_DESIGN_SECOND_AD_L:{imageSize:d.AVATAR_SIZE_42,requestSize:80},NOBLE_S:{imageSize:d.AVATAR_SIZE_24,requestSize:50},NOBLE_L:{imageSize:d.AVATAR_SIZE_40,requestSize:50},NOBLE_XL:{imageSize:d.AVATAR_SIZE_60,requestSize:50}};class g extends c.a.Component{constructor(e){super(e),n()(this,"state",{imageLoaded:!1,srcUrl:""}),n()(this,"psuedoImage",null),n()(this,"mounted",!1),n()(this,"getSrcUrlWithAppId",()=>this.props.fallbackUrl===this.state.srcUrl?this.state.srcUrl:this.state.srcUrl+`&appId=${this.context.appId}`),n()(this,"createImageLoader",()=>{this.psuedoImage||(this.psuedoImage=new Image,this.psuedoImage.onload=this.onLoad,this.psuedoImage.onerror=this.onError),this.psuedoImage.src=this.getSrcUrlWithAppId()}),n()(this,"recreateOrb",()=>{this.mounted&&(this.imageRef.current.removeAttribute("clip-path","url(#clip-orb)"),this.imageRef.current.setAttribute("clip-path","url(#clip-orb)"))}),n()(this,"onLoad",()=>{this.mounted&&!this.state.imageLoaded&&this.setState({imageLoaded:!0})}),n()(this,"onError",()=>{this.mounted&&this.state.imageLoaded&&this.setState({imageLoaded:!1})}),this.imageRef=c.a.createRef()}static getDerivedStateFromProps(e,t){return e.useFallbackImage||e.srcUrl===t.srcUrl?null:{imageLoaded:!1,srcUrl:e.srcUrl}}componentDidUpdate(e){this.props.useFallbackImage||this.props.srcUrl===e.srcUrl||this.createImageLoader()}componentDidMount(){this.mounted=!0,window.requestAnimationFrame(this.recreateOrb),this.props.useFallbackImage||this.createImageLoader()}componentWillUnmount(){this.mounted=!1}render(){const e=this.props,t=e.customFallbackImageData,s=e.size.imageSize;return c.a.createElement("svg",{width:s,height:s,viewBox:"0 0 20 20"},c.a.createElement("image",{ref:this.imageRef,xlinkHref:this.state.imageLoaded&&!e.useFallbackImage?this.getSrcUrlWithAppId():t,width:"20",height:"20",clipPath:"url(#clip-orb)"}))}}n()(g,"contextTypes",{appId:i.a.string}),n()(g,"defaultProps",{size:h.M,useFallbackImage:!1,customFallbackImageData:p,contact:{},fallbackUrl:m,srcUrl:""});t.d=Object(u.connect)((e,{contact:t={},size:s=h.M,fallbackUrl:a=m,useFallbackImage:n})=>{if(n)return{};const r=(0,Object(_.b)(e).getContactListSelectors)();let i;return t.id?i=r.getContactById(t.id):t.email&&(i=r.getContactByEmail(t.email)),(i=i||{}).id&&(t.id=t.id||i.id),i.photoTimestamp&&(t.photoTimestamp=i.photoTimestamp),{srcUrl:Object(l.a)(t,s.requestSize,a,null)}})(g)},function(e,t,s){"use strict";s.d(t,"n",function(){return c}),s.d(t,"A",function(){return d}),s.d(t,"B",function(){return l}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return _}),s.d(t,"m",function(){return m}),s.d(t,"e",function(){return p}),s.d(t,"b",function(){return h}),s.d(t,"o",function(){return g}),s.d(t,"p",function(){return E}),s.d(t,"i",function(){return I}),s.d(t,"s",function(){return S}),s.d(t,"r",function(){return C}),s.d(t,"k",function(){return f}),s.d(t,"j",function(){return T}),s.d(t,"w",function(){return A}),s.d(t,"y",function(){return b}),s.d(t,"x",function(){return O}),s.d(t,"l",function(){return R}),s.d(t,"D",function(){return N}),s.d(t,"q",function(){return M}),s.d(t,"C",function(){return D}),s.d(t,"h",function(){return y}),s.d(t,"a",function(){return L}),s.d(t,"v",function(){return v}),s.d(t,"u",function(){return P}),s.d(t,"t",function(){return F}),s.d(t,"g",function(){return w}),s.d(t,"f",function(){return k}),s.d(t,"z",function(){return x});var a=s(4),n=s.n(a),r=s(2),i=s(0),o=s(7);s(69);const c=e=>n()({type:r.Vh},e),d=e=>n()({type:r.N},e),l=e=>n()({type:r.O},e),u=e=>n()({type:r.M},e),_=e=>n()({type:e.error?r.Ld:r.Md},e),m=()=>({type:r.ah}),p=()=>({type:r.ff,name:i.ub.IS_WIDER_MAIL_EXTN_ENABLED}),h=e=>n()({type:r.Q},e),g=e=>n()({type:r.ai},e),E=e=>n()({type:r.bi},e),I=({sectionIds:e})=>({type:r.rf,sectionIds:e}),S=({geminiAd:e,sectionIds:t,sponsoredMessageTriage:s=!1,i13nModel:a={}})=>({type:r.qf,geminiAd:e,sectionIds:t,i13nModel:a,sponsoredMessageTriage:s}),C=({error:e,sectionIds:t,i13nModel:s})=>({type:r.pf,error:e,sectionIds:t,i13nModel:s}),f=({creativeId:e,asset:t})=>({type:r.tf,creativeId:e,asset:t}),T=({creativeId:e,error:t,url:s})=>({type:r.sf,creativeId:e,error:t,url:s}),A=({subject:e,asset:t})=>({type:r.Yj,subject:e,asset:t}),b=({message:e,simpleBody:t})=>({type:r.Zj,message:e,simpleBody:t}),O=()=>({type:r.Xj}),R=()=>({type:r.Lf,i13nModel:{mKey:o.e.HIDE_RIGHT_RAIL_AD,sec:o.g.RIGHT_RAIL}}),N=({i13nModel:e})=>({type:r.Pl,i13nModel:e}),M=e=>n()({type:r.ei},e),D=({i13nModel:e})=>({type:r.nl,i13nModel:e}),y=()=>({type:r.mf}),L=({i13nModel:e})=>({type:r.L,i13nModel:e}),v=({i13nModel:e})=>({type:r.Ki,i13nModel:e}),P=({i13nModel:e})=>({type:r.Ji,i13nModel:e}),F=({i13nModel:e})=>({type:r.Ii,i13nModel:e}),w=({i13nModel:e,adPosition:t})=>({type:r.Ve,adPosition:t,i13nModel:e}),k=({i13nModel:e,adPosition:t,errorCode:s,errorMessage:a})=>({type:r.Ue,adPosition:t,errorCode:s,errorMessage:a,i13nModel:e}),x=({i13nModel:e})=>({type:r.Qi,i13nModel:e})},function(e,t,s){"use strict";var a=s(6);t.a=Object(a.defineMessages)({move_msgs:{id:"move_msgs",defaultMessage:"Move the selected {conversations, select, true {conversations} false {messages}} to another folder"},mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"},confirm_delete_title:{id:"message_list.confirm_delete_title",defaultMessage:"Delete message"},confirm_delete_messages:{id:"message_list.confirm_delete_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} to Trash?"},confirm_permanently_delete_messages:{id:"message_list.confirm_permanently_delete_messages",defaultMessage:"Are you sure you want to permanently delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}"},confirm_move_title:{id:"message_list.confirm_move_title",defaultMessage:"Move messages"},confirm_move_messages:{id:"message_list.confirm_move_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},confirm_spam_title:{id:"message_list.confirm_spam_title",defaultMessage:"Spam messages"},confirm_spam_messages:{id:"message_list.confirm_spam_messages",defaultMessage:"Are you sure you want to mark {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} as spam?"},confirm_ham_title:{id:"message_list.confirm_ham_title",defaultMessage:"Mark as not spam"},confirm_ham_messages:{id:"message_list.confirm_ham_messages",defaultMessage:"Are you sure you want to mark {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} as not spam?"},confirm_archive_title:{id:"message_list.confirm_archive_title",defaultMessage:"Archive message"},confirm_archive_messages:{id:"message_list.confirm_archive_messages",defaultMessage:"Are you sure you want to archive {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},confirm_restore_title:{id:"message_list.confirm_restore_title",defaultMessage:"Archive message"},confirm_restore_messages:{id:"message_list.confirm_restore_messages",defaultMessage:"Are you sure you want to restore {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},sort_menu:{id:"sort_menu",defaultMessage:"Sort"},sort_by_date_desc:{id:"sort_by_date_desc",defaultMessage:"Date: Newest on top"},sort_by_date_asc:{id:"sort_by_date_asc",defaultMessage:"Date: Oldest on top"},sort_by_unread:{id:"sort_by_unread",defaultMessage:"Unread"},sort_by_flagged:{id:"sort_by_flagged",defaultMessage:"Starred"},sort_by_sender:{id:"sort_by_sender",defaultMessage:"Sender"},sort_by_recipient:{id:"sort_by_recipient",defaultMessage:"Recipient"},sort_by_subject:{id:"sort_by_subject",defaultMessage:"Subject"},sort_by_asc:{id:"sort_by_asc",defaultMessage:"Date: Oldest on top"},sort_by_desc:{id:"sort_by_desc",defaultMessage:"Date: Newest on top"},sort_by_relevance:{id:"sort_by_relevance",defaultMessage:"Relevance"},sort_by_attachment:{id:"sort_by_attachment",defaultMessage:"Attachments"},list_filter_from:{id:"list_filter_from",defaultMessage:"From"},list_filter_to:{id:"list_filter_to",defaultMessage:"To"},list_filter_all:{id:"list_filter_all",defaultMessage:"All"},delete_msg_group:{id:"delete_msg_group",defaultMessage:"Delete all these messages"},move_msg_group:{id:"move_msg_group",defaultMessage:"Move these messages to another folder"},close:{id:"close",defaultMessage:"Close"},message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},previous:{id:"button.previous",defaultMessage:"Previous {conversations, select, true {conversation} false {message}} [  Left ]"},next:{id:"button.next",defaultMessage:"Next {conversations, select, true {conversation} false {message}} [  Right ]"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},photos_from_email:{id:"photos_from_email_label",defaultMessage:"Photos from email"},photos:{id:"photos_label",defaultMessage:"Photos"},documents:{id:"document_label",defaultMessage:"Documents from email"},disable_move_msgs_across_accunts:{id:"disable_move_msgs_across_accounts",defaultMessage:"Messages can't be moved across mailboxes."},disable_move_msgs_default:{id:"disable_move_msgs_default",defaultMessage:"Messages can't be moved."}})},,function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"e",function(){return u}),s.d(t,"d",function(){return _}),s.d(t,"c",function(){return m}),s.d(t,"k",function(){return p}),s.d(t,"m",function(){return h}),s.d(t,"l",function(){return g}),s.d(t,"g",function(){return E}),s.d(t,"i",function(){return I}),s.d(t,"h",function(){return S}),s.d(t,"n",function(){return C}),s.d(t,"f",function(){return f}),s.d(t,"a",function(){return T}),s.d(t,"j",function(){return A});var a=s(4),n=s.n(a),r=s(39),i=s.n(r),o=s(2),c=s(11),d=s(0);const l=e=>{let t=e.name,s=e.value,a=i()(e,["name","value"]);return(e,r)=>{const i=Object(c.b)(r());return t===d.zd.NOTIFICATION&&(0,i.isMobileRoute)()?(t=d.zd.MOBILE_NOTIFICATION,s=Boolean(s)):t===d.zd.NOTIFICATION&&(t=d.zd.DESKTOP_NOTIFICATION,s=s?1:0),e(n()({},a,{name:t,value:s,type:o.lj}))}},u=({i13nModel:e})=>(t,s)=>{const a=((0,Object(c.b)(s()).getSetting)(d.zd.PREVIEW_PANE)+1)%Object.keys(d.Rc).length;return t({name:d.zd.PREVIEW_PANE,value:a,i13nModel:e,type:o.lj})},_=e=>n()({type:o.mj},e),m=e=>n()({type:o.kj},e),p=e=>n()({},e,{type:o.s}),h=e=>n()({},e,{type:o.t}),g=e=>n()({},e,{type:o.r}),E=e=>n()({},e,{type:o.Bj}),I=e=>n()({},e,{type:o.Cj}),S=e=>n()({},e,{type:o.Aj}),C=e=>n()({},e,{type:o.Ak}),f=e=>{const t=e.filters,s=i()(e,["filters"]);return n()({type:o.yj,name:d.zd.MESSAGE_FILTERS,value:t},s,{runV3:!0})},T=e=>n()({},e,{type:o.gj}),A=e=>n()({type:o.Gi},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"b",function(){return u});var a=s(31),n=s.n(a),r=s(0);const i={FOLDERS:"in",FROM:"from",TO:"to",SUBJECT:"subject",BEFORE:"before",AFTER:"after",HAS:"has",ATTACHMENT_TYPE:"attachmenttype"},o={ATTACHMENT:"attachment",PHOTO:"image",CALENDAR_INVITE:"calendar"};function c(e=""){return(e.match(/([a-z]*:"[^"]*")|([a-z]*:[^\s]*)/g)||[]).reduce((e,t)=>{const s=t.match(/^([a-z]*):(.*)$/),a=n()(s,3),r=a[1];return Object.assign(e,{[r]:[...e[r]||[],a[2]]})},{})}function d(e,t="",s=!1){const a=new RegExp(`(${e}:"[^"]*")|(${e}:[^\\s]*)`,"g");return s?t.replace(a,""):t.replace(a,"").trim()}function l(e,t=!1){if(!e)return{};const s=c(e),a={};let n=e;["FOLDERS","FROM","TO","SUBJECT","AFTER","BEFORE"].forEach(e=>{const o=i[e],c=s[o]||[];1===c.length&&(a[r.p[e]]="BEFORE"===e||"AFTER"===e?c[0].replace(/"/g,""):c[0],n=d(o,n,t))});const l=s[i.HAS]||[];return["ATTACHMENT","PHOTO"].forEach(e=>{a[r.p[e]]=-1!==l.indexOf(o[e]),n=n.replace(`${i.HAS}:${o[e]}`,"")}),a[r.p.CALENDAR_INVITE]=-1!==(s[i.ATTACHMENT_TYPE]||[]).indexOf(o.CALENDAR_INVITE),(n=(n=n.replace(`${i.ATTACHMENT_TYPE}:${o.CALENDAR_INVITE}`,"")).replace(new RegExp("^\\s*"),"")).trim()&&(a[r.p.KEYWORD]=n),a}function u(e){const t=[],s=e[r.p.FOLDERS],a=e[r.p.FROM],n=e[r.p.TO],c=e[r.p.SUBJECT],d=e[r.p.KEYWORD],l=e[r.p.BEFORE],u=e[r.p.AFTER],_=e[r.p.ATTACHMENT],m=e[r.p.PHOTO],p=e[r.p.CALENDAR_INVITE];return s&&t.push(`${i.FOLDERS}:${s}`),a&&t.push(`${i.FROM}:${a}`),n&&t.push(`${i.TO}:${n}`),c&&t.push(`${i.SUBJECT}:${c}`),_&&t.push(`${i.HAS}:${o.ATTACHMENT}`),m&&t.push(`${i.HAS}:${o.PHOTO}`),p&&t.push(`${i.ATTACHMENT_TYPE}:${o.CALENDAR_INVITE}`),u&&t.push(`${i.AFTER}:"${u}"`),l&&t.push(`${i.BEFORE}:"${l}"`),d&&t.push(d),t.join(" ")}},function(e,t,s){"use strict";s.d(t,"n",function(){return f}),s.d(t,"o",function(){return T}),s.d(t,"a",function(){return A}),s.d(t,"b",function(){return b}),s.d(t,"s",function(){return O}),s.d(t,"t",function(){return R}),s.d(t,"e",function(){return N}),s.d(t,"c",function(){return M}),s.d(t,"j",function(){return D}),s.d(t,"g",function(){return y}),s.d(t,"k",function(){return L}),s.d(t,"h",function(){return v}),s.d(t,"i",function(){return P}),s.d(t,"m",function(){return F}),s.d(t,"f",function(){return w}),s.d(t,"l",function(){return k}),s.d(t,"q",function(){return j}),s.d(t,"v",function(){return H}),s.d(t,"r",function(){return B}),s.d(t,"d",function(){return V}),s.d(t,"u",function(){return W}),s.d(t,"p",function(){return q});var a=s(4),n=s.n(a),r=s(2),i=s(0),o=s(41),c=s(10),d=s(62),l=s(18),u=s(11),_=s(56);function m(e,t){const s=(0,Object(u.b)(e.store.getState()).getFeaturesSelectors)();return t.length>=s.getSetting("bulkActionDialogThreshold")}function p(e,{sourceListId:t,fromMessageGroupView:s,destinationFolderId:a,messageIds:o,messageGroupIds:c,nextGroupId:d,streamId:l,streamItem:_,i13nModel:p}){const h=c.length,g=m(e,c),E=(0,Object(u.b)(e.store.getState()).getFeaturesSelectors)().isEnabled(i.ub.CONVERSATIONS);if(0===(o=S(e,t,a,o,s)).length)return;const I={triageActionType:i.ne.MOVE_SELECTED_ITEMS,count:h,conversations:E,folderId:a},C={triageActionType:i.ne.MOVE_SELECTED_ITEMS,count:h,conversations:E};e.dispatch(r.vh,{messageIds:o,destinationFolderId:a,isAsync:g,count:h,folderId:a,conversations:E,nextGroupId:d,listId:t,streamId:l,streamItem:_,i13nModel:p,triageActionType:i.ne.MOVE_SELECTED_ITEMS,isV2Action:!0,fromMessageGroupView:s,checkForDuplicates:c.length<=i.bb,successAction:n()({type:r.tl},I),failureAction:n()({type:r.sl},C)})}function h(e,{messageIds:t,sourceListId:s,fromMessageGroupView:a,destinationFolderType:n,flags:r,isAsync:i,checkForDuplicates:o}){const c=(0,Object(u.b)(e.store.getState()).__getFolderIdMapFromFolderType)(t,n);return Object.keys(c).map(t=>{let n=c[t];return n=S(e,s,t,n,a),Object.assign({destinationFolderId:t,messageIds:n,checkForDuplicates:o,isAsync:i},r&&{flags:r})})}function g(e,{sourceListId:t,streamId:s,streamItem:a,i13nModel:n,fromMessageGroupView:o,destinationFolderType:c,messageIds:d,messageGroupIds:l,flags:_,triageActionType:p,checkForDuplicates:g}){const E=m(e,l),I=h(e,{sourceListId:t,destinationFolderType:c,messageIds:d,messageGroupIds:l,fromMessageGroupView:o,flags:_,isAsync:E,checkForDuplicates:g});if(0===(d=I.reduce(function(e,t){return e.concat(t.messageIds)},[])).length)return;const S=l.length,C=(0,Object(u.b)(e.store.getState()).getFeaturesSelectors)().isEnabled(i.ub.CONVERSATIONS);e.dispatch(r.vh,{messageIds:d,destinationFolderType:c,isAsync:E,i13nModel:n,successAction:{type:r.tl,triageActionType:p,count:S,conversations:C},failureAction:{type:r.sl,triageActionType:p,count:S,conversations:C},count:S,conversations:C,listId:t,fromMessageGroupView:o,triageActionType:p,streamId:s,streamItem:a,checkForDuplicates:I.some(e=>e.checkForDuplicates),isV2Action:!0})}function E(e,t){return t&&t===i.Cb.SENT||!t?e:function(e){return Object(d.d)(e,e=>e!==i.Cb.SENT)}(e)}const I=[{moveFrom:i.Cb.DRAFT,allow:!1},{moveTo:i.Cb.DRAFT,allow:!1},{moveTo:i.Cb.SENT,allow:!1}];function S(e,t=null,s,a,n){const r=Object(u.b)(e.store.getState()).__patchV2MessageId__,l=Object(u.b)(e.store.getState()),_=l.getFeaturesSelectors,m=l.doesFolderIdExist,p=l.getPrimaryFolderTypeByFolderId,h=p(s);let g=a.map(e=>r(e,t));const S=Object(c.o)(t),C=S&&m(S)&&p(S)||null,f=_().isEnabled(i.ub.CONVERSATIONS);return n?h!==i.Cb.TRASH&&(g=E(g,C)):g=E(g=function(e,t,s){if(t&&s){const s={[i.Cb.TRASH]:!0,[i.Cb.BULK]:!0};return s[t]?Object(d.d)(e,e=>e===t):Object(d.d)(e,e=>!s[e])}return e}(g,C,f),C),function(e,t){return e.filter(e=>{const s=Object(o.o)(e.folder);let a=!0;return I.some(e=>{let n=!1;return e.hasOwnProperty("moveFrom")&&e.moveFrom===s?(a=e.allow,n=!0):e.hasOwnProperty("moveTo")&&e.moveTo===t&&(a=e.allow,n=!0),n}),a})}(g,h).map(({id:e})=>e)}function C(e,{messageIds:t,flags:s,itemId:a,streamId:n,streamItem:r,route:i,isRead:o,isStarred:c,i13nModel:d,persistStreamItemExpansionStates:l,triageActionType:_},{pendingActionType:m}){const p=Object(u.b)(e.store.getState()),h=p.getCurrentListId,g=p.doesMessageGroupIdExist,E=i?(0,p.getMainStreamItems)(i):void 0,I=h();g(a)&&e.dispatch(m,{i13nModel:d,isV2Action:!0,messageIds:t,itemId:a,listId:I,streamId:n,streamItem:r,streamItems:E,flags:s,isRead:o,isStarred:c,persistStreamItemExpansionStates:l,triageActionType:_})}function f(e,{listId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:i,i13nModel:o}){return p(e,{sourceListId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:i,i13nModel:o})}function T(e,{listId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:i,i13nModel:o}){return p(e,{sourceListId:t,fromMessageGroupView:!0,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:i,i13nModel:o})}function A(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o}){return g(e,{destinationFolderType:i.Cb.ARCHIVE,sourceListId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o,triageActionType:i.ne.ARCHIVE_SELECTED_ITEMS})}function b(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o}){return g(e,{fromMessageGroupView:!0,destinationFolderType:i.Cb.ARCHIVE,messageIds:s,messageGroupIds:a,sourceListId:t,streamId:n,streamItem:r,i13nModel:o,triageActionType:i.ne.ARCHIVE_SELECTED_ITEMS})}function O(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o}){return g(e,{destinationFolderType:i.Cb.INBOX,sourceListId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o,triageActionType:i.ne.RESTORE_SELECTED_ITEMS})}function R(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o}){return g(e,{destinationFolderType:i.Cb.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,streamId:n,streamItem:r,i13nModel:o,triageActionType:i.ne.RESTORE_SELECTED_ITEMS})}function N(e,t){const s=t.messageGroupIds,a=t.permanent,o=t.listId,c=t.fromMessageGroupView,d=t.conversationsFlagFromAction,l=void 0===d||d,_=Object(u.b)(e.store.getState()),p=_.__patchV2MessageId__,g=_.getRoute,E=_.isPermDeleteFolderType,I=(0,_.getFeaturesSelectors)().isEnabled(i.ub.CONVERSATIONS)&&l,S=m(e,s),C=s.length<=i.bb;let f,T=t.messageIds;if(g().name===i.gd.SEARCH){let t=null,a=null;const n=T.map(e=>p(e)).filter(({folder:e})=>E(e.id)).map(({id:e})=>e),r=T.map(e=>p(e)).filter(({folder:e})=>!E(e.id)).map(({id:e})=>e);r.length&&(t=h(e,{destinationFolderType:i.Cb.TRASH,sourceListId:o,fromMessageGroupView:c,messageIds:r,messageGroupIds:s,checkForDuplicates:C,isAsync:S})),n.length&&(a={messageIds:n,checkForDuplicates:C,isAsync:S}),f={trashPayload:t,deletePayload:a}}else a?f={messageIds:T,checkForDuplicates:C,isAsync:S}:T=(f=h(e,{destinationFolderType:i.Cb.TRASH,sourceListId:o,fromMessageGroupView:c,messageIds:T,messageGroupIds:s,checkForDuplicates:C,isAsync:S})).reduce((e,{messageIds:t})=>e.concat(t),[]);const A=s.length;if(0===T.length)return;const b={triageActionType:i.ne.DELETE_SELECTED_ITEMS,count:A,conversations:I,permanent:a},O={triageActionType:i.ne.DELETE_SELECTED_ITEMS,count:A,conversations:I};e.dispatch(r.ce,Object.assign({},t,{isV2Action:!0,triageActionType:i.ne.DELETE_SELECTED_ITEMS,messageIds:T,successAction:n()({type:r.tl},b),failureAction:n()({type:r.sl},O),count:A,conversations:I,checkForDuplicates:C,isAsync:S}))}function M(e,{listId:t,messageIds:s,messageGroupIds:a,permanent:n,streamId:r,streamItem:o,i13nModel:c,conversationsFlagFromAction:d}){return N(e,{i13nModel:c,listId:t,streamId:r,streamItem:o,destinationFolderType:i.Cb.TRASH,messageIds:s,fromMessageGroupView:!0,messageGroupIds:a,permanent:n,conversationsFlagFromAction:d})}function D(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o}){return g(e,{destinationFolderType:i.Cb.BULK,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{spam:!0},streamId:n,streamItem:r,i13nModel:o,triageActionType:i.ne.SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=i.bb})}function y(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o}){return g(e,{destinationFolderType:i.Cb.INBOX,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{ham:!0},streamId:n,streamItem:r,i13nModel:o,triageActionType:i.ne.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=i.bb})}function L(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o}){return g(e,{destinationFolderType:i.Cb.BULK,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{spam:!0,read:!0},streamId:n,streamItem:r,i13nModel:o,triageActionType:i.ne.SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=i.bb})}function v(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:n,streamItem:r,i13nModel:o}){return g(e,{destinationFolderType:i.Cb.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{ham:!0},streamId:n,streamItem:r,i13nModel:o,triageActionType:i.ne.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=i.bb})}function P(e,{messageIds:t,itemId:s,streamId:a,streamItem:n,route:o,i13nModel:c,persistStreamItemExpansionStates:d}){return C(e,{i13nModel:c,messageIds:t,itemId:s,isRead:!1,flags:{read:!0},streamId:a,streamItem:n,route:o,persistStreamItemExpansionStates:d,triageActionType:i.ne.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:r.li})}function F(e,{messageIds:t,itemId:s,streamId:a,streamItem:n,i13nModel:o}){return C(e,{i13nModel:o,messageIds:t,itemId:s,isRead:!0,flags:{read:!1},streamId:a,streamItem:n,triageActionType:i.ne.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:r.li})}function w(e,{messageIds:t,itemId:s,streamId:a,streamItem:n,i13nModel:o}){return C(e,{i13nModel:o,messageIds:t,itemId:s,isStarred:!1,flags:{flagged:!0},streamId:a,streamItem:n,triageActionType:i.ne.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:r.bk})}function k(e,{messageIds:t,itemId:s,streamId:a,streamItem:n,i13nModel:o}){return C(e,{i13nModel:o,messageIds:t,itemId:s,isStarred:!0,flags:{flagged:!1},streamId:a,streamItem:n,triageActionType:i.ne.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:r.bk})}const x=i.O.Modes;function U(e,t,s,a,i,o=!1){return e.dispatch(r.ch,n()({i13nModel:i,composeMode:a,triggeredFromContextMenu:o},G(e,t,s)))}function G(e,t,s){const a=s.id||s.messageId,n=Object(u.b)(e.store.getState()),r=n.doesMessageBodyExist,o=n.findReplyForwardCsidsOfMessage,c=n.getDraftMessageId,d=n.isSent,m=(0,n.getCurrentListId)(),p=Object(_.a)([m]),h=(0,Object(u.b)(e.store.getState()).getFeaturesSelectors)().isEnabled(i.ub.CONVERSATIONS),g=(o(a)||[]).filter(e=>!c(e)&&!d(e)),E=g.length?g[0]:Object(l.g)(),I=(0,Object(u.b)(e.store.getState()).getMessageBodiesSelectors)().get;return{csid:E,listId:m,messageGroupId:t,conversationsMode:h,groupId:t,streamId:p,messageId:a,secure:!1,full:!0,message:Object.assign({},s,{id:a,body:r(a)?I(a):void 0})}}function j(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1}){return U(e,t,s,x.REPLY,a,n)}function H(e,{messageGroupId:t,message:s,selectedReplySuggestion:a,i13nModel:i,triggeredFromContextMenu:o=!1}){return function(e,t,s,a,i,o,c=!1){return e.dispatch(r.ch,n()({selectedReplySuggestion:a,i13nModel:o,composeMode:i,triggeredFromContextMenu:c},G(e,t,s)))}(e,t,s,a,x.REPLY_ALL,i,o)}function B(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1}){return U(e,t,s,x.REPLY_ALL,a,n)}function V(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1}){return U(e,t,s,x.FORWARD,a,n)}function W(e,{messageGroupId:t,message:s,composeMode:a,i13nModel:n}){return U(e,t,s,a,n)}function q(e,{messageId:t}){const s=Object(u.b)(e.store.getState()).getSelectedMailboxId,a=e.mailAPIClient,n=a.wssid,r=a.appId,o=a.ymreqidGenerator.generate(),c=s();window.open(`${i.we}/ws/v3/mailboxes/@.id==${c}/messages/@.id==${t}/content/rawplaintext?appId=${r}&ymreqid=${o}&wssid=${n}`,"_blank")}},function(e,t,s){"use strict";var a=s(107),n=s(38),r=s(21),i=s(25),o=s(9),c=s(132),d=s(44);class l{constructor(e={}){Object(r.a)(e.loggerName,"loggerName is missing");const t=e.loggerParams,s=void 0===t?{}:t,a=e.crumb,n=e.wssid,i=e.isOnline,o=void 0===i?()=>!0:i,c=e.endpoints,d=void 0===c?{}:c;this.loggerName=e.loggerName,this.loggerParams=s,this.endpoints=d,a&&(this.crumbValue=a),n&&(this.wssid=n),this.isOnline=o,this.getMailboxParams=()=>({})}get crumb(){return this.crumbValue||""}set crumb(e){e&&(this.crumbValue=e)}get wssid(){return Object(i.b)()?l.wssid||"":this.wssidValue||""}set wssid(e){e&&(Object(i.b)()?l.wssid=e:this.wssidValue=e)}setRequestBlocked(e=!1){Object(i.b)()&&(l.requestBlocked=e)}isRequestBlocked(e=!0){return!!Object(i.b)()&&(e&&l.requestBlocked)}getRequestBlockedPromise(){return Promise.reject(new n.a("BaseClient.RequestBlocked",{errorCode:"REQUEST_BLOCKED",statusCode:0}))}logRequest(e,t,s="",a=0){this._logRequest(e,t,s,a).catch(()=>{})}_logRequest(e,t,s,r){const i=this.isOnline(),l=Object.assign({isOnline:i},this.loggerParams,t),u=s||this.loggerName,_=a.a.feature(u,l);return e.then(e=>{if(!e)throw new n.a("BaseClient.EmptyResponse");_.logSuccessAndLatency();const t=(e||{}).error,s=void 0===t?{}:t;if(s.message===d.u||s.message===d.h||s.message===d.p)throw s}).catch(e=>{e=this.handleCommonError(e),this.isRetryableError(e,r,l.apiName)||(!1===Object(o.a)(e,"data.isOnline",!0)&&(l.isOnline=!1),c.a(a.a,u,l,e))})}handleAuthError(e){return null}handleYdodError(e){if(429===e.statusCode)return this.setRequestBlocked(!0),e}handleWssidReissueError(e){return null}handleCommonError(e){let t=null;return e=n.a.errorify(e),t||(t=this.handleAuthError(e)),t||(t=this.handleYdodError(e)),t||(t=this.handleWssidReissueError(e)),t||e}setMailboxParams(e){this.getMailboxParams=e}isRetryableError(e,t){return!1}shouldRetry(e,t){return!(!t||!t.status||408!==t.status)||(!e||!e.code||"ECONNRESET"!==e.code)&&void 0}}l.wssid="",l.requestBlocked=!1,t.a=l},function(e,t,s){"use strict";var a=s(74);t.a=s.n(a).a.create("norrin/app")},,function(e,t,s){"use strict";s.d(t,"e",function(){return l}),s.d(t,"d",function(){return u}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return m}),s.d(t,"g",function(){return p}),s.d(t,"f",function(){return h}),s.d(t,"c",function(){return g});var a=s(0),n=s(2),r=s(7),i=s(9),o=s(57),c=s.n(o);const d=["atwMN","atwKV","atwCrPr"];function l(e,t){switch(t){case a.gd.FOLDER:return e.launchFolder;case a.gd.NEW_DRAFT:case a.gd.EDIT_DRAFT:return e.launchCompose;case a.gd.MESSAGE_FROM_FOLDER_LIST:return e.launchMessage;default:return e.root}}const u=e=>{if(!e)return"";let t=e.indexOf("//")>-1?e.toLowerCase().split("/")[2]:e.toLowerCase().split("/")[0];return t=(t=(t=(t=t.split(":")[0].split("?")[0].split(".com")).length>2?t[t.length-2]:t[0]).indexOf("www.")>-1?t.split("www.")[1].split("."):t.split("www.")[0].split("."))[t.length-1]},_=(e,t,s="viglink")=>e?"groupon"===u(e)?`https://tracking.groupon.com/r?tsToken=US_AFF_0_208635_1799561_0&url=${encodeURIComponent(e)}&wid=maildirect`:"priceGrabber"===s?`http://link.sylikes.com/?publisherId=${t}&url=${encodeURIComponent(e)}`:`https://redirect.viglink.com?u=${encodeURIComponent(e)}&key=${t}`:e,m=Object(i.c)([n.Ql,n.M,n.ch,n.Pg,n.di,n.Zf,n.ce,n.dj,n.Bi,n.El,n.Wi,n.Ti,n.ah,n.K,n.vj,n.rc,n.vh,n.bg,n.Li,n.mf]),p=e=>{switch(e.type){case n.Y:return e.isVisible;case n.Hi:return e.isPaneVisible;case n.Lh:return e.route.name!==a.gd.SPONSORED_MESSAGE;case n.fk:return e.previewPane!==a.Rc.NO;case n.Kh:return e.online&&e.rotateAdsOnline;case n.zk:return e.forceSync&&Object(i.a)(e,"i13nModel.mKey",null)===r.e.PULL_TO_REFRESH;case n.Pb:case n.Ob:return e.rotateAds;case n.ah:return!1;default:return!!m[e.type]}},h=e=>{let t="";return"nz"===e?t="https://secure-nz.imrworldwide.com/cgi-bin/m?ci=nz-yahoo&rnd=${rand}&cg=0&si=${curPage}&rp=${prevPage}&cc=1":"au"===e&&(t="https://secure-au.imrworldwide.com/cgi-bin/m?ci=yahoo-au&rnd=${rand}&cg=0&si=${curPage}&rp=${prevPage}&cc=1"),t},g=(e,t)=>{const s={};return t.query&&Object.keys(t.query).forEach(e=>{-1!==d.indexOf(e)&&(s[e]=t.query[e])}),Object.keys(s).length?`https://${e}?${c.a.stringify(s)}`:`https://${e}`}},function(e,t,s){"use strict";s.d(t,"b",function(){return m}),s.d(t,"a",function(){return p});var a=s(31),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(40),l=s(14),u=(s(53),s(9)),_=s(12);const m={MOUNT:1,CLICK:2,HOVER:4,HOVER_DELAYED:8},p={HOVER_OUT_ANCHOR:1,HOVER_OUT:2,CLICK:4,DRAG_START:8};class h extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{popoverShown:!1}),i()(this,"hideOnScroll",()=>{this.state.popoverShown&&this.handlePopoverHide()}),i()(this,"handleClick",()=>{const e=this.state.popoverShown,t=this.props;e||(t.triggerOn&m.CLICK)!==m.CLICK?e&&(t.triggerOff&p.CLICK)===p.CLICK&&this.setState({popoverShown:!1}):this.setState({popoverShown:!0})}),i()(this,"handleDragStart",()=>{this.state.popoverShown&&(this.props.triggerOff&p.DRAG_START)===p.DRAG_START&&this.setState({popoverShown:!1})}),i()(this,"handleMouseOver",()=>{clearTimeout(this._hideTimeout);const e=this.props,t=e.triggerOn,s=e.triggerDelayTime;(t&m.HOVER)===m.HOVER?this.setState({popoverShown:!0}):(t&m.HOVER_DELAYED)===m.HOVER_DELAYED&&(this._shownTimeout=setTimeout(()=>{this.setState({popoverShown:!0})},s))}),i()(this,"handleMouseOut",e=>{const t=this.state.popoverShown,s=this.props.triggerOff;clearTimeout(this._shownTimeout),t&&(this.refs.anchor!==e.target&&!this.refs.anchor.contains(e.target)||(s&p.HOVER_OUT_ANCHOR)!==p.HOVER_OUT_ANCHOR?(s&p.HOVER_OUT)===p.HOVER_OUT&&(this._hideTimeout=setTimeout(()=>{this.setState({popoverShown:!1})},0)):this.setState({popoverShown:!1}))}),i()(this,"handlePopoverHide",()=>{clearTimeout(this._shownTimeout),this.setState({popoverShown:!1})})}componentWillUnmount(){clearTimeout(this._shownTimeout),clearTimeout(this._hideTimeout);const e=this.props.scrollContainer;if(e)if(e.current){const t=Object(u.a)(e,"current.removeEventListener");"function"==typeof t&&t("scroll",this.hideOnScroll,!1)}else e.removeEventListener&&e.removeEventListener("scroll",this.hideOnScroll,!1)}componentDidMount(){const e=this.props,t=e.scrollContainer;e.disabled||(e.triggerOn&m.MOUNT==m.MOUNT?this.setState({popoverShown:!0}):this.forceUpdate(),t&&(t.current?t.current.addEventListener("scroll",this.hideOnScroll,!1):t.addEventListener("scroll",this.hideOnScroll,!1)))}componentDidUpdate(e,t){this.state.popoverShown!==t.popoverShown&&(this.state.popoverShown?this.props.onShown():this.props.onHide())}render(){const e=this.props,t=e.align,s=e.arrowSize,a=e.disabled,r=e.isArrowVisible,i=e.offset,o=e.permittedArrowDirections,l=e.persistent,u=e.zAltitude,_=e.collapseArrowWrapper,m=e.contentComfortThreshold,p=c.a.Children.toArray(this.props.children),h=n()(p,2),g=h[1],E=!a&&this.state.popoverShown;return c.a.createElement("span",null,c.a.cloneElement(h[0],a?{ref:"anchor"}:{onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onDragStart:this.handleDragStart,ref:"anchor"}),E&&this.refs.anchor?c.a.createElement(d.b,{popoverAnchor:this.refs.anchor,arrowSize:s,align:t,offset:i,permittedArrowDirections:o,zAltitude:u,onMouseOver:e=>{this.handleMouseOver(e),this.props.onContentMouseOver(e)},onMouseOut:e=>{this.handleMouseOut(e),this.props.onContentMouseOut(e)},onClick:this.handleClick,onHide:this.handlePopoverHide,persistent:l,isArrowVisible:r,collapseArrowWrapper:_,overflowScroll:!0,contentComfortThreshold:m},g||this.props.children[1]):null)}}i()(h,"defaultProps",{disabled:!1,stopClickPropagation:!1,onShown:()=>{},onHide:()=>{},onContentMouseOver:()=>{},onContentMouseOut:()=>{},persistent:!1,zAltitude:_.ZIndices.POPOVER.MEDIUM,isArrowVisible:!0,collapseArrowWrapper:!1,contentComfortThreshold:l.f}),t.c=h},function(e,t,s){"use strict";s.r(t),s.d(t,"makeArray",function(){return m}),s.d(t,"hasInvalidComposeField",function(){return p}),s.d(t,"hasInvalidComposeHeader",function(){return h}),s.d(t,"hasInvalidComposeFields",function(){return g}),s.d(t,"hasTooFewComposeFields",function(){return E}),s.d(t,"hasTooManyComposeFields",function(){return I}),s.d(t,"getInvalidEmails",function(){return S}),s.d(t,"_getAccountFieldFromSelection",function(){return C}),s.d(t,"getFromAddress",function(){return f}),s.d(t,"getFromAddressForReplyForward",function(){return T}),s.d(t,"getSixDigitHexColor",function(){return A}),s.d(t,"getInitialFocusRef",function(){return b}),s.d(t,"addressHTMLString",function(){return O}),s.d(t,"getCaretCoordinates",function(){return R}),s.d(t,"getFontSizeStyle",function(){return N}),s.d(t,"getLocalizedFontFamilyName",function(){return M}),s.d(t,"isJSONString",function(){return D}),s.d(t,"buildRecipients",function(){return y}),s.d(t,"getAttachmentDisposition",function(){return L}),s.d(t,"extractPidFromString",function(){return v}),s.d(t,"getFileFromDataURI",function(){return P});var a=s(31),n=s.n(a),r=s(18),i=s(48),o=s(30),c=s(2),d=s(47),l=s(0),u=s(84),_=s(36);function m(e){return""===e||null==e?[]:Array.isArray(e)?e.slice(0):[e]}function p(e){const t=e.to,s=e.cc,a=e.bcc,n=S(t,s,a)||[];return n.length?{name:c.lc,params:{invalidAddresses:n}}:t&&t.length||s&&s.length||a&&a.length?t.length+s.length+a.length>u.f?{name:c.pc}:null:{name:c.oc}}function h(e){return g(e)||E(e)||I(e)}function g(e){const t=e.to,s=e.cc,a=e.bcc,n=S(void 0===t?[]:t,void 0===s?[]:s,void 0===a?[]:a)||[];return n.length?{name:c.lc,params:{invalidAddresses:n}}:null}function E(e){const t=e.to,s=e.cc,a=e.bcc;return(void 0===t?[]:t).length+(void 0===s?[]:s).length+(void 0===a?[]:a).length<=0?{name:c.oc}:null}function I(e){const t=e.to,s=e.cc,a=e.bcc;return(void 0===t?[]:t).length+(void 0===s?[]:s).length+(void 0===a?[]:a).length>u.f?{name:c.pc}:null}function S(){let e=[];return Array.prototype.slice.call(arguments).forEach(function(t){e=e.concat(t)}),e.map(({email:e})=>e).filter(e=>!Object(r.n)(e))}function C(e,t){let s;const a=Object(i.c)(e);return t&&(s=a.find(({email:e})=>e===t)),s||(s=a.find(({isSending:e})=>!!e)),s||(s=a[0]||e[0]),s}function f(e,t){return C(e,t)}function T(e,t={}){const s=Object(i.c)(e);let a;return["to","cc","bcc"].forEach(e=>{a||(e=new Set(t[e].map(({email:e})=>e)),a=s.find(({email:t})=>e.has(t)))}),a||s.find(({isSending:e})=>!!e)||s.find(({isPrimary:e})=>!!e)||s[0]}function A(e){let t,s;if("number"==typeof e){for(e=e.toString(16);e.length<6;)e="0"+e;e="#"+(e=e.substr(4,2)+e.substr(2,2)+e.substr(0,2))}return"string"==typeof e&&(e.indexOf("rgb")>-1&&(t=e.split("(")[1].split(")")[0],e="#"+(s=(t=t.split(",")).map(function(e){return 1===(e=parseInt(e,10).toString(16)).length?"0"+e:e})).join("")),4===e.length)?e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e}function b({focusSubject:e,initialTo:t=[],initialSubject:s=""}){let a=o.FocusableRefs.EDITOR;return e?a=o.FocusableRefs.SUBJECT:0===t.length?a=o.FocusableRefs.TO:0===s.length&&(a=o.FocusableRefs.SUBJECT),a}function O({name:e,email:t}){return e||(e=`"${t}"`),`${e} &lt;${t}&gt;`}function R(e){const t=window.getSelection(),s=e.getBoundingClientRect();let a=0,n=0;if(t&&t.rangeCount){const e=t.getRangeAt(0).cloneRange();if(e.getClientRects){e.collapse(!0);const t=e.getClientRects();if(t.length>0){const e=t[0];a=e.left-s.left,n=e.top-s.top}}if(0===a&&0===n){const t=document.createElement("span");if(t.getClientRects){t.appendChild(document.createTextNode("")),e.insertNode(t);const r=t.getClientRects(),i=t.parentNode;if(r.length>0){const e=r[0];a=e.left-s.left,n=e.top-s.top}i.removeChild(t),i.normalize()}}}return{x:a,y:n}}function N(e){const t=Math.min(Number(e),7),s=u.d.find(e=>e.fontSize===t);return s?s.value:u.c.MEDIUM}function M(e,t=""){const s=_.a["font_family_label_"+t.toLowerCase()];return s?e(s):null}function D(e){try{return JSON.parse(e),!0}catch(e){return!1}}function y(e){return e.reduce((e,t=[])=>e.concat(t.map(({email:e})=>e)),[]).filter(e=>Object(r.n)(e))}function L(e){const t=e.type.split("/");let s;return(s=t.length>1?Object(d.d)(t[0],t[1]):Object(d.d)(e.type,e.subtype))===l.w.SimplifiedTypes.IMAGE?l.w.Dispositions.INLINE:l.w.Dispositions.ATTACHMENT}function v(e){const t=/https:\/\/.*?mail.(yahoo|aol).com.*?(?:\?|&)pid=([0-9]*)/i;if(t.test(e)){const s=t.exec(e);return n()(s,3)[2]}return""}function P(e){const t=e.match(/^(data):(.+)?;(.+?),/);if(!t||!window.atob)return null;const s=e.split(",")[1];let a;const n=(a="base64"===t[3]?atob(s):window.unescape(s)).length,r=t[2],i=new Uint8Array(n);for(let e=0;e<n;e++)i[e]=a.charCodeAt(e);const o=new Blob([i],{type:r});return o.name=`dataURI-${Date.now()}`,o.lastModifiedDate=new Date,o.isFromDataURI=!0,o}},function(e,t,s){"use strict";s.d(t,"o",function(){return n}),s.d(t,"n",function(){return r}),s.d(t,"f",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"t",function(){return d}),s.d(t,"r",function(){return l}),s.d(t,"s",function(){return u}),s.d(t,"m",function(){return _}),s.d(t,"l",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"a",function(){return h}),s.d(t,"b",function(){return g}),s.d(t,"k",function(){return E}),s.d(t,"j",function(){return I}),s.d(t,"q",function(){return S}),s.d(t,"p",function(){return C}),s.d(t,"g",function(){return f}),s.d(t,"i",function(){return T}),s.d(t,"h",function(){return A});var a=s(2);const n=({retailers:e,listIds:t})=>({type:a.Fi,retailers:e,listIds:t}),r=(e,t)=>({type:a.Ei,listIds:e,error:t}),i=({retailers:e,listIds:t,i13nModel:s})=>({type:a.vg,retailers:e,listIds:t,i13nModel:s}),o=(e,t,s,n)=>({type:a.tg,retailerId:e,error:t,errorHint:s,i13nModel:n}),c=({retailerId:e="",loyaltyId:t="",linked:s=null,parentName:n=""}={})=>({type:a.ug,retailerId:e,loyaltyId:t,linked:s,parentName:n}),d=({retailers:e,listIds:t})=>({type:a.Yk,retailers:e,listIds:t}),l=(e,t)=>({type:a.Wk,retailerId:e,error:t}),u=({retailerId:e=""}={})=>({type:a.Xk,retailerId:e}),_=({listId:e="",offers:t=[],search:s=""})=>({type:a.Jh,listId:e,offers:t,search:s}),m=(e,t)=>({type:a.Ih,listId:e,error:t}),p=(e=[],t="",s={})=>({type:a.D,listId:t,offers:e,i13nModel:s}),h=e=>({type:a.B,error:e}),g=({contextOfUse:e="",retailerId:t="",offer:s={},offerRowIndex:n=-1,offerIndexInRow:r=-1,search:i=""}={})=>({contextOfUse:e,type:a.C,retailerId:t,offer:s,offerRowIndex:n,offerIndexInRow:r,search:i}),E=({listId:e="",offers:t=[],numActivatedOffers:s=0})=>({type:a.A,listId:e,offers:t,numActivatedOffers:s}),I=(e,t)=>({type:a.z,listId:e,error:t}),S=({retailerId:e="",totalSavings:t=0,offersUsed:s=0}={})=>({type:a.Pi,retailerId:e,totalSavings:t,offersUsed:s}),C=e=>({type:a.Oi,error:e}),f=(e={})=>({type:a.fg,i13nModel:e.i13nModel}),T=(e={})=>({type:a.ji,i13nModel:e.i13nModel}),A=({retailerId:e=""}={})=>({type:a.fi,retailerId:e})},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=s(3),c=s.n(o),d=(s(8),s(1)),l=s.n(d),u=s(20),_=(s(5),s(9),s(90)),m=s.n(_),p=s(650),h=s.n(p),g=s(13);const E=s.n(g)()(h.a);t.a=class extends l.a.Component{constructor(...e){super(...e),c()(this,"state",{hovered:!1}),c()(this,"handleHover",e=>{this.setState({hovered:e})})}render(){const e=this.props,t=e.colorStates,s=i()(e,["colorStates"]),a=!this.props.disabled&&this.state.hovered?t.hovered:t.normal;return l.a.createElement(u.a,n()({title:""},s,{className:m()(this.props.className||"",E.button),onMouseOver:this.handleHover.bind(this,!0),onMouseOut:this.handleHover.bind(this,!1),colorState:a}))}}},function(e,t,s){"use strict";s.d(t,"s",function(){return i}),s.d(t,"n",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return l}),s.d(t,"p",function(){return u}),s.d(t,"o",function(){return _}),s.d(t,"r",function(){return m}),s.d(t,"q",function(){return p}),s.d(t,"b",function(){return h}),s.d(t,"c",function(){return g}),s.d(t,"i",function(){return E}),s.d(t,"j",function(){return I}),s.d(t,"l",function(){return S}),s.d(t,"k",function(){return C}),s.d(t,"h",function(){return f}),s.d(t,"g",function(){return T}),s.d(t,"a",function(){return A}),s.d(t,"m",function(){return b});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.Tf},e),o=e=>n()({type:r.Sf},e),c=e=>n()({type:r.Vc},e),d=e=>n()({type:r.Wc},e),l=e=>n()({type:r.Uc},e),u=e=>n()({type:r.zc},e),_=e=>n()({type:r.yc},e),m=e=>n()({type:r.Bc},e),p=e=>n()({type:r.Ac},e),h=e=>n()({type:r.Sd},e),g=e=>n()({type:r.Qd},e),E=e=>n()({type:r.xc},e),I=e=>n()({type:r.vc},e),S=e=>n()({type:r.Oc},e),C=e=>n()({type:r.Mc},e),f=e=>n()({type:r.Hc},e),T=e=>n()({type:r.Fc},e),A=e=>n()({type:r.I},e);function b(e){return n()({type:r.De},e)}},function(e,t,s){"use strict";s.d(t,"o",function(){return u}),s.d(t,"p",function(){return _}),s.d(t,"a",function(){return m}),s.d(t,"b",function(){return p}),s.d(t,"t",function(){return h}),s.d(t,"u",function(){return g}),s.d(t,"c",function(){return E}),s.d(t,"d",function(){return I}),s.d(t,"k",function(){return S}),s.d(t,"h",function(){return C}),s.d(t,"l",function(){return f}),s.d(t,"i",function(){return T}),s.d(t,"j",function(){return A}),s.d(t,"n",function(){return b}),s.d(t,"g",function(){return O}),s.d(t,"m",function(){return R}),s.d(t,"v",function(){return N}),s.d(t,"s",function(){return M}),s.d(t,"r",function(){return D}),s.d(t,"f",function(){return y}),s.d(t,"e",function(){return L}),s.d(t,"q",function(){return v});var a=s(31),n=s.n(a),r=s(71),i=s(0),o=s(2),c=s(10),d=s(11);function l(e,t,s=(()=>!0)){const a=Object(d.b)(e.store.getState()),n=a.getMessageIdsFromMessageGroupId,r=a.__getMessageWithFlagsAndFolderId,i=t.map(e=>{return n(e).filter(e=>{const t=r(e);return s(t)})});return[].concat(...i)}function u(e,{destinationFolderId:t,listId:s,messageGroupIds:a,streamId:n,streamItem:i,i13nModel:o}){r.n(e,{destinationFolderId:t,listId:s,streamId:n,streamItem:i,messageIds:l(e,a),messageGroupIds:a,i13nModel:o})}function _(e,{destinationFolderId:t,listId:s,messageGroupIds:a,streamId:n,streamItem:i,i13nModel:o}){r.o(e,{listId:s,streamId:n,streamItem:i,destinationFolderId:t,messageIds:l(e,a),messageGroupIds:a,i13nModel:o})}function m(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:i}){r.a(e,{listId:t,streamId:a,streamItem:n,messageIds:l(e,s),messageGroupIds:s,i13nModel:i})}function p(e,{messageGroupIds:t,listId:s,streamId:a,streamItem:n,i13nModel:i}){r.b(e,{messageIds:l(e,t),messageGroupIds:t,listId:s,streamId:a,streamItem:n,i13nModel:i})}function h(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:i}){r.s(e,{listId:t,streamId:a,streamItem:n,messageIds:l(e,s),messageGroupIds:s,i13nModel:i})}function g(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:i}){r.t(e,{listId:t,streamId:a,streamItem:n,messageIds:l(e,s),messageGroupIds:s,i13nModel:i})}function E(e,{listId:t,messageGroupIds:s,permanent:a,streamId:n,streamItem:o,i13nModel:c,batchRemoveItems:u,batchDelete:_}){let m=l(e,s);if(0!==m.length){if(a){const t=Object(d.b)(e.store.getState()).__isPermDeleteMessage;m=m.filter(e=>{return t(e)})}return r.e(e,{listId:t,streamId:n,streamItem:o,isV2Action:!0,destinationFolderType:i.Cb.TRASH,messageIds:m,messageGroupIds:s,permanent:a,i13nModel:c,batchRemoveItems:u,batchDelete:_})}}function I(e,{listId:t,permanent:s,messageGroupIds:a,streamId:n,streamItem:i,i13nModel:o}){const c=Object(d.b)(e.store.getState()).doesMessageGroupIdExist,u=a.filter(e=>c(e));0!==u.length&&r.c(e,{messageGroupIds:u,messageIds:l(e,u),permanent:s,listId:t,streamId:n,streamItem:i,i13nModel:o})}function S(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:i}){r.j(e,{listId:t,streamId:a,streamItem:n,messageIds:l(e,s),messageGroupIds:s,i13nModel:i})}function C(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:i}){r.g(e,{listId:t,streamId:a,streamItem:n,messageIds:l(e,s),messageGroupIds:s,i13nModel:i})}function f(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:i}){r.k(e,{listId:t,streamId:a,streamItem:n,messageIds:l(e,s),messageGroupIds:s,i13nModel:i})}function T(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:i}){r.h(e,{listId:t,streamId:a,streamItem:n,messageIds:l(e,s),messageGroupIds:s,i13nModel:i})}function A(e,{messageGroupIds:t,streamId:s,streamItem:a,i13nModel:n}){r.i(e,{itemId:t[0],messageIds:l(e,t,e=>!e.flags.read),streamId:s,streamItem:a,i13nModel:n})}function b(e,{messageGroupIds:t,streamId:s,streamItem:a,i13nModel:n}){r.m(e,{itemId:t[0],messageIds:l(e,t,e=>e.flags.read),streamId:s,streamItem:a,i13nModel:n})}function O(e,{messageGroupIds:t,streamId:s,streamItem:a,i13nModel:n}){r.f(e,{itemId:t[0],messageIds:l(e,t,e=>!e.flags.flagged),streamId:s,streamItem:a,i13nModel:n})}function R(e,{messageGroupIds:t,streamId:s,streamItem:a,i13nModel:n}){r.l(e,{itemId:t[0],messageIds:l(e,t,e=>e.flags.flagged),streamId:s,streamItem:a,i13nModel:n})}function N(e,{messageGroupIds:t,i13nModel:s}){const a=n()(t,1)[0],i=(0,Object(d.b)(e.store.getState()).__getLastNonDraftMessageIdByGroupId)(a);r.p(e,{messageId:i,i13nModel:s})}function M(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:a=!1}){const n=Object(d.b)(e.store.getState()),i=(0,n.__getMessageWithFlagsAndFolderId)((0,n.__getLastNonDraftMessageIdByGroupId)(t));r.q(e,{messageGroupId:t,message:i,i13nModel:s,triggeredFromContextMenu:a})}function D(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:a=!1}){const n=Object(d.b)(e.store.getState()),i=(0,n.__getMessageWithFlagsAndFolderId)((0,n.__getLastNonDraftMessageIdByGroupId)(t));r.r(e,{messageGroupId:t,message:i,i13nModel:s,triggeredFromContextMenu:a})}function y(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:a=!1}){const n=Object(d.b)(e.store.getState()),i=(0,n.__getMessageWithFlagsAndFolderId)((0,n.__getLastNonDraftMessageIdByGroupId)(t));r.d(e,{messageGroupId:t,message:i,i13nModel:s,triggeredFromContextMenu:a})}function L(e,{listId:t,card:s}){const a=s.messageId,n=s.csid,r=s.streamId,d=s.folderType;if(!a&&!n)return;const l=Object(c.W)(t,{listContentType:d===i.Cb.DRAFT?i.Pb.COMPOSE:i.Pb.MESSAGE});e.dispatch(o.Qg,{streamId:r,streamItem:{id:a||n,listId:l},card:s})}function v(e,{downloadUrl:t}){e.dispatch(o.bb,{downloadUrl:t})}},function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"b",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"a",function(){return c});var a=s(0),n=s(9);const r=a.le,i=Object(n.c)(["TIMECHUNK"]),o=4,c=Object(n.c)(["LEFT","CENTER","RIGHT","NONE"])},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return d}),s.d(t,"c",function(){return l}),s.d(t,"e",function(){return u}),s.d(t,"d",function(){return _});var a=s(1),n=s.n(a),r=s(82);const i=/^\^_+|\^_+$/g;function o(e,t){let s=-1;if(t&&e){const t=e.indexOf("^_");if(-1!==t){s=t/e.length}}return s>.66?r.a.RIGHT:s>.33?r.a.CENTER:s>=0?r.a.LEFT:r.a.NONE}function c(e){return e.split(/(\^_[^^]*?\^_)/g)}function d(e=null,t,s){return e&&t?function(e,t){return c(e).map(function(e){return 0===e.indexOf("^_")?n.a.createElement("span",{key:e,className:t,"data-test-id":"highlight"},e.replace(i,"")):e})}(e,s):e}function l(e,t,s){if(e&&t&&s){let a="",n=0,r=0,i=t.exec(e);for(;null!==i;)a+=e.substring(r,i.index),n=i.index,r=i.index+i[0].length,i.length>1&&(r=(n=e.indexOf(i[1],n))+i[1].length),a+=e.substring(i.index,n)+"^_"+e.substring(n,r)+"^_"+e.substring(r,i.index+i[0].length),r=i.index+i[0].length,i=t.flags&&t.flags.includes("g")?t.exec(e):null;a+=e.substring(r),e=d(a,s,s)}return e}function u(e=null){if(e){return c(e).map(function(e){return 0===e.indexOf("^_")?e.replace(i,""):e}).join("")}return e}function _(e,t,s,a){if(!e)return s;return d(function(e,t,s,a){const n=(e=e.trim()).length;let r=t;if(0===n)return t;s||(r=r.toLowerCase(),e=e.toLowerCase());const i=r.indexOf(e,0);return i>-1&&(t=t.slice(0,i)+a+t.slice(i,i+n)+a+t.slice(i+n)),t}(t,s,!1,"^_"),!0,a)}},function(e,t,s){"use strict";s.d(t,"e",function(){return n}),s.d(t,"d",function(){return r}),s.d(t,"b",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"f",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"g",function(){return l});var a=s(9);const n=[{name:"modern",label:"Modern",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},{name:"modernwide",label:"Modern Wide",fontFamily:"verdana, helvetica, sans-serif"},{name:"classic",label:"Classic",fontFamily:'"times new roman", "new york", times, serif'},{name:"classicwide",label:"Classic Wide",fontFamily:'"bookman old style", "new york", times, serif'},{name:"courier",label:"Courier New",fontFamily:'"courier new", courier, monaco, monospace, sans-serif'},{name:"garamond",label:"Garamond",fontFamily:'garamond, "new york", times, serif'},{name:"lucida",label:"Lucida Console",fontFamily:'"lucida console", sans-serif'}],r=[{name:"tiny",fontSize:1,value:"10px"},{name:"small",fontSize:2,value:"13px"},{name:"medium",fontSize:3,value:"16px"},{name:"large",fontSize:5,value:"24px"},{name:"xlarge",fontSize:6,value:"32px"},{name:"huge",fontSize:7,value:"48px"}],i={10:"1",13:"2",16:"3",24:"5",32:"6",48:"7"},o={TINY:"10px",SMALL:"13px",MEDIUM:"16px",LARGE:"24px",XLARGE:"32px",HUGE:"48px"},c=100,d={EDITOR:"editor",FROM:"from",TO:"to",SUBJECT:"subject",CC:"cc",BCC:"bcc"},l=Object(a.c)(["SENDING","SENT","SEND_FAILED"])},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"b",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"a",function(){return c});var a=s(0),n=s(10);function r(e){return e&&e.types?e.types[0]:""}function i(e,t={}){let s={};switch(e){case a.Kd.UNREAD:s={keyword:a.Hd.UNREAD,excludefolders:[a.Cb.ARCHIVE],referrer:a.Rb[a.Kd.UNREAD]};break;case a.Kd.STARRED:s={keyword:a.Hd.STARRED,referrer:a.Rb[a.Kd.STARRED]};break;case a.Kd.PHOTOS:s={listContentType:a.Pb.IMAGES,referrer:a.Rb[a.Kd.PHOTOS],listFilter:a.Qb.ALL_PHOTOS};break;case a.Kd.DOCUMENTS:s={listContentType:a.Pb.DOCUMENTS,referrer:a.Rb[a.Kd.DOCUMENTS]};break;case a.Kd.COUPONS:s={listContentType:a.Pb.COUPON_CARDS,referrer:a.Rb[a.Kd.COUPONS],listFilter:a.Qb.ALL_COUPON_CARDS};break;case a.Kd.GROCERIES:s={listContentType:a.Pb.GROCERY_STORES,referrer:a.Rb[a.Kd.GROCERIES],listFilter:a.Qb.LINKED_GROCERY_STORES};break;case a.Kd.GROCERIESV2:s={listContentType:a.Pb.OFFER_CARDS,referrer:a.Rb[a.Kd.GROCERIESV2],listFilter:a.Qb.RECOMMENDED_OFFER_CARDS,name:t.name,keyword:t.keyword||""};break;case a.Kd.RECEIPTS:s={listContentType:a.Pb.REFUND_CARDS,referrer:a.Rb[a.Kd.RECEIPTS],listFilter:a.Qb.ALL_REFUND_CARDS};break;case a.Kd.TRAVEL:s={excludefolders:[a.Cb.TRASH,a.Cb.BULK],listContentType:a.Pb.TRAVEL_CARDS,sortOrder:a.Od.CARD_DATE_ASC,listFilter:a.Qb.TRAVEL_VIEW_UPCOMING,referrer:a.Rb[a.Kd.TRAVEL]};break;case a.Kd.TRAVEL_PAST:s={excludefolders:[a.Cb.TRASH,a.Cb.BULK],listContentType:a.Pb.TRAVEL_CARDS,sortOrder:a.Od.CARD_DATE_DESC,listFilter:a.Qb.TRAVEL_VIEW_PAST,referrer:a.Rb[a.Kd.TRAVEL]};break;case a.Kd.TRAVEL_EMAILS:s={keyword:a.Hd.TRAVEL,listContentType:a.Pb.MESSAGES,sortOrder:a.Od.DATE_DESC,referrer:a.Rb[a.Kd.TRAVEL]};break;case a.Kd.PEOPLE:s={listFilter:a.Qb.PEOPLE,excludefolders:[a.Cb.TRASH,a.Cb.BULK],referrer:a.Rb[a.Kd.PEOPLE]};break;case a.Kd.SHOPPING_EMAILS:s={listFilter:a.Qb.SHOPPING,excludefolders:[a.Cb.TRASH,a.Cb.BULK],referrer:a.Rb[a.Kd.COUPONS]}}return e!==a.Kd.GROCERIES&&e!==a.Kd.GROCERIESV2||!t.accountIds||(t.accountIds=[]),s.excludefolders&&t.excludefolders&&(s.excludefolders=t.excludefolders),delete t.excludefolders,Object.assign(s,t)}function o(e){const t=Object(n.t)(e),s=Object(n.A)(e);return Object(n.H)(e)&&t===a.Pb.MESSAGES&&s===a.Id[a.Kd.TRAVEL]}function c(e){const t=e.split(":");if(2!==t.length)return null;const s=function(e){return Object.keys(a.hb).find(t=>a.hb[t]===e)||null}(t[0]);return s&&a.ie.indexOf(s)>-1?{name:s,status:parseInt(t[1],10)||0}:null}},function(e,t,s){"use strict";var a=s(74);t.a=s.n(a).a.create("norrin/info")},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o});var a=s(4),n=s.n(a);const r={};function i(e={},t,s){var a=e.appName,i=e[t],o=Date.now(),c=r[t];return e.collectConfigAccess&&(r[t]=n()({name:t,boolean:i,firstTime:c?c.firstTime:o,lastTime:o},a&&{appName:a},s&&{note:s})),void 0===i?null:i}function o(e={},t,s){var a=e.appName,i=e[t],o=Date.now(),c=r[t];return e.collectConfigAccess&&(r[t]=n()({name:t,setting:i,firstTime:c?c.firstTime:o,lastTime:o},a&&{appName:a},s&&{note:s})),void 0===i?null:i}},function(e,t,s){"use strict";s.d(t,"d",function(){return u}),s.d(t,"a",function(){return _}),s.d(t,"f",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"b",function(){return h}),s.d(t,"e",function(){return E});const a=/'/g,n="",r=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,i=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/;function o(e){return e.charCodeAt(0)>=1568}function c(e){return(e=e.slice(-1))&&o(e)&&r.test(e)}function d(e){return(e=e[0])&&o(e)&&i.test(e)}const l=(e="",t="")=>{const s=_(t);return e.search(new RegExp(`(^${s}| +${s})`,"i"))};function u(e="",t=""){let s=l(e,t);if(s>0&&s++,s>=0){const a=s+t.length;return function(e,t=n){return e.forEach((e,s,a)=>{0!==s&&d(e)&&c(a[s-1])&&(a[s-1]=a[s-1]+t,a[s]=t+a[s]),a[s+1]&&c(e)&&d(a[s+1])&&(a[s+1]=t+a[s+1],a[s]=a[s]+t)}),e}([e.substring(0,s),e.substring(s,a),e.substring(a)])}return[e]}function _(e=""){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function m(e,t,s){var a="";return s=void 0!==s?s:"...",a=e=e||"",e.length>(t=t||0)&&(a=e.substr(0,t-s.length)+s),a}function p(e=""){return e.replace(a,'"')}function h(e){return!e||!e.trim().length}const g=/(^[\u200C\s]*|[\u200C\s]*$)/g;function E(e){return"string"!=typeof e?e:e.replace(g,"")}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(9);const n=Object(a.c)(["TopLeft","TopCenter","TopRight","CenterLeft","CenterCenter","CenterRight","BottomLeft","BottomCenter","BottomRight"])},,function(e,t,s){"use strict";s.d(t,"i",function(){return _}),s.d(t,"e",function(){return m}),s.d(t,"d",function(){return p}),s.d(t,"g",function(){return h}),s.d(t,"f",function(){return g}),s.d(t,"b",function(){return E}),s.d(t,"a",function(){return I}),s.d(t,"k",function(){return S}),s.d(t,"m",function(){return C}),s.d(t,"l",function(){return f}),s.d(t,"o",function(){return T}),s.d(t,"j",function(){return A}),s.d(t,"n",function(){return b}),s.d(t,"h",function(){return O}),s.d(t,"c",function(){return R});var a=s(4),n=s.n(a),r=s(2),i=s(11),o=s(0),c=s(18),d=s(7),l=s(49),u=s(255);const _=e=>n()({type:r.di},e);function m(e){return n()({type:r.Mg},e)}function p(e){return n()({type:r.Kg},e)}function h(e){return n()({type:r.Ug},e)}function g(e){return n()({type:r.Tg},e)}const E=e=>t=>{const s=e.itemsToUpdate,a=s.length?s[s.length-1]:void 0;return t(n()({},e,{streamItem:{listId:a.listId,id:a.messageId},type:r.Pg}))},I=e=>(t,s)=>{const a=e.listId,o=e.streamId,c=e.messageGroupId,d=e.expansionState,l=Object(i.b)(s()),u=l.getMessageGroupStreamItems,_=l.getCursorItem,m=(0,l.doesStreamExist)(o)?_(o):void 0,p=c?{id:c,listId:a}:m;if(p)return t({itemsToUpdate:u(p).map(e=>n()({},e,{expansionState:d})),type:r.Rg})},S=e=>n()({type:r.Wg},e),C=e=>n()({type:r.Zg},e),f=e=>n()({type:r.Xg},e),T=({i13nModel:e,streamId:t,composeMode:s,listId:a,triggeredFromContextMenu:n=!1})=>(d,l)=>{const u=Object(i.b)(l()),_=u.__getLastNonDraftMessageIdByGroupId,m=u.__getMessageWithFlagsAndFolderId,p=u.doesMessageBodyExist,h=u.findReplyForwardCsidsOfMessage,g=u.getMessageBodiesSelectors,E=u.getDraftMessageId,I=u.isSent,S=u.isFeatureEnabled,C=u.getCursorItem,f=(0,u.doesStreamExist)(t)?C(t):void 0;if(!f)return;const T=_(f.id),A=m(T),b=S(o.ub.CONVERSATIONS),O=(h(T)||[]).filter(e=>!E(e)&&!I(e)),R=O.length?O[0]:Object(c.g)(),N=g().get;return d({type:r.ch,i13nModel:e,csid:R,listId:a,composeMode:s,messageGroupId:f.id,conversationsMode:b,streamId:t,groupId:f.id,messageId:T,triggeredFromContextMenu:n,secure:!1,full:!0,message:Object.assign({},A,{id:T,body:p(T)?N(T):void 0})})},A=({i13nModel:e,messageGroupId:t,message:s})=>(a,n)=>{const c=Object(i.b)(n()),d=c.getMessageBodiesSelectors,l=c.isFeatureEnabled,u=(0,c.getCurrentListId)(),_=d().isSecureMessage,m=l(o.zd.SHOW_IMAGES),p=s.id||s.messageId;return a({type:r.Yg,i13nModel:e,messageGroupId:t,mId:p,listId:u,messageId:p,full:!0,secure:_(p)&&m})},b=({streamId:e,listId:t,groupId:s,i13nModel:a})=>(n,c)=>{const d=Object(i.b)(c()),l=d.doesStreamExist,u=d.getSelectedStreamItems,_=d.getCursorItem,m=d.getMessageBodiesSelectors,p=d.isFeatureEnabled,h=d.__getLastNonDraftMessageIdByGroupId,g=l(e)?u(e):[],E=l(e)?_(e):void 0;let I;if(s)I=s;else if(g.length>0)I=g[0].id;else{if(!E)return;I=E.id}const S=m().isSecureMessage,C=p(o.zd.SHOW_IMAGES),f=h(I);return n({type:r.Yg,i13nModel:a,messageGroupId:I,mId:f,listId:t,messageId:f,full:!0,secure:S(f)&&C})},O=({listId:e,streamId:t,messageRoute:s,groupId:a,senders:r,i13nModel:c})=>(m,p)=>{const h=Object(i.b)(p()),g=h.isFeatureEnabled,E=(0,h.getSetting)(o.zd.PREVIEW_PANE),I=g(o.ub.GEMINI_CONTEXTUAL_ADS);return m(E===o.Rc.NO?Object(l.j)({route:s,streamItem:{listId:e,id:a},i13nModel:n()({mKey:d.e.OPEN_MSG,sec:d.g.MSG_LIST_MSG,mKeyGroup:d.f.open_msg},c)}):_({listId:e,itemId:a,streamId:t,streamItem:{listId:e,id:a},i13nModel:n()({mKey:d.e.OPEN_MSG,sec:d.g.MSG_LIST_MSG,mKeyGroup:d.f.open_msg},c),geminiCategories:I?Object(u.b)(r):null}))},R=({linkTarget:e,messageId:t,message:s})=>{const a=e.getAttribute("href");let n=e.innerText||"";for(let t=0;t<e.childElementCount;t++)if("IMG"===e.children[t].tagName&&e.children[t].alt){n=e.children[t].alt;break}if(n=n.trim().slice(0,256),e.hasAttribute("class")&&-1!==e.getAttribute("class").indexOf("yahoo-enhancr-cardlink")){const i=e.parentNode&&e.parentNode.hasAttribute("data-size")?e.parentNode.getAttribute("data-size").toUpperCase():"";return{type:r.ng,message:s,messageId:t,i13nModel:{mKey:d.e.LINK_ENHANCER_OPEN_LINK,sec:d.g.MSG_BODY,actionData:{mHref:a,size:i,altText:n}}}}return{type:r.Og,message:s,messageId:t,i13nModel:{mKey:d.e.OPEN_LINK,sec:d.g.MSG_BODY,actionData:{mHref:a,altText:n}}}}},function(e,t,s){"use strict";var a=s(15),n=s(177),r=s(11),i=s(0);t.a=Object(a.connect)(function(e,{folderId:t,isCountVisible:s}){const a=Object(r.b)(e).getFoldersSelectors(),n=a.getFolderName(t),o=a.getFolderDisplayTypeByFolderId(t);let c;return s&&(c=o===i.Xd.DRAFT?a.getFolderTotal(t):a.getFolderUnreadCount(t)),{name:n,folderDisplayType:o,count:c}})(n.a)},function(e,t,s){"use strict";s.d(t,"c",function(){return p}),s.d(t,"u",function(){return h}),s.d(t,"a",function(){return g}),s.d(t,"s",function(){return E}),s.d(t,"b",function(){return I}),s.d(t,"t",function(){return S}),s.d(t,"g",function(){return C}),s.d(t,"f",function(){return f}),s.d(t,"e",function(){return T}),s.d(t,"d",function(){return A}),s.d(t,"l",function(){return b}),s.d(t,"m",function(){return O}),s.d(t,"k",function(){return R}),s.d(t,"r",function(){return N}),s.d(t,"q",function(){return M}),s.d(t,"o",function(){return D}),s.d(t,"p",function(){return y}),s.d(t,"n",function(){return L}),s.d(t,"h",function(){return v}),s.d(t,"i",function(){return P}),s.d(t,"j",function(){return F});var a=s(4),n=s.n(a),r=s(39),i=s.n(r),o=s(0),c=s(2),d=s(10),l=s(11);const u=(e=!0)=>t=>{let s=t.cardMid,a=t.schemaId,r=i()(t,["cardMid","schemaId"]);return(t,i)=>{const u=Object(l.b)(i()),_=u.getSelectedAccountId,m=u.getCouponsSelectors,p=(0,(0,u.getMessagesSelectors)().getParentMessageIdForCardConversationId)((0,m().getCardConversationId)(a)),h=_(),g=Object(d.W)("{}",{listContentType:o.Pb.COUPON_CARDS,listFilter:e?o.Qb.SAVED_COUPON_CARDS:o.Qb.ALL_COUPON_CARDS,accountIds:[h],referrer:o.Rb[o.Kd.COUPONS]});t(n()({type:e?c.qd:c.vd,listId:g,streamId:g,messageDecosPayloads:[{messageId:s}],parentMessageId:p,messageId:s,schemaCard:{id:a,type:o.qd.Coupon,clipped:e},accountId:h},r))}},_=e=>t=>n()({type:e},t),m=e=>t=>({type:e,error:t}),p=(e={})=>_(c.rd)(e),h=(e={})=>_(c.wd)(e),g=e=>m(c.pd)(e),E=e=>m(c.ud)(e),I=(e={})=>u(!0)(e),S=(e={})=>u(!1)(e),C=()=>({type:c.Pl}),f=()=>({type:c.Bd}),T=(e="")=>({type:c.Ad,listId:Object(d.e)({referrer:o.Rb.COUPON_RECOMMENDATIONS,keyword:e})}),A=()=>({type:c.zd}),b=(e={})=>n()({type:c.Se},e),O=(e={})=>_(c.Te)(e),R=e=>m(c.Re)(e),N=()=>({type:c.cj}),M=()=>({type:c.bj}),D=e=>({type:c.Th,cardConversationId:e}),y=e=>n()({},e,{type:c.Uh}),L=e=>({error:e,type:c.Sh}),v=({i13nModel:e})=>({type:c.xd,i13nModel:e}),P=({i13nModel:e})=>({type:c.Nd,i13nModel:e}),F=({i13nModel:e})=>({type:c.Od,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"f",function(){return L}),s.d(t,"a",function(){return v}),s.d(t,"l",function(){return P}),s.d(t,"c",function(){return k}),s.d(t,"b",function(){return x}),s.d(t,"d",function(){return U}),s.d(t,"p",function(){return H}),s.d(t,"e",function(){return B}),s.d(t,"n",function(){return V}),s.d(t,"g",function(){return W}),s.d(t,"k",function(){return q}),s.d(t,"o",function(){return Y}),s.d(t,"j",function(){return X}),s.d(t,"i",function(){return Q}),s.d(t,"h",function(){return $}),s.d(t,"m",function(){return J});var a=s(31),n=s.n(a),r=s(4),i=s.n(r),o=s(9),c=s(0),d=s(33),l=s.n(d),u=s(279),_=s(18),m=s(124);const p=/^smtp:(\S+)/,h=/^adr:/,g=/^tel:(.*)/,E=e=>e.match(p)[1],I=e=>{const t=[],s={};return e.filter(({ep:e})=>p.test(e)).forEach(({ep:e,type:a})=>{const n=E(e);t.push(n),s[n]=a&&u.e[a.toUpperCase()]?a:u.d.EMAIL}),{emails:t,emailType:s}},S=/^(?:https?|ftp):(?:\/\/)?/i,C={FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin"},f=i()({NAME:"name",POSITION:"position",COMPANY:"company"},C,{WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes",NICKNAME:"nickname"}),T=e=>e?!(e=e.trim())||S.test(e)?e:`http://${e}`:e,A=e=>"ke"===e||"user"===e||"yahoo"===e,b=e=>{const t=e.replace("adr:","").split(";"),s={street:t[3],city:t[4],state:t[5],zipcode:t[6],country:t[7]};return Object.keys(s).find(e=>!!s[e])||(s.street=t[8]),s},O=e=>{const t=[];return e.filter(({ep:e})=>h.test(e)).forEach(({ep:e,type:s})=>{const a=b(e);t.push({addrFields:a,type:s&&u.b[s.toUpperCase()]?s:"Address"})}),{addressesWithType:t}},R=(e,t)=>t||e.match(g)[1],N=e=>{const t=[];return e.forEach(({ep:e,type:s,display:a})=>{if(!g.test(e))return;const n=R(e,a).trim();n&&t.push({number:n,type:s&&u.j[s.toUpperCase()]?s:"Phone"})}),{phonesWithType:t}},M=e=>{const t=e.split("-");for(let e=0;e<t.length;e++)1===t[e].length&&(t[e]="0"+t[e]);return t.join("-")},D=({ep:e,xobniId:t=""})=>{return{xobniId:t,emails:[e].filter(e=>/^smtp:(\S+)/.test(e)).map(e=>e.match(/^smtp:(\S+)/)[1]),name:"",phonesWithType:[],id:""}},y=e=>{const t=e||{},s=t.name,a=void 0===s?{}:s,n=t.role,r=void 0===n?{}:n,o=t.attributes,c=void 0===o?[]:o,d=t.endpoints,l=void 0===d?[]:d,u=t.is_known_entity,_=t.is_user_curated,m=t.edit_token;return i()({name:a.name||"",position:r.position,company:r.company,editToken:m,isBusiness:u,isInUserContactList:_},N(l),I(l),(({attributes:e=[]})=>{const t={};return Object.keys(C).forEach(s=>{s=C[s];const a=e.find(({source:e,key:t})=>"link"===t&&e===s||A(e)&&t===(e=>e+"_url")(s))||{},n=T(a.value);t[s]=n}),t.backyard=(e.find(({key:e,source:t})=>"user_id"===e&&"corpdir"===t)||{}).value,t})({attributes:c}),((e=[])=>{return{website:T((e.find(({key:e,source:t})=>e===f.WEBSITE&&A(t))||{}).value)}})(c),(e=>e.reduce((e,{key:t,value:s})=>{switch(t){case f.NOTES:e[t]=s;break;case f.BIRTHDAY:case f.ANNIVERSARY:e[t]=M(s);break;case f.NICKNAME:e[t]=s}return e},{}))(c),O(l))};function L({ep:e,contacts_info:t,contacts_by_ep:s,relationshipHistory:a}){if(!s||!s[e])return D({ep:e});const r=n()(s[e],1)[0];if(!t||!t[r])return D({ep:e,xobniId:r});const o=y(t[r]);return i()({xobniId:r,id:o.emails[0],relationshipHistory:a},o)}const v=e=>{const t=(e||{}).id,s=y(e);return i()({id:t},s)};function P(e){return[{category:"top",remainingCount:0,contacts:(e["contacts-with-ranks"]||[]).map(({endpoints:e=[],name:t={},id:s,edit_token:a})=>i()({id:s,editToken:a},I(e),{name:t.name,isBusiness:!1}))}]}const F=({type:e,value:t})=>{switch(e){case m.b.EMAIL:return"smtp:"+t;case m.b.PHONE:return"tel:"+t;case m.b.ADDRESS:return"adr:"+K(t);default:return t}},w=(e=[])=>e.map(e=>({ep:F(e),name:e.name})),k=({newName:e,addedEndpoints:t=[],removedEndpoints:s=[]})=>{const a={};return e&&(a.new_name=e),t.length&&(a.added_endpoints=w(t)),s.length&&(a.removed_endpoints=s.map(e=>F(e))),a},x=({name:e,endpoints:t=[]})=>({name:e,endpoints:w(t)}),U=({response:e={}})=>{const t=[],s=[];if(e){const a=e.all_groups;(void 0===a?[]:a).forEach(({id:e,name:a})=>{t.push(a),s.push(e)})}return{groups:t,groupIds:s}},G=[{type:m.b.EMAIL,validator:p,mapper:E},{type:m.b.PHONE,validator:g,mapper:R},{type:m.b.ADDRESS,validator:h,mapper:b},{type:m.b.HIDDEN,validator:/^hidden:(\S+)/,mapper:e=>e}],j=(e=[],{name:t,ep:s,contact_id:a})=>{const n={name:t,id:a||Object(_.g)(),isInUserContactList:!0},r=G.find(({validator:e})=>e.test(s));return r?(n.value=r.mapper(s),n.type=r.type,e.concat(n)):e},H=({response:e={}})=>{const t=e.r;return{contacts:(void 0===t?[]:t).reduce((e,{e:t,n:s,c:a})=>j(e,{name:s,contact_id:a,ep:t}),[])}},B=({response:e={}})=>{const t=e.endpoints;return{id:e.id,groupName:e.name,contacts:(void 0===t?[]:t).reduce(j,[])}},V=e=>({[c.Qb.PEOPLE]:0,[c.Qb.NOT_PEOPLE]:1,[c.Qb.USER_CREATED_CONTACTS]:2,[c.Qb.GROUPS]:2})[e]||0;function W({response:e,type:t,count:s}){let a,n;if(t===V(c.Qb.USER_CREATED_CONTACTS)){a=[],n=[];const t=e.available_groups,s=e.available_group_ids,r=void 0===s?[]:s;(void 0===t?[]:t).forEach((e,t)=>{e!==c.ab&&(a.push(e),n.push(r[t]?r[t]:Object(_.g)()))})}return{groups:a,groupIds:n,contacts:s?(e.contact_rank_list||[]).map(({category:e,remaining_count:s,contacts:a=[]})=>({category:e.toUpperCase(),remainingCount:s,contacts:a.map(({endpoints:e=[],id:s,name:a,edit_token:n})=>i()({id:s,editToken:n},I(e),N(e),O(e),{name:a,isInUserContactList:t===(V(c.Qb.USER_CREATED_CONTACTS)||V(c.Qb.GROUPS))}))})):void 0}}function q(e){return[{category:"search",remainingCount:0,contacts:e.map(({i:e,n:t,e:s,a_e:a})=>({id:e,name:t,emails:(s?[s]:[]).concat(a)}))}]}function z(e,t={}){const s=[],a=e.emailsWithType,n=e.phonesWithType,r=void 0===n?[]:n,i=e.addressesWithType,o=void 0===i?[]:i,c=t.emailsWithType,d=t.phonesWithType,u=t.addressesWithType;return(void 0===a?[]:a).forEach(e=>{c&&c.find(t=>t.value===e.value&&t.type===e.type)||s.push({ep:"smtp:"+e.value,type:e.type})}),r.forEach(e=>{d&&d.find(t=>t.number===e.number&&t.type===e.type)||s.push({ep:"tel:"+e.number,type:e.type})}),o.forEach(e=>{u&&u.find(t=>l()(t.addrFields,e.addrFields)&&t.type===e.type)||s.push({ep:"adr:"+K(e.addrFields),type:e.type})}),s}function K(e){return";;;"+Object(o.g)(e).join(";")+";"}function Z(e,t){const s={},a=!t;return Object.keys(f).forEach(n=>{const r=n=f[n];e[n]=e[n]||"",n===f.WEBSITE&&(e[n]=T(e[n])),a?e[n]&&(s[r]=e[n]):(t[n]=t[n]||"",t[n]!==e[n]&&(s[r]=e[n]))}),s}function Y(e){const t=e.emailsWithType,s=void 0===t?[]:t,a=e.phonesWithType,n=void 0===a?[]:a,r=e.addressesWithType,c=void 0===r?[]:r;return i()({},e,{emailsWithType:s.filter(e=>""!==e.value),phonesWithType:n.filter(e=>""!==e.number),addressesWithType:c.filter(e=>!function(e){return 0===Object(o.g)(e).filter(e=>e).length}(e.addrFields))})}function X(e,t){const s=Z(t,e);return{source:e.editToken,changes:i()({},s,{removed_endpoints:z(e,t),added_endpoints:z(t,e)})}}function Q({contact:e,image:t}){const s=Z(e=Y(e));return t&&(s.image=t),{source_contacts:[i()({},s,{endpoints:z(e)})]}}function $({response:e={}}){const t=e.preferences,s=void 0===t?{}:t,a={};return c.T.forEach(e=>{let t=s["import_time_"+e];const n=s["sync_"+e];switch(t&&(t*=1e3),(s["import_status_"+e]||{}).status){case"DONE":a[e]={status:n?c.Md.CONNECTED:c.Md.EXPIRED,lastImportedTime:t};break;case"FAIL":a[e]={status:c.Md.FAILED,lastImportedTime:t};break;case"QUEUED":a[e]={status:c.Md.QUEUED,lastImportedTime:t};break;default:a[e]={status:c.Md.NOT_CONNECTED,lastImportedTime:t}}}),a}function J({results:e={}}){return Object.keys(c.S).reduce((t,s)=>{const a=e[c.Ld[s]];return t[s]=a?{status:a.is_expired?c.Md.EXPIRED:c.Md.CONNECTED,connectedTimestamp:a.issued_ts}:{status:c.Md.NOT_CONNECTED},t},{})}},function(e,t,s){"use strict";s.d(t,"C",function(){return i}),s.d(t,"D",function(){return o}),s.d(t,"w",function(){return c}),s.d(t,"x",function(){return d}),s.d(t,"H",function(){return l}),s.d(t,"J",function(){return u}),s.d(t,"I",function(){return _}),s.d(t,"E",function(){return m}),s.d(t,"G",function(){return p}),s.d(t,"F",function(){return h}),s.d(t,"e",function(){return g}),s.d(t,"g",function(){return E}),s.d(t,"f",function(){return I}),s.d(t,"y",function(){return S}),s.d(t,"A",function(){return C}),s.d(t,"z",function(){return f}),s.d(t,"h",function(){return T}),s.d(t,"j",function(){return A}),s.d(t,"i",function(){return b}),s.d(t,"b",function(){return O}),s.d(t,"d",function(){return R}),s.d(t,"u",function(){return N}),s.d(t,"t",function(){return M}),s.d(t,"v",function(){return D}),s.d(t,"a",function(){return y}),s.d(t,"c",function(){return L}),s.d(t,"m",function(){return v}),s.d(t,"n",function(){return P}),s.d(t,"r",function(){return F}),s.d(t,"q",function(){return w}),s.d(t,"p",function(){return k}),s.d(t,"s",function(){return x}),s.d(t,"o",function(){return U}),s.d(t,"k",function(){return G}),s.d(t,"l",function(){return j}),s.d(t,"B",function(){return H});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.wj},e),o=e=>n()({type:r.xj},e),c=e=>n()({type:r.Oh},e),d=e=>n()({type:r.Nh},e),l=e=>n()({type:r.rj},e),u=e=>n()({type:r.sj},e),_=e=>n()({type:r.qj},e),m=e=>n()({type:r.nd},e),p=e=>n()({type:r.od},e),h=e=>n()({type:r.md},e),g=e=>n()({type:r.U},e),E=e=>n()({type:r.V},e),I=e=>n()({type:r.T},e),S=e=>n()({type:r.tc},e),C=e=>n()({type:r.uc},e),f=e=>n()({type:r.sc},e),T=e=>n()({type:r.qe},e),A=e=>n()({type:r.re},e),b=e=>n()({type:r.pe},e),O=e=>n()({type:r.te},e),R=e=>n()({type:r.se},e),N=e=>n()({type:r.i},e),M=e=>n()({type:r.g},e),D=e=>n()({type:r.m},e),y=e=>n()({type:r.k},e),L=e=>n()({type:r.y},e),v=e=>n()({type:r.jf},e),P=e=>n()({type:r.a},e),F=e=>n()({type:r.gi},e),w=e=>n()({type:r.Kf},e),k=e=>n()({type:r.J},e),x=e=>n()({type:r.Bh},e),U=e=>n()({type:r.b},e),G=e=>n()({type:r.jj},e),j=e=>n()({type:r.pj},e),H=({i13nModel:e={}})=>({type:r.aj,i13nModel:e})},function(e,t,s){var a=s(280);function n(e,t,s,n,r){if(!e)throw new Error("guidMd5 is required argument");if("number"!=typeof t&&"number"!=typeof s)throw new Error("clientId and sessionId are required and have to be numeric values");this.state={guiMd5Section:a.toNBits(a.hexToBin(e),64),clientIdSection:a.toNBits(t.toString(2),8),sessionSection:a.toNBits(s.toString(2),16),versionSection:a.toNBits(1..toString(2),8),randomClientSection:a.toNBits((n||Math.floor(256*Math.random())).toString(2),8),debugSection:a.toNBits((r||0).toString(2),8)},this._seq=0}n.prototype.generate=function(){var e=a.toNBits(this._getNextSeq().toString(2),16),t=[this.state.guiMd5Section,this.state.clientIdSection,this.state.sessionSection,e,this.state.versionSection,this.state.randomClientSection,this.state.debugSection].join("");return this._formatBinary(t)},n.prototype._formatBinary=function(e){var t=a.binToHex(e),s=0;return[8,4,4,4,12].map(function(e){var a=t.substr(s,e);return s+=e,a}).join("-")},n.prototype._getNextSeq=function(){return this._seq>65535&&(this._seq=0),this._seq++},n.getSeq=function(e){var t=e.substr(26,4);return parseInt(t,16)},e.exports=n},function(e,t,s){"use strict";s.d(t,"e",function(){return c}),s.d(t,"c",function(){return d}),s.d(t,"g",function(){return l}),s.d(t,"k",function(){return u}),s.d(t,"d",function(){return _}),s.d(t,"f",function(){return m}),s.d(t,"b",function(){return p}),s.d(t,"j",function(){return h}),s.d(t,"i",function(){return g}),s.d(t,"h",function(){return E});var a=s(4),n=s.n(a),r=s(2),i=s(10),o=s(0);const c=e=>n()({type:r.mh},e),d=e=>n()({type:r.jh},e),l=e=>n()({type:r.ph},e),u=e=>n()({type:r.th},e),_=e=>n()({type:r.lh},e),m=e=>n()({type:r.oh},e),p=e=>n()({type:r.ih},e),h=e=>n()({type:r.sh},e),g=e=>n()({type:r.rh},e),E=e=>n()({type:r.qh},e);t.a=e=>{switch(Object(i.t)(e.listId)){case o.Pb.COUPON_CARDS:return n()({type:r.hh},e);case o.Pb.REFUND_CARDS:return n()({type:r.nh},e);default:return n()({type:r.kh},e)}}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(9);const n=Object(a.c)(["DEFAULT","GRID","WRAP_CONTENT"])},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(9);const n=Object(a.c)(["DEFAULT","MENU","TOOLBAR"])},function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"d",function(){return c}),s.d(t,"r",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"l",function(){return u}),s.d(t,"m",function(){return _}),s.d(t,"k",function(){return m}),s.d(t,"o",function(){return p}),s.d(t,"j",function(){return h}),s.d(t,"p",function(){return g}),s.d(t,"n",function(){return E}),s.d(t,"q",function(){return I}),s.d(t,"h",function(){return S}),s.d(t,"g",function(){return C}),s.d(t,"c",function(){return f}),s.d(t,"f",function(){return T}),s.d(t,"i",function(){return A}),s.d(t,"a",function(){return b});var a=s(4),n=s.n(a),r=s(2),i=s(7);function o(e){return n()({},e,{type:r.H})}function c(e){return n()({},e,{type:r.Sb})}function d(e){return n()({},e,{type:r.rl})}function l(e){return n()({},e,{type:r.Pd})}function u(e){return n()({},e,{type:r.Bl})}function _(e){return n()({},e,{type:r.Cl})}function m(e){return n()({},e,{type:r.Al})}function p(e){return n()({},e,{type:r.El})}function h(e){return n()({},e,{type:r.zl})}function g(e){return n()({},e,{type:r.Fl})}function E(e){return n()({},e,{type:r.Dl})}function I(e){return n()({},e,{type:r.Ni})}function S(e){return n()({},e,{type:r.If})}function C(e){return n()({},e,{type:r.ii})}function f(e){return n()({},e,{type:r.Sc})}function T(e){return n()({},e,{type:r.Xc})}function A(e){return n()({},e,{type:r.ul})}function b(){return{type:r.G,i13nModel:{sec:i.g.COMPOSE_TOOLBAR,mKey:i.e.COMPOSE_ADD_BIG_ATTACHMENT}}}},function(e,t,s){"use strict";s.d(t,"m",function(){return o}),s.d(t,"l",function(){return c}),s.d(t,"n",function(){return d}),s.d(t,"o",function(){return l}),s.d(t,"p",function(){return u}),s.d(t,"d",function(){return _}),s.d(t,"c",function(){return m}),s.d(t,"h",function(){return p}),s.d(t,"g",function(){return h}),s.d(t,"j",function(){return g}),s.d(t,"i",function(){return E}),s.d(t,"a",function(){return I}),s.d(t,"k",function(){return S}),s.d(t,"b",function(){return C}),s.d(t,"f",function(){return f}),s.d(t,"e",function(){return T});var a=s(4),n=s.n(a),r=s(2),i=s(0);const o=e=>n()({},e,{type:Object.keys(i.R).includes(e.provider)?r.Zb:r.Nj}),c=e=>n()({},e,{type:Object.keys(i.R).includes(e.provider)?r.Xb:r.Lj}),d=e=>n()({},e,{type:r.Pj}),l=e=>n()({},e,{type:r.Oj}),u=e=>n()({},e,{type:r.Qj}),_=e=>n()({},e,{type:Object.keys(i.R).includes(e.provider)?r.Wb:r.Kj}),m=e=>n()({},e,{type:Object.keys(i.R).includes(e.provider)?r.Vb:r.Jj}),p=e=>n()({},e,{type:r.Sj}),h=e=>n()({},e,{type:r.Rj}),g=e=>n()({},e,{type:r.Tj}),E=e=>n()({},e,{type:r.Uj}),I=e=>n()({},e,{type:Object.keys(i.R).includes(e.provider)?r.Yb:r.Mj}),S=e=>n()({},e,{type:r.Uf}),C=e=>n()({},e,{type:r.oe}),f=e=>n()({},e,{type:r.Rc}),T=e=>n()({},e,{type:r.Qc})},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(152),l=s(13),u=s.n(l),_=s(664),m=s.n(_),p=s(474);s(9);class h extends c.a.Component{constructor(...e){super(...e),n()(this,"forceFocus",()=>{this.refs.content&&this.refs.content.focus()}),n()(this,"handleBlurCapture",e=>{this.refs.content.contains(e.relatedTarget||e.nativeEvent.explicitOriginalTarget||e.nativeEvent.srcElement)||setTimeout(this.forceFocus,0)}),n()(this,"handleKeyDown",e=>{const t=this.props,s=t.onKeyDown,a=t.onClose;e.stopPropagation(),"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),a(e)):s&&s(e)}),n()(this,"handleOuterPartClick",e=>{if(e.stopPropagation(),this.props.onOuterClick)return this.props.onOuterClick(e);this.props.onClose(e)})}componentDidMount(){this.forceFocus(),window.addEventListener("focus",this.forceFocus),this.refs.content&&(this.mousetrap=this.context.bindShortcut(["esc"],this.handleKeyDown,this.refs.content))}componentWillUnmount(){window.removeEventListener("focus",this.forceFocus),this.mousetrap&&this.context.unbindShortcut(["esc"],this.mousetrap)}render(){const e=this.props,t=e.children,s=e.kind,a=e.ariaLabelledBy,n=e.ariaDescribedBy,r=e.hideShadow,i=u()(m.a,{kind:s,hideShadow:r});return c.a.createElement(d.a,null,c.a.createElement("div",{onClick:this.handleOuterPartClick,className:i.grayOverlay,"data-test-id":"modal-outer",id:"modal-outer",role:a||n?"alertdialog":null,"aria-labelledby":a,"aria-describedby":n},c.a.createElement("div",{"data-test-id":"modal-content",className:i.container,ref:"content",onBlurCapture:this.handleBlurCapture,onKeyDown:this.handleKeyDown,onClick:g,tabIndex:0,role:a||n?"document":null},t)))}}function g(e){e.stopPropagation()}n()(h,"contextTypes",{bindShortcut:i.a.func,unbindShortcut:i.a.func}),n()(h,"defaultProps",{hideShadow:!1,kind:p.a.DARK,ariaLabelledBy:null,ariaDescribedBy:null}),t.a=h},function(e,t,s){"use strict";s.d(t,"f",function(){return i}),s.d(t,"h",function(){return o}),s.d(t,"g",function(){return c}),s.d(t,"o",function(){return d}),s.d(t,"n",function(){return l}),s.d(t,"j",function(){return u}),s.d(t,"a",function(){return _}),s.d(t,"c",function(){return m}),s.d(t,"b",function(){return p}),s.d(t,"k",function(){return h}),s.d(t,"m",function(){return g}),s.d(t,"l",function(){return E}),s.d(t,"e",function(){return I}),s.d(t,"d",function(){return S}),s.d(t,"i",function(){return C});var a=s(4),n=s.n(a),r=s(2);function i(e){return n()({type:r.p},e)}function o(e){return n()({type:r.q},e)}function c(e){return n()({type:r.o},e)}function d(e){return n()({type:r.e},e)}function l(e){return n()({type:r.d},e)}function u(e){return n()({type:r.Fe},e)}function _(e){return n()({type:r.j},e)}function m(e){return n()({type:r.l},e)}function p(e){return n()({type:r.h},e)}const h=e=>n()({type:r.w},e),g=e=>n()({type:r.x},e),E=e=>n()({type:r.v},e);function I(e){return n()({},e,{type:r.n})}function S(e){return n()({type:r.f},e)}function C(e){return n()({type:r.kf},e)}},function(e,t,s){"use strict";var a=s(26),n=s(25),r=s(74),i=s.n(r).a.create("norrin/push_notifications"),o=s(86);s.d(t,"a",function(){return m}),s.d(t,"b",function(){return p}),s.d(t,"e",function(){return h}),s.d(t,"c",function(){return g}),s.d(t,"f",function(){return E}),s.d(t,"g",function(){return S}),s.d(t,"h",function(){return C}),s.d(t,"d",function(){return f}),s.d(t,"i",function(){return A});const c={TEST:"/sw_test.js",PROD:"/sw.js"},d="/onepush/v1/public/yql?format=json",l="com.yahoo.mail.browser.chrome",u="mail",_="CR-SDK v=1;id=mail;sig=2a99128d27f0438381b5ae0124edeb97b82271265bf9dc62907b7a7f3d7abc2e",m={DEFAULT:"default",GRANTED:"granted",DENIED:"denied"},p={RENEW:"renew-subscription",SUBSCRIBE:"subscribe"};function h(){return Object(n.b)()&&"serviceWorker"in window.navigator&&"PushManager"in window&&"showNotification"in ServiceWorkerRegistration.prototype}function g(e){if(h())return window.navigator.serviceWorker.addEventListener("message",e)}function E(){return h()?window.navigator.serviceWorker.getRegistration().then(e=>e&&e.pushManager.getSubscription()).then(e=>!!e).catch(()=>!1):Promise.resolve(!1)}function I(){if(!h())return Promise.reject(new Error("Service Workers not supported"));const e=window.AppBootstrapData&&("alpha"===window.AppBootstrapData.environment||"beta"===window.AppBootstrapData.environment);return window.navigator.serviceWorker.register(e?c.TEST:c.PROD)}function S(e){const t=i.feature("push_notifications_subscription",{subscriptionIds:e});return I().then(function(e){return window.navigator.serviceWorker.ready.then(e=>e.pushManager.subscribe({userVisibleOnly:!0})).then(t=>{if(t){const s=btoa(JSON.stringify(t)),n=t.endpoint.substring(t.endpoint.lastIndexOf("/")+1);return function({channelId:e,deviceId:t,subscriptionIds:s}){const n={appId:l,accountId:u,accountKey:_,deviceId:t,channelId:e,tags:s.map(b).join(",")},r=new a.b(a.a.POST,d);return r.send(function({accountId:e,accountKey:t}){return`q=select * from cloudrepo.app_attributes where account_id="${e}" and account_key="${t}" and issue_crumb="true"`}(n)).then(e=>e.body.query.results.json.crumb).then(e=>n.crumb=e).then(()=>r.send(function({accountId:e,accountKey:t,appId:s,deviceId:a,channelId:n,crumb:r}){return`q=insert into cloudrepo.app_attributes(account_id, account_key, app_id, device_id, attributes, crumb) values("${e}", "${t}", "${s}", "${a}",'{"version":"1.0","push_addresses":{"browserw3c":{"push_app_id":"${s}","channel_id":"${n}"}},"name":"${s}"}', "${r}");`}(n))).then(()=>r.send(function({accountId:e,accountKey:t,appId:s,deviceId:a,tags:n,crumb:r}){return`q=insert into cloudrepo.user_app_tags(account_id, account_key, app_id, device_id, tags, crumb) values("${e}","${t}","${s}","${a}",'[${n}]',"${r}")`}(n))).catch(e=>{o.a.error("onepush_subscription_error",{message:e.message||"",name:e.name,statusCode:e.statusCode||"",responseText:e.data?e.data.responseText:""})})}({channelId:s,deviceId:n,subscriptionIds:e})}return Promise.reject(new Error("Subscribing failed"))})}.bind(this,e)).then(t.logSuccess).catch(e=>(t.logFailure(e),C().then(()=>Promise.reject(e),()=>Promise.reject(e))))}function C(){return h()?window.navigator.serviceWorker.getRegistration().then(e=>e&&e.pushManager.getSubscription()).then(e=>!e||e.unsubscribe().then(e=>!!e||Promise.reject(new Error("Unsubscription failed")))):Promise.reject(new Error("Service Workers not supported"))}function f(){try{if("undefined"!=typeof Notification)return Notification.permission;throw new Error("Browser unsupported")}catch(e){return e}}function T(e,t){if(!e)return;return e.postMessage({type:"translations",data:t})}function A(e){h()&&(window.navigator.serviceWorker.controller?T(window.navigator.serviceWorker.controller,e):I().then(t=>{T(t.active,e)}).catch(e=>(console.log("SW register error",e),Promise.reject(e))))}function b(e){return`"mail/new_mail_v4|notify|${e}|deco:FTI"`}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(6),c=s(220);const d=Object(o.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}});class l extends i.a.Component{render(){const e=this.props,t=e.onAbort,s=e.wideContainer;return i.a.createElement(c.a,{primaryButtonLabel:e.acceptLabel,secondaryButtonLabel:e.cancelLabel,hideIcon:e.hideIcon,title:e.title,customTitle:e.customTitle,showCustomTitle:e.showCustomTitle,message:e.message,onPrimaryButtonClick:e.onConfirm,onSecondaryButtonClick:t,onClose:t,onOuterClick:e.onOuterClick,wideContainer:void 0!==s&&s,disablePrimaryButton:e.disablePrimaryButton},this.props.children)}}n()(l,"contextTypes",{intl:o.intlShape.isRequired}),n()(l,"defaultProps",{acceptLabel:d.defaultAcceptLabel,cancelLabel:d.defaultCancelLabel,showCustomTitle:!1,hideIcon:!1,disablePrimaryButton:!1}),t.a=l},,function(e,t,s){"use strict";var a=s(74);t.a=s.n(a).a.create("norrin/base_client")},function(e,t,s){"use strict";s.d(t,"o",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return c}),s.d(t,"n",function(){return d}),s.d(t,"i",function(){return l}),s.d(t,"h",function(){return u}),s.d(t,"j",function(){return _}),s.d(t,"l",function(){return m}),s.d(t,"k",function(){return p}),s.d(t,"m",function(){return h}),s.d(t,"g",function(){return g}),s.d(t,"f",function(){return E}),s.d(t,"e",function(){return I}),s.d(t,"d",function(){return S}),s.d(t,"a",function(){return C});var a=s(2),n=s(11),r=s(0);function i(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){e.dispatch(a.kk,{i13nModel:i,isV2Action:!0,listId:t,streamId:n,streamItem:r,messageGroupIds:s})}function o(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){e.dispatch(a.dk,{i13nModel:i,isV2Action:!0,listId:t,streamId:n,streamItem:r,messageGroupIds:s})}function c(e,{i13nModel:t}){e.dispatch(a.ek,{i13nModel:t})}function d(e,{listId:t,multipleStreamItems:s,streamId:n,streamItem:r,i13nModel:i}){e.dispatch(a.gk,{i13nModel:i,isV2Action:!0,listId:t,streamId:n,streamItem:r,multipleStreamItems:s})}function l(e,{listId:t,targetGroupId:s,streamId:n,streamItem:r,i13nModel:i}){e.dispatch(a.hk,{i13nModel:i,isV2Action:!0,listId:t,targetGroupId:s,streamId:n,streamItem:r})}function u(e,{listId:t,streamId:s,i13nModel:n}){e.dispatch(a.jk,{i13nModel:n,isV2Action:!0,listId:t,streamId:s})}function _(e,{listId:t,streamId:s,selectionType:n,i13nModel:r}){e.dispatch(a.ik,{i13nModel:r,isV2Action:!0,listId:t,streamId:s,selectionType:n})}function m(e,{listId:t,streamId:s,selectionType:n,i13nModel:r}){e.dispatch(a.ik,{i13nModel:r,isV2Action:!0,listId:t,streamId:s,selectionType:n})}function p(e,{listId:t,streamId:s,selectionType:n,i13nModel:r}){e.dispatch(a.ik,{i13nModel:r,isV2Action:!0,listId:t,streamId:s,selectionType:n})}function h(e,{listId:t,streamId:s,selectionType:n,i13nModel:r}){e.dispatch(a.ik,{i13nModel:r,isV2Action:!0,listId:t,streamId:s,selectionType:n})}function g(e,{listId:t,movement:s,streamId:n,i13nModel:r}){e.dispatch(a.lk,{i13nModel:r,isV2Action:!0,listId:t,movement:s,streamId:n})}function E(e,{listId:t,streamId:s,i13nModel:n}){e.dispatch(a.X,{i13nModel:n,isV2Action:!0,listId:t,streamId:s})}function I(e,{listId:t,movement:s,unit:i,i13nModel:o,streamId:c}){const d=(0,Object(n.b)(e.store.getState()).getFeaturesSelectors)().getSetting(r.zd.PREVIEW_PANE);e.dispatch(a.fk,{isV2Action:!0,listId:t,streamId:c,movement:s,unit:i,i13nModel:o,previewPane:d})}function S(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r}){e.dispatch(a.Yf,{streamId:n,streamItem:r,listId:t,messageGroupIds:s})}const C=e=>{e.dispatch(a.rc)}},function(e,t,s){"use strict";var a=s(6);t.a=Object(a.defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},close:{id:"close",defaultMessage:"Close"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},list_filter_from:{id:"list.filter_from",defaultMessage:"From"},list_filter_to:{id:"list.filter_to",defaultMessage:"To"},list_filter_all:{id:"list.filter_all",defaultMessage:"All"},list_delete_title:{id:"list.confirm_delete_title",defaultMessage:"Delete message"},list_delete_message:{id:"list.confirm_delete_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} to Trash?"},list_perm_delete_message:{id:"list.confirm_permanently_delete_messages",defaultMessage:"Are you sure you want to permanently delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}"}})},function(e,t,s){"use strict";s.d(t,"f",function(){return E}),s.d(t,"d",function(){return I}),s.d(t,"c",function(){return S}),s.d(t,"j",function(){return C}),s.d(t,"g",function(){return f}),s.d(t,"i",function(){return T}),s.d(t,"h",function(){return A}),s.d(t,"b",function(){return b}),s.d(t,"a",function(){return O}),s.d(t,"e",function(){return R});s(8);var a=s(1),n=s.n(a),r=s(6),i=s(13),o=s.n(i),c=s(657),d=s.n(c),l=s(19),u=s(28),_=s(15),m=s(11),p=s(310),h=s(122);const g=o()(d.a);function E(){return n.a.createElement(r.FormattedMessage,{id:"compose.send_email_address_missing_notification",defaultMessage:"Please add at least one email address before sending."})}function I(e,{intl:{locale:t}}){const s=Object(p.g)("SLN3353")(t);return n.a.createElement("div",null,n.a.createElement("div",{className:g.notificationTitle},n.a.createElement(r.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_title",defaultMessage:"Send Error: Too many recipients for this email"})),n.a.createElement("div",{className:g.notificationSubText},n.a.createElement(r.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_subtext",defaultMessage:"Please reduce the number of recipients and try to send again."}),n.a.createElement("br",null),n.a.createElement(l.a,{kind:u.a.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>Object(h.a)(s)},n.a.createElement("span",{className:g.button},n.a.createElement(r.FormattedMessage,{id:"compose.learn_more_url",defaultMessage:"Learn more"})))))}function S({invalidAddresses:e=[]}){const t=[];return e.forEach((e,s,a)=>{const i="_"+s;t.push(n.a.createElement("span",{key:i},e)),s<a.length-1&&t.push(n.a.createElement(r.FormattedMessage,{key:i+"-delim",id:"email_separator",defaultMessage:"\n                        {isLast, select,\n                            false {,\\u0020}\n                            true {, and\\u0020}}\n                    ",values:{isLast:s===a.length-2}}))}),n.a.createElement(r.FormattedMessage,{id:"compose.send_email_address_correction_notification",defaultMessage:"Please correct these email addresses before sending: {emailList}",values:{emailList:n.a.createElement("span",null,t)}})}I.contextTypes={intl:r.intlShape.isRequired};const C=Object(_.connect)((e,{csid:t})=>{return{isUploading:(0,Object(m.b)(e).isAttachmentUploadPendingForComposeSession)(t)}})(function({isUploading:e}){return n.a.createElement(r.FormattedMessage,e?{id:"compose.uploading_attachment_email_status",defaultMessage:"Adding attachments..."}:{id:"compose.sending_email_status",defaultMessage:"Sending..."})});function f(){return n.a.createElement(r.FormattedMessage,{id:"notification.draft_save_failed",defaultMessage:"Message cannot be saved as draft."})}function T(){return n.a.createElement(r.FormattedMessage,{id:"notification.saved_to_inbox",defaultMessage:"Message saved to inbox."})}function A(){return n.a.createElement(r.FormattedMessage,{id:"notification.save_to_inbox_failed",defaultMessage:"Message cannot be saved to inbox."})}function b({messageIds:e}){return n.a.createElement(r.FormattedMessage,{id:"notification.delete_draft_success",defaultMessage:"{count, plural, one {Draft} other {Drafts}} permanently deleted.",values:{count:e&&e.length||1}})}function O({messageIds:e}){return n.a.createElement(r.FormattedMessage,{id:"notification.delete_draft_failure",defaultMessage:"Unable to delete the {count, plural, one {draft} other {drafts}}.",values:{count:e&&e.length||1}})}function R(){return n.a.createElement(r.FormattedMessage,{id:"compose.draft_unavailable_notification",defaultMessage:"The message you are trying to open is no longer available."})}},function(e,t,s){"use strict";s.d(t,"i",function(){return _}),s.d(t,"b",function(){return m}),s.d(t,"a",function(){return p}),s.d(t,"j",function(){return h}),s.d(t,"f",function(){return g}),s.d(t,"d",function(){return E}),s.d(t,"e",function(){return I}),s.d(t,"h",function(){return S}),s.d(t,"c",function(){return C}),s.d(t,"g",function(){return f});var a=s(4),n=s.n(a),r=s(2),i=s(0),o=s(10),c=s(169),d=s(11);function l(e,t){return(0,Object(d.b)(e.store.getState()).getFolderIdsForSelectedAccount)(t)[0]}function u(e,t,s){const a=Object(d.b)(e.store.getState()),i=a.getListLmv3Query,l=a.doesListExist,u=(0,a.getSelectedAccountId)(),_=t.listId,m=t.destinationFolderId,p=t.allItemsCount,h=t.flags,g=t.triageActionType,E=Object(o.o)(_),I=l(_)?i(_):void 0,S=I?JSON.parse(I):void 0;let C=S?S.base:null;if(!C&&E&&(C=Object(c.e)({folderId:E})),!C)return;S&&S.token&&(C+=` querytoken:${S.token}`);const f=-1!==[r.ce,r.li].indexOf(s)?E:m;e.dispatch(s,n()({},t,{accountId:u,folderId:f,isAsync:!0,conversations:!1,count:p,allSelected:!0,isV2Action:!0,successAction:{type:r.tl,triageActionType:g,folderId:f,conversations:!1},failureAction:{type:r.sl,triageActionType:g,folderId:f}}));const T=n()({folderId:E,query:C,isAsync:!0,isConversation:!1},m&&{destinationFolderId:m},h&&{flags:h});return e.mailAPIClient.request(t.permanent?"folderList.delete":"folderList.update",[T]).then(({task:t})=>e.dispatch(r.vb,t)).catch(s=>e.dispatch(r.sl,{conversations:!1,count:p,allSelected:!0,destinationFolderType:t.destinationFolderType,triageActionType:g,error:s}))}function _(e,t){return u(e,n()({},t,{triageActionType:i.ne.MOVE_ALL_ITEMS,flags:null}),r.vh)}function m(e,t){return u(e,n()({},t,{flags:null,destinationFolderType:i.Cb.TRASH,destinationFolderId:l(e,i.Cb.TRASH),triageActionType:i.ne.DELETE_ALL_ITEMS}),r.ce)}function p(e,t){return u(e,n()({},t,{flags:null,destinationFolderType:i.Cb.ARCHIVE,destinationFolderId:l(e,i.Cb.ARCHIVE),triageActionType:i.ne.ARCHIVE_ALL_ITEMS}),r.vh)}function h(e,t){return u(e,n()({},t,{flags:null,destinationFolderType:i.Cb.INBOX,destinationFolderId:l(e,i.Cb.INBOX),triageActionType:i.ne.RESTORE_ALL_ITEMS}),r.vh)}function g(e,t){return u(e,n()({},t,{flags:{spam:!0},destinationFolderType:i.Cb.BULK,destinationFolderId:l(e,i.Cb.BULK),triageActionType:i.ne.SPAM_ALL_ITEMS}),r.vh)}function E(e,t){return u(e,n()({},t,{flags:{ham:!0},destinationFolderType:i.Cb.INBOX,destinationFolderId:l(e,i.Cb.INBOX),triageActionType:i.ne.NOT_SPAM_ALL_ITEMS}),r.vh)}function I(e,t){return u(e,n()({},t,{isRead:!1,flags:{read:!0},triageActionType:i.ne.READ_CHANGE_ALL_ITEMS}),r.li)}function S(e,t){return u(e,n()({},t,{isRead:!0,flags:{read:!1},triageActionType:i.ne.READ_CHANGE_ALL_ITEMS}),r.li)}function C(e,t){return u(e,n()({},t,{isStarred:!1,flags:{flagged:!0},triageActionType:i.ne.STAR_CHANGE_ALL_ITEMS}),r.bk)}function f(e,t){return u(e,n()({},t,{isStarred:!0,flags:{flagged:!1},triageActionType:i.ne.STAR_CHANGE_ALL_ITEMS}),r.bk)}},function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"d",function(){return r}),s.d(t,"a",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"c",function(){return c});var a=s(21);function n(e,t){for(let s=e.length;s;s--)if(t(e[s-1]))return s-1;return-1}function r(e,t=0){Object(a.a)("number"==typeof e&&parseInt(Number(e),10)===e&&e>=0,"`range` should be a non-negative integer");const s=Array(e);for(;e--;)s[e]=e+t;return s}function i(e,...t){return e.concat(t)}function o(e,t,s=1){return-1===t?e:e.slice(0,t).concat(e.slice(t+s))}const c=e=>Array.prototype.concat.apply([],e)},function(e,t,s){"use strict";s.d(t,"b",function(){return l}),s.d(t,"a",function(){return u}),s.d(t,"d",function(){return _}),s.d(t,"c",function(){return m});var a=s(4),n=s.n(a),r=s(10),i=s(0),o=s(68),c=s.n(o);const d=(e=[])=>e.reduce((e,t)=>{if(Object(r.t)(t.listId)!==i.Pb.MESSAGES||void 0===t.folder)return e;const s=t.groupId,a=t.folder,o=t.destinationFolder,d=void 0===o?{}:o,l=t.flags,u=void 0===l?[]:l,_=t.isAffected,m=e[s]||{},p=m.originalFolderIds,h=void 0===p?[]:p,g=m.folderIds,E=void 0===g?[]:g,I=m.folderTypes,S=void 0===I?[]:I,C=m.flags,f=void 0===C?[]:C;let T,A;return _?(T=d.id?[d.id]:[],A=d.types?[].concat(d.types):[]):(T=[a.id],A=[].concat(a.types)),n()({},e,{[s]:{flags:_?f:f.concat(u),originalFolderIds:c()(h.concat(a.id)),folderIds:c()(E.concat(T)),folderTypes:c()(S.concat(A))}})},{}),l=(e=[],t=[])=>{const s=d(e);return Object.keys(s).filter(e=>{const a=s[e],n=a.folderIds,r=a.folderTypes,o=void 0===r?[]:r;return t.length?!(void 0===n?[]:n).some(e=>-1!==t.indexOf(e)):!o.some(e=>-1===[i.Cb.TRASH,i.Cb.BULK].indexOf(e))})},u=(e=[],t,s=[])=>{const a=d(e);return Object.keys(a).filter(e=>{const n=a[e].flags,i=void 0===n?[]:n;return s.some(e=>Object(r.R)(t,e))&&!i.some(e=>!e.read)})},_=(e,t)=>{const s=e.path.toLocaleLowerCase(),a=t.path.toLocaleLowerCase(),n=s.split("/"),r=a.split("/"),i=e.path.split("/"),o=t.path.split("/");let c=0,d=0;for(;c<n.length&&d<r.length;){const e=n[c],t=r[d],s=i[c],a=o[d];if(e!==t)return e.localeCompare(t);if(s!==a)return s.localeCompare(a);c++,d++}const l=s.localeCompare(a);return l||(s.localeCompare(a)||s.length-a.length)},m=(e,t,s)=>{const a=Math.floor(s/t),n=[];let r=0,i=0;return e.forEach(e=>{n[r]||(n[r]=[]),n[r].push(e),++i%a==0&&(r++,i=0)}),n}},function(e,t,s){"use strict";var a=s(6);t.a=Object(a.defineMessages)({UNREAD:{id:"smart_view_unread_tooltip",defaultMessage:"Unread - Click to see unread mails"},smart_view_selected_UNREAD:{id:"smart_view_selected_unread_tooltip",defaultMessage:"Unread, selected - Showing unread mails"},STARRED:{id:"smart_view_starred_tooltip",defaultMessage:"Starred - Click to see starred mails"},smart_view_selected_STARRED:{id:"smart_view_selected_starred_tooltip",defaultMessage:"Starred, selected - Showing starred mails"},DOCUMENTS:{id:"smart_view_document_tooltip",defaultMessage:"Documents - Click to see all documents"},smart_view_selected_DOCUMENTS:{id:"smart_view_selected_document_tooltip",defaultMessage:"Documents, selected - Showing all documents"},PHOTOS:{id:"smart_view_photos_tooltip",defaultMessage:"Photos - Click to see all Photos"},smart_view_selected_PHOTOS:{id:"smart_view_selected_photos_tooltip",defaultMessage:"Photos, selected - Showing all Photos"},TUTORIAL:{id:"smart_view_tutorial_tooltip",defaultMessage:"Tutorials - Click to see all tutorial videos"},COUPONS:{id:"smart_view_coupons_tooltip",defaultMessage:"Deals - Click to see all deals"},GROCERIES:{id:"smart_view_groceries_tooltip",defaultMessage:"Groceries - Click to see all grocery stores where you can save"},GROCERIESV2:{id:"smart_view_groceriesv2_tooltip",defaultMessage:"Groceries - Click to see all grocery stores where you can save"},RECEIPTS:{id:"smart_view_receipts_tooltip",defaultMessage:"Receipts - Click to see all receipts"},smart_view_selected_TUTORIAL:{id:"smart_view_selected_tutorial_tooltip",defaultMessage:"Tutorial, selected - Showing the tutorial video"},TRAVEL:{id:"smart_view_travel_tooltip",defaultMessage:"Travel - Click to see your travel details"},smart_view_UNREAD:{id:"smart_view_unread",defaultMessage:"Unread"},smart_view_STARRED:{id:"smart_view_starred",defaultMessage:"Starred"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},smart_view_DOCUMENTS:{id:"smart_view_document",defaultMessage:"Documents"},smart_view_PHOTOS:{id:"photos_label",defaultMessage:"Photos"},smart_view_TUTORIAL:{id:"smart_view_tutorial",defaultMessage:"Tutorials"},smart_view_COUPONS:{id:"smart_view_coupons",defaultMessage:"Deals"},smart_view_selected_COUPONS:{id:"smart_view_selected_coupons_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_GROCERIES:{id:"smart_view_groceries",defaultMessage:"Groceries"},smart_view_GROCERIESV2:{id:"smart_view_groceriesv2",defaultMessage:"Groceries"},smart_view_selected_GROCERIES:{id:"smart_view_selected_groceries_tooltip",defaultMessage:"Groceries, selected - Showing your grocery stores"},smart_view_selected_GROCERIESV2:{id:"smart_view_selected_groceriesv2_tooltip",defaultMessage:"Groceries, selected - Showing your grocery stores"},smart_view_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"},smart_view_selected_TRAVEL:{id:"smart_view_selected_travel_tooltip",defaultMessage:"Travel, selected - Showing all flights"},smart_view_RECEIPTS:{id:"smart_view_receipts",defaultMessage:"Receipts"},smart_view_selected_RECEIPTS:{id:"smart_view_selected_receipts_tooltip",defaultMessage:"Receipts, selected - Showing your receipts"},smart_view_ALL:{id:"category.all_header",defaultMessage:"All"},smart_view_PEOPLE:{id:"category.people_header",defaultMessage:"People"},smart_view_PEOPLE_HINT:{id:"category.people_hint",defaultMessage:"Messages from real people, not businesses or promotions"},smart_view_PEOPLE_SHORT_HINT:{id:"category.people_short_hint",defaultMessage:"Turn on <strong>People View</strong> to see messages from people in one place."},smart_view_SHOPPING:{id:"category.shopping_header",defaultMessage:"Shopping"},smart_view_SHOPPING_HINT:{id:"category.shopping_hint",defaultMessage:"Subscriptions, coupons, deals and order confirmations"},smart_view_SHOPPING_SHORT_HINT:{id:"category.shopping_short_hint",defaultMessage:"Subscriptions, coupons, deals and orders"},smart_view_SOCIAL:{id:"category.social_header",defaultMessage:"Social"},smart_view_SOCIAL_HINT:{id:"category.social_hint",defaultMessage:"Updates from social networks like Facebook, LinkedIn and others"},smart_view_SOCIAL_SHORT_HINT:{id:"category.social_short_hint",defaultMessage:"Updates from social networks"},smart_view_FINANCE:{id:"category.finance_header",defaultMessage:"Finance"},smart_view_FINANCE_HINT:{id:"category.finance_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_FINANCE_SHORT_HINT:{id:"category.finance_short_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_TRAVEL_HINT:{id:"category.travel_hint",defaultMessage:"Flights, hotel reservations and travel confirmations"},smart_view_TRAVEL_SHORT_HINT:{id:"category.travel_short_hint",defaultMessage:"Messages about flights, hotel reservations"},moveCategoryUp:{id:"move_category_up",defaultMessage:"Move view up"},moveCategoryDown:{id:"move_category_down",defaultMessage:"Move view down"},categorization_header:{id:"categorization_header",defaultMessage:"Inbox views"},categorization_hint:{id:"categorization_hint",defaultMessage:"Automatically group messages by views for easier organization"},categorization_onboarding:{id:"categorization_onboarding",defaultMessage:"Automatically group messages by category for easier organization"}})},function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"c",function(){return n}),s.d(t,"b",function(){return r}),s.d(t,"d",function(){return i});const a={START_DATE:"startDate",END_DATE:"endDate",ANY:"any",WEEK:"week",MONTH:"month",CUSTOM:"custom"},n=7,r=30,i=[a.ANY,a.WEEK,a.MONTH,a.CUSTOM]},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return r});var a=s(86);function n(e,t=!0){try{return function(e,t=!0){if(!e||!/^https?:\/\//.test(e))return"";const s=new Image;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+encodeURIComponent((new Date).getTime())),s.src=e,s.src}(e,t)}catch(t){return a.a.error("sendBeacon_exception",{url:e}),""}}function r(e){if(!e||!/^https?:\/\//.test(e))return"";const t=document.createElement("iframe");t.src=e,t.width="1px",t.height="1px",t.style.display="none",document.body.appendChild(t)}},,function(e,t,s){"use strict";s.d(t,"b",function(){return I}),s.d(t,"a",function(){return C});var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(29),_=s(6),m=s(37),p=s(9);const h=Object(_.defineMessages)({focus_group_aria_label:{id:"focus_group_aria_label",defaultMessage:"Keyboard navigation group. Use arrow keys to navigate, or tab to the next group."}}),g="data-iskeynav",E=`[${g}]`,I=Object(p.c)(["HORIZONTAL","VERTICAL"]),S=["escape","left","meta+left","right","meta+right","up","meta+up","down","meta+down",",","."];class C extends l.a.Component{constructor(...e){super(...e),i()(this,"handleClick",e=>{const t=this.getNavigableElements();let s=e.target;for(;s!==e.currentTarget&&!s.getAttribute(g);)if(!(s=s.parentElement))return;t.indexOf(s)>-1&&-1===s.tabIndex&&this.applyFocusTo(s)}),i()(this,"handleKeyDown",e=>{if(!e.target.isContentEditable&&!(this.props.skipKeydownOnFormElement&&-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)||this.props.excludeKeyCodes.indexOf(e.key)>=0||this.props.excludeKeyCodes.indexOf(e.which)>=0)){switch(e.key){case"Escape":document.activeElement.blur()}if(this.props.axis===I.HORIZONTAL)switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}else switch(e.key){case"ArrowUp":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}switch(e.which){case m.b.COMMA:case m.b.FF_COMMA:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case m.b.PERIOD:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;default:return}}}),i()(this,"jumpToTop",()=>{this.jump()}),i()(this,"jumpToEnd",()=>{this.jump(!0)}),i()(this,"jump",e=>{const t=this.getNavigableElements();let s,a=0,n=1,r=t.length-1;for(e&&(a=r,n=-1,r=0),s=t[a];this.isNotFocusable(s)&&a!==r;)s=t[a+=n];this.applyFocusTo(s)}),i()(this,"isNotFocusable",e=>!(e&&e.offsetHeight&&!e.disabled)),i()(this,"getNavigableElements",()=>{const e=Object(u.findDOMNode)(this);return Array.prototype.slice.call(e.querySelectorAll(E))}),i()(this,"navigate",e=>{const t=this.getNavigableElements(),s=Math.min,a=Math.max,n=t.length-1,r=t.indexOf(document.activeElement);let i,o;if(t.length){for(this.props.circularNavigation?(i=r+e)>n?i=0:i<0&&(i=n):i=s(a(r+e,0),n),o=t[i];o&&this.isNotFocusable(o);)o=t[i+=e];o&&this.applyFocusTo(o)}}),i()(this,"resetTabIndex",()=>{const e=Object(u.findDOMNode)(this).querySelectorAll('[tabindex="'+this.props.groupTabIndex+'"]');for(let t=0;t<e.length;++t)e[t].tabIndex=-1}),i()(this,"applyFocusTo",e=>{this.resetTabIndex(),e.tabIndex=this.props.groupTabIndex,e.focus()})}componentDidMount(){const e=Object(u.findDOMNode)(this),t=this.getNavigableElements();t.length&&!e.querySelector(`[tabindex="${this.props.groupTabIndex}"]`)&&(t[0].tabIndex=this.props.groupTabIndex),this.mousetrap=this.context.bindShortcut(S,this.handleKeyDown,e)}componentWillUnmount(){this.context.unbindShortcut(S,this.mousetrap)}render(){const e=this.context.intl.formatMessage,t=Object.assign({},this.props);return delete t.axis,delete t.circularNavigation,delete t.groupTabIndex,delete t.groupTabIndex,delete t.excludeKeyCodes,delete t.skipKeydownOnFormElement,l.a.createElement("div",n()({"data-test-id":"focus-group",ref:e=>this.focusGroup=e,onKeyDown:this.handleKeyDown,onClick:this.handleClick,"aria-label":e(h.focus_group_aria_label)},t),this.props.children)}}i()(C,"contextTypes",{intl:_.intlShape.isRequired,bindShortcut:c.a.func,unbindShortcut:c.a.func}),i()(C,"defaultProps",{axis:I.VERTICAL,circularNavigation:!0,groupTabIndex:0,skipKeydownOnFormElement:!0,excludeKeyCodes:[]})},,function(e,t,s){"use strict";s.d(t,"j",function(){return c}),s.d(t,"h",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"g",function(){return u}),s.d(t,"c",function(){return _}),s.d(t,"b",function(){return m}),s.d(t,"f",function(){return p}),s.d(t,"d",function(){return h}),s.d(t,"i",function(){return g}),s.d(t,"a",function(){return E});var a=s(31),n=s.n(a),r=s(88),i=s(115),o=s(43);const c=e=>{return{name:e.name,emailAddresses:e.emailIds}},d=e=>{const t=e.emailAddresses;return!(!e.name&&!(void 0===t?[]:t)[0])},l=(e,t,s,a,n)=>{if(!s||!s[0])return"";const i=c(s[0]),o=i.name,l=i.emailAddresses,u=(void 0===l?[]:l)[0],_=new RegExp("^"+Object(r.a)(e),"i");return!e||!n||a||d(t)?"":_.test(u)?e+u.slice(e.length):_.test(o)?e+o.slice(e.length):""},u=(e,t,s)=>t&&s&&c(s).emailAddresses[0]||e,_=e=>d(e)?[e]:[],m=(e="")=>{const t=e.split("-"),s=n()(t,3);return new Date(s[0],s[1]-1,s[2])},p=(e,t)=>{if(!e&&!t)return i.a.ANY;const s=Object(o.j)(e,t),a=t&&g(t)&&Object(o.w)(m(t));return s===i.c&&a?i.a.WEEK:s===i.b&&a?i.a.MONTH:i.a.CUSTOM},h=(e,t)=>{let s="",a="";switch(e){case i.a.ANY:break;case i.a.WEEK:s=new Date(t).setDate(t.getDate()-i.c);break;case i.a.MONTH:s=new Date(t).setDate(t.getDate()-i.b);break;case i.a.CUSTOM:s=t}return s&&(s=Object(o.m)(new Date(s)),a=Object(o.m)(new Date(t))),{startDate:s,endDate:a}};function g(e=""){return null!==e.match(/^\d{4}-\d{2}-\d{2}$/)}const E=(e="",t="")=>{if(e&&t){const s=g(e)?m(e):null,a=g(t)?m(t):null;e=s&&Object(o.x)(s)?s:Object(o.i)(),t=a&&Object(o.x)(a)?a:Object(o.i)()}else e=t=Object(o.i)();return{startDate:e,endDate:t}}},function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return n}),s.d(t,"f",function(){return r}),s.d(t,"e",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"c",function(){return c});const a="INDENTATION_NORMAL",n="INDENTATION_NONE",r="TOPFOLDER_WITH_ICON",i="TOPFOLDER_WITHOUT_ICON",o="SUBFOLDER_WITH_ICON",c="SUBFOLDER_WITHOUT_ICON"},function(e,t,s){"use strict";s.d(t,"a",function(){return n});const a=/^(?:https?|ftp|mailto):(?:\/\/)?/i;function n(e){let t=!1;if(!a.test(e))return t;const s=window.open();if(s){s.opener=null;try{s.location=e,t=!0}catch(e){}}return t}},,function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"c",function(){return c});var a=s(7),n=s(0),r=s(9);const i={[n.Qb.TOP_CONTACTS]:a.g.TOP_CONTACTS_TAB,[n.Qb.USER_CREATED_CONTACTS]:a.g.USER_CREATED_CONTACTS_TAB,[n.Qb.PEOPLE]:a.g.PEOPLE_CONTACTS_TAB,[n.Qb.NOT_PEOPLE]:a.g.BUSINESS_CONTACTS_TAB,[n.Qb.WITH_KEYWORD]:a.g.CONTACTS_PANE_SEARCH,[n.Qb.RELATED]:a.g.RELATED_CONTACTS,[n.Qb.GROUPS]:a.g.GROUPS_CONTACTS_TAB},o={ID:"ID",EMAIL:"EMAIL",PHONE:"PHONE",ADDRESS:"ADDRESS",HIDDEN:"HIDDEN"},c=({value:e,type:t,id:s})=>{return(t===o.ADDRESS?Object(r.g)(e||{}).join("-"):e)+"_"+s}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(9);const n=Object(a.c)(["HORIZONTAL","VERTICAL","GRID"])},function(e,t,s){"use strict";e.exports={className:{default:{paneContainer:"I_52qC b_Z14vXdP k_w o_A P_6LEV",inputWrapper:"D_F ab_C U_6Eb4",selectFieldContainer:"em_N W_0 H_6D6F C_Z281SGl A_6EqO",inputLabel:"ej_djH em_0 en_0 A_6EqO u_b C_Z281SGl",folderFieldText:"ev_nKj2Q u_1hszGB y_Z2uhb3X",accountContainerSelect:"em_N en_N ev_nKj2Q y_Z2uhb3X",accountHeaderContainer:"M_0 P_0 D_F",accountContainerButtonContainer:"D_F M_3gIgH ab_C gl_C",accountContainerAccountHeader:"W_3nF5b o_h G_e J_x ev_nKj2Q u_b",accountContainerFolderItem:"E_6Fd5 W_3rtg7 H_6VdP",accountContainerAllMail:"W_3nF5b X_6MGW o_h G_e J_x ev_nKj2Q u_b",inputField:"cn_ZmdUJf m_2w4l8N H_6VdP em_N A_6EqO C_Z281SGl ir3_0 m3_2fAfSG",pillsInputWrapper:"m_2w4l8N H_6VdP em_N"},pillsInputFocused:{pillsInputWrapper:"m_2fAfSG"}},_key:"GhEgI"}},function(e,t,s){"use strict";s.d(t,"e",function(){return c}),s.d(t,"f",function(){return d}),s.d(t,"b",function(){return l}),s.d(t,"d",function(){return u}),s.d(t,"a",function(){return _}),s.d(t,"c",function(){return m}),s.d(t,"g",function(){return p}),s.d(t,"h",function(){return h});var a=s(2),n=s(11),r=s(0),i=s(103);let o=5;function c(e){const t=Object(n.b)(e.store.getState());e.dispatch(a.bg,{listId:(0,t.getCurrentListId)()})}function d(e,{isVisible:t}){const s=e.heartbeatAPIClient.emergencyRefresh,c=Object(n.b)(e.store.getState()),d=c.isAppVisible,l=c.getApplicationLastVisibleTimeStamp,u=c.getPrimaryAccount,_=c.getRoute,m=(0,c.getFeaturesSelectors)(),p=m.getSetting("appRefreshIdleInterval"),h=m.isEnabled("heartbeatRefresh"),g=d(),E=u(),I=_();t!==g&&(t&&I.name===r.gd.SETTINGS&&E.forwardEmail&&!E.forwardEmailVerified&&o>0&&(e.store.dispatch(i.i({accountId:E.id,updatedProperties:{forwardEmailVerified:E.forwardEmailVerified}})),o--),e.dispatch(a.Y,{isVisible:t,emergencyRefresh:s,appRefreshIdleInterval:p,heartbeatRefresh:h,applicationLastVisibleTimeStamp:l()}))}function l(e,{i13nModel:t}){e.dispatch(a.Jf,{i13nModel:t})}function u(e){e.dispatch(a.vj)}function _(e,{i13nModel:t}){e.dispatch(a.u,{i13nModel:t})}function m(e,{i13nModel:t}){e.dispatch(a.vl,{i13nModel:t})}function p(e,{i13nModel:t}){e.dispatch(a.Mh,{i13nModel:t})}function h(e,t){e.dispatch(a.zk,t)}},function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return r});var a=s(21);function n(e){if("undefined"!=typeof Storage&&"string"==typeof e)try{return localStorage.getItem(e)}catch(e){}}function r(e,t){if("undefined"!=typeof Storage){Object(a.a)("string"==typeof e,"key is not a string");try{localStorage.setItem(e,t)}catch(e){}}}},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"h",function(){return c}),s.d(t,"g",function(){return d}),s.d(t,"d",function(){return l}),s.d(t,"c",function(){return u}),s.d(t,"b",function(){return _}),s.d(t,"f",function(){return m}),s.d(t,"e",function(){return p});var a=s(4),n=s.n(a),r=s(2),i=s(0);const o=e=>"click"===e.userAction?n()({type:r.hf,fromFeature:e.name},e):n()({type:r.We},e),c=e=>n()({type:r.Rh},e),d=e=>n()({type:r.af},e),l=e=>n()({type:r.ef},e),u=e=>"click"===e.userAction?n()({type:r.df,name:i.zd.SCOUT_ONBOARDING},e):n()({type:r.Ye,name:i.zd.SCOUT_ONBOARDING},e),_=({userAction:e,error:t})=>"click"===e?{type:r.cf,error:t}:{type:r.Xe,error:t},m=e=>n()({type:r.bf,name:i.zd.SCOUT_ONBOARDING},e),p=e=>({type:r.Ze,error:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return I});var a=s(31),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(29),l=s.n(d),u=s(6),_=s(156),m=s(42),p=s(258);let h,g;class E extends c.a.Component{render(){return null}}function I(e,t){if(h)return;h=document.createElement("div"),(g=document.getElementById("app")).appendChild(h);const s=c.a.createElement(E,{context:t},e),a=Object(p.a)(function(e){class t extends c.a.Component{constructor(t){super(t),this.unmountModal.bind(this),this.children=e.props.children}getChildContext(){return{intl:e.props.context.intl,store:e.props.context.store,config:e.props.context.config,navigateTo:e.props.context.navigateTo,timezone:e.props.context.timezone,getStore:e.props.context.getStore,executeAction:e.props.context.executeAction,getTheme:e.props.context.getTheme,getCss:e.props.context.getCss,getThemeMode:e.props.context.getThemeMode,appId:e.props.context.appId}}componentWillUnmount(){g&&g.removeChild(h),h=null}unmountModal(){l.a.unmountComponentAtNode(h)}render(){const t=c.a.Children.toArray(this.children),s=n()(t,1),a=this.children.props;return c.a.createElement(u.IntlProvider,window.AppIntl,c.a.createElement(_.FluxibleComponent,{context:e.props.context},c.a.cloneElement(s[0],{onPrimaryButtonClick:()=>{this.unmountModal(),a.onPrimaryButtonClick()},onSecondaryButtonClick:()=>{this.unmountModal(),a.onSecondaryButtonClick()},onClose:()=>{this.unmountModal(),a.onClose&&a.onClose()},onAccept:()=>{this.unmountModal(),a.onAccept()}})))}}return t.childContextTypes={intl:u.intlShape,store:i.a.object,config:i.a.object,navigateTo:i.a.func,timezone:m.e,getStore:i.a.func,executeAction:i.a.func,getTheme:i.a.func,getCss:i.a.func,getThemeMode:i.a.func,appId:i.a.string},t}(s));l.a.render(c.a.createElement(a,null),h)}},function(e,t,s){"use strict";s.d(t,"b",function(){return u}),s.d(t,"a",function(){return _});var a=s(1),n=s.n(a),r=s(6),i=s(165),o=s(21);const c={};let d=0;function l(e,t,s){const a={};if(Object.keys(s).forEach(e=>{a[e]=++d}),!0===e)return a;let o=c[t.id];return o||(c[t.id]=o={group:t,keys:[]}),Object.keys(s).forEach(e=>{const t=s[e],c=t.key,d=t.description,l=function(e,t){for(let s=0;s<e.length;s++){const a=e[s],i=a.description;if(i===t)return a;if(!(n.a.isValidElement(i)&&i.type!==r.FormattedMessage||n.a.isValidElement(t)&&t.type!==r.FormattedMessage)&&(n.a.isValidElement(i)?i.props.id:i.id)===(n.a.isValidElement(t)?t.props.id:t.id))return a}}(o.keys,d);if(l)l.key.indexOf(c)<0&&(l.key+=i.b+c);else{const t={id:a[e],key:c,description:d};-1===o.keys.indexOf(t)&&o.keys.push(t)}}),a}function u({invisible:e,group:t,keys:s}){return function(e,t,s){Object(o.a)(e||"object"==typeof t&&"string"==typeof t.description.id,`The 'group' has to be an object returned by React Intl's defineMessages. Currently we got ${t}`),Object.keys(s).forEach(t=>{const a=s[t];Object(o.a)(e||n.a.isValidElement(a.description)||"object"==typeof a.description&&"string"==typeof a.description.id,`The 'message' has to be an object returned by React Intl's defineMessages\n            or has to be an instance of a React element (FormattedMessage). Currently, the key is ${t}`)})}(e,t,s),function(e,t){const s={};return Object.keys(e).forEach(a=>{const n=e[a].key,r=t[a];s[a]=e=>({id:r,key:n,callback:e})}),s}(s,l(e,t,s))}function _(){return c}},function(e,t,s){"use strict";s.d(t,"a",function(){return _}),s.d(t,"b",function(){return m});var a=s(21),n=s(0),r=s(38),i=s(64),o=s(25),c=s(9);const d=Object(c.c)([n.r.BootcampClient,n.r.AstraClient,n.r.MailAPIClient,n.r.UDBClient]),l=Object(c.c)([n.r.CredstoreClient,n.r.LinkEnhancerClient,n.r.XobniClient,n.r.NeedToKnowNewsClient]);function u(e,t,s){const a=s.apiName,r=s.statusCode,i=s.errorCode,c=s.alertTAE;return!1===(void 0===c||c)?100:function({apiName:e,isOnline:t,alertTAE:s=!0},a,n){if(!1===s)return!1;if(!Object(o.b)())return!0;if(!t)return!1;if(["CRUMB","AUTH","EC-4008","EC-4012","EC-4023"].indexOf(a)>-1)return!1;if(["REQUEST_BLOCKED","DEBOUNCED","ES-2001"].indexOf(a)>-1)return!1;if(l[n])return!1;switch(e){case"checkMail":case"messages.autosave":case"messages.autoSaveV3":case"messages.prefetchGetBodies":case"messages.prefetchGetBodiesFull":case"messages.prefetchGetExtractedBodies":case"messages.prefetchGetExtractedBodiesFull":case"getContentProviders":case"getCouponRecommendations":case"getShopRunnerRetailers":case"searchSuggestions":case"requestNeedToKnowNews":return!1}return!0}(s,i,e)?function(e,t){return 429===e||"EC-4017"===t||"EC-4018"===t}(r,i)?19:a&&function(e){return 0===e.indexOf("launch.")}(a)?15:function(e,t="",s){return!([400,500].indexOf(s)>-1)&&(0===e.indexOf("HttpTransport.")&&!t||["ECONNABORTED","ECONNREFUSED","ECONNRESET","ENOTFOUND","OUTBOUND","REQUEST_QUEUE_TIMEOUT","REQUEST_QUEUE_REJECTED","YCPI"].indexOf(t)>-1)}(t.name,i,r)?18:function(e){return e===n.r.UDBClient}(e)?1:function(e,t){return e===n.r.BootcampClient||["search_list.get","search_list.update"].indexOf(t)>-1}(e,a)?20:function(e){return["messages.getBodies","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messageGroups.getList","message_view.get","message_view.update"].indexOf(e)>-1}(a)?4:function(e){return["messages.saveV3","messages.saveWithAttachment","messages.saveAndSend","messages.saveAndSendWithAttachment","messageGroups.saveAndSend","messageGroups.saveAndSendWithAttachment","messageGroups.saveRawMessage","messageGroups.send","compose.open","compose.replyFwd","compose.attach","compose.save","compose.send"].indexOf(e)>-1}(a)?13:function(e){return"document.fetch"===e}(a)?22:function(e,t){return e===n.r.AstraClient||["getRetailers","linkRetailer","unlinkRetailer","activateOffer","getOffers","getActivatedOffers"].indexOf(t)>-1}(e,a)?23:function(e){let t;switch(e){case"ET-5003":t=1;break;case"ET-5004":t=4;break;case"ET-5005":case"ET-5008":case"ET-5009":case"ET-5010":case"ET-5011":t=2;break;default:t=14}return t}(i):100}function _(e,t,s,n){Object(a.a)(s.apiName,"logData.apiName must be present");const r={},c=n.statusCode,_=void 0===c?null:c,m=n.errorCode,p=void 0===m?null:m;if(null!==_&&(r.statusCode=_),null!==p&&(r.errorCode=p),d[t]||l[t]){const e=n.extraStatusCode,a=void 0===e?null:e,c=n.extraErrorCode,d=void 0===c?null:c;a&&(r.extraStatusCode=a),d&&(r.extraErrorCode=d);const l=u(t,n,Object.assign({},s,r));r.tae=l,function(e,t,s){if(Object(o.b)()){const a=t||s||"",n=i.b.getRapidInstance();n&&n.beaconEvent(0,{etrg:"error",taeCode:e,errCode:a},"norrin_tae")}}(l,p,_)}e.feature(t,Object.assign({},s,r)).logFailure(n)}function m({logger:e,apiName:t,message:s,loggerName:a=n.r.MailAPIClient,statusCode:i=0,errorCode:o="",extraStatusCode:c="",extraErrorCode:d="",ymreqid:l=""}){const u={apiName:t,alertTAE:!1,statusCode:i,errorCode:o,extraStatusCode:c,extraErrorCode:d,ymreqid:l};_(e,a,u,r.a.jsonToError({name:t,message:s,data:u,statusCode:i,errorCode:o,extraStatusCode:c,extraErrorCode:d}))}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=s(3),c=s.n(o),d=(s(8),s(1)),l=s.n(d),u=s(19),_=s(28);class m extends l.a.Component{render(){const e=this.props,t=e.hasText,s=e.isActive,a=e.children,r=i()(e,["hasText","isActive","children"]),o=s?_.a.ICON_HIGHLIGHTED:_.a.ICON;return l.a.createElement(u.a,n()({},r,{"aria-controls":"react-menu-component","aria-haspopup":!0,kind:t?_.a.CHROMELESS:o}),a)}}c()(m,"defaultProps",{hasText:!1,isActive:!1}),t.a=m},function(e,t,s){"use strict";var a=s(0),n=s(4),r=s.n(n);s(297),s(31);const i=e=>e&&e.length?e.reduce((e,t)=>{const s=t.split(",");return r()({},e,{[s[0]]:[s[1],s[2]]})},{}):{};s.d(t,"b",function(){return o}),s.d(t,"a",function(){return c}),s.d(t,"c",function(){return d}),s.d(t,"d",function(){return l});const o=(e=[],t)=>{const s=i(e);if(s[t]){const e=s[t][0]?1:0;return+(s[t][1]||0)||e}return 0},c=(e=[],t)=>{const s=i(e);return s[t]&&s[t][0]||0},d=e=>o(e,a.ub.MOBILE_PAC_NOTIFICATION_CUE)<a.fc,l=e=>o(e,a.ub.WEB_PAC_NOTIFICATION_CUE)<a.te},function(e,t,s){"use strict";s.d(t,"c",function(){return d}),s.d(t,"a",function(){return l}),s.d(t,"b",function(){return u});var a=s(39),n=s.n(a),r=s(4),i=s.n(r),o=s(2),c=s(35);const d=e=>i()({type:o.eg},e),l=e=>{let t=e.initialMailboxAttributes,s=void 0===t?{}:t,a=e.mailboxAttributes,r=void 0===a?{}:a,d=n()(e,["initialMailboxAttributes","mailboxAttributes"]);d.mailboxes&&(d.selectedMailbox=Object(c.k)(d.mailboxes,d.bizMboxId));const l=r.responses,u=r.success,_={responses:Object.assign(void 0===l?{}:l,s),success:u};return i()({type:o.Vf,mailboxAttributes:_},d)},u=({error:e})=>({type:o.cg,error:e})},,function(e,t,s){"use strict";s.d(t,"a",function(){return r});var a=s(81),n=s(108);const r={archiveMessageGroups:a.a,restoreMessageGroups:a.t,deleteMessageGroups:a.c,moveMessageGroups:a.o,markMessageGroupsAsSpam:a.k,markMessageGroupsAsNotSpam:a.h,markMessageGroupsAsRead:a.j,markMessageGroupsAsUnread:a.n,markMessageGroupsAsFlagged:a.g,markMessageGroupsAsUnflagged:a.m,toggleSelection:n.o,contextMenu:n.b,contextMenuShown:n.c,toggleMultipleSelection:n.n,selectAll:n.f,selectRange:n.i,selectNone:n.h,selectRead:n.j,selectUnread:n.l,selectStarred:n.k,selectUnstarred:n.m,moveCursor:n.e,selectMove:n.g,itemDragStart:n.d}},function(e,t,s){"use strict";s.d(t,"B",function(){return h}),s.d(t,"s",function(){return g}),s.d(t,"b",function(){return E}),s.d(t,"A",function(){return I}),s.d(t,"r",function(){return S}),s.d(t,"t",function(){return C}),s.d(t,"l",function(){return f}),s.d(t,"z",function(){return T}),s.d(t,"y",function(){return A}),s.d(t,"x",function(){return b}),s.d(t,"m",function(){return O}),s.d(t,"a",function(){return R}),s.d(t,"v",function(){return N}),s.d(t,"c",function(){return M}),s.d(t,"k",function(){return D}),s.d(t,"u",function(){return y}),s.d(t,"o",function(){return L}),s.d(t,"w",function(){return v}),s.d(t,"p",function(){return P}),s.d(t,"q",function(){return F}),s.d(t,"e",function(){return w}),s.d(t,"f",function(){return k}),s.d(t,"d",function(){return x}),s.d(t,"h",function(){return U}),s.d(t,"g",function(){return G}),s.d(t,"j",function(){return j}),s.d(t,"i",function(){return H}),s.d(t,"n",function(){return B});var a=s(39),n=s.n(a),r=s(4),i=s.n(r),o=s(0),c=s(2),d=s(10),l=s(17),u=s(7),_=s(49),m=s(18),p=s(124);const h=e=>i()({},e,{type:c.Hi,name:o.dd.CONTACTS_PANE}),g=e=>i()({},e,{name:o.dd.CONTACTS_PANE}),E=e=>{let t=e.listFilter,s=n()(e,["listFilter"]);return i()({},s,{listFilter:t,type:c.Lc})},I=e=>i()({},e,{type:c.Gb}),S=({event:e,payload:t,listId:s,i13nSection:a})=>{const n=Object(d.u)(s);return(e=>i()({},e,{type:c.Dc}))(i()({},t,{i13nModel:{mKey:u.e.OPEN_CONTACT,sec:a||p.a[n]||u.g.CONTACTS_PANE,interactionType:Object(m.j)(e)}}))},C=e=>i()({},e,{type:c.Nc}),f=e=>i()({},e,{type:c.Gc}),T=e=>i()({},e,{type:c.Cc}),A=e=>i()({},e,{type:c.Ic}),b=e=>i()({},e,{type:c.Ec}),O=(e={})=>{let t=e.streamItems,s=void 0===t?[]:t,a=e.streamItem,r=n()(e,["streamItems","streamItem"]);return i()({},r,{streamItem:a,streamItems:s,type:c.Rd})},R=e=>i()({},e,{type:c.Yc}),N=e=>{let t=e.keyword,s=n()(e,["keyword"]);return i()({},s,{keyword:t,listId:Object(d.l)(t),type:c.Pc})},M=e=>i()({},e,{type:c.gd}),D=e=>i()({type:c.Tc},e),y=(e={})=>{const t=e.smtp,s=e.name,a=e.sectionValue;return Object(_.k)({route:Object(l.u)({emailAddresses:t,name:s||t}),i13nModel:{interactionType:u.d.click,mKey:u.e.CONTACT_SEARCH,sec:a||u.g.RIGHT_RAIL,mKeyGroup:u.f.search}})},L=e=>i()({},e,{type:c.Jc}),v=e=>i()({},e,{type:c.Kc}),P=e=>i()({},e,{type:c.Pe}),F=e=>Object(_.j)(i()({route:Object(l.v)({settingsGroupId:o.Cd.SOCIAL_ACCOUNTS})},e)),w=e=>i()({type:c.ed},e),k=e=>i()({type:c.fd},e),x=e=>i()({type:c.dd},e),U=e=>i()({type:c.ad},e),G=e=>i()({type:c.Zc},e),j=e=>i()({type:c.Ed},e),H=e=>i()({type:c.Dd},e),B=e=>i()({type:c.wc},e)},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"d",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return c});var a=s(6);const n=Object(a.defineMessages)({general:{id:"shortcut_group.general",defaultMessage:"General"},selection:{id:"shortcut_group.selection",defaultMessage:"Checking/Unchecking"},action:{id:"shortcut_group.actions",defaultMessage:"Actions"},attachmentPreview:{id:"shortcut_group.attachmentPreview",defaultMessage:"Attachment Preview"}}),r={priority:0,id:"general",description:n.general},i={priority:1,id:"selection",description:n.selection},o={priority:2,id:"action",description:n.action},c={priority:3,id:"attachmentPreview",description:n.attachmentPreview}},function(e,t,s){"use strict";s.d(t,"a",function(){return m});var a=s(31),n=s.n(a);const r=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,o=/[\(\)]/g,c=/^\s+/,d=/'/g,l=/\((.+):(\d+):(\d+)\)/,u="\n",_=1e4;class m{constructor(e){this.error=e||null}toString(){try{let e=this.parse().join(u);return e.length>_&&(e=e.substr(0,_)+"..."),e}catch(e){return e.message||"Error in parsing an Error object"}}parse(){const e=this.error;if(null===e)throw new Error("Error is null or undefined");if(e.stack&&e.stack.match(r))return this.parseChromeOrIE();if(e.stack)return this.parseFFOrSafari();throw new Error("Cannot parse an Error object")}parseChromeOrIE(){return this.error.stack.split(u).map(e=>e=(e=e.replace(c," ")).replace(d,'"'))}parseFFOrSafari(){const e=this.error.stack.split(u).filter(e=>""!==e).map(e=>{if(-1===e.indexOf("@")&&-1===e.indexOf(":"))e=` at ${e}`;else{const t=e.split("@"),s=this.extractLocation(t.pop()),a=t.join("@")||void 0,r=n()(s,3);e=` at ${a} (${r[0]}:${r[1]}:${r[2]})`}return e});return[`${this.error.name}:${this.error.message}`.replace(d,'"')].concat(e)}extractLocation(e){if(-1===e.indexOf(":"))return[e];const t=i.exec(e.replace(o,""));return[t[1],t[2]||void 0,t[3]||void 0]}getFirstStackInfo(){const e={source:"",lineno:0,colno:0};try{const t=this.parse();if(t&&t[1]&&t[1].match(l)){const s=t[1].match(l),a=n()(s,4),r=a[1],i=a[2],o=void 0===i?0:i,c=a[3],d=void 0===c?0:c;e.source=void 0===r?"":r,e.lineno=parseInt(o,10),e.colno=parseInt(d,10)}}catch(t){return e}return e}}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(15),l=s(11),u=s(29),_=s.n(u),m=s(192),p=s(152),h=(s(125),s(9),s(59)),g=s(99),E=s(13),I=s.n(E),S=s(665),C=s.n(S);const f=()=>{},T=["click","focus","resize"],A=["resize"];class b extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{show:!1,dimensionStyles:{}}),i()(this,"handleHide",e=>{const t=_.a.findDOMNode(this.refs.menu),s=_.a.findDOMNode(this.props.actionNode);!t||e.target instanceof Node&&(t.contains(e.target)||s.contains(e.target))||(this.setState({show:!1}),this.props.onHideMenu())}),i()(this,"handleEscape",()=>{this.setState({show:!1}),this.props.onHideMenu(),_.a.findDOMNode(this.props.actionNode).focus()}),i()(this,"handleKeyDown",e=>{switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),this.handleEscape();break;default:return void e.stopPropagation()}})}componentDidMount(){this.refs.menu&&(this.setState({show:!0,dimensionStyles:Object(m.a)(_.a.findDOMNode(this.props.actionNode),_.a.findDOMNode(this.refs.menu),this.props.isRTL)},function(){_.a.findDOMNode(this.refs.navigableList).focus()}),(this.props.persistOnClick?A:T).forEach(e=>{window.addEventListener(e,this.handleHide,!1)}))}componentWillUnmount(){T.forEach(e=>{window.removeEventListener(e,this.handleHide,!1)})}render(){if(!this.props.children)return null;const e=I()(C.a),t=Object.assign({position:"absolute",visibility:this.state.show?"visible":"hidden"},this.state.dimensionStyles);return c.a.createElement(p.a,null,c.a.createElement("div",{onKeyDown:this.handleKeyDown,className:e.menu,onClick:this.props.persistOnClick?this.props.focusBackEditor:this.handleEscape,ref:"menu",style:t,"data-test-id":"menu"},c.a.createElement(h.a,n()({ref:"navigableList",kind:g.a.MENU,layout:this.props.menuLayout,onHide:this.handleHide,onEscape:this.handleEscape},this.props),this.props.children)))}}i()(b,"defaultProps",{onHide:f,persistOnClick:!1,focusBackEditor:f});t.a=Object(d.connect)(e=>{return{isRTL:"rtl"===(0,Object(l.b)(e).getEnvironmentSelectors)().getPageDirection()}})(b)},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"a",function(){return c}),s.d(t,"c",function(){return d}),s.d(t,"e",function(){return l});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.mb},e),o=e=>n()({type:r.ob},e),c=e=>n()({type:r.lb},e),d=e=>n()({type:r.Hi},e),l=e=>n()({type:r.pb},e)},function(e,t,s){"use strict";s.d(t,"i",function(){return i}),s.d(t,"h",function(){return o}),s.d(t,"j",function(){return c}),s.d(t,"f",function(){return d}),s.d(t,"g",function(){return l}),s.d(t,"e",function(){return u}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"d",function(){return h});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.Ud},e),o=e=>n()({type:r.Td},e),c=e=>n()({type:r.Vd},e),d=e=>n()({type:r.id},e),l=e=>n()({type:r.jd},e),u=e=>n()({type:r.hd},e),_=e=>n()({type:r.Tl},e),m=e=>n()({type:r.Sl},e),p=e=>n()({type:r.gb},e),h=e=>n()({type:r.ri},e)},,function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return r});var a=s(9);const n=Object(a.c)(["EMPTY_FOLDER","SELECTED_MESSAGES","ATTACHMENT_PREVIEW_ERROR","PLAY_VIDEO","GEAR_ICON","DOCUMENTS_ICON"]),r=138},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(13),c=s.n(o),d=s(752),l=s.n(d),u=s(9);const _=Object(u.c)(["LI","SPAN"]),m=c()(l.a);class p extends i.a.Component{shouldComponentUpdate(){return!1}render(){return i.a.createElement(this.props.tagName===_.LI?"li":"span",{className:m.flexSpacer})}}n()(p,"defaultProps",{kind:_.SPAN});t.a=p},,function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"b",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"i",function(){return l}),s.d(t,"j",function(){return u}),s.d(t,"k",function(){return _}),s.d(t,"e",function(){return m}),s.d(t,"d",function(){return p}),s.d(t,"h",function(){return h}),s.d(t,"g",function(){return g}),s.d(t,"f",function(){return E});var a=s(4),n=s.n(a),r=s(2),i=s(0);const o=(e,t)=>n()({},e,{type:r.hc,listId:e.altListId,response:{[i.Pb.CLOUD_STORAGE_ITEMS]:{[i.Qb.CLOUD_STORAGE_ITEMS]:t}}}),c=(e,t)=>n()({},e,{type:r.fc,listId:e.altListId,err:t}),d=e=>n()({},e,{type:r.gc}),l=e=>n()({},e,{type:r.bc}),u=e=>n()({},e,{type:r.ac}),_=e=>n()({},e,{type:r.cc}),m=e=>n()({},e,{type:r.ec}),p=e=>n()({},e,{type:r.dc}),h=e=>n()({},e,{type:r.kc}),g=e=>n()({},e,{type:r.jc}),E=e=>n()({},e,{type:r.ic})},function(e,t,s){"use strict";s.d(t,"c",function(){return _}),s.d(t,"d",function(){return m}),s.d(t,"e",function(){return p}),s.d(t,"b",function(){return h}),s.d(t,"a",function(){return g}),s.d(t,"f",function(){return E});var a=s(31),n=s.n(a),r=s(0),i=s(43),o=s(140),c=s(86),d=s(10);const l=({now:e,timezone:t})=>{const s=r.le.Types,a=(e,t)=>((e,t,s)=>({type:e,value:t,timestamp:s}))(e,t,t),n=Object(i.h)({time:e,timezone:t}),o=n.year,c=n.startOfYear,d=[];for(let e=0;e<20;e++)d.push(a(s.YEAR,c(o+e)));return d.sort((e,t)=>t.timestamp-e.timestamp)},u=({now:e,timezone:t})=>{const s=r.le.Types,a=(e,t,s)=>({type:e,value:t,timestamp:s}),n=(e,t)=>a(e,t,t),o=Object(i.h)({time:e,timezone:t}),c=o.weekday,d=o.month,l=o.year,u=o.startOfPastDay,_=o.startOfMonth,m=o.startOfYear,p=[a(s.TODAY,0,(0,o.startOfPastHour)(0)),a(s.YESTERDAY,0,u(1)),a(s.THIS_WEEK,0,u(c)),a(s.LAST_WEEK,0,u(7+c)),a(s.THIS_MONTH,d,_(d))];for(let e=2;e<c+1;e++)p.push(a(s.DAY,c-e,u(e)));for(let e=0;e<6&&!(d-e-1<0);e++)p.push(a(s.MONTH,d-e-1,_(d-e-1)));p.push(n(s.THIS_YEAR,m(l)));for(let e=0;e<l-1970&&!(l-e-1<0);e++)p.push(n(s.YEAR,m(l-e-1)));return(e=>{if(0===e.length)return[];const t=r.le.PriorityMap,s=e.length-1,a=e[s];let n=[a],i=t[a.type];for(let a=s-1;a>=0;a--)t[e[a].type]<=i&&(n=[e[a]].concat(n)),i=Math.min(i,t[e[a].type]);return n})(p.sort((e,t)=>t.timestamp-e.timestamp))},_=({now:e,timezone:t,hasFutureTime:s=!1})=>{const a=s?l:u;try{return a({now:e,timezone:t}).map(e=>({listId:Object(d.f)({listContentType:r.Pb.TIMECHUNK}),type:e.type,value:e.value,predicate:t=>t.timestamp>e.timestamp}))}catch(e){const t=new o.a(e),s=e.data,a=void 0===s?{}:s,n=e.name,r=e.message,i=Object.assign({name:void 0===n?"":n,message:void 0===r?"":r,stack:t.toString()},a);return c.a.error("Timechunk error V3",i),[]}},m=(e=[],t=[],s=(e=>!(e.length<2)&&e[0].timestamp<e[e.length-1].timestamp))=>{let a=[...e],r=0;const i={isGroupedList:!1,list:e};if(0===t.length)return i;const o=s(e);o&&a.reverse();const c=t.reduce((e,{type:t,value:s,listId:i,predicate:c})=>{let d=[];var l=((e,t)=>{const s=[],a=[],n=e.length;for(let r=0;r<n;r++)t(e[r])?s.push(e[r]):a.push(e[r]);return[s,a]})(a,c),u=n()(l,2);return a=u[1],(r=(d=u[0]).length)?e.concat({type:t,value:s,ts:new Date(s),listId:i,items:o?d.reverse():d}):e},[]);return o&&c.reverse(),c.length?{isGroupedList:!0,list:c}:i},p=(e,t,s,a)=>{const n=[];let r=[];if(e.forEach(e=>{r.length>=t&&(n.push({id:[e.listId,r[0].id,s,a,n.length].join("-"),items:r,listId:e.listId,listItemHeight:e.listItemHeight}),r=[]),r.push(e)}),r.length>0){const e=r[0];n.push({id:[e.listId,e.id,s,a,n.length].join("-"),items:r,listId:e.listId,listItemHeight:e.listItemHeight})}return n},h=(e=[],t)=>e.reduce((e,{items:s,listId:a,type:n,value:r})=>e.concat({id:[a,n,r].join("-"),type:n,value:r,listId:a}).concat(p(s,t,n,r)),[]),g=(e=[])=>e.reduce((e,{items:t,listId:s,type:a,value:n})=>e.concat({id:[s,a,n].join("-"),type:a,value:n,listId:s}).concat(t),[]),E=(e,t=r.xd.ALL,s)=>{const a=e.id,n=e.listId;if(Object(d.t)(n)!==r.Pb.MESSAGES)return!1;const i=s.getMessageIdsFromMessageGroupId(a);switch(t){case r.xd.READ:return!i.some(e=>!s.getMessageFlags(e).read);case r.xd.STARRED:return i.some(e=>s.getMessageFlags(e).flagged);case r.xd.UNREAD:return i.some(e=>!s.getMessageFlags(e).read);case r.xd.UNSTARRED:return!i.some(e=>s.getMessageFlags(e).flagged);case r.xd.ALL:return!0;default:return!1}}},function(e,t,s){"use strict";s.d(t,"j",function(){return i}),s.d(t,"k",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"d",function(){return d}),s.d(t,"h",function(){return l}),s.d(t,"c",function(){return u}),s.d(t,"a",function(){return _}),s.d(t,"i",function(){return m}),s.d(t,"g",function(){return p}),s.d(t,"f",function(){return h}),s.d(t,"b",function(){return g});var a=s(4),n=s.n(a),r=s(2);const i=e=>({type:r.Qf,error:e}),o=e=>n()({},e,{type:r.Rf}),c=e=>n()({},e,{type:r.Bb}),d=e=>({type:r.Ab,error:e}),l=e=>n()({type:r.Eb},e),u=(e=[])=>({type:r.Fb,followedCategoryList:e}),_=(e=[],t)=>({type:r.Cb,followedCategoryList:e,error:t}),m=e=>n()({type:r.Ib},e),p=(e=[])=>({type:r.Jb,followedCategoryList:e}),h=(e=[],t)=>({type:r.Hb,followedCategoryList:e,error:t}),g=()=>({type:r.Db})},,function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(29),c=s.n(o),d=s(25);class l extends i.a.Component{constructor(...e){super(...e),n()(this,"onEventHandler",e=>{e.stopPropagation()})}render(){if(!Object(d.b)())return null;const e=this.props,t=e.position,s=e.left,a=e.top,n=e.visibility;let r=Object.assign({position:t,left:s,top:a,visibility:n},e.styles);return t&&s&&a&&n||(r=null),this.rootNode&&document.body.contains(this.rootNode)||(this.rootNode=document.getElementById(this.props.rootId)),this.rootNode&&document.body.contains(this.rootNode)?c.a.createPortal(i.a.createElement("div",{style:r,onClick:this.onEventHandler,onKeyUp:this.onEventHandler,onKeyPress:this.onEventHandler,onMouseOver:this.onEventHandler,onMouseUp:this.onEventHandler,onBlur:this.onEventHandler},this.props.children),this.rootNode):null}}n()(l,"defaultProps",{rootId:"app"}),t.a=l},function(e,t,s){"use strict";s(8);var a=s(1),n=s.n(a),r=s(6),i=s(43);function o(e,t){return new Date(t).getUTCFullYear()===e.getUTCFullYear()}class c extends n.a.Component{shouldComponentUpdate(e){const t=this.props;return e.date.getTime()!==t.date.getTime()||e.timezone!==t.timezone||e.long!==t.long}render(){const e=this.props,t=e.date,s=e.long,a=e.timezone,c=void 0===a?"UTC":a,d=this.context.intl,l=d.locale;let u;try{u=Object(i.s)({timezone:c})}catch(e){return function(e,t,s){return n.a.createElement(r.FormattedDate,e?{value:t,timeZone:s,minute:"numeric",hour:"numeric",hour12:"true",month:"short",day:"numeric"}:{value:t,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(s,t,c)}return s?function(e,t,s,a,c){return n.a.createElement(r.FormattedMessage,{id:"date_at_time",defaultMessage:"\n                {date} at {time}\n            ",values:{date:o(e,t)?a.formatDate(e,{timeZone:s,day:"numeric",month:Object(i.o)(c)}):a.formatDate(e,{timeZone:s,day:"numeric",month:Object(i.o)(c),year:"numeric"}),time:a.formatTime(e,{timeZone:s,hour:"numeric",minute:"numeric"})}})}(t,u,c,d,l):function(e,t,s,a){return function(e,t){return e.getTime()>=t}(e,t)?n.a.createElement(r.FormattedTime,{value:e,timeZone:s,hour:"numeric",minute:"2-digit"}):o(e,t)?n.a.createElement(r.FormattedDate,{value:e,timeZone:s,day:"numeric",month:Object(i.o)(a)}):n.a.createElement(r.FormattedDate,{value:e,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(t,u,c,l)}}c.contextTypes={intl:r.intlShape},t.a=c},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=s(3),c=s.n(o),d=(s(8),s(1)),l=s.n(d),u=s(673),_=s.n(u),m=s(13),p=s.n(m),h=s(90),g=s.n(h),E=s(117),I=s(20),S=s(5),C=s(6);const f=Object(C.defineMessages)({clearButton:{id:"input_clear",defaultMessage:"Clear"}});class T extends l.a.Component{constructor(...e){super(...e),c()(this,"state",{value:this.props.value}),c()(this,"focus",()=>{this.bidiInput.focus()}),c()(this,"handleChange",e=>{const t=this.state.value;e.persist(),e.target.value!==t&&this.setState({value:e.target.value},()=>{this.props.onChange(e)})})}componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}componentDidMount(){this.props.focusOnMount&&setTimeout(()=>this.bidiInput&&this.bidiInput.focus(),0)}render(){const e=this.props,t=e.className,s=e.containerClassName,a=e.clearButtonContainerClassName,r=e.isClearable,o=e.onClear,c=e.clearIconColorState,d=i()(e,["className","containerClassName","clearButtonContainerClassName","isClearable","onClear","clearIconColorState","focusOnMount"]),u=this.state.value,m=Boolean(r&&u),h=Object(E.getTextDirection)(u),C=p()(_.a,{showClear:m});return l.a.createElement("div",{className:g()(C.inputContainer,s)},l.a.createElement("input",n()({},d,{value:u,className:g()(C.input,t,C.rtlRemoveInput,C.rtlRawInput),ref:e=>this.bidiInput=e,onChange:this.handleChange},h&&{dir:h})),m&&l.a.createElement("span",{className:g()(C.clearButtonContainer,a)},l.a.createElement(I.a,{kind:S.b.CLEAR,size:S.d.XXS,colorState:c,title:this.context.intl.formatMessage(f.clearButton),className:C.clearButton,onClick:o,"data-test-id":"clear-button"})))}}c()(T,"contextTypes",{intl:C.intlShape}),c()(T,"defaultProps",{value:"",onChange(){},isClearable:!1,onClear(){},containerClassName:"",focusOnMount:!1,clearIconColorState:S.a.FAINT}),t.a=T},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(31),i=s.n(r),o=s(39),c=s.n(o),d=s(3),l=s.n(d),u=(s(8),s(1)),_=s.n(u),m=s(29),p=s.n(m),h=(s(79),s(133),s(141),s(13)),g=s.n(h),E=s(666),I=s.n(E);const S=()=>{};class C extends _.a.Component{constructor(...e){super(...e),l()(this,"state",{isMenuVisible:!1}),l()(this,"toggleMenu",()=>{this.state.isMenuVisible?this.hideMenu():this.showMenu()}),l()(this,"showMenu",()=>{this.setState({isMenuVisible:!0}),this.props.onMenuShow()}),l()(this,"hideMenu",()=>{this.setState({isMenuVisible:!1}),this.props.onMenuHide()}),l()(this,"handleMenuButtonKeyDown",e=>{switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),this.toggleMenu();break;case"Escape":e.preventDefault(),this.hideMenu(),this.blurMenuButton()}}),l()(this,"blurMenuButton",()=>{p.a.findDOMNode(this.refs.button).blur()})}componentDidUpdate(e,t){this.props.afterMenuHide&&!this.state.isMenuVisible&&t.isMenuVisible&&this.props.afterMenuHide()}componentDidMount(){this.props.parentMenu&&this.setState({isMenuVisible:!0})}render(){const e=this.props,t=e.onFocus,s=e.onBlur,a=e.children,r=e.showMenuActiveState,o=e.parentMenu,d=c()(e,["onFocus","onBlur","onMenuShow","onMenuHide","afterMenuHide","children","showMenuActiveState","parentMenu"]),l=_.a.Children.toArray(a),u=i()(l,2),m=u[0],p=u[1],h=this.state.isMenuVisible,E=g()(I.a,{active:h&&r});let S=null;m&&(S=_.a.cloneElement(m,{ref:"button","aria-expanded":h,onClick:this.toggleMenu,onKeyDown:this.handleMenuButtonKeyDown,onFocus:t,onBlur:s,isActive:h}));let C=null;return o&&p?C=_.a.cloneElement(p,{ref:"submenu",actionNode:o.refs.button,onHideMenu:this.hideMenu}):h&&p&&(C=_.a.cloneElement(p,{ref:"menu",actionNode:this.refs.button,onHideMenu:this.hideMenu})),_.a.createElement("div",n()({},d,{className:E.buttonContainer}),S,C)}}l()(C,"defaultProps",{onMenuShow:S,onMenuHide:S,onFocus:S,onBlur:S,showMenuActiveState:!1}),t.a=C},,function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"c",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return c});var a=s(6),n=s(9);const r="https://data.mail.yahoo.com/f/subscription",i=Object(n.c)(["READY","PENDING","SUCCESS","FAILURE"]),o=Object(n.c)(["HUFFPOST"]),c=[{id:"HUFFPOST-c1fb2d6bc59dbabb03c6369b73d9ece3",provider:o.HUFFPOST,icon:"subscriptions_huffpost.png",name:"The Morning Email",strings:Object(a.defineMessages)({description:{id:"HUFFPOST-c1fb2d6bc59dbabb03c6369b73d9ece3.description",defaultMessage:"Wake up to the day's most important news from HuffPost."}}),email:"dailybrief@huffpost.com",subid:"c1fb2d6bc59dbabb03c6369b73d9ece3"}]},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"b",function(){return c}),s.d(t,"d",function(){return d}),s.d(t,"h",function(){return l}),s.d(t,"g",function(){return u}),s.d(t,"i",function(){return _}),s.d(t,"e",function(){return m}),s.d(t,"f",function(){return p});var a=s(4),n=s.n(a),r=s(2);function i(e){return n()({type:r.jg},e)}function o(e){return n()({type:r.kg},e)}function c(e){return n()({type:r.ig},e)}function d(e){return n()({type:r.hg},e)}function l(e){return n()({type:r.pg},e)}function u(e){return n()({type:r.og},e)}function _(e){return n()({type:r.qg},e)}function m(e){return n()({type:r.lg},e)}function p(e){return n()({type:r.mg},e)}},function(e,t,s){"use strict";s.d(t,"b",function(){return d}),s.d(t,"a",function(){return l}),s.d(t,"f",function(){return u}),s.d(t,"h",function(){return _}),s.d(t,"g",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"e",function(){return h}),s.d(t,"d",function(){return g}),s.d(t,"j",function(){return E}),s.d(t,"i",function(){return I});var a=s(4),n=s.n(a),r=s(2),i=s(11),o=s(0),c=s(88);const d=({folder:e})=>({folder:e,type:r.Hd}),l=({error:e,folderName:t})=>({folderName:t,error:e,type:r.Fd}),u=({folderId:e,folderName:t,i13nModel:s={}})=>(a,d)=>{const l=Object(i.b)(d()),u=l.getFeaturesSelectors,_=l.getFolderFullName,m=(0,l.getFolderName)(e),p=t.substr(t.lastIndexOf("/")+1),h=_(e),g=h.replace(RegExp(Object(c.a)(m)+"$"),p),E=u().getSetting(o.zd.MESSAGE_FILTERS).map(e=>(function(e,t,s){return n()({},e,{actions:e.actions.map(e=>{const a=e.value.folderActionValueBean.folder.name;if(a!==t)return e;const r=n()({},e);return r.value.folderActionValueBean.folder.name=s,r})})})(e,h,g));return a({folderId:e,folderName:t,i13nModel:s,originalFolderName:m,newFolderName:p,filters:E,type:r.wi,name:o.zd.MESSAGE_FILTERS,value:E})},_=({newFolderName:e,folderId:t,originalFolderName:s,folder:a,subfolders:n=[]})=>({newFolderName:e,folderId:t,originalFolderName:s,folder:a,subfolders:n,type:r.xi}),m=({folderId:e,newFolderName:t,originalFolderName:s,filters:a,error:n})=>({folderId:e,newFolderName:t,originalFolderName:s,filters:a,error:n,type:r.vi}),p=({folderId:e,folderName:t,i13nModel:s={}})=>({folderId:e,folderName:t,i13nModel:s,type:r.Zd}),h=({folderId:e,folderName:t,i13nModel:s})=>({folderId:e,folderName:t,i13nModel:s,type:r.ae}),g=({folderId:e,folderName:t,error:s})=>({folderId:e,folderName:t,error:s,type:r.Yd});const E=e=>n()({type:r.Me},e),I=e=>n()({type:r.yk},e)},,,,function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(45);function n(e,t){e.target.onerror=null,e.target.src=Object(a.a)(t)}},,function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return d});var a=s(1),n=s.n(a),r=s(6);const i=",",o="+",c={reply:{key:"R",description:n.a.createElement("strong",null,n.a.createElement(r.FormattedMessage,{id:"shortcut.reply",defaultMessage:"Reply"}))},replyAll:{key:"A",description:n.a.createElement("strong",null,n.a.createElement(r.FormattedMessage,{id:"shortcut.reply_all",defaultMessage:"Reply All"}))},forward:{key:"F",description:n.a.createElement("strong",null,n.a.createElement(r.FormattedMessage,{id:"shortcut.forward",defaultMessage:"Forward"}))},print:{key:"P",description:n.a.createElement("strong",null,n.a.createElement(r.FormattedMessage,{id:"shortcut.print",defaultMessage:"Print"}))}},d=["r","a","f","p"]},,function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(29),l=s.n(d),u=s(6),_=s(79),m=s(16),p=s(65),h=s(18),g=(s(9),s(12),s(25)),E=s(13),I=s.n(E),S=s(671),C=s.n(S),f=s(5);const T=I()(C.a);var A=class extends c.a.Component{render(){return c.a.createElement("div",{id:"drag-icon-div","data-test-id":"drag-image",className:T.dragIcon,style:{left:this.props.x,top:this.props.y}},c.a.createElement(_.a,{title:"drag-icon",kind:this.props.iconKind,size:f.d.XS,colorStates:{normal:f.a.SELECTED,hovered:f.a.SELECTED}}),c.a.createElement("div",{className:T.counter},this.props.count))}},b=s(391),O=s.n(b);const R=Object(u.defineMessages)({remove_contact:{id:"compose.remove_contact",defaultMessage:"Remove"}});class N extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{hovered:!1,isDragHovered:!1,dragSide:"",isSelfDrag:!1}),n()(this,"handleDragEnter",()=>{this.setState({isDragHovered:!0})}),n()(this,"handleDragOnPill",(e,t)=>{this.setState({dragSide:t})}),n()(this,"handleDragLeave",()=>{this.setState({dragSide:""}),this.state.isDragHovered&&this.setState({isDragHovered:!1})}),n()(this,"shouldHandleDrop",e=>e===this.refs.leftDragNode||e===this.refs.rightDragNode),n()(this,"handleDragOver",e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()}),n()(this,"handleDragEnd",()=>{this.removeDragImage(),this.props.handleDragState(!1),this.setState({isDragHovered:!1,isSelfDrag:!1})}),n()(this,"renderDragImage",(e,t)=>{const s=e.cloneNode(!0),a=I()(O.a,{isDragImg:!0}),n=I()(O.a),r=s.getElementsByClassName("pill-close")[0],i=e.clientHeight,o=e.clientWidth;if(this.imgContainer.id="drag-img",this.imgContainer.style.height=i+"px",this.imgContainer.style.maxWidth=o+10+"px",this.imgContainer.style.opacity=1,Object(g.g)(this.imgContainer),s.classList.remove.apply(s.classList,n.pillContent.split(" ")),s.classList.add.apply(s.classList,a.pillContent.split(" ")),r&&s.removeChild(r),this.imgContainer.appendChild(s),t>1){const e=document.createElement("div");e.style.position="absolute",l.a.render(c.a.createElement(A,{count:t,x:o-40,y:-14,iconKind:f.b.CONTACT_CARD}),e),this.imgContainer.appendChild(e)}return this.imgContainer}),n()(this,"removeDragImage",()=>{if(this.imgContainer&&this.imgContainer.parentNode){const e=document.getElementById("icon-div");e&&e.parentNode&&(l.a.unmountComponentAtNode(e),e.parentNode.removeChild(e)),this.imgContainer.parentNode.removeChild(this.imgContainer)}this.imgContainer=null}),n()(this,"handleDragStart",e=>{const t=e.target,s=this,a=this.props.selectedPills,n={email:this.props.contactEmail,name:this.props.value,id:this.props.contactId};let r=a.length;const i=a.findIndex(({name:e,email:t})=>n.name===e&&n.email===t);this.imgContainer||(this.imgContainer=document.createElement("div"),document.body.appendChild(this.imgContainer)),e.dataTransfer.setData("text",JSON.stringify({contact:n,dragFromField:this.props.inputField})),e.dataTransfer.effectAllowed="move",Object(g.h)()&&(r>0&&-1===i&&(r+=1),e.dataTransfer.setDragImage(this.renderDragImage(t,r),0,0)),setTimeout(function(){s.props.handleDragState(!0),s.setState({isSelfDrag:!0})})}),n()(this,"handleDrop",(e,t)=>{this.shouldHandleDrop(e.target)&&(this.removeDragImage(),this.setState({dragSide:"",isDragHovered:!1}),this.props.handleDrop(e,t,this.props.contactId))}),n()(this,"handleOnKeyDown",e=>{e.stopPropagation()}),n()(this,"handleHover",e=>{this.setState({hovered:e})}),n()(this,"renderPillImage",e=>{const t=this.props,s=t.isFolderPill,a=t.contactEmail,n=t.contactId,r=t.pillFujiKind,i=t.pillFujiSize,o=t.pillFujiColorState,d=Object(h.n)(a);return s?c.a.createElement("div",{"data-test-id":"pill-folder",className:e.pillDiv},c.a.createElement(m.b,{kind:r,colorState:o,size:i})):d?c.a.createElement("div",{"data-test-id":"pill-avatar",className:e.avatar},c.a.createElement(p.d,{contact:{id:n,email:a},size:p.c.S})):null}),n()(this,"renderDraggedPill",(e,t)=>e?c.a.createElement("div",{className:t.dragHoverContent,"data-test-id":"drag-hover-content"},c.a.createElement("div",{ref:"leftDragNode",className:t.dragHoverLeft,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"left"),onDrop:e=>this.handleDrop(e,"left")}),c.a.createElement("div",{ref:"rightDragNode",className:t.dragHoverRight,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"right"),onDrop:e=>this.handleDrop(e,"right")})):null),n()(this,"renderRemovePill",(e,t,s)=>(this.props.isSelected||e)&&this.props.onPillRemove?c.a.createElement("div",{className:"pill-close "+t.pillRemove},c.a.createElement(_.a,{kind:f.b.CLOSE_MINI,size:f.d.XXS,colorStates:s?{normal:f.a.DISABLED,hovered:f.a.SELECTED}:{normal:f.a.DISABLED,hovered:f.a.WARNING},onClick:this.props.onPillRemove,style:{padding:0},title:this.context.intl.formatMessage(R.remove_contact)})):null),n()(this,"handleChange",e=>{this.props.onPillUpdate(e.target.value)}),n()(this,"handleKeyDown",e=>{this.setState({inputWidth:8*e.target.value.length,inputValue:e.target.value}),e.stopPropagation()})}componentDidMount(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentDidUpdate(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentWillReceiveProps(e){if(this.props.title!==e.title){this.setState({inputValue:e.title,inputWidth:e.title&&e.title.length?8*(e.title.length+1):300})}}render(){const e=this.state,t=e.hovered,s=e.isDragHovered,a=e.dragSide,n=e.isSelfDrag,r=this.props,i=r.useEllipsis,o=r.isSelected,d=r.maxWidth,l=r.isDark,u=r.isFolderPill,_=r.isDragged,m=r.isEditing,p=Object(h.n)(this.props.contactEmail),g=!p,E=I()(O.a,{isHovered:t,hasError:g,isSelected:o,useEllipsis:i,isDark:l,isFolderPill:u,dragSide:a,isDragged:n||_});let S;i&&d&&(S={maxWidth:d});const C=this.props.title;if(m){return c.a.createElement("div",{className:"pill-container "+E.pillContainer,onBlur:this.handleChange},c.a.createElement("input",{ref:e=>{this.editInputPill=e},"data-test-id":"edit-pill-input",className:E.editInput,type:"text",defaultValue:this.state.inputValue||this.props.title,onKeyDown:this.handleKeyDown,style:{width:(this.state.inputWidth||"300")+"px"}}))}return c.a.createElement("div",{className:"pill-container "+E.pillContainer},c.a.createElement("div",{"data-test-id":"pill",title:C,"aria-label":this.props.value,className:"pill-content "+E.pillContent,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.props.onPillClick,onDoubleClick:this.props.onPillEdit,draggable:this.props.dragDropPill&&this.props.isCompose,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter},this.renderPillImage(E),c.a.createElement("div",{"data-test-id":"pill-text",className:E.pillText,style:S},this.props.value),this.renderRemovePill(t,E,p)),this.renderDraggedPill(s,E))}}n()(N,"contextTypes",{intl:u.intlShape.isRequired,config:i.a.object}),n()(N,"defaultProps",{onPillClick:()=>{},useEllipsis:!1,isDark:!1,isFolderPill:!1,isDragged:!1,selectedPills:[],dragDropPill:!0,isEditing:!1});t.a=N},,function(e,t,s){"use strict";s.d(t,"e",function(){return l}),s.d(t,"b",function(){return u}),s.d(t,"f",function(){return _}),s.d(t,"a",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"g",function(){return h}),s.d(t,"h",function(){return g}),s.d(t,"d",function(){return E});s(4);var a=s(2),n=s(10),r=s(17),i=s(0),o=s(11);const c=1e4;function d(e,t){return t>=(0,Object(o.b)(e.store.getState()).getFeaturesSelectors)().getSetting("bulkActionDialogThreshold")}function l({folderId:e,filterUnread:t=!1}){let s=`folderId:${e} count:${c}`;return t&&(s+=" is:unread"),s}function u(e,{accountId:t,folderName:s,fromModalDialog:n=!1,i13nModel:r={}}){return e.dispatch(a.Gd,{accountId:t,folderName:s,i13nModel:r}),e.mailAPIClient.request("folders.create",{folderName:s,accountId:t}).then(t=>{e.dispatch(a.Hd,{folder:t.folder,fromModalDialog:n})}).catch(t=>{e.dispatch(a.Fd,{folderName:s,fromModalDialog:n,error:t})})}function _(e,{streamId:t,listId:s,folderId:n,unreadCount:r,i13nModel:o}){const l=Math.min(r,c),u=d(e,l);e.dispatch(a.li,{folderId:n,listId:s,isAsync:u,count:l,isRead:!1,flags:{read:!0},allSelected:!0,streamId:t,triageActionType:i.ne.READ_CHANGE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:a.tl,triageActionType:i.ne.READ_CHANGE_FOLDER_ITEMS,folderId:n},failureAction:{type:a.sl,triageActionType:i.ne.READ_CHANGE_FOLDER_ITEMS,folderId:n},i13nModel:o})}function m(e,{folderId:t,total:s,streamId:r,i13nModel:o}){const l=Object(n.v)(t),u=i.Cb.ARCHIVE,_=Math.min(s,c),m=d(e,_);e.dispatch(a.vh,{streamId:r,listId:l,folderId:t,destinationFolderType:u,isAsync:m,count:_,allSelected:!0,triageActionType:i.ne.ARCHIVE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:a.tl,triageActionType:i.ne.ARCHIVE_FOLDER_ITEMS,folderId:t},failureAction:{type:a.sl,triageActionType:i.ne.ARCHIVE_FOLDER_ITEMS,folderId:t},i13nModel:o})}function p(e,{folderId:t,total:s,streamId:l,i13nModel:u}){const _=Object(o.b)(e.store.getState()),m=_.isPermDeleteFolderType,p=_.getMainStreamItems,h=_.normalizeRoute,g=Object(n.v)(t),E=m(t),I=Math.min(s,c),S=d(e,I),C=h(Object(r.l)(t));e.dispatch(a.ce,{streamId:l,listId:g,folderId:t,destinationFolderType:i.Cb.TRASH,permanent:E,isAsync:S,count:I,conversations:!1,allSelected:!0,triageActionType:i.ne.DELETE_FOLDER_ITEMS,streamItems:p(C),isV2Action:!0,successAction:{type:a.tl,triageActionType:i.ne.DELETE_FOLDER_ITEMS,folderId:t},failureAction:{type:a.sl,triageActionType:i.ne.DELETE_FOLDER_ITEMS,folderId:t},i13nModel:u})}function h(e,{i13nModel:t}){e.dispatch(a.nf,{i13nModel:t})}function g(e,{i13nModel:t}){e.dispatch(a.Le,{i13nModel:t})}function E(e,{folderId:t,i13nModel:s}){e.dispatch(a.ee,{folderId:t,i13nModel:s})}},function(e,t,s){"use strict";s.d(t,"a",function(){return p});var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(20),l=s(5),u=s(6),_=s(9);const m=Object(u.defineMessages)({checked:{id:"atom.checkbox_checked",defaultMessage:"Checkbox, checked"},notChecked:{id:"atom.checkbox_not_checked",defaultMessage:"Checkbox, not checked"},partialChecked:{id:"atom.checkbox_partial_checked",defaultMessage:"Checkbox, partially checked"}}),p=Object(_.c)(["NONE","ALL","PARTIAL"]);class h extends c.a.Component{render(){const e=this.props,t=e.highContrast,s=e.size,a=e.isMonochrome;let r,i,o,u,_;switch(e.isInverted?(u=t?l.a.INVERTED_LESS_DIM:l.a.INVERTED_DIM,_=l.a.INVERTED):(u=t?l.a.NORMAL:l.a.COOL_FAINT,_=l.a.SELECTED),e.type){case p.ALL:r=l.b.CHECKBOX_ON,i=_,o=m.checked;break;case p.PARTIAL:r=a?l.b.MONOCHROME_MIXED_CHECKBOX:l.b.MIXED_CHECKBOX,i=u,o=m.partialChecked;break;case p.NONE:default:r=l.b.CHECKBOX_OFF,i=u,o=m.notChecked}return c.a.createElement(d.a,n()({"data-test-id":"checkbox"},this.props,{"data-iskeynav":!0,size:s,kind:r,colorState:i,title:this.context.intl.formatMessage(o)}))}}i()(h,"defaultProps",{highContrast:!1,isInverted:!1,size:l.d.XS,isMonochrome:!1,tabIndex:-1}),i()(h,"contextTypes",{intl:u.intlShape.isRequired}),t.b=h},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(22),_=s(787),m=s.n(_),p=s(19),h=s(12);const g=(e,{getCss:t,getThemeMode:s})=>{let a=e.onClick,r=e.isSelected,o=void 0!==r&&r,c=e.title,d=e.itemRef,_=e.maxWidth,g=e.isOnRightRail,E=i()(e,["children","onClick","isSelected","title","itemRef","maxWidth","isOnRightRail"]);const I={},S=s(),C=t(m.a,{isSelected:o,showWhiteLabels:g&&S===u.h.MEDIUM||S===u.h.DARK,showEllipsis:!!_});return E["data-test-id"]&&(I["data-test-id"]=E["data-test-id"]),_&&(I.style={maxWidth:_}),l.a.createElement("li",{className:C.segment,role:"presentation",ref:d},l.a.createElement(p.a,n()({},I,{"data-iskeynav":!0,tabIndex:h.TabIndices.SEGMENTED_CONTROL_FILTERS,className:C.button,role:"tab","aria-selected":o,onClick:a,title:c}),l.a.createElement("span",{className:C.buttonText,"aria-hidden":!0},c)))};g.defaultProps={isOnRightRail:!1},g.contextTypes={getCss:c.a.func,getThemeMode:c.a.func},t.a=g},,function(e,t,s){"use strict";var a=s(6);t.a=Object(a.defineMessages)({mailBrandName:{id:"mail.yahoo_mail_brand_name",defaultMessage:"Yahoo Mail"},brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"}})},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(170),c=(s(9),s(5));function d(e){const t=e.isChecked,s=e.size;return i.a.createElement(o.b,n()({},e,{type:t?o.a.ALL:o.a.NONE,size:s}))}d.defaultProps={size:c.d.XS},t.a=i.a.memo(d)},,function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(19),c=s(102),d=s(734),l=s.n(d),u=s(13),_=s.n(u),m=s(12),p=s(16),h=s(20),g=s(6),E=s(5);const I=_()(l.a),S={margin:`14px ${m.GRID_UNIT}px ${5*m.GRID_UNIT}px 0`,border:0,padding:`0 ${7*m.GRID_UNIT}px`},C=Object(g.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptText:{id:"alert.ok",defaultMessage:"OK"}}),f=()=>{};class T extends i.a.Component{constructor(...e){super(...e),n()(this,"state",{shown:!0}),n()(this,"handleKeyDown",e=>{("Enter"===e.key||"Escape"===e.key&&!this.props.onClose)&&(e.preventDefault(),e.stopPropagation(),this.props.onAccept())}),n()(this,"handleAccept",e=>{e.stopPropagation(),this.props.onAccept()}),n()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose()})}render(){const e=this.context.intl.formatMessage,t=e(this.props.acceptText);let s;return s=this.props.hideClose?null:i.a.createElement("div",{className:I.close},i.a.createElement(h.a,{onClick:this.props.onClose?this.handleClose:this.handleAccept,kind:E.b.CLOSE,size:E.d.XS,title:e(C.close),"aria-label":e(C.close),"data-test-id":"alert-button-close"})),i.a.createElement(c.a,{onKeyDown:this.handleKeyDown,onClose:this.props.onClose?this.props.onClose:f},i.a.createElement("div",{className:I.container,"data-test-id":"alert-dialog",role:"alertdialog"},i.a.createElement("div",{className:I.icon},i.a.createElement(p.b,{kind:E.b.EXCLAMATION_ALT,size:E.d.L,colorState:E.a.WARNING_GRAD_RED})),i.a.createElement("header",{className:I.header},i.a.createElement("h3",{className:I.title,"data-test-id":"alert-title"},this.props.title),s),i.a.createElement("section",{className:I.message,"data-test-id":"alert-message"},this.props.message),i.a.createElement("footer",{className:I.controls},i.a.createElement(o.a,{onClick:this.handleAccept,style:S,"data-test-id":"alert-button-ok"},t))))}}n()(T,"contextTypes",{intl:g.intlShape.isRequired}),n()(T,"defaultProps",{acceptText:C.defaultAcceptText}),t.a=T},function(e,t,s){"use strict";s(8);var a=s(1),n=s.n(a),r=s(6),i=s(13),o=s.n(i),c=(s(0),s(9),s(41)),d=s(656),l=s.n(d),u=s(117);const _=o()(l.a),m=Object(r.defineMessages)({ariaLabel:{id:"folder_label_with_count",defaultMessage:"{folderName}, {count, plural, =0 {} other {# unread}}"}});function p({folderDisplayType:e="",name:t,prefix:s="",count:a},{intl:r}){const i=s+(Object(c.n)(r.formatMessage,e)||t),o=r.formatMessage(m.ariaLabel,{folderName:i,count:a}),d="rtl"===Object(u.getTextDirection)(i)?_.rtlIgnoreDirRTL:_.rtlIgnoreDirLTR;let l;return a&&(l=` (${r.formatNumber(a)})`),n.a.createElement("span",{className:l?_.container:"","aria-live":!0,role:"heading","aria-label":o},n.a.createElement("span",{className:d+" "+(l?_.label:""),"aria-hidden":!0,"data-test-folder-name":t},i),l?n.a.createElement("span",{className:_.count,"aria-hidden":!0},l):null)}p.defaultProps={count:0},p.contextTypes={intl:r.intlShape.isRequired},t.a=p},function(e,t,s){"use strict";s.d(t,"c",function(){return r}),s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o});const a="documentElement",n="compatMode";function r(e){const t=e?e.ownerDocument:document,s=t.defaultView||t.parentWindow,r=t[n];let i=t[a],o=s.innerHeight,c=s.innerWidth;return r&&("CSS1Compat"!==r&&(i=t.body),o=i.clientHeight,c=i.clientWidth),{height:o,width:c}}function i(e){const t=e.querySelectorAll("a");Array.prototype.forEach.call(t,e=>{e.removeAttribute("href"),e.classList.add("removed-link")})}function o(e={}){if(!window)throw new Error("Could not find browser window");return window.getSelection()&&window.getSelection().toString()&&e.current&&e.current.contains(window.getSelection().anchorNode)}},function(e,t,s){"use strict";s.d(t,"b",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"d",function(){return h}),s.d(t,"a",function(){return g});var a=s(31),n=s.n(a),r=s(30),i=s(0),o=s(186),c=s(77),d=s(254);const l=/messages\/@.id==(.*?)\/.*?content\/parts\/@.id==(.*?)\//i,u=/^https/i,_="yahoo-style-wrap";function m(e){const t=e.querySelectorAll(`[class*="${_}"]`);return 0===t.length?null:t[0]}function p(e){if(!e)return!1;const t=e.getAttribute("class");return t&&-1!==t.indexOf("yiv")}function h(e,t){const s=t.getAttachmentsSelectors,a=(0,t.getFeaturesSelectors)().getSetting,d=Object(o.getInertElement)(e),h=function(e){return!!e.querySelector(r.LINK_EHANCER_CARD_SELECTOR)}(d),g=m(d),E=p(g);!function(e,t){const s=t.getDownloadUrlByContentId,a=t.doesAttachmentExistById,i=t.getContentIdByAttachmentId;[].forEach.call(e.querySelectorAll(r.INLINE_IMAGE_SELECTOR),e=>{let t=e.getAttribute("data-id");const r=e.getAttribute("src");if(!t){if(!r||!l.test(r))return;{const e=l.exec(r),s=n()(e,3),o=s[1]+":"+s[2];if(!a(o))return;t=i(o)}}let o=s(t);!o&&u.test(r)&&(o=r),e.setAttribute("src",o||"cid://"+t.slice(1,-1)),e.removeAttribute("data-id"),e.setAttribute("data-id",t)})}(d,s()),function(e){const t=e.querySelector(r.STATIONERY_BODY_SELECTOR);t&&t.removeAttribute("contenteditable")}(d),function(e){[].forEach.call(e.querySelectorAll("font"),e=>{(!e.style||!e.style.backgroundColor)&&e.parentNode&&"SPAN"===e.parentNode.nodeName&&(e.style.backgroundColor="inherit")})}(d);let I="";return g&&!E?(!function(e,t){const s=(0,t.getFeaturesSelectors)().getSetting;e.style.fontFamily||(e.style.fontFamily=s(i.zd.COMPOSE_FONT_FAMILY).replace(/"/g,"")),e.style.fontSize||(e.style.fontSize=Object(c.getFontSizeStyle)(s(i.zd.COMPOSE_FONT_SIZE)))}(g,t),I=d.innerHTML.replace(/&quot;/g,"")):I=d.innerHTML?`<div class="${_}" style="font-family:`+a(i.zd.COMPOSE_FONT_FAMILY).replace(/"/g,"")+";font-size:"+Object(c.getFontSizeStyle)(a(i.zd.COMPOSE_FONT_SIZE))+';">'+d.innerHTML+"</div>":"<div><br /></div>",`<html${h?` ${r.OutlookSupportHTMLAttributes}`:""}>`+`<head>${h?r.OutlookSupportHTMLHeadContent:""}</head>`+"<body>"+I+"</body></html>"}function g(e){return Object(d.convertToPlainText)(Object(o.getInertElement)(e))}},function(e,t,s){"use strict";var a=s(74);t.a=s.n(a).a.create("norrin/bootcamp_client")},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(34),c=s(19),d=s(28);t.a=class extends i.a.Component{render(){return i.a.createElement(o.a,null,i.a.createElement(c.a,n()({kind:d.a.MENUITEM},this.props),this.props.children))}}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(13),c=s.n(o),d=s(676),l=s.n(d),u=s(34),_=s(0);class m extends i.a.Component{constructor(...e){super(...e),n()(this,"handleMouseDown",e=>{this.props.onSelect&&this.props.onSelect(this.props.value,e)}),n()(this,"handleClick",e=>{e.preventDefault()}),n()(this,"handleKeyDown",e=>{switch(e.key){case _.Lb.ENTER:e.preventDefault(),e.stopPropagation(),this.handleMouseDown(e);break;case _.Lb.TAB:e.preventDefault(),e.stopPropagation()}})}render(){const e=this.props,t=e.isSelected,s=e.children,a=e.value,n=e.hoverStyle,r=e.title,o=c()(l.a,{isSelected:t&&!n,hoverStyle:n+(t?"_SELECTED":"")}),d=r||s;return i.a.createElement(u.a,{title:d,ariaLabel:d,"data-test-id":a,onClick:this.handleMouseDown,onKeyDown:this.handleKeyDown},i.a.createElement("a",{href:"#",onClick:this.handleClick,className:o.optionItem},s))}}n()(m,"defaultProps",{isSelected:!1}),t.a=m},,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return h});var a=s(4),n=s.n(a),r=s(60),i=s(0),o=s(137),c=s(81),d=s(2),l=s(111);const u={toolbarMenuShown:(e,{i13nModel:t})=>{e.dispatch(d.Vg,{i13nModel:t})}},_={archive:o.a.archiveMessageGroups,restore:o.a.restoreMessageGroups,delete:o.a.deleteMessageGroups,markAsSpam:o.a.markMessageGroupsAsSpam,markAsNotSpam:o.a.markMessageGroupsAsNotSpam,move:o.a.moveMessageGroups,[i.xd.ALL]:o.a.selectAll,[i.xd.NONE]:o.a.selectNone,[i.xd.READ]:o.a.selectRead,[i.xd.UNREAD]:o.a.selectUnread,[i.xd.STARRED]:o.a.selectStarred,[i.xd.UNSTARRED]:o.a.selectUnstarred},m={reply:c.s,replyAll:c.r,forward:c.f},p={[r.c.LIST]:Object.assign({},u,_),[r.c.LIST_WITH_PREVIEW_RIGHT]:Object.assign({},u,m,_),[r.c.LIST_WITH_PREVIEW_BOTTOM]:Object.assign({},u,m,_),[r.c.MESSAGE_VIEW]:Object.assign({},u,m,{archive:c.b,restore:c.u,delete:c.d,markAsSpam:c.l,markAsNotSpam:c.i,move:c.p})},h={[r.c.LIST]:n()({},p[r.c.LIST],{delete:l.b,move:l.i,archive:l.a,restore:l.j,markAsSpam:l.f,markAsNotSpam:l.d}),[r.c.LIST_WITH_PREVIEW_RIGHT]:n()({},p[r.c.LIST_WITH_PREVIEW_RIGHT],{delete:l.b,move:l.i,archive:l.a,restore:l.j,markAsSpam:l.f,markAsNotSpam:l.d}),[r.c.LIST_WITH_PREVIEW_BOTTOM]:n()({},p[r.c.LIST_WITH_PREVIEW_BOTTOM],{delete:l.b,move:l.i,archive:l.a,restore:l.j,markAsSpam:l.f,markAsNotSpam:l.d}),[r.c.MESSAGE_VIEW]:p[r.c.MESSAGE_VIEW]};t.b=p},function(e,t,s){"use strict";s(8);var a=s(1),n=s.n(a),r=s(16),i=s(5),o=s(47),c=s(0),d=s(12),l=s(13),u=s.n(l),_=s(747),m=s.n(_);const p=c.w.SimplifiedTypes,h=u()(m.a),g={[p.IMAGE]:i.b.ATTACH_IMAGE_48,[p.VIDEO]:i.b.ATTACH_MOVIE_48,[p.FILE]:i.b.ATTACH_GENERIC_48,[p.AUDIO]:i.b.ATTACH_SOUND_48,[p.COMPRESSED]:i.b.ATTACH_ZIP_48,[p.PDF]:i.b.ATTACH_PDF_48,[p.GDOCS]:i.b.ATTACH_GDOCS_48,[p.GSHEETS]:i.b.ATTACH_GSHEETS_48,[p.GSLIDES]:i.b.ATTACH_GSLIDES_48,[p.XLS]:i.b.ATTACH_XLS_48,[p.PPT]:i.b.ATTACH_PPT_48,[p.DOC]:i.b.ATTACH_DOC_48,[p.CAL]:i.b.ATTACH_ICS_48,[p.FOLDER]:i.b.FOLDER},E={[p.IMAGE]:i.a.ATTACH_MEDIA,[p.VIDEO]:i.a.ATTACH_MEDIA,[p.AUDIO]:i.a.ATTACH_MEDIA,[p.PDF]:i.a.ATTACH_PDF,[p.GDOCS]:i.a.ATTACH_DOC,[p.GSHEETS]:i.a.ATTACH_EXCEL,[p.GSLIDES]:i.a.ATTACH_SLIDE,[p.XLS]:i.a.ATTACH_EXCEL,[p.PPT]:i.a.ATTACH_SLIDE,[p.DOC]:i.a.ATTACH_DOC,[p.CAL]:i.a.ATTACH_CAL,[p.COMPRESSED]:i.a.ATTACH_COMPRESSED,[p.FOLDER]:i.a.FOLDER},I={[i.a.ATTACH_MEDIA]:`url(#${i.a.ATTACH_MEDIA}) ${d.PALETTE.ycolorPurple14a}`,[i.a.ATTACH_CAL]:`url(#${i.a.ATTACH_MEDIA}) ${d.PALETTE.ycolorPurple14a}`,[i.a.ATTACH_EXCEL]:`url(#${i.a.ATTACH_EXCEL}) ${d.PALETTE.ycolorTurquoise8a}`,[i.a.ATTACH_DOC]:`url(#${i.a.ATTACH_DOC}) ${d.PALETTE.ycolorBlue10b}`,[i.a.ATTACH_SLIDE]:`url(#${i.a.ATTACH_SLIDE}) ${d.PALETTE.ycolorPink1a}`,[i.a.ATTACH_PDF]:`url(#${i.a.ATTACH_SLIDE}) ${d.PALETTE.ycolorPink1a}`,[i.a.ATTACH_GENERIC]:`url(#${i.a.ATTACH_GENERIC}) ${d.PALETTE.ycolorBlue10a}`,[i.a.ATTACH_COMPRESSED]:`url(#${i.a.ATTACH_GENERIC}) ${d.PALETTE.ycolorBlue10a}`,[i.a.FOLDER]:`url(#${i.a.FOLDER}) ${d.PALETTE.ycolorGrayFg}`};t.a=function({disabled:e,type:t,subtype:s,isInverted:a,fallbackText:c,filename:l="",isThumbnail:u=!1}){const _=Object(o.i)(l),m=Object(o.d)(t,s),p=_&&E[_]||E[m]||i.a.ATTACH_GENERIC,S=a?d.DODGE_60:I[p];return n.a.createElement("svg",{style:{fill:e?d.THIRD_LEVEL_GRAY:S},viewBox:"0 0 20 20",className:u?h.thumbnailIcon:h.attachmentIcon},r.a[_&&g[_]||g[m]||i.b.ATTACH_GENERIC_48],c&&n.a.createElement("desc",null,n.a.createElement("p",{className:h.fallback},c)))}},function(e,t,s){"use strict";var a=s(6),n=s(30),r=s(12);const i=()=>{},o=Object(a.defineMessages)({inlineImageAltText:{id:"compose.inline_image",defaultMessage:"Inline image"},emojiAltText:{id:"compose.emoji_image",defaultMessage:"Emoji"},gifPickerAttribution:{id:"compose.gif_picker_attr",defaultMessage:"Via {htmlImage}"}}),c=n.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_BIG_WIDTH,d=n.INLINE_IMAGE_PLUGIN_CLASSES.INLINE_IMAGE_CLASS,l=n.INLINE_IMAGE_PLUGIN_CLASSES.EMOJI_WRAPPER_CLASS,u=n.INLINE_IMAGE_PLUGIN_CLASSES.ONLINE_GIF_CLASS,_=n.INLINE_IMAGE_PLUGIN_CLASSES.GIF_WRAPPER_CLASS,m="https://s.yimg.com/nq/gif-providers/1/gif-providers/tenor.png",p="<div><br></div>";function h(e,t,s=i){try{const a=window.getSelection();e.restoreCaret(),a&&!e.element.contains(a.anchorNode)&&e.focus(),e.pushButton("insertHTML",t),e.saveUndo(),s()}catch(e){console.error(e)}}t.a={findGifWrapper(e){for(;e&&-1===e.className.indexOf(_);)e=e.parentNode;return e},insertEmoji(e,t,s){const a=new Image;a.alt=a.title=t(o.emojiAltText),a.classList.add(l),a.height=s.height,a.src=s.downloadLink,a.style.padding="0px 2px",a.style.verticalAlign="middle",a.width=s.width,h(e,a.outerHTML,()=>{e.contentChanged({type:"emoji_inserted",eventData:{emoji:s}})})},insertGif(e,t,s){const a=new Image;a.alt=a.title=s.altText,a.src=s.downloadLink,a.className=d+" "+u,a.setAttribute("data-id",Date.now()),a.draggable=!1,h(e,function(e,t,{onlineContentLink:s}){const a=e(o.gifPickerAttribution,{htmlImage:`<img src="${m}"/>`});let n={"font-size":r.FONT_SIZE_XXS,color:"#979ba7","margin-top":"8px","font-family":"Arial"};return n=Object.keys(n).map(e=>e+":"+n[e]).join(";"),p+`<div class="${_}" contentEditable="false">\n               <a rel="noreferrer"\n                   target="_blank"\n                   href="${s}"\n                   style="cursor:pointer;text-decoration: none;color:transparent"\n               >${t.outerHTML}\n                   <div style="${n}" class="rte-gif-attribution">${a}</div>\n               </a></div>`+p}(t,a,s),()=>{e.contentChanged({type:"gif_inserted",eventData:{gif:s}}),e.scrollCaretIntoView()})},getOffsetFromEditorContainer(e,t){const s={top:0,left:0};for(;t&&t!==e.element.parentNode&&t!==document.body;)s.top+=t.offsetTop,s.left+=t.offsetLeft,t=t.offsetParent;return s},insertLink(e,t){h(e,`<a href="${t}">${t}</a>`,()=>e.scrollCaretIntoView())},insertInlineAttachment(e,t,s){const a=s.contentId,n=new Image;n.setAttribute("data-id",a),n.alt=n.title=t(o.inlineImageAltText),n.src=s.downloadUrl,n.classList.add(d),n.style.maxWidth=c+"px",n.draggable=!1,h(e,n.outerHTML+"<br/>",()=>e.scrollCaretIntoView())},isGif:e=>e.className.indexOf(_)>-1||e.className.indexOf(u)>-1,putCursorBefore(e){const t=window.getSelection(),s=document.createRange();s.setStartBefore(e),s.collapse(!0),t.removeAllRanges(),t.addRange(s)},removeInlineImage(e,t,s=i){let a=n.EDITOR_EVENTS.inline_image_removed;this.isGif(t)&&(t=this.findGifWrapper(t.parentNode),a=n.EDITOR_EVENTS.gif_removed),t.parentNode.removeChild(t),e.contentChanged({type:a}),s()},fixOverlayPosition({hoveredElement:e,overlay:t,scrollableContainer:s,editor:a}){if(e&&t&&s){const n=s.scrollTop,r=this.getOffsetFromEditorContainer(a,e);let i=Math.min(e.clientWidth,s&&s.clientWidth||Number.MAX_VALUE);r.left+i>a.element.clientWidth&&(i=a.element.clientWidth-r.left);let o=e.clientHeight;if(r.top<n){const e=r.top;r.top=n,o-=s.scrollTop-e}Object.assign(t.style,{left:r.left+"px",top:r.top+"px",width:i+"px",height:o+"px",position:"absolute"})}},getNodeFromPath(e,t){for(;t.length&&e&&e.hasChildNodes();)e=e.childNodes[t.pop()];return e},getPathToNode(e,t){const s=[];for(;t&&t!==e;){const e=t.parentNode;if(!e||!e.hasChildNodes())break;{const a=Array.from(e.childNodes).indexOf(t);s.push(a),t=e}}return s}}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o);class d extends c.a.Component{componentDidMount(){this.context.store&&this.context.store.registerUnsyncedDataHandler&&(this.unsyncedDataHandler=this.context.store.registerUnsyncedDataHandler(this.props.getUnsyncedData))}componentWillUnmount(){this.unsyncedDataHandler&&this.unsyncedDataHandler.remove()}render(){return this.props.children||null}}n()(d,"contextTypes",{store:i.a.object}),t.a=d},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"c",function(){return c}),s.d(t,"b",function(){return d});var a=s(4),n=s.n(a),r=s(2),i=s(0);const o=e=>n()({},e,{destinationFolderType:i.Cb.TRASH,type:r.ce}),c=e=>n()({type:r.he},e),d=e=>n()({type:r.ge},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return a});s(178);function a(e,t,s){let a=t.getBoundingClientRect();const n=e.ownerDocument.documentElement.offsetHeight,r=e.ownerDocument.documentElement.offsetWidth,i=e.getBoundingClientRect(),o=-i.width,c=8,d={below:n-i.bottom-c,above:i.top-c,left:i.left-o,right:r-i.right-o},l={},u=Math.floor(.9*Math.max(d.above,d.below)),_=Math.floor(.9*Math.max(d.left,d.right));if(a.height>u&&(l.maxHeight=u),a.width>_&&(l.maxWidth=_),l.maxHeight||l.maxWidth){l.overflow="auto";const e=l.maxHeight||a.height,t=l.maxWidth||a.width;a=Object.assign({},a,{height:e,width:t,bottom:a.top+e,right:a.left+t})}const m=.9*d.below-a.height>=0,p=.9*d.above-a.height>=0,h=.9*d.left-a.width>=0,g=.9*d.right-a.width>=0;return s&&g?l.left=i.left-a.width-o:g?l.left=i.right+o:h&&(l.left=i.left-a.width-o),m?l.top=i.bottom+c:p&&(l.top=i.top-a.height-c),l}},function(e,t,s){"use strict";s.d(t,"a",function(){return g});var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(13),_=s.n(u),m=s(15),p=(s(22),s(9),s(11));const h=e=>{const t=(0,Object(p.b)(e).getFeaturesSelectors)();return{theme:t.getSetting("theme"),themeMode:t.getSetting("themeMode")}},g=e=>Object(m.connect)(h)(function(e){var t,s;return s=t=class extends l.a.Component{getChildContext(){return{getCss:(e,t)=>_()(e,Object.assign({},t,{themeMode:this.props.themeMode,theme:this.props.theme,themeCombo:`${this.props.themeMode}_${this.props.theme}`})),getTheme:()=>this.props.theme,getThemeMode:()=>this.props.themeMode}}render(){return l.a.createElement(e,n()({key:`${this.props.theme}-${this.props.themeMode}`,ref:"childComponent"},this.props))}},i()(t,"displayName","WrappedThemeProvider"),i()(t,"childContextTypes",{getCss:c.a.func,getTheme:c.a.func,getThemeMode:c.a.func}),s}(e))},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(6),c=s(21),d=s(141),l=s(133),u=s(155),_=s(77),m=s(726),p=s.n(m),h=s(261),g=s.n(h),E=s(13),I=s.n(E),S=s(16),C=s(5),f=s(20),T=s(19),A=s(59),b=s(34),O=s(98),R=s(125);const N=I()(p.a),M=I()(g.a),D=Object(o.defineMessages)({foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class y extends i.a.Component{constructor(...e){super(...e),n()(this,"handleBackButton",e=>{e.stopPropagation(),this.props.goToMainMenu()}),n()(this,"onColorChange",(e,t)=>{e(t)})}render(){const e=this.context.intl.formatMessage,t=e(D.foreground_color_text_label),s=this.props,a=s.onFGColorChange,n=s.onBGColorChange,r=s.swatchColors,c=s.selectedFGColor,m=s.selectedBGColor,p=e(D.background_color_text_label),h=Object(_.getSixDigitHexColor)(c),g=Object(_.getSixDigitHexColor)(m),E=r.map(e=>{const t=`#${e}`;return i.a.createElement(v,{key:"fc-"+e,name:"fc-"+e,color:t,selected:h===t,onClick:this.onColorChange.bind(this,a,t),isDark:L(e)})}),I=r.map(e=>{const t=`#${e}`;return i.a.createElement(v,{key:"bc-"+e,name:"bc-"+e,color:t,selected:g===t,onClick:this.onColorChange.bind(this,n,t),isDark:L(e)})});return i.a.createElement(u.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?i.a.createElement(l.a,{style:{display:"none"}}):i.a.createElement(l.a,{"data-test-id":"icon-btn-text_color",title:t,"aria-label":t},i.a.createElement(S.b,{kind:C.b.TEXT_COLOR,size:C.d.XS,colorState:C.a.NORMAL})),i.a.createElement(d.a,{onHide:this.handleMenuHide,menuLayout:R.a.VERTICAL,"data-test-id":"color-picker"},this.props.parentMenu?i.a.createElement(f.a,{title:e(D.back_button_text_label),kind:C.b.ARROW_UP,size:C.d.XS,rotate:C.c.D270,colorState:C.a.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_color_back"},i.a.createElement("span",{className:M.backButtonLabel},i.a.createElement(o.FormattedMessage,D.back_button_text_label))):"",i.a.createElement("div",{className:this.props.parentMenu?N.subColorMenu:N.colorMenu},i.a.createElement(A.a,{layout:R.a.HORIZONTAL},i.a.createElement("li",{className:N.swatchItem},i.a.createElement("div",{className:N.swatchTitleBase},i.a.createElement(o.FormattedMessage,D.foreground_color_text_label)),i.a.createElement("div",{className:N.swatchContent},i.a.createElement(A.a,{layout:R.a.GRID},E))),i.a.createElement("li",{className:N.swatchItem},i.a.createElement("div",{className:N.swatchTitleBase},i.a.createElement(o.FormattedMessage,D.background_color_text_label)),i.a.createElement("div",{className:N.swatchContent},i.a.createElement(A.a,{layout:R.a.GRID,title:p},I)))))))}}function L(e){Object(c.a)(6===e.length,"Expect input to be 6 digit hex color");const t=parseInt(e.slice(0,2),16)/255,s=parseInt(e.slice(2,4),16)/255,a=parseInt(e.slice(4,6),16)/255;return(Math.max(t,s,a)+Math.min(t,s,a))/2<.55}function v({color:e,selected:t,name:s,isDark:a,onClick:n}){return i.a.createElement(b.a,{name:s,kind:O.a.GRID},i.a.createElement("div",{className:N.colorElement},i.a.createElement(T.a,{title:e,className:N.color,style:{backgroundColor:e,boxShadow:"#ffffff"===e?"inset 0 0 0 1px #e2e2e6":null},onClick:n},t&&i.a.createElement(S.b,{kind:C.b.CHECKMARK,size:C.d.XXS,colorState:a?C.a.INVERTED:C.a.NORMAL}))))}n()(y,"contextTypes",{intl:o.intlShape.isRequired}),n()(y,"DEFAULTS",{FG_COLOR:"#000000",BG_COLOR:"#ffffff"}),n()(y,"defaultProps",{swatchColors:["000000","808080","ffffff","9d1811","cd232c","d36a53","a46016","dd902f","e4ac64","ac9e19","fdef2b","fdf869","5b8828","8fca40","add773","4c76a2","70aced","7dbef1","440062","652191","845aa7","9c005c","cb008e","d264aa"],parentMenu:null}),t.a=y},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(72),i=s(96),o=s.n(i),c=s(9),d=s(25),l=s(21),u=s(87),_=s(3),m=s.n(_),p=s(26),h=s(38),g=s(44);function E(e,t){let s=null;return s||(s=function(e,t){if(0===t.indexOf("launch.")){const s=e.statusCode,a=e.extraStatusCode,n=e.extraErrorCode;let r=15;return 429===s&&(r=19),new h.a(g.l,e.message,{apiName:t,code:r,errorCode:e.errorCode,statusCode:s,extraErrorCode:void 0===n?"":n,extraStatusCode:void 0===a?"":a})}return null}(e,t)),s||e}var I=s(52),S=s(0),C=s(57),f=s.n(C),T=s(107),A=s(18),b=s(48),O=s(628),R=s.n(O);const N="/ws/v3/batch",M="post",D="json",y=1,L=["EC-4001","EC-4002","EC-4004","EC-4020"],v=[{errorCode:"EC-4007",methodName:"messages.UnifiedUpdate"}];class P{constructor({endpoints:e}){Object(l.a)(e,"endpoints is missing in BatchRequest"),Object(l.a)(e.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.endpoints=e}request(e,t,s,a,n){if(!n[e])throw new Error(`Invalid method '${e}'.\n                List of available methods: ${JSON.stringify(Object.keys(n))}`);const r=n[e];if(s&&!s.timeout&&this._isGSBMethod(e)&&(s.timeout=6e4),!r.getBatchPayload)throw new TypeError("Method "+e+" does not implement the required function `getBatchPayload`");const i=r.getBatchPayload(t,s);if(null==i||0===Object.keys(i).length||0===i.requests.length)return Promise.reject(new h.a("MailApiClient.EmptyRequestPayload",Object.assign({methodName:e,ymreqid:s.ymreqid,errorCode:"EMPTY_REQUEST"},t)));const o=Object.assign({},i,{responseType:D});s.hash=Object(A.i)(o,s.wssid,s.retryCount,this._getHeaders(s,r,t));const c=this._getEndpoint(e,s);return s.apiDebounceManager.get(e).execute({execute:()=>this._request(e,c,o,s,a,r,t),hash:s.hash,log:({duration:t,counter:a,active:n})=>{T.a.error("mail_api_client_debounced",{apiName:e,hash:s.hash||"",ymreqid:s.ymreqid||"",appId:s.appId||"",useHostname:s.useHostname||!1,duration:t,counter:a,active:n})}})}_getHeaders(e,t,s){return Object.assign({},this._getCustomHeaders(t,s),e.headers)}_request(e,t,s,a,r,i,o){const d=this._getHeaders(a,i,o),l=a.appId,u=void 0===l?"":l,_=a.ymreqid,m=void 0===_?"":_,p=a.debugRequestPayload,h=void 0!==p&&p;return this._sendRequest(e,t,s,a,r,d).then(d=>{let l,_;const p=Object(c.a)(d,"body.result.responses",[]);if(!p.length){const e=Object(c.a)(d,"text","Not Available"),t=Object(c.a)(d,"headers","Not Available"),s=Object.assign(e?{}:{headers:t},{responseText:e});l=new I.a(g.i,{},!0,s)}else _=this._generateSuccessAndFailureResponses(p),l=this._getError(i,_,o,e);if(l){const n=a.retryCount,c=void 0===n?0:n,d=l.statusCode,_=l.errorCode,p=l.extraStatusCode,h=l.extraErrorCode,E=l.isRetryable,I=void 0!==E&&E;if(a.isComposite&&I&&c<y)return a.retryCount=c+1,this._request(e,t,s,a,r,i,o);if(l.message!==g.k)throw l;T.a.error("mail_api_unhandled_error",{apiName:e,appId:u,ymreqid:m,statusCode:d,errorCode:_,extraStatusCode:p,extraErrorCode:h})}return i.transformResponses(_,n()({},a,o),s)}).catch(t=>{const a=t.errorCode,n=void 0===a?"":a;throw h&&(L.indexOf(n)>-1||v.find(t=>t.errorCode===n&&t.methodName===e))&&T.a.error("debug_request_payload",{apiName:e,appId:u,ymreqid:m,errorCode:n,requestPayload:R()(s)}),t=E(t,e)||t})}_generateSuccessAndFailureResponses(e){const t={successMap:{},failureMap:{}};return e.forEach(e=>{e.httpCode<400?t.successMap[e.id]=e:t.failureMap[e.id]=e}),t}_getError(e,t,s,a){const n=t.successMap,r=t.failureMap,i=Object.keys(r).length,o=s.mailboxSwitcher,d=s.externalAndPhoneRegTrapPage,l=s.allowUsernameAndPhoneReg;if(-1!==a.indexOf("launch.")&&n.GetMailboxes){const e=Object(c.a)(n.GetMailboxes,"response.result.mailboxes",[]);if(e.length>1&&!o){return new I.a(g.q,{GetMailboxes:{id:"GetMailboxes",response:e}},!1)}}if((!l||d)&&n.GetAccounts){const e=Object(c.a)(n.GetAccounts,"response.result.accounts",[]),t=e.find(e=>e.isPrimary&&(e.type===S.i.EXTERNAL||e.type===S.i.PHONE));if(t){const s={GetAccounts:{id:"GetAccounts",response:t}};if(!l)return new I.a(g.a,s,!1);if(d){if(!e.find(e=>{const t=e.status;return Object(b.h)(e)&&(t===S.h.ENABLED||t===S.h.PENDING)}))return new h.a(g.m,{accountType:t.type},!1)}}}if(e.getBatchError){const a=e.getBatchError(t,s);return!a&&i?new I.a(g.k,r):a}return i?new I.a(g.j,r):null}_getCustomHeaders(e,t){let s=null;return e.getHeaders&&(s=e.getHeaders(t)),s}_setCustomHeaders(e,t){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}_isGSBMethod(e){return/^messages\.[a-z]+(Bodies|BodiesFull)$/i.test(e)}_sendRequest(e,t,s,a,n,r){const i=new P.Transport(M,t,{timeout:a.timeout,httpRetry:a.httpRetry,shouldRetry:a.shouldRetry,apiName:e,uploadProgressCallback:a.uploadProgressCallback});return a.cookie&&i.setCookieHeader(a.cookie),i.setHeader("Accept","application/json"),this._setCustomHeaders(i,r),i.setField("batchJson",JSON.stringify(s)),n&&n.forEach(e=>{i.setAttachment(encodeURIComponent(e.name),e)}),i.send()}_getEndpoint(e,t){const s=t.appId,a=void 0===s?"":s,n=t.wssid,r=void 0===n?"":n,i=t.ymreqid,o=void 0===i?"":i,c=t.useHostname,d=t.hash,u=void 0===d?"":d,_=t.retryCount,m=void 0===_?0:_,p=void 0!==c&&c?"http://"+this.endpoints.INTERNAL_JWS_HOST:"";Object(l.a)(r,"wssid is required for making request to JEDI"),Object(l.a)(o,"ymreqid is required for making request to JEDI");const h=Object.assign({name:e,hash:u,appId:a,ymreqid:o,wssid:r},m>0?{retryCount:m}:{});return p+N+"?"+f.a.stringify(h)}}m()(P,"Transport",p.b);var F=P;const w=S.xe+"/mail_api/",k=(e,t,s,a,n,r)=>{const i=new p.b("post",w+e+"?crumb="+a+"&ymreqid="+s+"&wssid="+n,{httpRetry:r});return i.setHeader("Accept","application/json"),i.send({params:t,ymreqid:s}).then(e=>e.body)};var x=s(41),U=s(478);var G=s(68),j=s.n(G),H=s(33),B=s.n(H);const V={[S.ic.DELIVERY_BLOCKED_SENDERS]:"senders",[S.ic.SCOUT_ONBOARDING]:"value",[S.ic.SUPPRESSED_UPSELLS]:"value",[S.ic.NODIN_ONBOARD]:"value"};var W=s(301),q={getNakedRequestUrl:(e,t,s={},a,n,r)=>{return`http://${e}/ws/v3/mailboxes/@.id==${t}/attributes/@.select==q?q=${Object(c.g)(s).map(e=>encodeURIComponent(`attrid:${e}`)).join("+")}&appid=${a}&wssid=${n}&ymreqid=${r}`},transformResponse:e=>{const t=e.attributes;return(void 0===t?[]:t).reduce((e,t)=>{const s=function(e){return{response:{result:e}}}(t),a=W.a.transformResponse(s);return Object.assign(e,a)},{})}};class z extends F{request(e,{mailboxId:t,filter:s,count:a,offset:r,sortOrder:i=S.Od.CARD_DATE_DESC,accountId:o},c,d,l){return super.request("refundCards.getList",{mailboxId:t,filter:s,count:a,offset:r,sortOrder:i,accountId:o},c,d,l).then(e=>{const s=[],a=[];return e.cardGroupList.forEach(e=>{e.messages.forEach(e=>{-1===a.indexOf(e.cardConversationId)&&a.push(e.cardConversationId)})}),s.push(a.length>0?super.request("messages.getExtractions",{mailboxId:t,cardConversationIds:a},c,d,l):Promise.resolve({result:{extractedMessagesList:[]}})),Promise.all(s).then(([t])=>{const s=t.result.extractedMessagesList.filter(e=>e&&e.decos&&e.decos.some(e=>e&&e.id&&e.id===S.nc.EML)),a=s.map(e=>e.cardConversationId),r=e.cardGroupList.filter(e=>e.messages.every(e=>-1!==a.indexOf(e.cardConversationId))),i=s.reduce((e,t)=>n()({},e,{[t.id]:n()({},t)}),{}),o={cardGroupList:r,hasMoreItems:e.hasMoreItems,offset:e.offset};return n()({},{messageGroupsResponses:o},{parentMessagesMap:i})})})}}var K=s(35);var Z=s(196);const Y=1;class X extends r.a{constructor({appName:e=S.t.MAIL_APP,appId:t=S.Ae,guidHash:s,wssid:a,crumb:n,cookie:r,bizMboxId:i,loggerParams:c,httpRetry:_,requestQueue:m,isOnline:p,throttleAPIList:h,batchMethods:g,headers:E={},jwsYHeaders:I={},endpoints:C={},executeRequestsSequentially:f=Object(d.b)(),config:T={}},A){if(super({loggerName:S.r.MailAPIClient,loggerParams:Object(d.b)()?{}:c,crumb:n,wssid:a,isOnline:p,endpoints:C}),"string"==typeof A&&!X.STRATEGIES[A])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(X.STRATEGIES)));Object(l.a)(C.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.batchMethods=g,this.appName=e,this.appId=t,this.cookie=r,this.bizMboxId=i,this.headers=Object.assign({},E,I),this.httpRetry=_,this.strategy=A||this._getDefaultStrategy(),this._validateStrategy(this.strategy),f&&(Object(l.a)(m,"if you are executing requests sequentially, you must pass a request queue."),this.executeRequestsSequentially=!0,this.requestQueue=m),s&&(this.ymreqidGenerator=new o.a(s,S.ze,S.id)),this.apiDebounceManager=new K.a(h||{}),this.debugRequestPayload=Object(u.b)(T,"debugRequestPayload")}static getBatchRequest(e,t){return new(X.BATCH_REQUESTS[e]||X.BATCH_REQUESTS.Batch)({endpoints:t})}_getDefaultStrategy(){return Object(d.b)()?X.STRATEGIES.BROWSER_TO_JEDI:X.STRATEGIES.NODE_TO_JEDI}_validateStrategy(e){if(Object(d.b)()&&e===X.STRATEGIES.NODE_TO_JEDI)throw new Error(X.STRATEGIES.NODE_TO_JEDI+" strategy can not be used in the browser");if(!Object(d.b)()&&[X.STRATEGIES.BROWSER_TO_NODE_TO_JEDI,X.STRATEGIES.BROWSER_TO_JEDI].indexOf(e)>-1)throw new Error(X.STRATEGIES.BROWSER_TO_NODE_TO_JEDI+" or "+X.STRATEGIES.BROWSER_TO_JEDI+" strategies can not be used on the server")}_getRequest(e,t,s,a){if(s.useHostname=s.strategy===X.STRATEGIES.NODE_TO_JEDI,s.strategy===X.STRATEGIES.BROWSER_TO_NODE_TO_JEDI)return Object(l.a)(!a,"We cannot proxy a request with files."),k.bind(null,e,t,s.ymreqid,this.crumb,this.wssid,s.httpRetry);const n=X.getBatchRequest(e,this.endpoints);return n.request.bind(n,e,t,s,a,this.batchMethods)}request(e="",t={},s={},a){if(!s.ymreqid&&!this.ymreqidGenerator)throw new Error("`ymreqid` is missing. You should either specify `ymreqid` in `requestConfig` object when making a request or initialize MailAPIClient with `guidHash`, so that it can generate a new one");const r=this.strategy===X.STRATEGIES.NODE_TO_JEDI&&s.ymreqid?s.ymreqid:this.ymreqidGenerator.generate(),i=s.retryCount,o=void 0===i?0:i,c=s.retryErrorCode,l=void 0===c?"":c,u=s.retryStatusCode,_=void 0===u?"":u,m=s.retryYmreqid,p=void 0===m?"":m,h=s.uploadProgressCallback,g={useHostname:null,ymreqid:r,cookie:this.cookie,retryCount:o};s.crumb&&(this.crumb=s.crumb),s.wssid&&(this.wssid=s.wssid),this.appId!==S.Ae||Object(d.b)()||s.appId||(s.appId=S.Ee),g.appName=s.appName||this.appName,g.appId=s.appId||this.appId,g.ymreqid=r,g.wssid=s.wssid||this.wssid,g.strategy=s.strategy||this.strategy,g.noRetry=s.noRetry,g.timeout=s.timeout,g.headers=s.headers||this.headers,g.uploadProgressCallback=h,g.httpRetry=this.httpRetry,g.shouldRetry=this.shouldRetry,g.loggerParams=this.loggerParams,g.apiDebounceManager=this.apiDebounceManager,g.debugRequestPayload=this.debugRequestPayload,this._validateStrategy(g.strategy);const E=this.getMailboxParams(),I=Array.isArray(t)?t.map(e=>n()({},e,E)):n()({},t,this.getMailboxParams());this.bizMboxId&&(I.bizMboxId=this.bizMboxId);const C=this._getRequest(e,I,g,a),f={apiName:e,ymreqid:r,retryCount:o};let T;return t.prefetchMode&&(f.prefetchMode=t.prefetchMode),"document.fetch"===e&&(f.documentId=t.documentId||"",f.mimeType=t.mimeType||"",f.size=t.size||"",f.ext=t.extension||"",f.page=`${t.startPage}-${t.endPage}`,f.pageRetryCount=t.retryCount,f.isFirstReq=0===t.retryCount&&1===t.startPage),1===o&&Object.assign(f,{retryErrorCode:l,retryStatusCode:_,retryYmreqid:p}),T=this.isRequestBlocked("checkMail"!==e)?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(C,e):C(),this.logRequest(T,f,null,o),T.then(e=>(this.setRequestBlocked(!1),e),n=>{if(n=this.handleCommonError(n),this.isRetryableError(n,o,e)){const i=n.errorCode,c=void 0===i?"":i,d=n.statusCode,l=Object.assign({},s,{retryCount:o+1,retryYmreqid:r||"",retryErrorCode:c,retryStatusCode:void 0===d?"":d});return-1!==c.indexOf("DOC-814")?function(e){return new Promise(t=>setTimeout(t,e))}(2e3).then(()=>this.request(e,t,l,a)):this.request(e,t,l,a)}throw n})}handleAuthError(e){const t=e.statusCode;if(401===t){const s=Object(c.a)(e,"data.body.error.code","");return new h.a(g.b,{statusCode:t,errorCode:s,body:e.getDataByName("body",""),refresh:!0})}return null}handleWssidReissueError(e){const t=e.statusCode;if(400===t){const s=Object(c.a)(e,"data.body.error.code","");if("EC-4003"===s){const a=Object(c.a)(e,"data.body.error.details.wssid","");if(a)return this.wssid=a,new h.a(g.e,{statusCode:t,errorCode:s,wssid:a})}}return null}isRetryableError(e,t,s){if((this.appName===S.t.BASIC_MAIL_APP||this.appName===S.t.BASIC_MOBILE_APP)&&-1===Object.keys(Z.b).indexOf(s))return!1;if(t<Y){const t=e.isRetryable,s=void 0!==t&&t,a=e.name,n=void 0===a?"":a,r=e.errorCode,i=e.statusCode,o=void 0===i?0:i;if(n===g.e)return!0;if("HttpTransport.NotOkStatusCode"===n&&(o>=500&&501!==o||408===o))return!0;if(["ECONNABORTED","OUTBOUND"].indexOf(void 0===r?"":r)>-1)return!0;if(s)return!0}return!1}shouldRetry(e,t){if(t&&t.status&&(t.status>=500||408===t.status))return!1;if(e){if(e.timeout&&"ECONNABORTED"===e.code)return!1;if(e.crossDomain)return!1}return super.shouldRetry(e,t)}}X.STRATEGIES=Object(c.c)(["NODE_TO_JEDI","BROWSER_TO_NODE_TO_JEDI","BROWSER_TO_JEDI"]),X.BATCH_REQUESTS={Batch:F,checkMail:class extends F{request(e,{accountId:t,mailboxId:s,folderId:a,sortOrder:r,filter:i,count:o,offset:c,conversationsMode:d,highestModSeq:l,resetUnseenCount:u,alertStoreHighestModSeq:_,excludeFolderTypes:m},p={},h,g){return p.isComposite=!0,super.request("mailbox.sync",{mailboxId:s},p,h,g).then(e=>{const E=Object(x.f)(e.folders),I=E[a],C=Object(U.a)(p.timezone),f=!(I&&void 0!==l&&I.highestModSeq===l),T=[],A=Object.keys(E).find(e=>-1!==E[e].types.indexOf(S.Cb.ALERTSTORE)),b=(E[A]||"").highestModSeq,O=!(!_||!b||_===b);return f||O?(T.push(f?super.request("messageGroups.getList",{mailboxId:s,folderId:a,sortOrder:r,filter:i,count:o,offset:c,conversationsMode:d,excludeFolderTypes:m},p,h,g):Promise.resolve()),T.push(O?super.request("account.getAlerts",{mailboxId:s},p,h,g):Promise.resolve([])),u&&T.push(super.request("unseenCount.reset",{mailboxId:s,accountId:t},p,h,g)),Promise.all(T).then(([t,s])=>n()({currentTimezoneOffset:C},e,t,{accountAlerts:s}))):n()({currentTimezoneOffset:C},e)})}},saveArrayAttributes:class extends F{request(e,{mailboxId:t,attribute:s,items:a,overWrite:n=!1,dedupFn:r=null},i={},o,d){i.isComposite=!0;const l=e=>super.request("settings.saveWebMailboxAttributes",{mailboxId:t,attributes:[{id:s,value:e}]},i,o,d);return Array.isArray(a)?Object(c.g)(S.ic).indexOf(s)<0?Promise.reject("attribute must be defined first."):n?l(a).then(()=>a):(()=>super.request("mailbox.getAttributes",{mailboxId:t,attributes:{[s]:s}},i,o,d).then(({responses:e})=>{const t=e[s][V[s]||s];return Array.isArray(t)?t:Promise.reject("current list is not an array")}))().then(e=>{let t;return t="function"==typeof r?r(e.concat(a)):j()(e.concat(a)),B()(e.sort(),t.sort())?Promise.resolve():l(t).then(()=>t)}):Promise.reject("provided list must be an array")}},getReceipts:z,getMoreReceipts:z,listMailboxAttributes:class{constructor({endpoints:e}){Object(l.a)(e.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.endpoints=e}request(e,t,s){const a=s.timeout,n=s.cookie,r=q.getNakedRequestUrl(this.endpoints.INTERNAL_JWS_HOST,t.mailboxId,t.attributes,s.appId,s.wssid,s.ymreqid),i=new p.b("get",r,{timeout:a});return i.setCookieHeader(n),i.setHeader("Accept","application/json"),i.send().then(e=>{const t=Object(c.a)(e,"body.result",{});return{mailboxAttributes:q.transformResponse(t)}})}}};t.a=X},function(e,t,s){"use strict";s.d(t,"c",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return c});var a=s(4),n=s.n(a),r=s(9);s(0),Object(r.c)(["ADD_BASENAME","ADD_DEA","EDIT_DEA","ADD_SENDAS","EDIT_SENDAS","ADD_IMAPIN","EDIT_ACCOUNT","EDIT_DEFAULT_SENDING"]);const i={ACCOUNT_IDS:"accountIds",ACTION:"action",CATEGORY_ID:"categoryId",CONFIRM_ACTION:"confirmAction",EDIT_ACCOUNT:"editAccount",EDIT_MODE:"editMode",FID:"fid",FOLDER_TYPE:"folderType",OFFSET:"offset",PAGE:"page",SHOW_ALL:"showAll",SHOW_IMAGES:"showImages",SORT_ORDER:"sortOrder",UNBLOCK_NOW:"unblockNow",DOMAIN:"domain",TASK_ID:"taskId",ORIGIN_FOLDER_ID:"originFolderId",BULK_ACTION:"bulkAction",SENT_MID:"sentMid",UPDATE_COUNT:"updateCount",FILTER_INDEX:"filterIndex",ORIGINAL_SEARCH_QUERY_KEYWORD:"originalSearchQueryKeyword",ORIGINAL_SEARCH_QUERY_ACCOUNT_IDS:"originalSearchQueryAccountIds"},o=["to_list","cc_list","bcc_list","editMode","editAccount","sortOrder","action","offset","mrdparam","toB","showImages","expandSenders","unblockNow","fid","confirmAction","categoryId","mailboxId","domain","originFolderId","taskId","bulkAction","clickSrc",i.SENT_MID,"alertCode",i.FILTER_INDEX,i.ORIGINAL_SEARCH_QUERY_KEYWORD,i.ORIGINAL_SEARCH_QUERY_ACCOUNT_IDS,i.UPDATE_COUNT],c=(Object(r.c)(["Error","Warning","Information"]),Object(r.c)(["replied","forwarded"]),Object(r.c)(["MESSAGE_LIST_ACCESS_FAILED","MESSAGE_VIEW_ACCESS_FAILED","SEARCH_LIST_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","FOLDERS_LIST_ACCESS_FAILED","SETTINGS_ACCESS_FAILED","CONTACTS_ACCESS_FAILED"]),Object(r.c)(["UNREAD","READ","READ_DARK","STAR","UNSTAR","UNSTAR_DARK","ATTACHMENT_DARK","SPAM_DARK","SPAM_BLUE","TRASH_DARK","TRASH_BLUE","TRASH_MINI_MEDIUM","TRASH_MINI_RED","EDIT","EDIT_BLUE","CLOSE_MINI","CLOSE","CLOSE_MINI_BLUE","CLOSE_BLUE","CHEVRON_RIGHT","CHEVRON_DOUBLE_RIGHT","CHEVRON_RIGHT_BLUE","CHEVRON_DOUBLE_RIGHT_BLUE","CHEVRON_RIGHT_DARK","CHEVRON_DOUBLE_RIGHT_DARK","CHEVRON_LEFT","CHEVRON_DOUBLE_LEFT","CHEVRON_LEFT_BLUE","CHEVRON_DOUBLE_LEFT_BLUE","CHEVRON_LEFT_DARK","CHEVRON_DOUBLE_LEFT_DARK","ARROW_LEFT_DARK","ARROW_RIGHT_DARK","ARROW_LEFT_BLUE","ARROW_RIGHT_BLUE","REPLY","REPLY_ALL","FORWARD","REPLY_BLUE","REPLY_ALL_BLUE","FORWARD_BLUE","REPLY_RTL","REPLY_ALL_RTL","FORWARD_RTL","REPLY_BLUE_RTL","REPLY_ALL_BLUE_RTL","FORWARD_BLUE_RTL","PRINT","PRINT_BLUE","CHEVRON_UP_DARK","CHEVRON_DOWN_DARK","CHEVRON_UP_BLUE","CHEVRON_DOWN_BLUE","CHEVRON_UP","CHEVRON_DOWN","REPLIED","FORWARDED","SEARCH","CLOSE_WHITE","ERROR","SUCCESS","MAIL","YBANG","ARROW_UP","ARROW_DOWN","AOL"]),Object(r.c)(["asc","desc"]),Object(r.c)(["first","last","email"]),Object(r.c)(["PENDING","COMPLETED","FAILED","ABORTED"]),{"message_list.get":"message_list.get","search_list.get":"search_list.get","message_view.get":"message_view.get","folder_list.get":"folder_list.get","skeleton.get":"skeleton.get","settings.get":"settings.get"});n()({},c,{"message_list.toggleFolders":"message_list.toggleFolders","message_list.update":"message_list.update","message_list.moveto":"message_list.moveto","message_list.delete":"message_list.delete","message_list.emptyFolder":"message_list.emptyFolder","message_list.updateReadAll":"message_list.updateReadAll","message_list.updateFlagAll":"message_list.updateFlagAll","message_list.updateSpamAll":"message_list.updateSpamAll","message_list.moveAllToFolder":"message_list.moveAllToFolder","message_list.deleteAll":"message_list.deleteAll","message_list.archiveAll":"message_list.archiveAll","search_list.toggleFolders":"search_list.toggleFolders","search_list.update":"search_list.update","message_view.update":"message_view.update","message_view.toggleFolders":"message_view.toggleFolders","folder_list.rename":"folder_list.rename","folder_list.add":"folder_list.add","folder_list.delete":"folder_list.delete","compose.open":"compose.open","compose.replyFwd":"compose.replyFwd","compose.toggleFolders":"compose.toggleFolders","compose.attach":"compose.attach","compose.send":"compose.send","compose.save":"compose.save","settings.setBaseNameJWS":"settings.setBaseNameJWS","settings.deleteAccount":"settings.deleteAccount","settings.updateAccount":"settings.updateAccount","settings.addAccount":"settings.addAccount","settings.resendConfirmEmail":"settings.resendConfirmEmail","settings.saveWebMailboxAttributes":"settings.saveWebMailboxAttributes","task.status":"task.status","mailbox.getAttributes":"mailbox.getAttributes","attributes.get":"attributes.get","accounts.add":"accounts.add","accounts.delete":"accounts.delete"})},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"c",function(){return c}),s.d(t,"d",function(){return d}),s.d(t,"e",function(){return l});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.Si},e),o=e=>n()({type:r.Ui},e),c=e=>n()({type:r.Ti},e),d=e=>n()({type:r.Vi},e),l=()=>({type:r.Yi})},function(e,t,s){"use strict";var a=s(8),n=s.n(a),r=s(1),i=s.n(r),o=s(16),c=s(5),d=s(699),l=s.n(d),u=s(22);const _=({applyTheme:e},t)=>{const s=t.getCss(l.a,{darkVariations:e&&Object(u.m)({context:t,includeMedium:!0})});return i.a.createElement("div",{className:s.container},i.a.createElement("span",{className:s.orb,"aria-hidden":!0},i.a.createElement(o.b,{kind:c.b.ORB,colorState:c.a.INHERITED,size:c.d.M})),i.a.createElement("span",{className:s.content,"aria-hidden":!0},i.a.createElement("span",{className:s.name}),i.a.createElement("span",{className:s.emails})))};_.contextTypes={getCss:n.a.func,getThemeMode:n.a.func},t.a=_},,function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"a",function(){return c});var a=s(4),n=s.n(a),r=s(2),i=s(0);const o=e=>e.triageActionType===i.ne.UNDO_MOVE?n()({},e,{type:r.Vk}):n()({},e,{type:r.tl}),c=e=>e.triageActionType===i.ne.UNDO_MOVE?n()({},e,{type:r.Tk}):n()({},e,{type:r.sl})},function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"c",function(){return c});var a=s(4),n=s.n(a),r=s(2),i=s(11);const o=e=>n()({},e,{isRead:!1,type:r.li}),c=e=>n()({},e,{isRead:!0,type:r.li});t.a=e=>(t,s)=>{const a=e.streamItem,o=Object(i.b)(s()),c=o.getMessageFlags,d=(0,o.getMessageIdsFromMessageGroupId)(a.id).every(e=>c(e).read);return t(n()({type:r.li},e,{isRead:d}))}},function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"c",function(){return d});var a=s(4),n=s.n(a),r=s(2),i=s(11),o=s(7);const c=e=>n()({},e,{isStarred:!1,type:r.bk}),d=e=>n()({},e,{isStarred:!0,type:r.bk});t.a=e=>(t,s)=>{const a=e.i13nModel,c=e.streamId,d=e.streamItem,l=e.triageActionType,u=Object(i.b)(s()),_=u.getMessageFlags,m=(0,u.getMessageIdsFromMessageGroupId)(d.id).some(e=>_(e).flagged);return t(n()({streamItem:d,streamId:c},a&&{i13nModel:n()({},a,{mKey:m?o.e.MARK_MSG_UNSTARRED:o.e.MARK_MSG_STARRED})},{isStarred:m,triageActionType:l,type:r.bk}))}},function(e,t,s){"use strict";(function(e){s.d(t,"a",function(){return I});var a=s(4),n=s.n(a),r=s(31),i=s.n(r),o=s(147),c=s.n(o),d=s(46),l=s.n(d),u=s(62),_=s(0),m=s(94),p=s(61),h=s(9);function g(e){const t=e=>({email:e.id,name:e.name});return e.map(e=>{const s=Number(e.creationDate)/1e3,a={id:e.mid,folder:{id:e.folderNumber.toString()},conversationId:e.conversationId,flags:{flagged:e.isFlagged,read:e.isRead},cardConversationId:e.cardConversationId||"",decos:e.decos||[],headers:{subject:e.subject||"",cc:e.ccList?e.ccList.map(t):[],bcc:e.bccList?e.bccList.map(t):[],to:e.toList?e.toList.map(t):[],from:e.fromList?e.fromList.map(t):[],date:s},snippet:e.snippet||"",attachments:E(e.attachments.map(t=>Object.assign({},t,{mid:e.mid,creationDate:e.creationDate,csid:e.csid}))).map(e=>e.attachment),verifiedDomains:e.verifiedDomains||[]};return e.csid&&(a.csid=e.csid),a})}function E(e){return e.map(e=>{const t=e.mimeType.split("/"),s=i()(t,2),a=s[0],n=s[1],r=e.partId,o=void 0===r?e.id:r,c=e.conversationId,d=e.csid,l=e.source,m=_.w.Dispositions,p=e.mid?Object(u.a)(e.mid):void 0;return{attachment:{id:p?Object(u.e)({partId:o},p,!1):e.id,virus:"N",filename:e.name,size:e.size,partId:o,type:a,subtype:n,conversationId:c,source:l,csid:d,disposition:e.disposition||m.ATTACHMENT,downloadUrl:e.online?e.onlineContentLink:e.downloadLink,thumbnailUrl:e.thumbnail,isExternal:e.online||!1,creationDate:e.creationDate,documentId:e.documentId},message:{id:p,subject:e.subject}}})}const I={[_.Pb.MESSAGES]:function(e,t){return e.map(e=>{const t=e.itemType;return"THREAD"===t?{id:e.conversationId,messages:g(e.messages.reverse())}:"MESSAGE"===t?{id:e.mid,messages:g([e])}:void 0})},[_.Pb.DOCUMENTS]:E,[_.Pb.IMAGES]:E,[_.Pb.PEOPLE]:function(e){return e.map(e=>{const t=e.payload,s=t.id,a={[s]:t},n=_.Pb.PEOPLE,r={[n]:[s]},i=e.relationshipHistory;return{contactDetails:Object(m.f)({ep:n,contacts_info:a,contacts_by_ep:r,relationshipHistory:i})}})},[_.Pb.ADS]:function(t){return t&&t.length>0?t.reduce(({PLAADS:t=[],ADS:s=[]},a)=>{const n=JSON.parse(new e(a.ads,"base64").toString("utf8")),r=Object(h.a)(n,"response.search.moduleGroups",[]);let i=[],o=[];return r.forEach(({name:e,modules:t=[]})=>{"pla"===e?t.forEach(e=>{i=i.concat(Object(h.a)(e,"data.list",[]))}):"adNorth"!==e&&"adSouth"!==e&&"adEast"!==e||t.forEach(e=>{o=o.concat(Object(h.a)(e,"data.list",[]))})}),{PLAADS:[...t,...i.map(e=>(function(e){return{title:c()(e.title.replace(/<[^>]+>/g,""))||"",url:e.url||"",abstract:c()(e.abstract)||"",sellerName:e.sellername||"",originalPrice:e.originalprice||"",dealPrice:e.dealprice||"",image:e.image||"",eliteBadge:e.eliteBadge&&{domain:e.eliteBadge&&e.eliteBadge.domain||"",rating:e.eliteBadge&&e.eliteBadge.rating||"",numberOfRatings:e.eliteBadge&&e.eliteBadge.numberOfRatings||""},priceDropAlert:e.priceDropAlert&&{displayedText:e.priceDropAlert&&e.priceDropAlert.displayedText||"",longText:e.priceDropAlert&&e.priceDropAlert.longText||""},productRating:e.productRating&&{rating:e.productRating&&e.productRating.rating||"",numberOfReviews:e.productRating&&e.productRating.numberOfReviews||""}}})(e))],ADS:[...s,...o.map(e=>(function(e){return{creativeId:"",pencilAd:{adHeadline:c()(e.title)||"",adSummary:c()(e.abstract)||"",adImg:e.iconUrl||"",adSource:e.displayDomain||"",clickUrl:e.url||"",beacon:"",impressionTrackingUrls:[],type:p.o.SearchAdType,adFeedbackBeacon:"",rating:Object(h.a)(e,"merchantRating.rating",null)}}})(e))]}},{}):[]},[_.Pb.GIFS]:function(e){return(e||[]).map(e=>{const t=e.feedbackUrl,s=e.h1_title;return{downloadLink:e.downloadLink,height:e.height,width:e.width,id:e.id,online:e.online,onlineContentLink:e.onlineContentLink,ownerId:e.ownerId,source:e.source,thumbnail:e.thumbnail,thumbnailHeight:e.thumbnailHeight,thumbnailWidth:e.thumbnailWidth,thumbnails:e.thumbnails,feedbackUrl:void 0===t?"":t,altText:void 0===s?"":s}})},[_.Pb.COUPON_CARDS]:function(e=[]){return e.map(({immutableId:e,messageMetadata:t})=>({id:e,messages:[n()({},l()(n()({},t,{schemaCards:Object(u.n)(t)}),["schemaOrg"]),{id:e})]}))}}}).call(this,s(545).Buffer)},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(6),c=s(43),d=s(615),l=s(0);const u=Object(o.defineMessages)({expiresToday:{id:"expiration_message.expires_today",defaultMessage:"Expires Today"},expiresTomorrow:{id:"expiration_message.expires_tomorrow",defaultMessage:"Expires Tomorrow"},expiresThisWeek:{id:"expiration_message.expires_this_week",defaultMessage:"Expires on {day}"},expiresOnADate:{id:"expiration_message.expires_on_a_date",defaultMessage:"Expires: {date}"},expiresInNDays:{id:"expiration_message.expires_in_n_days",defaultMessage:"Expires in {numDays} days"},learnMore:{id:"learn_more_btn_label",defaultMessage:"Learn More"}});class _ extends i.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props,s=t.daysUntilExpiry,a=t.type;let n=null;if(t.isInferred)n=e(u.learnMore);else if(0===s)n=e(u.expiresToday);else if(1===s)n=e(u.expiresTomorrow);else if(s>1&&s<7){const t=Object(c.v)(Object(c.i)(),s);n=e(u.expiresThisWeek,{day:e(d.b[`day_${t}`])})}else{if(!(s>=7))return null;{const t=Object(c.l)(s);n=a===l.Pb.OFFER_CARDS?e(u.expiresOnADate,{date:t}):e(u.expiresInNDays,{numDays:s})}}return i.a.createElement("div",{"data-test-id":"days_left_message"},n)}}n()(_,"contextTypes",{intl:o.intlShape.isRequired}),t.a=_},,,,function(e,t,s){"use strict";s.d(t,"d",function(){return a}),s.d(t,"e",function(){return n}),s.d(t,"a",function(){return r}),s.d(t,"b",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"f",function(){return c}),s.d(t,"c",function(){return d});const a="&id=",n="&partner=",r="&actp=productlink",i="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL_WEB&locale=",o={"de-DE":"de_DE","de-AT":"de_AT","en-AU":"en_AU","en-CA":"en_CA","en-GB":"en_GB","en-IN":"en_IN","en-JO":"en_JO","en-MY":"en_MY","en-NZ":"en_NZ","en-PH":"en_PH","en-SG":"en_SG","en-TH":"en_TH","en-US":"en_US","en-ZA":"en_ZA","es-AR":"es_ES","es-CL":"es_ES","es-CO":"es_ES","es-ES":"es_ES","es-MX":"es_ES","es-PE":"es_ES","es-US":"es_US","es-VE":"es_ES","fr-FR":"fr_FR","fr-BE":"fr_BE","fr-CA":"fr_CA","id-ID":"id_ID","it-IT":"it_IT","pt-BR":"pt_BR","vn-VN":"vn_VN","zh-Hant-TW":"zh_TW","zh-Hant-HK":"zh_HK"},c={SLN22036:"SLN28884",SLN4992:"SLN28885",SLN26611:"SLN28838",SLN28055:"SLN28824",SLN28056:"SLN28813",SLN5283:"SLN28886",SLN28068:"SLN28808",SLN28071:"SLN28825",SLN6265:"SLN28887",SLN26757:"SLN28888",SLN25582:"SLN28889",SLN8271:"SLN28890",SLN29133:"SLN29134"},d={VIEWMAIL:"/img/viewing_email.png",NOTIFICATIONS:"/img/notification.gif",VACATION_RESPONSE:"/img/vacation_response.png",FILTER:"/img/filters.png",SOCIAL:"/img/social_accounts.png",ACCOUNTS:"/img/accounts.png",CATEGORIZATION:"/img/categorization.png"}},function(e,t,s){"use strict";s(8);var a=s(1),n=s.n(a),r=s(707),i=s.n(r),o=s(13),c=s.n(o),d=s(16),l=s(5),u=s(0),_=s(15),m=s(11);const p=e=>{e.stopPropagation()};function h({isOnDarkBackground:e,redirectUrl:t,noVigLinkCheck:s,priceGrabberEnabled:a,vigLinkEnabled:r,size:o}){const u=c()(i.a,{isOnDarkBackground:e});return s||r||a?n.a.createElement("a",{rel:"noreferrer",href:t,target:"_blank",className:u.infoIconContainer,onClick:p},n.a.createElement(d.b,{kind:l.b.INFO,size:o,colorState:l.a.INHERITED})):null}h.defaultProps={isOnDarkBackground:!1,noVigLinkCheck:!1,size:l.d.S},t.a=Object(_.connect)(e=>{const t=Object(m.b)(e),s=t.isFeatureEnabled;return{redirectUrl:(0,t.getSetting)(u.zd.PARTNER_ATTRIBUTION_URL),vigLinkEnabled:s(u.ub.VIGLINK),priceGrabberEnabled:s(u.ub.ENHANCE_CONTACT_CARD)&&s(u.ub.PRICE_GRABBER_WRAPPER_LINK)}})(h)},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o});var a=s(4),n=s.n(a),r=s(2);const i=(e={})=>n()({type:r.sg},e),o=(e="")=>({type:r.gg,retailerId:e})},function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"b",function(){return r}),s.d(t,"e",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"g",function(){return c}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return l});s(12);var a=s(9);const n=15,r=25,i=185,o=52,c=15,d=32,l=Object(a.c)(["SWITCH","CHECKBOX"])},function(e,t,s){"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R",pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_3HLUz ir_0 o_A K_3qWeB",pillsContainerChild:"em_N o_h s_3nx4N",pillOuter:"D_F ac_C",textContainer:"E_6LEV o_h",contactIcon:"o_q",name:"C_Z281SGl o_h G_e J_x Q_fq7 E_fq7",email:"C_Z1VRpVF o_h G_e J_x Q_fq7 E_fq7",remove:"o_h G_e J_x Q_fq7 E_fq7 p_a R_0 W_6LEV H_6LEV r_P",highlight:"u_eBE",typeahead:"M_0 p_R H_6NIX",typeaheadInput:"Z_N ir_0 j_n y_Z2uhb3X q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadInputHint:"Z_0 y_Z2uhb3X q_52qC k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO D_X p_a L_0 B_0",typeaheadAriaStatus:"L_Z1yJMeR p_a",typeaheadDropDown:"Z_f8a I_52qC k_w ha_n M_0 P_3HLUz b_Z14vXdP e_dRA j_ZqTdtW p_a o_A K_3vFsb W_3vVYr L_A T_6D6F",typeaheadOptionContainer:"D_F ab_C P_ZGAgNS k_w H_74JI r_P q4_1I4yPF cZ1WADfW_1I4z5p",relatedContactsContainer:"M_fq7 D_F gl_FM",relatedContacts:"M_2gqwFT",relatedContactsClose:"P_eo6 r_P"},autotag:{typeaheadDropDown:"a_3rJgR",relatedContacts:"A_6EqO C_Z1VRpVF u_e69 Q_6Eb4"},showCcBcc:{pillsContainer:"K_FB7P8"},editList:{typeaheadDropDown:"W_3s2lE"}},_key:"dQ5MH"}},,function(e,t,s){"use strict";e.exports={className:{default:{properties:"D_F W_A",property:"D_F U_0 r_P M_Z1kd4S1 q_n b_n P_0 C_52qC cdPFi_Z1TsNWR cdPFi4_Z2aVTcY ir3_1JO2M7",selectedProperty:"D_F U_0 r_P M_Z1kd4S1 q_n b_n P_0 C_52qC cdPFi_Z2aVTcY",calendarIcon:"p_R C_q H_qc",calendarIconButton:"b_n P_0 p_R C_q H_qc r_P I_T",calendarDateText:"p_a A_pG C_q u_e69 T_e5X L_e5X h_16Wm1O",notification:"p_R D33_B dq33_Z1HHmCC p33_a T33_689y L33_6DEy P33_wppsa e33_e5X I33_uiV H33_dPd W33_dPd",icon:"W_6LEV H_6LEV cdPFi_q"},verticalLayout:{properties:"ek_BB Y_6EGz",property:"E_0 U_6EGz"},"themeMode-MEDIUM":{property:"cdPFi_2sqbRh C_Z281SGl cdPFi4_52qC ir3_Z1FS2Mn",selectedProperty:"cdPFi_52qC"},"themeMode-DARK":{property:"cdPFi_2sqbRh C_Z281SGl cdPFi4_52qC ir3_Z1FS2Mn",selectedProperty:"cdPFi_52qC"},"themeCombo-LIGHT_ATT":{selectedProperty:"cdPFi_2lcdKJ"},"themeCombo-LIGHT_FRONTIER":{selectedProperty:"cdPFi_Z1VoWer"},"themeCombo-LIGHT_ROGERS":{selectedProperty:"cdPFi_Z1KxAI3"},"themeCombo-LIGHT_BT":{selectedProperty:"cdPFi_2oLgFe"},"themeCombo-LIGHT_SKY":{selectedProperty:"cdPFi_1EhNce"},"themeCombo-LIGHT_SUNRISE":{selectedProperty:"cdPFi_Z1dbuzs"},"themeCombo-LIGHT_AQUA_GREEN":{selectedProperty:"cdPFi_Z2q5fnY"},"themeCombo-LIGHT_AQUA_BLUE":{selectedProperty:"cdPFi_3AoN2"},"themeCombo-LIGHT_DEEP_PURPLE":{selectedProperty:"cdPFi_U7vu"},"themeCombo-LIGHT_BLUE_NIGHT":{selectedProperty:"cdPFi_ZqdWbg"},"themeCombo-LIGHT_DARK_GREY":{selectedProperty:"cdPFi_Z1KxAI3"},"themeCombo-LIGHT_NIGHT_LANDSCAPE":{selectedProperty:"cdPFi_2siI7q"},"themeCombo-LIGHT_ROADTRIP":{selectedProperty:"cdPFi_MHjSW"},"themeCombo-LIGHT_SUNSET_AUSSIE":{selectedProperty:"cdPFi_Z1dbuzs"},"themeCombo-LIGHT_LIGHTHOUSE":{selectedProperty:"cdPFi_Z23EoD8"}},_key:"ZGaKDk"}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(76),c=s(14),d=s(18),l=s(729),u=s.n(l),_=s(13),m=s.n(_),p=s(388),h=s(12),g=s(117);const E=300,I=m()(u.a);class S extends i.a.Component{constructor(...e){super(...e),n()(this,"popoverDidAppear",()=>{this._popover&&this.props.popoverDidAppear(this._popover)}),n()(this,"setPopoverRef",e=>{this._popover=e}),n()(this,"rerenderIfPopoverNotEnabled",()=>{this.tooSoonToRender&&this.forceUpdate()}),n()(this,"tooSoonToRenderPopover",()=>{const e=this.props.createdTime;return this.tooSoonToRender=e&&Date.now()-e<1e3,this.tooSoonToRender})}render(){const e=this.props,t=e.email,s=e.isCompose,a=e.isDisabled,n=e.name,r=e.popoverZIndex,l="ltr"===Object(g.getTextDirection)(n+" "+t)?I.rtlIgnoreDirLTR:I.rtlIgnoreDirRTL;return this.tooSoonToRenderPopover()||s&&!Object(d.n)(t)?i.a.createElement("span",{className:I.anchor,onMouseEnter:this.rerenderIfPopoverNotEnabled,onMouseLeave:this.rerenderIfPopoverNotEnabled,"data-test-id":"email-pill-without-popover"},this.props.children):i.a.createElement(o.c,{arrowSize:c.b.M,permittedArrowDirections:[c.h.ANY],triggerOn:o.b.HOVER_DELAYED,triggerDelayTime:E,triggerOff:o.a.HOVER_OUT|o.a.DRAG_START|o.a.CLICK,disabled:a,zAltitude:r,onShown:this.popoverDidAppear,ref:this.setPopoverRef},i.a.createElement("span",{"data-test-id":"email-pill",className:I.anchor+" "+l},this.props.children),e=>i.a.createElement(p.a,{key:t,email:t,isCompose:s,withBackground:!1,name:n,onUpdateFinished:e}))}}n()(S,"defaultProps",{isDisabled:!1,popoverZIndex:h.ZIndices.POPOVER.HIGH,popoverDidAppear:()=>{}}),t.a=S},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(15),_=s(32),m=s(6),p=s(42),h=s(153),g=s(20),E=s(146),I=s(65),S=s(215);const C=s(1),f=s(1072),T=s(13),A=5,b=Object(m.defineMessages)({and_x_more_recipients:{id:"address.field.and_x_more_recipients",defaultMessage:"and {numNonVisibleAddresses} more..."},hide_recipients:{id:"address.field.hide_recipients",defaultMessage:"Hide"}});class O extends C.Component{constructor(...e){super(...e),i()(this,"state",{opened:!1}),i()(this,"handleToggle",e=>{e.preventDefault(),e.stopPropagation(),this.setState({opened:!this.state.opened})})}render(){const e=T(f),t=this.props,s=t.addresses,a=t.popoverZIndex,n=this.context.intl.formatMessage,r=this.state.opened?s.length:A;var i=[C.createElement("span",{key:"label-"+this.props.label,className:e.label},this.props.label)];if(s.slice(0,r).forEach(({name:t,email:s},n,r)=>{i.push(C.createElement(S.a,{key:s,isCompose:!1,email:s,name:t,popoverZIndex:a},C.createElement("span",{className:e.email,key:n,title:s,"data-test-id":"message-to"},t||s))),n<r.length-1&&i.push(C.createElement("span",{key:n+"-sep",className:e.separator},","))}),s.length>r){i.push(C.createElement("button",{key:"and-more","data-test-id":"and-more",onClick:this.handleToggle,className:e.button},n(b.and_x_more_recipients,{numNonVisibleAddresses:s.length-A})))}else this.state.opened&&i.push(C.createElement("button",{key:"and-more-hide","data-test-id":"and-more-hide",onClick:this.handleToggle,className:e.button},n(b.hide_recipients)));return C.createElement("div",{className:e.container},i)}}i()(O,"contextTypes",{intl:m.intlShape});var R=O,N=s(83),M=s(13),D=s.n(M),y=s(393),L=s.n(y),v=s(11),P=s(201),F=s(202),w=s(66),k=s(0),x=s(12),U=s(45),G=s(25),j=s(75),H=s(7),B=s(9),V=s(5),W=s(56),q=s(27),z=s(178);const K=()=>{},Z=250,Y=Object(m.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_header_count_label:{id:"message_header_count_label",defaultMessage:"Message {idx} of {totalMessages}"},message_header_label:{id:"message_header_label",defaultMessage:"Message"},message_has_attachment:{id:"message_has_attachment",defaultMessage:"Message has {attachmentCount, plural, =1 {an attachment} other {attachments}}"},header_print_message:{id:"header_print_message",defaultMessage:"Print"},sponsoredByViglinkMessageRead:{id:"viglink.sponsored_by_viglink_message_read",defaultMessage:"Sponsored link by Viglink"}});class X extends l.a.Component{constructor(e){super(e),i()(this,"handleStarClick",e=>{e.stopPropagation();const t=this.props;this.props.onToggleStar({streamId:t.streamId,streamItem:{messageIds:[t.message.id],id:t.groupId,listId:t.listId}})}),i()(this,"handlePrintClick",e=>{e.stopPropagation(),this.props.onPrint(e)}),i()(this,"handleAttachmentClick",e=>{this.props.expanded&&(e.stopPropagation(),this.props.onAttachmentClick(e))}),i()(this,"handleReadClick",e=>{e.stopPropagation();const t=this.props;this.props.onToggleRead({streamId:t.streamId,streamItem:{messageIds:[t.message.id],id:t.groupId,listId:t.listId}})}),i()(this,"handleKeyDown",e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),this.props.onToggleExpand();break;default:return}}),i()(this,"renderPrintButton",()=>{const e=this.context.intl.formatMessage,t=D()(L.a);return this.props.expanded&&this.props.onPrint?l.a.createElement("div",{className:t.print},l.a.createElement(g.a,{kind:V.b.PRINTER,size:V.d.XS,title:e(Y.header_print_message),ariaLabel:e(Y.header_print_message),colorState:V.a.INHERITED,onClick:this.handlePrintClick,paddingLess:!0})):null}),i()(this,"renderAttachmentIcon",()=>{const e=this.context.intl.formatMessage,t=this.props,s=t.expanded,a=t.message.attachments,n=void 0===a?[]:a,r=D()(L.a,{expanded:s}),i=n.filter(({disposition:e})=>e!==k.w.Dispositions.INLINE).length;return i>0?l.a.createElement("div",{className:r.attachment},l.a.createElement(g.a,{kind:V.b.ATTACHMENT,size:V.d.XS,title:e(Y.message_has_attachment,{attachmentCount:i}),ariaLabel:e(Y.message_has_attachment,{attachmentCount:i}),onClick:this.handleAttachmentClick,paddingLess:!0,colorState:V.a.DISABLED})):null}),i()(this,"handleToggleExpand",e=>{this.addressInfoContainer.contains(e.target)?(e.preventDefault(),e.stopPropagation(),this.props.expanded||this.props.onToggleExpand()):this.props.onToggleExpand()}),i()(this,"burstOnClick",(e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}),i()(this,"avatarClicked",()=>{this.props.viglinkClicked({i13nModel:{mKey:H.e.MESSAGE_READ_AVATAR_CLICKED,sec:H.g.MSG_BODY,actionData:{url:this.props.contactLink}}})}),i()(this,"handleFromFieldDoubleClick",e=>{e.preventDefault(),window.clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null}),i()(this,"handleFromFieldClick",e=>{const t=this.props,s=t.contactLink,a=t.viglinkClicked;Object(z.a)(this.fromFieldRef)||(e.preventDefault(),null===this.doubleClickTimeout&&(this.doubleClickTimeout=window.setTimeout(()=>{this.doubleClickTimeout=null,window.open(Object(j.b)(s,k.cc),"_blank","noreferrer"),a({i13nModel:{mKey:H.e.MESSAGE_READ_FROM_FIELD_CLICKED,sec:H.g.MSG_BODY,actionData:{url:s}}})},Z)))}),this.fromFieldRef=l.a.createRef(),this.burstURL=Object(U.a)(e.starAnimation.lightGifURL),Object(G.d)(this.burstURL),this.state={shouldBurst:!1,flagged:e.message.flags.flagged},this.doubleClickTimeout=null}componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.message.flags.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.message.flags.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout))}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.message,r=t.expanded,i=t.onToggleStar,o=t.onToggleRead,c=t.expandable,d=t.idx,u=t.totalMessages,_=t.conversations,m=t.starRef,p=t.readRef,C=t.isOnModal,f=t.starredMailEnhanced,T=t.contactLink,A=t.viglinkEnabled,b=t.viglinkBlacklist,O=t.isEnhancedMessageIcon,M=t.isEnhancedBusinessContactCard,y=a.headers,v=y.from,P=y.to,F=y.cc,w=y.bcc,U=y.date,G=a.flags,H=G.flagged,B=G.read,W=Object(N.a)(a.snippet,!0),z=f?r:null,Z=D()(L.a,{expanded:r,expandable:c,flagged:H,highlightPosition:W,starEnhancedExpanded:z,isEnhancedMessageIcon:O&&!r}),X=_?Y.message_header_count_label:Y.message_header_label,Q=new Date(1e3*U),$=C?x.ZIndices.MODAL:x.ZIndices.POPOVER.MEDIUM,J=f?V.a.INHERITED:V.a.FAINT,ee=Object(j.b)(T,k.cc),te=T&&!b.some(e=>-1!==T.toLowerCase().indexOf(e)),se=te&&M,ae=A&&te?{href:ee,target:"_blank",rel:"noreferrer",onClick:this.avatarClicked}:null;return l.a.createElement("header",{className:Z.header,onClick:c?this.handleToggleExpand:null,onKeyDown:c?this.handleKeyDown:null,"aria-label":e(X,{idx:d+1,totalMessages:u})},l.a.createElement("span",{className:Z.avatar},l.a.createElement("a",n()({},ae,{"data-test-id":"sender-logo"}),l.a.createElement(I.d,{contact:{email:v[0]&&v[0].email},size:O&&r?I.c.MEDIUM_PLUS:I.c.M}))),o?l.a.createElement("div",{className:Z.readUnread,ref:p},l.a.createElement(g.a,{"data-test-id":"icon-btn-read",title:e(Y[B?"mark_as_unread":"mark_as_read"]),"aria-label":e(Y[B?"message_is_read":"message_is_not_read"]),"aria-pressed":!B,kind:V.b.CIRCLE,colorState:B?V.a.FAINT:V.a.SELECTED,size:V.d.XS,onClick:this.handleReadClick,paddingLess:!0})):null,l.a.createElement("div",{className:Z.flexVertical,ref:e=>this.addressInfoContainer=e,"data-test-id":"address-info"},l.a.createElement("div",{className:Z.fromRow,onClick:se?this.handleFromFieldClick:K,onDoubleClick:se?this.handleFromFieldDoubleClick:K,ref:this.fromFieldRef},l.a.createElement("span",{"data-test-id":"message-from",className:Z.fromField},v[0]?l.a.createElement(S.a,{isCompose:!1,email:v[0].email,name:v[0].name,popoverZIndex:$},v[0]&&v[0].name?l.a.createElement("span",null,v[0].name,r&&l.a.createElement("span",{className:Z.fromEmail},"<",v[0].email,">")):v[0].email):null)),!r&&l.a.createElement("div",{className:Z.snippetContainer,"data-test-id":"snippet"},l.a.createElement("div",{className:Z.snippet},Object(N.b)(a.snippet,!0,Z.highlightedTerm))),!r&&l.a.createElement(E.a,null),r&&P.length>0&&l.a.createElement(R,{label:e(Y.message_to),addresses:P,popoverZIndex:$}),r&&F.length>0&&l.a.createElement(R,{label:e(Y.message_cc),addresses:F,popoverZIndex:$}),r&&w.length>0&&l.a.createElement(R,{label:e(Y.message_bcc),addresses:w,popoverZIndex:$})),l.a.createElement(q.a,{defer:!0,import:"./unsubscribe_button",message:a,cardExpanded:r,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1154))},_moduleResolver:function(){return 1154}}),r&&l.a.createElement(E.a,null),this.renderPrintButton(),this.renderAttachmentIcon(),l.a.createElement("div",{className:Z.date,"data-test-id":"message-date"},l.a.createElement(h.a,{date:Q,long:!0,timezone:this.context.timezone.name})),i?l.a.createElement("div",{className:Z.star,ref:m},this.state.shouldBurst?l.a.createElement("img",{title:e(Y[H?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-pressed":H,src:this.burstURL,style:{height:"24px",width:"24px"}}):l.a.createElement(g.a,{title:e(Y[H?"mark_as_unstarred":"mark_as_starred"]),"aria-label":e(Y[H?"message_is_starred":"message_is_not_starred"]),"aria-pressed":H,kind:V.b.STAR,size:f?V.d.S:V.d.XS,colorState:H?V.a.STARRED:J,onClick:f?e=>{this.burstOnClick(e,H)}:this.handleStarClick,paddingLess:!0})):null)}}i()(X,"contextTypes",{config:c.a.object.isRequired,intl:m.intlShape.isRequired,timezone:p.e});t.a=Object(_.compose)(Object(u.connect)((e,t)=>{const s=Object(v.b)(e),a=s.getRoute,n=s.getFeaturesSelectors,r=s.__patchV2MessageId__,i=s.getMainStreamListIds,o=s.doesContactIdExist,c=s.getContactById,d=t.listId,l=t.message,u=t.expandable,_=l.id,m=Object(B.a)(t,"message.headers.from.0.email",""),p=n(),h=p.isEnabled(k.ub.STARRED_MAIL_ENHANCED),g=p.getSetting(k.zd.STAR_ANIMATION),E=p.isEnabled(k.ub.VIGLINK),I=p.isEnabled(k.ub.ENHANCE_CONTACT_CARD),S=p.getSetting(k.zd.VIGLINK_BLACKLIST),C=p.isEnabled(k.ub.ENHANCED_MESSAGE_ICON)&&!u,f=o(m)?c(m):void 0,T=f&&f.isBusiness&&I;return _?{contactLink:f&&f.website,viglinkEnabled:E,viglinkBlacklist:S,isEnhancedMessageIcon:C,message:r(_,d),streamId:Object(W.a)(i(a())),starredMailEnhanced:h,starAnimation:g,isEnhancedBusinessContactCard:T}:{message:l,starredMailEnhanced:h,starAnimation:g}}),Object(u.connect)(void 0,(e,t)=>{const s=t.message.flags,a=s.read,n=s.flagged;return{onToggleRead:t=>e(a?Object(P.c)(t):Object(P.b)(t)),onToggleStar:t=>e(n?Object(F.c)(t):Object(F.b)(t)),viglinkClicked:t=>e(Object(w.D)(t))}}))(X)},function(e,t,s){"use strict";s.d(t,"b",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return m});var a=s(0),n=s(88),r=s(147),i=s.n(r);function o(e=[]){const t=[];return e.forEach(e=>{Object.keys(e.entities).forEach(s=>{const n=e.entities[s];t.push(Object.assign({},n,e.intent===a.Ud.ALL?{name:i()(n.name)}:null))})}),t}function c(e=[]){return o(e.filter(e=>e.intent===a.Ud.PEOPLE).filter(e=>{const t=e.entities;return Object.keys(t).forEach(e=>{const s=t[e];s.type!==a.Vd.PERSON||s.emailIds&&0!==s.emailIds.length||delete t[e]}),Boolean(Object.keys(t).length)}))}function d(e){return o(e.filter(e=>e.intent===a.Ud.ALL).filter(e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach(e=>{const n=t[e];n.type===a.Vd.EMAIL&&n.name&&(s=!0)}),s}))}function l(e=[],t){const s=new RegExp("(^|\\s)"+Object(n.a)(t),"gi");return e.filter(e=>{const a=e.name,n=e.backyard,r=e.emails,i=(void 0===a?"":a)+" "+(void 0===n?"":n)+" "+(void 0===r?[]:r).join(" ");return t&&-1!==i.search(s)}).map(e=>(function(e){return{emailIds:e.emails,imageUrl:`https://proddata.xobni.yahoo.com/v4/contacts/${e.xobniId}/photo`,name:e.name,serviceId:e.xobniId,sourceService:"XOBNI",type:a.Vd.PERSON}})(e)).filter((e,t,s)=>s.findIndex(t=>t.serviceId===e.serviceId)===t)}function u(e){const t=[];return e.forEach(e=>{e.emailIds.forEach(s=>{const a=JSON.parse(JSON.stringify(e));a.emailIds=[s],t.push(a)})}),t}function _(e,t=!1){return{type:a.Vd.HEADER,headerType:a.Td[e],firstEntry:t}}function m(e=[],t=[],s=[],n=""){const r=""===n.trim(),i=c(e),u=function(e){return o(e.filter(e=>e.intent===a.Ud.ALL).filter(e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach(e=>{const n=t[e];n.type===a.Vd.KEYWORD&&n.name&&(s=!0)}),s}))}(e).slice(0,4),m=l(t,n),p=d(e),h=function(e,t=""){const s=[];return e.forEach(e=>{e.query&&-1!==e.query.indexOf(t)&&s.push({type:a.Vd.RECENT,name:e.query})}),s}(s,n),g=function(e=[],t=[]){const s=e.map(e=>{const s=t.find(t=>t.serviceId===e.serviceId);return void 0!==s?s:e}),a=t.filter(e=>!s.find(t=>t.serviceId===e.serviceId));return[].concat(s,a)}(m,i);let E;const I=[],S=[],C=[];if((E=r?h.length?h:u:u.length?u:h).length){const e=0===i.length;I.push(_(E[0].type===a.Vd.KEYWORD?a.Vd.KEYWORD:a.Vd.RECENT,e))}g.length&&S.push(_(a.Vd.PERSON,!0));const f=2+Math.max(0,2-E.length),T=2+Math.max(0,2-g.length);if(p.length){C.push(_(a.Vd.EMAIL,0===p.length))}return[].concat(S,g.slice(0,f),I,E.slice(0,T),C,p.slice(0,3))}},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(7);const n={COMPOSE_FROM_CONTACTS_PANE:[a.e.CONTACT_ITEM_EMAIL_CLICKED,a.e.CONTACT_DETAILS_EMAIL_CLICKED],REPLACE_ATTACHMENT_WITH_RIGHT_RAIL:[a.e.CONTACTS_PANE_ICON_ON],EDIT_FORM:[a.e.CONTACT_CARD_EDIT_CONTACT,a.e.OPEN_EDIT_CONTACT]}},function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"d",function(){return c}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return l});var a=s(4),n=s.n(a),r=s(2),i=s(0);const o=({tasks:e,messageItemsToSync:t,actionPayload:s})=>n()({type:r.ub,tasks:e,messageItemsToSync:t},s),c=({id:e,status:t,progress:s,pollCount:a})=>({type:r.vb,id:e,status:t,progress:s,pollCount:a}),d=({taskId:e})=>({type:r.tb,taskId:e,status:i.C.ABORTING}),l=({taskId:e,progress:t,triageActionType:s,folderId:a,count:n,conversations:o})=>({type:r.sb,triageActionType:s,folderId:a,count:n,conversations:o,taskId:e,progress:t,status:i.C.ABORT_FAILED})},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(19),c=s(102),d=s(16),l=s(20),u=s(28),_=s(5),m=s(716),p=s.n(m),h=s(13),g=s.n(h),E=s(12),I=s(6);const S=Object(I.defineMessages)({close:{id:"dualActionDialog.close",defaultMessage:"Close"}}),C={margin:`${4*E.GRID_UNIT}px ${E.GRID_UNIT}px ${5*E.GRID_UNIT}px 0`};class f extends i.a.Component{constructor(...e){super(...e),n()(this,"handlePrimaryButtonClick",e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)}),n()(this,"handleSecondaryButtonClick",e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)}),n()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose(e)}),n()(this,"handleKeyDown",e=>(e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onPrimaryButtonClick(e)):"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onClose(e)):void 0))}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.title,a=t.hideIcon,n=t.showCustomTitle,r=t.customTitle,m=t.onOuterClick,h=t.wideContainer,E=void 0!==h&&h,I=t.disablePrimaryButton;let f=this.props.message;const T=e(this.props.primaryButtonLabel),A=e(this.props.secondaryButtonLabel),b=g()(p.a,{hideIcon:a,wideContainer:E});return f||(f=this.props.children),i.a.createElement(c.a,{onClose:this.handleClose,onKeyDown:this.handleKeyDown,onOuterClick:m},i.a.createElement("div",{className:b.container,"data-test-id":"dual-action-dialog"},a?null:i.a.createElement("div",{className:b.icon},i.a.createElement(d.b,{kind:_.b.EXCLAMATION_ALT,size:_.d.L,colorState:_.a.WARNING_GRAD_RED})),i.a.createElement("div",{className:b.header},n?r:i.a.createElement("div",{className:b.title,"data-test-id":"title"},s),i.a.createElement("div",{className:b.close},i.a.createElement(l.a,{onClick:this.handleClose,kind:_.b.CLOSE,size:_.d.XS,title:e(S.close),"aria-label":e(S.close),"data-test-id":"close-btn"}))),i.a.createElement("div",{className:b.message,"data-test-id":"message"},f),i.a.createElement("div",{className:b.controls},i.a.createElement(o.a,{onClick:this.handlePrimaryButtonClick,style:C,"data-test-id":"primary-btn",disabled:I},T),i.a.createElement(o.a,{onClick:this.handleSecondaryButtonClick,kind:u.a.SECONDARY,style:C,"data-test-id":"secondary-btn"},A))))}}n()(f,"contextTypes",{intl:I.intlShape.isRequired}),n()(f,"defaultProps",{primaryButtonLabel:S.defaultprimaryButtonLabel,secondaryActionLabel:S.defaultsecondaryActionLabel,hideIcon:!1,disablePrimaryButton:!1}),t.a=f},,function(e,t,s){"use strict";s.d(t,"f",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"d",function(){return d}),s.d(t,"c",function(){return l}),s.d(t,"a",function(){return u}),s.d(t,"b",function(){return _});var a=s(4),n=s.n(a),r=s(2),i=s(0);function o({altListId:e,query:t,id:s},a){return{type:r.Df,listId:e,response:{[i.Pb.GIFS]:{[i.Qb.GIFS]:a}},query:t,id:s}}function c({altListId:e,query:t,id:s},a){return{type:r.Bf,err:a,listId:e,query:t,id:s}}function d(e){return n()({},e,{type:r.Cf})}function l(e){return n()({},e,{type:r.Af})}function u(e){return n()({},e,{type:r.yf})}function _(e){return n()({},e,{type:r.zf})}},function(e,t,s){"use strict";s.d(t,"f",function(){return m}),s.d(t,"e",function(){return p}),s.d(t,"d",function(){return h}),s.d(t,"b",function(){return g}),s.d(t,"c",function(){return E});var a=s(39),n=s.n(a),r=s(4),i=s.n(r),o=s(15),c=s(66),d=s(11),l=s(0),u=s(75),_=s(93);const m=e=>{const t=Object(d.b)(e).getSetting,s=t(l.zd.ABOUT_AD_URL);return{adVersion:t(l.zd.DEALS_SHOPPING_CART_AD_VERSION),aboutAdsUrl:s}},p=e=>({onAdClicked:t=>e(Object(_.i)(t)),onAdRendered:t=>e(Object(_.j)(t))}),h=(e,{onCouponClick:t})=>({clip:({cardMid:t,schemaId:s,i13nModel:a={},recommendations:n=!1})=>e(Object(_.b)({cardMid:t,schemaId:s,i13nModel:a,recommendations:n})),getParentGroupId:t=>e(Object(_.o)(t)),unclip:({cardMid:t,schemaId:s,i13nModel:a={}})=>e(Object(_.t)({cardMid:t,schemaId:s,i13nModel:a})),onCouponClick:t,couponRecommendationsOpened:({i13nModel:t,sectionId:s="",spaceId:a=0})=>e(i()({},Object(_.f)(),{i13nModel:t,sectionId:s,spaceId:a})),couponRecommendationsClosed:({i13nModel:t,cardMid:s=""})=>e(i()({},Object(_.e)(s),{i13nModel:t})),couponRecommendationsAdClicked:({i13nModel:t})=>e(i()({},Object(_.d)(),{i13nModel:t})),couponRecommendationsViglinkClicked:t=>e(i()({},Object(_.g)(),t)),viglinkClicked:t=>e(Object(c.D)(t)),openPriceGrabberLink:t=>e(Object(c.q)(t)),unusualDiscountViglinkClicked:t=>e(Object(c.C)(t))}),g=(e,{cmid:t="",schemaId:s=""})=>{const a=Object(d.b)(e),n=a.getSetting,r=a.getCouponsSelectors,i=a.isFeatureEnabled,o=r().getCouponRecommendations,c=(0,r().getFromAddress)(s).email,u=void 0===c?"":c,_=i(l.ub.UNUSUAL_DISCOUNT),m=i(l.ub.ENHANCE_COUPON_CARD);return{fromEmail:u,theme:n(l.zd.THEME),viglinkEnabled:i(l.ub.VIGLINK),isUnusualDiscount:_,hasRecommendations:!!o(t).length,showRecommendationsModal:i(l.ub.SHOW_RECOMMENDATIONS_MODAL),isEnhancedCouponCard:m,showPriceGrabberWrapperLink:m&&i(l.ub.PRICE_GRABBER_WRAPPER_LINK)}};t.a=Object(o.connect)((e,{schemaId:t="",cardMid:s=""})=>{const a=Object(d.b)(e),n=a.isFeatureEnabled,r=(0,a.getCouponsSelectors)(),i=r.getCouponExpirationTime,o=r.getDealLink,c=r.getUnusualDiscount,u=r.getDescription,_=r.getFromAddress,m=r.isClipped,p=n(l.ub.VIGLINK),h=_(t),g=h.name,E=void 0===g?"":g,I=h.email,S=void 0===I?"":I,C=m(t),f=c(t),T=u(t),A=i(t,new Date);return{fromEmail:S,fromName:E,clipped:C,description:T,daysUntilExpiry:A.dateDiff,isInferredDate:A.isInferred,schemaId:t,unusualDiscount:f,cardMid:s,dealLink:o(t),viglinkEnabled:p}},h);const E=(e,{parentMessageId:t="",cardMid:s=""})=>{const a=Object(d.b)(e),r=a.getAccountIdByFolderId,o=a.getAdsSelectors,c=a.getCouponsSelectors,_=a.getMessageFolderId,m=a.getSetting,p=a.isFeatureEnabled,h=p(l.ub.COUPON_REC_WITH_ADS),g=p(l.ub.COUPON_REC_WITH_TOP_ADS),E=p(l.ub.COUPON_REC_VENDOR),I=h||E,S=c(),C=S.getCouponRecommendations,f=S.getCouponCardFromCardId,T=S.isSingleCouponParentMessageId,A=m(l.zd.GEMINI_SECTION_IDS)[l.Db.COUPON_REC],b=_(t),O=r(b);let R=C(s).map(e=>f(e)).map(e=>{let t=e.dealLink,s=n()(e,["dealLink"]);return i()({dealLink:Object(u.b)(t,l.G)},s)});if(h){let e=-1,t={};if(R.length>2&&g?e=0:3===R.length?e=3:R.length>3&&(e=2),e>=0){const s=o().getPencilAdData,a=p(l.ub.COUPON_REC_WITH_BOLD_ADS),n=m(l.zd.ABOUT_AD_URL);t=s(A),R=R.slice(0,e).concat(i()({},t,{isAd:!0,isBold:a,aboutAdUrl:n})).concat(R.slice(e))}}return{couponRecommendations:R,accountId:O,folderId:b,isSingleCouponParentMessage:T(t),vendorIcon:I}}},,,,function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(29),c=s.n(o),d=s(33),l=s.n(d),u=s(13),_=s.n(u),m=s(748),p=s.n(m),h=s(90),g=s.n(h);const E=()=>{},I=_()(p.a),S={UP:"UP",DOWN:"DOWN"};let C=800;class f extends i.a.Component{constructor(e,t){super(e,t),n()(this,"computeItemHeightsAndOffsets",e=>{const t=e.items,s=e.getItemHeight;this.itemHeights=[],this.itemOffsets=[],this.totalItemsHeight=0;for(let e=0;e<t.length;e++)this.itemHeights[e]=s(t[e]),this.itemOffsets[e]=this.totalItemsHeight,this.totalItemsHeight+=this.itemHeights[e]}),n()(this,"computeClassNames",e=>{const t=e.scrollerClassName,s=e.listClassName;this.scrollerClassName=g()(I.scroller,t),this.listClassName=g()(I.list,s)}),n()(this,"scrollPercent",()=>{const e=this.state.scrollTop,t=this.totalItemsHeight;return e<0||t<=0?0:Math.floor(e/t*100)}),n()(this,"scrollToItemStart",()=>{const e=this.props,t=e.items,s=e.itemStart,a=e.getItemHeight;if(!s)return;const n=t.findIndex(e=>e.id===s.id),r=t.slice(0,n).reduce((e,t)=>e+a(t),0);this.scroller.scrollTop=r}),n()(this,"scrollStateRAFHandler",()=>{this.raf=null,this.updateScrollState()}),n()(this,"scrollLoadMoreRAFHandler",()=>{this.loading=(0,this.props.loadMoreItems)()}),n()(this,"handleScroll",()=>{const e=this.props,t=e.onScrollTop,s=e.onScrollBottom,a=this.scroller,n=a.scrollTop,r=a.scrollHeight;n<0||(this.isScrolling=!0,this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(this.scrollStateRAFHandler),0===n&&t(),n+this.state.clientHeight>=r&&s(),!this.loading&&n+this.state.clientHeight>.8*r&&window.requestAnimationFrame(this.scrollLoadMoreRAFHandler))}),n()(this,"updateScrollState",()=>{const e=this.scroller.scrollTop;this.updateScrollDirection(e),this.setState({scrollTop:e},()=>this.scrollNotify())}),n()(this,"updateScrollDirection",e=>{this.scrollDirection=0===e?S.DOWN:e>=this.totalItemsHeight-this.state.clientHeight&&!this.loading?S.UP:e>this.state.scrollTop?S.DOWN:S.UP}),n()(this,"scrollNotify",()=>{const e=this.props,t=e.items,s=e.onScroll,a=this.getViewportItemIndexRange(),n=a.itemStartIndex,r=a.itemEndIndex;s({scrollTop:this.state.scrollTop,itemStart:t[n],itemEnd:t[r],itemStartIndex:n,itemEndIndex:r,getScrollPercent:this.scrollPercent}),this.isScrolling=!1}),n()(this,"loadMoreOnScrollBottom",()=>{if(!this.loading&&this.props.loadMoreItems){this.scroller.scrollHeight>this.state.clientHeight||(this.loading=this.props.loadMoreItems())}}),n()(this,"isListScrolling",()=>this.isScrolling),n()(this,"setTopPlaceHolderHolder",e=>{this.topHolder=e}),n()(this,"setBottomPlaceHolderHolder",e=>{this.bottomHolder=e}),n()(this,"getViewportItemIndexRange",()=>{const e=this.state,t=e.scrollTop,s=e.clientHeight;let a=-1,n=-1;a=function(e,t){let s=-1,a=0,n=e.length-1;for(;a<=n;){const r=t(e[s=a+Math.round((n-a)/2)],s);if(r<0)n=s-1;else{if(!(r>0))return s;a=s+1}}return-1}(this.itemOffsets,(e,s)=>t<e?-1:t<e+this.itemHeights[s]?0:1),a=Math.max(a,0);const r=t+s,i=this.itemOffsets.length-1;for(n=a;n<i&&this.itemOffsets[n]+this.itemHeights[n]<r;)n+=1;return{itemStartIndex:a,itemEndIndex:n}}),n()(this,"getRenderedItemIndexRange",(e,t)=>{if(this.isFirstMounted)return{itemStartIndexWithBuffer:e,itemEndIndexWithBuffer:t};const s=this.props,a=s.items,n=s.bufferSize,r=s.oppositeBufferSize,i=this.scrollDirection===S.DOWN?n-r:r;return{itemStartIndexWithBuffer:Math.max(e-(this.scrollDirection===S.UP?n-r:r),0),itemEndIndexWithBuffer:Math.min(t+i,a.length-1)}}),n()(this,"getPlaceholderHeights",(e,t)=>{const s=t+1;return{placeholderTopHeight:this.itemOffsets[e],placeholderBottomHeight:s<this.props.items.length?this.totalItemsHeight-this.itemOffsets[s]:0}}),n()(this,"computeRenderParameters",()=>{const e=this.getViewportItemIndexRange(),t=e.itemStartIndex,s=e.itemEndIndex,a=this.getRenderedItemIndexRange(t,s),n=a.itemStartIndexWithBuffer,r=a.itemEndIndexWithBuffer,i=this.getPlaceholderHeights(n,r),o=i.placeholderTopHeight,c=i.placeholderBottomHeight;this.itemStartIndex=t,this.itemEndIndex=s,this.itemStartIndexWithBuffer=n,this.itemEndIndexWithBuffer=r,this.placeholderTopHeight=o,this.placeholderBottomHeight=c,this.renderedOffsetTop=this.itemOffsets[this.itemStartIndex],this.renderedOffsetBottom=this.itemOffsets[this.itemEndIndex]}),this.itemStartIndex=0,this.itemEndIndex=e.items.length,this.itemStartIndexWithBuffer=0,this.itemEndIndexWithBuffer=e.items.length,this.renderedOffsetTop=0,this.renderedOffsetBottom=0,this.placeholderTopHeight=0,this.placeholderBottomHeight=0,this.scrollDirection=S.DOWN,this.totalItemsHeight=0,this.itemHeights=[],this.itemOffsets=[],this.cachedReactElements={},this.computeItemHeightsAndOffsets(e),this.computeClassNames(e),this.isScrolling=!1,this.areItemsEqual=!0,this.isFirstMounted=!0,this.state={scrollTop:e.scrollTop||0,clientHeight:C=e.clientHeight?e.clientHeight:C},this.scrollerRef=i.a.createRef()}UNSAFE_componentWillReceiveProps(e){this.areItemsEqual=l()(this.props.items,e.items),this.loading=this.loading&&this.areItemsEqual,this.areItemsEqual||(this.computeItemHeightsAndOffsets(e),this.computeClassNames(e),this.cachedReactElements={}),void 0!==e.scrollTop&&e.scrollTop!==this.scroller.scrollTop&&this.setState({scrollTop:e.scrollTop},()=>{this.scroller.scrollTop=e.scrollTop}),e.recalculateClientHeight&&this.state.clientHeight!==(C=this.scroller.clientHeight)&&this.setState({clientHeight:C})}shouldComponentUpdate(e,t){let s=!1;return t.scrollTop<this.renderedOffsetTop||t.scrollTop+t.clientHeight>this.renderedOffsetBottom?s=!0:this.state.clientHeight!==t.clientHeight?s=!0:this.areItemsEqual||(s=!0),s}componentDidMount(){this.scroller=this.scrollerRef.current,this.scroller.clientHeight!==C?this.setState({clientHeight:C=this.scroller.clientHeight},()=>this.loadMoreOnScrollBottom()):(this.loadMoreOnScrollBottom(),this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(()=>{this.forceUpdate(),this.raf=null})),void 0!==this.props.scrollTop?this.scroller.scrollTop=this.props.scrollTop:this.scrollToItemStart();const e=this.props,t=e.numOfPlaceHolder,s=e.formatPlaceHolder;this.isFirstMounted=!1,this.createPlaceholderTiles(this.topHolder,t,s,!0),this.createPlaceholderTiles(this.bottomHolder,t,s,!1),this.props.onRenderCompleted({itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex,itemStartIndexWithBuffer:this.itemStartIndexWithBuffer,itemEndIndexWithBuffer:this.itemEndIndexWithBuffer,itemOffsets:this.itemOffsets})}componentDidUpdate(){if(!this.areItemsEqual){const e=this.scroller,t=e.scrollHeight;(C=e.clientHeight)!==this.state.clientHeight&&this.setState({clientHeight:C}),this.loading||t-this.state.scrollTop!==C||window.requestAnimationFrame(this.scrollLoadMoreRAFHandler)}if(this.props.recalculateClientHeight){const e=this.props,t=e.numOfPlaceHolder,s=e.formatPlaceHolder;this.createPlaceholderTiles(this.topHolder,t,s,!0),this.createPlaceholderTiles(this.bottomHolder,t,s,!1)}this.areItemsEqual=!0,this.props.onRenderCompleted({itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex,itemStartIndexWithBuffer:this.itemStartIndexWithBuffer,itemEndIndexWithBuffer:this.itemEndIndexWithBuffer,itemOffsets:this.itemOffsets})}componentWillUnmount(){this.raf&&window.cancelAnimationFrame(this.raf)}createPlaceholderTiles(e,t,s,a){if(!e||!t||!s)return;const n=[],r={display:"flex",flexDirection:"column"};a&&(r.position="relative",r.bottom=0);for(let e=0;e<t;e++)n.push(s(e));c.a.render(i.a.createElement("article",{style:r},n),e)}render(){const e=this.props,t=e.items,s=e.styles,a=[];this.computeRenderParameters();for(let e=this.itemStartIndexWithBuffer;e<=this.itemEndIndexWithBuffer;e++){const s=t[e];this.props.enableReactElementCache?(this.cachedReactElements[s.id]||(this.cachedReactElements[s.id]=i.a.createElement("li",{key:s.id,className:I.item},this.props.formatItem(s,{isScrolling:this.isListScrolling,itemIndex:e,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex},this.scrollerRef))),a.push(this.cachedReactElements[s.id])):a.push(i.a.createElement("li",{key:s.id,className:I.item},this.props.formatItem(s,{isScrolling:this.isListScrolling,itemIndex:e,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex},this.scrollerRef)))}return i.a.createElement("div",{ref:this.scrollerRef,className:this.scrollerClassName,style:s,onScroll:this.handleScroll,"data-test-id":"virtual-list"},i.a.createElement("section",{role:"presentation",ref:this.setTopPlaceHolderHolder,id:"list-placeholder-top","data-test-id":"placeholder-top",className:I.topHolder,style:{height:this.placeholderTopHeight+"px"}}),i.a.createElement("ul",{key:"itemsContainer",className:this.listClassName},a),i.a.createElement("section",{role:"presentation",ref:this.setBottomPlaceHolderHolder,"data-test-id":"list-placeholder-bottom",className:I.bottomHolder,style:{height:this.placeholderBottomHeight+"px"}}))}}n()(f,"defaultProps",{items:[],bufferSize:0,loadMoreItems:E,onScroll:E,onScrollTop:E,onScrollBottom:E,onRenderCompleted:E,styles:{},scrollTop:void 0,scrollerClassName:"",listClassName:"",numOfPlaceHolder:0,recalculateClientHeight:!1,oppositeBufferSize:0,enableReactElementCache:!1});t.a=f},,function(e,t,s){"use strict";s.r(t),s.d(t,"strings",function(){return v}),s.d(t,"QuotientModal",function(){return P}),s.d(t,"mapStateToProps",function(){return F}),s.d(t,"mapDispatchToProps",function(){return w});var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(13),_=s.n(u),m=s(6),p=s(15),h=s(796),g=s.n(h),E=s(78),I=s(19),S=s(28),C=s(5),f=s(16),T=s(20),A=s(102),b=s(0),O=s(7),R=s(2),N=s(163),M=s(12),D=s(11),y=s(277),L=s.n(y);const v=Object(m.defineMessages)({close:{id:"quotient_modal.close",defaultMessage:"Close"},phone_number_placeholder:{id:"quotient_modal.phone_number_placeholder",defaultMessage:"Enter phone number"},loyalty_card_placeholder:{id:"quotient_modal.loyalty_card_placeholder",defaultMessage:"Enter loyalty number"},link:{id:"quotient_modal.link",defaultMessage:"Continue"},policyText:{id:"quotient_modal.policyText",defaultMessage:'By clicking <b>Continue</b>, you are agreeing to our partner\'s <a target=\'_blank\' style="color:#878C91; text-decoration:underline;" href="https://www.quotient.com/terms-of-use/">Terms</a> and <a target=\'_blank\' style="color:#878C91; text-decoration:underline;" href="https://www.quotient.com/privacy-policy/">Privacy policy</a>'},subtitle:{id:"quotient_modal.subtitle",defaultMessage:"Find coupons to save at {retailerName} stores"},error:{id:"quotient_modal.error",defaultMessage:"Unable to find a {retailerName} account for this number"},link_card_step_1_phone:{id:"quotient_modal.link_card_step_1_phone",defaultMessage:"Enter phone number used at the store"},link_card_step_1_loyalty:{id:"quotient_modal.link_card_step_1_loyalty",defaultMessage:"Enter your loyalty card number"},link_card_step_2:{id:"quotient_modal.link_card_step_2",defaultMessage:"Add coupons you like"},link_card_step_3:{id:"quotient_modal.link_card_step_3",defaultMessage:"Save at checkout"},other_stores:{id:"quotient_modal.other_stores",defaultMessage:"View other stores"}});class P extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{loyaltyId:"",isValid:!0,isCountShown:!1,count:0}),i()(this,"handleSuccessClick",()=>{const e=this.props,t=e.closeModal;let s={};e.showContextualModal&&(s={mKey:O.e.QTNTVIEW_TAKEOVER,sec:O.g.QUOTIENT,actionData:{reason:{featurefamily:b.sb.IC,featurename:b.ub.QUOTIENT,upselltype:"takeover_msgview",retailername:e.retailerName,actiontype:"success",origin:"msgread"}}}),(0,e.onSuccess)(s),t()}),i()(this,"handleCloseClick",()=>{const e=this.props,t=e.closeModal,s=e.onClose,a=e.retailerName;let n={mKey:O.e.QTNTVIEW_SMARTVIEW_CANCEL,sec:O.g.QUOTIENT,actionData:{reason:{featurefamily:b.sb.IC,featurename:b.ub.QUOTIENT,viewtype:"grocerystorelist",retailername:a,actiontype:"cancel"}}};if(e.showContextualModal)return s(n={mKey:O.e.QTNTVIEW_TAKEOVER,sec:O.g.QUOTIENT,actionData:{reason:{featurefamily:b.sb.IC,featurename:b.ub.QUOTIENT,upselltype:"takeover_msgview",retailername:a,actiontype:"reject",origin:"msgread"}}}),void t();s(),t(n)}),i()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation()}),i()(this,"handleInputChange",e=>{const t=e.target.value,s=this.props,a=s.loyaltyCardLength;this.setState(s.proxyType===b.Yc.Phone?{loyaltyId:t,isCountShown:!0,count:this.unmask(t).length,isValid:10===this.unmask(t).length}:{loyaltyId:t,isValid:!(a&&t.length<a),isCountShown:!0})}),i()(this,"handleKeyPress",e=>{const t=String.fromCharCode(e.keyCode||e.which);/\D+/.test(t)&&e.preventDefault()}),i()(this,"unmask",e=>e.replace(/\D+/g,"")),i()(this,"linkCard",()=>{const e=this.props,t=e.linkRetailerRequested,s=e.parentName,a=e.retailerId;let n=this.state.loyaltyId;e.proxyType===b.Yc.Phone&&(n=this.unmask(n)),t({retailerId:a,loyaltyId:n,parentName:s})}),i()(this,"_renderStep",(e,t,s)=>{const a=_()(L.a),n=this.context.intl.formatMessage;return l.a.createElement("div",{className:a.step},l.a.createElement("div",{className:a.stepTitle},l.a.createElement("div",{className:a.stepNumber},s),l.a.createElement(f.b,{kind:e,size:C.d.S,colorState:C.a.IMPROVED_GRAY_DARK})),l.a.createElement("div",{className:a.stepText},n(t)))}),i()(this,"_renderCheck",()=>{const e=this.props.proxyType===b.Yc.Phone,t=_()(L.a,{isPhone:e});return l.a.createElement("div",{className:t.checkmark},l.a.createElement(f.b,{kind:C.b.CHECKMARK,size:C.d.S,colorState:C.a.SUCCESS}))}),i()(this,"_renderDigitsCheck",()=>{const e=this.state,t=e.isValid,s=e.count,a=this.props.proxyType===b.Yc.Phone,n=_()(L.a,{isPhone:a});return 10===s&&t?this._renderCheck():l.a.createElement("div",{className:n.digits},s,"/10")}),i()(this,"_renderLoyaltyDigitsCheck",()=>{const e=this.state.loyaltyId,t=this.props.loyaltyCardLength,s=_()(L.a);return e.length===parseInt(t,10)?this._renderCheck():l.a.createElement("div",{className:s.digits},e.length,"/",t)})}componentWillReceiveProps(e){null!==e.linked&&(e.linked?(this.setState({isValid:!0,isCountShown:!1}),this.handleSuccessClick()):this.setState({isValid:!1,isCountShown:!1}))}componentDidMount(){this.textInput&&this.textInput.focus()}render(){const e=this.props,t=e.brandImage,s=e.errorHint,a=e.loyaltyCardLength,r=e.loyaltyCardPrefix,i=e.proxyType,o=e.registrationInfo,c=e.retailerName,d=this.state,u=d.loyaltyId,p=d.isValid,h=d.isCountShown,E=this.context.intl.formatMessage,f=_()(L.a),O={retailerName:c},R=i===b.Yc.Phone,D=r?r.concat("X".repeat(a-r.length)):E(v.loyalty_card_placeholder),y=R?E(v.phone_number_placeholder):D,P=p||h?o:s,F=P.includes("_blank")?P:P.replace("<a ",'<a  style="color:#188fff;" target="_blank" '),w=p||h?"registrationInfo":"errorInfo",k=!!R&&["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],x={width:`${83.5*M.GRID_UNIT}px`,height:`${9*M.GRID_UNIT}px`,margin:`${2*M.GRID_UNIT}px ${5*M.GRID_UNIT}px ${5*M.GRID_UNIT}px ${5*M.GRID_UNIT}px`};return l.a.createElement(A.a,{onClose:this.handleOverlayClick},l.a.createElement("div",{className:f.dialog,"data-test-id":"quotient-modal"},l.a.createElement("div",{className:f.close},l.a.createElement(T.a,{"aria-label":E(v.close),"data-test-id":"quotient-modal-close-btn",kind:C.b.CLOSE,onClick:this.handleCloseClick,size:C.d.XS,title:E(v.close)})),l.a.createElement("div",{className:f.imgContainer},l.a.createElement("img",{className:f.logo,onError:e=>Object(N.a)(e,b.Wc),src:t}),l.a.createElement("div",{className:f.overlayContainer},l.a.createElement("div",{className:f.overlay}))),l.a.createElement("div",{className:f.subtitleContainer},l.a.createElement("div",{className:f.subtitle},E(v.subtitle,O)),l.a.createElement("div",{className:f.stepContainer},this._renderStep(C.b.CONTACTCARD_OUTLINE,R?v.link_card_step_1_phone:v.link_card_step_1_loyalty,1),this._renderStep(C.b.ADDATTACHMENT,v.link_card_step_2,2),this._renderStep(C.b.CART,v.link_card_step_3,3))),r&&!R?l.a.createElement("div",{className:f.headerText},l.a.createElement(m.FormattedHTMLMessage,v.loyalty_card_placeholder)):null,l.a.createElement("div",{className:f.inputFieldContainer},l.a.createElement("div",null,l.a.createElement(g.a,{className:f.inputField,"data-test-id":"quotient-modal-text-input",guide:!0,mask:k,maxLength:a&&!R?a:"20",onChange:this.handleInputChange,onKeyPress:this.handleKeyPress,placeholder:y,render:(e,t)=>l.a.createElement("input",n()({},t,{ref:t=>{this.textInput=e(t)}})),size:R?"23":"25",type:"text"})),R?this._renderDigitsCheck():null,a&&!R?this._renderLoyaltyDigitsCheck():null),l.a.createElement("div",{className:"errorInfo"===w?f.error:f.noError},E(v.error,O)),"errorInfo"===w?l.a.createElement("div",{className:f.errorInfo,dangerouslySetInnerHTML:{__html:F},id:"quotient-modal-info","data-test-id":"quotient-modal-info-text"}):null,p||h?l.a.createElement("div",{className:f.policy,"data-test-id":"quotient-modal-policy-text"},l.a.createElement(m.FormattedHTMLMessage,v.policyText)):null,l.a.createElement(I.a,{"data-test-id":"quotient-modal-primary-btn",disabled:!(u&&p),kind:S.a.PRIMARY,onClick:this.linkCard,style:x},E(v.link))))}}i()(P,"contextTypes",{intl:m.intlShape.isRequired,navigateTo:c.a.func.isRequired}),i()(P,"defaultProps",{onSuccess:()=>{},onClose:()=>{}});const F=(e,{retailerId:t=""})=>{const s=Object(D.b)(e),a=s.isFeatureEnabled,n=s.getSelectedAccountId,r=(0,s.getRetailersSelectors)(),i=r.getBrandImageFromRetailerId,o=r.getDisplayNameFromRetailerId,c=r.getErrorHintFromRetailerId,d=r.getProxyTypeFromRetailerId,l=r.getRegistrationInfoFromRetailerId,u=r.getLoyaltyCardLengthFromRetailerId,_=r.getLoyaltyCardPrefixFromRetailerId,m=r.isLinkedRetailer,p=n();return{retailerName:o(t),brandImage:i(t),errorHint:c(t),linked:m(t),proxyType:d(t),loyaltyCardPrefix:_(t),loyaltyCardLength:u(t),registrationInfo:l(t),activeAccountID:p,showContextualModal:a(b.ub.QUOTIENT_CONTEXTUAL_CUE)&&a(b.ub.MSG_READ_CONTEXTUAL_QUOTIENT_MODAL)}},w=e=>({closeModal:(t={})=>e({type:R.rg,i13nModel:t}),linkRetailerRequested:t=>e(Object(E.e)(t))});t.default=Object(p.connect)(F,w)(P)},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"c",function(){return d}),s.d(t,"b",function(){return l});var a=s(73);const n="[a-zA-Z0-9-_]*",r={start:0,end:0},i="yahoo_quoted";function o(e){if(0===e.length)return!1;return 0!==e[0].divIds.length}function c(e,{divIds:t=[]}){const s=[];let i=r;return t.forEach(t=>{let o=r;try{o=function(e,{divId:t}){let s,a;const i=new RegExp("<div[^>]+id=[\"']"+n+t+n+"[\"'][^>]*>","gm").exec(e);if(!i)return r;const o=e.slice(i.index),c=/<div|<\/div>/gi;for(s=0;s>0||!a||"</div>"!==a[0];){const e=c.exec(o);if(!e){(a=[""]).index=o.length;break}"<div"===(a=e)[0]?s++:s--}return{imbalancedBy:s,start:i.index,end:i.index+a.index+a[0].length}}(e.slice(i.end),{divId:t})}catch(e){a.a.error("Mismatched HTML tags",{divId:t,error:e})}o!==r&&(o.start+=i.end,o.end+=i.end,s.push(o),i=o)}),s}function d(e="",t=[]){if(!o(t))return{nonQuote:e,quote:""};const s=c(e,{divIds:t[0].divIds});let a="",n="",i=r;for(let t=0;t<s.length;t++){const r=s[t],o=r.start,c=r.end,d=r.imbalancedBy;a+=e.slice(t>0?i.end:0,o),n+=e.slice(o,c),d>0&&(n+=new Array(d).fill("</div>").join("")),i=s[t]}return{quote:n,nonQuote:a+=e.slice(i.end)}}function l(e="",t=[],s=!1){if(!o(t))return{messageAbove:e,messageBelow:"",expandable:!1};const a=c(e,{divIds:t[0].divIds});let n=r,i=!1;const d=[],l=[];for(let t=0;t<a.length;t++){const r=a[t],i=r.start,o=r.end,c=r.imbalancedBy;if((0===t?d:l).push(e.slice(n.end,i)),s){let t=e.slice(i,o);c>0&&(t+=new Array(c).fill("</div>").join("")),l.push(`<div class="qtd-body">${t}</div>`)}n=a[t]}return 0===a.length?d.push(e):(l.push(e.slice(n.end)),i=!0),{messageAbove:d.join(""),messageBelow:l.join(""),expandable:i}}},,function(e,t,s){"use strict";s.d(t,"a",function(){return I});var a=s(73),n=s(88),r=s(9),i=s(140),o=s(2),c=s(0),d=s(11);const l="generic_error",u=Object(r.c)(["INTERNAL","EXTERNAL"]),_=Object(r.c)(["ERROR_IS_NULL","PLUGIN","ACCESS_DENIED","REMOTE_SERVER","MAIL_APP_CORS","MAIL_APP_VENDOR_CORS","MAIL_APP_LAZY_GROUP1_CORS","PERMISSION_DENIED","REDUX_DISPATCH","RENDER_APP","RUM","YAFT_CORS","DARLA"]),m=1e3;let p="",h=0;const g={};function E(e){return-1===e.indexOf("yahoo.com")&&-1===e.indexOf("aol.com")&&-1===e.indexOf("oath.com")&&-1===e.indexOf("Oath")&&-1===e.indexOf("yimg.com")&&-1===e.indexOf("CMP 2")&&-1===e.indexOf("window.ymailManifest")&&-1===e.indexOf("_mod_ybar")&&-1===e.indexOf("window.DARLA_CONFIG")&&-1===e.indexOf("root.AppBootstrapData")&&-1===e.indexOf("window.babelHelpers")&&0!==e.indexOf("{}")}function I(e="",t="",s="",r="",I){const S=`${e=Object(n.c)(e)} ${t}:${s}:${r}`,C=I?Object(n.c)(I.message):"",f=I?`${I.name}:${C}`:"",T=new i.a(I).toString(),A=function(e,t,s,a,n="",r=null){const i=r?r.message:"",o=r?r.name:"";return 0===e.indexOf("Access is denied")?_.ACCESS_DENIED:0===i.indexOf("The remote server machine does not exist")?_.REMOTE_SERVER:"Permission denied"===i?_.PERMISSION_DENIED:"REDUX_DISPATCH"===o?_.REDUX_DISPATCH:0===e.indexOf("Rendering App error")?_.RENDER_APP:0===e.indexOf("RUM error")?_.RUM:-1!==t.indexOf("s.yimg.com/rq/darla")?_.DARLA:-1!==t.indexOf(".kaspersky-labs.com")||-1!==e.indexOf("KasperskyLab is not defined")?_.PLUGIN:-1!==n.indexOf("hostingcloud.science")?_.PLUGIN:-1!==n.indexOf("zennolab://chromium")?_.PLUGIN:-1!==e.indexOf('Cannot set property "install" of undefined')||-1!==e.indexOf("chrome is not defined")?_.PLUGIN:"null is not an object (evaluating 'x.length')"===i&&184===a?_.PLUGIN:"$ is not defined"===i?_.PLUGIN:"Cannot redefine property: googletag"===i?_.PLUGIN:"s2s is not defined"===i?_.PLUGIN:r?o||"":_.ERROR_IS_NULL}(e,t,0,r,T,I),b=function(e,t="",s=""){return t===_.PLUGIN||t===_.DARLA?u.EXTERNAL:-1!==e.indexOf("fc.yahoo.com")?u.EXTERNAL:-1===e.indexOf(".yahoo.com")&&-1===e.indexOf(".aol.com")&&-1===e.indexOf(".yimg.com")?u.EXTERNAL:-1!==s.indexOf("consent.cmp.oath.com")?u.EXTERNAL:u.INTERNAL}(t,A,T),O={error:S,errorMessage:f,stack:T,source:b,type:A,isFirstJSE:!g[A],message:e,externalScripts:function(){try{let e=null;const t=[],s=document.getElementsByTagName("script");for(let a=0;a<s.length;a++)(e=s[a]).src&&E(e.src)?t.push(e.src):e.innerHTML&&E(e.innerHTML)&&t.push(e.innerHTML.substring(0,200));return t.join("|")}catch(e){return"error"}}(),data:I&&I.data||{}},R=O.error;if(g[A]=!0,b===u.INTERNAL&&A!==_.REDUX_DISPATCH&&A!==_.RUM){!function(e){try{const t=window.context.getActionContext();(0,Object(d.b)(window.context.store.getState()).getFeaturesSelectors)().isEnabled(c.ub.EXCEPTION_NOTIFICATION)&&t.dispatch(o.Ke,{splunkUrl:e})}catch(e){}}(function(e){const t=[];for(const s in e)t.push(`${s}="'${e[s]}'"`);return c.ld+"?q=search"+encodeURIComponent(" index=idx_norrin sourcetype=apache_error "+t.join(" "))}({platform:"browser",message:l,data_errorMessage:f}))}p!==R&&(h=0),++h<=m?a.a.error(l,O):h%m==0&&(O.jseOverLimit=h,a.a.error(l,O)),p=R}},function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"a",function(){return r}),s.d(t,"b",function(){return i});var a=s(2);const n=({listId:e,i13nModel:t})=>({type:a.Kk,listId:e,i13nModel:t}),r=e=>{const t=e.messageGroupId,s=e.listId,n=e.isV2Action,r=e.messageGroupIds;return{type:a.dk,messageGroupId:t,i13nModel:e.i13nModel,listId:s,streamId:e.streamId,streamItem:{id:t,listId:s},isV2Action:void 0!==n&&n,messageGroupIds:void 0===r?[]:r}},i=({i13nModel:e})=>({type:a.ek,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return c});var a=s(256),n=s(0);const r="YM.CLIENT.PARAMS",i={TOUCH_ENABLED_DESKTOP:"ted",[n.Sc.H_SLIDER_POS_V2]:"hsp",[n.Sc.V_SLIDER_POS_V2]:"vsp"},o=604800;class c extends a.a{constructor(e){super(e,r,{TTL:o,path:"/"})}setClientParam(e,t){e&&Object.values(i).indexOf(e)>-1&&this.set({[e]:t})}getClientParam(e){return this.get()[e]}getClientParams(){return this.get()}}},function(e,t,s){"use strict";s.d(t,"d",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return l});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.qi},e),o=()=>({type:r.pi}),c=e=>n()({type:r.je},e),d=e=>n()({type:r.ke},e),l=e=>n()({type:r.ie},e)},function(e,t,s){"use strict";s.d(t,"h",function(){return u}),s.d(t,"g",function(){return _}),s.d(t,"a",function(){return m}),s.d(t,"c",function(){return p}),s.d(t,"b",function(){return h}),s.d(t,"d",function(){return g}),s.d(t,"f",function(){return E}),s.d(t,"e",function(){return I});var a=s(31),n=s.n(a),r=s(4),i=s.n(r),o=s(39),c=s.n(o),d=s(2),l=s(11);const u=e=>({type:d.xg,savedSearches:e}),_=e=>({type:d.wg,error:e}),m=e=>{let t=e.name,s=e.query,a=e.decorations,n=e.priority,r=e.parentMessageId,o=c()(e,["name","query","decorations","priority","parentMessageId"]);return(e,c)=>{const u=Object(l.b)(c()),_=(0,u.getAccountIdByFolderId)((0,u.getMessageFolderId)(r));e(i()({type:d.Jd,name:t,query:`acctId:${_} AND ${s}`,decorations:a,priority:n},o))}},p=e=>({type:d.Kd,savedSearches:[].concat(e)}),h=e=>({type:d.Id,error:e}),g=e=>{let t=e.query,s=e.parentMessageId,a=c()(e,["query","parentMessageId"]);return(e,r)=>{const o=Object(l.b)(r()),c=o.getAccountIdByFolderId,u=o.getMessageFolderId,_=(0,(0,o.getSavedSearchesSelectors)().getSavedSearchesByQuery)(`acctId:${c(u(s))} AND ${t}`),m=n()(_,1)[0].id;e(i()({type:d.me,savedSearchId:m},a))}},E=e=>({type:d.ne,savedSearchId:e}),I=e=>({type:d.le,error:e})},,,function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F en_0 H_74JI p_R",searchButton:"en_0 I_2sqbOJ u_b k_w ck_dRA bl_dRA J_x W_7GHz H_74JI gl_C M_0 D_F cZ1RN91d_n A_6EqO y_Z2uhb3X b_0 C_52qC r_P I4_2sqbPK ir3_1JO2M7 it3_dRA",searchInputContainer:"D_F W_6D6F s_3z5BY cj_dRA bk_dRA k_w b_0 I_52qC p_R",searchInput:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2uhb3X I_T p_R Z_N",searchHint:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk y_Z2uhb3X I_T C_Z1AHs3T p_a q_T L_0 Z_0",suggestionDropdown:"W_Z2mrcQq Z_fcS I_52qC k_w ha_n L_0 T_750t M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",suggestionWebOption:"P_fQq0A k_w W_6D6F D_F ab_C H_73HH r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionWebIcon:"X_eTB N_eTB E_fq7",suggestionWebLabel:"J_x G_e o_h",suggestionWebQuery:"C_Z281SGl",suggestionDetails:"C_ZxFlP3 Q_fq7",pills:"ab_C W_1BJksS",pillsContainer:"eo_x el_EZ",typeaheadInputContainer:"p_R",typeaheadAriaStatus:"L_Z1yJMeR p_a",couponIndicator:"D_F C_Z2aVTcY q_2iedUU e_dRA H_6NIX ab_C P_SkAgv A_6EWk J_x",headerLabel:"D_F P_sUAQ8 k_w H_6VdP y_Z2uhb3X u_e69 C_Z1VRpVF A_6EqO Y_fq7 z_Z28pSMW"},showPeopleSuggestion:{suggestionWebOptionBorder:"M_Z2rzCvT z_Z14vXdP"},hasPill:{searchInput:"P_fq7",searchHint:"P_fq7",pillsContainer:"Q_6Eb4",searchInputContainer:"X_6DEy"},hasContactPill:{searchInput:"P_ZzrjY8"},firstEntry:{headerLabel:"Y_0 z_n"},spacedPill:{couponIndicator:"Q_fq7"}},_key:"aOPl0"}},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(16),l=s(20),u=s(6),_=s(5),m=s(13),p=s.n(m),h=s(675),g=s.n(h),E=s(59),I=s(99),S=s(125),C=s(0),f=s(112),T=(s(182),s(485));const A=Object(u.defineMessages)({emptyItems:{id:"option",defaultMessage:"No items"},close:{id:"close",defaultMessage:"Close"}}),b=()=>{};class O extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{isOpen:!1}),i()(this,"focus",()=>{this.refs.input.focus()}),i()(this,"setSelected",(e,t)=>{this.closeOptions(),this.props.onChange&&this.props.onChange(e,t)}),i()(this,"clearValue",()=>{this.props.onChange&&this.props.onChange(null)}),i()(this,"openOptions",()=>{this.props.disabled||this.setState({isOpen:!this.state.isOpen})}),i()(this,"closeOptions",e=>{this.setState({isOpen:!1},()=>e&&this.focus())}),i()(this,"handleFocus",()=>{this.setState({isFocused:!0},this.props.onFocus)}),i()(this,"handleBlur",()=>{this.setState({isFocused:!1},this.props.onBlur)}),i()(this,"handleKeyDown",e=>{const t=this.state.isOpen;switch(e.key){case C.Lb.ENTER:e.preventDefault(),e.stopPropagation();break;case C.Lb.ARROW_DOWN:t||this.openOptions()}}),i()(this,"getSelectedIndex",()=>{const e=this.props,t=e.selected,s=c.a.Children.toArray(e.children);return Object(f.b)(s,e=>e.props.value===t)}),i()(this,"renderLabel",e=>{const t=this.state,s=t.isOpen,a=t.isFocused,n=this.props.classNames,r=this.context.intl.formatMessage,i=this.props,o=i.selected,u=i.showClear,m=i.disabled,p=i.title,h=i.placeholder,g=i.inputFormatter,E=c.a.Children.toArray(i.children),I=this.getSelectedIndex(),S=(I>-1?E[I].props:{}).children;let C=(s||a)&&!m?_.a.SELECTED:_.a.SECOND_LEVEL_GRAY,f=S,T=S;if(this.props.arrowDownColor&&(C=this.props.arrowDownColor),g){const e=g(o);T=e.optionLabel||S,f=e.optionTitle||S}return c.a.createElement("div",{onMouseDown:this.openOptions,"data-test-id":"selectbox-input",className:e.selectBox},c.a.createElement("input",{readOnly:!0,type:"text",ref:"input",disabled:m,value:o||"",onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,className:e.selectInput}),c.a.createElement("div",{className:n.selectLabel||e.selectLabel},o||"number"==typeof o&&0===o?c.a.createElement("div",{className:e.inputWrapper},c.a.createElement("span",{title:f,className:n.selectedValue||e.selectedValue},T),u&&!m?c.a.createElement("span",{className:e.closeBtn},c.a.createElement(l.a,{paddingLess:!0,size:_.d.XXS,onClick:this.clearValue,kind:_.b.CAL_DECLINE,colorState:_.a.FAINT,title:r(A.close),"aria-label":r(A.close)})):null):c.a.createElement("span",{className:e.selectPlaceholder,title:p},h),c.a.createElement("span",{className:e.arrowDown},c.a.createElement(d.b,{size:_.d.XS,kind:_.b.INPUT_ARROW_DOWN,colorState:C}))))}),i()(this,"renderOptions",e=>{let t=null;const s=this.props,a=s.children,r=s.maxWidth,i=this.getSelectedIndex();return t=c.a.Children.count(a)>0?c.a.Children.map(a,(e,t)=>c.a.cloneElement(e,n()({key:t,isSelected:t===i},!e.props.handlesOnSelect&&{onSelect:this.setSelected}))):c.a.createElement("div",{className:e.emptyItem},c.a.createElement(u.FormattedMessage,{id:"option",defaultMessage:"No items"})),c.a.createElement("div",{className:e.optionsContainer,"data-test-id":"options",style:this.props.dropdownType===T.a.FITCONTENT?{maxWidth:r}:{}},c.a.createElement(E.a,{focusOnMount:!0,circularNavigation:!1,onHide:this.closeOptions.bind(this,!1),onEscape:this.closeOptions.bind(this,!0),layout:S.a.VERTICAL,kind:I.a.MENU,isRestrictedHeight:!0},t))})}componentDidMount(){this.props.setRef&&this.props.setRef(this.refs.input)}render(){const e=this.props,t=e.disabled,s=e.onClick,a=e.coloredPlaceholder,n=e.inline,r=this.state,i=r.isOpen,o=(i||r.isFocused)&&!t,d=p()(g.a,{isOpen:i,disabled:t,isFocused:o,type:this.props.dropdownType,coloredPlaceholder:a,inline:n});return c.a.createElement("div",{className:d.selectWrapper,"data-test-id":"selectbox",onClick:s},this.renderLabel(d),i&&this.renderOptions(d))}}i()(O,"contextTypes",{intl:u.intlShape}),i()(O,"defaultProps",{disabled:!1,showClear:!1,onFocus:b,onBlur:b,onClick:b,classNames:{},coloredPlaceholder:!1}),t.a=O},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(145);s(9);const c="data:image/svg+xml;base64,",d={[o.a.EMPTY_FOLDER]:c+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjAgMTYwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxNjAgMTYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJpbGx1c3RyYXRpb25zIj4NCgk8cG9seWdvbiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgcG9pbnRzPSI5MS45MjIsMzkuMjY4IDEyMS4wMjUsMzkuMjY4IDEyMS41MjcsMjkgMTE0LDI5DQoJCTExNCwzNi43MDEgOTEuOTIyLDM2LjcwMSAJIi8+DQoJPGNpcmNsZSBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgY3g9IjkxLjkyMiIgY3k9IjE5Ljk0IiByPSIyLjQxNiIvPg0KCTxjaXJjbGUgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFMEU0RTkiIGN4PSIxMjAuMzE4IiBjeT0iMTkuOTQiIHI9IjIuNDE2Ii8+DQoJPHBhdGggZmlsbD0iI0UwRTRFOSIgZD0iTTEyOS45NDUsMTAuNjE4Yy0xLjYyNi0xLjMwMi0zLjM2OS0yLjE5LTUuMTE2LTIuNzQyQzEyMy43NjMsNy41NCwxMjIuMDIzLDcsMTIwLjI3LDdTNTYuMjkzLDcsNTYuMjkzLDcNCgkJYy0xMS42NzUsMC0yMS4xMzYsOS40NjQtMjEuMTM2LDIxLjE0djM1LjA5NGwtOS4yNjUsMTEuNDYybC0wLjA3NywwLjEwNGMtMS4zMzUsMS45NzktMi4xNTksNC4xMDktMi41MjEsNi4yNThsLTAuMTA3LTAuMDQ0DQoJCWMtMC4xNTksMC4zODctMC4zODEsMS4wNDctMC41OTgsMS45MzFjLTAuOTE1LDMuNzIyLTAuODU5LDcuNzIyLDAuODQ3LDExLjUxOGMwLjk2LDIuMTM3LDIuNDEsNC4wOCw0LjM5Miw1Ljc3OA0KCQljOS4yMTYsNy44OTgsMjYuMjg4LDMuOTc2LDM1Ljk3OC04LjA1YzEuMzcxLTEuNzAxLDIuODMyLTMuNTUxLDQuMzcxLTUuNTMyYzAuNTUzLTAuNzExLDEuMTE0LTEuNDM4LDEuNjg0LTIuMTc5DQoJCWMzLjI4Ny00LjI3NCw2LjcxNi04Ljg1MiwxMC4wODUtMTMuNDNjMS4wNzItMS40NTYsMi4wNjItMi44MTIsMi45NjMtNC4wNWMwLjkyNy0wLjMzNCwxLjc1My0wLjg3NSwyLjQyMi0xLjU3Mmg1LjU3NQ0KCQlsLTAuMzY1LDczLjE3NmwtMC43NDMtMC44OTNsLTEuMjMyLTEuNDgybC0xLjEzNCwxLjU1OWwtNy42NTEsMTAuNTE3Yy0wLjQ4NywwLjY3LTAuMzM5LDEuNjA4LDAuMzMxLDIuMDk1DQoJCWMwLjY3LDAuNDg3LDEuNjA4LDAuMzM5LDIuMDk1LTAuMzMxbDYuNTE3LTguOTU5bDcuNTEyLDkuMDM1bDEuMjgxLDEuNTQxbDEuMTE3LTEuNjY0bDUuMzAzLTcuODk4bDQuMjIzLDYuMzg2bDEuMTkyLDEuODAzDQoJCWwxLjI3Mi0xLjc0OGw2LjQzOC04Ljg1bDYuNDM4LDguODVsMS4wMTMsMS4zOTJsMS4yNC0xLjE5NGw0LjUwMi00LjMzMmw0LjQzNCwzLjY1N2MwLjYzOSwwLjUyNywxLjU4NCwwLjQzNiwyLjExMi0wLjIwMw0KCQlzMC40MzYtMS41ODQtMC4yMDMtMi4xMTJsLTUuNDY1LTQuNTA4bC0xLjAzMS0wLjg1MWwtMC45NjMsMC45MjdsLTQuMjI1LDQuMDY1bC02LjYzOC05LjEyNWwtMS4yMTMtMS42NjdsLTEuMjEzLDEuNjY3DQoJCWwtMi4yNzMsMy4xMjVWNjUuNDI5aDIyLjE2N2gxLjV2LTEuNXYtMi42MzF2LTcuMjZjMC0xMC40ODMsMC0xMC40ODMsMC0yNC41OTlDMTM3LjI0MiwyMC40MTksMTM0LjUyNCwxNC4yODUsMTI5Ljk0NSwxMC42MTh6DQoJCSBNMzguMTU4LDI4LjE0YzAtMTAuMDE5LDguMTE4LTE4LjE0LDE4LjEzNi0xOC4xNGMxMC4wMiwwLDE4LjEzNiw4LjExNSwxOC4xMzYsMTguMTR2MzQuMTI1aC0zLjE3SDM4LjE1OFYyOC4xNHogTTI4LjI4MSw3Ni41MTQNCgkJbDguOTYtMTEuMDg0aDM1LjU5MUw1OC40MSw4NC45MjJjLTcuNzg0LDkuNDQ2LTE4Ljg5MywxMy4yODQtMjUuNjY2LDkuNDg4bC0wLjIxNS0wLjEyQzI2LjAxMyw5MC42MzcsMjQuMTI0LDgyLjcxNSwyOC4yODEsNzYuNTE0DQoJCXogTTc3LjUyOCw2OS4yNzRjLTMuMzU3LDQuNTYyLTYuNzc0LDkuMTIzLTEwLjA0NiwxMy4zNzljLTAuNTY3LDAuNzM3LTEuMTI1LDEuNDYtMS42NzUsMi4xNjcNCgkJYy0xLjUyOSwxLjk2OC0yLjk3OSwzLjgwNC00LjMzOCw1LjQ5Yy04LjcyNCwxMC44MjctMjMuOTE1LDE0LjMxNy0zMS42OSw3LjY1NGMtMS42NDUtMS40MS0yLjgyOC0yLjk5NS0zLjYwNy00LjczDQoJCWMtMC4xODMtMC40MDYtMC4zMzktMC44MTctMC40NzctMS4yMzFjMS4zMjIsMS45NDMsMy4xMTMsMy42NCw1LjM2OCw0LjkwNGwwLjIxNSwwLjEyYzguMjI5LDQuNjEyLDIwLjgzNCwwLjI1NywyOS40OTctMTAuMjU5DQoJCUw3Ni40MDgsNjUuNjRjMC43NDQsMC43MDYsMS42NTksMS4yMzEsMi42NzcsMS41MUM3OC41ODYsNjcuODMyLDc4LjA3NCw2OC41MzEsNzcuNTI4LDY5LjI3NHogTTgwLjc2Miw2NC4zODINCgkJYy0xLjg0MSwwLTMuMzMzLTEuNDkyLTMuMzMzLTMuMzMyczEuNDkyLTMuMzMyLDMuMzMzLTMuMzMyYzEuODQxLDAsMy4zMzMsMS40OTIsMy4zMzMsMy4zMzJTODIuNjAzLDY0LjM4Miw4MC43NjIsNjQuMzgyeg0KCQkgTTk3LjI1OSwxNDYuNjg4bC0zLjczOC00LjQ5NmwwLjM4Mi03Ni43NjNoOC41ODh2NzMuNDY3TDk3LjI1OSwxNDYuNjg4eiBNMTA5LjQ2OSwxNDUuMDU1bC0zLjk3Ny02LjAxNFY2NS40NTZoNS4wODR2NzguMDc4DQoJCUwxMDkuNDY5LDE0NS4wNTV6IE0xMzQuMjQyLDU0LjAzOHY3LjI2djEuMTMxSDg2Ljk0YzAuMDk5LTAuNDQ1LDAuMTU1LTAuOTA1LDAuMTU1LTEuMzhjMC0zLjQ5Ny0yLjgzNi02LjMzMi02LjMzMy02LjMzMg0KCQljLTEuMjI1LDAtMi4zNjQsMC4zNTMtMy4zMzMsMC45NTVWMjguMTRjMC03LjcyMS00LjE0Ni0xNC40NTEtMTAuMzItMTguMTQxYzE4LjAzMi0wLjAwMSw1Mi4zNTMtMC4wMDMsNTMuMDUyLTAuMDAzDQoJCWMwLjk1LDAsMy4yNzcsMC41ODgsMy43NjUsMC43NDJjMS40MSwwLjQ0NSwyLjgyMywxLjE2NSw0LjE0NCwyLjIyMmMzLjgzOSwzLjA3NSw2LjE3Miw4LjMzOSw2LjE3MiwxNi40NzkNCgkJQzEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNTQuMDM4eiIvPg0KPC9nPg0KPC9zdmc+DQo=",[o.a.SELECTED_MESSAGES]:c+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJNQUlMX3g1Rl9TRUxFQ1RFRCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IgoJIHk9IjBweCIgdmlld0JveD0iNjEgLTYxIDEzOCAxMzgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgNjEgLTYxIDEzOCAxMzg7ZmlsbDojRTBFNEU5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggZD0iTTEyNC41LDQ5LjJMNjUsNC4xdjYyLjNjMCwzLjksMi44LDYuNiw3LDYuNmgxMTZjNC4xLDAsNy0yLjcsNy02LjZWNGwtNTkuNiw0NS4yQzEzMi4yLDUxLjcsMTI3LjcsNTEuNywxMjQuNSw0OS4yeiIvPgo8cGF0aCBkPSJNMTI3LDQ1LjZjMS42LDEuMiwzLjgsMS4yLDUuNCwwbDYwLjItNDQuMmMxLjItMC45LDEuMi0yLjcsMC0zLjZsLTU4LTUzLjNjLTIuNy0yLTYuNS0yLTkuMiwwbC01OCw1My4zCgljLTEuMiwwLjktMS4yLDIuNywwLDMuNkwxMjcsNDUuNnoiLz4KPC9zdmc+",[o.a.ATTACHMENT_PREVIEW_ERROR]:c+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OCA0ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPiAuc3Qwe2ZpbGw6I0UwRTRFOTt9IDwvc3R5bGU+IDxnPiA8cmVjdCB4PSIxNiIgeT0iMjEiIGNsYXNzPSJzdDAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4gPHJlY3QgeD0iMTYuMDAwNDMiIHk9IjMxLjk5NTg1IiBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMi4wMDgzIi8+IDxyZWN0IHg9IjMwIiB5PSIyMSIgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPiA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzkuNTU1MDUsMTEuNzY0MzRjLTAuMDAwMzctMC4wMDAxOC03LjE4NjUyLTcuMDg5NTQtOC45MDY4LTguNzg2OCBDMzAuMjMxMDIsMi41NjU4NiwyOS43OTEzMiwyLjA2MzE3LDI4Ljk5OTY5LDJIOS44Nzg5MUM4Ljg0MTE5LDIsOCwyLjg0MTE5LDgsMy44Nzg5MVY0NGMwLDEuMDk5OTgsMC45MDAwMiwyLDIsMmgyOCBjMS4wOTk5OCwwLDItMC45MDAwMiwyLTJWMTIuOTM4MTdDNDAsMTIuMzk1OTQsMzkuNzkxODEsMTIuMDA2MDQsMzkuNTU1MDUsMTEuNzY0MzR6IE0zOCw0NEgxMFY0aDE4djguNSBjMCwwLjgyNTAxLDAuNjc0OTksMS41LDEuNSwxLjVIMzhWNDR6Ii8+IDwvZz4gPC9zdmc+",[o.a.PLAY_VIDEO]:c+"PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgeDE9IjIuMDY2JSIgeTE9Ijk2Ljc1MSUiIHgyPSI5NS42NTklIiB5Mj0iMi45NjklIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iIzZEMDBGNiIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiMwMDNBQkMiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEyLjY3NiA3Ny4zNzZjMy45ODMgMy42MDggOC42NjcgNi4yOCAxNC4wMjcgOC4wMTdDMzIuMDc4IDg3LjEyNSAzNy44OSA4OCA0NC4xNjMgODhjNi4xNjQgMCAxMS45MzQtLjg3NSAxNy4yOTYtMi42MDcgMi4xNTQtLjY5NCA0LjE4Ni0xLjU0NyA2LjExNi0yLjU0MyAyLjg4NC0xLjQ5IDUuNTMtMy4zMTIgNy45MTYtNS40NzQgMy45OS0zLjYwNyA3LjA5Ny04LjE4MyA5LjMzLTEzLjcwN0M4Ny4wNSA1OC4xMzYgODguMTY4IDUxLjU4IDg4LjE2OCA0NGMwLTcuNTg2LTEuMTE4LTE0LjE0LTMuMzQ2LTE5LjY3LTIuMjMzLTUuNTMtNS4zNC0xMC4xLTkuMzMtMTMuNzA1LTMuOTg1LTMuNjE3LTguNjYtNi4yODUtMTQuMDMzLTguMDJDNTYuMDk2Ljg3IDUwLjMyNiAwIDQ0LjE2MiAwYy02LjI3MyAwLTEyLjA4NS44NjgtMTcuNDYgMi42MDYtMS43NDMuNTYtMy40MTIgMS4yMzYtNS4wMSAyLjAwNS0zLjMyIDEuNTgzLTYuMzMgMy41NzgtOS4wMTcgNi4wMTVDOC42ODggMTQuMjMgNS41NzggMTguOCAzLjM0NiAyNC4zMyAxLjExNiAyOS44NiAwIDM2LjQxNCAwIDQ0YzAgNy41ODIgMS4xMTcgMTQuMTM3IDMuMzQ2IDE5LjY3IDIuMjMyIDUuNTIzIDUuMzQyIDEwLjEgOS4zMyAxMy43MDZ6IiBmaWxsLW9wYWNpdHk9Ii42NSIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGQ9Ik0zNi43MyA1OWgtLjA2NmMtLjkyIDAtMS42NjQtLjc0Mi0xLjY2NC0xLjY1NlYzMC42NTZjMC0uOTE1Ljc0LTEuNjU2IDEuNjY0LTEuNjU2LjAzIDAgLjA2IDAgLjA5LjAwMi4zOC0uMDczLjc4OC0uMDE0IDEuMTUyLjE5NmwyMi42MjIgMTMuMDZjLjc5OC40NiAxLjA3NSAxLjQ3NC42MTMgMi4yNzYtLjAyMy4wNC0uMDQ4LjA4LS4wNzUuMTE4LS4xMzcuMjctLjM1LjUwMy0uNjMuNjdsLTIyLjQ0IDEzLjQ4NGMtLjM5NS4yNC0uODUuMjk1LTEuMjY1LjE5M3oiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+"};class l extends i.a.Component{render(){return i.a.createElement("img",{src:d[this.props.kind],width:this.props.width,height:this.props.height,alt:this.props.altText,"data-test-id":"svg-image"})}}n()(l,"defaultProps",{width:48,height:48,altText:""}),t.a=l},,,,,,,,,function(e,t,s){"use strict";var a=s(31),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(88);const c=({haystack:e,needle:t,formatter:s,containerClassNames:a})=>{const r=Object(o.d)(e,t),c=n()(r,3),d=c[1],l=c[2];return d?i.a.createElement("span",{className:`${a} notranslate`},c[0],s(d),l):i.a.createElement("span",{className:a},e)};c.defaultProps={formatter:e=>e,haystack:"",needle:""},t.a=c},,function(e,t,s){"use strict";e.exports={className:{default:{leftRightPadding:"jb_0 X_6MGW N_6Fd5",blockedImageBanner:"X_6MGW",bodyContainer:"P_wpofO iy_A mq_AS",sponsoredMessageContainer:"I_52qC",flexVertical:"D_F ek_BB",emptyBody:"A_6FsP P_CT2KF D_F ek_EZ gl_C ab_C",emptyBodyRetry:"r_P C_Z2aVTcY",emptyBodyMessage:"em_0 Q_fq7 E_fq7",button:"A_6DUj C_Z1VRpVF Q_36Jhx",textContainer:"J_EN",messageViewBody:"I_52qC D_FY W_6D6F"},printView:{bodyContainer:"P_0 iy_q",leftRightPadding:"jb_0 X_6MGW N_6MGW"}},_key:"2jUGXt"}},,,function(e,t,s){"use strict";s.d(t,"b",function(){return _}),s.d(t,"a",function(){return m});var a=s(9);const n=796,r=805,i=818,o=828,c=873,d=884,l=914,u={"amazon.com":d,"linkedin.com":r,"paypal.com":o,"groupon.com":d,"ebay.com":d,"chase.com":o,"indeed.com":r,"capitalone.com":o,"nextdoor.com":c,"kohls.com":d,"intuit.com":o,"walmart.com":d,"southwest.com":l,"synchronybank.com":o,"zillow.com":c,"ups.com":d,"bestbuy.com":d,"netflix.com":i,"apple.com":902,"homedepot.com":d,"cvs.com":849,"bankofamerica.com":o,"jcpenney.com":d,"target.com":d,"directv.com":i,"discover.com":o,"costco.com":d,"siriusxm.com":n,"walgreens.com":811,"oldnavy.com":d,"victoriassecret.com":d,"ticketmaster.com":i,"macys.com":d,"evite.com":i,"docusign.net":866,"tripadvisor.com":l,"bedbathandbeyond.com":d,"bathandbodyworks.com":d,"fidelity.com":o,"livingsocial.com":d,"citibank.com":o,"citi.com":o,"cox.net":i,"redbox.com":i,"wayfair.com":d,"michaels.com":d,"uber.com":l,"geico.com":n,"wellsfargo.com":o,"staples.com":d,"booking.com":l,"travelzoo.com":l,"delta.com":l,"progressive.com":n,"hilton.com":l,"meetup.com":793,"zulily.com":d,"jobstreet.com":r,"lowes.com":d,"sears.com":d,"nordstorm.com":d,"trulia.com":c,"dsw.com":d,"creditkarma.com":o,"ziprecruiter.com":r,"synchronyfinancial.com":o,"airbnb.com":l,"capitaloneemail.com":o,"aa.com":l,"statefarm.com":n,"hrblock.com":o,"email-marriott.com":l,"americanexpress.com":o,"houzz.com":c};function _(e){return e.map(e=>{const t=Object(a.a)(e,"email","").toLowerCase().match(/(?:\.|@)([\w-]+\.(?:com|net|biz))/);return u[t&&t[1]]||null}).filter(e=>null!==e)}function m({messages:e}){return _(Object(a.a)(e,"0.headers.from",[]))}},function(e,t,s){"use strict";s.d(t,"a",function(){return r});var a=s(0);const n={[a.t.MAIL_APP]:a.db,[a.t.BASIC_MAIL_APP]:a.x,[a.t.MOBILE_APP]:a.gc,[a.t.BASIC_MOBILE_APP]:a.y};class r{constructor(e={},t,{TTL:s=180,path:r}={}){let i;if(s&&(i=new Date).setTime(i.getTime()+1e3*s),this.cookieName=t,e.res&&e.req&&e.req.cookies&&e.res.cookie)this._set=this._serverSet,this._get=this._serverGet,r=r||n[e.req.APP_NAME];else if(e.window&&e.window.document&&"string"==typeof e.window.document.cookie){this._set=this._browserSet,this._get=this._browserGet;const t=e.window.AppBootstrapData&&e.window.AppBootstrapData.appName;r=r||n[t]}else this._set=()=>null,this._get=()=>null;this.io={req:e.req,res:e.res,window:e.window,cookieName:t,expires:i,path:r||a.db}}_serverSet(e){const t=this.io,s=t.res,a=t.cookieName,n=t.expires,r=void 0===n?0:n,i=t.path,o=Object.assign(t.req.cookies[a]||{},e);s.headersSent||s.cookie(a,o,{path:i,expires:r})}_serverGet(){const e=this.io;return e.req.cookies[e.cookieName]}_browserSet(e){const t=this.io,s=t.cookieName,a=t.expires,n=void 0===a?null:a,r=t.path,i=t.window,o=this._browserGet({window:i,cookieName:s}),c=Object.assign(o,e),d=`j:${JSON.stringify(c)}`;i.document.cookie=s+"="+encodeURIComponent(d)+`;path=${r};expires=${n&&n.toGMTString()}`}_browserGet(){const e=this.io,t=e.window.document.cookie.match("(^|;) ?"+e.cookieName+"=([^;]*)(;|$)"),s=decodeURIComponent(t?t[2]:"j:{}");if(0===s.indexOf("j:"))try{return JSON.parse(s.substr(2))}catch(e){return{}}return{}}get(){return this._get()||{}}set(e){return this._set(e)}}},function(e,t,s){"use strict";s.d(t,"d",function(){return l}),s.d(t,"b",function(){return u}),s.d(t,"c",function(){return _}),s.d(t,"a",function(){return m}),s.d(t,"j",function(){return p}),s.d(t,"h",function(){return h}),s.d(t,"i",function(){return g}),s.d(t,"g",function(){return E}),s.d(t,"f",function(){return I}),s.d(t,"e",function(){return S});var a=s(4),n=s.n(a),r=s(18),i=s(11),o=s(0),c=s(77),d=s(2);const l=e=>(t,s)=>{const a=Object(r.g)(),n=Object(i.b)(s()),l=n.getSelectedAccountIdByRoute,u=n.getRoute,_=n.getAccountById,m=(0,n.getAccountSelectors)().getAllAccounts(),p=`<html><head></head><body>${e.body}</body></html>`,h=_(l(u()))||{};return t({type:d.jl,csid:a,composeMode:o.O.Modes.NEW,payload:{csid:a,id:a,userInputtedValues:{csid:a,bcc:[],cc:[],html:p,to:e.toAddresses,subject:e.subject,uiState:{useRichText:!0},lastEditedTimeStamp:Date.now(),from:c.getFromAddress(m,h.email),unsubFromMessage:e.unsubFromMessage}}})},u=e=>n()({type:d.il},e),_=e=>n()({type:d.Zk},e),m=e=>n()({type:d.Zk},e),p=e=>n()({type:d.Zk},e),h=e=>n()({},e,{type:d.el}),g=e=>n()({},e,{type:d.fl}),E=e=>n()({},e,{type:d.dl}),I=e=>n()({},e,{type:d.cl}),S=e=>n()({},e,{type:d.al})},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(237),l=s.n(d);t.a=e=>{var t,s;return s=t=class extends c.a.Component{getChildContext(){return{bindShortcut:(e,t,s)=>(s?l()(s):l.a).bind(e,t),unbindShortcut:(e,t=l.a)=>{if(!(t===l.a||t instanceof l.a))throw new TypeError("#context.unbindShortCut takes mousetrap as optional 2nd argument");t.unbind(e)}}}render(){return c.a.createElement(e,this.props)}},n()(t,"displayName","ReactKeyProvider"),n()(t,"childContextTypes",{bindShortcut:i.a.func,unbindShortcut:i.a.func}),s}},function(e,t,s){"use strict";s.d(t,"a",function(){return i});var a=s(4),n=s.n(a),r=s(0);function i(e,t,s,a=r.Ae){const i=e||{},o=i.id,c=i.email,d=i.iataCode,l=i.photoTimestamp,u=n()({spsize:t+"X"+t,fallback_url:s,alphatar_photo:!0},l&&{timestamp:l},a&&{appId:a});let _;if(d)_=`/v4/tags/iata/${d}/photo`;else if(o&&o!==c)_="/v4/contacts/"+o+"/photo",u.badge=!0;else{if(!c)return s;_="/v4/endpoints/smtp:"+c+"/photo",u.format="image"}return r.ue+_+"?"+Object.keys(u).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(u[e])).join("&")}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(6),_=s(719),m=s.n(_),p=s(13),h=s.n(p),g=s(20),E=s(121),I=s(5),S=s(12),C=s(22),f=s(9),T=s(18),A=s(154),b=s(55),O=s(53),R=s(40),N=s(14),M=s(11),D=s(15);const y={ESCAPE:27,ENTER:13,TAB:9},L=Object(f.c)(["InvalidFolderName","DuplicateFolderName"]),v="/ \\ %",P=Object(u.defineMessages)({folder_dismiss_input:{id:"folder_dismiss_input",defaultMessage:"Dismiss input"},folder_submit_input:{id:"folder_submit_input",defaultMessage:"Submit input"},folder_invalid_chars:{id:"folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"},duplicate_foldername:{id:"duplicate_foldername",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."}});class F extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{folderName:this.props.initialFolderName||"",folderError:null}),i()(this,"handleKeyDown",e=>{e.keyCode===y.ESCAPE&&this.props.onDismiss(),e.keyCode!==y.ENTER&&e.keyCode!==y.TAB||this.performFolderOperation(e)}),i()(this,"handleChange",e=>{const t=e.target.value;let s=null;t&&!Object(T.o)(t)&&(s=L.InvalidFolderName),this.setState({folderName:t,folderError:s})}),i()(this,"handleBlur",e=>{if(e.relatedTarget&&e.relatedTarget.parentNode!==this.containerNode)return""===this.state.folderName.trim()?this.props.onDismiss():void this.performFolderOperation(e)}),i()(this,"performFolderOperation",e=>{const t=this.props,s=t.initialFolderName,a=t.isFolderNameExistInParentFolder,n=t.parentFolderId,r=this.state.folderName.trim();let i=this.state.folderError;if(r!==s&&a(r,n)&&this.setState({folderError:i=L.DuplicateFolderName}),r&&null===i){const t={interactionType:Object(T.j)(e)};this.props.onInputSubmit({folderName:r,i13nModel:t})}}),i()(this,"focusInput",e=>{e&&e.focus()}),i()(this,"getFolderError",()=>{const e=this.state,t=e.folderName,s=e.folderError;return null===s?null:s===L.InvalidFolderName?l.a.createElement(u.FormattedMessage,n()({},P.folder_invalid_chars,{values:{invalid_chars:v}})):s===L.DuplicateFolderName?l.a.createElement(u.FormattedMessage,n()({},P.duplicate_foldername,{values:{folder_name:l.a.createElement("b",null,t)}})):void 0})}render(){const e=this.context.intl.formatMessage,t=this.context.getThemeMode,s=this.props,a=s.onDismiss,n=s.whiteBackground,r=null===this.state.folderError,i=h()(m.a,{invalidFolderName:!r,validFolderName:r,indentation:this.props.indentation}),o=t()===C.h.LIGHT||n?I.a.NORMAL:I.a.INVERTED,c=e(P.folder_submit_input),d=e(P.folder_dismiss_input);return l.a.createElement("div",{className:i.container,ref:e=>this.containerNode=e},l.a.createElement(g.a,{onClick:a,kind:I.b.CLOSE_MINI,size:I.d.XS,colorState:o,"aria-label":d,title:d,"data-test-id":"icon-btn-close",className:i.closeButton,paddingLess:!0}),l.a.createElement(b.a,{className:i.popoverContainer},l.a.createElement(O.a,null,l.a.createElement("div",{className:i.inputSubmitContainer},l.a.createElement("div",{className:i.inputContainer},l.a.createElement(A.a,{className:i.input,type:"text",ref:this.focusInput,value:this.state.folderName,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,placeholder:this.props.placeholder,"aria-label":this.props.ariaLabel})),l.a.createElement(g.a,{onClick:this.performFolderOperation,kind:I.b.ENTER,colorState:I.a.INVERTED,size:I.d.XXS,className:i.okIcon,title:c,"aria-label":c}))),!this.state.folderName||this.props.isScrolling||r?null:l.a.createElement(R.b,{triggerOn:N.i.MOUNT,permittedArrowDirections:[N.h.UP,N.h.DOWN],zAltitude:S.ZIndices.MODAL},l.a.createElement("div",{className:i.popover},this.getFolderError()))))}}i()(F,"defaultProps",{indentation:E.a,parentFolderId:"",whiteBackground:!1}),i()(F,"contextTypes",{intl:u.intlShape.isRequired,getThemeMode:c.a.func});t.a=Object(D.connect)(e=>{const t=Object(M.b)(e),s=t.getFolderIdsByNameForSelectAccountId,a=(0,t.getFoldersSelectors)(),n=a.getFolderName,r=a.getFolderPath;return{isFolderNameExistInParentFolder:(e,t)=>s(e).some(s=>t?r(s)===`${r(t)}/${e}`:n(s)===e)}})(F)},function(e,t,s){"use strict";e.exports={className:{default:{rightAlignIcon:"D_X H_6LEV P_eo6 O_cMu h_2gl0WC",menuIcon:"D_X H_6LEV P_eo6 O_cMu",button:"s_6D6F q_T b_0 P_0 r_P O_cMu I4_2ieea9 e4_dRA O4_N",menuLabel:"y_12BoOJ A_6EqO C_Z281SGl Q_fq7",menuItem:"D_F N_fq7 ab_C",menuListItem:"Y_eTB H_6NIX",menuContainer:"D_F ek_EZ M_1ghjXT",spaceBetween:"W_fq7",sectionDivider:"D_B z_Z163u0T Y_6DEy U_eo6 E_69H5",backButtonLabel:"y_12BoOJ A_6DUj C_Z1TsNWR",rtlRawScaleX:"rtlR_h_2gl0WC",rtlRawHidden:"rtlR_v_h rtlR_D_ATgVd",rtlRemoveHidden:"rtlRM_v_h rtlRM_D_ATgVd"}},_key:"2vslr6"}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(6),l=(s(42),s(47)),u=s(263),_=s(311),m=s(13),p=s.n(m),h=s(462),g=s.n(h),E=s(7),I=s(16),S=s(5),C=s(176),f=s(20),T=s(15),A=s(11),b=s(0),O=s(43),R=s(122);const N=p()(g.a),M=Object(d.defineMessages)({title:{id:"learnmore.title",defaultMessage:"Attachments cannot be downloaded"},content:{id:"learnmore.content",defaultMessage:"Attachments in emails marked as Spam may contain harmful content.            To download attachments in this email, please move the email out of the Spam folder."},warningIcon:{id:"learnmore.warning",defaultMessage:"Warning"},harmfulAttachment:{id:"attachment.harmfulContent",defaultMessage:"This email was moved from Spam folder. Attachments may contain harmful content."},unsupportedFileType:{id:"attachment.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."}});class D extends c.a.Component{constructor(e){super(e),n()(this,"onItemRemove",e=>{this.props.readOnly||this.props.onAttachmentRemove(e)}),n()(this,"_handleDownloadAllClick",(e,t)=>{e.stopPropagation(),e.preventDefault();const s=this.getDownloadAllFilename(),a=this.props.message;this.props.handleDownloadAll({attachments:t,downloadId:a.id,downloadUrl:a.downloadAllUrl,filename:s,i13nModel:{mKey:E.e.DOWNLOAD_ATTACHMENT_ALL,sec:E.g.MSG_READ_ATTACHMENT,mKeyGroup:E.f.dwnld_attmnt}})}),n()(this,"getDownloadAllFilename",()=>`Attachments_${this.state.combinedZipFilename}.zip`),n()(this,"_renderWarningMsg",()=>{const e=this.context.intl.formatMessage,t=this.state.learnMoreShown;return c.a.createElement("div",{className:N.spamDownloadWarning},c.a.createElement(f.a,{colorState:S.a.WARNING,className:N.attentionIcon,kind:S.b.ATTENTION,size:S.d.XXS,title:e(M.warningIcon)}),c.a.createElement(d.FormattedMessage,{id:"attachment.dl.warning",defaultMessage:"Attachments cannot be downloaded.","data-test-id":"dl-warning"}),c.a.createElement("button",{className:N.learnMore,onClick:()=>this.setState({learnMoreShown:!0}),"data-test-id":"learn-more"},c.a.createElement(d.FormattedMessage,{id:"attachment.learnmore",defaultMessage:"Learn more"})),t?c.a.createElement(C.a,{title:e(M.title),message:e(M.content),onAccept:()=>this.setState({learnMoreShown:!1})}):null)}),n()(this,"renderSpamAttachmentWarning",e=>{if(this.props.shouldShowSpamAttachmentWarning(e))return c.a.createElement("div",{className:N.spamAttachmentWarning},c.a.createElement(f.a,{colorState:S.a.WARNING,className:N.attentionIcon,kind:S.b.EXCLAMATION_ALT,size:S.d.XXS,title:this.context.intl.formatMessage(M.harmfulAttachment)}),c.a.createElement(d.FormattedMessage,M.harmfulAttachment))}),n()(this,"renderUnsupportedAttachmentWarning",()=>{if(Object(l.f)(this.getAttachments(),this.props.allowInline).filter(e=>!Object(l.p)(e.filename)).length){const e=this.context.intl,t=e.locale,s=(0,e.formatMessage)(M.unsupportedFileType);return c.a.createElement("div",{className:N.attachmentWarning},c.a.createElement(f.a,{colorState:S.a.WARNING,className:N.attentionIcon,kind:S.b.ATTENTION,size:S.d.XXS,title:s}),s,c.a.createElement("button",{className:N.attachmentWarningLearnMore,onClick:()=>Object(R.a)(Object(b.Ce)(t))},c.a.createElement(d.FormattedMessage,{id:"alert.learn_more_url",defaultMessage:"Learn more"})))}}),n()(this,"getAttachments",()=>{const e=this.props,t=e.getAttachments,s=e.attachments;return t().length?t():s||[]});const t=e.message;this.state={combinedZipFilename:t?y(t.headers.subject):"",learnMoreShown:!1}}render(){const e=this.props,t=e.readOnly,s=e.allowDownload,a=e.mayContainVirus,n=e.onAttachmentPreview,r=e.message,i=e.attachmentPreview,o=e.isCompact,_=e.allowInline,m=p()(g.a,{isCompact:o,allowInline:_}),h=this.props.cepForward?Object(l.q)(Object(l.f)(this.getAttachments())):Object(l.f)(this.getAttachments(),_),E=h.length;return E?c.a.createElement("div",{className:m.tray},r&&r.downloadAllUrl&&s&&E>1?c.a.createElement("a",{className:m.downloadAllLink,href:r.downloadAllUrl,"data-test-id":"download-all-attachments",onClick:e=>this._handleDownloadAllClick(e,h)},c.a.createElement("span",{className:m.downloadAllIcon},c.a.createElement(I.b,{kind:S.b.DOWNLOAD,size:S.d.XS,colorState:S.a.SELECTED})),c.a.createElement(d.FormattedMessage,{id:"attachment_tray.downloadAll",defaultMessage:"Download all attachments as a zip file"})):null,a?this._renderWarningMsg():null,r&&r.id?this.renderSpamAttachmentWarning(r.id):null,this.renderUnsupportedAttachmentWarning(),c.a.createElement("ul",{className:m.ul},h.map((e,r)=>c.a.createElement("li",{key:r,className:m.item,"data-test-id":"attachment-tray-list-item"},c.a.createElement(u.a,{attachment:e,readOnly:t,allowDownload:s,mayContainVirus:a,onRemove:this.onItemRemove.bind(null,e),onClick:n.bind(null,e.id),isPreviewEnabled:s&&Boolean(i),onSendAsInlineImage:this.props.onSendAsInlineImage,richTextMode:this.props.richTextMode,isCompact:o,csid:this.props.csid}))))):null}}n()(D,"contextTypes",{executeAction:i.a.func,config:i.a.object,intl:d.intlShape.isRequired}),n()(D,"defaultProps",{onAttachmentRemove:()=>{},onAttachmentPreview:()=>{},richTextMode:!0,getAttachments:()=>[],attachments:[],cepForward:!1,allowInline:!1});function y(e=""){if(!e||!/[a-z0-9]/i.test(e))return Object(O.m)(new Date).replace(/-/g,"");return e.replace(/ /g,"_").replace(/\W/g,"").replace(/_+$/,"").replace(/^_+/,"").substring(0,20)}t.a=Object(T.connect)(e=>{const t=(0,Object(A.b)(e).getFeaturesSelectors)();return{attachmentPreview:t.isEnabled("attachmentPreview"),cepForward:t.isEnabled(b.ub.CEP_FORWARD)}},e=>({handleDownloadAll({attachments:t,downloadId:s,downloadUrl:a,filename:n,i13nModel:r}){e(Object(_.a)({attachments:t,downloadId:s,downloadUrl:a,filename:n,i13nModel:r}))}}),null,{areOwnPropsEqual:()=>!1})(D)},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(15),c=s(6),d=(s(8),s(1)),l=s.n(d),u=(s(42),s(0)),_=s(54),m=s(188),p=s(16),h=s(79),g=s(76),E=s(14),I=s(59),S=s(99),C=s(12),f=s(280),T=s(7),A=s(5),b=s(19),O=s(28),R=s(13),N=s.n(R),M=s(461),D=s.n(M),y=s(443),L=s(47),v=s(18),P=s(34),F=s(11),w=s(311);const k=Object(c.defineMessages)({download:{id:"attachment_item.download",defaultMessage:"Download"},untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"},preview:{id:"attachment_item.preview",defaultMessage:"Preview"}}),x=N()(D.a);class U extends l.a.Component{constructor(e){super(e),i()(this,"handleSendAsImage",()=>{this.props.onSendAsInlineImage(this.props.attachment)}),i()(this,"renderProgressBar",()=>{const e=this.getProgressValue();return l.a.createElement("div",{"data-test-id":"attachment-progress-bar",role:"progressbar","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100",className:x.progressBar,style:{width:e+"%"}})}),i()(this,"getProgressValue",()=>{const e=this.props;return e.contentIdToUploadProgress[e.attachment.contentId]||0}),i()(this,"displayImageWhenReady",e=>{this.blobUrl=null,this.imageToLoad=null,this.imageRef.current&&(this.imageRef.current.src=e.target.src)}),i()(this,"loadImageInBackground",e=>{this.blobUrl&&!this.imageToLoad&&(this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady)}),i()(this,"renderContent",(e,t)=>{const s=e.contentId,a=e.filename,r=this.props,i=r.mayContainVirus,o=r.hasError,c=r.isUploaded,d=r.getThumbnailUrl;let h;switch(t){case u.w.SimplifiedTypes.AUDIO:h="audio";break;case u.w.SimplifiedTypes.VIDEO:h="video";break;case u.w.SimplifiedTypes.IMAGE:h="img"}if(!o(s)&&!c(s)){const s=this.getProgressValue();return t===u.w.SimplifiedTypes.IMAGE?(this.blobUrl=e.downloadUrl,l.a.createElement("div",null,l.a.createElement(h,{src:e.thumbnailUrl||e.downloadUrl,className:x.media,style:{opacity:"0.3"}}),!s&&l.a.createElement("div",{className:x.loadingIconContainer},l.a.createElement(_.b,null)),this.renderProgressBar())):l.a.createElement("div",null,s?l.a.createElement(m.a,e):l.a.createElement(_.b,null),this.renderProgressBar())}if(o(s)||!Object(L.p)(a))return l.a.createElement(p.b,{kind:A.b.ATTENTION,size:A.d.L,colorState:A.a.WARNING});if(i)return l.a.createElement(m.a,n()({},e,{disabled:!0}));if(h){const e=d(s);return"img"===h&&this.loadImageInBackground(e),l.a.createElement(h,{ref:this.imageRef,src:"img"===h&&this.blobUrl||e,className:x.media,"data-test-id":"attachment-thumbnail"})}return l.a.createElement(m.a,e)}),i()(this,"onMouseEnterChange",e=>{clearTimeout(this._hoverTimer),e?this.state.hover!==e&&this.setState({hover:e}):this._hoverTimer=setTimeout(()=>{this.state.hover!==e&&this.setState({hover:e})},0)}),i()(this,"onMouseEventChange",e=>{this.setState({anchorHover:e})}),i()(this,"renderPopoverMenu",e=>{const t=this.props,s=t.attachment,a=t.onClick,n=t.isPreviewEnabled,r=t.hasGroupId;return l.a.createElement(g.c,{permittedArrowDirections:[E.h.UP,E.h.DOWN],zAltitude:C.ZIndices.POPOVER.HIGH,align:E.a.END,offset:2*C.GRID_UNIT,triggerOn:g.b.CLICK,triggerOff:g.a.CLICK,className:x.popoverContainer,onContentMouseOver:this.onMouseEnterChange.bind(this,!0),onContentMouseOut:this.onMouseEnterChange.bind(this,!1),isArrowVisible:!1},l.a.createElement("div",{className:x.itemMenu,onMouseEnter:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1),"data-test-id":"more-option-button"},l.a.createElement(h.a,{kind:A.b.MORE,colorStates:{normal:A.a.COOL_FAINT,hovered:A.a.SELECTED},size:A.d.XXS})),l.a.createElement("div",{className:x.menuContainer,"data-test-id":"attachment-menu"},l.a.createElement(I.a,{kind:S.a.MENU,focusOnMount:!0},e===u.w.Types.IMAGE&&this.props.richTextMode?l.a.createElement(P.a,{className:x.menuItem,"data-test-id":"send-as-image-item"},l.a.createElement(b.a,{kind:O.a.MENUITEM_PARENT_TEXT_COLOR,onClick:this.handleSendAsImage},l.a.createElement(c.FormattedMessage,{id:"attachment.send_as_images",defaultMessage:"Send as image"}))):null,l.a.createElement(P.a,{className:x.menuItem,"data-test-id":"remote-att-item"},l.a.createElement(b.a,{kind:O.a.MENUITEM_PARENT_TEXT_COLOR,onClick:this.props.onRemove},l.a.createElement(c.FormattedMessage,{id:"attachment.remove",defaultMessage:"Remove"}))),Object(L.o)(s,r)&&n?l.a.createElement(P.a,{className:x.menuItem,"data-test-id":"preview-att-item"},l.a.createElement(b.a,{kind:O.a.MENUITEM_PARENT_TEXT_COLOR,onClick:e=>a(Object(v.j)(e))},l.a.createElement(c.FormattedMessage,{id:"attachment.preview",defaultMessage:"Preview"}))):null)))}),i()(this,"_renderPreviewMask",(e,t)=>{const s=this.props,a=s.onClick,n=s.allowDownload,r=n?e.previewButtonWrapper:e.previewWrapperMsgList,i=n?e.previewButton:e.previewButtonMsgList,o=this.context.intl.formatMessage(k.preview);return l.a.createElement("div",{className:r,onClick:e=>a(Object(v.j)(e))},l.a.createElement(b.a,{"data-test-id":"attachment-item-preview",kind:O.a.PLAIN,className:i,title:o},l.a.createElement("span",{"aria-hidden":!0},o)),n?l.a.createElement("div",{className:e.downloadIconOnPreview,"data-test-id":"download-icon",onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},l.a.createElement(p.b,{kind:A.b.DOWNLOAD,size:A.d.XS,colorState:this.state.anchorHover?A.a.PRIMARY_HOVER:A.a.SELECTED})):null)}),i()(this,"_renderDownloadMask",(e,t)=>{const s=this.props.allowDownload;return l.a.createElement("div",{className:s?e.noPreviewWrapper:e.noPreviewWrapperMsgList,"data-test-id":"attachment-no-preview"},l.a.createElement("span",{className:s?e.noPreviewText:e.noPreviewTextMsgList},l.a.createElement(c.FormattedMessage,{id:"attachment_item.no_preview",defaultMessage:"No Preview"})),s?l.a.createElement("div",{"data-test-id":"download-icon",className:e.downloadIconOnPreview,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},l.a.createElement(p.b,{kind:A.b.DOWNLOAD,size:A.d.XS,colorState:this.state.anchorHover?A.a.PRIMARY_HOVER:A.a.SELECTED})):null)}),i()(this,"_handleDownloadClick",e=>{e.preventDefault(),e.stopPropagation(),Object(L.n)(this.props.attachment)&&this.props.handleDownload({attachment:this.props.attachment,i13nModel:{mKey:T.e.DOWNLOAD_ATTACHMENT,sec:T.g.MSG_READ_ATTACHMENT,mKeyGroup:T.f.dwnld_attmnt}})}),this._hoverTimer=null,this.imageRef=l.a.createRef(),this.state={hover:!1,anchorHover:!1}}componentWillUnmount(){clearTimeout(this._hoverTimer)}render(){const e=this.props,t=e.attachment,s=void 0===t?{}:t,a=e.allowDownload,n=e.readOnly,r=e.isPreviewEnabled,i=e.mayContainVirus,o=e.previewWithoutDownload,c=e.smallPreview,d=e.isCompact,_=e.hasGroupId,m=s.filename,p=void 0===m?"":m,h=s.subtype,g=s.type,E=s.state,I=s.size,S=this.context.intl.formatMessage,C=Object(L.i)(p),T=E===u.v.LOADING,A=Object(L.d)(g,h),b=Object(L.o)(s,_),O=Object(L.o)(s,_)||Object(L.n)(s),R=a&&!T,M=y.b(p),v=p?y.a(p,M):S(k.untitled),P=S(k.download),F=Object(f.prettyPrintBytes)(I,1),w=N()(D.a,{type:C||A,state:E,anchorHover:this.state.anchorHover,spam:i,smallPreview:c,isPreviewEnabled:r,hover:this.state.hover,isCompact:d,unsupportedFileType:!Object(L.p)(p)});return l.a.createElement("div",{className:w.container,"data-test-id":"attachment-item"},!n&&this.state.hover&&this.renderPopoverMenu(A),l.a.createElement("div",{"data-test-id":"attachment-container",className:w.content,onMouseOver:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1)},l.a.createElement("div",{className:w.mediaContent},this.renderContent(s,A)),r&&(a||o)&&O&&_&&this.state.hover?l.a.createElement("div",{className:w.hoverMask},b?this._renderPreviewMask(w,P):this._renderDownloadMask(w,P)):null),l.a.createElement("div",{className:w.label,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},R?l.a.createElement("div",{className:w.downloadIcon,onClick:this._handleDownloadClick,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},l.a.createElement("a",{"data-test-id":"attachment-download",href:s.downloadUrl,className:w.downloadIconWrapper},l.a.createElement("span",{className:w.downloadFilename,title:s.filename},l.a.createElement("div",{className:w.filename},l.a.createElement("span",{className:w.labelBaseName},l.a.createElement("span",null,v)),l.a.createElement("span",null,M)),l.a.createElement("div",{className:w.fileSize},F)))):l.a.createElement("span",{className:w.filenameContainer,title:s.filename},l.a.createElement("div",{className:w.filename},l.a.createElement("span",{className:w.labelBaseName},l.a.createElement("span",null,v)),l.a.createElement("span",null,M)),c?null:l.a.createElement("div",{className:w.fileSize},F))))}}i()(U,"contextTypes",{intl:c.intlShape.isRequired}),i()(U,"defaultProps",{smallPreview:!1,previewWithoutDownload:!1,contentIdToUploadProgress:{}});t.a=Object(o.connect)((e,t)=>{const s=Object(F.b)(e),a=s.getComposeSessionsSelectors,n=s.getRoute,r=s.getGroupIdContainingMessageId,i=(0,s.getAttachmentsSelectors)(),o=i.hasError,c=i.isUploaded,d=i.getThumbnailUrl,l=a(),_=l.getAttachmentProgress,m=l.doesComposeSessionExist,p=l.getDraftMessageId,h=n(),g=h.params;let E;const I=-1!==[u.gd.NEW_DRAFT,u.gd.EDIT_DRAFT].indexOf(h.name);I&&(E=g.csid),E=E||t.csid;return{hasError:o,isUploaded:c,getThumbnailUrl:d,contentIdToUploadProgress:m(t.csid)?_(t.csid):void 0,hasGroupId:!I||Boolean((()=>{const e=m(E)&&p(E);return e?r(e):void 0})())}},e=>({handleDownload({attachment:t,i13nModel:s}){e(Object(w.b)({attachment:t,i13nModel:s}))}}))(U)},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o});const a=/</g,n=/"/g;function r(e,t,s){return void 0===e?"undefined":null===e?"null":e.toString().replace(t,s)}function i(e){return r(e,a,"&lt;")}function o(e){return r(e,n,"&quot;")}},function(e,t,s){"use strict";s.d(t,"b",function(){return u});var a=s(31),n=s.n(a),r=s(15),i=s(11),o=s(62),c=s(10),d=s(17),l=s(0);const u=(e,t)=>{const s=t.streamId,a=Object(i.b)(e),r=a.getAttachmentIdsByMessageId,u=a.getAttachmentById,_=a.getMessageIdsFromMessageGroupId,m=a.getMessagesSelectors,p=a.getSubjectAndSnippetSelectors,h=a.getFoldersSelectors,g=a.doesStreamExist,E=a.getCursorItem,I=a.isStreamItemSelected,S=a.isFeatureEnabled,C=a.getSetting,f=a.getRouteName,T=a.getAccountIdByFolderId,A=a.getMessageGroupParticipantsInfo,b=a.getMessageFlags,O=a.getMessageFolderId,R=a.isDraftFolder,N=a.getMessageCsid,M=a.isPermDeleteFolderType,D=a.getCouponsSelectors,y=a.getCategoryFollowingSelectors,L=a.getCardMessageToSchemasSelectors,v=a.getCardGroupsSelectors,P=a.getCardConversationIdByMessageId,F=a.getRetailersSelectors,w=a.hasSelectedStreamItems,k=t.groupId,x=t.listId,U=t.relevantMessageId,G=t.recentMessageId,j=t.firstMessageId,H=t.timestamp,B=(0,a.getAccountSelectors)(),V=h().getPrimaryFolderTypeByFolderId,W=p(),q=W.getSubject,z=W.getSnippet,K=m(),Z=K.shouldNudgeToReply,Y=K.getFromAddresses,X=K.getNumExtractedInfo,Q=K.isVerifiedDomain,$=_(k),J=Object(c.o)(x),ee=J?V(J):void 0,te=!S(l.ub.CONVERSATIONS),se=g(s)&&E(s)||{},ae={id:k,listId:x},ne=ee===l.Cb.INBOX,re=g(s)&&w(s),ie=!!re&&I(s,ae),oe=se.id===ae.id&&se.listId===ae.listId,ce=ie||oe&&!re;let de=!1,le=!1,ue=!1,_e=!0,me=!1,pe=-1,he=!1,ge=[],Ee="",Ie="",Se=!1,Ce="";$.forEach(e=>{const t=b(e),s=O(e);t.answered&&(de=!0,le=!1),t.forwarded&&(de=!1,le=!0),t.flagged&&(ue=!0),t.read||(_e=!1),he=he||R(s)});const fe=O(U),Te=T(fe),Ae=$[$.length-1],be=y(),Oe=be.isCategoryFollowed,Re=be.isProfileLoadedSuccessfully,Ne=B.getAccountDescriptionByAccountId(Te),Me=B.getProviderFromAccount(Te),De=S(l.ub.RSVP),ye=1===$.length&&R(fe)?Object(d.k)(t.listId,N($[0])):Object(d.q)(t.listId,t.groupId),Le=F().getTotalNumberOfRetailers,ve=()=>{return X(Ae)+Re()+!!Le()>=[l.ub.NUDGE_TO_REPLY,l.ub.CATEGORY_FOLLOWING,l.ub.MESSAGE_LIST_QUOTIENT_UPSELL,l.ub.UNUSUAL_DISCOUNT].filter(e=>S(e)).length};let Pe=!0;if(S(l.ub.NUDGE_TO_REPLY)&&ve()&&(me=Z(Ae)&&!b(Ae).answered)&&(pe=Math.floor((Date.now()-H)/864e5),Pe=!1),ne&&ve()){const e=D(),t=e.getUnusualDiscount,s=e.getCouponCategoriesForMessageGroup;if(Pe&&S(l.ub.CATEGORY_FOLLOWING)&&(ge=s(k).filter(e=>Oe(e.id))).length>0&&(Pe=!1),Pe&&S(l.ub.MESSAGE_LIST_QUOTIENT_UPSELL)&&(Se=$.some(e=>{const t=Y(e),s=n()(t,1)[0],a=(void 0===s?{}:s).email,r=void 0===a?"":a,i=F(),o=i.getDisplayNameFromRetailerId,c=i.isLinkedRetailer;Ee=(0,i.getRetailerIdFromEmail)(r),Ie=o(Ee);const d=!!Ee&&!c(Ee);return d&&(Pe=!1),d})),Pe&&S(l.ub.UNUSUAL_DISCOUNT)){const e=v().getMessageIdsFromCardGroupId,s=P(U),a=L().getSchemas,n=e(s);if(n)for(let e=0;e<n.length;e++){const s=(a(n[e])||[]).filter(({type:e})=>e===l.qd.Coupon);if(1===s.length){if(Ce=t(s[0].id)){Pe=!1;break}}}}}return{messageIds:$,subject:q(j||U,x),snippet:z(G||U,x),isRead:_e,isReplied:de,isForwarded:le,isStarred:ue,getParticipantsInfo:()=>A(k,x),active:oe,selected:ie,showHighlightColor:ce,isVerifiedDomain:()=>Q(U),showSnippets:S(l.zd.SNIPPETS),messageListDensity:C(l.zd.MSG_LIST_DENSITY),listItemHeight:C(l.zd.LIST_ITEM_HEIGHT),isSpam:ee===l.Cb.BULK,hasDraft:he,domain:"",showContactSearch:(e=[])=>1===(Object(o.c)(e)||[]).length&&1===$.length&&!Object(c.K)(x),showSubjectSearch:te,showDestinationLabel:()=>f()===l.gd.SEARCH,productCategoryList:ge,quotientRetailerName:Ie,showQuotientUpsellPill:Se,folderId:fe,getAttachments:()=>{const e=$.reduce((e,t)=>e.concat(r(t).map(u)),[]).filter(({filename:e})=>e),t=e.map(e=>e.filename+e.size);return e.filter(({filename:e,size:s},a)=>a===t.indexOf(e+s))},accountProvider:Me,accountDescription:Ne,rsvpEnabled:De,messageRoute:ye,permanentDelete:!!J&&M(J),showNudgeToReply:me,messageAgeInDays:pe,unusualDiscount:Ce,quotientRetailerId:Ee}};t.a=Object(r.connect)(u,void 0,void 0,{areStatePropsEqual:(e,t)=>{return e.messageIds===t.messageIds&&e.folderId===t.folderId&&e.isRead===t.isRead&&e.isReplied===t.isReplied&&e.isForwarded===t.isForwarded&&e.isStarred===t.isStarred&&e.tabIndex===t.tabIndex&&e.selected===t.selected&&e.active===t.active&&e.listItemHeight===t.listItemHeight&&(()=>e.showNudgeToReply===t.showNudgeToReply&&e.showQuotientUpsellPill===t.showQuotientUpsellPill&&e.productCategoryList.length===t.productCategoryList.length&&!!e.unusualDiscount==!!t.unusualDiscount)()}})},function(e,t,s){"use strict";e.exports={className:{default:{loadMoreContainer:"H_sL D_F ab_C gl_C",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C",loadingContainer:"T_dRK W_6D6F p_R",errorContainer:"je_74JI W_6D6F t_C A_6FsP",listLoadingRetry:"S_U r_P",container:"W_6D6F H_6D6F"},"themeMode-DARK":{emptyListText:"C_52qC",errorContainer:"C_52qC",listLoadingRetry:"C_52qC"}},_key:"ZKdmn0"}},function(e,t,s){"use strict";var a=s(8),n=s.n(a),r=s(1),i=s.n(r),o=s(786),c=s.n(o);const d=({children:e},{getCss:t})=>{const s=t(c.a);return i.a.createElement("ul",{className:s.container,role:"tablist","data-test-id":"segmented-control"},e)};d.contextTypes={getCss:n.a.func},t.a=d},function(e,t,s){"use strict";e.exports={className:{default:{row:"D_F H_d4J P_3Y3Gk k_w",container:"W_Z2wlC3b D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_1I4z5p E_6Fd5",image:"W_3mS2U H_3mS2U im_BH eh_1AmJOD",content:"F_N D_F o_h P_6Eb4 ek_BB gl_C",fromName:"cZ1zaJgg_B o_h J_x G_e A_6EGz i_6LUG u_b",description:"cZ1zaJgg_B o_h J_x G_e A_6EGz i_6FsP M_Z26RiTK",expiration:"cZ1zaJgg_B o_h J_x G_e M_Z26RiTK C_Z1VRpVF",adActivity:"M_ZuD6o1 A_6EGz C_Z1VRpVF a_6D6F o_h J_x",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_0 C_Z2drWk6 cdPFi_Z2drWk6",adContainer:"W_6D6F D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_1I4z5p E_6Fd5",viewabilityTracker:"W_Z2wlC3b",cta:"v_h I_ZamTeg C_52qC P_eo6 u_b e_dRA K_6FIA o_h a_eE1",imageContainer:"W_3mS2U H_3mS2U ba_BH ay_C",ctaBackground:"W_6D6F H_6D6F D_F ab_C gl_C",fromNameContainer:"D_F gl_FM"},isWideView:{container:"W_1FN8Lk",viewabilityTracker:"W_1FN8Lk"},isCompactView:{container:"W_dctQP",viewabilityTracker:"W_dctQP"},themedAdActivity:{adActivity:"b_n H_6NIX M_mQ2oU u_b e_6LEV q_Z1XPDyi C_52qC t_C i_6NIX ac_CI P_1EueWv"},ctaOnImg:{ctaBackground:"I4_sgPuT"},"themeMode-DARK":{container:"q_1YEmYj C_ZpQYvz q4_ZFyHXD",adContainer:"q_1YEmYj C_ZpQYvz q4_ZFyHXD",expiration:"C_2sqbQg",adActivity:"C_2sqbQg"}},_key:"aTRc6"}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(6),l=s(12),u=s(343),_=s.n(u),m=s(55),p=s(53),h=s(40),g=s(14),E=s(19),I=s(34),S=s(28),C=s(16),f=s(5),T=s(59),A=s(22),b=s(67),O=s(0);s(9);class R extends c.a.Component{render(){const e=this.context.getThemeMode()===A.h.DARK,t=this.context.getCss(_.a),s=this.context.intl.formatMessage,a=this.props,n=a.availableSortOrders,r=a.currentSortOrder,i=a.tabIndex,o=a.showLabel?s(b.a.sort_menu):null,d=n.map(e=>c.a.createElement(I.a,{key:e,name:"sort-by-"+e},c.a.createElement(E.a,{"data-test-id":"sort-by-"+e,kind:S.a.MENUITEM,onClick:t=>this.props.onClick(t,e),style:{position:"relative"}},e===r?c.a.createElement("span",{className:t.sortByMenuItemIcon},c.a.createElement(C.b,{kind:f.b.CHECKMARK,size:f.d.XXS,colorState:f.a.NORMAL})):null,c.a.createElement("span",{className:t.sortByMenuItemLabel},s(b.a["sort_by_"+e])))));return c.a.createElement(m.a,null,c.a.createElement(p.a,null,c.a.createElement(E.a,{"data-test-id":"toolbar-sort-menu-button",kind:S.a.CHROMELESS,tabIndex:i,"data-iskeynav":!0,isOnDarkBackground:e},c.a.createElement("span",{className:t.sortByMenu},o,c.a.createElement(C.b,{kind:f.b.CHEVRON_UP,size:f.d.XS,rotate:f.c.D180,colorState:f.a.INHERITED})))),c.a.createElement(h.b,{triggerOn:g.i.CLICK,permittedArrowDirections:[g.h.UP],offset:4*l.GRID_UNIT,align:g.a.END,zAltitude:l.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover"},c.a.createElement("div",{className:t.popoverListWrapper},c.a.createElement(T.a,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},d))))}}n()(R,"contextTypes",{intl:d.intlShape.isRequired,getCss:i.a.func,getThemeMode:i.a.func}),n()(R,"defaultProps",{availableSortOrders:[],currentSortOrder:O.Od.DATE_DESC,showLabel:!0,tabIndex:-1}),t.a=R},function(e,t,s){"use strict";e.exports={className:{default:{container:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",leftHalfContainer:"D_F gl_FM",rightHalfContainer:"D_F em_N",leftGrid:"D_F ab_C",mainActionControls:"D_F em_N gl_C",selectionControlsWrapper:"D_F Q_6EGz",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 r_n cZW7ROP_n",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",disabledItem:"O_6uB4",usabiltyOptions:"D_F t_r",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",listFilterViewMenu:"D_F en_0",listFilterMenu:"D_F ab_C y_Z2uhb3X X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",popoverListWrapper:"P_3Y3Gk",viewMenu:"jb_eo6 M_bKltR",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",actionListDefault:"hd_n D_F ab_C M_0 P_0 r_n cZW7ROP_n",actionListActive:"hd_n D_F ab_C r_BN cZW7ROP_A",toolbarItem:"M_1MYwXA cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",toolbarItemWithLabel:"M_1MYwXA",toolbarItemDisabled:"M_1MYwXA cdPFi_Z1RVMOO C_Z1RVMOO r_n O_6uB4 cZW7ROP_n",hiddenItem:"W_6NIX H_6NYI v_h"},"previewpane-1":{cboxWrapper:"ej_d70",viewMenu:"t_r ej_d70 E_0 jb_0",singleGroupActions:"Q_fq7",mainActionControls:"em_N",sortMenuContainer:"N_6MGW"},"previewpane-2":{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},groupActionsActive:{singleGroupActionList:"hd_n D_F ab_C r_BN cZW7ROP_A",closeWrapper:"O_N"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",toolbarItem:"M_1MYwXA cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",toolbarItemDisabled:"M_1MYwXA cdPFi_ZpQYvz C_ZpQYvz O_6uB4 r_n cZW7ROP_n",listFilterMenu:"C_ZpQYvz cdPFi_ZpQYvz C4_52qC cdPFi4_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC"},previewpaneInPixels:{leftHalfContainer:"a_ZEtPz3"}},_key:"1F2Hsw"}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(15),_=s(0),m=s(63),p=s(4),h=s.n(p),g=s(29),E=s(6),I=(s(42),s(12)),S=s(71),C=s(118),f=s(20),T=s(13),A=s.n(T),b=s(463),O=s.n(b),R=s(83),N=s(5),M=s(41),D=s(11),y=s(58),L=s(265),v=s(56),P=s(45),F=s(25),w=s(19),k=s(28),x=s(49);const U=Object(E.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},go_to_people_view:{id:"message_group_header.title.go_to_people_view",defaultMessage:"Navigate to people view"}}),G=A()(O.a);class j extends l.a.Component{constructor(e){super(e),i()(this,"handleStarClick",e=>{e.stopPropagation(),this.props.onToggleGroupStar(e)}),i()(this,"handleReadClick",e=>{e.stopPropagation(),this.props.onToggleGroupRead(e)}),i()(this,"burstOnClick",(e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}),i()(this,"_navigateToPeopleView",()=>{this.props.navigateToPeopleView({updatedSettingAttributes:[{name:_.zd.SYSTEM_TABS,value:[_.hb[_.Kd.PEOPLE]+":1"]}],accountId:this.props.accountId})}),this.burstURL=Object(P.a)(e.starAnimation.lightGifURL),Object(F.d)(this.burstURL),this.state={shouldBurst:!1,flagged:e.flagged}}componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout))}render(){const e=this.props,t=e.subject,s=e.messageCount,a=e.isRead,n=e.flagged,r=e.compactGroupHeader,i=e.folderName,o=e.folderType,c=e.getAccountLabel,d=e.starredMailEnhanced,u=e.fromPeopleView,_=this.context.intl.formatMessage,m=A()(O.a,{compactGroupHeader:r,starredMailEnhanced:d}),p=Object(M.n)(_,o)||i,h=c(this.context),g=(h?h+"/":"")+p,S=d?N.a.INHERITED:N.a.FAINT;return l.a.createElement(C.a,{axis:C.b.HORIZONTAL,groupTabIndex:I.TabIndices.MESSAGE_GROUP_HEADER},l.a.createElement("header",{"data-test-id":"message-group-header",className:G.groupHeader},l.a.createElement("div",{className:G.readUnread},l.a.createElement(f.a,{"data-test-id":"icon-btn-read",title:_(U[a?"mark_as_unread":"mark_as_read"]),"aria-label":_(U[a?"message_is_read":"message_is_not_read"]),"aria-pressed":!a,kind:N.b.CIRCLE,size:N.d.XS,colorState:a?N.a.FAINT:N.a.SELECTED,paddingLess:!0,onClick:this.handleReadClick,"data-iskeynav":!0})),l.a.createElement("div",{className:G.subjectRow},l.a.createElement("span",{"data-test-id":"message-group-subject",className:G.subject,title:t||""},t?l.a.createElement("span",{"data-test-id":"message-group-subject-text"},Object(R.e)(t)):l.a.createElement("span",null,l.a.createElement("span",null,"("),l.a.createElement("span",{className:G.noSubject},l.a.createElement(E.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),l.a.createElement("span",null,")")),s>1?l.a.createElement("span",{"data-test-id":"message-group-count",className:G.messageCount},s):null)),l.a.createElement("div",{className:G.endSideButtonGroup},l.a.createElement("div",{className:m.messageGroupDestinationRow},u?l.a.createElement(w.a,{onClick:this._navigateToPeopleView,title:_(U.go_to_people_view),kind:k.a.PILL,"data-test-id":"btn-people"},l.a.createElement(E.FormattedMessage,{id:"message_group_header.button.people",defaultMessage:"People"})):l.a.createElement("span",{className:G.messageGroupDestinationContainer,title:g,"data-test-id":"message-group-destination"},h?l.a.createElement("span",{className:G.messageGroupDestinationAccount},h):null,h?l.a.createElement("span",null,"/"):null,i?l.a.createElement("span",{className:G.messageGroupDestinationFolder},p):null)),l.a.createElement("div",{className:m.star,title:_(U[n?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-label":_(U[n?"message_is_starred":"message_is_not_starred"]),"aria-pressed":n},this.state.shouldBurst?l.a.createElement("img",{src:this.burstURL,style:{height:"24px",width:"24px"}}):l.a.createElement(f.a,{kind:N.b.STAR,size:d?N.d.S:N.d.XS,colorState:n?N.a.STARRED:S,paddingLess:!0,onClick:d?e=>{this.burstOnClick(e,n)}:this.handleStarClick,"data-iskeynav":!0})))))}}i()(j,"contextTypes",{intl:E.intlShape.isRequired,executeAction:c.a.func}),i()(j,"defaultProps",{compactGroupHeader:!1,getAccountLabel:()=>{},fromPeopleView:!1});const H=(e,t)=>s=>{const a=s.intl.formatMessage,n={[_.ob.YAHOO]:a(y.a.yahoo_account_description),[_.ob.YAHOO_SB]:a(y.a.yahoo_account_description),[_.ob.OUTLOOK]:a(y.a.outlook_account_description),[_.ob.AOL]:a(y.a.aol_account_description),[_.ob.GOOGLE]:a(y.a.gmail_account_description),[_.ob.GOOGLE_APP]:a(y.a.gmail_account_description)};return e=e||n[t]};var B=Object(u.connect)((e,t)=>{const s=Object(D.b)(e),a=s.getAccountSelectors,n=s.getRelevantMessageIdFromMessageGroupId,r=s.getMessageIdsFromMessageGroupId,i=s.getFeaturesSelectors,o=s.isPeopleMessage,c=s.getMessageFolderId,d=(0,s.getFoldersSelectors)(),l=d.getFolderTypes,u=d.getAccountIdByFolderId,m=d.getFolderName,p=a(),h=p.getAccountDescriptionByAccountId,g=p.getProviderFromAccount,E=t.listId,I=t.messageGroup,S=Object(v.a)([E]),C=I.id,f=n(C,E),T=r(C),A=T.length,b=c(f),O=m(b),R=l(b)[0],N=u(b),M=g(N),y=h(N),P=Object(L.b)(e,{streamId:S,groupId:C,listId:E,relevantMessageId:f,firstMessageId:T.length?T[0]:null}),F=P.subject,w=P.isRead,k=P.isStarred,x=i(),U=x.isEnabled(_.ub.STARRED_MAIL_ENHANCED),G=x.getSetting(_.zd.STAR_ANIMATION);return{subject:F,isRead:w,flagged:k,messageCount:A,folderName:O,folderType:R,getAccountLabel:H(y,M),starredMailEnhanced:U,starAnimation:G,accountId:N,fromPeopleView:o(C,E)}},e=>({navigateToPeopleView:t=>{e(Object(x.i)(t))}}))(j),V=s(348),W=s(59),q=s(99),z=s(755),K=s.n(z);const Z=A()(K.a),Y=()=>{};class X extends l.a.Component{constructor(...e){super(...e),i()(this,"handleClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onReplyAll(e)}),i()(this,"handleButtonGroupClick",e=>{const t=e.target.getAttribute("data-kind");e.preventDefault(),e.stopPropagation(),"text"!==t&&("reply"===t?this.props.onReply(e):"forward"===t?this.props.onForward(e):this.props.onReplyAll(e))})}render(){const e=this.props,t=e.stationeryRestrictedThemes,s=e.rtl,a=e.emoji,n=e.gif,r=e.stationery;return l.a.createElement("div",{className:Z.container,"data-test-id":"quick-reply",onClick:this.handleClick},l.a.createElement("div",{"data-test-id":"quick-reply-button-group",className:Z.buttonGroup,onClick:this.handleButtonGroupClick},l.a.createElement(W.a,{kind:q.a.TOOLBAR,tabIndex:0},l.a.createElement(E.FormattedHTMLMessage,{id:"reply_replyall_forward",defaultMessage:'<li class="{listItemClass}"><button tabIndex="-1" data-kind="reply" class="{buttonClass}">Reply</button></li><li class="{listItemClass}" data-kind="text">, </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="replyAll" class="{buttonClass}">Reply All</button></li><li class="{listItemClass}" data-kind="text"> or </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="forward" class="{buttonClass}">Forward</button></li>',values:{buttonClass:Z.button,listItemClass:Z.listItem}}))),l.a.createElement(V.a,{formatState:{},onExecuteAction:Y,focusOnEditor:Y,disabled:!0,stationeryEnabled:r,gifFinderEnabled:n,emojiEnabled:a,stationeryRestrictedThemes:t,rtl:s}))}}i()(X,"contextTypes",{config:c.a.object,intl:E.intlShape.isRequired,executeAction:c.a.func.isRequired});var Q=X,$=s(60),J=s(31),ee=s.n(J),te=s(69),se=s(210),ae=s(158),ne=s(91),re=s(130),ie=s(365),oe=s(366),ce=s(367),de=s(7),le=s(18),ue=s(17),_e=s(487),me=s(51),pe=s(349),he=s(252),ge=s.n(he),Ee=s(16);const Ie=A()(ge.a);function Se({onRetry:e,disableRetry:t}){return l.a.createElement("div",{"data-test-id":"message-view-error",className:Ie.emptyBody},l.a.createElement("span",{style:{flexGrow:1}}),l.a.createElement(Ee.b,{kind:N.b.EXCLAMATION_ALT,size:N.d.S,colorState:N.a.WARNING_GRAD_RED}),l.a.createElement("span",{className:Ie.emptyBodyMessage},l.a.createElement(E.FormattedMessage,{id:"message.error_message",defaultMessage:"We couldn't load this message. {retry}",values:{retry:t?l.a.createElement(E.FormattedMessage,{id:"message.retry_later_message",defaultMessage:"Please try again later."}):l.a.createElement("a",{className:Ie.emptyBodyRetry,onClick:e,"data-test-id":"body-error-retry"},l.a.createElement(E.FormattedMessage,{id:"message.retry_message",defaultMessage:"Retry"}))}})),l.a.createElement("span",{style:{flexGrow:1}}))}var Ce=s(54);const fe=A()(ge.a),Te=1e3;var Ae=class extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{takesLong:!1})}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),Te)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return l.a.createElement("div",{className:fe.loadingContainer},this.state.takesLong&&l.a.createElement(Ce.b,null))}},be=s(216),Oe=s(34),Re=s(98),Ne=s(146),Me=s(55),De=s(53),ye=s(40),Le=s(569),ve=s.n(Le),Pe=s(14),Fe=s(27);const we=A()(ve.a),ke=Object(E.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class xe extends l.a.Component{render(){const e=this.context.intl.formatMessage;return l.a.createElement(Me.a,{className:we.popoverContainer},l.a.createElement(De.a,null,l.a.createElement(f.a,{kind:N.b.MORE,size:N.d.XS,title:e(ke.more_menu_label),"aria-label":e(ke.more_menu_label),colorState:N.a.INHERITED,paddingLess:!0,"data-test-id":"more-card-trigger"})),l.a.createElement(ye.b,{triggerOn:Pe.i.CLICK,onMouseEnter:this.props.onMoreMenuEnter,onMouseLeave:this.props.onMoreMenuLeave,permittedArrowDirections:[Pe.h.DOWN],align:Pe.a.START,offset:16,"data-test-id":"more-card-menu"},l.a.createElement(Fe.a,n()({import:"./more_menu_items.jsx"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1195))},_moduleResolver:function(){return 1195}}),l.a.createElement(Fe.b,{loading:!0},l.a.createElement(Ce.b,null)))))}}i()(xe,"contextTypes",{executeAction:c.a.func,intl:E.intlShape.isRequired});var Ue=xe,Ge=s(758),je=s.n(Ge);const He=A()(je.a),Be=Object(E.defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class Ve extends l.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props,s=t.onReply,a=t.onReplyAll,n=t.onForward,r=t.onArchive,i=t.onDelete,o=t.onBlockSenders,c=t.onPrint,d=t.onRawMessage,u=t.forwardEnabled,_=t.replyEnabled,m=t.replyAllEnabled,p=t.message;return l.a.createElement("div",{className:He.wrapper,"data-test-id":"card-toolbar"},l.a.createElement(Ne.a,null),l.a.createElement("div",{className:He.container},l.a.createElement(W.a,{kind:q.a.TOOLBAR,tabIndex:0},l.a.createElement(Oe.a,{kind:Re.a.TOOLBAR_ITEM},l.a.createElement("span",{className:He.toolbarItem+" "+He.rtlRawScaleX},l.a.createElement(f.a,{"data-test-id":"card-toolbar-button-reply",kind:N.b.REPLY,size:N.d.XS,title:e(Be.message_reply),"aria-label":e(Be.message_reply),colorState:N.a.INHERITED,onClick:s,disabled:!_,paddingLess:!0}))),l.a.createElement(Oe.a,{kind:Re.a.TOOLBAR_ITEM},l.a.createElement("span",{className:He.toolbarItem+" "+He.rtlRawScaleX},l.a.createElement(f.a,{"data-test-id":"card-toolbar-button-reply-all",kind:N.b.REPLY_ALL,size:N.d.XS,title:e(Be.message_reply_all),"aria-label":e(Be.message_reply_all),colorState:N.a.INHERITED,onClick:a,disabled:!m,paddingLess:!0}))),l.a.createElement(Oe.a,{kind:Re.a.TOOLBAR_ITEM},l.a.createElement("span",{className:He.toolbarItem+" "+He.rtlRawScaleX},l.a.createElement(f.a,{"data-test-id":"card-toolbar-button-forward",kind:N.b.FORWARD,size:N.d.XS,title:e(Be.message_forward),"aria-label":e(Be.message_forward),colorState:N.a.INHERITED,onClick:n,disabled:!u,paddingLess:!0}))),l.a.createElement(Oe.a,{kind:Re.a.TOOLBAR_ITEM},l.a.createElement("span",{className:He.moreMenuItem},l.a.createElement(Ue,{"data-iskeynav":!0,onArchive:r,onDelete:i,onRawMessage:d,onPrint:c,onBlockSenders:o,message:p,onMoreMenuEnter:this.props.onMoreMenuEnter,onMoreMenuLeave:this.props.onMoreMenuLeave})))),l.a.createElement(Ne.a,null),l.a.createElement("hr",{className:He.bottomLine})),l.a.createElement(Ne.a,null))}}i()(Ve,"contextTypes",{intl:E.intlShape.isRequired}),i()(Ve,"defaultProps",{replyEnabled:!0,replyAllEnabled:!0,forwardEnabled:!0});var We=Ve,qe=s(369),ze=s.n(qe);const Ke=e=>{e.stopPropagation(),e.preventDefault()},Ze=de.g.MSG_BODY;class Ye extends l.a.Component{constructor(e){super(e),i()(this,"handleBlur",()=>{this.canTakeFocus=!0}),i()(this,"focus",()=>{!this.canTakeFocus&&this.refs.content&&this.props.active&&this.refs.content.focus()}),i()(this,"handleSelectAll",()=>{const e=document.getSelection(),t=document.createRange();t.selectNodeContents(this.refs.content),e.removeAllRanges(),e.addRange(t)}),i()(this,"handleRead",e=>{void 0!==e.keyCode&&this.props.message.flags.read||this.handleToggleRead(e)}),i()(this,"handleUnread",e=>{const t=this.props.message;void 0===e.keyCode||t.flags.read?this.handleToggleRead(e):this.showCoachTooltip({selectedCard:[t],interaction:me.k})}),i()(this,"handleToggleRead",e=>{Ke(e),this.props.onToggleRead({i13nModel:{interactionType:Object(le.j)(e)}})}),i()(this,"handleReply",e=>{const t=this.props,s=t.messageGroupId,a=t.message,n={mKey:de.e.MSG_REPLY,sec:Ze,mKeyGroup:de.f.reply,interactionType:Object(le.j)(e)};Ke(e),this.context.executeAction(S.q,{messageGroupId:s,message:a,i13nModel:n})}),i()(this,"handleBlockSenders",e=>{Object(re.a)(l.a.createElement(_e.a,{emailIds:e,listId:this.props.listId}),this.context)}),i()(this,"handleReplyAll",e=>{const t=this.props,s=t.messageGroupId,a=t.message,n={mKey:de.e.MSG_REPLY_ALL,sec:Ze,mKeyGroup:de.f.replyAll,interactionType:Object(le.j)(e)};Ke(e),this.context.executeAction(S.r,{messageGroupId:s,message:a,i13nModel:n})}),i()(this,"handleForward",e=>{const t=this.props,s=t.messageGroupId,a=t.message,n={mKey:de.e.MSG_FORWARD,sec:Ze,mKeyGroup:de.f.forward,interactionType:Object(le.j)(e)};Ke(e),this.context.executeAction(S.d,{messageGroupId:s,message:a,i13nModel:n})}),i()(this,"handleArchive",e=>{const t=this.props,s=t.messageGroupId,a=t.message,n=t.listId,r=t.navigateOnMessageAction;Ke(e),r(),this.context.executeAction(S.b,{messageIds:[a.id],messageGroupIds:[s],listId:n,streamId:Object(v.a)([n]),streamItem:{id:s,listId:n,messageIds:[a.id]}})}),i()(this,"handleShareCard",(e,t)=>{this.context.navigateTo({route:Object(ue.g)(Object(le.g)()),initialSubject:e,initialBody:t})}),i()(this,"handleShareCardLinkClick",(e,t)=>{this.props.onLinkEnhancerlinkShare({i13nModel:{mKey:de.e.LINK_ENHANCER_SHARE_LINK,sec:de.g.MSG_BODY,actionData:{mHref:t,msgId:this.props.message.id,sharedBy:e.currentTarget.innerText}}})}),i()(this,"isPermanentDelete",e=>e.indexOf(_.Cb.BULK)>-1||e.indexOf(_.Cb.TRASH)>-1||e.indexOf(_.Cb.DRAFT)>-1),i()(this,"handleDelete",e=>{const t=this.props,s=t.messageGroupId,a=t.message,n=t.listId,r=t.navigateOnMessageAction;Ke(e),r(),this.context.executeAction(S.c,{messageIds:[a.id],messageGroupIds:[s],listId:n,streamId:Object(v.a)([n]),streamItem:{id:s,listId:n,messageIds:[a.id]},permanent:this.isPermanentDelete(a.folder.types),isAsync:!1,conversationsFlagFromAction:!1})}),i()(this,"handlePrint",e=>{const t={mKey:de.e.MSG_HDR_PRINT,sec:Ze,interactionType:Object(le.j)(e)};Ke(e);const s=this.props;(0,s.onPrint)({messageGroupId:s.messageGroupId,message:s.message,i13nModel:t})}),i()(this,"handleRawMessage",e=>{const t=this.props.message;Ke(e),this.context.executeAction(S.p,{messageId:t.id})}),i()(this,"handleToggleExpand",()=>{this.props.onToggleExpand()}),i()(this,"showCoachTooltip",({selectedCard:e=[],interaction:t=""})=>{if(!e.length)return;const s=this.props.expanded,a=e[0].id;let n,r,i,o;switch(t){case me.k:r=this.readIconContainer,n=l.a.createElement(oe.a,null),o=_.me.RIGHT,i=(e,t,s=!1,a=!0)=>{if(!e||!t)return{};const n=e.getBoundingClientRect(),r=n.left,i=n.top,o=n.right,c=t.getBoundingClientRect();return{left:s?"auto":c.right-r-2,top:c.top-i+(a?-4:1),right:s?o-c.left-2:"auto"}};break;case me.d:r=this.starIconContainer,n=l.a.createElement(ce.a,null),o=_.me.LEFT,i=(e,t,s=!1,a=!1)=>{if(!e||!t)return{};const n=e.getBoundingClientRect(),r=n.left,i=n.top,o=n.right,c=t.getBoundingClientRect();return{right:s?"auto":o-c.right+4,top:c.top-i+(a?-4:1),left:s?c.left-r+4:"auto"}}}r&&Object(ie.a)(n,{id:a,renderToTheSide:o,appendNode:r,referenceNode:{parent:this.refs.content,child:r,positionCalculator:i,expanded:s},clearTooltipOn:{click:this.refs.content,keydown:this.refs.content}},this.context)}),i()(this,"handleStar",e=>{const t=this.props.message;void 0!==e.keyCode&&t.flags.flagged?this.showCoachTooltip({selectedCard:[t],interaction:me.d}):this.handleToggleStar(e)}),i()(this,"handleUnstar",e=>{(void 0===e.keyCode||this.props.message.flags.flagged)&&this.handleToggleStar(e)}),i()(this,"handleToggleStar",e=>{Ke(e),this.props.onToggleStar({i13nModel:{interactionType:Object(le.j)(e)}})}),i()(this,"handleClick",()=>{this.props.onClick()}),i()(this,"handleKeyDown",e=>{if((e.metaKey||e.ctrlKey)&&"A"===String.fromCharCode(e.which))return Ke(e),this.handleSelectAll();if(e.ctrlKey||e.metaKey||e.altKey)return;if("Enter"===e.key&&(Ke(e),this.props.expandable))return this.handleToggleExpand();const t=String.fromCharCode(e.which);switch(t){case"K":if(!e.shiftKey)return this.handleUnread(e);this.handleRead(e);break;case"L":if(!e.shiftKey)return this.handleStar(e);this.handleUnstar(e)}if(!e.shiftKey&&this.props.bodyState===_.bd.LOADED)switch(t){case"R":this.handleReply(e);break;case"A":this.handleReplyAll(e);break;case"F":this.handleForward(e);break;case"P":this.handlePrint(e)}}),i()(this,"handleHrefLinkClick",e=>{const t=this.props,s=t.quotientRetailerId,a=t.showContextualModal,n=t.openLinkModal;this.props.handleHrefLinkClick({linkTarget:e,message:t.message}),a&&n(s)}),i()(this,"handleToolbarOnMouseEnter",()=>{this.setState({showToolbar:!0})}),i()(this,"handleToolbarOnMouseLeave",()=>{this.setState({showToolbar:!1})}),i()(this,"handleMoreMenuEnter",()=>{this.props.active||this.setState({showToolbar:!0})}),i()(this,"handleMoreMenuLeave",()=>{this.props.active||this.setState({showToolbar:!1})}),i()(this,"handleChangeImageSetting",()=>{this.props.changeSettings({name:_.zd.SHOW_IMAGES,value:_.Fd.ALWAYS,i13nModel:{name:de.e.SHOW_IMG_ALWAYS,sec:de.g.MSG_BODY}})}),i()(this,"handleReloadMessage",(e,{full:t,secure:s}={})=>{const a=this.props;(0,a.previewMessage)({listId:a.listId,full:t,secure:s,messageIds:[e]})}),this.canTakeFocus=e.canTakeFocus,this.state={showToolbar:!1}}componentDidMount(){this.focus()}componentDidUpdate(){this.focus()}render(){const e=this.props,t=e.listId,a=e.messageGroupId,n=e.message,r=e.bodyState,i=e.retryCount,o=e.renderAttachmentTray,c=e.expandable,d=e.expanded,u=e.active,m=e.idx,p=e.totalMessages,h=e.conversations,g=e.showSmartReply,E=u||this.state.showToolbar,I=A()(ze.a,{active:u}),S=i>_.ac,C=!h;let f=null;if(d)switch(r){case _.bd.DOES_NOT_EXIST:f=l.a.createElement(Ae,null);break;case _.bd.ERROR:f=l.a.createElement(Se,{onRetry:this.handleReloadMessage.bind(this,n.id),disableRetry:S});break;case _.bd.LOADED:f=l.a.createElement("div",{"data-test-id":"message-body-container",onMouseEnter:this.handleToolbarOnMouseEnter,onMouseLeave:this.handleToolbarOnMouseLeave},l.a.createElement(pe.a,{headers:n.headers,messageId:n.id,folderId:n.folder.id,renderAttachments:o,onMailtoClick:this.props.onMailtoClick,onHrefLinkClick:this.handleHrefLinkClick,onChangeImageSetting:this.handleChangeImageSetting,onShareCard:this.handleShareCard,onShareCardLinkClick:this.handleShareCardLinkClick,onShowQuotedText:this.handleReloadMessage.bind(this,n.id),onShowImages:this.handleReloadMessage.bind(this,n.id),removeCollapseButton:C,quoteExpanded:C,attachments:n.attachments,folder:n.folder,csid:n.csid}),l.a.createElement("div",{className:I.toolbarHoverArea,"data-test-id":"toolbar-hover-area"},E?l.a.createElement(We,{onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,onArchive:this.handleArchive,onDelete:this.handleDelete,onRawMessage:this.handleRawMessage,onBlockSenders:this.handleBlockSenders,message:n,onPrint:e=>this.handlePrint(e,"toolbar"),onMoreMenuEnter:this.handleMoreMenuEnter,onMoreMenuLeave:this.handleMoreMenuLeave}):null),g?l.a.createElement(Fe.a,{defer:!0,import:"./atoms/reply_suggestions",messageGroupId:a,message:n,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1194))},_moduleResolver:function(){return 1194}}):null);break;default:f=l.a.createElement(Ae,null)}return l.a.createElement("div",{ref:"content","data-test-id":"message-view","data-test-expanded":d,className:I.messageCardContainer+" message-view","data-iskeynav":!0,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:this.handleClick,tabIndex:-1},l.a.createElement(be.a,{listId:t,groupId:a,conversations:h,message:n,expanded:d,idx:m,totalMessages:p,onToggleStar:this.handleToggleStar,onToggleRead:this.handleToggleRead,onToggleExpand:this.handleToggleExpand,expandable:c,onPrint:this.handlePrint,onAttachmentClick:this.props.scrollToAttachmentTray,starRef:e=>this.starIconContainer=e,readRef:e=>this.readIconContainer=e}),f)}}i()(Ye,"defaultProps",{active:!1,canTakeFocus:!1}),i()(Ye,"contextTypes",{config:c.a.object,executeAction:c.a.func.isRequired,navigateTo:c.a.func,intl:E.intlShape.isRequired,getStore:c.a.func,getTheme:c.a.func,store:c.a.object});var Xe=Object(u.connect)((e,t)=>{const s=Object(D.b)(e),a=s.isFeatureEnabled,n=s.getRetailersSelectors,r=s.getMessagesSelectors,i=s.isMessageRoute,o=s.getFeaturesSelectors,c=s.findReplyForwardCsidsOfMessage,d=s.isSent,l=s.__getLastNonDraftMessageIdByGroupId,u=t.messageGroupId,m=t.message,p=(0,s.getMessageIdsFromMessageGroupId)(u);let h=!1;m.id===l(u)&&(h=!(c(m.id)||[]).filter(e=>!d(e)).length&&o().isEnabled(_.ub.SMART_REPLY));let g="",E=!1;if(a(_.ub.CONTEXTUAL_QUOTIENT_MODAL)&&i()){const e=r().getFromAddresses;E=p.some(t=>{const s=e(t),a=ee()(s,1)[0],r=(void 0===a?{}:a).email,i=void 0===r?"":r,o=n(),c=o.isLinkedRetailer;return!!(g=(0,o.getRetailerIdFromEmail)(i))&&!c(g)})}return{quotientRetailerId:g,showContextualModal:E,showSmartReply:h}},e=>({previewMessage:t=>e(Object(ne.i)(t)),handleHrefLinkClick:t=>e(Object(ne.c)(t)),onLinkEnhancerlinkShare:t=>e(ae.i(t)),changeSettings:t=>e(Object(te.b)(t)),openLinkModal:t=>e(Object(se.a)(t)),onPrint:t=>e(Object(ne.j)(t))}))(Ye);const Qe=()=>{};var $e=Object(u.connect)((e,{csid:t})=>{return(0,Object(D.b)(e).getDraftCardMessage)(t)})(e=>{const t=e.idx,s=e.csid,a=e.listId,n=e.active,r=e.message,i=e.conversations,o=e.totalMessages,c=e.messageGroupId,d=e.renderAttachmentTray,u=A()(ze.a,{active:n}),_=!i;return l.a.createElement("div",{"data-iskeynav":!0,tabIndex:-1,"data-test-id":"message-view","data-test-expanded":!0,className:u.messageCardContainer+" message-view"},l.a.createElement(be.a,{idx:t,expanded:!0,expandable:!0,onPrint:Qe,listId:a,message:r,onToggleStar:Qe,onToggleRead:Qe,onToggleExpand:Qe,viglinkClicked:Qe,onAttachmentClick:Qe,groupId:c,conversations:i,totalMessages:o}),l.a.createElement("div",{"data-test-id":"message-body-container"},l.a.createElement(pe.a,{csid:s,messageId:r.id,folderId:r.folder.id,headers:r.headers,attachments:r.attachments,quoteExpanded:_,renderAttachments:d.bind(null,r),removeCollapseButton:_}),l.a.createElement("div",{className:u.toolbarHoverArea,"data-test-id":"toolbar-hover-area"})))}),Je=s(262),et=s(383),tt=s(30),st=s(185),at=s.n(st);const nt=20,rt=160,it=24,ot=16,ct=12;class dt extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{engaged:!1}),i()(this,"update",()=>{this._isSetup&&this._handleScroll()}),i()(this,"_shouldEnableSmartScroll",()=>document.documentElement.scrollWidth<=window.innerWidth),i()(this,"_handleWindowResize",()=>{this._shouldEnableSmartScroll()?(this._isSetup||this._setup(),this.update()):this._teardown()}),i()(this,"_handleContentChanged",({caret:e})=>{this._isSetup&&e&&this._scrollTargetIntoView(e.y)}),i()(this,"_scrollTargetIntoView",e=>{if(!this._isMounted())return;const t=this._containerNode.getBoundingClientRect(),s=this._targetNode.getBoundingClientRect(),a=this._headerNode.getBoundingClientRect(),n=e+ot+a.height,r=s.top-t.top+n,i=!this.state.engaged&&s.bottom+nt>t.bottom;r<0||r>=(this.state.engaged?t.height-tt.TOOLBAR_HEIGHT:t.height)?this.scrollTimer=setTimeout(()=>{this._containerNode.scrollTop=this._targetNode.offsetTop+n-Math.round(t.height/2)},2):i&&(this._containerNode.scrollTop+=s.bottom-t.bottom+nt)}),i()(this,"_alignTargetInContainer",()=>{if(!this._isMounted())return;const e=this._targetNode.getBoundingClientRect(),t=this._containerNode.getBoundingClientRect();this._containerNode.scrollTop=e.height<t.height?this._targetNode.offsetTop-(t.height-e.height-nt):this._targetNode.offsetTop-ct}),i()(this,"_handleScroll",()=>{if(!this._isMounted())return;const e=this._containerNode.getBoundingClientRect(),t=this._targetNode.getBoundingClientRect(),s=this._headerNode.getBoundingClientRect(),a=Math.max(s.height+it,rt);t.bottom>e.top&&t.top+a<e.bottom&&t.bottom>e.bottom?this._engage(t.width-tt.HORIZONTAL_PADDING):this._disengage()}),i()(this,"_setup",()=>{this._compose&&(this._containerNode=Object(g.findDOMNode)(this.props.scrollContainer),this._targetNode=Object(g.findDOMNode)(this)),this._containerNode&&this._targetNode&&this._headerNode&&(this._isSetup=!0,this.update(),this._containerNode.addEventListener("scroll",this._handleScroll))}),i()(this,"_teardown",()=>{clearTimeout(this.scrollTimer),this._containerNode&&this._containerNode.removeEventListener("scroll",this._handleScroll),this._disengage(),this._isSetup=!1}),i()(this,"_engage",()=>{this.state.engaged||this.setState({engaged:!0})}),i()(this,"_disengage",()=>{this.state.engaged&&this.setState({engaged:!1})})}_isMounted(){return this._containerNode&&this._targetNode&&this._headerNode}componentDidMount(){this._handleContentChanged=at()(this._handleContentChanged,10),this._shouldEnableSmartScroll()&&this._setup(),this._isSetup&&this._alignTargetInContainer()}componentDidUpdate(){!this._isSetup&&this._shouldEnableSmartScroll()&&this._setup()}componentWillUnmount(){this._teardown()}render(){return l.a.createElement(et.a,n()({},this.props,{refToComposeContainer:e=>{this._compose=e},refToComposeHeader:e=>{this._headerNode=Object(g.findDOMNode)(e)},onContentChanged:this._handleContentChanged,toolbarFixed:this.state.engaged,onResize:this._handleWindowResize}))}}i()(dt,"contextTypes",{config:c.a.object.isRequired});var lt=dt,ut=s(370),_t=s(162),mt=s.n(_t),pt=s(295),ht=s.n(pt),gt=s(21),Et=s(47);const It=10,St=10,Ct=2;var ft=s(81),Tt=s(97),At=s(190),bt=s(307),Ot=s(129);const Rt=de.g.MSG_BODY,Nt=["shift+p"],Mt=Object(E.defineMessages)({conversation_view_label:{id:"message_group_view.conversation_view",defaultMessage:"Conversation View"},message_view_label:{id:"message_group_view.message_view",defaultMessage:"Message View"}}),Dt=e=>`${e.csid}-${e.folderType}`,yt=1e3,Lt=e=>`MessageGroupView-${e}`;class vt extends l.a.Component{constructor(e){super(e),i()(this,"getSavedScrollTop",()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0),i()(this,"navigateOnMessageAction",()=>{const e=this.props;this.props.loadMoreItems({listId:e.listId,currentGroupId:e.messageGroup.id})}),i()(this,"scrollToCardGroup",()=>{if(this.cardGroup){Object(g.findDOMNode)(this.cardGroup).scrollIntoView({behavior:"smooth",block:"start"})}}),i()(this,"getUIState",()=>{const e=this._scrollContainer&&Object(g.findDOMNode)(this._scrollContainer);return e?{type:_.re.COMPONENT_UI_STATE,hash:Lt(this.props.groupIdStateHash),id:this.props.messageGroup.id,uiState:{scrollTop:e.scrollTop}}:{}}),i()(this,"handleShortcuts",e=>{const t=String.fromCharCode(e.which).toLowerCase(),s=this._getFirstAttachment();"p"===t&&e.shiftKey&&s&&(e.stopPropagation(),e.preventDefault(),Object(Et.m)(s)?this.previewAttachment(s.id,Object(le.j)(e)):this.previewAttachmentAlert(s.downloadUrl))}),i()(this,"previewAttachment",(e,t)=>{const s=this.props,a=s.messageGroup,n=s.attachmentPreview,r=s.route,i=r.query.messagePreview||s.previewPaneSetting!==_.Rc.NO&&-1===[_.gd.MESSAGE_FROM_FOLDER_LIST,_.gd.MESSAGE_FROM_SEARCH_LIST].indexOf(r.name)?{messagePreview:"1"}:{},o={mKey:de.e.OPEN_DOC_PREVIEW,sec:de.g.ATTM_PREVIEW,interactionType:t};n&&this.context.navigateTo({route:Object(ue.e)(this.props.listId,a.id,e,i),i13nModel:o})}),i()(this,"previewAttachmentAlert",e=>{this.context.executeAction(ft.q,{downloadUrl:e})}),i()(this,"renderAttachments",e=>{const t=e.attachments,s=e.folder,a=void 0!==s&&s.types.filter(e=>e===_.Cb.BULK).length>0;return t&&t.length?l.a.createElement(Je.a,{ref:t=>this._attachmentTrays[e.id]=t,attachments:t,readOnly:!0,allowDownload:!a,mayContainVirus:a,message:e,onAttachmentPreview:this.previewAttachment,shouldShowSpamAttachmentWarning:this.props.shouldShowSpamAttachmentWarning}):null}),i()(this,"scrollToAttachmentTray",e=>{const t=this._attachmentTrays[e];t&&Object(g.findDOMNode)(t)&&Object(g.findDOMNode)(t).scrollIntoView()}),i()(this,"hasDeco",(e,t)=>t.some(t=>t&&t.id===e)),i()(this,"handleMailtoClick",(e,t)=>{if(!t)return;const s=Object(le.g)();this.context.navigateTo({route:Object(ue.g)(s),mailtoAttr:t,message:e})}),i()(this,"handleMessageRead",(e,{i13nModel:t={}})=>{const s=this.props,a=s.messageGroup;this.context.executeAction(e.flags.read?S.m:S.i,{messageIds:[e.id],itemId:a.id,streamId:s.streamId,streamItem:{id:a.id,listId:s.listId,messageIds:[e.id]},i13nModel:Object.assign({mKey:e.flags.read?de.e.MSG_HDR_MARK_UNREAD:de.e.MSG_HDR_MARK_READ,sec:Rt,mKeyGroup:e.flags.read?de.f.mark_unread:de.f.mark_read},t)})}),i()(this,"handleMessageStar",(e,{i13nModel:t={}})=>{const s=this.props,a=s.messageGroup;this.context.executeAction(e.flags.flagged?S.l:S.f,{messageIds:[e.id],itemId:a.id,streamId:s.streamId,streamItem:{id:a.id,listId:s.listId,messageIds:[e.id]},i13nModel:Object.assign({mKey:e.flags.flagged?de.e.MSG_HDR_MARK_UNSTAR:de.e.MSG_HDR_MARK_STAR,sec:Rt,mKeyGroup:e.flags.read?de.f.mark_unstar:de.f.mark_star},t)})}),i()(this,"renderCard",(e,t,s)=>{const a=this.props,n=a.cards,r=a.bodyStates,i=a.retryCounts,o=a.listId,c=a.messageGroup,d=a.windowDimensions,u=a.hasAttachmentPreview,m=a.canTakeFocus,p=a.conversations,h=a.hasCalendarCard,g=a.canEditSubject,E=a.isSendRequested;let I;const S=t.message,C=Dt(t),f=t.messageId,T=t.expansionState,A=r[f],b=i[f],O=this.state.activeItem===C,R=n.findIndex(e=>e.id===t.id),N=[_.D.EXPANDED,_.D.TEMPORARY_EXPANSION].indexOf(T)>-1;if(t.folderType===_.Cb.DRAFT&&E(t.csid))I=l.a.createElement($e,{cardId:C,csid:t.csid,totalMessages:t.total,conversations:p,windowDimensions:d,hasAttachmentPreview:u,renderAttachmentTray:this.renderAttachments});else if(t.folderType===_.Cb.DRAFT){const e=this.context.getCss(ht.a,{conseqCompose:s&&s.folderType===_.Cb.DRAFT,active:O,isDraftError:A===_.bd.ERROR});I=l.a.createElement("div",{ref:e=>{e&&(this._refs[C]=e,this.adjustBottomMarginForDropdownOverflow(C))},className:e.composeCard,onFocus:this.handleCardActivation.bind(this,t)},l.a.createElement(lt,{ref:e=>this._refs[`compose-${C}`]=e,csid:t.csid,showCloseButton:!1,isQuickReply:!0,scrollContainer:this._scrollContainer,windowDimensions:d,hasAttachmentPreview:u,canEditSubject:g,widthChanged:this.props.widthChanged}))}else I=l.a.createElement(Xe,{ref:C,listId:o,messageGroupId:c.id,message:S,idx:R,totalMessages:t.total,bodyState:A,retryCount:b,expanded:N,expandable:n.length>1||h,onToggleExpand:this.handleMessageCardExpansion.bind(this,t),onToggleRead:this.handleMessageRead.bind(this,S),onToggleStar:this.handleMessageStar.bind(this,S),onClick:this.handleCardActivation.bind(this,t),onMailtoClick:this.handleMailtoClick.bind(this,S),renderAttachmentTray:this.renderAttachments.bind(this,S),scrollToAttachmentTray:this.scrollToAttachmentTray.bind(this,S.id),active:O,canTakeFocus:m,navigateOnMessageAction:this.navigateOnMessageAction,conversations:p});return l.a.createElement("li",{key:C,className:e.messageCard},I)}),i()(this,"handleStackExpand",(e,t)=>{t.preventDefault();const s=_.D.COLLAPSED;this.props.onChangeMessageCardExpansion({itemsToUpdate:e.cards.map(e=>h()({},e,{expansionState:s}))})}),i()(this,"handleMessageCardExpansion",e=>{const t=e.expansionState===_.D.EXPANDED?_.D.COLLAPSED:_.D.EXPANDED;this.props.onChangeMessageCardExpansion({itemsToUpdate:[h()({},e,{expansionState:t})]}),this.setState({activeItem:Dt(e)})}),i()(this,"handleCardActivation",e=>{const t=Dt(e);this.adjustBottomMarginForDropdownOverflow(t),this.setState({activeItem:t}),this.context.executeAction(ft.e,{listId:this.props.listId,card:e})}),i()(this,"adjustBottomMarginForDropdownOverflow",e=>{if(this._isLastCard(e)&&this._lastCardIsCompose()&&this._refs[e]){const t=this._refs[e],s=t.getBoundingClientRect();if(s.bottom>=document.body.clientHeight)t.style.marginBottom="";else{const e=document.body.clientHeight-s.bottom;t.style.marginBottom=e+"px"}}if(!this._isLastCard(e)&&this._isCardCompose(e)&&this._refs[e]){this._refs[e].style.marginBottom=""}}),i()(this,"_isLastCard",e=>{const t=this.props.cards;return!!t.length&&Dt(t[t.length-1])===e}),i()(this,"handleKeyDown",(e,t)=>{switch(t.key){case"Enter":return t.preventDefault(),t.stopPropagation(),void this.handleStackExpand(e,t);default:return}}),i()(this,"renderStack",(e,t)=>l.a.createElement("li",{className:e.stack,key:t.cards[0].messageId,onClick:this.handleStackExpand.bind(this,t),onKeyDown:this.handleKeyDown.bind(this,t),"data-test-id":"super-collapse-card","data-iskeynav":!0},l.a.createElement("div",{className:e.stackLine}),l.a.createElement("span",{className:e.stackLabel},l.a.createElement(E.FormattedMessage,{id:"super_collapsed_label",defaultMessage:"+{messageNum, number} from {senderList}",values:{messageNum:t.cards.length,senderList:l.a.createElement(ut.a,{visibleNum:St,senders:Object(m.g)(t.cards.map(e=>(Object(gt.a)(!e.isDraft,"Stacking drafts is not supported"),e.message))),myAddresses:this.props.myAddresses})}})),l.a.createElement("div",{className:e.stackLine}))),i()(this,"renderCardStacks",e=>{const t=this.props.cards.reduce((e,t)=>{const s=t.expansionState;let a=e[e.length-1];return a&&s===a.cardExpansion||e.push(a={cardExpansion:s,cards:[]}),a.cards.push(t),e},[]).map(t=>t.cardExpansion!==_.D.STACKED||t.cards.length<Ct||this.props.cards.length<It?t.cards.map((t,s,a)=>this.renderCard(e,t,a[s+1])):this.renderStack(e,t));return Array.prototype.concat.apply([],t)}),i()(this,"markNewlyLoadedBodiesAsRead",({messageGroup:e,bodyStates:t,isAppVisible:s},{bodyStates:a,isAppVisible:n})=>{const r=this.state.messagesMarkedAsUnread,i=this.props,o=i.markAsReadInterval,c=i.streamId,d=i.listId,l=i.cards,u=i.route;if(!i.isAMT&&s&&o!==_.mc.NEVER){const s=e.messages.filter(e=>!(e.flags.read||t[e.id]!==_.bd.LOADED||a[e.id]===t[e.id]&&n||-1!==r.indexOf(e.id)));if(s.length){const t=s.map(e=>e.id);this.markReadTimer=setTimeout(()=>{this.context.executeAction(S.i,{itemId:e.id,messageIds:t,streamId:c,streamItem:{id:e.id,listId:d,messageIds:t},route:u,persistStreamItemExpansionStates:l})},n?1e3*o:yt)}}}),i()(this,"getUserInitiatedUnreadStatus",(e,t)=>{const s=[...this.state.messagesMarkedAsUnread];return t.forEach(t=>{if(!t.flags.read){const a=e.find(e=>e.id===t.id&&e.flags.read!==t.flags.read);a&&s.push(a.id)}}),s}),i()(this,"_executeGroupAction",(e,{stream:t={},i13nModel:s})=>{const a=this.props.messageGroup;this.context.executeAction(e,h()({messageGroupIds:[a.id]},t,{i13nModel:s}))}),i()(this,"handleReply",e=>{const t={mKey:de.e.QUICK_REPLY,sec:de.g.QUICK_COMPOSE,mKeyGroup:de.f.reply,interaction_type:Object(le.j)(e)};this.context.executeAction(ft.s,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),i()(this,"handleReplyAll",e=>{const t={mKey:de.e.QUICK_REPLYALL,sec:de.g.QUICK_COMPOSE,mKeyGroup:de.f.replyAll,interaction_type:Object(le.j)(e)};this.context.executeAction(ft.r,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),i()(this,"handleForward",e=>{const t={mKey:de.e.QUICK_FORWARD,sec:de.g.QUICK_COMPOSE,mKeyGroup:de.f.forward,interaction_type:Object(le.j)(e)};this.context.executeAction(ft.f,{messageGroupId:this.props.messageGroup.id,i13nModel:t})}),i()(this,"handleToggleGroupRead",e=>{e.preventDefault();const t=this.props,s=t.messageGroup,a=s.messages[0].flags.read;this._executeGroupAction(a?ft.n:ft.j,{stream:{streamId:t.streamId,streamItem:s?{id:s.id,listId:t.listId}:void 0},i13nModel:{mKey:a?de.e.MSG_GRP_HDR_MARK_UNREAD:de.e.MSG_GRP_HDR_MARK_READ,sec:de.g.MSG_BODY,mKeyGroup:a?de.f.mark_unread:de.f.mark_read}})}),i()(this,"handleToggleGroupStar",e=>{e.preventDefault();const t=this.props,s=t.messageGroup,a=s.messages[0].flags.flagged;this._executeGroupAction(a?ft.m:ft.g,{stream:{streamId:t.streamId,streamItem:s?{id:s.id,listId:t.listId}:void 0},i13nModel:{mKey:a?de.e.MSG_GRP_HDR_MARK_UNSTAR:de.e.MSG_GRP_HDR_MARK_STAR,sec:de.g.MSG_BODY,mKeyGroup:a?de.f.mark_unstar:de.f.mark_star}})}),i()(this,"_shouldShowLabels",()=>!this.props.hasAttachmentPreview),i()(this,"_getFirstAttachment",()=>{const e=(this.props.messageGroup.messages||[]).find(e=>e.attachments&&e.attachments.length);return e&&e.attachments[0]}),i()(this,"_lastCardIsCompose",()=>{const e=this.props,t=e.cards,s=t[t.length-1];return Boolean(s.folderType===_.Cb.DRAFT&&!(0,e.isSendRequested)(s.csid))}),i()(this,"_isCardCompose",e=>{const t=this.props,s=t.isSendRequested,a=t.cards.find(t=>Dt(t)===e);return!!a&&Boolean(a.folderType===_.Cb.DRAFT&&!s(a.csid))}),i()(this,"renderCardGroup",()=>{const e=this.props,t=e.messageGroup;return"decos"in t.messages[0]?l.a.createElement(Fe.a,{defer:!0,import:"../card_group",parentMessageId:t.messages[0].id,onViewLess:this.scrollToCardGroup,ref:e=>{this.cardGroup=e},couponCards:e.couponCards,selfExtractCoupon:e.selfExtractCoupon,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1213))},_moduleResolver:function(){return 1213}}):null}),i()(this,"_setScrollContainerRef",e=>{this._scrollContainer=e});const t=e.cards,a=e.hasCalendarCard;this._refs={},this.state={activeItem:!a&&t.length>0&&Dt(t[t.length-1]),messagesMarkedAsUnread:[]}}componentWillReceiveProps(e){this.props.markAsReadOnUnmount?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)}):this.markNewlyLoadedBodiesAsRead(e,this.props)}componentWillMount(){this._attachmentTrays={}}scrollToCard(e,t,s={findNode:g.findDOMNode}){const a=s.findNode(this._refs[t]),n=s.findNode(this._scrollContainer),r=this.props,i=r.cards,o=r.hasItemsAtTheTopOfTheCard,c=this.getSavedScrollTop();n&&(c>0?n.scrollTop=this.getSavedScrollTop():o?n.scrollTop=0:(a&&(n.scrollTop=a.offsetTop-$.a),0!==i.indexOf(e)&&1!==i.length||(n.scrollTop=0)))}componentDidMount(){this.props.markAsReadOnUnmount||this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{},isAppVisible:this.props.isAppVisible}),this.context.bindShortcut(Nt,this.handleShortcuts);let e=this.state.activeItem;const t=this.props.cards.find(({message:e})=>e&&!e.flags.read);t&&(e=Dt(t),this.setState({activeItem:e})),this.scrollToCard(t,e)}componentWillUnmount(){const e=this.props,t=e.markAsReadInterval,s=e.showPACNotification,a=e.updatePacNotificationCue;this.context.unbindShortcut(Nt),this.props.markAsReadOnUnmount?this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{}}):this.markReadTimer&&t!==_.mc.IMMEDIATELY&&clearTimeout(this.markReadTimer),s&&a({name:_.ub.WEB_PAC_NOTIFICATION_CUE})}render(){const e=this.context.getCss(ht.a),t=this.props,a=t.messageGroup,n=t.hasToolbar,r=t.listId,i=t.streamId,o=t.hasAttachmentPreview,c=t.conversations,d=t.emoji,u=t.gif,p=t.stationery,h=t.hasCalendarCard,g=t.calendarAttachment,E=t.showEbayWarrantyUpsell,S=t.cards,f=t.folderType===_.Cb.BULK,T=Object(m.f)(a);return S.length<=0?null:l.a.createElement(At.a,{getUnsyncedData:this.getUIState},l.a.createElement("div",{className:e.container,"data-test-id":"message-group-view"},n&&l.a.createElement(bt.a,{listId:r,streamId:i,kind:$.c.MESSAGE_VIEW,activeGroupId:a.id,showLabels:this._shouldShowLabels(),hasAttachmentPreview:o,navigateOnMessageAction:this.navigateOnMessageAction}),l.a.createElement("div",{role:"main","data-test-id":"message-group-view-scroller","aria-label":this.context.intl.formatMessage(c?Mt.conversation_view_label:Mt.message_view_label),ref:this._setScrollContainerRef,className:e.scrollView},this.renderCardGroup(),E?l.a.createElement(Fe.a,{import:"../ebay_warranty_upsell",position:_.nb.TOP,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,865))},_moduleResolver:function(){return 865}}):null,l.a.createElement(B,{onToggleGroupRead:this.handleToggleGroupRead,onToggleGroupStar:this.handleToggleGroupStar,isRead:T.flags.read,flagged:T.flags.flagged,listId:r,messageGroup:a}),h&&l.a.createElement("div",{className:e.rsvpContainer},l.a.createElement(Fe.a,{import:"../rsvp_view/index.jsx",eventAttachment:g.event,messageId:g.message.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,491))},_moduleResolver:function(){return 491}})),l.a.createElement(C.a,{groupTabIndex:I.TabIndices.MESSAGE_LIST_MAIN,circularNavigation:!1,excludeKeyCodes:["ArrowUp","ArrowDown"]},l.a.createElement("ul",{className:mt()(e.cardsContainer,{danger:f}),"data-test-id":"cards"},this.renderCardStacks(e)),!this._lastCardIsCompose()&&c?l.a.createElement(Q,{stationery:p,gif:u,emoji:d,onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward}):null))))}}i()(vt,"contextTypes",{executeAction:c.a.func.isRequired,navigateTo:c.a.func.isRequired,intl:E.intlShape.isRequired,config:c.a.object.isRequired,getCss:c.a.func,bindShortcut:c.a.func,unbindShortcut:c.a.func});var Pt=Object(u.connect)((e,t)=>{let s=[],a=!1;const n=t.messageGroup,r=t.listId,i=t.conversations,o=t.hasCoupon,c=t.rsvpEnabled&&((e={})=>{const t={};return(e.messages||[]).some(e=>{const s=Object(Et.h)(e.attachments)[0];if(s)return t.message=e,t.event=s,!0}),Object.keys(t).length?t:null})(n),d=!!c,l=Object(D.b)(e),u=l.getMessagesSelectors,m=l.getMessageFromAddress,p=l.getMessageToAddress,g=l.getMessageCcAddress,E=l.getMessageBccAddress,I=l.getMessageDate,S=l.getMessageSnippet,C=l.getCouponsSelectors,f=l.getFeaturesSelectors,T=l.getEnvironmentSelectors,A=l.getReconciledUnysncedDataByHash,b=l.getMessageFlags,O=l.getAttachmentsByMessageId,R=l.getFoldersSelectors,N=l.getSubjectAndSnippetSelectors,M=l.isSingleDraftGroup,y=l.isSendRequested,L=l.getMainStreamListIds,P=l.getMessageGroupStreamItemsWithExpansionStates,F=l.getMessageFolderId,w=l.shouldShowEbayWarrantyUpsell,k=l.isFeatureEnabled,x=l.getMessageBodiesSelectors,U=l.getGroupIdStateHash,G=(0,l.getRoute)(),j=Object(v.a)(L(G)),H=u(),B=H.getDownloadAllUrl,V=H.getCardConversationId,W=R().getFolderTypes,q=x().hasInlineImage,z=N().getSubject,K=T().isAMT(),Z=C().getCouponCardsForCardConversationId,Y=(0,f().getSetting)(_.zd.EBAY_WARRANTY_UPSELL_POSITION),X=U(),Q=A(Lt(X)),$=!i||M(n.id),J={id:n.id,listId:r},ee=w()&&Y===_.nb.TOP;if(o){const e=V(n.messages[0].id);s=(a=k(_.ub.COUPON_SELF_EXTRACTION)&&!e)?[]:Z(e)}const te=P(J).map(e=>{const t=e.messageId;if(e.folderType===_.Cb.DRAFT)return h()({},e);const s=F(t);return h()({},e,{message:{id:t,flags:b(t),folder:{id:s,types:W(s)},headers:{subject:z(t,r),from:m(t),to:p(t),cc:g(t),bcc:E(t),date:I(t)},snippet:S(t,r),attachments:O(t),downloadAllUrl:B(t)}})}),se=te.filter(({folderType:e,expansionState:t})=>t===_.D.EXPANDED&&e!==_.Cb.DRAFT).map(({messageId:e})=>e).some(q),ae=k(_.zd.SHOW_IMAGES),ne=k(_.ub.INLINE_IMAGES_PROXIED);return{cards:te,isSendRequested:y,hasCalendarCard:d,calendarAttachment:c,streamId:j,preservedState:Q,isAMT:K,canEditSubject:$,couponCards:s,selfExtractCoupon:a,showEbayWarrantyUpsell:ee,showPACNotification:!ae&&se&&ne,route:G,hasItemsAtTheTopOfTheCard:d||o||a,groupIdStateHash:X}},e=>({onChangeMessageCardExpansion:t=>e(Object(ne.b)(t)),onClose:({route:t,i13nModel:s={}})=>{e(Object(x.c)({route:t,i13nModel:s}))},loadMoreItems:t=>e(Object(Tt.a)(t)),updatePacNotificationCue:t=>e(Object(Ot.h)(t))}))(vt);const Ft=A()(ht.a);function wt({onRetry:e}){return l.a.createElement("div",{className:Ft.empty,"data-test-id":"group-error"},l.a.createElement("p",null,l.a.createElement(E.FormattedMessage,{id:"group_error.failed_to_load",defaultMessage:"We couldn't load this message."})),l.a.createElement("a",{className:Ft.emptyRetry,onClick:e,"data-test-id":"group-error-retry"},l.a.createElement(E.FormattedMessage,{id:"group_error.retry",defaultMessage:"Retry"})))}var kt=s(10),xt=s(2);class Ut extends l.a.Component{constructor(...e){super(...e),i()(this,"handleErrorRetry",()=>{}),i()(this,"renderError",()=>l.a.createElement(wt,{onRetry:()=>this.handleErrorRetry()})),i()(this,"renderLoading",()=>l.a.createElement(Ce.b,null))}shouldComponentUpdate(e){return!e.skipRendering}render(){const e=this.props,t=e.isAttachmentRouteInFullScreenMode,s=e.messageGroup;if(void 0!==t&&t)return null;switch(e.groupState){case _.bd.DOES_NOT_EXIST:case _.bd.LOADING:return this.renderLoading();case _.bd.ERROR:return this.renderError();case _.bd.LOADED:default:{const e=Object(m.j)(s);return l.a.createElement(Pt,n()({},this.props,{key:e?s.messages[0].csid:s.id}))}}}}i()(Ut,"defaultProps",{widthChanged:0});t.a=Object(u.connect)((e,t)=>{const s=Object(D.b)(e),a=s.getAction,n=s.getFeaturesSelectors,r=s.doesMessageGroupIdExist,i=s.getRouteParams,o=s.isMessageGroupRequested,c=s.getDraftMessageId,d=s.getGroupIdContainingMessageId,l=s.doesComposeSessionExist,u=s.isSent,m=s.getWindowDimensions,p=s.isAppVisible,h=s.shouldShowSpamAttachmentWarning,g=s.__patchV2MessageGroupItemId__,E=s.__patchV2MyAddresses__,I=s.getMessageBodyState,S=s.getMessageBodyRetryCount,C=s.getAccountIdFromMessageGroupId,f=t.listId,T=t.hasToolbar,A=void 0===T||T,b={},O={},R=(0,s.getRoute)(),N=i(),M=m(),y=n(),L=y.isEnabled(_.ub.RSVP),v=!!y.getSetting(_.zd.PREVIEW_PANE)&&(R.name===_.gd.FOLDER||R.name===_.gd.LIST||R.name===_.gd.SEARCH),P=N.attachmentId&&"1"===R.query.fullscreen,F=N.attachmentId&&"1"!==R.query.fullscreen,w=Object(kt.T)(f)&&Object(kt.S)(f,{read:!1})&&-1!==[_.gd.MESSAGE_FROM_SEARCH_LIST,_.gd.SEARCH].indexOf(R.name)||Object(kt.F)(f)===_.Od.UNREAD&&-1!==[_.gd.SEARCH,_.gd.FOLDER].indexOf(R.name),k=y.getSetting(_.zd.MARK_AS_READ_INTERVAL);let x=t.openedMessageId||N.groupId;if(t.csid){if(!l(t.csid)||u(t.csid))return{groupId:x,groupState:_.bd.DOES_NOT_EXIST};if(t.csid&&!t.openedMessageId){const e=c(t.csid);e&&(x=d(e))}}else if(!r(x)||o(x))return{groupId:x,groupState:o(x)?_.bd.DOES_NOT_EXIST:_.bd.ERROR,hasAttachmentPreview:F,isAttachmentRouteInFullScreenMode:P,hasToolbar:A,canTakeFocus:v};const U=g(x,f),G=E(),j=C(x,f);U.messages.forEach(e=>{b[e.messageId]=I(e.messageId),O[e.messageId]=S(e.messageId)});const H=y.isEnabled("attachmentPreview"),B=y.isEnabled(_.ub.CONVERSATIONS),V=y.isEnabled(_.ub.EMOJI),W=y.isEnabled(_.ub.GIF),q=y.isEnabled(_.ub.STATIONERY),z=y.isEnabled(_.ub.COUPON_CARD_EXTRACTIONS)&&U.messages[0].decos.some(e=>e&&"CPN"===e.id),K=a().type;return{skipRendering:K===xt.fk||K===xt.Zf,stationery:q,gif:W,emoji:V,attachmentPreview:H,conversations:B,bodyStates:b,retryCounts:O,groupState:_.bd.LOADED,hasToolbar:A,hasCoupon:z,accountIds:[j],myAddresses:G,messageGroup:U,isAppVisible:p(),hasAttachmentPreview:F,isAttachmentRouteInFullScreenMode:P,windowDimensions:M,markAsReadOnUnmount:w,markAsReadInterval:k,canTakeFocus:v,rsvpEnabled:L,shouldShowSpamAttachmentWarning:h}})(Ut)},function(e,t,s){"use strict";s.d(t,"c",function(){return o}),s.d(t,"b",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"d",function(){return u}),s.d(t,"g",function(){return _}),s.d(t,"f",function(){return m});var a=s(4),n=s.n(a),r=s(7),i=s(2);function o({messageId:e,params:t}){return{type:i.xf,messageId:e,params:t,i13nModel:{mKey:r.e.RSVP_LOADED,sec:r.g.RSVP_CARD,actionData:{msgID:e}}}}function c({messageIds:e,inviteInfoGroup:t}){return{type:i.Xf,messageIds:e,inviteInfoGroup:t}}function d({messageIds:e,errors:t}){return{type:i.Wf,messageIds:e,errors:t}}function l(e){return n()({type:i.Bi},e,{i13nModel:{mKey:r.e.RSVP_CALENDAR_RESPONSE,sec:r.g.RSVP_CARD,actionData:{msgID:e.messageId,response:e.response}}})}function u({messageId:e}){return{type:i.Mi,i13nModel:{mKey:r.e.RSVP_NAVIGATE_TO_CALENDAR,sec:r.g.RSVP_CARD,actionData:{msgID:e}}}}function _({uid:e,response:t,messageId:s}){return{type:i.Di,messageId:s,uid:e,response:t}}function m({uid:e,response:t,messageId:s}){return{type:i.Ci,messageId:s,uid:e,response:t}}},function(e,t,s){"use strict";s.d(t,"c",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return c});var a=s(4),n=s.n(a),r=s(2);function i({i13nModel:e}){return{type:r.ab,i13nModel:e}}function o({attachment:e,i13nModel:t}){return{attachment:e,type:r.Z,download:{downloadId:e.id,downloadUrl:e.downloadUrl,filename:e.filename,fileCount:1},i13nModel:t}}const c=e=>n()({type:r.of},e)},function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"d",function(){return r}),s.d(t,"c",function(){return i}),s.d(t,"a",function(){return o});var a=s(0);const n="https://www.hipmunk.com/api/external/v1/autocomplete",r=3e4,i=`${a.xe}/location_autosuggest_api/getLocationAutoSuggestion`,o=858204},function(e,t,s){"use strict";s.d(t,"a",function(){return o}),s.d(t,"b",function(){return c});var a=s(6),n=s(62);const r=Object(a.defineMessages)({comma:{id:"mail_app.comma_with_space",defaultMessage:", "},me:{id:"mail_app.me",defaultMessage:"me"},and:{id:"mail_app.and",defaultMessage:" and "},andNMore:{id:"mobile.message_read.and_n_more",defaultMessage:"& {count} more"}}),i=({sender:{name:e,email:t},myAddresses:s},a)=>{let n;return(n=s[t]?a(r.me):e?e.split(" ")[0]:(t||"").split("@")[0]).length>10+".".length?n.slice(0,10)+".":n},o=({senders:e,myAddresses:t,visibleNum:s=1},a)=>{if(0===e.length)return null;if(1===e.length){const s=e[0];return t[s.email]?a(r.me):s.name||s.email}const o=[],c=Object(n.c)(e),d=Object(n.b)(c),l=c.map(e=>i({sender:e,myAddresses:t},a)),u=(({senders:e,priorityIndices:t,visibleNum:s})=>e.length<=s-1?t:t.slice(0,e[0].recent?s-1:s))({senders:c,priorityIndices:d,visibleNum:s}).sort();let _=0;return u.forEach((e,t)=>{const s=l[e];e>_+1?o.push(" .. "):t>0&&o.push(a(r.comma)),o.push(s),_=e}),o.join("")},c=({senders:e,myAddresses:t},s)=>{if(0===e.length)return"";const a=Object(n.c)(e);let o=a.map(e=>i({sender:e,myAddresses:t},s));if(1===(o=o.filter((e,t,s)=>s.indexOf(e)===t)).length)return a[0].email;const c=o.pop();return o.join(s(r.comma))+s(r.and)+c}},,function(e,t,s){"use strict";e.exports={className:{default:{dialog:"W_3AgV8 I_52qC D_F ek_BB e_eTB ab_C jb_6Eb4",close:"ac_CH M_C04i4",imgContainer:"D_F ab_C U_6Eb4",logo:"H_7jIs W_7jIs e_e5X",subtitleContainer:"D_F ek_BB ab_C",subtitle:"A_6FsP u_e69 U_6UbO",stepContainer:"D_F ab_C",step:"D_F ek_BB ab_C gl_C t_C W_3mT4V",stepTitle:"D_F gl_CI",stepNumber:"ab_C I_Z1YRXYn e_e5X C_52qC D_F H_6Mbr gl_C E_fq7 t_C W_6Mbr",stepText:"A_6Eb4 i_6CAX M_Z1ptmNy W_7HtP H_73cc",inputFieldContainer:"D_F m_2fAfSG jb_eo6 H_6UX5 W_3vqtr",inputField:"q_T H_6NIX A_6MGW jw_n b_n a_3z5BY X_fq7 ir3_n",digits:"H_6UX5 W_6UHk je_eTB X_6DEy A_6EqO C_Z1VRpVF",checkmark:"H_6UX5 W_6UHk je_eTB X_6DEy",policy:"A_6DUj C_Z1VRpVF H_6Urz W_3vqtr je_6Eb4",error:"A_6DUj M_Y4lw4 C_ZnTFMv H_6FIA W_3vqtr",headerText:"W_3nGSs H_6FsP A_6EGz u_e69 jb_fq7 N_3nHoX",test:"W_3vqtr H_7jsH",noError:"v_h A_6DUj M_Y4lw4 H_6FIA W_3vqtr",registrationInfo:"v_h A_6DUj M_Z14OrCK C_Z1VRpVF H_7iGr",errorInfo:"A_6DUj C_Z1VRpVF H_73Xs W_3vqtr",overlayContainer:"W_0",overlay:"W_7jIs H_7jIs h_ZE41ng q_Z1WGv5u O_6uA1 e_e5X"},isPhone:{checkmark:"X_6TFj",digits:"X_6TFj"}},_key:"15mdKH"}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=s(3),c=s.n(o),d=(s(8),s(1)),l=s.n(d),u=s(154),_=s(743),m=s.n(_),p=s(13),h=s.n(p),g=s(90),E=s.n(g),I=s(313),S=(s(9),s(16));class C extends l.a.Component{constructor(...e){super(...e),c()(this,"handleChange",e=>{const t=this.props.onChange;t&&t(e.target.value)}),c()(this,"handleFocus",e=>{const t=this.props.onFocus;t&&t(e.target.value)}),c()(this,"handleBlur",e=>{const t=this.props.onBlur;t&&t(e.target.value)}),c()(this,"handleClear",()=>{const e=this.props.onChange;e&&e("")})}render(){const e=this.props,t=e.hint,s=e.error,a=e.kind,r=e.fujiIconProps,o=e.className,c=i()(e,["hint","error","kind","fujiIconProps","className"]),d=Boolean(t),_=Boolean(s),p=Boolean(r),g=h()(m.a,{kind:a});return l.a.createElement("div",{className:g.inputContainer},l.a.createElement(u.a,n()({},c,{className:E()(g.inputField,o),onFocus:this.handleFocus,onChange:this.handleChange,onClear:this.handleClear,onBlur:this.handleBlur})),p&&l.a.createElement("div",{className:g.inputIcon},l.a.createElement(S.b,r)),d&&!_&&l.a.createElement("div",{className:g.hint},t),_&&l.a.createElement("span",{"data-test-id":"input-error",className:g.error},s))}}c()(C,"defaultProps",{hint:"",error:"",focusOnMount:!1,kind:I.a.DEFAULT,className:""}),t.a=C},function(e,t,s){"use strict";s.d(t,"m",function(){return i}),s.d(t,"j",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return l}),s.d(t,"i",function(){return _}),s.d(t,"c",function(){return m}),s.d(t,"h",function(){return p}),s.d(t,"d",function(){return h}),s.d(t,"g",function(){return g}),s.d(t,"f",function(){return E}),s.d(t,"k",function(){return I}),s.d(t,"l",function(){return S});var a=s(4),n=s.n(a),r=s(6);const i=Object(r.defineMessages)({addADate:{id:"contact_details.addADate",defaultMessage:"Add a date"},addAddress:{id:"contact_details.addAddress",defaultMessage:"Add address"},addEmail:{id:"contact_details.addEmail",defaultMessage:"Add email"},addPhone:{id:"contact_details.addPhone",defaultMessage:"Add phone"},address:{id:"contact_details.address",defaultMessage:"Address"},anniversary:{id:"contact_details.anniversary",defaultMessage:"Anniversary"},birthday:{id:"contact_details.birthday",defaultMessage:"Birthday"},cancelBtn:{id:"contact_details.cancelBtn",defaultMessage:"Cancel"},city:{id:"contact_details.city",defaultMessage:"City"},company:{id:"additional_contact_info.company",defaultMessage:"Employer"},contactDetails:{id:"contact_details.contactDetails",defaultMessage:"Contact details"},country:{id:"contact_details.country",defaultMessage:"Country"},create:{id:"contact_details.create",defaultMessage:"Create"},delete:{id:"contact_details.delete",defaultMessage:"Contact edit delete field"},edit:{id:"contact_details.edit",defaultMessage:"Edit"},email:{id:"contact_details.email",defaultMessage:"Email"},facebook:{id:"contact_details.facebook",defaultMessage:"Facebook"},fax:{id:"contact_details.fax",defaultMessage:"Fax"},home:{id:"contact_details.home",defaultMessage:"Home"},homeAddress:{id:"contact_details.homeAddress",defaultMessage:"Home Address"},homeEmail:{id:"contact_details.homeEmail",defaultMessage:"Home email"},homeFax:{id:"contact_details.homeFax",defaultMessage:"Home Fax"},homePhone:{id:"contact_details.homePhone",defaultMessage:"Home Phone"},linkedin:{id:"contact_details.linkedin",defaultMessage:"LinkedIn"},main:{id:"contact_details.main",defaultMessage:"Main"},mainPhone:{id:"contact_details.mainPhone",defaultMessage:"Main Phone"},maxLengthError:{id:"contact_details.maxLengthError",defaultMessage:"Maximum allowed number of characters is 4095"},mobile:{id:"contact_details.mobile",defaultMessage:"Mobile"},mobilePhone:{id:"contact_details.mobilePhone",defaultMessage:"Mobile Phone"},name:{id:"contact_details.name",defaultMessage:"Name"},nickname:{id:"contact_details.nickname",defaultMessage:"Nickname"},notes:{id:"contact_details.notes",defaultMessage:"Notes"},other:{id:"contact_details.other",defaultMessage:"Other"},otherPhone:{id:"contact_details.otherPhone",defaultMessage:"Other Phone"},pager:{id:"contact_details.pager",defaultMessage:"Pager"},personalDetails:{id:"contact_details.personal_details",defaultMessage:"Personal details"},phone:{id:"contact_details.phone",defaultMessage:"Phone"},position:{id:"contact_details.job_title",defaultMessage:"Job title"},removeEmail:{id:"contact_details.remove_email_btn",defaultMessage:"Remove email"},removePhone:{id:"contact_details.remove_phone_btn",defaultMessage:"Remove phone"},removeAddress:{id:"contact_details.remove_address_btn",defaultMessage:"Remove address"},saveBtn:{id:"contact_details.saveBtn",defaultMessage:"Save"},state:{id:"contact_details.state",defaultMessage:"State or Province"},street:{id:"contact_details.street",defaultMessage:"Street"},twitter:{id:"contact_details.twitter",defaultMessage:"Twitter"},website:{id:"contact_details.website",defaultMessage:"Website"},work:{id:"contact_details.work",defaultMessage:"Work"},workAddress:{id:"contact_details.workAddress",defaultMessage:"Work Address"},workDetails:{id:"contact_details.workDetails",defaultMessage:"Work details"},workEmail:{id:"contact_details.workEmail",defaultMessage:"Work email"},workFax:{id:"contact_details.workFax",defaultMessage:"Work Fax"},workPhone:{id:"contact_details.workPhone",defaultMessage:"Work Phone"},RequiredFieldError:{id:"contact_details.RequiredFieldError",defaultMessage:"Required"},emailIInvalidError:{id:"contact_details.emailIInvalidError",defaultMessage:"Invalid email"},phoneInvalidError:{id:"contact_details.phoneInvalidError",defaultMessage:"Invalid phone number"},invalidDateError:{id:"contact_details.invalidDateError",defaultMessage:"Invalid date"},zipcode:{id:"contact_details.zipcode",defaultMessage:"Postal code"}}),o={HOME:{label:i.home,ariaLabel:i.homePhone},WORK:{label:i.work,ariaLabel:i.workPhone},PHONE:{label:i.phone,ariaLabel:i.phone},MOBILE:{label:i.mobile,ariaLabel:i.mobilePhone},FAX:{label:i.fax,ariaLabel:i.fax},OTHER:{label:i.other,ariaLabel:i.otherPhone},MAIN:{label:i.main,ariaLabel:i.mainPhone},PAGER:{label:i.pager,ariaLabel:i.pager},"WORK FAX":{label:i.workFax,ariaLabel:i.workFax},"HOME FAX":{label:i.homeFax,ariaLabel:i.homeFax}},c={HOME:{label:i.home,ariaLabel:i.homeEmail},WORK:{label:i.work,ariaLabel:i.workEmail},EMAIL:{label:i.email,ariaLabel:i.email}},d={HOME:{label:i.home,ariaLabel:i.homeAddress},WORK:{label:i.work,ariaLabel:i.workAddress},ADDRESS:{label:i.address,ariaLabel:i.address}},l={STREET:"street",CITY:"city",STATE:"state",ZIPCODE:"zipcode",COUNTRY:"country"},u={COMPANY:{label:i.company,attribute:"company"},WEBSITE:{label:i.website,attribute:"website"},BIRTHDAY:{label:i.birthday,attribute:"birthday"},ANNIVERSARY:{label:i.anniversary,attribute:"anniversary"},NOTES:{label:i.notes,attribute:"notes"}},_=[u.COMPANY,u.BIRTHDAY,u.ANNIVERSARY,u.WEBSITE,u.NOTES],m=[u.COMPANY,u.BIRTHDAY,u.ANNIVERSARY,u.NOTES],p=n()({},{FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin"},{POSITION:"position",COMPANY:"company",WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes"}),h=n()({},p,{NAME:"name",NICKNAME:"nickname",EMAIL:"email",PHONE:"phone",ADDRESS:"address"}),g=2,E=1,I=({typesList:e,customType:t,defaultType:s,type:a,formatMessage:n})=>{let r=e[s.toUpperCase()],i=a,o=a;if(a){const s=e[a.toUpperCase()];r=s||t}return r&&(o=n(r.ariaLabel),i=n(r.label)),{ariaLabel:o,label:i}},S=4095},function(e,t){const s=1,a=1024,n=1048576,r=1073741824,i={[s]:"B",[a]:"kB",[n]:"MB",[r]:"GB"};e.exports={toNBits:(e,t)=>e.length>t?e.substr(0,t):e.length<t?new Array(t-e.length+1).join("0")+e:e,binToHex(e){var t,s,a=e.length,n="";for(t=0;t<a;t+=4)s=e.substr(t,4),s=s+=new Array(4-s.length+1).join("0"),n+=parseInt(s,2).toString(16);return n},hexToBin(e){var t,s,a=e.length,n="";for(t=0;t<a;t++)s=parseInt(e[t],16).toString(2),n+=s=new Array(4-s.length+1).join("0")+s;return n},prettyPrintBytes(e,t=0){if("number"!=typeof e||e<=0)return"";const o=[r,n,a,s].find(t=>e>=t),c=Math.pow(10,t);return`${Math.round(e/o*c)/c}${i[o]}`}}},,,,,,,,,,,,function(e,t,s){"use strict";t.a={loadScript:function(e){return new Promise((t,s)=>{const a=document.createElement("script"),n=document.getElementsByTagName("head")[0];a.readyState?a.onreadystatechange=()=>{"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}:(a.onload=()=>t(),a.onerror=()=>s(new Error(`Failed to load script from ${e}`))),a.type="text/javascript",a.setAttribute("data-origin","norrin"),a.setAttribute("data-inserted-time",Date.now()),a.src=e,n.appendChild(a),setTimeout(()=>n.removeChild(a),1e3)})}}},,function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return i});var a=s(9);const n={ENABLED:"enabled",SELECTED:"selected",ADDING:"adding",END_DATE:"endDate",START_DATE:"startDate",MSG_BODY:"messageBody",DOMAIN_ONE:"domainOne",DOMAIN_TWO:"domainTwo",DOMAIN_MSG_BODY:"domainMessageBody",DOMAIN_ENABLED:"domainResponseEnabled"},r=Object(a.c)(["PREVIEW","EDITOR"]),i=Object(a.c)(["SAVE","SWITCH_ON","SWITCH_OFF","DELETE"])},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB p_a Z_0 L_0 R_0 T_0 B_0 cZ1RN91d_GG I_ZnwrMC",rsvpContainer:"P_6Fd5 I_52qC m_Z12nDQf",cardsContainer:"hd_n M_0 X_0",composeCard:"D_F ek_BB gl_C d_3vFsb b_Z14vXdP e_dRA I_52qC",messageCard:"m_Z12nDQf D_F ek_BB ir_0",stack:"I_52qC t_C r_P D_F ab_C P_1EuKY1 H_6TFj p_R ir3_1JO2M7 it3_689y",stackLine:"H_dBP em_N z_Z14vXdP",stackLabel:"em_0 M_1Eu7Y9 C_Z1Xxgu0",scrollView:"iz_A I_52qC em_0 Z_0",empty:"I_52qC W_6D6F t_C A_6FsP P_Z17Hvh7",emptyRetry:"S_U r_P",sponsoredMessageButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC D_X i_6VdP t_C I4_Z29WjXl ir3_1JO2M7 it3_dRA",videoAdThumbnail:"W_6D6F",sponsoredVideoBodyContainer:"P_1e3YGS S_n C_Z281SGl",sponsoredMessageSource:"M_1IaimO A_6EWk u_b",sponsoredMessageDescription:"M_1IaimO A_6EqO"},conseqCompose:{composeCard:"cn_ZvFCRQ"},active:{composeCard:"b_2w4l8N j_ZlOSbd"},isDraftError:{composeCard:"d_3mS2U P_aFwN2"},"themeMode-DARK":{container:"I_T"}},_key:"16NQwX"}},function(e,t,s){"use strict";var a=s(1),n=s.n(a),r=s(8),i=s.n(r),o=s(764),c=s.n(o),d=s(6);const l=Object(d.defineMessages)({breakingNewsbanner:{id:"breaking.news.banner",defaultMessage:"BREAKING NEWS"},latestNewsbanner:{id:"latest.news.banner",defaultMessage:"LATEST NEWS"}}),u=({lastestNews:e,clickUrl:t,onClick:s},{getCss:a,intl:{formatMessage:r}})=>{const i=a(c.a),o=r(e?l.latestNewsbanner:l.breakingNewsbanner);return n.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:t,onClick:s,"aria-label":o,title:o,className:i.bannerContainer,"data-test-id":"breaking-news-banner"},n.a.createElement("div",{className:i.bannerText},o))};u.contextTypes={getCss:i.a.func,intl:d.intlShape.isRequired},u.defaultProps={lastestNews:!1},t.a=u},function(e,t,s){"use strict";s.d(t,"a",function(){return a});const a={REG:"reg"}},function(e,t,s){"use strict";s.d(t,"b",function(){return o}),s.d(t,"a",function(){return c}),s.d(t,"c",function(){return d});var a=s(11),n=s(10),r=s(0),i=s(113);const o=1e3,c=650;function d(e,t,s){const d=Object(a.b)(e),l=d.getCouponsSelectors,u=d.getListsSelectors,_=d.isFeatureEnabled,m=d.getRouteName,p=d.getAdsSelectors,h=d.getAdSectionIds,g=(0,d.getMainContentWidth)(),E=l().getCouponCardStreamItems,I=u(),S=I.doesListExist,C=I.isListExpanded,f=p().getGeminiAdDataInArray,T=_(r.ub.DEALS_VIEW_V2),A=m(),b=f(h()[r.Db.DEALS_SHOPPING_CART]);let O=2;if(g>o?O=3:g<c&&(O=1),s!==r.bd.DOES_NOT_EXIST){const e=t.filter(e=>Object(n.t)(e)===r.Pb.COUPON_CARDS&&S(e)).map(e=>{if(e===Object(n.e)({referrer:r.Rb.TOP_COUPONS})){const s=Object(n.e)({referrer:r.Rb.TOP_COUPONS}),a=E(s),o=b.reduce((e,t,s)=>{const a=4*s;return a<e.length&&e.splice(a,0,t),e},[...a]),c=Object(i.c)(o,g/O,g);return(C(t[0])?c:c.slice(0,3)).map(t=>({listId:e,id:t[0].id||t[0].creativeId,items:t}))}return[...E(e)]});e.forEach(e=>{const t=e.length-1;e[t]&&(e[t].isLastItemInGroup=!0)});let s=0;const a=e[1]&&e[1].length;if(e[0]&&(a||T)&&(e[0].length||T||e[0].unshift({listId:Object(n.W)(t[0],{listContentType:r.Pb.ZERO_SAVED_COUPONS}),id:r.Pb.ZERO_SAVED_COUPONS}),e[0].length||!T)){const a=T&&A!==r.gd.SEARCH?r.Pb.TOP_DEALS_HEADER:r.Pb.COUPON_SEPARATOR;e[0].unshift({listId:Object(n.W)(t[0],{listContentType:a}),id:s++})}return a&&e[1].unshift({listId:Object(n.W)(t[0],{listContentType:r.Pb.COUPON_SEPARATOR}),id:s}),e.reduce((e,t)=>e.concat(t),[])}return[]}},function(e,t,s){"use strict";s.d(t,"f",function(){return i}),s.d(t,"g",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"d",function(){return d}),s.d(t,"c",function(){return l}),s.d(t,"b",function(){return u}),s.d(t,"i",function(){return _}),s.d(t,"h",function(){return m}),s.d(t,"a",function(){return p});var a=s(4),n=s.n(a),r=s(2);const i=()=>({type:r.Kl}),o=()=>({type:r.Ll}),c=({payload:e})=>({type:r.Hl,payload:e}),d=({error:e})=>({type:r.Gl,error:e}),l=e=>n()({type:r.Jl},e),u=e=>n()({type:r.Il},e),_=()=>({type:r.Nl}),m=()=>({type:r.Ml}),p=e=>n()({type:r.Je},e)},function(e,t,s){"use strict";s.d(t,"a",function(){return c}),s.d(t,"c",function(){return d}),s.d(t,"b",function(){return l});var a=s(4),n=s.n(a),r=s(2),i=s(11),o=s(7);const c=e=>(t,s)=>{var a=(0,Object(i.b)(s()).getSearchSuggestions)(e.query);const c={isBeaconEvent:!0,eventName:o.a.SEARCH_SUGGESTION,etrg:"change",outcome:"search_suggestion_dropdown"};return t(n()({type:r.vk},e,{suggestions:a||void 0,i13nModel:c}))},d=e=>n()({type:r.uk},e),l=e=>n()({type:r.tk},e)},function(e,t,s){"use strict";var a=s(0),n=s(84),r=s(9),i=s(21),o=s(22);const c=Object(r.c)(Object(r.g)(a.ic)),d=Object(r.c)(Object(r.g)(a.fd));t.a={getBlockPayload:(e,t)=>{let s;return Object(i.a)(c.hasOwnProperty(t.attributeId),`Unknown mailbox attribute: ${t.attributeId}`),{id:e,uri:s=Object.keys(d).indexOf(t.attributeId)<0?`/ws/v3/mailboxes/@.id==${t.mailboxId}/attributes/@.id==${t.attributeId}`:`/ws/v3/mailboxes/@.id==${t.rootMailboxId}/attributes/@.id==${t.attributeId}`,method:"GET"}},transformResponse:e=>{const t=e.response.result,s=t.id,i=t.value,c={};if(c[s]=Object.keys(a.lc).some(e=>a.ic[e]===s)?{value:i[s],testAndSet:i.testAndSet}:i,s===a.ic.LEGAL_JURISDICTION&&(c[s].value=c[s].tags?c[s].tags:[]),s===a.ic.CONSENT_EVENTS){const e=[];Object.keys(c[s]).forEach(t=>{"optedIn"===Object(r.a)(c[s],`${t}.status`,"")&&e.push(t)}),c[s]={value:e}}return s===a.ic.COMPOSE_FONT_SIZE&&"16"===c[s].value&&(c[s].value=n.b[16]),s===a.ic.COMPOSE_FONT_FAMILY&&"Helvetica Neue"===c[s].value&&(c[s].value=a.jb.FAMILY),s===a.ic.THEME&&"purple"===c[s].value&&(c[s].value=o.i.DEFAULT),s===a.ic.THEME_MODE&&"light"===c[s].value&&(c[s].value=o.h.LIGHT),c}}},function(e,t,s){"use strict";e.exports={className:{default:{accountList:"M_0 P_0 hd_n",listItem:"D_F H_6NIX P_0 ab_C ir3_1JO2M7 it3_dRA p3_R I4_2tvNsT",text:"em_N A_6EWk X_6DEy o_h G_e J_x",activeText:"em_N A_6EWk X_6DEy o_h G_e J_x u_b C_ZamTeg",unreadCount:"en_0 E_fq7",settingGear:"P_Z26qe3x p_R R_fq7 Q_6DEy cdPFi_Zjpyu2 cdPFi4_Z281SGl",statusIcon:"E_fq7",expiredIcon:"E_eDQ",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"},"themeMode-MEDIUM":{text:"C_52qC",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn",activeText:"C_2qemPL"},"themeMode-DARK":{text:"C_52qC",settingGear:"cdPFi_ak5m8 cdPFi4_52qC",listItem:"ir3_Z1FS2Mn",activeText:"C_2qemPL"}},_key:"ZJICsj"}},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(15),i=s(8),o=s.n(i),c=s(1),d=s.n(c),l=s(6),u=s(266),_=s.n(u),m=s(11),p=s(49);function h({onRetry:e,route:t,isOnline:s},a){const n=a.getCss(_.a);return s?d.a.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},d.a.createElement("p",null,d.a.createElement(l.FormattedMessage,{id:"folder_loading_error",defaultMessage:"An error occurred while trying to fetch the items in this list."})),d.a.createElement("a",{"data-test-id":"list-loading-error-retry",className:n.listLoadingRetry,onClick:()=>e({route:t})},d.a.createElement(l.FormattedMessage,{id:"list_loading_error_retry",defaultMessage:"Retry"}))):d.a.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},d.a.createElement("p",null,d.a.createElement(l.FormattedMessage,{id:"list_offline_loading_error",defaultMessage:"You are offline."})))}h.contextTypes={getCss:o.a.func};t.a=Object(r.connect)(e=>{const t=Object(m.b)(e),s=t.isOnline;return{route:(0,t.normalizeRoute)((0,t.getRoute)()),isOnline:s()}},e=>({onRetry:t=>e(Object(p.j)(n()({},t,{retry:!0,forceSync:!0})))}))(h)},function(e,t,s){"use strict";var a=s(8),n=s.n(a),r=s(1),i=s.n(r),o=s(772),c=s.n(o),d=s(19),l=s(16),u=s(5),_=s(6);const m=Object(_.defineMessages)({deleteMsg:{id:"delete_msg",defaultMessage:"Delete this message"}}),p=(e,t)=>{const s=t.getCss(c.a,{isDarkThemeMode:e.isDarkThemeMode}),a=t.intl.formatMessage;return e.isHovered?i.a.createElement(d.a,{"data-test-id":"icon-btn-trash",title:a(m.deleteMsg),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?s.trashIconCompact:s.trashIcon},i.a.createElement("span",{className:s.trashCenter},i.a.createElement(l.b,{kind:u.b.DELETE,size:u.d.XS,colorState:u.a.INHERITED,"aria-label":a(m.deleteMsg)}))):i.a.createElement(d.a,{className:s.trashIconAccessible,onClick:e.onClick},i.a.createElement("span",{className:s.accessible,"aria-label":a(m.deleteMsg)}))};p.defaultProps={isHovered:!1,isCompact:!1},p.contextTypes={intl:_.intlShape,getCss:n.a.func};t.a=i.a.memo(p)},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F D_F",mailReader:"D_F ab_FT em_N ek_BB",listContainer:"D_F H_6D6F ab_FT em_N",toolbar:"en_0",leftPane:"en_0 ej_dAt p_R",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0"},"previewpane-2":{listContainer:"ek_BB",leftPane:"d_3nV5V",deadResizer:"W_6D6F ej_fq7 I_ZpQYvz",resizer:"W_6D6F ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z"},previewpaneInPixels:{leftPane:"s_3s1zo d_3nV5V en_N",rightPane:"s_3AgFn d_3nV5V"}},_key:"2kUKPB"}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(790),l=s.n(d),u=s(267),_=s(7),m=s(18),p=s(17),h=s(6),g=s(0),E=s(10),I=s(171);const S=Object(h.defineMessages)({heading:{id:"travel_header.heading",defaultMessage:"Travel"},upcoming:{id:"travel_header.upcoming",defaultMessage:"Upcoming"},upcoming_selected:{id:"travel_header.upcoming_selected",defaultMessage:"Upcoming, selected"},past:{id:"travel_header.past",defaultMessage:"Past"},past_selected:{id:"travel_header.past_selected",defaultMessage:"Past, selected"},emails:{id:"travel.emails",defaultMessage:"Emails"},emails_selected:{id:"travel.emails_selected",defaultMessage:"Emails, selected"}});class C extends c.a.Component{constructor(...e){super(...e),n()(this,"handleTabChange",(e,{mKeyType:t,smartViewType:s})=>{const a=_.e["FILTER_"+t],n=Object(p.w)(s,{accountIds:Object(E.g)(this.props.listId)});this.context.navigateTo({route:n,i13nModel:{mKey:a,sec:_.g.TRAVEL_LIST,interactionType:Object(m.j)(e)}})})}render(){const e=Object(E.u)(this.props.listId),t=Object(E.t)(this.props.listId),s=this.context.intl.formatMessage,a=this.context.getCss(l.a);return c.a.createElement("div",{className:a.container,"data-test-id":"travel-header"},c.a.createElement("div",{className:a.heading,"data-test-id":"travel-heading"},s(S.heading)),c.a.createElement("div",{className:a.tabs},c.a.createElement(u.a,null,c.a.createElement(I.a,{isSelected:e===g.Qb.TRAVEL_VIEW_UPCOMING,onClick:e=>this.handleTabChange(e,{mKeyType:g.Qb.TRAVEL_VIEW_UPCOMING,smartViewType:g.Kd.TRAVEL}),"data-test-id":"btn-upcoming-tab",title:s(S.upcoming)}),c.a.createElement(I.a,{isSelected:e===g.Qb.TRAVEL_VIEW_PAST,onClick:e=>this.handleTabChange(e,{mKeyType:g.Qb.TRAVEL_VIEW_PAST,smartViewType:g.Kd.TRAVEL_PAST}),"data-test-id":"btn-past-tab",title:s(S.past)}),c.a.createElement(I.a,{isSelected:t===g.Pb.MESSAGES,onClick:e=>this.handleTabChange(e,{mKeyType:g.Pb.MESSAGES,smartViewType:g.Kd.TRAVEL_EMAILS}),"data-test-id":"btn-emails-tab",title:s(S.emails)}))))}}n()(C,"contextTypes",{getCss:i.a.func,intl:h.intlShape.isRequired,navigateTo:i.a.func}),t.a=C},function(e,t,s){"use strict";var a=s(31),n=s.n(a),r=s(4),i=s.n(r),o=s(3),c=s.n(o),d=s(68),l=s.n(d),u=s(8),_=s.n(u),m=s(1),p=s.n(m),h=s(6),g=s(15),E=s(210),I=s(97),S=s(91),C=s(49),f=s(0),T=s(10);const A=[f.Od.DATE_DESC,f.Od.DATE_ASC],b=[f.Od.DATE_DESC,f.Od.DATE_ASC,f.Od.ATTACHMENT,f.Od.RELEVANCE],O=[f.Od.DATE_DESC,f.Od.DATE_ASC,f.Od.UNREAD,f.Od.STARRED,f.Od.SENDER,f.Od.SUBJECT,f.Od.ATTACHMENT],R=[f.Od.DATE_DESC,f.Od.DATE_ASC,f.Od.UNREAD,f.Od.STARRED,f.Od.RECIPIENT,f.Od.SUBJECT,f.Od.ATTACHMENT];var N=s(19),M=s(570),D=s(28),y=s(5),L=s(37),v=s(14),P=s(105),F=s(371),w=s(16),k=s(20),x=s(118),U=s(34),G=s(59),j=s(53),H=s(55),B=s(40),V=s(22);const W=Object(h.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select, true {conversations} false {messages}} to Inbox"},archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected {conversations, select, true {conversations} false {messages}}"}});class q extends p.a.Component{constructor(...e){super(...e),c()(this,"_renderLabel",()=>{return p.a.createElement(h.FormattedMessage,this.props.restore?{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}:{id:"archive_button.archive_label",defaultMessage:"Archive"})})}render(){const e=this.props,t=e.restore,s=e.disabled,a=e.onClick,n=e.showLabel,r=e.isCompact,i=e.size,o=(0,this.context.intl.formatMessage)(t?W.restore_msgs:W.archive_msgs,{conversations:e.conversations}),c=this.context.getThemeMode()===V.h.DARK;return p.a.createElement(k.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${t?"archive-restore":"archive"}`,"aria-label":o,title:o,kind:t?y.b.RESTORE_TO_INBOX:y.b.ARCHIVE,disabled:s,onClick:a,size:i,colorState:y.a.INHERITED,isOnDarkBackground:c,isCompact:r},n&&this._renderLabel())}}c()(q,"contextTypes",{intl:h.intlShape.isRequired,getThemeMode:_.a.func}),c()(q,"defaultProps",{size:y.d.XS,showLabel:!0,onClick:function(){},conversations:!1});var z=q,K=s(488),Z=s(12),Y=s(98),X=s(170),Q=s(761),$=s.n(Q);const J=Object(h.defineMessages)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class ee extends p.a.Component{constructor(...e){super(...e),c()(this,"handleCheckboxClicked",e=>{const t=this.props,s=t.onSelectNone,a=t.onSelectAll,n=t.selectionCount;e.preventDefault(),e.stopPropagation(),n>0?s(e,!0):a(e,!0)})}render(){const e=this.context.getCss($.a),t=this.context.getThemeMode()===V.h.DARK,s=this.context.intl,a=s.formatMessage,n=s.formatNumber,r=this.props,i=r.previewpane,o=r.selectionCount,c=void 0===o?0:o;let d=X.a.NONE;return c>0&&r.allItemsSelected?d=X.a.ALL:c>0&&(d=X.a.PARTIAL),p.a.createElement("div",{className:e.container},p.a.createElement("ul",{className:e.list},p.a.createElement(U.a,{kind:Y.a.MESSAGE_SELECTION_CHECKBOX},p.a.createElement("span",{className:e.checkboxWrapper},p.a.createElement(X.b,{type:d,highContrast:!0,isInverted:t,onClick:this.handleCheckboxClicked,"aria-label":a(c>0?J.deselect_all:J.select_all),isOnDarkBackground:t,"data-iskeynav":!0,paddingLess:!0}))),p.a.createElement(U.a,{kind:Y.a.MESSAGE_SELECTION_CHEVRON},p.a.createElement(H.a,null,p.a.createElement(j.a,null,p.a.createElement("span",{className:e.chevronWrapper},p.a.createElement(k.a,{kind:y.b.CHEVRON_UP,size:y.d.XS,rotate:y.c.D180,title:a(J.select_messages),"aria-label":a(J.select_messages),colorState:y.a.INHERITED,isOnDarkBackground:t,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),p.a.createElement(B.b,{permittedArrowDirections:[v.h.UP,v.h.DOWN],triggerOn:v.i.CLICK,offset:4*Z.GRID_UNIT,align:v.a.START,zAltitude:Z.ZIndices.POPOVER.HIGH,onShow:this.props.onMenuShow},p.a.createElement("div",{className:e.popoverListWrapper},p.a.createElement(G.a,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},p.a.createElement(U.a,{name:"select-all"},p.a.createElement(N.a,{onClick:this.props.onSelectAll,kind:D.a.MENUITEM},p.a.createElement(h.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),p.a.createElement(U.a,{name:"select-none"},p.a.createElement(N.a,{onClick:this.props.onSelectNone,kind:D.a.MENUITEM},p.a.createElement(h.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),p.a.createElement(U.a,{name:"select-read"},p.a.createElement(N.a,{onClick:this.props.onSelectRead,kind:D.a.MENUITEM},p.a.createElement(h.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),p.a.createElement(U.a,{name:"select-unread"},p.a.createElement(N.a,{onClick:this.props.onSelectUnread,kind:D.a.MENUITEM},p.a.createElement(h.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),p.a.createElement(U.a,{name:"select-starred"},p.a.createElement(N.a,{onClick:this.props.onSelectStarred,kind:D.a.MENUITEM},p.a.createElement(h.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),p.a.createElement(U.a,{name:"select-unstarred"},p.a.createElement(N.a,{onClick:this.props.onSelectUnstarred,kind:D.a.MENUITEM},p.a.createElement(h.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),p.a.createElement(U.a,null,p.a.createElement("div",null,i===f.Rc.NO&&c>0?n(c):""))))}}c()(ee,"contextTypes",{intl:h.intlShape.isRequired,getCss:_.a.func,getThemeMode:_.a.func}),c()(ee,"defaultProps",{onMenuShow:()=>{}});var te=ee;const se=Object(h.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"}});class ae extends p.a.Component{constructor(...e){super(...e),c()(this,"_renderLabel",()=>{return p.a.createElement(h.FormattedMessage,this.props.markAsSpam?{id:"spam_icon_label",defaultMessage:"Spam"}:{id:"not_spam_icon_label",defaultMessage:"Not Spam"})})}render(){const e=this.props,t=e.disabled,s=e.markAsSpam,a=e.onClick,n=e.showLabel,r=e.isCompact,i=e.size,o=(0,this.context.intl.formatMessage)(s?se.mark_msgs_as_spam:se.mark_msgs_as_not_spam),c=s?"spam":"not-spam",d=this.context.getThemeMode()===V.h.DARK;return p.a.createElement(k.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${c}`,"aria-label":o,title:o,kind:y.b.SPAM,disabled:t,onClick:a,size:i,colorState:y.a.INHERITED,isOnDarkBackground:d,isCompact:r},n&&this._renderLabel())}}c()(ae,"defaultProps",{size:y.d.XS,showLabel:!0,onClick:function(){}}),c()(ae,"contextTypes",{intl:h.intlShape.isRequired,getThemeMode:_.a.func});var ne=ae,re=s(165),ie=s(7),oe=s(2),ce=s(18),de=s(63),le=s(9),ue=s(17),_e=s(56),me=s(11),pe=s(108),he=s(23),ge=s.n(he),Ee=s(571),Ie=s.n(Ee),Se=s(13),Ce=s.n(Se),fe=s(27),Te=s(54);const Ae=Ce()(Ie.a),be=Object(h.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class Oe extends p.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props.disabled,a=this.context.getThemeMode()===V.h.DARK;return p.a.createElement(H.a,{className:Ae.popoverContainer},p.a.createElement(j.a,null,p.a.createElement(k.a,{"data-iskeynav":!0,"aria-label":e(be.more_menu_label),title:e(be.more_menu_label),"data-test-id":"toolbar-more",disabled:t,kind:y.b.MORE,size:y.d.XS,colorState:y.a.INHERITED,isOnDarkBackground:a})),p.a.createElement(B.b,{triggerOn:v.i.CLICK,permittedArrowDirections:[v.h.UP],zAltitude:Z.ZIndices.POPOVER.HIGH,onShow:this.props.onMenuShow},p.a.createElement("div",{style:{display:"block",minWidth:"200px"}},p.a.createElement(fe.a,ge()({import:"./more_menu_items.jsx"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,866))},_moduleResolver:function(){return 866}}),p.a.createElement(fe.b,{loading:!0},p.a.createElement(Te.b,null))))))}}c()(Oe,"contextTypes",{executeAction:_.a.func,intl:h.intlShape.isRequired,config:_.a.object,getThemeMode:_.a.func}),c()(Oe,"defaultProps",{onMenuShow:()=>{}});var Re=Oe,Ne=s(187),Me=s(60),De=s(67),ye=s(343),Le=s.n(ye),ve=s(489);const Pe=ie.g.MSG_LIST_BULK_ACTION,Fe=ie.g.MSG_READ_TOOLBAR,we="d",ke="e",xe=[...re.d,we,ke,"del","backspace",`shift+${ke}`,`shift+${we}`,"left","right","esc"],Ue=e=>{e.stopPropagation(),e.preventDefault()};class Ge extends p.a.Component{constructor(...e){super(...e),c()(this,"state",{showDeleteConfirm:!1,showMoveConfirm:null,moveMenuActive:!1,moveMenuFilterFocused:!1,sortMenuActive:!1}),c()(this,"getClassNames",()=>{const e=this.props,t=e.showLabels,s=e.showActionLabels,a=e.isHamEnabled,n=e.isSpamEnabled,r=e.isArchiveEnabled,i=e.isRestoreEnabled,o=e.isMoveEnabled,c=e.isDeleteEnabled,d=e.isPermDeleteEnabled,l=e.isPreviousEnabled,u=e.isNextEnabled,_=e.enableGroupActions,m=e.enableTriageActions,p=e.hasPrevNext,h=e.previewpaneInPixels,g=this.isListVerticalPreviewMode(),E=this.isFullMessageViewMode();return this.context.getCss(Le.a,{hamSpamDisabled:!a&&!n&&m,archiveRestoreDisabled:!r&&!i&&m,moveDisabled:!o&&m,deletePermDisabled:!c&&!d&&m,groupActionsActive:_,triageActionsActive:m,showTriageActionsLabels:t&&s,verticalSortView:this.isVerticalSortView(),verticalSelectionControlView:this.isverticalSelectionControlView(),selectionControlDisabled:this.disableSelectionControl(),previousDisabled:!l,nextDisabled:!u,fullMessageView:E,listWithVerticalPreview:g,listWithNonVerticalPreview:!g&&!E,closeWrapperMargin:!p&&E,previewpaneInPixels:g&&h})}),c()(this,"getItemSpaceBasedOnPreviewPaneOffset",()=>{const e=this.props,t=e.previewPaneOffset,s=e.previewpaneInPixels;let a={};return this.isListVerticalPreviewMode()&&(a={flexBasis:t>100&&s?`${t/2}px`:`${t/2}%`}),a}),c()(this,"onPreviousItem",e=>{const t=this.props,s=t.listId,a=t.activeGroupId,n=t.isConversationMode,r=Object(me.b)(this.context.store.getState()),i=r.__patchV2MessageGroupItemId__,o=(0,r.getPreviousListItemId)(s,a);if(!o)return;const c=Object(ue.r)({item:i(o,s),listId:s,isConversationMode:n}),d={mKey:ie.e.OPEN_MSG,sec:ie.g.MSG_HEADER,interactionType:Object(ce.j)(e)};this.context.navigateTo({route:c,streamItem:{listId:s,id:o},i13nModel:d})}),c()(this,"onNextItem",e=>{const t=this.props,s=t.listId,a=t.activeGroupId,n=t.isConversationMode,r=Object(me.b)(this.context.store.getState()),i=r.__patchV2MessageGroupItemId__,o=(0,r.getNextListItemId)(s,a);if(!o)return;const c=Object(ue.r)({item:i(o,s),listId:s,isConversationMode:n}),d={mKey:ie.e.OPEN_MSG,sec:ie.g.MSG_HEADER,interactionType:Object(ce.j)(e)};this.context.navigateTo({route:c,streamItem:{listId:s,id:o},i13nModel:d})}),c()(this,"handleShortcuts",e=>{const t=this.props,s=t.canRestoreToInbox,a=t.isArchiveEnabled,n=t.isRestoreEnabled,r=t.hasPrevNext;let i=!1;switch(String.fromCharCode(e.which).toLowerCase()){case we:i=!0,this.handleMoveMenuShow(e.shiftKey);break;case ke:if(a&&e.shiftKey&&!n){i=!1;break}(a||e.shiftKey&&n&&s)&&(i=!0,this.handleArchive(e));break;case"r":this.enableSingleGroupActions()&&(i=!0,this.handleSingleGroupAction("reply",ie.d.shortcut));break;case"a":this.enableSingleGroupActions()&&(i=!0,this.handleSingleGroupAction("replyAll",ie.d.shortcut));break;case"f":this.enableSingleGroupActions()&&(i=!0,this.handleSingleGroupAction("forward",ie.d.shortcut));break;default:this.context.os===f.Hc.MAC&&e.keyCode===L.b.BACKSPACE||e.keyCode===L.b.DELETE?(i=!0,this.handleDelete(e)):this.props.hasAttachmentPreview||(e.keyCode===L.b.ESCAPE?(i=!0,this.handleClose(e)):e.keyCode===L.b.LEFT&&r&&this.props.isPreviousEnabled?(i=!0,this.onPreviousItem(e)):e.keyCode===L.b.RIGHT&&r&&this.props.isNextEnabled&&(i=!0,this.onNextItem(e)))}i&&Ue(e)}),c()(this,"isListVerticalPreviewMode",()=>this.props.kind===Me.c.LIST_WITH_PREVIEW_RIGHT),c()(this,"isFullMessageViewMode",()=>this.props.kind===Me.c.MESSAGE_VIEW),c()(this,"isVerticalSortView",()=>this.props.kind===Me.c.LIST_WITH_PREVIEW_RIGHT),c()(this,"isverticalSelectionControlView",()=>this.props.kind===Me.c.LIST_WITH_PREVIEW_RIGHT),c()(this,"enableSingleGroupActions",()=>{return Me.b.HAS_SINGLE_GROUP_ACTIONS[this.props.kind]&&this.props.isRafEnabled}),c()(this,"disableSelectionControl",()=>{const e=Object(T.t)(this.props.listId);return e===f.Pb.IMAGES||e===f.Pb.DOCUMENTS}),c()(this,"getActionCreators",()=>this.props.shouldDoSelectAll?Ne.a[this.props.kind]:Ne.b[this.props.kind]),c()(this,"getActionableGroupIds",()=>{const e=this.props,t=e.activeGroupId,s=e.streamId;if(t)return[t];const a=Object(me.b)(this.context.store.getState()),n=a.getSelectedStreamItems;return((0,a.doesStreamExist)(s)?n(s):[]).map(({id:e})=>e)}),c()(this,"isPermDelete",()=>!this.props.isDeleteEnabled&&this.props.isPermDeleteEnabled),c()(this,"isSpam",()=>!!this.props.isSpamEnabled||!this.props.isHamEnabled),c()(this,"isRestore",()=>!this.props.isArchiveEnabled&&this.props.isRestoreEnabled),c()(this,"onToolbarMenuShow",e=>{const t={MoveMenu:{mKey:ie.e.TOOLBAR_MOVE_MENU,sec:Pe},MoreMenu:{mKey:ie.e.TOOLBAR_MORE_MENU,sec:Pe},SelectionMenu:{mKey:ie.e.TOOLBAR_BULK_CONTEXT_MENU,sec:Pe},SortMenu:{mKey:ie.e.TOOLBAR_SORT_MENU,sec:ie.g.MSG_LIST_SORT}};if("SortMenu"===e&&this.setState({sortMenuActive:!0}),!t[e])return;const s=t[e],a=s.mKey,n=s.sec;this.context.executeAction(this.getActionCreators().toolbarMenuShown,{i13nModel:{mKey:a,sec:n}})}),c()(this,"onSortMenuClose",()=>{this.setState({sortMenuActive:!1})}),c()(this,"handleSelection",(e,t,s)=>{const a={[`${f.xd.ALL}-checkbox`]:ie.e.TOOLBAR_SELECTALL_MSG,[`${f.xd.NONE}-checkbox`]:ie.e.TOOLBAR_SELECT_NONE,[f.xd.ALL]:ie.e.TOOLBAR_BULK_CONTEXT_ALL,[f.xd.NONE]:ie.e.TOOLBAR_BULK_CONTEXT_NONE,[f.xd.READ]:ie.e.TOOLBAR_BULK_CONTEXT_READ,[f.xd.UNREAD]:ie.e.TOOLBAR_BULK_CONTEXT_UNREAD,[f.xd.STARRED]:ie.e.TOOLBAR_BULK_CONTEXT_STARRED,[f.xd.UNSTARRED]:ie.e.TOOLBAR_BULK_CONTEXT_UNSTARRED},n=s?`${e}-checkbox`:`${e}`,r=this.getActionCreators(),i=this.props,o=i.listId,c=i.route,d=i.streamId,l=(0,Object(me.b)(this.context.store.getState()).getMainStreamItems)(c);this.context.executeAction(r[e],{listId:o,i13nModel:{mKey:a[n],sec:Pe,interactionType:Object(ce.j)(t)},streamId:d,streamItems:l,selectionType:e})}),c()(this,"handleSingleGroupAction",(e,t=ie.d.click)=>{const s=this.props,a=s.listId,n=s.activeGroupId;if(n){const s={mKey:ie.e[`TOOLBAR_${e.toUpperCase()}`],sec:Fe,mKeyGroup:ie.f[e],interactionType:t};this.context.executeAction(this.getActionCreators()[e],{listId:a,messageGroupId:n,i13nModel:s})}}),c()(this,"handleArchive",e=>{e.preventDefault(),this.props.navigateOnMessageAction();const t=this.getActionCreators(),s=this.getActionableGroupIds(),a={mKey:this.isRestore()?ie.e.TOOLBAR_RESTORE:ie.e.TOOLBAR_ARCHIVE,sec:Pe,mKeyGroup:ie.f.archive,interactionType:Object(ce.j)(e)},n=this.props.conversations;let r;if(r=this.isRestore()?{confirmTitle:De.a.confirm_restore_title,confirmMessages:De.a.confirm_restore_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm}:{confirmTitle:De.a.confirm_archive_title,confirmMessages:De.a.confirm_archive_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm},!this.props.shouldDoSelectAll||this.state.confirmTitle){if(s.length){const e=this.props,r=e.listId,o=e.allItemsCount,c=e.streamId,d=1===s.length?{id:s[0],listId:r}:void 0;this.context.executeAction(this.isRestore()?t.restore:t.archive,i()({listId:r,streamId:c,streamItem:d,messageGroupIds:s},o&&{allItemsCount:o},{conversations:n,i13nModel:a}))}this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1}),this.hideConfirm()}else this.setState(r)}),c()(this,"handleMove",(e,t)=>{t.preventDefault(),this.props.navigateOnMessageAction();const s=this.props,a=s.listId,n=s.allItemsCount,r=s.conversations,o=s.streamId;if(this.props.shouldDoSelectAll&&!this.state.showMoveConfirm)return void this.setState({showMoveConfirm:e});const c=this.getActionableGroupIds(),d=1===c.length?{id:c[0],listId:a}:void 0;this.context.executeAction(this.getActionCreators().move,i()({destinationFolderId:e,listId:a,messageGroupIds:c},n&&{allItemsCount:n},{conversations:r,streamId:o,streamItem:d,i13nModel:{mKey:ie.e.TOOLBAR_MOVE,sec:Pe,mKeyGroup:ie.f.move,interactionType:Object(ce.j)(t)}})),this.hideMoveConfirm()}),c()(this,"hideMoveConfirm",()=>{this.setState({showMoveConfirm:null})}),c()(this,"handleSpam",e=>{e.preventDefault();const t=this.getActionCreators(),s=this.props,a=s.listId,n=s.allItemsCount,r=s.conversations,o=s.streamId;let c;if(c=this.isSpam()?{confirmTitle:De.a.confirm_spam_title,confirmMessages:De.a.confirm_spam_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm}:{confirmTitle:De.a.confirm_ham_title,confirmMessages:De.a.confirm_ham_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm},this.props.shouldDoSelectAll&&!this.state.confirmTitle)return void this.setState(c);const d=this.getActionableGroupIds(),l=1===d.length?{id:d[0],listId:a}:void 0;this.props.navigateOnMessageAction(),this.context.executeAction(this.isSpam()?t.markAsSpam:t.markAsNotSpam,i()({listId:a,streamId:o,streamItem:l,messageGroupIds:d},n&&{allItemsCount:n},{conversations:r,i13nModel:{mKey:this.isSpam()?ie.e.TOOLBAR_SPAM:ie.e.TOOLBAR_NOT_SPAM,sec:Pe,mKeyGroup:this.isSpam()?ie.f.mark_spam:null,interactionType:Object(ce.j)(e)}})),this.hideConfirm()}),c()(this,"hideConfirm",()=>{this.setState({confirmTitle:!1})}),c()(this,"handleDelete",e=>{e.preventDefault();const t=this.props,s=t.listId,a=t.navigateOnMessageAction,n=t.allItemsCount,r=t.conversations,o=t.streamId,c=t.isBulkAction,d=this.getActionableGroupIds();if((this.isPermDelete()||c)&&!this.state.showDeleteConfirm)return void this.setState({showDeleteConfirm:!0});const l={mKey:ie.e.TOOLBAR_DELETE,sec:Pe,mKeyGroup:ie.f.delete,interactionType:Object(ce.j)(e)};a();const u=this.context.intl.formatMessage,_=1===d.length?{id:d[0],listId:s}:void 0;this.context.executeAction(this.getActionCreators().delete,i()({listId:s,streamId:o,streamItem:_,messageGroupIds:d,permanent:this.isPermDelete()},n&&{allItemsCount:n},{conversations:r,i13nModel:l,formatMessage:u})),this.hideDeleteConfirm()}),c()(this,"hideDeleteConfirm",()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1}),this.context.executeAction(pe.a))}),c()(this,"handleSort",(e,t)=>{const s={[f.Od.DATE_DESC]:ie.e.TOOLBAR_SORT_NEW,[f.Od.DATE_ASC]:ie.e.TOOLBAR_SORT_OLD,[f.Od.UNREAD]:ie.e.TOOLBAR_SORT_UNREAD,[f.Od.STARRED]:ie.e.TOOLBAR_SORT_STARRED,[f.Od.SENDER]:ie.e.TOOLBAR_SORT_SENDER,[f.Od.SUBJECT]:ie.e.TOOLBAR_SORT_SUBJECT,[f.Od.ATTACHMENT]:ie.e.TOOLBAR_SORT_ATTACHMENT,[f.Od.RELEVANCE]:ie.e.TOOLBAR_SORT_RELEVANCE},a=this.props,n=a.listId,r=a.route;this.context.navigateTo({route:r.name===f.gd.SEARCH||Object(T.N)(r)?Object(ue.t)(n,{sortOrder:t}):Object(ue.m)(n,{sortOrder:t}),i13nModel:{mKey:s[t],sec:ie.g.MSG_LIST_SORT,interactionType:Object(ce.j)(e)}})}),c()(this,"handleFilterChange",(e,t)=>{const s=Object(T.t)(this.props.listId),a={[f.Pb.MESSAGES]:"msg",[f.Pb.DOCUMENTS]:"docs",[f.Pb.IMAGES]:"photo"},n=ie.e["FILTER_"+t],r=n?{mKey:n,sec:ie.g.MSG_LIST_BULK_ACTION,interactionType:Object(ce.j)(e),actionData:{cntxt:a[s]||a[f.Pb.MESSAGES]}}:null;this.context.navigateTo({route:{name:f.gd.SEARCH,params:{query:Object(T.Y)(Object(T.W)(this.props.listId,{listFilter:t}))}},i13nModel:r})}),c()(this,"handleClose",e=>{const t=this.props,s=t.listId,a=t.streamId,n=t.kind,r=t.route,i={mKey:ie.e.TOOLBAR_CLOSE_MSG,sec:Fe,interactionType:Object(ce.j)(e)};if(e.key===f.Lb.ESCAPE){if(r.name===f.gd.FOLDER)return;this.props.onClose({listId:s,i13nModel:i})}else n===Me.c.LIST_WITH_PREVIEW_RIGHT||n===Me.c.LIST_WITH_PREVIEW_BOTTOM?this.props.closePreviewMessage({streamId:a,listId:s,i13nModel:i}):this.props.onClose({listId:s,i13nModel:i})}),c()(this,"handleNext",e=>{const t=this.props;this.props.loadMoreItems({listId:t.listId,currentGroupId:t.activeGroupId,allItemsSelected:t.allItemsSelected}),this.onNextItem(e)}),c()(this,"handleMoveMenuToggle",e=>{e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}),c()(this,"handleMoveMenuShow",e=>{const t=this.props.enableTriageActions,s={moveMenuActive:t};e&&(s.moveMenuFilterFocused=t),this.setState(s),this.onToolbarMenuShow("MoveMenu")}),c()(this,"handleMoveMenuHide",()=>{this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}),c()(this,"handleExpandContractClick",e=>{e.stopPropagation(),this.props.onChangeAllMessageCardExpansion({listId:this.props.listId,streamId:this.props.streamId,messageGroupId:this.props.activeGroupId,expansionState:this.props.isCollapseAllEnabled?f.D.COLLAPSED:f.D.EXPANDED})}),c()(this,"handleBackToList",e=>{const t=this.props,s=t.listId;t.showContextualModal&&(0,t.openLinkModal)(t.quotientRetailerId),this.context.navigateTo({route:Object(ue.o)(s),i13nModel:{mKey:ie.e.TOOLBAR_BACK_TO_LIST,sec:ie.g.MSG_READ_TOOLBAR,interactionType:Object(ce.j)(e)}})}),c()(this,"renderExpandMessages",e=>{const t=this.props,s=t.isCollapseAllEnabled,a=t.isExpandAllEnabled,n=this.context.intl.formatMessage,r=this.context.getThemeMode()===V.h.DARK;return s||a?p.a.createElement("div",{className:e.expandCollapse},p.a.createElement(k.a,{title:n(De.a[s?"collapse_list":"expand_list"]),"aria-label":n(De.a[s?"list_is_expanded":"list_is_collapsed"]),kind:s?y.b.COLLAPSE_LIST:y.b.EXPAND_LIST,size:y.d.XS,paddingLess:!1,colorState:y.a.INHERITED,onClick:this.handleExpandContractClick,"data-iskeynav":!0,isOnDarkBackground:r})):null}),c()(this,"renderSelectionControls",e=>{const t=Object(T.t)(this.props.listId),s=this.props,a=s.listId,n=s.allItemsSelected,r=s.previewpane,i=s.selectionCount;if(Object(T.H)(a))switch(t){case f.Pb.IMAGES:case f.Pb.DOCUMENTS:return null}return p.a.createElement("div",{className:e.selectionControlsWrapper},p.a.createElement(te,{onMenuShow:this.onToolbarMenuShow.bind(null,"SelectionMenu"),onSelectAll:(e,t)=>this.handleSelection(f.xd.ALL,e,t),onSelectNone:(e,t)=>this.handleSelection(f.xd.NONE,e,t),onSelectRead:e=>this.handleSelection(f.xd.READ,e),onSelectUnread:e=>this.handleSelection(f.xd.UNREAD,e),onSelectStarred:e=>this.handleSelection(f.xd.STARRED,e),onSelectUnstarred:e=>this.handleSelection(f.xd.UNSTARRED,e),selectionCount:i,allItemsSelected:n,previewpane:r}))}),c()(this,"renderArchive",e=>{if(this.isRestore()&&!this.props.canRestoreToInbox)return null;const t=this.props,s=t.showLabels,a=t.showActionLabels;return p.a.createElement(U.a,null,p.a.createElement("div",{className:e.archiveRestore},p.a.createElement(z,{conversations:t.conversations,disabled:!this.props.enableTriageActions||!(t.isRestoreEnabled||t.isArchiveEnabled),onClick:this.handleArchive,restore:this.isRestore(),showLabel:s&&a})))}),c()(this,"renderMoveMenu",e=>{const t=this.context.intl.formatMessage,s=this.props,a=s.showLabels,n=s.showActionLabels,r=s.disabledMoveTitle,i=s.conversations,o=s.listId,c=!this.props.enableTriageActions||!s.isMoveEnabled,d=c&&r?t(r):t(De.a.move_msgs,{conversations:i});return p.a.createElement(U.a,{name:"move-menu-item",title:d},p.a.createElement("div",{className:e.move},p.a.createElement(F.a,{"data-iskeynav":!0,title:d,showLabel:a&&n,tabIndex:-1,disabled:c,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,onClick:this.handleMove,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle,hasShortcuts:!this.state.moveMenuFilterFocused,primaryShortcutKey:we,archiveShortcutKey:ke,listId:o})))}),c()(this,"renderDelete",e=>{const t=this.props,s=t.showLabels,a=t.showActionLabels,n=t.enableTriageActions,r=t.conversations,i=t.isPermDeleteEnabled||t.isDeleteEnabled;return p.a.createElement(U.a,{name:this.isPermDelete()?"perm-delete":"delete"},p.a.createElement("div",{className:e.deletePerm},p.a.createElement(K.a,{disabled:!n||!i,onClick:this.handleDelete,permanent:this.isPermDelete(),showLabel:s&&a,conversations:r})))}),c()(this,"renderSpam",e=>{const t=this.props,s=t.showLabels,a=t.showActionLabels,n=t.enableTriageActions,r=t.isSpamEnabled||t.isHamEnabled;return p.a.createElement(U.a,{name:this.isSpam()?"not-spam":"spam"},p.a.createElement("div",{className:e.hamSpam},p.a.createElement(ne,{disabled:!n||!r,markAsSpam:this.isSpam(),onClick:this.handleSpam,showLabel:s&&a})))}),c()(this,"renderMoreMenu",e=>{const t=this.props,s=t.listId,a=t.streamId;return p.a.createElement(U.a,{name:"more-menu-item"},p.a.createElement("div",{className:e.more},p.a.createElement(Re,{"data-iskeynav":!0,disabled:!t.enableTriageActions,activeGroupId:t.activeGroupId,onMenuShow:this.onToolbarMenuShow.bind(null,"MoreMenu"),listId:s,streamId:a})))}),c()(this,"renderSortMenu",()=>{const e=this.context.getThemeMode()===V.h.DARK,t=this.context.intl.formatMessage,s=this.props,a=s.currentSortOrder,n=s.showLabels,r=function(e,t,s,a){const n=a?Object(T.t)(a):f.Pb.MESSAGES;switch(e.name){case f.gd.SEARCH:return n===f.Pb.IMAGES||n===f.Pb.DOCUMENTS?A:b;default:return t===f.Cb.DRAFT?[f.Od.DATE_DESC,f.Od.DATE_ASC,f.Od.STARRED,f.Od.SUBJECT]:Object(T.N)(e)?[f.Od.DATE_DESC,f.Od.DATE_ASC,f.Od.ATTACHMENT]:s?[f.Od.DATE_DESC,f.Od.DATE_ASC,f.Od.UNREAD,f.Od.STARRED]:t===f.Cb.SENT?R:O}}(s.route,s.folderType,s.conversations,s.listId),i=n?t(De.a.sort_menu):null,o=this.getClassNames(),c=this.getItemSpaceBasedOnPreviewPaneOffset(),d=r.map(e=>p.a.createElement(U.a,{key:e,name:"sort-by-"+e},p.a.createElement(N.a,{"data-test-id":"sort-by-"+e,kind:D.a.MENUITEM,onClick:t=>this.handleSort(t,e),style:{position:"relative"}},e===a?p.a.createElement("span",{className:o.sortByMenuItemIcon},p.a.createElement(w.b,{kind:y.b.CHECKMARK,size:y.d.XXS,colorState:y.a.NORMAL})):null,p.a.createElement("span",{className:o.sortByMenuItemLabel},t(De.a["sort_by_"+e])))));return p.a.createElement("div",{style:c,className:o.viewMenu},p.a.createElement("div",{className:o.sortMenuContainer},p.a.createElement(H.a,null,p.a.createElement(j.a,null,p.a.createElement(N.a,{"data-test-id":"toolbar-sort-menu-button",kind:D.a.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,isOnDarkBackground:e,ref:e=>{this.sortMenuRef=e}},p.a.createElement("span",{className:o.sortByMenu},i,p.a.createElement(w.b,{kind:y.b.CHEVRON_UP,size:y.d.XS,rotate:y.c.D180,colorState:y.a.INHERITED})))),p.a.createElement(B.b,{triggerOn:v.i.CLICK,permittedArrowDirections:[v.h.UP],offset:4*Z.GRID_UNIT,align:v.a.END,zAltitude:Z.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover",onShow:this.onToolbarMenuShow.bind(null,"SortMenu"),onHide:this.onSortMenuClose},p.a.createElement("div",{className:o.popoverListWrapper},p.a.createElement(G.a,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},d))))))}),c()(this,"renderListFilter",()=>{const e=this.context.intl.formatMessage,t=Object(T.u)(this.props.listId).toLowerCase(),s=this.getClassNames(),a=p.a.createElement(U.a,{key:t,name:"list-filter-"+t},p.a.createElement(N.a,{"data-test-id":"list-filter-from",kind:D.a.MENUITEM,onClick:e=>this.handleFilterChange(e,f.Qb.FROM)},e(De.a.list_filter_from)),p.a.createElement(N.a,{"data-test-id":"list-filter-to",kind:D.a.MENUITEM,onClick:e=>this.handleFilterChange(e,f.Qb.TO)},e(De.a.list_filter_to)),p.a.createElement(N.a,{"data-test-id":"list-filter-all",kind:D.a.MENUITEM,onClick:e=>this.handleFilterChange(e,f.Qb.ALL)},e(De.a.list_filter_all)));return p.a.createElement("div",{className:s.listFilterViewMenu},p.a.createElement(H.a,null,p.a.createElement(j.a,null,p.a.createElement(N.a,{"data-test-id":"toolbar-list-filter-button",kind:D.a.CHROMELESS,tabIndex:-1,"data-iskeynav":!0},p.a.createElement("span",{className:s.listFilterMenu},e(De.a["list_filter_"+t]),p.a.createElement(w.b,{kind:y.b.CHEVRON_UP,size:y.d.XS,rotate:y.c.D180,colorState:y.a.INHERITED})))),p.a.createElement(B.b,{triggerOn:v.i.CLICK,offset:5*Z.GRID_UNIT,align:v.a.CENTER,zAltitude:Z.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},p.a.createElement("div",{className:s.popoverListWrapper},p.a.createElement(G.a,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},a)))))}),c()(this,"renderListHeading",()=>{const e=Object(T.t)(this.props.listId),t=this.context.intl.formatMessage,s=this.getClassNames();switch(e){case f.Pb.IMAGES:return p.a.createElement("span",{className:s.listHeading},t(De.a.photos_from_email));case f.Pb.DOCUMENTS:return p.a.createElement("span",{className:s.listHeading},t(De.a.documents))}}),c()(this,"renderTriageActions",()=>{const e=this.getClassNames();return p.a.createElement("ul",{className:e.triageActionList},this.renderArchive(e),this.renderMoveMenu(e),this.renderDelete(e),this.renderSpam(e),this.renderMoreMenu(e))}),c()(this,"renderDeleteConfirm",()=>{if(this.state.showDeleteConfirm){const e=this.props,t=e.allItemsSelected,s=e.allItemsCount,a=e.selectAll,n=e.conversations,r=this.context.intl.formatMessage,i=this.getActionableGroupIds(),o={conversations:n,count:a&&t&&s>0?s:i.length};return p.a.createElement(P.a,{title:r(De.a.confirm_delete_title),message:r(this.props.isPermDeleteEnabled?De.a.confirm_permanently_delete_messages:De.a.confirm_delete_messages,o),onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirm})}return null}),c()(this,"renderMoveConfirm",e=>{if(this.state.showMoveConfirm){const t=this.props,s=t.allItemsSelected,a=t.allItemsCount,n=t.conversations,r=t.selectAll,i=this.context.intl.formatMessage,o=this.getActionableGroupIds(),c={conversations:n,count:r&&s&&a>0?a:o.length};return p.a.createElement(P.a,{title:i(De.a.confirm_move_title),message:i(De.a.confirm_move_messages,c),onConfirm:t=>this.handleMove(e,t),onAbort:this.hideMoveConfirm})}return null}),c()(this,"renderConfirm",(e,t,s,a)=>{const n=this.props,r=n.allItemsSelected,i=n.allItemsCount,o=n.conversations,c=n.selectAll,d=this.context.intl.formatMessage,l=this.getActionableGroupIds(),u={conversations:o,count:c&&r&&i>0?i:l.length};return p.a.createElement(P.a,{title:d(e),message:d(t,u),onConfirm:s,onAbort:a})}),c()(this,"renderSingleGroupActions",()=>{const e=this.context.intl.formatMessage,t=this.getClassNames(),s=[{kind:y.b.REPLY,action:"reply",stringKey:"message_reply"},{kind:y.b.REPLY_ALL,action:"replyAll",stringKey:"message_reply_all"},{kind:y.b.FORWARD,action:"forward",stringKey:"message_forward"}],a=this.context.getThemeMode()===V.h.DARK,n=s.map(({kind:s,action:n,stringKey:r})=>{const i=e(De.a[r]);return p.a.createElement(U.a,{name:s,key:s,className:t.singleGroupItem+" "+t.rtlRawScaleX},p.a.createElement(k.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${s}`,"aria-label":i,title:i,kind:s,size:y.d.XS,disabled:!this.props.enableGroupActions,onClick:e=>this.handleSingleGroupAction(n,Object(ce.j)(e)),colorState:y.a.INHERITED,isOnDarkBackground:a}))});return p.a.createElement("div",{className:t.singleGroupActions},p.a.createElement("ul",{key:"group-actions",className:t.singleGroupActionList},n))}),c()(this,"renderPreviousNext",e=>{const t=this.context.intl.formatMessage,s={conversations:this.props.conversations},a=!this.props.isPreviousEnabled,n=!this.props.isNextEnabled;return p.a.createElement("div",{className:e.nextPrevContainer},p.a.createElement("span",{className:a?e.nextPrevDisabled:e.nextPrev},p.a.createElement(k.a,{"data-iskeynav":!0,"data-test-id":"toolbar-previous",kind:y.b.INPUT_ARROW_DOWN,rotate:y.c.D180,paddingLess:!0,disabled:a,size:y.d.S,onClick:this.onPreviousItem,title:t(De.a.previous,s),"aria-label":t(De.a.previous,s),colorState:y.a.INHERITED})),p.a.createElement("span",{className:n?e.nextPrevDisabled:e.nextPrev},p.a.createElement(k.a,{"data-iskeynav":!0,"data-test-id":"toolbar-next",kind:y.b.INPUT_ARROW_DOWN,paddingLess:!0,disabled:n,size:y.d.S,onClick:this.handleNext,title:t(De.a.next,s),"aria-label":t(De.a.next,s),colorState:y.a.INHERITED})))}),c()(this,"renderCheckboxAndFilters",()=>{const e=this.props,t=e.kind,s=e.showListFilter,a=this.getClassNames(),n=this.getItemSpaceBasedOnPreviewPaneOffset();if(Me.b.HAS_GROUP_SELECTION[t]||s)return p.a.createElement("div",{style:n,className:a.cboxWrapper},Me.b.HAS_GROUP_SELECTION[t]&&this.renderSelectionControls(a),s&&this.renderListFilter())}),c()(this,"renderUsabiltyOptions",()=>{const e=this.getClassNames(),t=this.context.intl.formatMessage,s=this.props,a=s.kind,n=s.hasAttachmentPreview,r=s.hasPrevNext,i=this.context.getThemeMode()===V.h.DARK;if(Me.b.HAS_EXPAND_COLLAPSE[a]||Me.b.HAS_PREVIOUS_NEXT[a]||Me.b.HAS_CLOSE[a]&&!n)return p.a.createElement("div",{className:e.usabiltyOptions},Me.b.HAS_EXPAND_COLLAPSE[a]&&this.renderExpandMessages(e),r&&this.renderPreviousNext(e),Me.b.HAS_CLOSE[a]&&!n?p.a.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper},p.a.createElement(k.a,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!this.props.enableGroupActions,kind:y.b.CLOSE,size:y.d.XS,onClick:this.handleClose,title:t(De.a.close),"aria-label":t(De.a.close),colorState:y.a.INHERITED,isOnDarkBackground:i})):null)}),c()(this,"renderSearchRelevanceCue",()=>this.sortMenuRef?p.a.createElement(B.b,{"date-test-id":"search-relevance-cue",popoverAnchor:this.sortMenuRef,isRTL:this.props.isRTL,align:v.a.END,triggerOn:v.i.MOUNT,permittedArrowDirections:[v.h.UP],zAltitude:Z.ZIndices.POPOVER.HIGH,bg:v.d.GRADIENT,borderRadius:v.e.MEDIUM,ref:e=>{this.searchRelevanceCuePopoverContent=e}},p.a.createElement(fe.a,{import:"../search_relevance_cue/index.jsx",close:this.state.sortMenuActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1196))},_moduleResolver:function(){return 1196}})):null)}shouldComponentUpdate(e){return!e.skipRendering}componentDidMount(){this.context.bindShortcut(xe,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(xe)}render(){const e=this.getClassNames(),t=this.props,s=t.kind,a=t.showSearchRelevanceCue,n=this.state,r=n.confirmTitle,i=n.confirmMessages,o=n.handleConfirm,c=n.hideConfirm;return p.a.createElement(x.a,{axis:x.b.HORIZONTAL,circularNavigation:!1,className:e.container,"data-test-id":"message-toolbar",groupTabIndex:Z.TabIndices.MESSAGE_LIST_TOOLBAR,role:"toolbar"},this.renderCheckboxAndFilters(),this.props.showBackToList?p.a.createElement(M.a,{onClick:this.handleBackToList}):null,this.enableSingleGroupActions()&&this.renderSingleGroupActions(),p.a.createElement("div",{className:e.mainActionControls},this.props.showTriageActions?this.renderTriageActions():null,this.props.showListHeading?this.renderListHeading():null),this.renderUsabiltyOptions(),Me.b.HAS_SORT[s]&&this.renderSortMenu(),a&&this.renderSearchRelevanceCue(),p.a.createElement("hr",{className:e.bottomLine}),this.renderDeleteConfirm(),this.renderMoveConfirm(this.state.showMoveConfirm),r?this.renderConfirm(r,i,o,c):null)}}c()(Ge,"contextTypes",{navigateTo:_.a.func.isRequired,executeAction:_.a.func.isRequired,intl:h.intlShape.isRequired,config:_.a.object.isRequired,getCss:_.a.func,getThemeMode:_.a.func,bindShortcut:_.a.func,unbindShortcut:_.a.func,store:_.a.object.isRequired,os:_.a.oneOf(Object(le.g)(f.Hc))}),c()(Ge,"defaultProps",{currentSortOrder:f.Od.DATE_DESC,showLabels:!0,showActionLabels:!0,hasAttachmentPreview:!1,navigateOnMessageAction:()=>{},selectAll:!1,previewpaneInPixels:!1});t.a=Object(g.connect)((e,t)=>{const s=t.activeGroupId,a=void 0===s?"":s,r=t.kind,i=t.listId,o=t.showLabels,c=t.showActionLabels,d=t.hasAttachmentPreview,u=t.navigateOnMessageAction,_=Object(me.b)(e),m=_.getAction,p=_.getFeaturesSelectors,h=_.getRoute,g=_.__patchV2MessageGroupItemId__,E=_.doesFolderIdExist,I=_.getPrimaryFolderTypeByFolderId,S=_.getFolderIdsByName,C=_.getAllItemsCountForListId,A=_.doesListExist,b=_.getListItemIds,O=_.doesMessageGroupIdExist,R=_.getListItemIdIndex,N=_.isAllCardsExpanded,M=_.getMainStreamListIds,D=_.getMessagesSelectors,y=_.getMessageIdsFromMessageGroupId,L=_.isMessageRoute,v=_.isFeatureEnabled,P=_.getRetailersSelectors,F=_.getSelectedAccountId,w=_.getAccountIdsOfSelectedItems,k=h(),x=Object(T.o)(i),U=C(i),G=Object(T.t)(i),j=Object(T.H)(i),H=k.name===f.gd.SEARCH,B=p(),V=v(f.ub.CONVERSATIONS),W=v(f.ub.SEARCH_RELEVANCE_CUE)&&H&&!Object(T.O)(i);let q,z;if(a&&O(a)&&(z=g(a,i)),x)E(x)&&(q=I(x));else if(z){const e=Object(de.f)(z);q=I(e.folder.id)}if(H){const e=Object(T.p)(i),t=e.folderNames;let s=e.folderIds,a=[];t.length&&(s=l()(t.reduce((e,t)=>e.concat(S(t)),s))),s.length&&(a=s.map(e=>I(e))),1===a.length&&a[0]===f.Cb.ARCHIVE&&(q=a[0])}const K=Object(_e.a)(M(h())),Z=Object(me.b)(e),Y=Z.getSelectedStreamItems,X=((0,Z.doesStreamExist)(K)?Y(K):[]).map(({id:e})=>e),Q=A(i)?b(i):[],$=R(i,a),J=F(),ee=r===Me.c.MESSAGE_VIEW,te=Q.length>0&&Q.length===X.length,se=H&&!!Object(T.m)(i),ae=!(H&&j&&(G===f.Pb.IMAGES||G===f.Pb.DOCUMENTS)),ne=Object(ve.a)({kind:r,activeGroup:z,allCardsExpanded:z?N(i,z.id):null,primaryFolderType:q,listContentType:G}),re=w(K,i),ie=ne.move&&re.length>1?De.a.disable_move_msgs_across_accunts:De.a.disable_move_msgs_default;if(ne.move=ne.move&&re.length<=1,1===re.length&&(ne.move=ne.move&&re[0]===J),r===Me.c.MESSAGE_VIEW){const e=Q.length;ne.previous=!!e&&$>0,ne.next=!!e&&$<e-1}const ce=B.getSetting(f.zd.PREVIEW_PANE),le=B.getSetting("bulkActionDialogThreshold"),ue=v("selectAll"),pe=v("restoreToInbox");let he="",ge=!1;if(v(f.ub.CONTEXTUAL_QUOTIENT_MODAL)&&L()){const e=D().getFromAddresses;ge=y(a).some(t=>{const s=e(t),a=n()(s,1)[0],r=(void 0===a?{}:a).email,i=void 0===r?"":r,o=P(),c=o.isLinkedRetailer;return!!(he=(0,o.getRetailerIdFromEmail)(i))&&!c(he)})}return{enableGroupActions:ce?!!a&&0===X.length:!!a,enableTriageActions:""!==a||X.length>0,isBulkAction:!a&&X.length>=le,isSpamEnabled:!!ne.spam,isHamEnabled:!!ne.ham,isArchiveEnabled:!!ne.archive,isRestoreEnabled:!!ne.restore,isMoveEnabled:!!ne.move,isDeleteEnabled:!!ne.delete,isPermDeleteEnabled:!!ne.permDelete,hasPrevNext:!!ne.prevNext,isPreviousEnabled:!!ne.previous,isNextEnabled:!!ne.next,isRafEnabled:!!ne.raf,isCollapseAllEnabled:!!ne.collapseAll,isExpandAllEnabled:!!ne.expandAll,shouldDoSelectAll:ue&&te&&!a&&(U>=le||U>X.length),selectionCount:ue&&te?U:X.length,skipRendering:m().type===oe.fk,activeGroupId:a,folderType:q,currentSortOrder:Object(T.F)(i),disabledMoveTitle:ie,kind:r,listId:i,route:k,showLabels:o,showActionLabels:c,hasAttachmentPreview:d,showBackToList:ee,showListFilter:se,showTriageActions:ae,showListHeading:!ae,allItemsSelected:te,navigateOnMessageAction:u,allItemsCount:U,previewpane:ce,bulkActionDialogThreshold:le,selectAll:ue,conversations:V,canRestoreToInbox:pe,streamId:K,isConversationMode:v(f.ub.CONVERSATIONS),quotientRetailerId:he,showContextualModal:ge,showSearchRelevanceCue:W,previewpaneInPixels:v(f.ub.PREVIEW_PANE_IN_PIXELS)}},e=>({onChangeAllMessageCardExpansion:t=>e(Object(S.a)(t)),onClose:t=>e(Object(C.c)(t)),closePreviewMessage:t=>e(Object(C.d)(t)),loadMoreItems:t=>e(Object(I.a)(t)),openLinkModal:t=>e(Object(E.a)(t))}))(Ge)},function(e,t,s){"use strict";e.exports={className:{default:{checkboxContainerWrapper:"U_6Fd5",checkboxGroupLabelWrapper:"P_3Y3Gk m_Z14vXdP",checkboxGroupLabel:"A_6EqO C_Z281SGl u_b",checkboxWrapper:"D_F ab_C H_6VdP I4_1I4yPF",checkboxLabel:"A_6EqO C_Z281SGl",checkboxButton:"E_eo6 it_68F4"},checkboxSelected:{checkboxWrapper:"I_1I4z5p I4_1I4z5p"}},_key:"2Tpip"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"H_6UbO k_w X_fq7 C_Z1YRXYn A_6EqO u_b I_52qC",listDivider:"W_6D6F H_dRA I_ZpQYvz M_Z3ND8M",infoText:"Q_6Eb4",couponHeader:"u_b C_Z281SGl E_eo6 A_6EWk"},shadow:{container:"j_1OUMqq"},leftPadded:{container:"X_6MGW"},stickyTimechunk:{container:"X_6MGW U_dRA"},fixedInTravelCard:{container:"X_6MGW"},gray:{container:"D_F ab_C I_ZnIF8Y A_6EGz i_6FIA u_N C_Z1VRpVF N_6Fd5 X_6Fd5 je_0 m_Z14vXdP"},black:{container:"C_Z281SGl"},large:{container:"H_7rdk"},longAndWideDivider:{container:"je_0 X_0 U_6Fd5",listDivider:"H_eo6 U_6LEV"},noDivider:{container:"je_0 X_0 Y_6Fd5",listDivider:"H_eo6 U_6LEV",infoText:"Q_6Fd5"},extraMarginInfoText:{infoText:"Q_6LEV"},spacedHeader:{container:"je_6LEV U_fq7"},isDarkThemeMode:{container:"I_T C_52qC",listDivider:"I_ajOPR",couponHeader:"C_52qC"},flex:{container:"D_F ab_C gl_FM"},couponSeparator:{container:"gl_BZ"},isTimechunk:{container:"D_F ab_C"}},_key:"1Jzkxg"}},function(e,t,s){"use strict";s.d(t,"g",function(){return i}),s.d(t,"f",function(){return c}),s.d(t,"d",function(){return d}),s.d(t,"b",function(){return l}),s.d(t,"e",function(){return u}),s.d(t,"a",function(){return _}),s.d(t,"c",function(){return m});var a=s(6),n=s(208);const r=Object(a.defineMessages)({helpGroupAndDelete:{id:"view_mail_help_group_and_delete",defaultMessage:"Group and delete emails by conversations"},helpUnsubscribe:{id:"view_mail_help_unsubscribe",defaultMessage:"Unsubscribe from email lists"},helpAccessFromOtherComputer:{id:"view_mail_help_access_from_other_computer",defaultMessage:"Can I access {mailBrandNameString} from another computer?"},helpToggleNotification:{id:"notification_help_toggle_notification",defaultMessage:"Turn Desktop notifications on or off for {mailBrandNameString}"},helpCreateVacationResponse:{id:"vacation_response_create_vacation_response",defaultMessage:"Create a vacation response"},helpSortOrganizeEmail:{id:"filters_help_sort_organize_email",defaultMessage:"Use filters to sort and organize incoming email"},helpWronglyFiltered:{id:"filters_help_wrongly_filtered",defaultMessage:"An email was wrongly filtered as spam"},helpTrashFolder:{id:"filters_trash_folder",defaultMessage:"Email incorrectly delivered to the Trash folder"},helpReauthorize:{id:"social_accounts_help_reauthorize",defaultMessage:"Reauthorize LinkedIn connection in {mailBrandNameString}"},helpContactCard:{id:"social_accounts_help_contact_cards",defaultMessage:"Contact cards in {mailBrandNameString}"},helpChangeReplyAddress:{id:"accounts_change_reploy_address",defaultMessage:"Change your reply-to address in {mailBrandNameString}"},helpChangeAcName:{id:"accounts_change_account_name",defaultMessage:"Change your account name and nickname on Yahoo"},helpCreateUseDelExtra:{id:"accounts_create_use_del_extra_email",defaultMessage:"Create, use, and delete an extra email address"},helpCreateDiffID:{id:"accounts_create_diff_id",defaultMessage:"Create a different Yahoo ID or email address"},helpNoAdsHeader:{id:"mail_pro_info_no_more_ads_header",defaultMessage:"No more ads"},helpNoAdsHint:{id:"mail_pro_info_no_more_ads_hint",defaultMessage:"See your emails without any ads across all devices for this account"},helpEmailSupportHeader:{id:"mail_pro_email_support_header",defaultMessage:"Always-on email support"},helpEmailSupportHint:{id:"mail_pro_email_support_hint",defaultMessage:"Email your questions and comments anytime and get a prompt response from our customer service"}}),i=e=>(function(t,s=""){return-1!==(e=>{switch(e){case"att":case"sky":case"frontier":case"rogers":return["SLN4992","SLN15953","SLN2059"];default:return[]}})(s).indexOf(e)?null:n.b+(n.g[t]||"en_ZZ")+n.d+("att"===s&&n.f[e]?n.f[e]:e)+(!s||"ycorp"===s&&"verizon"===s?"":n.e+s+n.a)}),o={viewMail:[{text:r.helpGroupAndDelete,link:i("SLN28055")},{text:r.helpUnsubscribe,link:i("SLN28056")},{text:r.helpAccessFromOtherComputer,link:i("SLN5283")}],notifications:[{text:r.helpToggleNotification,link:i("SLN26611")}],vacationResponse:[{text:r.helpCreateVacationResponse,link:i("SLN28068")}],filter:[{text:r.helpSortOrganizeEmail,link:i("SLN28071")},{text:r.helpWronglyFiltered,link:i("SLN28056")},{text:r.helpTrashFolder,link:i("SLN6265")}],social:[{text:r.helpReauthorize,link:i("SLN26757")},{text:r.helpContactCard,link:i("SLN25582")}],accounts:[{text:r.helpChangeReplyAddress,link:i("SLN22036")},{text:r.helpChangeAcName,link:i("SLN4992")},{text:r.helpCreateUseDelExtra,link:i("SLN15953")},{text:r.helpCreateDiffID,link:i("SLN2059")}],mailPro:[{img:"/img/mail_pro_nomoreads.png",header:r.helpNoAdsHeader,hint:r.helpNoAdsHint},{img:"/img/mail_pro_support.png",header:r.helpEmailSupportHeader,hint:r.helpEmailSupportHint}]},c=o.viewMail,d=o.notifications,l=o.filter,u=o.social,_=o.accounts,m=o.mailPro},function(e,t,s){"use strict";s.d(t,"f",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"c",function(){return u}),s.d(t,"b",function(){return _}),s.d(t,"a",function(){return m}),s.d(t,"d",function(){return p});var a=s(4),n=s.n(a),r=s(2),i=s(0),o=s(47),c=s(11);function d(e){return n()({},e,{type:r.eb})}function l(e,{i13nModel:t}){e.dispatch(r.ab,{i13nModel:t})}function u(e,{documentId:t,pageNumber:s=1}){const a=(0,Object(c.b)(e.store.getState()).getDocumentSelectors)().getNumberOfPages(t)||i.u.PAGES_CHUNK_SIZE,n=Object(o.k)(s,a,i.u.PAGES_CHUNK_SIZE);e.dispatch(r.ve,{documentId:t,startPage:n.startPage,endPage:n.endPage})}function _({attachment:e,i13nModel:t}){return{attachment:e,type:r.Z,download:{downloadId:e.id,downloadUrl:e.downloadUrl,filename:e.filename,fileCount:1},i13nModel:t}}function m({attachments:e,downloadUrl:t,downloadId:s,filename:a,i13nModel:n}){return{attachments:e,type:r.W,download:{downloadId:s,downloadUrl:t,filename:a,fileCount:e.length},i13nModel:n}}const p=e=>n()({type:r.of},e)},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=s(1),c=s.n(o),d=(s(8),s(15)),l=s(6),u=s(11),_=s(0),m=s(79),p=s(5),h=s(14),g=s(12),E=s(10),I=s(802),S=s.n(I),C=s(13),f=s.n(C),T=s(76),A=s(16),b=s(18),O=s(17);const R=Object(l.defineMessages)({forward:{id:"photo.item.forward",defaultMessage:"Forward"},newDraft:{id:"fwdBtn.txt.new_draft",defaultMessage:"New Draft"},newSubject:{id:"fwdBtn.txt.new_subject",defaultMessage:"New Subject"}}),N=({name:e})=>[_.gd.NEW_DRAFT,_.gd.EDIT_DRAFT,_.gd.MESSAGE_FROM_FOLDER_LIST].indexOf(e)>-1,M=f()(S.a),D=(e,t)=>{const s=e.draftRoutes,a=e.onForward,r=e.colorStates,o=e.onHide,d=i()(e,["draftRoutes","onForward","colorStates","onHide"]),l=t.intl.formatMessage,u=s.length,_=(e,t)=>{if(e.preventDefault(),t)return a(t);const s=Object(b.g)();a(s,Object(O.g)(s))},E=u?{}:{onClick:_},I=c.a.createElement(m.a,n()({kind:p.b.FORWARD,size:p.d.XS,colorStates:r,title:l(R.forward)},d,E));return u?c.a.createElement(T.c,{align:h.a.START,onHide:o,triggerOn:T.b.CLICK,zAltitude:g.ZIndices.CURSOR,triggerOff:T.a.HOVER_OUT|T.a.CLICK,permittedArrowDirections:[h.h.ANY]},c.a.createElement("div",{"data-test-id":"forward-attachment-btn"},I),c.a.createElement("ul",{className:M.menuContainer,"data-test-id":"forward-attachment-menu"},s.map(({csid:e,title:t,disabled:s})=>{const a=c.a.createElement(c.a.Fragment,null,c.a.createElement(A.b,{size:p.d.XS,kind:p.b.COMPOSE,colorState:s?p.a.DISABLED:p.a.INHERITED}),c.a.createElement("span",{className:M.menuText},t||l(R.newSubject)));return c.a.createElement("li",{key:e,className:M.menu},c.a.createElement("a",s?{title:t,className:M.disabledMenuItem}:{onClick:t=>_(t,e),title:t,className:M.menuItem},a))}),c.a.createElement("li",{className:M.separator}),c.a.createElement("li",{key:"new_draft",className:M.menu},c.a.createElement("a",{onClick:_,className:M.menuItem},c.a.createElement(A.b,{kind:p.b.ADD,colorState:p.a.INHERITED,size:p.d.XS}),c.a.createElement("span",{className:M.menuText},l(R.newDraft)))))):I};D.defaultProps={draftRoutes:[],colorStates:{hovered:p.a.INVERTED,normal:p.a.INVERTED_LESS_DIM},onHide:()=>{}},D.contextTypes={intl:l.intlShape};t.a=Object(d.connect)(e=>{const t=Object(u.b)(e),s=t.getTabPages,a=t.getMessageSubject,n=t.getDraftMessageId,r=t.getReplyingToMessageId,i=t.getAllDraftsInRoute,o=t.getSelectedAccountIdByRoute,c=[],d=(0,t.getSelectedAccountId)();return s().filter(N).forEach(e=>{const t=Object(E.w)(e),s=i(e),l=o(e);s.forEach(e=>{let s;const i=n(e)||r(e);i&&(s=a(i,t)),c.push({csid:e,title:s,disabled:l!==d})})}),{draftRoutes:c}})(D)},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(9);const n=Object(a.c)(["DEFAULT","DARK_BORDER_BOTTOM","LEFT_ICON"])},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(29),l=s.n(d),u=s(13),_=s.n(u),m=s(670),p=s.n(m),h=s(152),g=s(31),E=s.n(g),I=s(89);const S=()=>{},C=_()(p.a);class f extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{overlayDimensionStyles:null}),i()(this,"handleShimClick",e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!1})}),i()(this,"handleOverlayClick",e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!0})}),i()(this,"renderOverlayContent",e=>c.a.createElement("div",{"data-test-id":"overlay-boundingbox",ref:"boundingBox",style:e,className:C.overlay,onClick:this.handleOverlayClick},this.props.children)),i()(this,"renderOverlay",e=>{return this.props.useShim?c.a.createElement("div",{className:C.shim,onClick:this.handleShimClick,"data-test-id":"overlay-shim"},this.renderOverlayContent(e)):this.renderOverlayContent(e)})}componentDidMount(){if(!this.refs.boundingBox)return;const e=this.props,t=e.alignmentPoints,s=e.alignTo,a=e.onShow;let n=this.state.overlayDimensionStyles;if(s){n=function(e,t,s){const a=E()(s,2),n=a[1];var r=0,i=0,o=0,c=0;switch(a[0]){case I.a.BottomRight:o=-t.width,c=-t.height;break;case I.a.TopLeft:o=0,c=0;break;case I.a.TopRight:o=-t.width,c=0;break;case I.a.BottomLeft:o=0,c=-t.height;break;case I.a.CenterRight:o=-t.width,c=-t.height/2;break;case I.a.CenterLeft:o=0,c=-t.height/2;break;case I.a.TopCenter:o=-t.width/2,c=0;break;case I.a.BottomCenter:o=-t.width/2,c=-t.height;break;default:o=0,c=0}switch(n){case I.a.BottomRight:r=e.left+e.width,i=e.top+e.height;break;case I.a.TopLeft:r=e.left,i=e.top;break;case I.a.TopRight:r=e.left+e.width,i=e.top;break;case I.a.BottomLeft:r=e.left,i=e.top+e.height;break;case I.a.CenterRight:r=e.left+e.width,i=e.top+e.height/2;break;case I.a.CenterLeft:r=e.left,i=e.top+e.height/2;break;case I.a.TopCenter:r=e.left+e.width/2,i=e.top;break;case I.a.BottomCenter:r=e.left+e.width/2,i=e.top+e.height;break;default:r=e.left,i=e.top}return{left:r+o+window.pageXOffset,top:i+c+window.pageYOffset}}(l.a.findDOMNode(s).getBoundingClientRect(),l.a.findDOMNode(this.refs.boundingBox).getBoundingClientRect(),t),this.setState({overlayDimensionStyles:n},a),window.addEventListener("keydown",this.props.onKeyDown)}}componentWillUnmount(){window.removeEventListener("keydown",this.props.onKeyDown)}render(){const e=this.props,t=e.left,s=e.top,a=e.customInlineStyles;let r=null,i=null,o=null;const d=this.state.overlayDimensionStyles;return null!==t&&null!==s?(i=t,o=s):d?(i=d.left,o=d.top):e.alignTo&&(i=-1e4,o=-1e4),null!==i&&null!==o&&(i+=e.offsetLeft,o+=e.offsetTop,a.height&&(a.height=`calc(100% - ${o}px)`),r=n()({left:i,top:o,position:"absolute"},a)),c.a.createElement(h.a,null,this.renderOverlay(r))}}i()(f,"defaultProps",{alignmentPoints:[I.a.TopLeft,I.a.TopLeft],offsetTop:0,offsetLeft:0,left:null,top:null,onShow:S,onClick:S,onKeyDown:S,useShim:!1,customInlineStyles:{}});t.a=f},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"e",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"g",function(){return c}),s.d(t,"c",function(){return d}),s.d(t,"f",function(){return l}),s.d(t,"b",function(){return u});var a=s(0),n=s(9);const r="https://rover.ebay.com/rover/1/711-53200-19255-0/1?icep_id=114&ipn=icep&toolid=20004",i="https://www.ebay.com/svc/item-services?itemIds=",o="https://pages.ebay.com/services/hub.html",c={ELECTRONICS:"electronics",AUTOPARTS:"vehicle parts & accessories"},d="ebay@reply.ebay.com",l=Object(n.g)(c),u={[a.nb.TOP]:{[c.ELECTRONICS]:5338378194,[c.AUTOPARTS]:5338378198},[a.nb.RIGHT]:{[c.ELECTRONICS]:5338378196,[c.AUTOPARTS]:5338378199}}},function(e,t,s){"use strict";s.d(t,"a",function(){return l}),s.d(t,"b",function(){return u});var a=s(213),n=s.n(a),r=s(2),i=s(0),o=s(11),c=s(356),d=s(25);function l(e,{serverInferredTimezone:t,lastObservedTimezone:s}){const a=Object(o.b)(e.store.getState()),l=a.getSelectedAccountId;if((0,a.getEnvironmentSelectors)().isAMT())return;const u=n.a.determine(),_=u&&u.name(),m=l();let p=null;if(Object(d.b)()){const e=new c.a({window:window});p=e.getClientTimeZone(),e.determineClientTimeZone()}!function(e,t,s){(0,Object(o.b)(e.store.getState()).getEnvironmentSelectors)().isAMT()||t&&t.server===s.server&&t.client===s.client||e.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:i.ic.LAST_OBSERVED_TIMEZONE,value:`${s.client||""}|${s.server||""}`}]})}(e,s,{client:_,server:t}),s&&_!==p&&_!==s.client&&_!==t&&e.dispatch(r.Bk,{accountId:m})}function u(e){e.dispatch(r.Zh)}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(713),l=s.n(d);class u extends c.a.Component{constructor(...e){super(...e),n()(this,"getClassName",()=>{const e=this.props,t=e.isActive,s=e.highlight,a=e.whiteBackground,n=e.contextOfUse,r=this.context.getTheme(),i=this.context.getThemeMode(),o=this.context.getCss(l.a,{whiteBackground:a&&!s,highlightThemeCombo:`${s}_${r}`,highlightDarkPartnerThemeCombo:`${s&&("MEDIUM"===i||"DARK"===i)}_${r}`,contextOfUse:n,contextOfUse_isActive_themeMode:`${n}_${t}_${i}`});return t?o.activeContainer:o.container})}render(){const e=this.props.value,t=this.getClassName();return c.a.createElement("span",{className:t,"data-test-id":this.props["data-test-id"]},e)}}n()(u,"contextTypes",{getCss:i.a.func,getTheme:i.a.func,getThemeMode:i.a.func}),n()(u,"defaultProps",{whiteBackground:!1}),t.a=u},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(13),c=s.n(o),d=s(6),l=s(65),u=s(16),_=s(5),m=s(212),p=s.n(m),h=s(30);const g=Object(d.defineMessages)({from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural, one {# contact} other {# contacts}}"},remove_contact:{id:"compose.btn_remove_contact",defaultMessage:"Remove"}});class E extends i.a.Component{constructor(...e){super(...e),n()(this,"state",{hovered:!1,xButtonHovered:!1}),n()(this,"getDefaultprops",()=>({isSelected:!1,allowContactRemoval:!0})),n()(this,"handleMouseOver",()=>{this.setState({hovered:!0})}),n()(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),n()(this,"renderHighlight",({string:e="",highlightedTextClassName:t,highlightRange:s=[]})=>{const a=[];let n=0;return s.sort((e,t)=>e.s===t.s?e.l-t.l:e.s-t.s),s.forEach(({s:s,l:r},o,c)=>{const d=s+r;a.push(e.slice(n,s)),a.push(i.a.createElement("span",{className:t,"data-test-id":"result-match",key:e+o},e.slice(s,d))),n=d,o===c.length-1&&a.push(e.slice(n))}),i.a.createElement("span",null,a.length?a.map(e=>e):e)}),n()(this,"handleXButtonHover",e=>{this.setState({xButtonHovered:e})})}render(){const e=c()(p.a),t=this.context.intl.formatMessage,s=this.state.xButtonHovered?_.a.NORMAL:_.a.DISABLED,a=this.props,n=a.option,r=a.allowContactRemoval,o=void 0===r||r,d=this.state.hovered;return i.a.createElement("div",{className:e.typeaheadOptionContainer,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"suggest-contact-item-container"},i.a.createElement("span",{className:e.contactIcon},i.a.createElement(l.d,{contact:{id:n.id},size:l.c.M})),i.a.createElement("div",{className:e.textContainer},i.a.createElement("div",{className:e.name,"data-test-id":"result-name"},this.renderHighlight({string:n.name,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.fullName})),i.a.createElement("div",{className:e.email,"data-test-id":"result-email"},n.list?t(g.from_group,{contactCount:n.list.length}):this.renderHighlight({string:n.email,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.email}))),d&&o?i.a.createElement("span",{className:e.remove,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1),"data-test-id":"contact-remove-button-wrapper","data-action":h.DELETE_CONTACT},i.a.createElement(u.b,{"data-iskeynav":!0,"data-test-id":"contact-remove-button",kind:_.b.CLOSE,size:_.d.XXS,disabled:d,title:t(g.remove_contact),colorState:s})):null)}}n()(E,"contextTypes",{intl:d.intlShape.isRequired}),t.a=E},function(e,t,s){"use strict";e.exports={className:{default:{container:"ab_C k_w D_F H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",cboxWrapper:"D_F",usabiltyOptions:"D_F t_r",selectionControlsWrapper:"D_F Q_6EGz",viewMenu:"E_eo6 en_0",listFilterViewMenu:"E_eo6 en_0 D_F",mainActionControls:"D_F em_N gl_C",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",triageActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",hamSpam:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",archiveRestore:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",deletePerm:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",move:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",more:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarForward:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarSave:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",bottomLine:"M_0 P_0 cn_0 D_n",sortByMenu:"D_F ab_C y_Z2uhb3X X_eo6 A_6EqO cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrev:"cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",nextPrevDisabled:"cdPFi_sgPuo r_BN cZW7ROP_n",sortByMenuItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",sortByMenuItemLabel:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",listFilterMenu:"D_F ab_C y_Z2uhb3X X_6FIA A_6EqO lo_AT cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",nextPrevContainer:"D_F P_3gIMd",listHeading:"A_6FsP",rtlRawScaleX:"rtlR_h_2gl0WC",tabs:"P_ZuD6o1 M_1EueWv m_Z14vXdP"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",hamSpam:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",archiveRestore:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",deletePerm:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",move:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",more:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarForward:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarSave:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sponsoredToolBarClose:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",sortByMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",listFilterMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",nextPrev:"cdPFi_ZpQYvz cdPFi4_52qC",nextPrevDisabled:"cdPFi_ZpQYvz O_cMr r_BN cZW7ROP_n",closeWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"},fullMessageView:{container:"gl_FM"},closeWrapperMargin:{closeWrapper:"Q_fq7"},listWithVerticalPreview:{cboxWrapper:"ip_N ej_d70",viewMenu:"ip_O t_r ej_d70 E_0",singleGroupActions:"ip_P Q_fq7",mainActionControls:"em_N ip_Q",usabiltyOptions:"ip_R",sortMenuContainer:"N_6MGW"},listWithNonVerticalPreview:{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},verticalSelectionControlView:{listFilterViewMenu:"p_CS T_6Fd5",listFilterMenu:"X_fq7"},hamSpamDisabled:{hamSpam:"r_n O_6uB4 cZW7ROP_n"},archiveRestoreDisabled:{archiveRestore:"r_n O_6uB4 cZW7ROP_n"},moveDisabled:{move:"r_n O_6uB4 cZW7ROP_n"},deletePermDisabled:{deletePerm:"r_n O_6uB4 cZW7ROP_n"},sponsoredVideoMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY"},groupActionsActive:{singleGroupActionList:"O_N r_BN cZW7ROP_A"},triageActionsActive:{triageActionList:"O_N r_BN cZW7ROP_A",closeWrapper:"O_N"},selectionControlDisabled:{selectionControlsWrapper:"hd_n D_F ab_C M_Z1feokn P_0 O_6uB4 r_n cZW7ROP_n"},showTriageActionsLabels:{hamSpam:"M_1MYwXA",archiveRestore:"M_1MYwXA",deletePerm:"M_1MYwXA",move:"M_1MYwXA",more:"M_1MYwXA"},previewpaneInPixels:{cboxWrapper:"a_ZTjccc",viewMenu:"a_ZTjccc"}},_key:"1uuno7"}},function(e,t,s){"use strict";s.d(t,"a",function(){return I});var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(6),c=s(5),d=s(20),l=s(768),u=s.n(l),_=s(13),m=s.n(_),p=s(9),h=(s(30),s(769)),g=s.n(h);const E=Object(o.defineMessages)({prev:{id:"carousel.previous",defaultMessage:"Previous"},next:{id:"carousel.next",defaultMessage:"Next"}}),I=Object(p.c)(["NEXT","PREV"]);class S extends i.a.Component{constructor(e){super(e),n()(this,"_getChildrenTotalWidth",()=>this.props.itemWidth*i.a.Children.count(this.props.children)),n()(this,"_navHandlePrev",()=>{this.navHandle(I.PREV)}),n()(this,"_navHandleNext",()=>{this.navHandle(I.NEXT)}),n()(this,"setAnimation",(e=!0)=>{this.animated=e}),n()(this,"setOffset",(e=0)=>{this.setState({offset:e})}),n()(this,"navHandle",(e,t=null)=>{const s=this.state.offset,a=this.props.isRTL,n=this._getChildrenTotalWidth(),r=this.carousel.clientWidth;let i=s;if(null===t){const t=this.props.defaultTransitionAmount||r;let a=0;if(e===I.NEXT){const e=n-r-s;a=t>e?-e:-t}else a=s>t?t:s;i=s-a,0!==a&&(this.animated=!0,this.setState({offset:i}))}else if(!a&&e===I.NEXT||a&&e===I.PREV){i=s+t;const e=a?t-s:i-n+r;e>0&&(i-=e),this.animated=!0,this.setState({offset:i})}else i=s-t>=0?s-t:0,this.animated=!0,this.setState({offset:i});i!==s&&this.props.onCarouselNav(e===I.NEXT)}),n()(this,"renderCarousel",()=>{const e=this.context.intl,t=this.state.offset,s=this.props,a=s.toolbarKind,n=s.isRTL,r=s.navArrows,o=t<=0,l=this._getChildrenTotalWidth(),_=l&&this.carousel&&this.carousel.clientWidth+t>=l,p=m()(u.a,{prevDisabled:o,nextDisabled:_,toolbarKind:a,animationDisabled:!this.animated}),h=n?{right:-t}:{left:-t};return i.a.createElement("div",{className:p.carouselContainer},r&&i.a.createElement("div",{className:p.prevNavHandleContainer+" "+p.rtlRawScaleX},i.a.createElement(d.a,{kind:c.b.ARROW_RIGHT_DOC,rotate:c.c.D180,size:c.d.XS,colorState:o?c.a.FAINT:c.a.SELECTED,onClick:this._navHandlePrev,title:e.formatMessage(E.prev),"aria-label":e.formatMessage(E.prev),className:p.prevNavHandle})),i.a.createElement("div",{className:p.carousel,ref:e=>{e&&!this.carousel&&(this.carousel=e)}},i.a.createElement("div",{className:p.list,style:h,"data-test-id":"carousel-container"},this.props.children)),r&&i.a.createElement("div",{className:p.nextNavHandleContainer+" "+p.rtlRawScaleX},i.a.createElement(d.a,{kind:c.b.ARROW_RIGHT_DOC,rotate:c.c.D0,size:c.d.XS,colorState:_?c.a.FAINT:c.a.SELECTED,onClick:this._navHandleNext,title:e.formatMessage(E.next),"aria-label":e.formatMessage(E.next),className:p.nextNavHandle})))}),n()(this,"renderSwipeableCarousel",()=>i.a.createElement(g.a,{onSwipedLeft:()=>this.navHandle(I.NEXT),onSwipedRight:()=>this.navHandle(I.PREV),style:{width:"100%",display:"flex"}},this.renderCarousel())),this.animated=e.initialAnimation,this.state={offset:0}}componentDidMount(){this.props.didMount()}componentWillReceiveProps(e){if(e.isWindowResizingDone){const e=this.state.offset,t=this._getChildrenTotalWidth(),s=this.carousel.clientWidth+e-t,a=s>e?e:s;this.setState({offset:s>=0?e-a:e})}}render(){return this.props.isSwipeable?this.renderSwipeableCarousel():this.renderCarousel()}}n()(S,"contextTypes",{intl:o.intlShape.isRequired}),n()(S,"defaultProps",{initialAnimation:!0,didMount:()=>{},defaultTransitionAmount:null,onCarouselNav:()=>{},navArrows:!0}),t.b=S},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_GG p_a o_h",msgDragProxy:"p_a Z_3n0uA P_eo6 b_Z14vXdP",counter:"C_52qC en_0 P_3gJiI e_fFR A_6DUj I_Z2aVTcY O_N D_X",dragIcon:"Z_3n0uA cdPFi_Z281SGl",contextMenuAnchor:"p_a",contextMenuContainer:"p_B s_3qWeB"},isBriefView:{container:"p_CS H_CS en_0 M_Zm1Iab U_eo6 W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",list:"p_CS I_52qC o_h W_3vpWV",briefHeader:"M_1d6dau A_6EqO",briefContent:"M_1d6dau",briefFooter:"D_F gl_CH M_9DHCV A_6Eb4 C_Z2aVTcY"},"themeMode-DARK":{dragIcon:"cdPFi_ZpQYvz",container:"l_T",list:"I_sgPuT",briefHeader:"C_ZpQYvz",link:"C_Z2bg7IA"},"themeMode-MEDIUM":{container:"l_T",list:"I_sgPuT",briefHeader:"C_ZpQYvz",link:"C_Z2bg7IA"},"themeCombo-DARK_NIGHT_LANDSCAPE":{list:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{list:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{list:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{list:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{list:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{list:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{list:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{list:"I_t5YMW"}},_key:"Z1aNfiw"}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(15),c=s(116),d=s(9),l=s(0),u=s(11);const _={},m={};class p extends r.Component{constructor(...e){super(...e),n()(this,"handleAdClick",()=>{this.props.fireViewabilityBeaconsOnClick&&(this.fireAndUpdateBeacon("impression","impressionBeaconTimer",!0),this.fireAndUpdateBeacon("impression3P","impression3PBeaconTimer",!0),this.fireAndUpdateBeacon("partial","",!0))})}componentDidMount(){_[this.props.sectionId]=_[this.props.sectionId]||[],this.handleNewAd()}componentDidUpdate(e){this.props.adTimestamp===e.adTimestamp&&this.props.rootMargin===e.rootMargin||this.handleNewAd()}createObserver(e){if(void 0!==window.IntersectionObserver){const t=this.props,s={root:t.rootNode,rootMargin:t.rootMargin,threshold:[.1,e/100,.95]};this.impressionBeaconThreshold=e,this.viewabilityObserver=this.viewabilityObserver?this.viewabilityObserver.disconnect():null,this.viewabilityObserver=new IntersectionObserver(e=>{e.forEach(e=>{this.handleVisibilityChange(100*e.intersectionRatio)})},s),this.viewabilityObserver.observe(this.targetNode)}}allImpressionBeaconsFired(){const e=this.props,t=e.sectionId,s=e.pencilAdData,a=s.actionUrls,n=void 0===a?{}:a,r=s.carouselAssets,i=void 0===r?[]:r;return _[t].indexOf(s.beacon)>-1&&(!Object(d.a)(n,"IMPR_INTERNAL.0",null)||!i.length||_[t].indexOf(n.IMPR_INTERNAL[0])>-1)}fireImpressionBeacon(e){const t=this.props.pencilAdData,s=t.beacon,a=t.rules.viewabilityDefStatic,n="number"==typeof Object(d.a)(a,"d",null)?1e3*a.d:null;if(s&&!this.allImpressionBeaconsFired()&&null!==n)if(e>=this.impressionBeaconThreshold&&!this.impressionBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression","impressionBeaconTimer");this.impressionBeaconTimer=setTimeout(e,n)}else e<this.impressionBeaconThreshold&&(clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null)}fireImpression3PBeacon(e){const t=this.props,s=t.sectionId,a=t.pencilAdData.actionUrls,n=void 0===a?{}:a,r=Object(d.a)(n,"STATIC_VIEW_3P.0",null),i=_[s].indexOf(r)>-1;if(r&&!i&&null!==this.impression3PVisTimeRemaining)if(e>95&&!this.impression3PBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression3P","impression3PBeaconTimer");this.impression3PBeaconVisTime=Date.now(),this.impression3PVisTimeRemaining<=0?e():this.impression3PBeaconTimer=setTimeout(e,this.impression3PVisTimeRemaining)}else e<100&&this.impression3PBeaconTimer&&(this.impression3PVisTimeRemaining-=Date.now()-this.impression3PBeaconVisTime,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null)}firePartialBeacon(e){const t=this.props,s=t.sectionId,a=t.pencilAdData.actionUrls,n=void 0===a?{}:a,r=Object(d.a)(n,"PARTIAL_VIEW.0",null),i=_[s].indexOf(r)>-1;e>0&&!i&&r&&this.fireAndUpdateBeacon("partial")}handleVisibilityChange(e){const t=Object(d.a)(this.props.pencilAdData,"rules",{});Object.keys(t).length&&(this.fireImpressionBeacon(e),this.fireImpression3PBeacon(e),this.firePartialBeacon(e))}fireAndUpdateBeacon(e,t="",s=!1){const a=this.props,n=a.pencilAdData,r=a.isAppVisible,i=a.isCurrentAdPosition,o=a.sectionId;if(this[t]=null,r&&i||s){const t=n.actionUrls,s=n.beacon,a=n.impressionTrackingUrls,r=void 0===a?[]:a,i=n.carouselAssets,l=void 0===i?[]:i,u=[];"impression"===e?(-1===_[o].indexOf(s)&&(Object(c.a)(s,!1),u.push(s)),r.forEach(e=>{e&&-1===_[o].indexOf(e)&&(Object(c.a)(e,!1),u.push(e))}),Object(d.a)(t,"IMPR_INTERNAL.0",null)&&l.length&&-1===_[o].indexOf(t.IMPR_INTERNAL[0])&&(Object(c.a)(t.IMPR_INTERNAL[0],!1),u.push(t.IMPR_INTERNAL[0]))):"impression3P"===e&&Object(d.a)(t,"STATIC_VIEW_3P.0",null)?(Object(c.a)(t.STATIC_VIEW_3P[0],!1),u.push(t.STATIC_VIEW_3P[0])):"partial"===e&&Object(d.a)(t,"PARTIAL_VIEW.0",null)&&(Object(c.a)(t.PARTIAL_VIEW[0],!1),u.push(t.PARTIAL_VIEW[0])),_[o]=_[o].concat(u)}}handleNewAd(){const e=this.props,t=e.adTimestamp,s=e.sectionId;if(e.geminiViewability&&this.targetNode&&e.isCurrentAdPosition){const a=e.pencilAdData.rules;if(m[s]!==t&&(m[s]=t,_[s]=[]),a&&Object.keys(a).length){const e=a.viewabilityDefStatic,t=a.viewabilityDefStatic3P,s=void 0===t?[]:t;this.createObserver((void 0===e?{}:e).p),this.impression3PVisTimeRemaining="number"==typeof Object(d.a)(s,"0.d",null)?1e3*s[0].d:null}}}render(){return i.a.createElement("div",{ref:e=>this.targetNode=e,"data-test-id":"ad-viewability-tracker",style:this.props.styles,className:this.props.className,onClick:this.handleAdClick},this.props.children)}}p.defaultProps={rootNode:null,rootMargin:"0px",styles:{}};t.a=Object(o.connect)((e,t)=>{const s=Object(u.b)(e),a=s.isFeatureEnabled,n=s.getEnvironmentSelectors,r=s.getAdSectionIds,i=(0,(0,s.getAdsSelectors)().getGeminiAdTimestamp)(t.sectionId),o=n().isAppVisible,c=r(),_=Object(d.g)(c).some(e=>e===t.sectionId);return{isAppVisible:o(),geminiViewability:a(l.ub.GEMINI_VIEWABILITY),isCurrentAdPosition:_,adTimestamp:i,fireViewabilityBeaconsOnClick:a(l.ub.FIRE_VIEWABILITY_BEACONS_ON_CLICK)}})(p)},function(e,t,s){"use strict";s.d(t,"d",function(){return o}),s.d(t,"b",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return l});var a=s(2),n=s(69),r=s(0),i=s(7);function o({i13nModel:e}){return{type:a.F,i13nModel:e}}function c({i13nModel:e}){return{type:a.E,i13nModel:e}}function d(){return{type:a.c,i13nModel:{mKey:i.e.ABP_DETECTED,sec:i.g.RIGHT_RAIL}}}const l=({uiId:e,i13nModel:t={}})=>s=>s(Object(n.b)({name:r.zd.AD_BLOCK_FEATURE_CUE_ID,value:e,runV3:!0,i13nModel:t}))},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(6),_=s(15),m=s(19),p=s(0),h=s(34),g=s(16),E=s(20),I=s(5),S=s(155),C=s(133),f=s(141),T=s(125),A=s(13),b=s.n(A),O=s(738),R=s.n(O),N=s(36);const M=b()(R.a);class D extends l.a.Component{render(){const e=this.props,t=e.tooltip,s=e.onChange,a=e.showPlainTextToggle,n=this.context.intl.formatMessage;return l.a.createElement(S.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1},l.a.createElement(C.a,{"aria-label":t,"data-test-id":"icon-btn-more_tools",title:t},l.a.createElement(g.b,{kind:I.b.MORE,size:I.d.XS,colorState:I.a.INHERITED})),l.a.createElement(f.a,{persistOnClick:!0,focusBackEditor:this.props.focusBackEditor,menuLayout:T.a.HORIZONTAL,"data-test-id":"more-tools"},l.a.createElement("span",{className:M.sectionDivider}),l.a.createElement("span",{className:M.rtlIgnoreDir},l.a.createElement(h.a,{key:"align-l",name:"align-l"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{"aria-label":n(N.a.leftAlign),title:n(N.a.leftAlign),kind:I.b.ALIGN_LEFT,size:I.d.XS,onClick:s.bind(null,"left")}))),l.a.createElement(h.a,{key:"align-c",name:"align-c"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{"aria-label":n(N.a.centerAlign),title:n(N.a.centerAlign),kind:I.b.ALIGN_CENTER,size:I.d.XS,onClick:s.bind(null,"center")}))),l.a.createElement(h.a,{key:"align-r",name:"align-r"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{className:M.rightAlignIcon,"aria-label":n(N.a.rightAlign),title:n(N.a.rightAlign),kind:I.b.ALIGN_LEFT,rotate:I.c.D0,size:I.d.XS,onClick:s.bind(null,"right")})))),l.a.createElement("span",{className:M.sectionDivider}),l.a.createElement(h.a,{key:"bullet",name:"bullet"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{className:M.rtlRawScaleX,"aria-label":n(N.a.bulletedList),title:n(N.a.bulletedList),kind:I.b.LIST_UNORDERED,size:I.d.XS,onClick:s.bind(null,"bullet")}))),l.a.createElement(h.a,{key:"number",name:"number"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{className:M.rtlRawHidden,"aria-label":n(N.a.numberedList),title:n(N.a.numberedList),kind:I.b.LIST_ORDERED,size:I.d.XS,onClick:s.bind(null,"number")}),l.a.createElement(E.a,{className:M.rtlRemoveHidden,"aria-label":n(N.a.numberedList),title:n(N.a.numberedList),kind:I.b.LIST_ORDERED_FLIPPED,size:I.d.XS,onClick:s.bind(null,"number")}))),l.a.createElement("span",{className:M.sectionDivider}),l.a.createElement(h.a,{name:"indent",key:"indent"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{className:M.rtlRawScaleX,"aria-label":n(N.a.increaseIndent),title:n(N.a.increaseIndent),kind:I.b.INDENT,size:I.d.XS,onClick:s.bind(null,"indent")}))),l.a.createElement(h.a,{name:"outdent",key:"outdent"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{className:M.rtlRawScaleX,"aria-label":n(N.a.decreaseIndent),title:n(N.a.decreaseIndent),kind:I.b.OUTDENT,size:I.d.XS,onClick:s.bind(null,"outdent")}))),l.a.createElement("span",{className:M.sectionDivider}),l.a.createElement(h.a,{name:"strikethrough",key:"strikethrough"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{"aria-label":n(N.a.strikeThrough),title:n(N.a.strikeThrough),kind:I.b.STRIKETHROUGH,size:I.d.XS,onClick:s.bind(null,"strikeThrough")}))),a?l.a.createElement(h.a,{name:"turn-off-richtext",key:"turn-off-richtext"},l.a.createElement("span",{className:M.icon},l.a.createElement(E.a,{"data-test-id":"richtext-off",onClick:s.bind(null,"plaintext"),title:n(N.a.plaintext),"aria-label":n(N.a.plaintext_icon_label),kind:I.b.RICHTEXT_OFF,size:I.d.XS})),l.a.createElement("span",{className:M.sectionDivider})):null))}}i()(D,"contextTypes",{intl:u.intlShape.isRequired}),i()(D,"defaultProps",{onMenuShow:()=>{}});var y=D,L=s(98),v=s(28),P=s(739),F=s.n(P);var w=function({kind:e,text:t,onClick:s,selected:a}){const n=b()(F.a,{kind:e,selected:a});return l.a.createElement(h.a,{key:e,kind:L.a.WRAP_CONTENT,name:e,text:t},l.a.createElement(m.a,{kind:v.a.MENUITEM,onClick:s},l.a.createElement("div",{className:n.menuItem},l.a.createElement("span",{className:n.checkmarkWrapper},a&&l.a.createElement(g.b,{kind:I.b.CHECKMARK,size:I.d.XS})),t)))},k=s(30),x=s(59),U=s(261),G=s.n(U),j=s(77);const H=b()(G.a),B=Object(u.defineMessages)({font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class V extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{selectedFontSizeInMenu:this.props.selectedFontSize}),i()(this,"handleBackButton",e=>{e.stopPropagation(),this.props.goToMainMenu()}),i()(this,"setSelectedFontSizeInMenu",e=>{this.setState({selectedFontSizeInMenu:e||this.props.selectedFontSize})}),i()(this,"handleMenuFocus",()=>{const e=document.queryCommandValue("fontSize");this.setSelectedFontSizeInMenu(e)})}render(){const e=this.context.intl.formatMessage,t={[k.FontSizes[0].name]:e(B.font_size_label_tiny),[k.FontSizes[1].name]:e(B.font_size_label_small),[k.FontSizes[2].name]:e(B.font_size_label_medium),[k.FontSizes[3].name]:e(B.font_size_label_large),[k.FontSizes[4].name]:e(B.font_size_label_xlarge),[k.FontSizes[5].name]:e(B.font_size_label_huge)},s=parseInt(this.state.selectedFontSizeInMenu,10),a=this.props.selectedFontFamily,n=k.FontSizes.map(({name:e,fontSize:a})=>l.a.createElement(w,{key:e,kind:e,text:t[e]||"",onClick:this.props.onFontSizeChange.bind(null,a),selected:a===s})),r=k.Fonts.map(({name:t,label:s,fontFamily:n})=>{const r=n.replace(/['," ]/g,"").toLowerCase()===a.replace(/['," ]/g,"").toLowerCase();return l.a.createElement(w,{key:t,kind:t,text:Object(j.getLocalizedFontFamilyName)(e,t)||s,onClick:this.props.onFontFamilyChange.bind(null,n),selected:r})});return l.a.createElement(S.a,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu,onFocus:this.handleMenuFocus},this.props.parentMenu?l.a.createElement(C.a,{style:{display:"none"}}):l.a.createElement(C.a,{"aria-label":e(B.font_name_size),"data-test-id":"icon-btn-text",title:e(B.font_name_size)},l.a.createElement(g.b,{kind:I.b.TEXT,size:I.d.XS,colorState:I.a.NORMAL})),l.a.createElement(f.a,{style:this.props.parentMenu?{marginLeft:"8px",marginTop:"4px"}:{},menuLayout:T.a.VERTICAL,"data-test-id":"font-picker"},this.props.parentMenu?l.a.createElement(E.a,{title:e(B.back_button_text_label),kind:I.b.ARROW_UP,size:I.d.XS,rotate:I.c.D270,colorState:I.a.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_back"},l.a.createElement("span",{className:H.backButtonLabel},l.a.createElement(u.FormattedMessage,B.back_button_text_label))):"",l.a.createElement(x.a,{layout:T.a.HORIZONTAL},l.a.createElement(h.a,{key:"font-families"},l.a.createElement(x.a,null,r)),l.a.createElement(h.a,{key:"font-sizes"},l.a.createElement(x.a,null,n)))))}}i()(V,"contextTypes",{intl:u.intlShape.isRequired}),i()(V,"defaultProps",{parentMenu:null});var W=V,q=s(194);const z=b()(G.a);class K extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{showMainMenu:!0,showColorMenu:!1,showFontMenu:!1}),i()(this,"onClickColor",e=>{this.setState({showMainMenu:!1,showColorMenu:!0,showFontMenu:!1}),e.stopPropagation()}),i()(this,"onClickFont",e=>{this.setState({showMainMenu:!1,showColorMenu:!1,showFontMenu:!0}),e.stopPropagation()}),i()(this,"onShowMenu",()=>{this.props.onMenuShow(),this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})}),i()(this,"focusBackEditor",()=>{this.setState({showColorMenu:!1,showFontMenu:!1}),this.refs.expandedmoretoolsmenu.hideMenu(),this.props.focusBackEditor()}),i()(this,"goToMainMenu",()=>{this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})})}render(){const e=this.props,t=e.tooltip,s=e.onChange,a=e.showPlainTextToggle,n=this.context.intl.formatMessage;return l.a.createElement("div",null,l.a.createElement(S.a,{ref:"expandedmoretoolsmenu",afterMenuHide:this.focusBackEditor,showMenuActiveState:!1,onMenuShow:this.onShowMenu},l.a.createElement(C.a,{"aria-label":t,"data-test-id":"icon-btn-expanded_more_tools",title:t},l.a.createElement(g.b,{kind:I.b.MORE,size:I.d.XS,colorState:I.a.INHERITED})),this.state.showMainMenu?l.a.createElement(f.a,{menuLayout:T.a.VERTICAL,"data-test-id":"expanded-more-tools-menu"},l.a.createElement("div",{className:z.menuContainer},l.a.createElement("div",null,l.a.createElement(h.a,{key:"link",name:"link",className:z.menuListItem,ariaLabel:n(N.a.link_icon_label),onClick:this.props.onAddLink},l.a.createElement(m.a,{className:z.button,title:n(N.a.link),"data-test-id":"icon-btn-link"},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.LINK,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.link))))),l.a.createElement(h.a,{key:"font",name:"font",className:z.menuListItem,ariaLabel:n(N.a.font_name_size),onClick:this.onClickFont,"data-test-id":"icon-btn-font"},l.a.createElement(m.a,{className:z.button,title:n(N.a.font_name_size),"data-test-id":"icon-btn-text_expanded"},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.TEXT,size:I.d.XS,colorState:I.a.NORMAL})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.font_name_size))))),l.a.createElement(h.a,{key:"color",name:"color",className:z.menuListItem,ariaLabel:n(N.a.color),onClick:this.onClickColor,"data-test-id":"icon-btn-color"},l.a.createElement(m.a,{className:z.button,title:n(N.a.color),"data-test-id":"icon-btn-text_color_expanded"},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.TEXT_COLOR,size:I.d.XS,colorState:I.a.NORMAL})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.color))))),a?l.a.createElement(h.a,{key:"turn-off-richtext",name:"turn-off-richtext",className:z.menuListItem,ariaLabel:n(N.a.plaintext_icon_label),onClick:s.bind(null,"plaintext")},l.a.createElement(m.a,{className:z.button,title:n(N.a.plaintext),"data-test-id":"richtext-off"},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.RICHTEXT_OFF,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.plaintext_text_label))))):l.a.createElement(h.a,{className:z.menuListItem}),l.a.createElement("span",{className:z.sectionDivider}),l.a.createElement(h.a,{key:"align-l",name:"align-l",className:z.menuListItem,ariaLabel:n(N.a.leftAlign),onClick:s.bind(null,"left")},l.a.createElement(m.a,{className:z.button,title:n(N.a.leftAlign)},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.ALIGN_LEFT,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.leftAlign))))),l.a.createElement(h.a,{key:"align-c",name:"align-c",className:z.menuListItem,ariaLabel:n(N.a.centerAlign),onClick:s.bind(null,"center")},l.a.createElement(m.a,{className:z.button,title:n(N.a.centerAlign)},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.ALIGN_CENTER,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.centerAlign))))),l.a.createElement(h.a,{key:"align-r",name:"align-r",className:z.menuListItem,ariaLabel:n(N.a.rightAlign),onClick:s.bind(null,"right")},l.a.createElement(m.a,{className:z.button,title:n(N.a.rightAlign)},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.rightAlignIcon},l.a.createElement(g.b,{kind:I.b.ALIGN_LEFT,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.rightAlign))))),l.a.createElement(h.a,{name:"indent",key:"indent",className:z.menuListItem,ariaLabel:n(N.a.increaseIndent),onClick:s.bind(null,"indent")},l.a.createElement(m.a,{className:z.button,title:n(N.a.increaseIndent)},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon+" "+z.rtlRawScaleX},l.a.createElement(g.b,{kind:I.b.INDENT,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.increaseIndent)))))),l.a.createElement("div",{className:z.spaceBetween}),l.a.createElement("div",null,l.a.createElement(h.a,{key:"bold",name:"bold",className:z.menuListItem,ariaLabel:n(N.a.bold_icon_label),onClick:this.props.onClickBold},l.a.createElement(m.a,{className:z.button,title:n(N.a.bold),"data-test-id":"icon-btn-bold"},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.BOLD,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.bold))))),l.a.createElement(h.a,{key:"italic",name:"italic",className:z.menuListItem,ariaLabel:n(N.a.italic_icon_label),onClick:this.props.onClickItalic},l.a.createElement(m.a,{className:z.button,title:n(N.a.italic),"data-test-id":"icon-btn-italic"},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.ITALIC,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.italic))))),l.a.createElement(h.a,{key:"strikethrough",name:"strikethrough",className:z.menuListItem,ariaLabel:n(N.a.strikeThrough),onClick:s.bind(null,"strikeThrough")},l.a.createElement(m.a,{className:z.button,title:n(N.a.strikeThrough),"data-test-id":"icon-btn-strikethrough"},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon},l.a.createElement(g.b,{kind:I.b.STRIKETHROUGH,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.strikeThrough))))),l.a.createElement(h.a,{className:z.menuListItem}),l.a.createElement("span",{className:z.sectionDivider}),l.a.createElement(h.a,{key:"bullet",name:"bullet",className:z.menuListItem,ariaLabel:n(N.a.bulletedList),onClick:s.bind(null,"bullet")},l.a.createElement(m.a,{className:z.button,title:n(N.a.bulletedList)},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon+" "+z.rtlRawScaleX},l.a.createElement(g.b,{kind:I.b.LIST_UNORDERED,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.bulletedList))))),l.a.createElement(h.a,{key:"number",name:"number",className:z.menuListItem,ariaLabel:n(N.a.numberedList),onClick:s.bind(null,"number")},l.a.createElement(m.a,{className:z.button,title:n(N.a.numberedList)},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon+" "+z.rtlRawHidden},l.a.createElement(g.b,{kind:I.b.LIST_ORDERED,size:I.d.XS})),l.a.createElement("span",{className:z.menuIcon+" "+z.rtlRemoveHidden},l.a.createElement(g.b,{kind:I.b.LIST_ORDERED_FLIPPED,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.numberedList))))),l.a.createElement(h.a,{key:"outdent",name:"outdent",className:z.menuListItem,ariaLabel:n(N.a.decreaseIndent),onClick:s.bind(null,"outdent")},l.a.createElement(m.a,{className:z.button,title:n(N.a.decreaseIndent)},l.a.createElement("div",{className:z.menuItem},l.a.createElement("span",{className:z.menuIcon+" "+z.rtlRawScaleX},l.a.createElement(g.b,{kind:I.b.OUTDENT,size:I.d.XS})),l.a.createElement("span",{className:z.menuLabel},l.a.createElement(u.FormattedMessage,N.a.decreaseIndent)))))))):l.a.createElement(f.a,{style:{display:"none"}})),this.state.showColorMenu?l.a.createElement("span",null,l.a.createElement(q.a,{selectedFGColor:this.props.foreColor,selectedBGColor:this.props.backgroundColor,onFGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"forecolor"),onBGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"backcolor"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"",this.state.showFontMenu?l.a.createElement("span",null,l.a.createElement(W,{selectedFontSize:this.props.fontSize,selectedFontFamily:this.props.fontFamily,onFontSizeChange:this.props.onChooseFont.bind(this.props.toolbar,"fontsize"),onFontFamilyChange:this.props.onChooseFont.bind(this.props.toolbar,"fontname"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):"")}}i()(K,"contextTypes",{intl:u.intlShape.isRequired});var Z=K,Y=s(29),X=s.n(Y);var Q=class extends l.a.Component{render(){return l.a.createElement("input",{role:"button",className:this.props.className,type:"file",ref:"input",value:"",title:this.props.ariaLabel,"aria-label":this.props.ariaLabel,multiple:this.props.multiple,onChange:this.props.onChange})}},$=s(55),J=s(53),ee=s(40),te=s(14),se=s(12),ae=s(740),ne=s.n(ae),re=s(11),ie=s(101),oe=s(148),ce=s(18),de=s(7),le=s(27),ue=s(106),_e=s.n(ue),me=s(741),pe=s.n(me),he=s(45);const ge=b()(pe.a),Ee=Object(u.defineMessages)({gdriveLabel:{id:"compose.gdrive_label",defaultMessage:"Google Drive"},gdriveLogo:{id:"compose.gdrive_logo",defaultMessage:"Google Drive logo"},dropboxLabel:{id:"compose.dropbox_label",defaultMessage:"Dropbox"},dropboxLogo:{id:"compose.dropbox_logo",defaultMessage:"Dropbox logo"},gdriveConnectDescription:{id:"compose.gdrive_connect_text",defaultMessage:"Connect your Google Drive account to browse, search and share files and photos in mail you send."},gdriveConnectButtonText:{id:"compose.gdrive_connect_button_text",defaultMessage:"Connect your Google Drive"},dropboxConnectDescription:{id:"compose.dropbox_connect_text",defaultMessage:"Connect your Dropbox account to browse, search and share files and photos in mail you send."},dropboxConnectButtonText:{id:"compose.dropbox_connect_button_text",defaultMessage:"Connect your Dropbox"},close:{id:"compose.close_button_label",defaultMessage:"Close"}}),Ie={[p.W.GDRIVE]:Object(he.a)("/img/google_drive.png"),[p.W.DROPBOX]:Object(he.a)("/img/dropbox.png")};class Se extends l.a.Component{constructor(...e){super(...e),i()(this,"handleClickOnPopover",e=>{e.stopPropagation()})}render(){const e=this.props,t=e.provider,s=e.onConnectHandler,a=this.context.intl.formatMessage,n=Ie[t];return l.a.createElement("div",{className:ge.secondaryPopup,onClick:this.handleClickOnPopover},l.a.createElement("div",{className:ge.topSection},l.a.createElement("span",{className:ge.providerLabel},a(Ee[`${t}Label`])),l.a.createElement("span",null,l.a.createElement(E.a,{"data-iskeynav":!0,"data-test-id":"close-button",kind:I.b.CLOSE,size:I.d.XXS,title:a(Ee.close),colorState:I.a.NORMAL,onClick:this.props.handleClose}))),l.a.createElement("div",{className:ge.separatorNoMargin}),l.a.createElement("div",{className:ge.bottomSection},l.a.createElement("img",{alt:a(Ee[`${t}Logo`]),src:n}),l.a.createElement("div",{className:ge.description},a(Ee[`${t}ConnectDescription`])),l.a.createElement(m.a,{"data-test-id":"connect-button",className:ge.connectButton,onClick:s,title:a(Ee[`${t}ConnectButtonText`])},a(Ee[`${t}ConnectButtonText`]))))}}i()(Se,"contextTypes",{intl:u.intlShape.isRequired});var Ce=Se,fe=s(459),Te=s.n(fe),Ae=s(742),be=s.n(Ae),Oe=s(278),Re=s(313);const Ne=Object(u.defineMessages)({searchFiles:{id:"files_search",defaultMessage:"Search files"}}),Me={kind:I.b.SEARCH,size:I.d.XXS,colorState:I.a.FIRST_LEVEL_GRAY};class De extends l.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props,s=t.handleSearchChange,a=t.searchBoxValue,n=b()(be.a,{searchBoxNotEmpty:!!a});return l.a.createElement("div",{className:n.searchSection},l.a.createElement(Oe.a,{fujiIconProps:Me,kind:Re.a.LEFT_ICON,onChange:s,className:n.searchInput,placeholder:e(Ne.searchFiles),value:a,isClearable:!0,clearButtonContainerClassName:n.clearButtonContainer,focusOnMount:!0}))}}i()(De,"contextTypes",{intl:u.intlShape});var ye=De,Le=s(99),ve=s(79),Pe=s(181),Fe=s(744),we=s.n(Fe);const ke=b()(we.a),xe="/",Ue=Object(u.defineMessages)({backButton:{id:"compose.cloud_storage_back_button_title",defaultMessage:"Go back to previous folder"},allFiles:{id:"compose.cloud_storage_all_files_menu_item",defaultMessage:"All Files"},recentFiles:{id:"compose.recent_files_in_mail_menu",defaultMessage:"Recent files in Mail"}});class Ge extends l.a.Component{constructor(...e){super(...e),i()(this,"getMenuItem",(e,t)=>{const s=this.context.intl.formatMessage,a="    ".repeat(t)+e.name;return l.a.createElement(Pe.a,{key:e.id,name:e.path===xe?s(Ue.allFiles):e.name,onClick:this.props.handleMenuItemClick.bind(this,e)},l.a.createElement("div",{className:ke.listItem,title:e.name},a))}),i()(this,"renderMenuItems",()=>{return this.props.folderTree.slice(0,-1).map((e,t)=>this.getMenuItem(e,t))})}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.folderTree,a=t.provider,n=t.handleBackButton,r=s.length;if(r>1){const t=s[r-1].name||a;return l.a.createElement("div",{className:ke.leftHeaderSection},l.a.createElement(E.a,{title:e(Ue.backButton),kind:I.b.ARROW_UP,size:I.d.S,rotate:I.c.D270,colorState:I.a.FIRST_LEVEL_GRAY,onClick:n,"data-test-id":"icon-btn-folder_back",paddingLess:!0}),l.a.createElement("span",{className:ke.folderLabel},t),l.a.createElement($.a,{className:ke.navigationPopoverContainer},l.a.createElement(J.a,null,l.a.createElement(ve.a,{kind:I.b.INPUT_ARROW_DOWN,size:I.d.XS,colorStates:{normal:I.a.FIRST_LEVEL_GRAY,hovered:I.a.PRIMARY_HOVER},paddingLess:!0})),l.a.createElement(ee.b,{triggerOn:te.i.CLICK,permittedArrowDirections:[te.h.UP],zAltitude:se.ZIndices.POPOVER.HIGH,isArrowVisible:!1,align:te.a.START},l.a.createElement("div",{className:ke.navigationPopoverContent},l.a.createElement(x.a,{kind:Le.a.MENU,focusOnMount:!0},this.renderMenuItems())))))}const i=p.R[a]&&p.R[a].displayName||e(Ue.recentFiles);return l.a.createElement("span",{className:ke.providerLabel},i)}}i()(Ge,"contextTypes",{intl:u.intlShape.isRequired});var je=Ge,He=s(54),Be=s(745),Ve=s.n(Be),We=s(746),qe=s.n(We),ze=s(460),Ke=s.n(ze),Ze=s(153),Ye=s(42),Xe=s(188),Qe=s(47);const $e=p.w.SimplifiedTypes,Je=b()(Ke.a),et=Object(u.defineMessages)({preview:{id:"compose.preview_button",defaultMessage:"Preview"},previewTitle:{id:"compose.preview_button_title",defaultMessage:"Click to preview item"},thumbnailTitle:{id:"compose.thumbnail_title",defaultMessage:"Click to insert item"}});class tt extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{hover:!1}),i()(this,"handleMouseOver",()=>{this.setState({hover:!0})}),i()(this,"handleMouseLeave",()=>{this.setState({hover:!1})}),i()(this,"handlePreviewClick",e=>{e.stopPropagation(),this.props.item.previewLink&&window.open(this.props.item.previewLink,"_blank"),this.props.handlePreviewClick(this.props.item,e)}),i()(this,"handleItemClick",()=>{this.props.handleItemClick(this.props.item)}),i()(this,"renderPreviewLink",()=>{const e=this.props,t=e.item,s=e.provider,a=e.isThumbnail,n=(0,this.context.intl.formatMessage)(et.preview);return s===p.W.YMAIL||t.previewLink?l.a.createElement("div",{className:a?Je.previewWrapper:{}},l.a.createElement(ve.a,{kind:s===p.W.YMAIL?I.b.PREVIEW:I.b.POP_OUT,"data-test-id":"preview-button",size:a?I.d.XS:I.d.XXS,colorStates:{normal:a?I.a.SELECTED:I.a.FIRST_LEVEL_GRAY,hovered:I.a.NORMAL},title:n,className:Je.previewLink,onClick:this.handlePreviewClick,paddingLess:!a},a?null:l.a.createElement("div",{className:Je.previewLabel},n))):null}),i()(this,"renderThumbnailItem",()=>{const e=this.context.intl.formatMessage,t=this.props.item,s=t.name,a=t.mimeType,n=t.thumbnail,r=Object(Qe.j)(a),i=r.type,o=r.subtype,c=Object(Qe.i)(s),d=Object(Qe.d)(i,o),u=b()(Ke.a,{type:c||d});return l.a.createElement("div",{className:u.thumbnailResultItem,"data-test-id":"thumbnail-result-item",onClick:this.handleItemClick},l.a.createElement("div",{onMouseLeave:this.handleMouseLeave,onMouseOver:this.handleMouseOver},l.a.createElement("div",{className:n?u.imageThumbnail:u.genericThumbnail},n?l.a.createElement("img",{className:u.image,src:n}):l.a.createElement(Xe.a,{type:i,subtype:o,filename:s,isThumbnail:!0}),this.state.hover?l.a.createElement("div",{className:u.hoverMask,title:e(et.thumbnailTitle)},this.renderPreviewLink(t)):null)),l.a.createElement("div",{className:u.thumbnailTitle,title:s},s))}),i()(this,"renderIcon",()=>{const e=this.props,t=e.item,s=e.provider,a=t.mimeType,n=t.thumbnail,r=t.name,i=Object(Qe.j)(a),o=i.type,c=i.subtype,d=Object(Qe.d)(o,c);return!n||s!==p.W.YMAIL&&d!==$e.IMAGE?l.a.createElement("div",{className:Je.icon},l.a.createElement(Xe.a,{type:o,subtype:c,filename:r})):l.a.createElement("img",{className:Je.icon,src:n})}),i()(this,"renderListItem",()=>{const e=this.props,t=e.item,s=e.provider,a=t.mimeType,n=t.name,r=t.lastUpdateTime,i=t.creationDate,o=t.sharedBy,c=o&&o.name;return l.a.createElement("div",{onMouseLeave:this.handleMouseLeave,onMouseOver:this.handleMouseOver},l.a.createElement("div",{className:Je.resultItem,"data-test-id":"list-result-item",onClick:this.handleItemClick},l.a.createElement("div",{className:Je.resultItemContainer},this.renderIcon(),l.a.createElement("div",{className:Je.leftSection},l.a.createElement("div",{className:Je.title,title:n},n),s===p.W.YMAIL?l.a.createElement("div",{className:Je.sharedByName,title:c},c):null),a!==p.N.FOLDER_MIMETYPE?l.a.createElement("div",{className:Je.rightSection},this.state.hover?this.renderPreviewLink():null,l.a.createElement("div",{className:Je.dateLabel},l.a.createElement(Ze.a,{"data-test-id":"date-time-label",date:new Date(r||i),timezone:this.context.timezone.name}))):null),l.a.createElement("div",{className:Je.divider})))})}render(){return this.props.isThumbnail?this.renderThumbnailItem():this.renderListItem()}}i()(tt,"contextTypes",{intl:u.intlShape,timezone:Ye.e});var st=tt;const at=b()(qe.a);class nt extends l.a.Component{render(){const e=this.props,t=e.provider,s=e.handleItemClick,a=e.handlePreviewClick;return l.a.createElement("div",{className:at.rowContainer},e.item.items.map(e=>l.a.createElement(st,{key:e.id,item:e,handlePreviewClick:a,handleItemClick:s,isThumbnail:!0,provider:t})))}}i()(nt,"contextTypes",{intl:u.intlShape});var rt=nt,it=s(227);const ot=Object(he.a)("/img/cloud_storage_empty_results.png"),ct=Object(he.a)("/img/recent_attachments_empty_results.png"),dt=b()(Ve.a),lt=Object(u.defineMessages)({loadingError:{id:"compose.cloud_account_loading_error",defaultMessage:"Unable to load files at the moment."},emptyResultsMsg:{id:"compose.cloud_account_empty_results_msg",defaultMessage:"No files found. Please try another search."},recentFilesEmptyResultsMsg:{id:"compose.recent_files_empty_results_msg",defaultMessage:"See all recent attachments in one place"},tryAgain:{id:"launch.error.try.again",defaultMessage:"Try again"}});class ut extends l.a.Component{constructor(...e){super(...e),i()(this,"onScroll",({scrollTop:e})=>{this.scrollPosition=e}),i()(this,"handleLoadMoreItems",()=>{if(!this.props.loadMoreItems)return!1;const e=this.props;return this.props.handleLoadMoreItemsOnScroll(e.provider,e.path,e.query,!0),!0}),i()(this,"handleNavigateToPath",()=>{this.props.handleNavigateToPath(this.props.provider,"/","")}),i()(this,"formatListItem",e=>l.a.createElement(st,{item:e,handleItemClick:this.props.handleItemClick,handlePreviewClick:this.props.handlePreviewClick,provider:this.props.provider,isThumbnail:!1,previewAttachment:this.props.previewAttachment})),i()(this,"formatThumbnailItem",e=>l.a.createElement(rt,{item:e,handleItemClick:this.props.handleItemClick,handlePreviewClick:this.props.handlePreviewClick,provider:this.props.provider})),i()(this,"renderVirtualList",()=>{const e=this.props,t=e.isListView;return l.a.createElement(it.a,{bufferSize:10,items:t?e.items:e.itemsInRows,getItemHeight:()=>t?56:167,formatItem:t?this.formatListItem:this.formatThumbnailItem,loadMoreItems:this.handleLoadMoreItems,scrollerClassName:dt.resultContainer,scrollTop:this.scrollPosition||0,onScroll:this.onScroll})})}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.status,a=t.items,n=t.provider,r=s===p.bd.LOADED&&0===a.length;return s===p.bd.ERROR||r?l.a.createElement("div",{className:dt.container,"data-test-id":"cloud-storage-no-results"},l.a.createElement("img",{src:n===p.W.YMAIL?ct:ot}),r?l.a.createElement("div",{className:dt.emptyResultsText},e(n===p.W.YMAIL?lt.emptyResultsMsg:lt.recentFilesEmptyResultsMsg)):null,s===p.bd.ERROR?l.a.createElement("div",null,l.a.createElement("div",{className:dt.descriptionError},e(lt.loadingError)),l.a.createElement("div",{className:dt.tryAgain},l.a.createElement("a",{"data-test-id":"cloud-storage-try-again-link",className:dt.tryAgainLink,onClick:this.handleNavigateToPath},e(lt.tryAgain)))):null):l.a.createElement("div",{className:dt.virtualListContainer,"data-test-id":"virtual-list-container"},s===p.bd.DOES_NOT_EXIST||s===p.bd.LOADING&&0===a.length?l.a.createElement("div",{className:dt.loadingContainer},l.a.createElement(He.b,null)):this.renderVirtualList())}}i()(ut,"contextTypes",{intl:u.intlShape});var _t=ut,mt=s(10),pt=s(149);const ht=b()(Te.a),gt=Object(u.defineMessages)({close:{id:"compose.close_button_label",defaultMessage:"Close"}});class Et extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{folderTree:[{id:"allFiles",name:"All Files",path:"/"}],listView:!0}),i()(this,"handleNavigateToPath",(e,t,s)=>{this.props.handlePathChange(e,t,s)}),i()(this,"handlePreviewClick",(e,t)=>{if(this.props.provider===p.W.YMAIL){const s=this.props.getAttachmentById(`${e.mid}:${e.partId}`);if(!s)return;this.props.previewAttachment(s.id,Object(ce.j)(t),s.conversationId,!0)}}),i()(this,"handleItemClick",e=>{if(this.props.provider===p.W.YMAIL){const t=this.props.getAttachmentById(`${e.mid}:${e.partId}`);this.props.handleAttachmentFromRecentFiles(t)}else if(e.mimeType===p.N.FOLDER_MIMETYPE){const t=[...this.state.folderTree];t.push(e),this.setState({folderTree:t},this.handleNavigateToPath(this.props.provider,e.path,this.props.query))}else this.props.onItemClick({itemId:e.id})}),i()(this,"handleMenuItemClick",e=>{const t=[...this.state.folderTree],s=t.splice(0,t.findIndex(t=>t.name===e.name)+1);this.setState({folderTree:s},this.handleNavigateToPath(this.props.provider,e.path,this.props.query))}),i()(this,"handleBackButton",()=>{const e=[...this.state.folderTree];e.pop(),this.setState({folderTree:e},()=>{const t=e[e.length-1];t&&this.handleNavigateToPath(this.props.provider,t.path,this.props.query)})}),i()(this,"toggleListView",e=>{this.setState({listView:e})}),i()(this,"renderViewModeToggle",()=>{const e=b()(Te.a,{isThumbnailView:!this.state.listView});return l.a.createElement("div",{className:e.toggleContainer},l.a.createElement("div",{className:e.thumbnailToggle,onClick:()=>{this.toggleListView(!1)}},l.a.createElement("div",{className:e.squareContainer},l.a.createElement("div",{className:e.square}),l.a.createElement("div",{className:e.square})),l.a.createElement("div",{className:e.squareContainer},l.a.createElement("div",{className:e.square}),l.a.createElement("div",{className:e.square}))),l.a.createElement("div",{className:e.listToggle,onClick:()=>{this.toggleListView(!0)}},l.a.createElement("div",{className:e.line}),l.a.createElement("div",{className:e.line}),l.a.createElement("div",{className:e.line}),l.a.createElement("div",{className:e.line})))})}componentWillMount(){this.props.fetchCloudStorageItems({source:this.props.provider,query:this.props.query,path:this.props.path,i13nModel:{mKey:de.e.CLOUD_STORAGE_ITEMS_FETCHED,sec:de.g.COMPOSE_ATTACH_FILES_MENU,interactionType:de.d.nav}})}componentDidUpdate(e){const t=this.props,s=t.shareableLink,a=t.insertLink;s&&s!==e.shareableLink&&((0,t.handleClose)(),a(this.props.shareableLink))}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.searchBoxValue,a=t.handleSearchChange,n=t.provider,r=t.status,i=t.items,o=t.itemsInRows,c=t.query,d=t.path;return l.a.createElement("div",{className:ht.popover},l.a.createElement("div",{className:ht.headerSection},l.a.createElement(je,{folderTree:this.state.folderTree,provider:n,handleMenuItemClick:this.handleMenuItemClick,handleBackButton:this.handleBackButton}),l.a.createElement("div",{className:ht.rightHeaderSection},l.a.createElement(ye,{searchBoxValue:s,handleSearchChange:a}),this.renderViewModeToggle(),l.a.createElement(E.a,{"data-iskeynav":!0,"data-test-id":"close-button",kind:I.b.CLOSE,size:I.d.XXS,onClick:this.props.handleClose,title:e(gt.close),colorState:I.a.FIRST_LEVEL_GRAY}))),l.a.createElement("div",{className:ht.separator}),l.a.createElement("div",{className:ht.resultsSection},l.a.createElement(_t,{status:r,items:i,itemsInRows:o,handleLoadMoreItemsOnScroll:this.props.handleLoadMoreItemsOnScroll,handleNavigateToPath:this.handleNavigateToPath,handleItemClick:this.handleItemClick,handlePreviewClick:this.handlePreviewClick,loadMoreItems:this.props.loadMoreItems,path:d,query:c,provider:n,isListView:this.state.listView})))}}i()(Et,"contextTypes",{intl:u.intlShape.isRequired});var It=Object(_.connect)((e,t)=>{const s=t.query.toLowerCase().trim(),a=t.provider,n=t.path,r=Object(re.b)(e),i=r.getCloudStorageAccountSelectors,o=r.getAttachmentById,c=Object(re.b)(e),d=c.getCurrentListId,l=(0,c.getListsSelectors)(),u=l.doesListExist,_=l.getListStatus,m=l.getItemIdsSelectors,h=l.hasMoreItems,g=Object(mt.W)(d(),{listContentType:p.Pb.CLOUD_STORAGE_ITEMS,keyword:s,name:a,folders:[].concat(n),listFilter:p.Qb.CLOUD_STORAGE_ITEMS});let E=[],I=p.bd.DOES_NOT_EXIST,S=!1;u(g)&&(E=E.concat(m(g).getItemIds()),I=_(g),S=h(g));const C=i().getCloudStorageItems(),f=E.map(e=>C[e]);return{items:f,itemsInRows:Object(pt.e)(f,3,"unknown","none"),status:I,shareableLink:i().getShareableLink(),loadMoreItems:S,getAttachmentById:o}},e=>({onItemClick:t=>e(Object(oe.h)(t))}))(Et);const St=500,Ct=Object(u.defineMessages)({attachFile:{id:"compose.attach_file",defaultMessage:"Attach files"},close:{id:"compose.close_button_label",defaultMessage:"Close"}});class ft extends l.a.Component{constructor(e,t){super(e,t),i()(this,"state",{showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",path:"/"}),i()(this,"_getInitialState",()=>({showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",path:"/"})),i()(this,"onPopoverContentHide",()=>{this.setState(this._getInitialState())}),i()(this,"handleClosePopover",()=>{this._attachPopoverContainer.hide(te.i.CLICK)}),i()(this,"handleChange",e=>{const t=Array.prototype.slice.call(e.target.files);this.props.onFileSelect({data:t})}),i()(this,"handleLoadItems",(e="",t="/",s="",a=!1)=>{this.props.fetchCloudStorageItems({source:e,query:s,path:t,fetchMoreItems:a,i13nModel:{mKey:de.e.CLOUD_STORAGE_ITEMS_FETCHED,sec:de.g.COMPOSE_ATTACH_FILES_MENU,interactionType:a?de.d.nav:de.d.click}})}),i()(this,"handleAttachFromComputer",()=>{X.a.findDOMNode(this.inputFileBtn).click(),this.props.onFileSelectBtnClicked()}),i()(this,"handleAttachFromGDrive",()=>{this.setState({showMainPopover:!1,showGDrivePopover:!0})}),i()(this,"handleAttachFromDropbox",()=>{this.setState({showMainPopover:!1,showDropboxPopover:!0})}),i()(this,"handleAttachFromRecentEmails",()=>{this.setState({showMainPopover:!1,showRecentFilesInMail:!0})}),i()(this,"handleGDriveConnect",e=>{this.props.onConnect({url:"",provider:p.W.GDRIVE,i13nModel:{mKey:de.e.CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED,sec:de.g.COMPOSE_ATTACH_FILES_MENU,interactionType:Object(ce.j)(e)}})}),i()(this,"handleDropboxConnect",e=>{this.props.onConnect({url:"",provider:p.W.DROPBOX,i13nModel:{mKey:de.e.CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED,sec:de.g.COMPOSE_ATTACH_FILES_MENU,interactionType:Object(ce.j)(e)}})}),i()(this,"handlePathChange",(e,t,s)=>{this.setState({path:t},()=>{this.handleLoadItems(e,t,s,!1)})}),i()(this,"handleSearchChange",(e,t)=>{const s=t||"",a=_e()(function(t){this.props.fetchCloudStorageItems({source:e,query:t,path:this.state.path,fromSearchBox:!0,i13nModel:{mKey:de.e.CLOUD_STORAGE_ITEMS_FETCHED,sec:de.g.COMPOSE_ATTACH_FILES_MENU,interactionType:de.d.keydown}}),this.setState({query:t})}.bind(this,s),St);this.setState({searchBoxValue:s},()=>a())}),i()(this,"renderConnectMenu",(e,t)=>l.a.createElement(Ce,{provider:e,onConnectHandler:t,handleClose:this.handleClosePopover})),i()(this,"renderResultsMenu",e=>{const t=this.props;return e!==p.W.GDRIVE||t.gDriveConnected?e!==p.W.DROPBOX||t.dropboxConnected?l.a.createElement(It,{provider:e,fetchCloudStorageItems:this.props.fetchCloudStorageItems,searchBoxValue:this.state.searchBoxValue,handleSearchChange:this.handleSearchChange.bind(this,e),handlePathChange:this.handlePathChange,query:this.state.searchBoxValue,path:this.state.path,handleClose:this.handleClosePopover,insertLink:this.props.insertLink,handleLoadMoreItemsOnScroll:this.handleLoadItems,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment}):this.renderConnectMenu(p.W.DROPBOX,this.handleDropboxConnect):this.renderConnectMenu(p.W.GDRIVE,this.handleGDriveConnect)}),i()(this,"renderAttachFilesMenu",e=>{const t=this.context.intl.formatMessage,a=this.state,n=a.showMainPopover,r=a.showGDrivePopover,i=a.showDropboxPopover,o=a.showRecentFilesInMail,c=r||i||o;return l.a.createElement($.a,{className:e.popoverContainer,ref:e=>this._attachPopoverContainer=e},l.a.createElement(J.a,null,l.a.createElement("div",null,l.a.createElement(E.a,{"data-iskeynav":!0,"aria-label":t(Ct.attachFile),title:t(Ct.attachFile),kind:I.b.ATTACH,size:I.d.XS,colorState:I.a.NORMAL}),l.a.createElement(Q,{ref:e=>this.inputFileBtn=e,className:e.input,multiple:!0,onChange:this.handleChange,ariaLabel:t(Ct.attachFile)}))),n?l.a.createElement(ee.b,{triggerOn:te.i.CLICK,permittedArrowDirections:[te.h.DOWN],useMenuPositioning:!0,zAltitude:se.ZIndices.POPOVER.HIGH,isArrowVisible:!1,align:te.a.START},l.a.createElement(le.a,{import:"../attach_files_menu/index.jsx",handleEscape:this.handleClosePopover,handleAttachFromGDrive:this.handleAttachFromGDrive,handleAttachFromDropbox:this.handleAttachFromDropbox,handleAttachFromRecentEmails:this.handleAttachFromRecentEmails,handleAttachFromComputer:this.handleAttachFromComputer,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1192))},_moduleResolver:function(){return 1192}})):null,c?l.a.createElement(ee.b,{triggerOn:te.i.CLICK,permittedArrowDirections:[te.h.DOWN],zAltitude:se.ZIndices.POPOVER.HIGH,isArrowVisible:!1,align:te.a.START,onHide:this.onPopoverContentHide,hideOnContentClick:!1,outerClickFallthrough:!1,useMenuPositioning:!0},r?this.renderResultsMenu(p.W.GDRIVE):null,i?this.renderResultsMenu(p.W.DROPBOX):null,o?this.renderResultsMenu(p.W.YMAIL):null):null)}),this.state=this._getInitialState()}render(){const e=this.context.intl.formatMessage,t=b()(ne.a,{pointerEventsDisabled:this.props.cloudStorageEnabled});return this.props.cloudStorageEnabled?this.renderAttachFilesMenu(t):l.a.createElement("div",{className:t.container,onClick:this.handleAttachFromComputer,"data-test-id":"attach-from-computer-btn"},l.a.createElement(g.b,{kind:I.b.ATTACH,colorState:I.a.NORMAL,size:I.d.XS}),l.a.createElement(Q,{ref:e=>this.inputFileBtn=e,className:t.input,multiple:!0,onChange:this.handleChange,ariaLabel:e(Ct.attachFile)}))}}i()(ft,"contextTypes",{intl:u.intlShape.isRequired});var Tt=Object(_.connect)(e=>{const t=Object(re.b)(e),s=t.getFeaturesSelectors,a=(0,t.getContentProviders)(),n=a.doesContentProviderExist,r=a.isContentProviderConnected;return{cloudStorageEnabled:s().isEnabled(p.ub.CLOUD_STORAGE),gDriveConnected:n(p.W.GDRIVE)&&r(p.W.GDRIVE),dropboxConnected:n(p.W.DROPBOX)&&r(p.W.DROPBOX)}},e=>({onConnect:t=>e(Object(ie.a)(t)),fetchCloudStorageItems:t=>e(Object(oe.a)(n()({},t,{query:t.query.toLocaleLowerCase().trim(),path:t.path})))}))(ft),At=s(364),bt=s(222),Ot=s(64);const Rt=Object(u.defineMessages)({gifPicker:{id:"gif.gifpicker.title",defaultMessage:"Insert animated GIFs"}}),Nt=500;class Mt extends l.a.Component{constructor(e,t){super(e,t),i()(this,"_getDefaultCategory",()=>{const e=this.props.gifCategories;return e.length?e[0]:{}}),i()(this,"_getInitialState",()=>{const e=this._getDefaultCategory(),t=e.queryString,s=e.categoryId;return{query:void 0===t?"":t,searchBoxValue:"",selectedCategory:void 0===s?"":s,menuOpen:!1}}),i()(this,"handleGifClick",e=>{this.props.onGifClick(e),this.toggleMenu()}),i()(this,"fetchGIF",e=>{this.props.gifCategories.length&&this.props.fetchGIF(e)}),i()(this,"onCategoryClick",(e,t=!0)=>{this.fetchGIF({query:e.queryString,fromCategory:t,i13nModel:{mKey:de.e.GIF_CATEGORY,sec:de.g.COMPOSE_TOOLBAR,interactionType:de.d.click}}),this.setState({query:e.queryString,selectedCategory:e.categoryId,searchBoxValue:""})}),i()(this,"toggleMenu",e=>{e&&(e.stopPropagation(),e.preventDefault());const t=this.state.menuOpen;t?(this._gifPopoverContainer.hide(te.i.MOUNT),this.setState(this._getInitialState(),()=>this.props.focusBackEditor())):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._gifPopoverContainer.show(te.i.MOUNT),this.setState({menuOpen:!t}),Ot.b.sendI13nModel({i13nModel:{mKey:de.e.GIF_OPEN,sec:de.g.COMPOSE_MSG,interactionType:de.d.click}}))}),i()(this,"handleSearchChange",e=>{clearTimeout(this._timer);const t=this._getDefaultCategory(),s=t.queryString,a=t.categoryId,n=void 0===a?"":a;let r=void 0===s?"":s;e?(this.setState({searchBoxValue:e,selectedCategory:""}),r=e):this.setState({searchBoxValue:"",selectedCategory:n}),this._timer=setTimeout(function(e){this.fetchGIF({query:e,fromSearchBox:!0,i13nModel:{mKey:de.e.GIF_SEARCH,sec:de.g.COMPOSE_TOOLBAR,interactionType:de.d.keydown}}),this.setState({query:e})}.bind(this,r),Nt)}),i()(this,"onPopoverContentHide",()=>{this.setState(this._getInitialState())}),i()(this,"renderGifPopup",()=>l.a.createElement(ee.b,{permittedArrowDirections:[te.h.DOWN],triggerOn:te.i.MOUNT,customPositioning:!0,"data-test-id":"gif-pop-up",onHide:this.onPopoverContentHide},l.a.createElement(le.a,{import:"./atoms/gif_pop_up.jsx",fetchGIF:this.fetchGIF,fetchGifCategories:this.props.fetchGifCategories,gifCategories:this.props.gifCategories,handleGifClick:this.handleGifClick,handleSearchChange:this.handleSearchChange,left:this.toolbarBoundingRect.left,bottom:Math.max(window.innerHeight-this.toolbarBoundingRect.top,this.toolbarBoundingRect.height),onCategoryClick:this.onCategoryClick,searchBoxValue:this.state.searchBoxValue,selectedCategory:this.state.selectedCategory,query:this.state.query,toggleMenu:this.toggleMenu,width:this.toolbarBoundingRect.width,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1203))},_moduleResolver:function(){return 1203}}))),this._timer=null,this.state=this._getInitialState()}componentWillReceiveProps(e){if(!this.props.gifCategories.length&&e.gifCategories.length){const t=e.gifCategories[0],s=t.queryString,a=t.categoryId;this.setState({query:void 0===s?"":s,selectedCategory:void 0===a?"":a})}}componentDidMount(){this.props.showGIFPicker&&setTimeout(()=>{this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.setState({menuOpen:!0})},1e3)}render(){const e=this.state.menuOpen,t=this.context.intl.formatMessage;return l.a.createElement("div",{"data-test-id":"gif-button",onClick:this.toggleMenu},l.a.createElement($.a,{ref:e=>this._gifPopoverContainer=e},l.a.createElement(J.a,{"data-test-id":"gif-picker-anchor"},l.a.createElement(m.a,{title:t(Rt.gifPicker),"aria-label":t(Rt.gifPicker),kind:e?v.a.ICON_HIGHLIGHTED:v.a.ICON},l.a.createElement(g.b,{kind:I.b.GIF_BOX,size:I.d.XS,colorState:I.a.NORMAL}))),e?this.renderGifPopup():null))}}i()(Mt,"defaultProps",{onGifClick:()=>{},showGIFPicker:!1}),i()(Mt,"contextTypes",{executeAction:c.a.func,intl:u.intlShape.isRequired});var Dt=Mt;var yt=Object(_.connect)(e=>{const t=(0,Object(re.b)(e).getGifCategoriesSelectors)(),s=t.getGifCategoriesList;return{gifCategories:(0,t.isCategoryListLoaded)()?s():[]}},function(e){return{fetchGIF(t){e(Object(bt.d)(n()({},t,{query:t.query.toLocaleLowerCase().trim()})))},fetchGifCategories(){e(Object(bt.b)())}}})(Dt),Lt=s(565),vt=s(476),Pt=s.n(vt);const Ft=b()(Pt.a),wt=Object(u.defineMessages)({emojiPicker:{id:"emoji.emojipicker.title",defaultMessage:"Insert emojis"}});class kt extends l.a.Component{constructor(e){super(e),i()(this,"togglePopover",()=>{const e=this.state.popoverOpen;this.state.popoverOpen&&this.props.focusBackEditor(),this.setState({popoverOpen:!e})}),i()(this,"closePicker",()=>{this.refs.emojiPopoverContainer.hide(te.i.CLICK);const e={mKey:de.e.EMOJI_CLOSE,sec:de.g.COMPOSE_MSG,interactionType:de.d.click};this.setState({popoverOpen:!1}),this.props.focusBackEditor(),this.context.executeAction(Lt.b,{i13nModel:e})}),i()(this,"renderEmojiCue",()=>l.a.createElement(ee.b,{align:te.a.CENTER,triggerOn:te.i.MOUNT,zAltitude:se.ZIndices.POPOVER.HIGH,persistent:!0},l.a.createElement(le.a,{import:"../compose/atoms/emoji_cue",cueName:p.ub.EMOJI_CUE,onTryNow:()=>{this.refs.emojiPopoverContainer.hide(te.i.MOUNT),this.refs.emojiPopoverContainer.show(te.i.CLICK)},onMayBeLater:()=>{},_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1229))},_moduleResolver:function(){return 1229}}))),i()(this,"renderEmojiPopup",()=>l.a.createElement(ee.b,{permittedArrowDirections:[te.h.DOWN],triggerOn:te.i.CLICK,"data-test-id":"emoji-pop-up",onShow:()=>{this.props.showEmojiCue&&this.refs.emojiPopoverContainer.hide(te.i.MOUNT)},onHide:this.togglePopover,align:te.a.START,className:Ft.emojiPopUp},l.a.createElement(le.a,{import:"./emoji_popup.jsx",bundleName:"lazy_group2",onEmojiClick:this.props.onEmojiClick,closePicker:this.closePicker,"data-test-id":"emoji-lazy-component",tooltipEmoji:this.props.tooltipEmoji,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1208))},_moduleResolver:function(){return 1208}},l.a.createElement(le.b,{loading:!0},l.a.createElement("div",{className:Ft.lazyStyle},l.a.createElement(He.b,null)))))),this.timer=null,this.state={popoverOpen:!1}}componentWillUnmount(){clearTimeout(this.timer)}render(){const e=this.context.intl.formatMessage,t=this.state.popoverOpen;return l.a.createElement("div",{onClick:this.togglePopover},l.a.createElement($.a,{ref:"emojiPopoverContainer"},l.a.createElement(J.a,{"data-test-id":"emoji-picker-anchor"},l.a.createElement(m.a,{"data-test-id":"emoji-picker-button",title:e(wt.emojiPicker),"aria-label":e(wt.emojiPicker),kind:t?v.a.ICON_HIGHLIGHTED:v.a.ICON},l.a.createElement(g.b,{kind:I.b.COMPOSE_EMOJI,size:I.d.XS,colorState:I.a.NORMAL}))),this.props.showEmojiCue?this.renderEmojiCue():null,this.renderEmojiPopup()))}}i()(kt,"contextTypes",{executeAction:c.a.func.isRequired,intl:u.intlShape.isRequired});var xt=kt,Ut=s(749),Gt=s.n(Ut);s(9);const jt=p.lb.Status,Ht={bullet:"insertunorderedlist",number:"insertorderedlist",left:"justifyleft",center:"justifycenter",right:"justifyright"},Bt=Object(u.defineMessages)({bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},select_more_tools:{id:"compose.select_more_tools",defaultMessage:"More options"},delete_draft:{id:"compose.delete_draft",defaultMessage:"Delete this draft"},send_button_title:{id:"compose.send_button_title",defaultMessage:"Send this email"}});class Vt extends l.a.Component{constructor(...e){super(...e),i()(this,"_getToolbarStyle",()=>{const e={};return this.props.fixed&&this.props.width&&(e.maxWidth=`${this.props.width-k.HORIZONTAL_PADDING}px`),e}),i()(this,"_renderToolbarPlaceholder",e=>l.a.createElement("div",{className:e.toolbarPlaceholder,"data-test-id":"compose-toolbar-placeholder"})),i()(this,"_renderRichTextOff",(e,t)=>l.a.createElement("span",{className:e.icon},l.a.createElement(E.a,{"data-test-id":"richtext-on",onClick:this.onMoreMenuChange.bind(this,"richtext"),title:t(Bt.richtext),"aria-label":t(Bt.richtext_icon_label),kind:I.b.RICHTEXT_ON,size:I.d.XS}))),i()(this,"getToolbarBoundingRect",()=>this.toolbar?this.toolbar.getBoundingClientRect():{}),i()(this,"_renderRichTextOn",(e,t,s,a)=>{const n=this.getFormatState(),r=n.foreColor,i=n.backgroundColor,o=n.fontSize,c=n.fontFamily;return s?l.a.createElement("div",{className:e.formattingTools},l.a.createElement("span",{className:e.menuIcon},l.a.createElement(Z,{onChange:this.onMoreMenuChange,onHandleChange:this.handleChange,tooltip:t(Bt.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:a,onMenuShow:this.props.onMoreMenuClick,onAddLink:this.onAddLink,onClickBold:this.onClickBold,onClickItalic:this.onClickItalic,onChooseColor:this.chooseColor,onChooseFont:this.chooseFont,foreColor:r,backgroundColor:i,fontSize:o,fontFamily:c,toolbar:this}))):l.a.createElement("div",{className:e.formattingTools},l.a.createElement("span",{className:e.icon},l.a.createElement(E.a,{onClick:this.onAddLink,title:t(Bt.link),"aria-label":t(Bt.link_icon_label),kind:I.b.LINK,size:I.d.XS})),l.a.createElement("span",{className:e.icon},l.a.createElement(E.a,{onClick:this.onClickBold,title:t(Bt.bold),"aria-label":t(Bt.bold_icon_label),kind:I.b.BOLD,size:I.d.XS})),l.a.createElement("span",{className:e.icon},l.a.createElement(E.a,{onClick:this.onClickItalic,title:t(Bt.italic),"aria-label":t(Bt.italic_icon_label),kind:I.b.ITALIC,size:I.d.XS})),l.a.createElement("span",{className:e.menuIcon},l.a.createElement(q.a,{selectedFGColor:r,selectedBGColor:i,onFGColorChange:this.chooseColor.bind(this,"forecolor"),onBGColorChange:this.chooseColor.bind(this,"backcolor"),focusBackEditor:this.props.focusOnEditor})),l.a.createElement("span",{className:e.menuIcon},l.a.createElement(W,{selectedFontSize:o,selectedFontFamily:c,onFontSizeChange:this.chooseFont.bind(this,"fontsize"),onFontFamilyChange:this.chooseFont.bind(this,"fontname"),focusBackEditor:this.props.focusOnEditor})),l.a.createElement("span",{className:e.menuIcon},l.a.createElement(y,{onChange:this.onMoreMenuChange,tooltip:t(Bt.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:a,onMenuShow:this.props.onMoreMenuClick})))}),i()(this,"onFileSelectBtnClicked",()=>{this.handleChange(k.ToolbarActions.FILE_SELECT_BTN_CLICKED,{i13nModel:{sec:de.g.COMPOSE_TOOLBAR,mKey:de.e.COMPOSE_FILE_SELECT_BTN_CLICKED,interactionType:de.d.click}})}),i()(this,"onThemeChange",(e,t)=>this.handleChange(k.ToolbarActions.UPDATE_STATIONERY,{data:e,i13nModel:t})),i()(this,"onAddLink",e=>{this.handleChange("createlink",{data:e,i13nModel:{mKey:de.e.COMPOSE_ADD_LINK,sec:de.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}})}),i()(this,"onClickBold",e=>{this.handleChange("bold",{data:e,i13nModel:{mKey:de.e.COMPOSE_BOLD,sec:de.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}}),this.props.focusOnEditor()}),i()(this,"onClickItalic",e=>{this.handleChange("italic",{data:e,i13nModel:{mKey:de.e.COMPOSE_ITALIC,sec:de.g.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}}}),this.props.focusOnEditor()}),i()(this,"chooseColor",(e,t)=>{this.handleChange(e,{data:t,i13nModel:{mKey:de.e.COMPOSE_CHOOSE_COLOR,sec:de.g.RTE_TOOLBAR,actionData:{color:t,isFreshCompose:this.props.isFreshCompose}}})}),i()(this,"chooseFont",(e,t)=>{let s={size:t};"fontname"===e&&(s={font:t});const a={mKey:de.e.COMPOSE_CHOOSE_FONT,sec:de.g.RTE_TOOLBAR,actionData:n()({},s,{isFreshCompose:this.props.isFreshCompose})};this.handleChange(e,{data:t,i13nModel:a})}),i()(this,"onMoreMenuChange",(e,t)=>{let s=de.e.COMPOSE_OPEN_MORE_MENU,a="";switch(e){case"bullet":s=de.e.COMPOSE_CHOOSE_LIST_TYPE,a="unordrd";break;case"number":s=de.e.COMPOSE_CHOOSE_LIST_TYPE,a="ordrd";break;case"left":s=de.e.COMPOSE_ALIGN_TEXT,a="lft";break;case"right":s=de.e.COMPOSE_ALIGN_TEXT,a="rght";break;case"center":s=de.e.COMPOSE_ALIGN_TEXT,a="cntr";break;case"strikeThrough":s=de.e.COMPOSE_STRIKETHROUGH_TEXT,a="strikethrough";break;case"plaintext":s=de.e.COMPOSE_PLAIN_TEXT_MODE,a="plaintext";break;case"richtext":s=de.e.COMPOSE_RICH_TEXT_MODE,a="richtext"}this.handleChange(e,{data:t,i13nModel:{mKey:s,sec:de.g.RTE_TOOLBAR,actionData:{setTo:a,isFreshCompose:this.props.isFreshCompose}}})}),i()(this,"handleChange",(e,t)=>{this.props.onExecuteAction(Ht[e]||e,t)}),i()(this,"getFormatState",()=>Object.assign({foreColor:q.a.DEFAULTS.FG_COLOR,backgroundColor:q.a.DEFAULTS.BG_COLOR,fontSize:"0",fontFamily:""},this.props.formatState))}render(){const e=this.props,t=e.disabled,s=e.draftStatus,a=e.fixed,n=e.kind,r=e.showPlainTextMode,i=e.stationeryEnabled,o=e.gifFinderEnabled,c=e.uploadEnabled,d=e.emojiEnabled,_=e.width,p=e.stationeryRestrictedThemes,h=e.useRichText,g=b()(Gt.a,{kind:n,fixed:a,disabled:t}),S=this.context.intl.formatMessage,C=this._getToolbarStyle(),f=h&&i,T=h&&o,A=h&&d,O=c||f,R=_<k.COMPOSE_MIN_WIDTH;return l.a.createElement("div",{"data-test-id":"compose-toolbar",ref:e=>this.toolbar=e},l.a.createElement("div",{"data-test-id":"compose-toolbar-styler",className:g.composeToolbar,style:C},this.props.showSendButton?l.a.createElement(m.a,{"data-test-id":"compose-send-button",className:g.sendButton,disabled:s===jt.SENDING||this.props.disabled,onClick:this.handleChange.bind(this,k.ToolbarActions.SEND),title:S(Bt.send_button_title)},l.a.createElement(u.FormattedMessage,{id:"compose.send_button_label",defaultMessage:"Send"})):null,c?l.a.createElement("span",{className:g.icon+" "+g.rtlRawScaleX},l.a.createElement(Tt,{onFileSelect:this.handleChange.bind(this,k.ToolbarActions.FILE_SELECT),onFileSelectBtnClicked:this.onFileSelectBtnClicked,insertLink:this.props.insertLink,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment})):null,T?l.a.createElement("span",{className:g.menuIcon},l.a.createElement(yt,{onGifClick:this.props.onGifClick,focusBackEditor:this.props.focusOnEditor,left:this.props.left,width:this.props.width,csid:this.props.csid,getToolbarBoundingRect:this.getToolbarBoundingRect,showGIFPicker:this.props.showGIFPicker})):null,f?l.a.createElement("span",{className:g.menuIcon+" "+g.rtlRawScaleX},l.a.createElement(At.a,{"data-test-id":"stationery-button",getToolbarBoundingRect:this.getToolbarBoundingRect,onThemeChange:this.onThemeChange,focusBackEditor:this.props.focusOnEditor,stationeryDefaultTheme:this.props.stationeryDefaultTheme,stationeryTheme:this.props.stationeryTheme,stationeryCategory:this.props.stationeryCategory,stationeryCategoriesToShow:this.props.stationeryCategoriesToShow,showStationeryCue:this.props.showStationeryCue,stationeryRestrictedThemes:p,rtl:this.props.rtl,showStationeryPicker:!t&&this.props.showStationeryPicker,showStationeryDefaultTheme:this.props.showStationeryDefaultTheme,showStationeryThemeCategories:this.props.showStationeryThemeCategories,showStationerySetDefault:this.props.showStationerySetDefault,toolbarKind:this.props.kind})):null,A?l.a.createElement("span",{className:g.menuIcon},l.a.createElement(xt,{ref:e=>this.emojiPicker=e,showEmojiCue:this.props.showEmojiCue,focusBackEditor:this.props.focusOnEditor,left:this.props.left,onEmojiClick:this.props.addEmoji})):null,O?l.a.createElement("span",{"data-test-id":"section-divider-contentSection",className:g.sectionDivider}):null,h?this._renderRichTextOn(g,S,R,r):this._renderRichTextOff(g,S),l.a.createElement("span",{className:g.spacer}),s===jt.SAVED||s===jt.SAVED_PARTIAL||s===jt.SAVING?l.a.createElement("span",{role:"status","data-test-id":"status",className:g.status},l.a.createElement(u.FormattedMessage,s===jt.SAVING?{id:"compose.draft_saving_status",defaultMessage:"Saving"}:{id:"compose.draft_save_success_status",defaultMessage:"Saved"})):null,this.props.showDeleteButton?l.a.createElement("span",{className:g.deleteButton},l.a.createElement(E.a,{onClick:this.handleChange.bind(null,k.ToolbarActions.DELETE_DRAFT),title:S(Bt.delete_draft),"aria-label":S(Bt.delete_draft),kind:I.b.DELETE,size:I.d.XS,colorState:I.a.INHERITED,className:g.trashIcon})):null),this.props.fixed&&this._renderToolbarPlaceholder(g))}}i()(Vt,"contextTypes",{intl:u.intlShape.isRequired}),i()(Vt,"defaultProps",{uploadEnabled:!0,showDeleteButton:!0,showSendButton:!0,showPlainTextMode:!0,kind:k.ToolbarTypes.COMPOSE,fixed:!1,disabled:!1,onGifClick:()=>{},stationeryEnabled:!1,useRichText:!0,isFreshCompose:!0});t.a=Object(_.connect)((e,{getDraftStatus:t})=>{return{draftStatus:t?t():void 0}},null,null,{withRef:!0})(Vt)},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(480),l=s.n(d),u=s(6),_=s(15),m=(s(42),s(230)),p=s(27),h=s(54),g=s(20),E=s(5),I=s(18),S=s(21);var C=s(176),f=s(105),T=s(9);const A=Object(T.c)(["FORM","PASSWORD"]),b="Remember: {brand} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.",O=`\n    You are about to enter a password in a form that will not be sent to {brand}!.\n    ${b}\n`,R=`\n    You are about to send information to someone other than {brand}.\n    If you do not want anyone outside of {brand} to have this information, click "Cancel" now.\n    ${b}\n`,N=Object(u.defineMessages)({warning:{id:"message_pane.warning_title",defaultMessage:"Warning"}});class M extends c.a.Component{constructor(...e){super(...e),n()(this,"hidePasswordWarning",e=>{this.props.onDialogClose(),e.warningShown=!0}),n()(this,"submitForm",e=>{this.props.onDialogClose(),e&&"FORM"===e.nodeName&&e.submit&&HTMLFormElement.prototype.submit.call(e)})}shouldComponentUpdate({warningType:e,targetElement:t}){const s=this.props;return e!==s.warningType||t!==s.targetElement}render(){const e=(0,this.context.intl.formatMessage)(N.warning),t=this.props,s=t.warningType,a=t.targetElement,n=t.onDialogClose,r=c.a.createElement(u.FormattedMessage,{id:"message_pane.password_warning",defaultMessage:O,values:{brand:"Yahoo"}}),i=c.a.createElement(u.FormattedMessage,{id:"message_pane.form_warning",defaultMessage:R,values:{brand:"Yahoo"}});switch(s){case A.FORM:return c.a.createElement(f.a,{title:e,message:i,onAbort:n,onConfirm:this.submitForm.bind(this,a)});case A.PASSWORD:return c.a.createElement(C.a,{title:e,message:r,onAccept:this.hidePasswordWarning.bind(this,a)});default:return null}}}n()(M,"contextTypes",{intl:u.intlShape.isRequired});var D=M;const y=/^\s*mailto:/i;class L extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{warningType:null}),n()(this,"_isYahooUrl",e=>{const t=document.createElement("a");t.setAttribute("href",e);return/\.yahoo\.com$/i.test(t.hostname)}),n()(this,"_handleFormWarning",e=>{const t=e.target;if(!this._isYahooUrl(t.action))return e.preventDefault(),e.stopPropagation(),this.setState({warningType:A.FORM,targetElement:t}),!1}),n()(this,"_handlePasswordWarning",e=>{const t=e.target;if("INPUT"===t.tagName&&"password"===t.type&&!t.warningShown)return this.setState({warningType:A.PASSWORD,targetElement:t}),!1}),n()(this,"handleKeyDown",e=>{e.stopPropagation()}),n()(this,"handleBodyClick",e=>{let t=e.target;do{if("A"===t.nodeName){if(t.hasAttribute("ymailto")||t.href&&y.test(t.href)){e.preventDefault(),e.stopPropagation();const s=t.getAttribute("ymailto")||t.href;return void this.props.onMailtoClick(s)}if(t.hasAttribute("href"))return t.setAttribute("rel","noreferrer"),void this.props.onHrefLinkClick(t)}}while(t.parentElement!==this.wrapper&&(t=t.parentElement))}),n()(this,"handleDialogClose",()=>{this.setState({warningType:null,targetElement:null})})}componentDidMount(){const e=this.messageBody;e&&(e.addEventListener("submit",this._handleFormWarning,!0),e.addEventListener("focus",this._handlePasswordWarning,!0),function(e,t=[]){Object(S.a)("function"==typeof e.querySelectorAll,"#fixImageSrc: Expect container to be a html element"),[].forEach.call(e.querySelectorAll('img[src^="cid://"]'),e=>{const s="<"+e.src.slice("cid://".length)+">",a=t.find(e=>e.contentId===s);a&&(e.src=a.downloadUrl,e.setAttribute("data-id",a.dataId||e.dataset.id))})}(e,this.props.attachments))}componentWillUnmount(){const e=this.messageBody;e&&(e.removeEventListener("submit",this._handleFormWarning,!0),e.removeEventListener("focus",this._handlePasswordWarning,!0))}render(){const e=this.state,t=e.warningType,s=this.props.dangerouslySetInnerHTML.__html;return c.a.createElement("div",{className:this.props.className,onKeyDown:this.handleKeyDown,ref:e=>this.wrapper=e},t?c.a.createElement(D,{warningType:t,targetElement:e.targetElement,onDialogClose:this.handleDialogClose}):null,c.a.createElement("div",{ref:e=>this.messageBody=e,onClickCapture:this.handleBodyClick,dangerouslySetInnerHTML:{__html:s}}))}}n()(L,"contextTypes",{config:i.a.object}),n()(L,"defaultProps",{className:"",onHrefLinkClick:I.a,onMailtoClick:I.a,attachments:[]});var v=L,P=s(11),F=s(13),w=s.n(F),k=s(368),x=s.n(k),U=s(19),G=s(28),j=s(16);const H=w()(x.a),B=Object(u.defineMessages)({blockedImageMessageTitle:{id:"blocked_image_banner.message",defaultMessage:"This message contains blocked images."},blockedLinkAndImageMessageTitle:{id:"blocked_link_and_image_banner.message",defaultMessage:"For your security we disabled all images and links in this email. If you believe it is safe to use, mark this message as not spam."},blockedLinksMessageTitle:{id:"blocked_link_banner.message",defaultMessage:"For your security we disabled links in this email. If you believe it is safe to use, mark this message as not spam."}}),V=({isSpamFolder:e,hasAnchorLinks:t,hasBlockedImages:s,onShowImages:a,onChangeImageSetting:n},{intl:r})=>{const i=r.formatMessage(((e,t,s=!1)=>{const a=B.blockedImageMessageTitle;return s?e&&t?B.blockedLinkAndImageMessageTitle:e?B.blockedLinksMessageTitle:a:a})(t,s,e));return c.a.createElement("div",{className:H.container,"data-test-id":"blocked-image-banner"},c.a.createElement(j.b,{size:E.d.XS,kind:E.b.EXCLAMATION_ALT,colorState:E.a.WARNING_GRAD_RED}),c.a.createElement("div",{title:i,className:H.message},c.a.createElement("span",null,i),c.a.createElement("span",{className:H.buttonsContent},s?c.a.createElement(U.a,{kind:G.a.CHROMELESS,onClick:a},c.a.createElement("span",{"data-test-id":"show-image-button",className:H.button},c.a.createElement(u.FormattedMessage,{id:"blocked_image_banner.show_images",defaultMessage:"Show images"}))):null,e?null:c.a.createElement("div",null,c.a.createElement(u.FormattedMessage,{id:"blocked_image_banner.or_text",defaultMessage:"or"}),c.a.createElement(U.a,{kind:G.a.CHROMELESS,onClick:n},c.a.createElement("span",{"data-test-id":"always-show-image-button",className:H.button},c.a.createElement(u.FormattedMessage,{id:"blocked_image_banner.change_setting",defaultMessage:"Always show images"})))))))};V.defaultProps={hasBlockedImages:!0},V.contextTypes={intl:u.intlShape.isRequired};var W=V,q=s(17),z=s(0);const K=w()(x.a),Z=e=>{e({route:Object(q.v)({settingsGroupId:z.Cd.VIEWING_EMAIL})})},Y=(e,{navigateTo:t})=>c.a.createElement("div",{className:K.container,"data-test-id":"pac-notification-banner"},c.a.createElement(j.b,{size:E.d.XS,kind:E.b.TRUSTED,colorState:E.a.SUCCESS}),c.a.createElement("p",{className:K.message},c.a.createElement(u.FormattedMessage,{id:"externalImage.message",defaultMessage:"External images are now more secure, and shown by default."})),"",c.a.createElement(U.a,{"data-test-id":"change-settings-button",kind:G.a.CHROMELESS,onClick:Z.bind(null,t)},c.a.createElement("span",{className:K.primaryButton},c.a.createElement(u.FormattedMessage,{id:"externalImage.change_accept",defaultMessage:"Change in Settings"}))));Y.contextTypes={navigateTo:i.a.func.isRequired};var X=Y;var Q=Object(_.connect)((e,{messageId:t,isSpamFolder:s})=>{const a=Object(P.b)(e),n=a.isFeatureEnabled,r=(0,a.getMessageBodiesSelectors)(),i=r.hasInlineImage,o=r.hasAnchorLinks,c=n(z.zd.SHOW_IMAGES),d=n(z.ub.INLINE_IMAGES_PROXIED);return{showPACNotification:!c&&d,hasInlineImage:i(t),hasAnchorLinks:s&&o(t)}})(class extends c.a.Component{render(){const e=this.props,t=e.showPACNotification,s=e.hasInlineImage,a=e.isSpamFolder,n=e.hasBlockedImages,r=e.hasAnchorLinks,i=e.onChangeImageSetting;return n||a&&r?c.a.createElement(W,{onShowImages:e.onShowImages,isSpamFolder:a,hasBlockedImages:n,hasAnchorLinks:r,onChangeImageSetting:i}):t&&s&&!a?c.a.createElement(X,{onChangeImageSetting:i}):null}}),$=s(178),J=s(252),ee=s.n(J);const te=Object(u.defineMessages)({hideQuote:{id:"hide_quote",defaultMessage:"Hide original message"},showQuote:{id:"show_quote",defaultMessage:"Show original message"}}),se=l.a.renderToStaticMarkup(c.a.createElement("div",null,c.a.createElement(h.b,null)));class ae extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{quoteExpanded:this.props.quoteExpanded||!1,mounted:!1}),n()(this,"toggleQuote",e=>{e.preventDefault(),e.stopPropagation();const t=this.state.quoteExpanded,s=this.props;return t||s.hasFullBody||(0,s.onShowQuotedText)({full:!0,secure:s.isSecure}),this.setState({quoteExpanded:!t}),!1}),n()(this,"renderBodyContent",(e,t="")=>{const s=this.props;return c.a.createElement(v,{className:t,dangerouslySetInnerHTML:{__html:e},onHrefLinkClick:s.onHrefLinkClick,onMailtoClick:s.onMailtoClick,attachments:this.props.attachments})}),n()(this,"_areImagesBlocked",({htmlAnnotations:e=[]})=>e.some(({type:e})=>"blocked"===e)),n()(this,"onLinkEnhancerUtilsLoad",({enhanceCardsInTree:e})=>{this.enhanceCardsInTree=e,this.enhanceCards()}),n()(this,"enhanceCards",()=>!!this.enhanceCardsInTree&&(this.enhanceCardsInTree(this.messageBody,this,this.props.onShareCard,this.props.onShareCardLinkClick,this.context.intl.formatMessage),!0))}componentDidMount(){this.setState({mounted:!0}),this.props.isSpamFolder&&this.messageBody&&Object($.b)(this.messageBody)}componentDidUpdate(e,t){const s=this.props.body.html!==e.body.html;(s||this.state.quoteExpanded!==t.quoteExpanded)&&this.enhanceCards(),s&&this.props.isSpamFolder&&this.messageBody&&Object($.b)(this.messageBody)}render(){const e=this.state.quoteExpanded,t=this.props,a=t.onShowImages,n=t.onChangeImageSetting,r=t.renderAttachments,i=t.removeCollapseButton,o=t.body,d=t.hasFullBody,l=t.isSpamFolder,u=t.printView,_=t.messageId,h=w()(ee.a,{printView:u}),I=!!this.props.linkEnhancerEnabled,S=Object(m.b)(o.html,o.htmlAnnotations,e);let C=S.messageBelow;const f=S.messageAbove,T=S.expandable,A=this.context.intl.formatMessage(e?te.hideQuote:te.showQuote),b=h.leftRightPadding;!d&&e&&(C=se);const O=this._areImagesBlocked(o);return c.a.createElement("div",{"data-test-id":"message-view-body",className:h.messageViewBody},c.a.createElement("div",{className:h.blockedImageBanner},c.a.createElement(Q,{messageId:_,isSpamFolder:l,hasBlockedImages:O,onChangeImageSetting:n,onShowImages:a.bind(null,{secure:!1,full:d})})),c.a.createElement("div",{ref:e=>this.messageBody=e,className:"msg-body "+h.bodyContainer,"data-test-id":"message-view-body-content"},this.renderBodyContent(f,b),!i&&T&&c.a.createElement("div",{className:b},c.a.createElement(g.a,{"data-norrin-quoted-button":!0,className:h.button,kind:E.b.CHEVRON_UP,size:E.d.XS,rotate:e?E.c.D180:E.c.D90,colorState:E.a.DISABLED,title:A,onClick:this.toggleQuote},A)),""!==C&&c.a.createElement("div",{className:b},this.renderBodyContent(C))),r?c.a.createElement("div",{className:b},r()):null,I?c.a.createElement(p.a,{import:"../../../platform/link_enhancer/utils_loader.jsx",onLoad:this.onLinkEnhancerUtilsLoad,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1209))},_moduleResolver:function(){return 1209}}):null)}}n()(ae,"contextTypes",{intl:u.intlShape.isRequired}),n()(ae,"defaultProps",{onShowImages:I.a,onShowQuotedText:I.a,onChangeImageSetting:I.a});t.a=Object(_.connect)((e,t)=>{const s=Object(P.b)(e),a=s.doesMessageBodyExist,n=s.getMessageBodiesSelectors,r=s.getFeaturesSelectors,i=s.findUnsyncedDataByCsid,o=s.isSendRequested,c=s.doesComposeSessionExist;let d;const l=t.csid,u=t.folderId,_=(0,s.getFoldersSelectors)().isSpamFolder,m=r().isEnabled,p=n(),h=!m(z.ub.CONVERSATIONS)||p.hasFullBody(t.messageId),g=p.isSecureMessage(t.messageId),E=m("linkEnhancer");if(l&&c(l)&&o(l)){const e=i(l)||{};d={html:e.html,htmlAnnotations:e.htmlAnnotations}}else d=a(t.messageId)?p.get(t.messageId):{};return{body:d,isSecure:g,hasFullBody:h,linkEnhancerEnabled:E,isSpamFolder:_(u)}})(ae)},,,,function(e,t,s){"use strict";s.d(t,"b",function(){return L}),s.d(t,"a",function(){return P});var a=s(4),n=s.n(a),r=s(0),i=s(10),o=s(41),c=s(9),d=s(25),l=s(11),u=s(2),_=s(48),m=s(18),p=s(85),h=s(17);const g="cmps",E="cmpsThrd",I="msgRd",S="msgLst",C="contacts",f="sttgs",T="sttgs_per",A="trvLst",b="tutrl",O="subhub",R={[r.Cd.PERSONALIZE_INBOX]:T,[r.Cd.ACCOUNTS]:"sttgs_accnt",[r.Cd.NOTIFICATIONS]:"sttgs_not",[r.Cd.WRITING_EMAIL]:"sttgs_write",[r.Cd.VIEWING_EMAIL]:"sttgs_view",[r.Cd.AUTOMATIC_REPLY]:"sttgs_rply",[r.Cd.FILTERS]:"sttgs_fltr",[r.Cd.SECURITY_AND_PRIVACY]:"sttgs_sec",[r.Cd.ENCRYPTION]:"sttgs_crypt",[r.Cd.SOCIAL_ACCOUNTS]:"sttgs_sclaccnt",[r.Cd.MAIL_PRO]:"sttgs_mpro"},N=(e,t)=>{let s;const a=e.getSelectedAccountId,n=e.getFeaturesSelectors,i=(0,e.getAccountSelectors)(),o=i.getAccountById,l=i.getImapInAccounts,u=i.getPrimaryAccount,p=i.userHasRegisteredAccount,h=n(),g=h.getSetting,E=h.isEnabled,I=E(r.zd.MAIL_TABS),S=g(r.zd.PREVIEW_PANE),C=g(r.zd.THEME),f=g(r.zd.LOGIN_NAME),T=g(r.zd.THEME_MODE),A=u()||{},b=a(),O=p()?o(b)||{}:A,R=l().length,N=Object(_.d)(O),M=Object(m.e)(O.email||f||"").domainPart,D=O.type===r.i.FREE?"PRIMARY":O.type,y=E(r.ub.SHOULD_SW_SUBSCRIBE),L=Object(d.b)()?Object(c.a)(window,"AppBootstrapData.guid"):null,v=Object(d.b)()?Object(c.a)(window,"AppBootstrapData.shardId"):null;switch(A.type){case r.i.PHONE:s="phReg";break;case r.i.EXTERNAL:s="usReg";break;default:s=""}return{_GUID:L,tabs:I,prvwpan:S,vwCntxt:t,acctDomain:M,acctType:D,accountId:b,impn:R,theme:`${C}-${T}`,prvdr:N,regType:s,pshNtfctnsSbscrbd:y,shardId:v}},M=(e,t)=>{const s=Object(i.w)(e),a=Object(i.t)(s),n=Object(i.u)(s),o=Object(i.O)(s),c=Object(i.K)(s),d=Object(p.d)(s);if(e.name===r.gd.MESSAGE_FROM_SEARCH_LIST||e.name===r.gd.MESSAGE_FROM_LIST)return t.messageViewTabPane;if(o)switch(a){case r.Pb.IMAGES:return t.photosSmartviewSearch;case r.Pb.DOCUMENTS:return t.documentsSmartviewSearch;case r.Pb.COUPON_CARDS:return t.couponsSmartview;case r.Pb.GROCERY_STORES:return t.groceriesSmartview;case r.Pb.TRAVEL_CARDS:return n===r.Qb.TRAVEL_VIEW_UPCOMING?t.travelUpcoming:t.travelPast;default:return d?t.travelEmails:t.messageSmartviewSearch}return c?t.searchPeople:t.searchKeyword},D=e=>{const t=Object(i.w)(e);return Object(i.K)(t)?o.b.SEARCH_PEOPLE:Object(i.O)(t)?o.b.SEARCH_SMARTVIEW:o.b.SEARCH_KEYWORD},y=e=>{const t=Object(i.w)(e);return Object(i.t)(t)===r.Pb.TRAVEL_CARDS?A:S},L=(e,t=!1)=>{const s=Object(l.b)(e),a=s.getRoute,n=s.getSetting,d=s.getFoldersSelectors,_=(0,s.getAction)(),m=a(),p=Object(i.w)(m),h=n(r.zd.SPACE_IDS),A=d(),N=A.getPrimaryFolderTypeByFolderId,L=A.doesFolderIdExist,v=Object(i.o)(p),P=L(v)?N(v):r.Cb.INBOX;let F;switch(m.name){case r.gd.SEARCH:F={spaceId:M(m,h),activeViewType:S,activeFolderType:D(m)};break;case r.gd.MESSAGE_FROM_SEARCH_LIST:case r.gd.MESSAGE_FROM_LIST:F={spaceId:M(m,h),activeViewType:I,activeFolderType:D(m)};break;case r.gd.LIST:F={spaceId:M(m,h),activeViewType:y(m),activeFolderType:D(m)};break;case r.gd.BASE:case r.gd.EDIT_FOLDER:case r.gd.FOLDER:{const e={[r.Cb.INBOX]:h.folderViewInbox,[r.Cb.DRAFT]:h.folderViewDrafts,[r.Cb.SENT]:h.folderViewSent,[r.Cb.ARCHIVE]:h.folderViewArchive,[r.Cb.TRASH]:h.folderViewTrash,[r.Cb.BULK]:h.folderViewSpam,[r.Cb.USER]:h.folderViewCustom};F={spaceId:t?h.launchFolder:e[P]||h.folderViewCustom,activeViewType:S,activeFolderType:o.b[P]||o.b.USER};break}case r.gd.NEW_DRAFT:case r.gd.EDIT_DRAFT:F={spaceId:t?h.launchCompose:h.composeNew,activeViewType:g,activeFolderType:o.b[P]||o.b.USER};break;case r.gd.MESSAGE_FROM_FOLDER_LIST:{const e=m.params&&m.params.attachmentId?h.attachment:h.messageViewTabPane;F={spaceId:t?h.launchMessage:e,activeViewType:I,activeFolderType:o.b[P]||o.b.USER};break}case r.gd.TUTORIAL:F={spaceId:h.tutorial,activeViewType:b,activeFolderType:o.b.INBOX};break;case r.gd.SETTINGS:F={spaceId:h.settings,activeViewType:R[Object(c.a)(m,"params.settingsGroupId")]||T,activeFolderType:o.b.INBOX};break;case r.gd.SIGNATURES_FROM_SETTINGS:case r.gd.THEME_CHOOSER:case r.gd.ACCOUNT_LIST_FROM_SETTINGS:case r.gd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:case r.gd.ADD_ACCOUNT_PROVIDER:case r.gd.BLOCKED_SENDERS:case r.gd.MESSAGE_PREVIEW:F={spaceId:h.settings,activeViewType:f,activeFolderType:""};break;case r.gd.CONTACTS:case r.gd.CONTACT_DETAILS:case r.gd.CONTACT_DETAILS_FROM_SEARCH:case r.gd.EDIT_CONTACT:case r.gd.EDIT_CONTACT_FROM_SEARCH:case r.gd.CREATE_CONTACT:F={spaceId:h.contacts,activeFolderType:"",activeViewType:C};break;case r.gd.SUBSCRIPTION_LIST:F={spaceId:h.subscriptions,activeFolderType:"",activeViewType:O};break;case r.gd.SPONSORED_MESSAGE:F={spaceId:h.root,activeFolderType:"",activeViewType:""}}switch(n(r.zd.PREVIEW_PANE)===r.Rc.NO||m.name!==r.gd.FOLDER&&m.name!==r.gd.SEARCH&&m.name!==r.gd.LIST||Object(i.t)(p)!==r.Pb.MESSAGES||Object(i.O)(p)||(F.activeViewType=S,F.spaceId=h.messageViewReadingPane),_.type){case u.ci:F.activeViewType=S;break;case u.ch:F.activeViewType=E}return F},v=({activeViewType:e,activeFolderType:t},s)=>s?e:`${e}_${t||o.b.INBOX}`,P=()=>{let e={},t={},s=0;return(a,{browserLoggerParams:o})=>{const c=Object(l.b)(a),d=c.getRoute,_=c.getAction,m=c.doesStreamExist,p=c.getCursorItem,g=c.getSetting,E=c.getSelectedMailboxId,I=c.getMainStreamListIds,S=c.listExistsAndIsEmpty,C=d(),f=_(),T=!I(d()).some(e=>{const t=Object(i.t)(e);return t!==r.Pb.MESSAGES&&t!==r.Pb.TRAVEL_CARDS||!S(e)}),A=Object(h.D)(C,t),b=-1!==[u.Vf,u.Zf,u.ci,u.ch].indexOf(f.type);let O,R;if(A&&T||(s=0),f.streamId&&m(f.streamId)&&g(r.zd.PREVIEW_PANE)!==r.Rc.NO&&(C.name===r.gd.FOLDER||C.name===r.gd.SEARCH||C.name===r.gd.LIST)){const t=p(f.streamId);!t||t.id===e.id&&t.listId===e.listId||Object(i.t)(t.listId)!==r.Pb.MESSAGES?t||(e={}):(e=t,O=L(a))}else if(E()&&!A){const e=!t.name;t=C,s=T?f.actionTimestamp:s,O=L(a,e)}else b?O=L(a):A&&T&&!s?(O=L(a),s=f.actionTimestamp):f.type===u.af&&f.name===r.ub.LANDSHARK_CUE?O={spaceId:r.Jb}:f.type===u.We&&f.name===r.ub.LANDSHARK_CUE&&"download_button"!==f.i13nModel.mKey&&(O=L(a));if(C.name===r.gd.SEARCH){const e=Object(i.w)(C);R=Object(i.K)(e)?Object(i.m)(e):Object(i.s)(e)}return O?n()({},O,{pageParams:Object.assign({},n()({},void 0!==R?{query:R}:{}),N(c,v(O,C.name===r.gd.SETTINGS)),o)}):{}}}},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"b",function(){return o});var a=s(2),n=s(11),r=s(0);const i=35e3;function o(e,{csid:t,listId:s,messageIds:i,messageGroupIds:o,permanent:c,streamId:d,streamItem:l,i13nModel:u}){e.dispatch(a.ce,{i13nModel:u,listId:s,streamId:d,streamItem:l,isV2Action:!0,destinationFolderType:r.Cb.TRASH,messageIds:i,fromMessageGroupView:!0,messageGroupIds:o,permanent:c,csid:t,triageActionType:r.ne.DELETE_DRAFT});const _=e.store.getState;return(0,Object(n.b)(_()).getFeaturesSelectors)().isEnabled(r.ub.UPDATE_ITEMS_V3)?Promise.resolve():1===i.length?e.mailAPIClient.request("messages.delete",{messageIds:i}).then(()=>{e.dispatch(a.Xd,{messageIds:i})}).catch(t=>{e.dispatch(a.Wd,{messageIds:i,error:t})}):void 0}},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"a",function(){return c});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.vf},e),o=({latlong:e="",updateBusinessListingForEmail:t=""})=>({type:r.wf,latlong:e,updateBusinessListingForEmail:t}),c=e=>({type:r.uf,error:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return o});var a=s(256),n=s(213),r=s.n(n);const i="tz";class o extends a.a{constructor(e,t=86400,s){super(e,"YM.TZ",{TTL:t,path:s})}determineClientTimeZone(){const e=r.a.determine(),t=e&&e.name();t&&this.set({[i]:t})}getClientTimeZone(){const e=this.get();return e&&e[i]?String(e[i]):""}}},function(e,t,s){"use strict";e.exports={className:{default:{icon:"C_52qC en_0 P_3gJOe ac_FT ab_C D_F gl_C ba_6Eor",container:"k_w p_R a_3PmnJ D_F b_tw30f e_eo6",innerContainer:"D_F ab_CH ac_CH gl_C q_52qC j_1zwO34 o_h cZW7ROP_A e_dRA",content:"em_N D_F P_Z2baRGn A_6EWk i_6Mbr C_Z281SGl o_h r_BN",close:"P_C04i4 ac_CI",link:"C_Z2aVTcY",actionLink:"C_Z2aVTcY A_6EWk"},"type-NORMAL":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-PENDING":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-ADVISORY":{icon:"I_Z1Bab0a aw_Z1vTr7U",container:"b4_Z1Kch8e"},"type-WARNING":{icon:"I_Z9gXar aw_TD3i8",container:"b4_Zij4iv"},"type-FOWARDING_WARNING":{icon:"I_Z9gXar aw_TD3i8",content:"i_6FIA A_6EqO P_Z23bkIA",container:"b_0 E_6Fd5"}},_key:"gQ6G9"}},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(15),l=s(6),u=s(28),_=s(19),m=s(13),p=s.n(m),h=s(359),g=s.n(h),E=s(18),I=s(7);const S=p()(g.a);t.a=Object(d.connect)(void 0,(e,{undoAction:t})=>({onClick:s=>e(n()({},t,{i13nModel:n()({mKey:I.e.UNDO_MOVE_ACTION,sec:I.g.MSG_LIST_NOTIFICATION,interactionType:Object(E.j)(s)},t.i13nModel||{})}))}))(class extends c.a.Component{constructor(...e){super(...e),i()(this,"undo",e=>{this.props.onClose(),this.props.onClick(e)})}render(){return c.a.createElement(_.a,{"aria-hidden":!0,"data-test-id":"undo-button",kind:u.a.CHROMELESS,onClick:this.undo},c.a.createElement("span",{className:S.undo},c.a.createElement(l.FormattedMessage,{id:"notifications.undo",defaultMessage:"Undo"})))}})},function(e,t,s){"use strict";e.exports={className:{default:{alert:"p_f T_73HH L_0 R_0 Z_7GpC t_C jn_1HWwRx D_F gl_C cZW7ROP_n",modal:"p_f T_0 R_0 B_0 L_0 Z_3mRud q_Zjpytw",undo:"C_Z2aVTcY A_6EWk r_P"},multiTask:{alert:"T_7sfl"},bottomAlert:{alert:"B_fq7"},alertFromModalDialog:{alert:"Z_3mRJX"}},_key:"Zkgqtq"}},function(e,t,s){"use strict";e.exports={className:{default:{suggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 ab_C",keywordSuggestionOption:"D_F P_1zJRml k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionAvatar:"W_6UbO H_6UbO E_6Eb4",personSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h",emailAddressLabel:"J_x G_e o_h C_Z1VRpVF",keywordSuggestionLabel:"J_x G_e o_h je_6DEy",keywordSuggestionIcon:"N_6DEy E_eTB je_eTB",deleteButton:"je_6DEy Q_A"}},_key:"2mAEkn"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_B ab_C t_C P_6DEy",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6DEy",body:"t_C A_6EqO i_6FIA jb_6MGW",description:"M_0 C_Z281SGl",anchorStyle:"C_Z2aVTcY S_n",buttonStyle:"P_ZGAgin A_6EqO u_e69 S_n r_P e_dRA C_2bfYWg I_Z2aVTcY b_2fAfSG t_C i_6FIA D_X"}},_key:"Z2hgm2n"}},function(e,t,s){"use strict";e.exports={className:{default:{folderTree:"hd_n P_0 M_0",folderContainer:"H_6NIX D_F ab_C r_P X_6DEy ir3_1JO2M7 it3_689y I4_2tvNsT",toggleFolderTree:"N_fq7 A_6EqO C_Z1YRXYn C4_Z1VRpVF J_x",collapseFolders:"H_6MWH X_eDQ A_6EqO C_Z1YRXYn cdPFi_Z1YRXYn r_P D_F ab_C C4_Z1VRpVF ir3_1JO2M7 it3_dBP",toggle:"D_F ab_C"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_52qC cdPFi_52qC C4_2sqbRh",collapseFolders:"C_52qC cdPFi_52qC C4_2sqbRh ir3_Z1FS2Mn"},"themeMode-DARK":{folderContainer:"ir3_Z1FS2Mn",toggleFolderTree:"C_52qC cdPFi_52qC C4_2sqbRh",collapseFolders:"C_52qC cdPFi_52qC C4_2sqbRh ir3_Z1FS2Mn"}},_key:"23p7r0"}},function(e,t,s){"use strict";e.exports={className:{default:{module:"C_Z1VRpVF D_F ab_C em_N",label:"E_6Fd5 r_P en_0 ac_CI i_6VdP C4_Z2aVTcY J_x",children:"em_N D_F ab_C"},active:{module:"C_Z281SGl",label:"C_Z2aVTcY"}},_key:"ZPeGKV"}},function(e,t,s){"use strict";s.d(t,"b",function(){return O});var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(6),c=s(16),d=s(19),l=s(27),u=s(12),_=s(25),m=(s(9),s(64)),p=s(7),h=s(5),g=s(28),E=s(40),I=s(55),S=s(53),C=s(14),f=s(564),T=s.n(f),A=s(0);s(30);const b=Object(o.defineMessages)({theme_picker:{id:"compose.theme_picker",defaultMessage:"Add stationery"}});function O(e,t){e||(e=t);const s=T.a.config,a=s.themeVersions,n=s.stationeryMobThmPath,r=s.stationeryThemes[e];return r&&(r.themeName=e,r.themeVersion=a[e],r.mobstorPath=n,r.isDefaultTheme=e===t),r}class R extends i.a.Component{constructor(...e){super(...e),n()(this,"state",{menuOpen:!1,hasShownStationeryPicker:!1}),n()(this,"_showStationeryPickerIfNeeded",()=>{if(!this.state.hasShownStationeryPicker){const e=this.props,t=e.getToolbarBoundingRect;e.showStationeryPicker&&setTimeout(()=>{this.toolbarBoundingRect=t(),this.setState({menuOpen:!0,hasShownStationeryPicker:!0}),m.b.sendI13nModel({i13nModel:{mKey:p.e.COMPOSE_AUTO_OPEN_STATIONERY_POPUP,sec:p.g.RTE_TOOLBAR}})},300)}}),n()(this,"_handlePopoverHide",()=>{this.state.menuOpen&&this.setState({menuOpen:!1})}),n()(this,"_toggleMenu",e=>{e&&(e.stopPropagation(),e.preventDefault());const t=this.state.menuOpen;t?(this._stationeryPopoverContainer.hide(C.i.MOUNT),this.props.focusBackEditor()):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._stationeryPopoverContainer.show(C.i.MOUNT)),this.setState({menuOpen:!t}),m.b.sendI13nModel({i13nModel:{mKey:t?p.e.COMPOSE_CLOSE_STATIONERY_POPUP:p.e.COMPOSE_OPEN_STATIONERY_POPUP,sec:p.g.RTE_TOOLBAR,interactionType:p.d.click}})}),n()(this,"renderStationeryCue",()=>this.props.showStationeryCue&&this.refs.button?i.a.createElement(E.b,{popoverAnchor:this.refs.button,align:C.a.CENTER,triggerOn:C.i.MOUNT,zAltitude:u.ZIndices.POPOVER.HIGH},i.a.createElement(l.a,{import:"../compose/atoms/stationery_cue",cueName:A.ub.STATIONERY_CUE,close:this.state.menuOpen,onTryNow:this._toggleMenu,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,862))},_moduleResolver:function(){return 862}})):null),n()(this,"renderStationeryPopup",()=>i.a.createElement(E.b,{ref:e=>this._stationeryPopoverContent=e,permittedArrowDirections:[C.h.DOWN],triggerOn:C.i.MOUNT,customPositioning:!0,"data-test-id":"stationery-pop-up",onHide:this._handlePopoverHide},i.a.createElement(l.a,{import:"./stationery.jsx",getThemeConfig:O,onThemeChange:this.props.onThemeChange,defaultTheme:this.props.stationeryDefaultTheme,selectedTheme:this.props.stationeryTheme,selectedCategory:this.props.stationeryCategory,categoriesToShow:this.props.stationeryCategoriesToShow,toggleMenu:this._toggleMenu,onHide:this._toggleMenu,width:this.toolbarBoundingRect.width,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:Math.max((Object(_.b)()&&window.innerHeight||0)-this.toolbarBoundingRect.top,this.toolbarBoundingRect.height),stationeryRestrictedThemes:this.props.stationeryRestrictedThemes,showDefaultTheme:this.props.showStationeryDefaultTheme,showThemeCategories:this.props.showStationeryThemeCategories,rtl:this.props.rtl,toolbarKind:this.props.toolbarKind,showStationerySetDefault:this.props.showStationerySetDefault,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,864))},_moduleResolver:function(){return 864}})))}componentDidMount(){this._showStationeryPickerIfNeeded()}componentDidUpdate(){this._showStationeryPickerIfNeeded()}render(){const e=this.context.intl.formatMessage,t=this.state.menuOpen;return i.a.createElement("div",null,i.a.createElement("div",{onClick:this._toggleMenu},i.a.createElement(I.a,{ref:e=>this._stationeryPopoverContainer=e},i.a.createElement(S.a,{"data-test-id":"stationery-picker-anchor"},i.a.createElement(d.a,{ref:"button","data-test-id":"stationery-button",title:e(b.theme_picker),"aria-label":e(b.theme_picker),kind:t?g.a.ICON_HIGHLIGHTED:g.a.ICON},i.a.createElement(c.b,{kind:h.b.STATIONERY,size:h.d.XS,colorState:h.a.NORMAL}))),t?this.renderStationeryPopup():null)),this.renderStationeryCue())}}n()(R,"contextTypes",{intl:o.intlShape.isRequired}),t.a=R},function(e,t,s){"use strict";s.d(t,"a",function(){return h});s(8);var a=s(1),n=s.n(a),r=s(29),i=s.n(r),o=s(6),c=s(13),d=s.n(c),l=s(756),u=s.n(l),_=s(87),m=s(0);let p;function h(e,{id:t,renderToTheSide:s,appendNode:a,referenceNode:r={},clearTooltipOn:c={}},l){p&&i.a.unmountComponentAtNode(p),p=document.createElement("div"),a.appendChild(p);const h=function(e,t){class s extends n.a.Component{constructor(e){super(e),this.state={reStyle:{}}}componentWillUnmount(){const e=this.props.clearTooltipOn,t=e.scroll,s=e.click,a=e.keydown;t&&t.removeEventListener("scroll",this.clear),s&&s.removeEventListener("click",this.clear),a&&a.removeEventListener("keydown",this.clear),this.clear()}clear(){clearTimeout(this.timeout),t&&(i.a.unmountComponentAtNode(t),t=null)}componentDidMount(){this.timeout=setTimeout(()=>{this.clear()},3e3),this.reStyle();const e=this.props.clearTooltipOn,t=e.scroll,s=e.click,a=e.keydown;t&&t.addEventListener("scroll",this.clear),s&&s.addEventListener("click",this.clear),a&&a.addEventListener("keydown",this.clear)}reStyle(){if(this.tooltipChildRef&&this.tooltipChildRef.getBoundingClientRect){const e=this.tooltipChildRef.getBoundingClientRect().height,t=this.props.style,s=void 0===t?{}:t;"number"==typeof s.top&&e>26&&this.setState({reStyle:{top:s.top-10*(Math.ceil(e/26)-1)}})}}render(){const t=this.state.reStyle,s=this.props,a=s.style,r=s.renderToTheSide,i=d()(u.a,{left:r===m.me.LEFT,right:r===m.me.RIGHT}),o=Object.assign({},a,t),c=n.a.cloneElement(e,{childRef:(e=>this.tooltipChildRef=e).bind(this)});return n.a.createElement("div",{className:i.tooltip,title:"",style:o},c)}}return s.contextTypes={intl:o.intlShape.isRequired},s}(e,p);let g={};const E=r.positionCalculator,I=r.expanded;E&&(g=E(r.parent,r.child,Object(_.b)(l.config,"rtl"),I)),i.a.render(n.a.createElement(o.IntlProvider,window.AppIntl,n.a.createElement(h,{key:t,renderToTheSide:s,style:g,context:l,clearTooltipOn:c})),p)}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(6);class c extends i.a.Component{render(){return i.a.createElement("div",{ref:this.props.childRef},i.a.createElement(o.FormattedMessage,{id:"mark_as_read_shortcut_changed",defaultMessage:'Shortcut to "Mark as Read" has changed to SHIFT+K'}))}}n()(c,"contextTypes",{intl:o.intlShape.isRequired}),t.a=c},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(6);class c extends i.a.Component{render(){return i.a.createElement("div",{ref:this.props.childRef},i.a.createElement(o.FormattedMessage,{id:"mark_as_unstar_shortcut_changed",defaultMessage:"Shortcut to unstar has changed to SHIFT+L"}))}}n()(c,"contextTypes",{intl:o.intlShape.isRequired}),t.a=c},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_Z1YJkyX ab_C A_6EqO k_w H_A e_dRA b_Z14vXdP Q_6MGW U_6Eb4 P_ZGAhPT a_3Mlf4",message:"P_0 D_I M_ZmsKgw",button:"C_Z2aVTcY M_3gJOe",buttonsContent:"J_x D_Z1YJkyX ab_CI",primaryButton:"r_P C_Z2aVTcY"}},_key:"Z2hSUXN"}},function(e,t,s){"use strict";e.exports={className:{default:{messageCardContainer:"p_R b_efTvb I_52qC em_N X_fq7 N_6LEV ir3_Z1tiXR3 it3_689y",toolbarHoverArea:"H_7jIs D_F ab_C Q_69H5 E_36RhU"},active:{messageCardContainer:"b_2w4l8N p_R j_ZlOSbd"}},_key:"wnxvG"}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=(s(42),s(759)),c=s.n(o),d=s(13),l=s.n(d),u=s(6),_=s(275);class m extends i.a.Component{constructor(...e){super(...e),n()(this,"getLabel",(e,t)=>{return i.a.createElement(e?"span":"strong",0,t)})}render(){const e=l()(c.a,{transparent:this.props.transparent}),t=this.props,s=t.senders,a=t.onClick,n=t.myAddresses,r=t.isRead,o=t.visibleNum,d=this.context.intl.formatMessage,u=Object(_.b)({senders:s,myAddresses:n},d),m=Object(_.a)({senders:s,myAddresses:n,visibleNum:o},d);return i.a.createElement("span",{className:e.participants,onClick:a,role:"gridcell",title:u},m?this.getLabel(r,m):null)}}n()(m,"defaultProps",{visibleNum:3,myAddresses:{},transparent:!1}),n()(m,"contextTypes",{intl:u.intlShape}),t.a=m},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(15),_=s(11),m=s(6),p=s(20),h=s(16),g=s(154),E=s(55),I=s(53),S=s(40),C=s(92),f=s(177),T=s(0),A=s(34),b=s(19),O=s(28),R=s(14),N=s(22),M=s(12),D=s(5),y=s(464),L=s.n(y),v=s(10),P=s(41),F=s(162),w=s.n(F),k=(s(9),s(33)),x=s.n(k),U=s(59),G=s(29);const j="d",H="e",B="Shift+D",V=Object(m.defineMessages)({multikey_shortcut:{id:"multikey_shortcut",defaultMessage:"{primaryShortcutKey} then {secondaryShortcutKey}"},move_msgs:{id:"move_msgs",defaultMessage:"Move the selected {conversations, select, true {conversations} false {messages}} to another folder"},search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"}});class W extends d.Component{constructor(e){super(e),i()(this,"_getListStyle",e=>{let t=4*M.GRID_UNIT,s=2*M.GRID_UNIT*(e+2)+M.GRID_UNIT;return this.props.isRTL&&(t=2*M.GRID_UNIT*(e+2)+M.GRID_UNIT,s=4*M.GRID_UNIT),{paddingLeft:`${s}px`,paddingRight:`${t}px`,width:`${62.5*M.GRID_UNIT}px`}}),i()(this,"_handleMenuShow",()=>{this.selectedFolderId=null,this.firstFolderId=null,setTimeout(()=>this.props.isFilterFocused?this._focusFirstMenuItem():this._focusContainer(),0),this.props.onMenuShow()}),i()(this,"_handleMenuHide",()=>{this.setState({filterString:"",isFilterActive:!1,selectedFolderId:null},()=>{this.firstFolderId=null,this.selectedFolderId=null,this.props.onMenuHide()})}),i()(this,"handleKeyDownOnInputField",e=>{if(this.state.isFilterActive&&e.key===T.Lb.ENTER){const t=this.selectedFolderId;t&&this.handleClick(t,e)}}),i()(this,"selectItem",e=>{if(this.customFoldersList){const t=Object(G.findDOMNode)(e),s=this.customFoldersList.getBoundingClientRect(),a=t.getBoundingClientRect();(a.top<s.top||a.bottom>s.bottom)&&t.scrollIntoView()}this.selectedFolderId=e.id,this.setState({selectedFolderId:e.id})}),i()(this,"resetSelectedItem",()=>{this.selectedFolderId=null,this.foldersList.resetCursorIndex()}),i()(this,"renderMenuItems",(e,t)=>{const s=[],a=this.context.intl.formatMessage;return e.forEach(({id:e,name:n,type:r,level:i,disabled:o,shortcut:c})=>{const d=null===this.selectedFolderId&&this.firstFolderId===e&&this.state.isFilterActive&&""!==this.state.filterString;d&&(this.selectedFolderId=o?null:e);const u=this.selectedFolderId===e;s.push(l.a.createElement(A.a,{key:e,name:"item-move-to-folder-id-"+e},l.a.createElement(b.a,{id:e,"data-test-id":"item-move-to-folder-id-"+e,kind:O.a.MENUITEM,onClick:this.handleClick.bind(this,e),style:this._getListStyle(i),disabled:!!d||o,title:Object(P.n)(a,r)||n,overridingClass:u&&!o?t.highlightedListItem:t.listItem,"data-iskeynav":!0},l.a.createElement("span",{className:t.fullLabel},l.a.createElement("span",{className:t.itemLabel},l.a.createElement(C.a,{folderId:e})),this.renderDisplayShortcut(r,t,c)))))}),s}),this.state={filterString:"",isFilterActive:!1,selectedFolderId:null},this._handleMenuHide=this._handleMenuHide.bind(this),this._handleMenuShow=this._handleMenuShow.bind(this),this._focusFirstMenuItem=this._focusFirstMenuItem.bind(this),this._focusContainer=this._focusContainer.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClick=this.handleClick.bind(this)}_renderLabel(){return l.a.createElement(m.FormattedMessage,{id:"move_button.move_label",defaultMessage:"Move"})}_focusFirstMenuItem(){if(!this.listContainer)return!1;const e=this.listContainer.querySelector("[data-iskeynav]");return e&&e.focus()}_focusContainer(){return this.listContainer&&this.listContainer.focus()}handleClick(e,t){t.preventDefault(),this.props.onClick(e,t),this._handleMenuHide()}handleKeyDown(e,t){if(!this.listContainer.contains(t.target)&&!t.target.contains(this.listContainer))return;if(t.target===this.input.bidiInput)return void this.handleKeyDownOnInputField(t);if(t.key===T.Lb.ARROW_DOWN||t.shiftKey&&t.key.toLowerCase()===j)return t.preventDefault(),t.stopPropagation(),this._focusFirstMenuItem();const s=e[t.keyCode-48]||e[t.keyCode-96];s&&this.handleClick(s,t)}renderSearchInput(e){const t=this.props.hasShortcuts?B:null,s=this.state,a=s.filterString,n=this.context.intl.formatMessage,r=t&&!s.isFilterActive&&""===a,i=Object.assign({},r?{}:{paddingRight:`${M.GRID_UNIT}px`});return l.a.createElement(A.a,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},l.a.createElement("div",{className:e.inputContainer,style:i,onClick:e=>e.stopPropagation()},l.a.createElement(h.b,{kind:D.b.SEARCH_MINI,size:D.d.XS,colorState:D.a.DISABLED}),l.a.createElement(g.a,{ref:e=>this.input=e,className:e.inputField,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:a,onClear:()=>{this.resetSelectedItem(),this.setState({filterString:""}),this._focusFirstMenuItem()},onChange:e=>{this.resetSelectedItem(),this.setState({filterString:e.target.value})},onFocus:()=>this.setState({isFilterActive:!0}),onBlur:()=>this.setState({isFilterActive:!1}),onKeyDown:e=>{this.foldersList.handleKeyDown(e)},isClearable:!0,placeholder:n(V.search_placeholder),"data-iskeynav":!0}),r?l.a.createElement("span",{className:e.shortcut},t):null))}renderEmptyResult(e){const t=this.context.intl.formatMessage;return l.a.createElement(A.a,null,l.a.createElement("div",{className:e.noResultContainer,style:this._getListStyle(0)},t(V.no_result_label)))}renderAllMailItem(e){const t=(0,this.context.intl.formatMessage)(V.all_mail_title);null===this.selectedFolderId&&this.firstFolderId===T.q.ALL_MAIL&&this.state.isFilterActive&&""!==this.state.filterString&&(this.selectedFolderId=T.q.ALL_MAIL);const s=this.selectedFolderId===T.q.ALL_MAIL;return l.a.createElement(A.a,{key:T.q.ALL_MAIL,"data-test-id":"all-mail"},l.a.createElement(b.a,{id:T.q.ALL_MAIL,kind:O.a.MENUITEM,style:this._getListStyle(0),overridingClass:s?e.highlightedListItem:e.listItem},l.a.createElement("span",{className:e.fullLabel},l.a.createElement("span",{className:e.itemLabel},l.a.createElement(f.a,{name:t})))))}renderDisplayShortcut(e,t,s){let a;return!this.state.isFilterActive&&this.props.hasShortcuts&&((s||e===T.Cb.INBOX)&&(a=l.a.createElement(m.FormattedMessage,n()({},V.multikey_shortcut,{values:{primaryShortcutKey:j,secondaryShortcutKey:""+s}}))),e===T.Cb.ARCHIVE&&(a=H)),a?l.a.createElement("span",{className:t.shortcut},a):null}renderAnchorButton(){const e=this.props,t=e.disabled,s=e.showLabel,a=e.isCompact,n=e.onMenuToggle,r=(0,this.context.intl.formatMessage)(V.move_msgs,{conversations:e.conversations}),i=this.context.getThemeMode()===N.h.DARK;return l.a.createElement("span",null,l.a.createElement(p.a,{"data-iskeynav":!0,"data-test-id":"folder-menu-button","aria-label":r,title:r,kind:D.b.MOVE_TO_FOLDER,disabled:t,onClick:n,size:D.d.XS,colorState:D.a.INHERITED,isOnDarkBackground:i,isCompact:a},s&&this._renderLabel()))}renderPopoverContent(e){const t=this.context.getCss(L.a),s=this.props,a=s.folderShortcutMap,n=s.excludeAllMailItem,r=s.systemFolders,i=this.state.filterString,o=void 0===i?"":i,c=s.customFolders.filter(({name:e})=>-1!==e.toLowerCase().indexOf(o.toLowerCase())),d=r.filter(({name:e})=>-1!==e.toLowerCase().indexOf(o.toLowerCase())),u=c.length+d.length,_=[].concat(c).concat(d),m=_?_[0]:{};return this.firstFolderId=m?m.id:null,l.a.createElement(S.b,{triggerOn:e,permittedArrowDirections:[R.h.UP],zAltitude:M.ZIndices.POPOVER.HIGH,onShow:this._handleMenuShow,onHide:this._handleMenuHide},l.a.createElement("div",{className:t.clippedContainer},l.a.createElement("div",{"data-test-id":"folder-menu",className:t.popoverContent,onKeyDown:this.handleKeyDown.bind(this,a),tabIndex:M.TabIndices.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.listContainer=e},l.a.createElement("ul",{className:t.systemGroup},this.renderSearchInput(t)),l.a.createElement(U.a,{ref:e=>this.foldersList=e,tabIndex:M.TabIndices.FOLDER_SELECTION_MENU,selectItemInsteadOfFocus:this.selectItem,onEscape:this._handleMenuHide,listNavigationOnInputEnabled:!0},0===u&&l.a.createElement("ul",{className:t.lastGroup},this.renderEmptyResult(t)),l.a.createElement("div",null,c.length>0&&l.a.createElement("ul",{ref:e=>this.customFoldersList=e,className:w()(t.customGroup,{[t.lastGroup]:!(d.length>0),[t.systemGroup]:d.length>0})},this.renderMenuItems(c,t)),d.length>0&&l.a.createElement("ul",{className:t.lastGroup},!n&&this.renderAllMailItem(t),this.renderMenuItems(d,t)))))))}renderPopoverContainer(e){const t=this.context.getCss(L.a);return l.a.createElement(E.a,{className:t.popoverContainer},l.a.createElement(I.a,null,this.renderAnchorButton()),this.renderPopoverContent(e))}render(){const e=this.props;return e.onMenuToggle?e.isMenuActive?this.renderPopoverContainer(R.i.MOUNT):this.renderAnchorButton():this.renderPopoverContainer(R.i.CLICK)}}W.contextTypes={intl:m.intlShape.isRequired,getThemeMode:c.a.func,getCss:c.a.func},W.defaultProps={showLabel:!0,excludeAllMailItem:!0};t.a=Object(u.connect)((e,t)=>{const s=Object(_.b)(e),a=s.getEnvironmentSelectors,n=(0,s.getFeaturesSelectors)(),r=n.isEnabled(T.ub.CONVERSATIONS),i=n.isEnabled(T.ub.LIST_V3);let o=[],c=[];const d={};let l=0;if(i){const s=Object(_.b)(e),a=s.getSelectedAccountId,n=(0,s.getFoldersSelectors)(),r=n.getFolderName,i=n.getPrimaryFolderTypeByFolderId,u=n.getSystemFolderListWithSmartView,m=n.getCustomFolderIds,p=n.getAccountIdByFolderId,h=n.getFolderLevelByFolderId,g=t.listId,E=Object(v.o)(g),I=E?p(E):a(),S=E?[E]:[],C=[T.Cb.DRAFT,T.Cb.SENT];o=u(I).reduce((e,{id:t,type:s,kind:a})=>"folder"===a&&-1===C.indexOf(s)?(s===T.Cb.INBOX&&-1===S.indexOf(t)&&l<10&&(d[l]=t),e.concat({id:t,name:r(t),type:s,disabled:-1!==S.indexOf(t),shortcut:s===T.Cb.INBOX&&l<10?l++:void 0})):e,[]),c=m(I).reduce((e,t)=>(-1===S.indexOf(t)&&l<10&&(d[l]=t),e.concat({id:t,name:r(t),type:i(t),level:h(t),disabled:-1!==S.indexOf(t),shortcut:l<10?l++:void 0})),[])}else{const t=Object(_.b)(e).getFoldersForMoveMenu;o=t().systemFolders,c=t().customFolders,o.forEach(e=>{e.shortcut>=0&&!e.disabled&&(d[e.shortcut]=e.id)}),c.forEach(e=>{e.shortcut>=0&&!e.disabled&&(d[e.shortcut]=e.id)})}return{systemFolders:o,customFolders:c,folderShortcutMap:d,conversations:r,isRTL:"rtl"===a().getPageDirection()}},void 0,void 0,{areStatePropsEqual:(e,t)=>x()(e.systemFolders,t.systemFolders)&&x()(e.customFolders,t.customFolders)&&e.folderCount===t.folderCount&&x()(e.folderShortcutMap,t.folderShortcutMap)&&e.conversations===t.conversations})(W)},function(e,t,s){"use strict";s.d(t,"a",function(){return f});var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(6),l=s(775),u=s.n(l),_=s(7),m=s(187),p=s(22),h=s(34),g=s(20),E=s(5),I=s(18),S=s(64);const C=Object(d.defineMessages)({message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"}});class f extends c.a.Component{constructor(e){super(e),n()(this,"componentDidMount",()=>{const e=this.props.messageIds;S.b.sendI13nModel({i13nModel:{mKey:_.e.NUDGE_TO_REPLY_SHOWN,sec:_.g.MSG_LIST,interactionType:_.d.callout,actionData:{mid:e[e.length-1]}}})}),n()(this,"handleSingleGroupAction",(e,t=_.d.click)=>{const s=this.props,a=s.messageIds,n=s.messageGroupId;if(n){this.context.executeAction(m.b.LIST_WITH_PREVIEW_BOTTOM[e],{listId:s.listId,messageGroupId:n,i13nModel:{mKey:_.e.MSG_LIST_REPLY_ALL,sec:_.g.NUDGE_TO_REPLY,mKeyGroup:_.f[e],interactionType:t,actionData:{mid:a[a.length-1]}}})}}),n()(this,"renderReplyAllAction",e=>{const t=this.context.intl.formatMessage,s=this.context.getThemeMode()===p.h.DARK;return c.a.createElement("div",{className:e.singleGroupActions},c.a.createElement("ul",{key:"group-actions",className:e.singleGroupActionList},(()=>{const a=t(C.message_reply_all),n=E.b.REPLY_ALL;return c.a.createElement(h.a,{name:n,key:n,className:e.singleGroupItem},c.a.createElement(g.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${n}`,"aria-label":a,title:a,kind:n,size:E.d.XS,disabled:!1,onClick:e=>this.handleSingleGroupAction("replyAll",Object(I.j)(e)),colorState:E.a.INHERITED,isOnDarkBackground:s}))})()))})}render(){const e=this.context,t=e.getCss,s=(0,e.getThemeMode)(),a=t(u.a,{darkThemeMode:s===p.h.DARK||s===p.h.MEDIUM});return c.a.createElement("div",{className:a.nudgeToReply,onClick:e=>this.handleSingleGroupAction("replyAll",Object(I.j)(e))},c.a.createElement(d.FormattedMessage,{id:"nudgeToReply",defaultMessage:"Received {timeInterval, plural, one {# day} other {# days}} ago. Reply now",values:{timeInterval:this.props.messageAgeInDays}}),this.renderReplyAllAction(a))}}n()(f,"contextTypes",{intl:d.intlShape.isRequired,executeAction:i.a.func.isRequired,getThemeMode:i.a.func,getCss:i.a.func})},function(e,t,s){"use strict";var a=s(8),n=s.n(a),r=s(1),i=s.n(r),o=s(776),c=s.n(o),d=s(19),l=s(16),u=s(15),_=s(11),m=s(0),p=s(5);const h=(e,t)=>{const s=t.getCss(c.a),a=e.useThirdGenerationLogo;return i.a.createElement(d.a,{"data-test-id":"icon-btn-ybadge",className:`${s.ybadgeIcon} ${e.layoutClassNames.ybadgeIcon}`},i.a.createElement(l.b,{kind:a?p.b.YBANG:p.b.YBADGE,size:p.d.XS,colorState:a?p.a.YBANG:p.a.YBADGE}))};h.defaultProps={layoutClassNames:{ybadgeIcon:""}},h.contextTypes={getCss:n.a.func};t.a=Object(u.connect)(e=>{return{useThirdGenerationLogo:(0,Object(_.b)(e).getFeaturesSelectors)().isEnabled(m.ub.USE_THIRD_GENERATION_LOGO)}})(i.a.memo(h))},function(e,t,s){"use strict";s.d(t,"a",function(){return g});var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(15),c=s(13),d=s.n(c),l=s(345),u=s.n(l),_=s(16),m=s(5),p=s(11);const h=d()(u.a);class g extends i.a.Component{render(){const e=this.props,t=e.count,s=e.formatNumber;return(this.props.x||this.props.y)&&(this.iconStyles={left:this.props.x,top:this.props.y}),i.a.createElement("div",{className:this.iconStyles&&h.dragIcon,style:this.iconStyles?this.iconStyles:{}},i.a.createElement(_.b,{kind:m.b.INBOX,size:m.d.XS}),i.a.createElement("b",{className:h.counter},s(t)))}}n()(g,"defaultProps",{formatNumber:e=>""+e});t.b=Object(o.connect)((e,{streamId:t})=>{const s=Object(p.b)(e);return{count:Object.keys((0,s.getSelectedItems)(t)).length}})(g)},function(e,t,s){"use strict";e.exports={className:{default:{container:"e_eo6 o_h",actionButton:"J_x e_dRA I_T cn_dRA cg_FJ l_Z2aVTcY C_Z2aVTcY r_P P_fQoXz",link:"e_eo6 H_74JI X_eo6 o_h A_6EqO ab_C p_R D_ZKxLmw v_g9505 I_ZnIF8Y cdPFi_Z281SGl k_w I4_ZpQYvz",imageContainer:"W_6VJl D_F ab_C k_w en_0 i_0",previewVideo:"W_6NIX H_6NIX e_e5X o_h ab_C D_F gl_C p_R",previewVideoPlayer:"e_e5X W_6NIX H_6NIX im_BH",videoOverlay:"p_a T_0 W_6NIX H_6NIX",spacer:"D_F en_0 ab_C W_6LEV H_6D6F P_Z1feoPS",sponsoredContainer:"D_F ab_C r_P",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_ZyfvxR C_Z2drWk6 cdPFi_Z2drWk6",advertiserContainer:"D_F ek_EZ gl_C s_0 ab_C",advertiser:"o_h J_x G_e em_N E_fq7 u_b D_B",message:"D_F o_h H_6D6F E_72FG J_x em_N i_CS k_w ek_EZ ab_C gl_FO",subjectContainer:"en_0 a_6D6F D_F ab_C gl_FM",subject:"o_h G_e J_x a_6D6F en_N u_b",snippetContainer:"D_F ab_C a_6D6F X_fq7 o_h J_x H_6D6F",snippet:"J_x o_h G_e C_Z1VRpVF a_6D6F",adHeadline:"J_x o_h G_e a_6D6F",sponsored:"A_6DEy ab_C D_F C_52qC E_eo6 P_3gIgH I_ZxFlP3 u_b gl_C H_6D6F b_0 r_P",mbBeacon:"D_n",adFeedbackContainer:"P_3Y3Gk",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F ab_C H_6D6F o_h em_sL ej_0",starRatingContainer:"s_7qGO"},isCompactLayout:{link:"H_7rdk X_0",imageContainer:"W_74JI X_6Eb4",adHeadline:"Q_0 W_6D6F U_eo6 u_b",snippet:"Q_0",spacer:"D_n",iconContainer:"gl_CH W_A",closeIconContainer:"gl_CH W_A",gridB2:"em_qk ej_7kKt",gridB1:"o_v W_74JI em_0 ej_CS a_n",subjectContainer:"W_6D6F U_eo6",snippetContainer:"W_6D6F gl_FM H_3mCHE X_dm5",message:"M_0 N_6LEV ek_BB ab_CI gl_C"},secondPencilAd:{link:"I_T cn_3vzlv cg_FJ l_2xr6Y e_0"},adTextAlignment:{message:"N_dm5",subjectContainer:"gl_82XEY",sponsoredContainer:"X_eo6"},timechunkPencilAd:{link:"cm_0"},gradientltr:{link:"I_82XEY aw_Z1hbGih aw4_82XEY I4_ZpQYvz"},gradientrtl:{link:"I_82XEY aw_2o0LGp aw4_82XEY I4_ZpQYvz"},"backgroundId-1":{link:"I_1lAUBh I4_1iaBuV",sponsoredIcon:"C_Z22OMQj cdPFi_Z22OMQj",actionButton:"l_Z22OMQj C_Z22OMQj",filledActionButton:"I_Z25kRrz"},"backgroundId-2":{link:"I_VtmPm I4_Z1igfGE",sponsoredIcon:"C_Z25iliW cdPFi_Z25iliW",actionButton:"l_Z25iliW C_Z25iliW",filledActionButton:"I_1MO3jO"},"backgroundId-3":{link:"I_Z1d6UKc I4_Z247OCM",sponsoredIcon:"C_Z2dxNDU cdPFi_Z2dxNDU",actionButton:"l_Z2dxNDU C_Z2dxNDU",filledActionButton:"I_ZdD4ID"},"backgroundId-4":{link:"I_Z1dTgDQ I4_Z2sGrp7",sponsoredIcon:"C_Z2dyg2z cdPFi_Z2dyg2z",actionButton:"l_Z2dyg2z C_Z2dyg2z",filledActionButton:"I_yno1B"},"backgroundId-5":{link:"I_Z8TpEO I4_y26bi",sponsoredIcon:"C_ZkhR3R cdPFi_ZkhR3R",actionButton:"l_ZkhR3R C_ZkhR3R",filledActionButton:"I_16TCC9"},"backgroundId-6":{link:"I_Z2cHJN6 I4_Z2lDoc8",sponsoredIcon:"C_Z27jPgO cdPFi_Z27jPgO",actionButton:"l_Z27jPgO C_Z27jPgO",filledActionButton:"I_1nby3G"},transparentLink:{link:"bn_dBP bm_FJ bj_2spJWC e_82XEY I_T I4_1I4yPF"},darkModeNonPhotoTheme:{link:"C_ZpQYvz cdPFi_52qC I_sgPuo aw_82XEY I4_sgPuT",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_1YEmYj",snippet:"C_ZvsWfq",clickLink:"cdPFi_ZvsWfq C_ZvsWfq cdPFi4_52qC C4_52qC",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},darkModePhotoTheme_NIGHT_LANDSCAPE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",clickLink:"cdPFi_ZvsWfq C_ZvsWfq cdPFi4_52qC C4_52qC",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},darkModePhotoTheme_ROADTRIP:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",clickLink:"cdPFi_ZvsWfq C_ZvsWfq cdPFi4_52qC C4_52qC",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",clickLink:"cdPFi_ZvsWfq C_ZvsWfq cdPFi4_52qC C4_52qC",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},darkModePhotoTheme_LIGHTHOUSE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",clickLink:"cdPFi_ZvsWfq C_ZvsWfq cdPFi4_52qC C4_52qC",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},"msgListDensity-1":{link:"H_qg",imageContainer:"X_eo6",actionButton:"b_82XEY cg_82XEY",previewVideo:"W_6LEV H_6LEV",previewVideoPlayer:"W_6LEV H_6LEV",videoOverlay:"W_6LEV H_6LEV"},"msgListDensity-2":{link:"H_qJ"},"msgListDensity-3":{link:"H_rh"},"msgListDensity-compact_snippets_1":{link:"H_si",subjectContainer:"U_dRA",adHeadline:"U_dRA u_b"},"msgListDensity-compact_snippets_2":{link:"H_sL",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_b"},"msgListDensity-compact_snippets_3":{link:"H_tf",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_b"},"msgListDensity-compact_1":{link:"H_rl",subjectContainer:"U_dRA",snippet:"u_b C_82XEY"},"msgListDensity-compact_2":{link:"H_rO",subjectContainer:"U_eo6",snippet:"u_b C_82XEY"},"msgListDensity-compact_3":{link:"H_se",subjectContainer:"U_eo6",snippet:"u_b C_82XEY"},isFlashSaleAd:{adHeadline:"u_b"},compactFlashSaleAd:{subjectContainer:"U_dm5",snippetContainer:"H_3mCHE"},pencilAdVersionV2BackBucket:{imageContainer:"W_7iGr",sponsoredIcon:"M_E8xte"},pencilAdVersionV3Test1:{imageContainer:"W_7jcW"},renderTrashIcon:{actionButtonContainer:"E_7iGr"},renderTrashIconInHover:{actionButtonContainer:"E_dm5"},secondSearchAd:{linkWithTransparentBackground:"I_T",link:"I_T I4_1YEmYj"},breakingNews:{advertiserContainer:"Q_7jcW",snippetContainer:"X_82XEY",clickLink:"D_F ab_C a_6D6F C_Z1VRpVF cdPFi_Z1VRpVF cdPFi4_Z2aVTcY C4_Z2aVTcY",popoutIcon:"r_P Q_fq7"},disableSnippetColor:{snippet:"C_82XEY"},breakingNewsInCompactMode:{subjectContainer:"U_eTB"}},_key:"1btVF6"}},function(e,t,s){"use strict";var a=s(8),n=s.n(a),r=s(1),i=s.n(r),o=s(241),c=s(145),d=s(6),l=s(784),u=s.n(l),_=s(11),m=s(15);const p=({selectionCount:e},{intl:t,getCss:s})=>{const a=s(u.a);return i.a.createElement("div",{className:a.container,"data-test-id":"selection-count","data-test-count":e},i.a.createElement("div",{className:a.wrapper},i.a.createElement("div",{className:a.svgWrapper},i.a.createElement(o.a,{kind:c.a.SELECTED_MESSAGES,width:c.b,height:c.b,altText:" "})),e>0&&i.a.createElement("div",{className:a.countWrapper},i.a.createElement("span",{className:a.count,"data-test-id":"selection-count-node"},t.formatNumber(e)))))};p.contextTypes={intl:d.intlShape,getCss:n.a.func};t.a=Object(m.connect)((e,{listId:t,streamId:s})=>{const a=Object(_.b)(e),n=a.getAllItemsCountForListId,r=a.doesListExist,i=a.getListItemIds,o=a.doesStreamExist,c=a.getSelectedStreamItems,d=a.getAdListItemsSelectors,l=(0,a.getFeaturesSelectors)().isEnabled("selectAll"),u=r(t)?i(t):[],m=o(s)?c(s):[],p=u.length>0&&u.length===m.length,h=d().getSelectedPencilAds(),g=t?n(t):0;return{selectionCount:(l&&p&&g>0?g:m.length)+h.length}})(p)},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(29),l=s.n(d),u=s(9),_=s(0),m=s(305),p=s.n(m),h=s(193),g=s(25),E=s(12),I=s(21),S=s(185),C=s.n(S),f=s(128),T=s(234);const A=!1,b=0,O=0,R=_.Sc.H_SLIDER_POS,N=_.Sc.V_SLIDER_POS,M=_.Sc.H_SLIDER_POS_V2,D=_.Sc.V_SLIDER_POS_V2,y={x:{min:{percent:E.PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET},max:{percent:E.PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET}},y:{min:{pixels:E.PREVIEW_PANE_CONSTRAINT_TOP_PIXELS_OFFSET},max:{pixels:E.PREVIEW_PANE_CONSTRAINT_BOTTOM_PIXELS_OFFSET}}};class L extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{dragging:!1}),n()(this,"_getLocalStorageKey",(e,t=!1)=>e===_.Rc.RIGHT?t?M:R:t?D:N),n()(this,"_writePreviewPaneSetting",(e,t)=>{this.props.previewpaneCookie&&this.props.previewpaneInPixels&&new T.a({window:window}).setClientParam(e,t),Object(f.b)(e,t)}),n()(this,"_readPreviewPaneSetting",e=>this.props.previewpaneCookie&&this.props.previewpaneInPixels?new T.a({window:window}).getClientParam(e):Object(f.a)(e)),n()(this,"getLimits",e=>{const t=this.props,s=t.previewpane,a=t.isRTL,n=s===_.Rc.RIGHT?y.x:y.y;let r,i,o,c,d=Object(u.a)(n,"min.percent",0)||0,l=Object(u.a)(n,"min.pixels",0)||0,m=Object(u.a)(n,"max.percent",100)||100,p=Object(u.a)(n,"max.pixels",0)||0;if(a){const t=d,s=l;d=100-m,l=e.width-p,m=100-t,p=e.width-s}s===_.Rc.RIGHT?(r=e.left+e.width*d/100,i=e.left+l,o=e.left+e.width*m/100,c=e.left+e.width-p):s===_.Rc.BOTTOM?(r=e.top+e.height*d/100,i=e.top+l,o=e.top+e.height*m/100,c=e.top+e.height-p):Object(I.a)(!1,`Unexpected orientation of preview pane during resize: ${s}`);let h=Math.max(r,i),g=Math.max(Math.min(o,c),h);return a&&(h=Math.min(r,i),g=Math.max(Math.max(o,c),h)),{min:h,max:g}}),n()(this,"getLimitsV2",e=>{const t=this.props,s=t.previewpane;let a,n;return s===_.Rc.RIGHT?t.isRTL?(a=e.left+E.PREVIEW_PANE_RIGHT_PANE_MINIMUM_PIXELS,n=Math.max(e.left+e.width-E.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS,a)):(a=e.left+E.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS,n=Math.max(e.left+e.width-E.PREVIEW_PANE_RIGHT_PANE_MINIMUM_PIXELS,a)):s===_.Rc.BOTTOM?(a=e.top+E.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS,n=Math.max(e.top+e.height-E.PREVIEW_PANE_BOTTOM_PANE_MINIMUM_PIXELS,a)):Object(I.a)(!1,`Unexpected orientation of preview pane during resize: ${s}`),{min:a,max:n}}),n()(this,"resize",()=>{if(!this.resizer)return;const e=this.props,t=e.previewpane,s=e.previewpaneInPixels,a=e.isRTL,n=this.state,r=n.resize,i=n.dragStart,o=n.resizerStart,c=n.parent,d=this.resizer.getBoundingClientRect();let l,u,m;t===_.Rc.RIGHT?(u=o.left-c.rect.left+r.x-i.x,m=c.width,a&&(u=m-u),l=R):t===_.Rc.BOTTOM?(u=o.top-c.rect.top+r.y-i.y,m=c.height,l=N):Object(I.a)(!1,`Unexpected orientation of preview pane during resize: ${t}`);let p=100*u/m;this.props.resize(l,s?u:p,m),this.setState({dragStart:{x:r.x,y:r.y},resizerStart:{left:d.left,top:d.top}}),A||(this.resizer.style.marginTop="",this.resizer.style.marginLeft="",this.resizer.style.marginRight=""),this._writePreviewPaneSetting(this._getLocalStorageKey(t,!1),p),s?(this._writePreviewPaneSetting(this._getLocalStorageKey(t,!0),u),t===_.Rc.RIGHT&&(p=(p=p<E.PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET?E.PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET:p)>E.PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET?E.PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET:p),this._writePreviewPaneSetting(this._getLocalStorageKey(t,!1),p)):this._writePreviewPaneSetting(this._getLocalStorageKey(t,!1),p)}),n()(this,"onDragStart",e=>{const t=l.a.findDOMNode(this.resizer),s=t.parentNode,a=t.getBoundingClientRect(),n=s.getBoundingClientRect(),r=this.props.previewpaneInPixels?this.getLimitsV2(n):this.getLimits(n),i=e.clientX,o=e.clientY;e.stopPropagation(),e.preventDefault(),this.resizer.style.backgroundColor=E.PALETTE.ycolorGrayG,this.setState({dragging:!0,dragStart:{x:i,y:o},resize:{x:i,y:o},resizerStart:{left:a.left,top:a.top},parent:{rect:n,width:s.clientWidth,height:s.clientHeight},limits:r}),e.dataTransfer&&(this.dragIcon=Object(g.f)(e.dataTransfer,this.dragIcon),e.dataTransfer.setData("text","anything")),this._ffDragFunc=e=>this.onDrag(e),this._ffDragEndFunc=e=>this.onDragEnd(e),document.addEventListener("mousemove",this._ffDragFunc),document.addEventListener("mouseup",this._ffDragEndFunc)}),n()(this,"drag",e=>{const t=this.props,s=t.previewpane,a=t.isRTL,n=this.state,r=n.dragStart,i=n.limits;let o=e.clientX,c=e.clientY;s===_.Rc.RIGHT?(o>i.max&&(o=i.max),o<i.min&&(o=i.min),this.setState({resize:{x:o,y:c}}),!A&&this.resizer&&(a?this.resizer.style.marginRight=`${r.x-o}px`:this.resizer.style.marginLeft=`${o-r.x}px`)):s===_.Rc.BOTTOM?(c>i.max&&(c=i.max),c<i.min&&(c=i.min),this.setState({resize:{x:o,y:c}}),!A&&this.resizer&&(this.resizer.style.marginTop=`${c-r.y}px`)):Object(I.a)(!1,`We should not be dragging when there is no preview pane: ${s}`)}),n()(this,"onDrag",e=>{this.state.dragging&&(e.stopPropagation(),e.preventDefault(),0!==e.clientX&&0!==e.clientY&&(this.throttledDrag?this.throttledDrag(e):this.drag(e),this.throttledResize&&this.throttledResize()))}),n()(this,"onDragEnd",e=>{e.stopPropagation(),e.preventDefault(),Object(g.a)(this.dragIcon),this.dragIcon=null,this.resizer&&(this.resizer.style.backgroundColor=""),this.setState({dragging:!1}),this.resize(),document.removeEventListener("mousemove",this._ffDragFunc),document.removeEventListener("mouseup",this._ffDragEndFunc)})}shouldComponentUpdate(e,t){const s=this.props,a=this.state;return s.isEmpty!==e.isEmpty||s.previewpane!==e.previewpane||A&&a.dragging!==t.dragging||A&&a.resize!==t.resize}componentDidMount(){const e=this.props,t=e.previewpane,s=e.previewpaneInPixels,a=l.a.findDOMNode(this.resizer).parentNode,n=this._getLocalStorageKey(_.Rc.RIGHT,s),r=this._getLocalStorageKey(_.Rc.BOTTOM,s);this.sliderPos={hSliderPos:parseFloat(this._readPreviewPaneSetting(n))||E.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,vSliderPos:parseFloat(this._readPreviewPaneSetting(r))||E.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET},s&&(this.sliderPos.hSliderPos<100&&(this.sliderPos.hSliderPos=Math.floor(this.sliderPos.hSliderPos*a.clientWidth/100),this._writePreviewPaneSetting(n,this.sliderPos.hSliderPos)),this.sliderPos.vSliderPos<100&&(this.sliderPos.vSliderPos=Math.floor(this.sliderPos.vSliderPos*a.clientHeight/100),this._writePreviewPaneSetting(r,this.sliderPos.vSliderPos))),b>0&&(this.throttledDrag=C()(this.drag,b,{leading:!0,trailing:!1})),O>0&&(this.throttledResize=C()(this.resize,O,{leading:!0,trailing:!1})),t===_.Rc.RIGHT?this.props.resize(R,this.sliderPos.hSliderPos,a.clientWidth):t===_.Rc.BOTTOM?this.props.resize(N,this.sliderPos.vSliderPos,a.clientHeight):Object(I.a)(!1,`Unexpected orientation of preview pane during resize: ${t}`),this._ffDragStartFunc=e=>this.onDragStart(e),this.resizer.addEventListener("mousedown",this._ffDragStartFunc)}componentDidUpdate(e){const t=this.props.previewpane,s=l.a.findDOMNode(this.resizer);t===_.Rc.BOTTOM&&e.previewpane===_.Rc.RIGHT&&this.props.resize(N,this.sliderPos.vSliderPos,s.parentNode.clientHeight)}componentWillUnmount(){this.resizer.removeEventListener("mousedown",this._ffDragStartFunc),this._ffDragFunc&&document.removeEventListener("mousemove",this._ffDragFunc),this._ffDragEndFunc&&document.removeEventListener("mouseup",this._ffDragEndFunc)}render(){const e=this.props,t=e.isEmpty,s=e.isRTL,a=this.context.getCss(p.a,{previewpane:e.previewpane}),n=this.state,r=n.resize,i=n.dragStart;if(!t){return c.a.createElement("div",{ref:e=>this.resizer=e,style:A&&this.state.dragging?{marginRight:s?`${i.x-r.x}px`:"",marginLeft:s?"":`${r.x-i.x}px`,marginTop:`${r.y-i.y}px`}:{},className:a.resizer,"data-test-id":"resizer"})}return c.a.createElement("div",{ref:e=>this.resizer=e,className:a.deadResizer,"data-test-id":"resizer"})}}n()(L,"contextTypes",{getCss:i.a.func}),n()(L,"defaultProps",{previewpaneInPixels:!1,previewpaneCookie:!1}),t.a=h.a(L)},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F D_F"}},_key:"Z6fPnV"}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(466),l=s.n(d),u=s(6),_=s(13),m=s.n(_),p=s(0),h=s(19),g=s(10),E=s(7),I=s(18),S=s(17),C=s(15),f=s(11),T=s(49),A=s(59),b=s(34),O=s(28),R=s(16),N=s(20),M=s(5),D=s(55),y=s(53),L=s(40),v=s(14),P=s(85),F=s(267),w=s(171);const k=Object(u.defineMessages)({heading:{id:"Coupons_header.heading",defaultMessage:"Deals from email"},coupons:{id:"Coupons_header.coupons",defaultMessage:"Deals"},emails:{id:"Coupons_header.emails",defaultMessage:"Emails"},categories:{id:"Coupons_header.categories",defaultMessage:"Categories"}}),x="All";class U extends c.a.Component{constructor(...e){super(...e),n()(this,"handleTabChange",(e,{mKey:t,smartViewType:s})=>{const a=Object(S.w)(s,{accountIds:Object(g.g)(this.props.listId)});this.props.onTabChange({route:a,i13nModel:{mKey:t,sec:E.g.SHOPPING_VIEW,interactionType:Object(I.j)(e)}})}),n()(this,"getActiveIndex",()=>{return Object(g.t)(this.props.listId)===p.Pb.COUPON_CARDS?0:1}),n()(this,"handleCategoryClick",e=>{let t;if(e===x)t=Object(S.w)(p.Kd.COUPONS,{accountIds:this.props.activeAccountId});else{const s=Object(g.d)(Object(P.b)(p.Kd.COUPONS,{keyword:e,accountIds:this.props.activeAccountId})),a=Object(g.Y)(s);t={name:p.gd.SEARCH,params:{query:a}}}this.context.navigateTo({route:t,i13nModel:{mKey:E.e.CATEGORY_FILTER_CLICKED,sec:E.g.SHOPPING_VIEW,actionData:{category:e}}})}),n()(this,"renderCategoryFilter",()=>{const e=this.props,t=e.categories,s=e.listId,a=this.context.getThemeMode(),n=this.context.intl.formatMessage,r=m()(l.a,{themeMode:a}),i=Object(g.s)(s);if(0!==this.getActiveIndex()||!t||!t.length)return null;const o=[x].concat(t).map(e=>c.a.createElement(b.a,{key:e,name:e},c.a.createElement(h.a,{kind:O.a.MENUITEM,onClick:()=>this.handleCategoryClick(e)},i===e||!i&&e===x?c.a.createElement("span",{className:r.categoryFilterCheckIcon},c.a.createElement(R.b,{kind:M.b.CHECKMARK,size:M.d.XS,colorState:M.a.NORMAL})):null,c.a.createElement("span",{className:r.categoryFilterLabel},e))));return c.a.createElement("div",{className:r.categoryFilterContainer},c.a.createElement(D.a,null,c.a.createElement(y.a,null,c.a.createElement("div",{className:r.categoryFilterAnchor},c.a.createElement("span",{className:r.categoryFilterAnchorLabel},n(k.categories)),c.a.createElement(N.a,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"category-filter-dropdown-button",kind:M.b.CHEVRON_UP,colorState:M.a.INHERITED,size:M.d.XS,rotate:M.c.D180,className:r.categoryFilterAnchorButton}))),c.a.createElement(L.b,{triggerOn:v.i.CLICK,isArrowVisible:!0},c.a.createElement("div",null,c.a.createElement(A.a,{focusOnMount:!0,"data-test-id":"category-filter"},[o])))))})}render(){const e=this.context.intl.formatMessage,t=this.context.getThemeMode(),s=m()(l.a,{themeMode:t}),a=e(k.heading),n=this.getActiveIndex();return c.a.createElement("div",null,c.a.createElement("div",{className:s.container},this.props.showShoppingHeader?c.a.createElement("div",{className:s.tabs},c.a.createElement(F.a,null,c.a.createElement(w.a,{isSelected:0===n,title:e(k.coupons),onClick:e=>this.handleTabChange(e,{mKey:E.e.SHOPPING_COUPONS_VIEW_CLICKED,smartViewType:p.Kd.COUPONS}),"data-test-id":"coupons-tab"}),c.a.createElement(w.a,{isSelected:2===n,title:e(k.emails),onClick:e=>this.handleTabChange(e,{mKey:E.e.SHOPPING_EMAILS_VIEW_CLICKED,smartViewType:p.Kd.SHOPPING_EMAILS}),"data-test-id":"shopping-emails-tab"})),this.renderCategoryFilter()):c.a.createElement("div",{className:s.heading,"data-test-id":"coupons-heading","aria-label":a,title:a},a,this.renderCategoryFilter())))}}n()(U,"contextTypes",{intl:u.intlShape.isRequired,getThemeMode:i.a.func,getTheme:i.a.func,navigateTo:i.a.func});t.a=Object(C.connect)(e=>{const t=Object(f.b)(e),s=t.getSmartViewTypeFromRoute,a=t.getSmartViewPosition,n=t.getDealsSelectors,r=t.getSelectedAccountId,i=(0,t.getRoute)(),o=s(i),c=Object(g.w)(i),d=n().getTopDealCategories();return{listId:c,showShoppingHeader:o===p.Kd.COUPONS&&a(o)===p.Jd.TAB_BAR,categories:d,activeAccountId:r()}},e=>({onTabChange:t=>e(Object(T.j)(t))}))(U)},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB en_0",heading:"D_F gl_FM ab_C A_6FsP P_ZDKXs7 k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",groceryViewHeading:"D_F gl_FM ab_C A_6FsP P_Z8E2tx k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",helper:"D_F gl_C ab_C A_6Eb4 r_P E_e8l",backButton:"W_7Ig6 r_P",summaryRow:"D_F m_Z1lusya",infoText:"D_F ab_C A_6Eb4 C_Z281SGl y_Z2uhb3X E_eo6",print:"D_F ab_C M_3gJOe",pContent:"D_F ek_BB P_1d6dau",helpContainer:"D_F ab_C gl_C P_Z2a4wQg r_P C4_Z2aVTcY",text:"A_6EqO X_eo6",body:"r_P jb_6Fd5 C4_Z2aVTcY",selectStoreContainer:"D_F ab_C A_6EqO C_Z281SGl r_P"},smartView:{groceryViewHeading:"gl_C"},"themeMode-DARK":{groceryViewHeading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",summaryRow:"I_52qC"}},_key:"jabi2"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F a_3He0m ek_BB",textInput:"A_6EqO M_27m5tQ p_R",titleLabel:"A_6EWk M_1Wjk7b u_dPo",label:"u_b A_6EqO M_3gIgH i_6Mbr",hintTop:"A_6DUj M_1IaimO C_Z281SGl",oAuthHint:"A_6EqO Y_6LEV U_6NIX i_6LEV C_Z281SGl",hint:"C_Z1TsNWR A_6DUj U_6Fd5",link:"C_Z2aVTcY Q_dRA u_e69 r_P",iconsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",backButton:"r_P P_1EudUu H_6TFj cn_dBP cg_FJ y_Z2uhb3X A_6EqO I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY M_1MYy0B e_dRA k_w en_0 V_M s_7yHc P_1EudUu cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl",cancelButton:"b_n r_P C_Z1YRXYn V_M D_X q_T A_6EqO H_6TFj P_1EudUu u_e69 I4_15sa3J C4_Z281SGl",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI",errorIcon:"E_fq7 D_F",errorHeader:"M_0 i_6LEV",errorInvalidReason:"C_ZkiIcp D_B A_6DUj M_fq7",tryAgain:"D_B C_Z2aVTcY u_e69 r_P",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNWR J_x ir_0 G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",clearIconContainer:"p_a T_eTB R_0 P_3gJOe Z_N"},disabled:{primaryButton:"O_cMq r_A I4_Z2aVTcY l4_Z2aVTcY"}},_key:"YHXC2"}},function(e,t,s){"use strict";var a=s(2),n=s(4),r=s.n(n),i=s(46),o=s.n(i),c=s(69),d=s(103),l=s(0),u=s(11),_=s(48);var m=s(116);const p=(e,t,s)=>{const a=(0,Object(u.b)(e.getState()).getAdsSelectors)().getAdFeedbackBeacon(s).replace("$(AD_FEEDBACK)",t);Object(m.a)(a)};var h=s(219),g=s(39),E=s.n(g);const I=e=>{let t=e.itemsToUpdate,s=E()(e,["itemsToUpdate"]);return r()({itemsToUpdate:t.map(e=>{let t=e.destinationFolder,s=e.folder,a=E()(e,["destinationFolder","folder"]);return r()({},a,{folder:t,destinationFolder:s})})},s,{type:a.Uk})};var S=s(272),C=s(9);function f(e,t,s){const a=e.isMobileRoute,n=e.getAccountSelectors,r=(0,e.getFoldersSelectors)(),i=r.getFolderIdsByAccountId,o=r.hasChildren;let c;switch(t){case l.zd.INTERSTITIAL_FREQUENCY:c=l.ic.INTERSTITIAL_FREQUENCY;break;case l.zd.THEME:c=a()?l.ic.MOBILE_THEME:l.ic.THEME;break;case l.zd.THEME_MODE:c=a()?l.ic.MOBILE_THEME_MODE:l.ic.THEME_MODE;break;case l.zd.PREVIEW_PANE:c=l.ic.PREVIEW_PANE;break;case l.zd.MSG_LIST_DENSITY:c=l.ic.MSG_LIST_DENSITY;break;case l.zd.SNIPPETS:c=a()?l.ic.MOBILE_SNIPPETS:l.ic.SNIPPETS;break;case l.zd.COMPOSE_FONT_FAMILY:c=l.ic.COMPOSE_FONT_FAMILY;break;case l.zd.COMPOSE_FONT_SIZE:c=l.ic.COMPOSE_FONT_SIZE;break;case l.zd.MOBILE_NOTIFICATION:c=l.ic.MOBILE_NOTIFICATION;break;case l.zd.DESKTOP_NOTIFICATION:c=l.ic.DESKTOP_NOTIFICATION;break;case l.zd.MARK_AS_READ_INTERVAL:c=l.ic.MARK_AS_READ_INTERVAL;break;case l.zd.SHOW_IMAGES:c=a()?l.ic.MOBILE_SHOW_IMAGES:l.ic.BLOCK_IMAGES;break;case l.zd.LINK_ENHANCR:c=l.ic.LINK_ENHANCER;break;case l.zd.ACTION_AFTER_MSG_MOVE:c=l.ic.ACTION_AFTER_MSG_MOVE;break;case l.zd.SHOW_CUSTOM_FOLDERS:c=l.ic.SHOW_CUSTOM_FOLDERS;break;case l.zd.SHOW_SMART_VIEWS:c=l.ic.EXPAND_SMART_VIEWS;break;case l.zd.SUPPRESSED_UPSELLS:c=l.ic.SUPPRESSED_UPSELLS;break;case l.zd.MAIL_TABS:c=l.ic.MAIL_TABS;break;case l.zd.HIDE_AD:c=l.ic.HIDE_AD;break;case l.zd.SHOW_ALL_SYSTEM_FOLDERS:c=l.ic.SHOW_ALL_SYSTEM_FOLDERS;break;case l.zd.EXPANDED_FOLDERS:{c=l.ic.EXPANDED_FOLDERS;const e=n().getAccountIds();let t=[];e.forEach(e=>{i(e).forEach(e=>{o(e)&&-1!==s.indexOf(e)&&(t=t.concat(e))})}),s=t;break}case l.zd.STATIONERY_DEFAULT_THEME:c=l.ic.STATIONERY_DEFAULT_THEME;break;case l.zd.USE_RICH_TEXT:c=l.ic.USE_RICH_TEXT;break;case l.zd.UNSUBSCRIBE_NOTIFICATION:c=l.ic.UNSUBSCRIBE_NOTIFICATION;break;case l.zd.UNSUBSCRIBE_TIMESTAMP:c=l.ic.UNSUBSCRIBE_TIMESTAMP;break;case l.zd.NUM_UNSUBSCRIBED_ITEMS:c=l.ic.NUM_UNSUBSCRIBED_ITEMS;break;case l.zd.RECENTLY_USED_EMOJIS:c=l.ic.RECENTLY_USED_EMOJIS;break;case l.zd.SCOUT_ONBOARDING:c=l.ic.SCOUT_ONBOARDING;break;case l.zd.SYSTEM_TABS:c=l.ic.SYSTEM_TABS;break;case l.zd.EMAIL_SUBSCRIPTIONS:c=l.ic.EMAIL_SUBSCRIPTIONS;break;case l.zd.AD_BLOCK_FEATURE_CUE_ID:c=l.ic.AD_BLOCK_FEATURE_CUE_ID;break;case l.zd.PREFERRED_AD_FORMAT:c=l.ic.PREFERRED_AD_FORMAT;break;case l.zd.BREAKING_NEWS_SETTINGS:c=l.ic.BREAKING_NEWS}return c}var T=s(93),A=s(18),b=s(10);var O=s(100),R=s(195),N=s(179),M=s(56),D=s(166),y=s.n(D),L=s(185);const v=(e=[])=>e.map(({name:e,email:t})=>({name:e,email:t})),P=(e,t)=>{const s=Object(u.b)(e),a=s.getDraftFolderIdByAccountEmail,n=s.getDraftFolderIdForPrimaryAccount,i=s.getAttachmentMessageReferenceByContentId,o=s.isReplyMessage,c=s.isReplyAllMessage,d=s.isForwardMessage,l=s.getReplyingToMessageId,_=t.to,m=t.cc,p=t.bcc,h=t.from,g=t.csid,E=t.subject,I=t.html,S=t.attachmentsInfo,C=void 0===S?[]:S,f=t.rawFiles,T=void 0===f?{}:f,A=t.newContentIds,b=void 0===A?[]:A,O=t.uiState.useRichText,R=(0,s.getSelectedMailboxId)(),M=a(h.email)||n(),D=l(g),L=o(g),P=c(g),F=d(g),w=y()(C,"contentId").filter(e=>{const t=b.some(t=>t===e.contentId),s=i(e.contentId);let a=s&&e.partId&&e.partId.indexOf(".")>0;if(a){const t=e.partId.split(".")[0];a=!!C.find(({partId:e})=>e===t)}return(t||s)&&!a}).map(e=>{const t=i(e.contentId);return t?r()({},e,{messageReference:t,file:void 0}):e}),k=[{name:h.sendingName||h.email,email:h.email}],x=h.replyToAddress?[{name:h.sendingName||h.replyToAddress,email:h.replyToAddress}]:[],U={csid:g,mailboxId:encodeURIComponent(R),subject:E,from:k,replyTo:x,to:v(_),cc:v(m),bcc:v(p),html:O?Object(N.d)(I,s):null,text:O?null:Object(N.a)(I),folderId:M,attachments:w,files:(b||[]).map(e=>T[e]).filter(Boolean)};return D?(U.newMessage=!1,U.inReplyTo={messageReference:{id:D},replied:L||P,forwarded:!(L||P)&&F}):U.newMessage=!0,U},F=s.n(L)()((e,t)=>{e(Object(O.i)(t))},2e3);var w=s(143),k=s(80),x=s(138),U=s(7),G=s(94);const j=(e,t,s)=>{const a=e.dispatch,n=e.getState,r=(0,Object(u.b)(n()).getEnvironmentSelectors)().getIsXobnified();return null!==r?Promise.resolve(r):s.autoSuggestClient.isUserXobnified().then(e=>a(Object(w.b)({isXobnified:e}))).catch(e=>a(Object(w.a)(e)))};var H=s(43),B=s(435);const V=e=>r()({type:a.ue},e);var W=s(47);function q({type:e,subtype:t}){switch(Object(W.d)(e,t)){case l.w.SimplifiedTypes.COMPRESSED:return{code:625,isRetryable:!1};default:return{code:813,isRetryable:!1}}}var z=s(299);var K=s(129),Z=s(297),Y=s(21);const X=["inboxErnyCue","inboxErnyBrndCue","inboxErnyGrthCue","inboxErnyGrthBrndCue","inboxErnySvngsCue","msgReadErnyCue","couponsViewLaunchCue","msgReadDeleteEarnyCue","blkDeleteMsgErnyCue","amazonPrimeDayCue","shopRunnerViewCue"],Q=e=>y()(e.filter(e=>X.indexOf(e.split(",")[0])<0).sort((e,t)=>(0|parseInt(t.split(",")[1],10))-(0|parseInt(e.split(",")[1],10))),e=>e.split(",")[0]);var $=s(49),J=s(17);const ee=({shouldWriteToDataSource:e,success:t,failure:s})=>(a,{name:n,userAction:r,userResponse:i,i13nModel:o},c)=>{const d=a.dispatch,_=a.getState,m=Object(u.b)(_()),p=m.getFeaturesSelectors,h=m.getFeatureCueSelectors,g=m.getSelectedMailboxId,E=m.getEnvironmentSelectors,I=h(),S=I.isPersistent,C=I.isKeySaved,f=E().isAMT;return o&&o.mKey===U.e.CONVERSATIONS_CUE_TAP&&setTimeout(()=>d(Object($.j)({route:Object(J.v)()})),0),n===l.ub.PARTNER_RECONSENT_BANNER?Promise.resolve():f()||C(n)||!e({userResponse:i,isPersistent:S(n)})?void 0:(({feature:e,userResponse:t,apiClients:{mailAPIClient:s,udbClient:a},selectors:{getFeatureCueSelectors:n,getSelectedMailboxId:r}})=>{const i=n(),o=i.isUdbOnly,c=(0,i.getSubkey)(e)||e,d=o(e),u=r();if(Object(Y.a)(X.indexOf(c)<0,`${c} is legacy, it shouldn't be rendered`),d)return a.write({[Z.a.YM_MAIL_SCOUT]:{[c]:t||Math.round(Date.now()/1e3)}});const _=t?`${t}`:"";Object(Y.a)(_.length<4,"User Response should be of length 4 or less");const m=("0000"+_).substring(_.length);return s.request("saveArrayAttributes",{mailboxId:u,items:[`${c},${Math.round(Date.now()/1e3)},${m}`],attribute:l.ic.SCOUT_ONBOARDING,dedupFn:Q})})({feature:n,userResponse:i,apiClients:c,selectors:{getFeaturesSelectors:p,getFeatureCueSelectors:h,getSelectedMailboxId:g}}).then(e=>d(t({feature:n,value:e,userAction:r}))).catch(e=>d(s({feature:n,error:e,userAction:r})))},te=ee({shouldWriteToDataSource:({userResponse:e,isPersistent:t})=>e||t,success:e=>Object(K.c)(e),failure:e=>Object(K.b)(e)}),se=ee({shouldWriteToDataSource:({isPersistent:e})=>!e,success:e=>Object(K.f)(e),failure:({error:e})=>Object(K.e)(e)});var ae=s(159);var ne=s(66),re=s(354);var ie=s(355),oe=s(222);var ce=s(135),de=s(41),le=s(25),ue=s(87),_e=s(75),me=s(73);const pe=(e,t,s)=>{const a=t.route,n=t.config,r=t.type,i=((e,t)=>{switch(t.name){case l.gd.FOLDER:return e.launchFolder;case l.gd.MESSAGE_FROM_FOLDER_LIST:case l.gd.MESSAGE_FROM_SEARCH_LIST:return e.launchMessage;default:return e.root}})(Object(ue.a)(n,"spaceids"),a),o=Object(ue.a)(n,"geminiForceFilter"),c=Object(ue.a)(n,"sectionIdsToPrefetch")||[],d=Object(ue.a)(n,"geminiSectionIds")||{},u=Object.keys(d).reduce((e,t)=>(-1!==c.indexOf(d[t])&&(e[t]=d[t]),e),{});if(!Object.keys(u).length)return Promise.resolve();const _={sectionId:u,publisherInfo:`||${i}|STRM|`,rotationActionType:r};return o&&(_.forceFilter=o),Object(ue.b)(n,"geminiSponsoredVideo")&&(_.creativeCode="STRM,STRM_VIDEO",_.contentType="video/mp4,application/vnd.apple.mpegurl"),Object(ue.b)(n,"videoSponsoredMoment")&&(_.videoMomentEnabled=!0),s.geminiAPIClient.request(_).then(e=>e)},he=(e,t,s)=>{const a=Object(u.b)(e.getState()),n=a.getAppName,r=t.route,i=t.config,o=["LREC","LREC4","SKY"];(0,a.isFeatureEnabled)(l.ub.LREC_MON_AD_ARBITRATION)&&o.push("MON");const c=Object(_e.e)(i.spaceids,r.name);return s.darlaAdClient.request({spaceId:c,adPositions:o,app:n()}).catch(()=>{}).then(e=>({darlaAds:e}))},ge=e=>me.a.feature("darla_launch_syncer_prefetch",{routeName:e.name}),Ee=(e,t)=>{t?e.logSuccessAndLatency():e.logFailure()};var Ie=s(134),Se=s(158);var Ce=s(97);var fe=({dispatch:e,getState:t},{action:{listId:s,count:n=l.Z,type:r=""}={}},{mailAPIClient:i})=>{const o=Object(u.b)(t()),c=o.getSelectedMailboxId,d=o.getListsSelectors,_=o.getSelectedAccountId,m=o.isFeatureEnabled,p=(0,o.getRouteName)()===l.gd.SEARCH;if(m(l.ub.BOOTCAMP_COUPONS)||r!==a.hh||p&&m(l.ub.COUPONS_SMART_VIEW_SEARCH))return Promise.resolve();const h=d(),g=h.doesListExist,E=h.getListOffset,I=h.hasMoreItems,S=c(),C=_(),f=[],T=[],A=!!g(s)&&I(s),O=Object(b.u)(s);if(A){const e=g(s)?E(s):0;f.push(O),T.push(e)}const R=O===l.Qb.SAVED_COUPON_CARDS?l.Qb.ALL_COUPON_CARDS:l.Qb.SAVED_COUPON_CARDS,N=Object(b.W)(s,{listFilter:R});if(g(N)&&I(N)){const e=g(N)?E(N):0;f.push(R),T.push(e)}const M={mailboxId:S,filter:f,count:n,offset:T,startCardDate:Object(H.r)(new Date),endCardDate:Math.round((new Date).getTime()/1e3)+30*H.a,sortOrder:l.jd,accountId:C};return i.request("consolidatedCoupons.getList",M).then(t=>{t.messageGroupsResponses.forEach(t=>{e(Object(Ce.c)({listId:Object(b.W)(s,{listFilter:t.filter}),cardGroupList:t.cardGroupList,hasMoreItems:t.hasMoreItems,offset:t.offset}))})}).catch(t=>{e(Object(Ce.b)({listId:s,error:t}))})};var Te=({dispatch:e,getState:t},{listId:s},{mailAPIClient:a})=>{const n=Object(u.b)(t()),r=n.getListsSelectors,i=n.getFeaturesSelectors,o=n.getSelectedAccountId,c=(0,n.getSelectedMailboxId)(),d=r().getItemIdsSelectors,_=i().getSetting(l.zd.CARD_GROUPS_FETCH_COUNT),m=d(s).getItemIds().length,p=Object(b.u)(s),h=Object(b.F)(s),g=o();return a.request("messageCards.getList",{mailboxId:c,filter:p,offset:m,count:_,sortOrder:h,accountId:g}).then(({cardGroupList:t,hasMoreItems:a})=>{e(Object(Ce.k)({listId:s,cardGroupList:t,hasMoreItems:a}))}).catch(t=>{e(Object(Ce.j)({listId:s,error:t}))})};var Ae=({dispatch:e,getState:t},{listId:s,count:a=l.Z},{mailAPIClient:n})=>{const r=Object(u.b)(t()),i=r.getSelectedMailboxId,o=r.getSelectedAccountId,c=(0,r.getListsSelectors)(),d=c.doesListExist,_=c.getListOffset,m=c.hasMoreItems,p=i(),h=o(),g=l.Qb.ALL_REFUND_CARDS;let E=0;return!!d(s)&&m(s)&&(E=d(s)?_(s):0),n.request("getMoreReceipts",{mailboxId:p,filter:g,count:a,offset:E,sortOrder:l.Od.CARD_DATE_DESC,accountId:h}).then(t=>{e(Object(Ce.g)({listId:s,cardGroupList:t.messageGroupsResponses.cardGroupList,hasMoreItems:t.messageGroupsResponses.hasMoreItems,offset:t.messageGroupsResponses.offset,parentMessagesMap:t.parentMessagesMap}))}).catch(t=>{e(Object(Ce.f)({listId:s,error:t}))})},be=s(91),Oe=s(35);var Re=s(436);const Ne=(e={})=>{const t=e.contentProviders&&Object.keys(e.contentProviders).filter(t=>t!==l.W.YMAIL&&e.contentProviders[t]&&e.contentProviders[t].isConnected),s={mKey:U.e.CONNECTED_PROVIDERS,sec:U.g.CONTENT_PROVIDERS,actionData:{providers:t}};return r()({type:a.ld},e,{i13nModel:t.length>0?s:void 0})},Me=(e={})=>r()({type:a.kd},e);var De=s(235);var ye=s(150);const Le=e=>r()({type:a.Rb},e),ve=e=>r()({type:a.Qb},e),Pe=.98;var Fe=s(437);var we=s(31),ke=s.n(we);var xe=function(e,t,s){const a=t.sectionIds,n=t.spaceId;if(t.unsyncedDataType!==l.re.GEMINI_AD||!a||!n)return Promise.resolve();const r=e.dispatch,i=e.getState,o=Object(u.b)(i()),c=o.getAdsSelectors,d=o.getAction,_=o.getGroupId,m=o.getSenderEmailIdsFromMessageGroup,p=(0,o.getFeaturesSelectors)(),h=p.isEnabled,g=p.getSetting,E=c().getGeminiCategories(),I=g(l.zd.GEMINI_FORCE_FILTER),S=m([_()]),C=Object(A.l)(S[0]),f={adCount:1,sectionId:a,publisherInfo:`||${n}|STRM|`,rotationActionType:d().type},T=Object.keys(a).some(e=>e===l.Db.SHOPPING_CART),b=Object.keys(a).some(e=>e===l.Db.DEALS_SHOPPING_CART);return h(l.ub.ROTATE_PENCIL_AD_ON_EXPIRE)||setTimeout(()=>r(Object(ne.i)({sectionIds:a})),0),I&&(f.forceFilter=I),h(l.ub.GEMINI_SPONSORED_VIDEO)&&(f.creativeCode="STRM,STRM_VIDEO",f.contentType="video/mp4,application/vnd.apple.mpegurl"),(h(l.ub.SHOPPING_CART_AD)||h(l.ub.SUBSCRIPTION_ADS)||h(l.ub.MSG_READ_PENCIL_AD_SEND_DOMAIN))&&C&&(f.domain=C),E&&E.length&&(f.adCategories=E.join(",")),h(l.ub.VIDEO_SPONSORED_MOMENT)&&(f.videoMomentEnabled=!0),s.geminiAPIClient.request(f).then(e=>{const t={geminiAd:e,sectionIds:a};if(T||b){const s=T?U.e.SHOPPING_CART_AD_REQUEST_SUCCESS:U.e.DEALS_SHOPPING_CART_AD_REQUEST_SUCCESS,n=T?U.e.SHOPPING_CART_AD_REQUEST_FAILURE:U.e.DEALS_SHOPPING_CART_AD_REQUEST_FAILURE;t.i13nModel={mKey:e[a[l.Db.SHOPPING_CART]]||e[a[l.Db.DEALS_SHOPPING_CART]]?s:n,sec:U.g.SHOPPING_CART,actionData:{domain:C}}}return h(l.ub.SPONSORED_MESSAGE_TRIAGE)&&(t.sponsoredMessageTriage=!0),r(Object(ne.s)(t))}).catch(e=>{let t={};return(T||b)&&(t={mKey:T?U.e.SHOPPING_CART_AD_REQUEST_FAILURE:U.e.DEALS_SHOPPING_CART_AD_REQUEST_FAILURE,sec:U.g.SHOPPING_CART,actionData:{domain:C}}),r(Object(ne.r)({error:e,sectionIds:a,i13nModel:t}))})};const Ue=e=>r()({type:a.S},e),Ge=e=>({type:a.R,error:e});var je=function(e,t,s){if(t.unsyncedDataType!==l.re.IMPORTANT_CONTACTS_FETCH)return Promise.resolve();const a=e.dispatch,n=t.fromEmail,r=t.listId;return s.autoSuggestClient.importantContacts(n).then(e=>{a(Object(k.s)({fromEmail:n,contacts:e,listId:r}))}).catch(()=>{a(Object(k.n)({fromEmail:n,listId:r}))})},He=s(438);var Be=s(439),Ve=s(78);const We=(e,t)=>({type:a.Ef,error:t}),qe=e=>e.map(e=>Object(b.W)("{}",{listContentType:l.Pb.GROCERY_STORES,listFilter:e,referrer:l.Rb[l.Kd.GROCERIES]}));var ze=s(197),Ke=s(180),Ze=s(132),Ye=s(38),Xe=s(86);var Qe=s(300),$e=s(217);const Je=e=>({type:a.Gj,retailers:e}),et=e=>({type:a.Fj,error:e});const tt=e=>r()({type:a.Pk},e),st=e=>r()({type:a.Ok},e),at=e=>r()({type:a.Nk},e),nt=e=>r()({type:a.Mk},e);var rt=s(236);var it=(e,t,s)=>{const a=t.blockSenders,n=void 0===a?null:a,r=t.overWrite,i=void 0!==r&&r,o=t.delta,d=void 0===o?1:o,u=e.dispatch;return null===n?Promise.resolve():s.mailAPIClient.request("saveArrayAttributes",{items:n||[],overWrite:i,attribute:l.ic.DELIVERY_BLOCKED_SENDERS}).then(()=>{u(Object(c.d)({name:l.zd.DELIVERY_BLOCKED_SENDERS,senders:n,delta:d}))}).catch(e=>{u(Object(c.c)({name:l.zd.DELIVERY_BLOCKED_SENDERS,error:e,delta:d}))})};var ot=s(213),ct=s.n(ot),dt=s(95),lt=s(356);const ut=(e,t,s)=>{const n=e.dispatch,i=e.getState,o=Object(u.b)(i()),c=o.getSelectedMailboxId,d=o.getRoute,_=o.getAccountSelectors,m=(0,o.getSettingsSelectors)().getSettingsApiCallStatus,p=d();if(p.name!==l.gd.SETTINGS&&p.name!==l.gd.BLOCKED_SENDERS)return Promise.resolve();if(m()===l.bd.LOADED)return Promise.resolve();const h=c();return s.mailAPIClient.request("settings.get",{mailboxId:h,primaryAccountDisabled:_().isPrimaryAccountDisabled()}).then(e=>{n(r()({type:a.uj},e))}).catch(function(e){n({type:a.tj,payload:e})})};var _t=s(101);var mt=s(452),pt=s(440),ht=s(257);var gt=s(200);var Et=(e,t,s)=>{const n=e.dispatch,i=e.getState,o=Object(u.b)(i()),c=o.getSelectedMailboxId,d=o.getPendingUpdate,_=(0,o.getFeaturesSelectors)(),m=_.getSetting("bulkActionDialogThreshold"),p=_.isEnabled(l.ub.UPDATE_ITEMS_V3),g=t.messageItemsToSync,E=void 0===g?[]:g;if(!p||t.unsyncedDataType!==l.re.MESSAGE_ITEM_TO_UPDATE||!E.length)return Promise.resolve();const S=E.length>m||E.filter(e=>!!e.messageQuery).length>0,C=E.some(e=>e.permanentDelete),f=_.isEnabled(l.ub.CONVERSATIONS),T=d(),A=T.streamId,b=void 0===A?void 0:A,O=T.itemsToUpdate,R=void 0===O?[]:O,N=T.triageActionType,M=void 0===N?"":N,D=T.folderId,y=void 0===D?"":D,L=T.destinationFolderId,v=void 0===L?"":L,P=T.destinationFolderType,F=void 0===P?"":P,w=T.count,k=T.conversations;let x=Object.keys(R.reduce((e,t)=>r()({},e,{[t.id]:!0}),{})).length;-1!==[l.ne.READ_CHANGE_FOLDER_ITEMS,l.ne.ARCHIVE_FOLDER_ITEMS,l.ne.DELETE_FOLDER_ITEMS].indexOf(M)&&(x=w);let G=void 0;switch(M){case l.ne.MOVE_SELECTED_ITEMS:case l.ne.RESTORE_SELECTED_ITEMS:case l.ne.SPAM_SELECTED_ITEMS:case l.ne.NOT_SPAM_SELECTED_ITEMS:G=I({streamId:b,itemsToUpdate:R,i13nModel:{mKey:U.e.UNDO_MOVE_ACTION},triageActionType:l.ne.UNDO_MOVE});break;case l.ne.DELETE_SELECTED_ITEMS:G=C?void 0:I({streamId:b,itemsToUpdate:R,i13nModel:{mKey:U.e.UNDO_DELETE_ACTION},triageActionType:l.ne.UNDO_MOVE});break;case l.ne.ARCHIVE_SELECTED_ITEMS:G=I({streamId:b,itemsToUpdate:R,i13nModel:{mKey:U.e.UNDO_ARCHIVE_ACTION},triageActionType:l.ne.UNDO_MOVE})}const j={mailboxId:c(),messageItemsToSync:E,isAsync:S},H={messageItemsToSync:E,itemsToUpdate:R,triageActionType:M,folderId:y,destinationFolderId:v,destinationFolderType:F,isAsync:S,count:x,permanent:C,conversations:f};void 0!==k&&(H.conversations=k);const B=r()({successAction:r()({type:a.tl},H,{undoAction:G}),failureAction:r()({type:a.sl},H)},H);return s.mailAPIClient.request("messages.UnifiedUpdate",j).then(({tasks:e,successType:t})=>{n(t===l.rc.ASYNC?Object(h.c)({tasks:e,messageItemsToSync:E,actionPayload:B}):t===l.rc.FAILURE?Object(gt.a)(H):Object(gt.b)(r()({},H,{undoAction:G})))}).catch(()=>{n(Object(gt.a)(H))})};const It=(e,t,s)=>{const n=e.getState,r=Object(u.b)(n()),i=r.isMobileRoute,o=(0,r.getSetting)(l.zd.SCOUT_ONBOARDING),c=t.name,d=t.value,_=t.userResponse,m=Object(Ie.b)(o,l.ub.WEB_PAC_NOTIFICATION_CUE),p=c===l.zd.SHOW_IMAGES&&!d&&m>0||c!==l.zd.SHOW_IMAGES&&_,h=m>=l.te;return[a.lj,l.re.UPDATE_PAC_CUE].indexOf(t.unsyncedDataType)>-1&&!i()&&!h&&p?se(e,{name:l.ub.WEB_PAC_NOTIFICATION_CUE,userResponse:_||l.te,i13nModel:{sec:U.g.FEATURE_CUE,mKey:"cue_pacNotificationCue_invoke",actionData:{fromMsgBody:!!_}}},s):Promise.resolve()};var St=s(441);function Ct(e,{unsyncedDataType:t="",snippet:s=""},{smartReplyClient:a}){const n=e.dispatch;return t!==l.re.REPLY_SUGGESTIONS?Promise.resolve():a.getReplySuggestions({snippet:s}).then((e={})=>{const t=e.body.replies,a=void 0===t?[]:t;n(Object(St.c)({replies:a,snippet:s}))}).catch(()=>n(Object(St.b)()))}var ft=s(148);const Tt=e=>r()({type:a.Hf},e),At=e=>r()({type:a.Gf},e);const bt=[(e,t,s)=>{const a=e.dispatch,n=(0,e.getState)(),i=Object(u.b)(n),o=i.getDraftFolderIdByAccountEmail,c=i.getDraftFolderIdForPrimaryAccount,d=i.getDraftMessageId,_=i.getGroupIdContainingMessageId,m=i.isSendRequested,p=i.doesComposeHaveFatalError,h=(0,(0,i.getFeaturesSelectors)().isEnabled)(l.ub.CONVERSATIONS),g=t.from,E=t.csid,I=t.lastEditedTimeStamp,S=t.newContentIds,C=void 0===S?[]:S,f=t.showNotification,T=t.rawFiles,A=void 0===T?{}:T,N=f?"messages.saveV3":"messages.autoSaveV3";if(!E||t.unsyncedDataType!==l.re.COMPOSE||m(E)||p(E)&&!f)return Promise.resolve();const D=P(n,t),y=o(g.email)||c(),L=Object(b.v)(y),v=C.filter(e=>A[e]),w=r()({strategy:R.a.STRATEGIES.BROWSER_TO_JEDI,timeout:0},D.files.length?{uploadProgressCallback(e){F(a,{newFileContentIds:v,percent:parseInt(e.percent,10),csid:E})}}:{});return s.mailAPIClient.request(N,D,w,D.files).then(e=>{const s=t.html,n=t.htmlAnnotations,i=d(E);e.simpleBody={html:s,htmlAnnotations:n},a(Object(O.m)(r()({},e,{lastEditedTimeStamp:I,csid:E,listId:L,conversationsMode:h,draftMessageId:i,draftFolderId:y,previousStreamItem:{listId:L,id:_(i)},streamId:Object(M.a)([L]),streamItem:{listId:L,id:h?e.message.conversationId:e.message.id}})))}).catch(e=>a(Object(O.k)({lastEditedTimeStamp:I,csid:E,listId:L,newContentIds:C,error:e,showNotification:f})))},(e,t,s)=>{const a=e.dispatch,n=(0,e.getState)(),i=Object(u.b)(n),o=i.getSendFolderIdByAccountEmail,c=i.getSendFolderIdForPrimaryAccount,d=i.getMessagesSelectors,_=i.getFeaturesSelectors,m=i.getDraftMessageId,p=i.getRoute,h=i.canSendDraft,g=i.getDraftErrors,E=i.isSendRequested,I=i.isSent,S=i.getMessageCsid,C=i.doesMessageIdExist,f=i.didAttachmentUploadFail,T=i.getGroupIdContainingMessageId,A=i.getMainStreamListIds,b=i.getReplyingToMessageId,N=_().isEnabled,D=t.csid,y=t.from,L=t.lastEditedTimeStamp,v=t.attachmentsInfo,F=void 0===v?[]:v,w=t.listId;if(!D||t.unsyncedDataType!==l.re.COMPOSE||I(D)||!E(D))return Promise.resolve();const k=P(n,t);if(g(k))return Promise.reject();const x=p(),U=m(D),G=N(l.ub.CONVERSATIONS),j=o(y.email)||c(),H=b(D),B=A(x),V=B[0],W=Object(M.a)(B),q=T(H||U),z=H&&C(H)?S(H):null,K={strategy:R.a.STRATEGIES.BROWSER_TO_JEDI,timeout:0};if(k.sentFolderId=j,k.secure=!_().isEnabled(l.zd.SHOW_IMAGES),h({csid:D,lastEditedTimeStamp:L,attachmentsInfo:F})){let e;return G&&(e=d().getConversationId(U)),s.mailAPIClient.request("messages.send",r()({},k,{messageId:U}),K,k.files).then(t=>a(Object(O.p)(r()({},t,{message:r()({},t.message,{folder:{id:j},inReplyTo:k.inReplyTo,conversationId:e}),route:x,csid:D,listId:V,streamId:W},q?{streamItem:{id:q,listId:V,messageIds:[U||t.message.id]}}:null,{destinationFolderId:j,lastEditedTimeStamp:L,sentFolderId:j,conversationsMode:G,inReplyToMessageCsid:z})))).catch(e=>a(Object(O.n)({csid:D,listId:w,groupId:q,lastEditedTimeStamp:L,error:e})))}const Z=F.filter(e=>f(e.contentId));return Z.length?Promise.resolve().then(()=>{a(Object(O.n)({csid:D,lastEditedTimeStamp:L,listId:w,groupId:q,error:{invalidAttachments:Z}}))}):s.mailAPIClient.request("messages.saveAndSend",k,K,k.files).then(e=>a(Object(O.j)(r()({},e,{message:r()({},e.message,{folder:{id:j}}),csid:D,listId:V,streamId:W},q?{streamItem:{id:q,listId:V,messageIds:[U||e.message.id]}}:null,{destinationFolderId:j,lastEditedTimeStamp:L,sentFolderId:j,conversationsMode:G,inReplyToMessageCsid:z})))).catch(e=>a(Object(O.n)({csid:D,listId:w,groupId:q,lastEditedTimeStamp:L,error:e})))},function(e,t,s){const a=e.dispatch,n=e.getState,r=Object(u.b)(n()),i=r.getFeaturesSelectors,o=r.getMessagesSelectors,c=r.isDraftMessage,d=r.getCurrentListId,_=r.getCardConversationIdsFromMessageGroupId,m=(0,r.getSelectedMailboxId)(),p=i(),h=t.isFallback,g=void 0!==h&&h,E=t.messageIds,I=void 0===E?[]:E,S=t.secure,C=void 0===S||S,f=t.full,T=void 0!==f&&f,A=t.messageGroupId,b=t.draftCsid,O=t.prefetchMode,R=t.retryCount,N=void 0===R?0:R;if(t.unsyncedDataType!==l.re.MESSAGE_ITEM_TO_FETCH)return Promise.resolve();const M=d(),D=p.isEnabled("fetchFullBody"),y=p.isEnabled(l.ub.CONVERSATIONS),L=p.isEnabled(l.ub.COUPON_CARD_EXTRACTIONS),v=p.isEnabled(l.ub.FLIGHT_CARD_EXTRACTIONS),P=p.isEnabled(l.ub.EARNY_CARD_EXTRACTIONS),F=p.isEnabled(l.ub.EBAY_WARRANTY_UPSELL),w=I.reduce(({messageIds:e,draftMessageIds:t,cardConversationIds:s},a)=>{const n=o().getDecos(a),r=o().getCardConversationId(a);return c(a)?t.push(a):e.push(a),r&&(L&&Object(Oe.l)(n,l.nc.CPN)||P&&Object(Oe.l)(n,l.nc.POE)&&Object(Oe.l)(n,l.nc.ORD)||v&&Object(Oe.l)(n,l.nc.FLR)||F&&Object(Oe.l)(n,l.nc.ORD))&&s.push(r),{messageIds:e,draftMessageIds:t,cardConversationIds:s}},{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),k=w.messageIds,x=w.draftMessageIds,U=w.cardConversationIds,G=Boolean(x.length)||!y||T||D,j=function({shouldFetchFullBody:e,cardConversationIds:t=[],messageGroupId:s,isFallback:a,draftCsid:n,prefetchMode:r}){let i;if(i=r?e?"messages.prefetchGetBodiesFull":"messages.prefetchGetBodies":e?"messages.getBodiesFull":"messages.getBodies",t.length>0)switch(i){case"messages.getBodies":i="messages.getExtractedBodies";break;case"messages.getBodiesFull":i="messages.getExtractedBodiesFull";break;case"messages.prefetchGetBodies":i="messages.prefetchGetExtractedBodies";break;case"messages.prefetchGetBodiesFull":i="messages.prefetchGetExtractedBodiesFull"}return s?i="messageGroups.get":n&&(i="messages.getCompose"),a?i+"Fallback":i}({shouldFetchFullBody:G,cardConversationIds:U,messageGroupId:A,isFallback:g,draftCsid:b,prefetchMode:O});return A||b?s.mailAPIClient.request(j,{mailboxId:m,isConversation:y,messageGroupId:A,csid:b,cardConversationIds:_(A),full:G,secure:C}).then(e=>{a(Object(be.g)({listId:M,secure:C,full:G,messageGroup:e.messageGroup,messageBodiesMap:e.messageBodiesMap,messageMetadataMap:e.messageMetadataMap,response:e.response||{}}))}).catch(e=>{a(Object(be.f)({listId:M,messageGroupId:A,csid:b,error:e}))}):s.mailAPIClient.request(j,{mailboxId:m,messageIds:k,draftMessageIds:x,cardConversationIds:U,full:G,secure:C,prefetchMode:O},{retryCount:N}).then(e=>{a(Object(be.e)({listId:M,full:G,secure:C,messageBodiesMap:e.result.messageBodiesMap,messageMetadataMap:e.result.messageMetadataMap,errorMessageIds:e.error&&e.error.messageIds||[],response:e.result.response||{}}))}).catch(e=>{a(Object(be.d)({listId:M,messageIds:I,error:e}))})},function(e,t,{bootcampClient:s}){const a=e.dispatch,n=e.getState,i=Object(u.b)(n()),o=i.doesSelectedAccountExist,c=i.getRoute,d=i.getEmailOfSelectedAccount,_=i.getFeaturesSelectors,m=i.getAppName,p=i.getPrescribedNumberOfColumns,h=(0,i.getListsSelectors)(),g=h.doesListExist,E=h.getListStatus,I=_(),S=I.getSetting,f=I.isEnabled,T=c();let A=t.listId;const O=f(l.ub.SHOW_RECENT_SUGGESTIONS),R=m()===l.t.MOBILE_APP,N=2===p(),M=T.name===l.gd.SEARCH||R&&N&&T.name===l.gd.MESSAGE_FROM_SEARCH_LIST,D=f(l.ub.SECOND_SEARCH_AD)?2:1;if(t.unsyncedDataType!==l.re.CONTACT_DETAILS&&(A=Object(b.w)(T)),(t.unsyncedDataType!==l.re.LIST_TO_UPDATE||!M||t.listId!==A||g(A)&&E(A)!==l.bd.DOES_NOT_EXIST&&!t.isStale)&&t.unsyncedDataType!==l.re.CONTACT_DETAILS)return Promise.resolve();const y=o()?d():null;return y?new Promise((e,t)=>{let i={apiName:"searchStream"};const o=!Object(b.H)(A)&&O,c=r()({},Object(b.h)(A),{limit:S(l.zd.SEARCH_FIRST_PAGE_COUNT),threads:f("conversations"),accountemail:`smtp:${y}`,sourceTag:S(l.zd.SEARCH_SOURCE_TAG),ac:f(l.ub.ADS)?D:0,ui:o?1:0,device:R?"phone":"desktop"});f(l.ub.FILTER_COMMERCIAL_IMAGES)&&(c.fci=!0);const d=s.createStream("searchStream",c,e=>i=e);d.on("data",e=>{if(200!==e.status&&e.error&&"BootcampApiClient.SearchError"===e.error.name)Ke.a.feature("bootcamp_client_stream_call",i).logFailure(e.error);else{const t={listId:A,response:e};let s=0;if(e.ADS||e.PLAADS){s=Object(C.a)(e,"ADS.WITH_KEYWORD.items",[]).length;const a=Object(C.a)(e,"PLAADS.WITH_KEYWORD.items",[]).length,n={mKey:U.e.SEARCH_AD_FETCHED,sec:U.g.MSG_LIST_AD,interactionType:U.d.nav,actionData:{keyword:Object(b.s)(A),searchAdCount:s,plaAdCount:a}};Object.assign(t,{i13nModel:n})}f(l.ub.ADS)&&Xe.a.feature("bootcamp_search_ad_response",{appName:l.t.MAIL_APP,searchAdCount:s,sourceTag:S(l.zd.SEARCH_SOURCE_TAG)}).logSuccess(),a(Object(ze.c)(t))}}),d.on("end",()=>{const t=(0,Object(u.b)(n()).getListsSelectors)(),s=t.isListEmpty,r=t.getListStatus;if((0,t.doesListExist)(A)&&r(A)!==l.bd.LOADING){const t=s(A),n=Object(b.A)(A),r={listId:A,navigateFromToAll:t&&!n&&Object(b.u)(A)===l.Qb.FROM,streamId:A,addToRecentSearch:o};t&&!n&&Object(b.t)(A)===l.Pb.MESSAGES&&(r.i13nModel={isBeaconEvent:!0,eventName:U.a.SEARCH_ZERO_RESULTS,etrg:U.c.CHANGE,outcome:U.b.SEARCH}),a(Object(ze.d)(r)),e()}else{const e=Object.assign({},i,{searchType:Object(b.K)(A)?"contact":"keyword",query:Object(b.s)(A)});a(Object(ze.a)({listId:A})),Object(Ze.a)(Ke.a,l.r.BootcampClient,e,new Ye.a("BootcampApiClient.SearchChunkError",{errorCode:"SEARCH_CHUNK_ERROR"}))}}),d.on("error",e=>{e=s.handleCommonError(e,"mailSearch"),a(Object(ze.a)({listId:A,error:e})),t(e)})}):Promise.resolve()},(e,t,s)=>{const n=e.dispatch,r=e.getState,i=Object(u.b)(r()),o=i.getSelectedMailboxId,c=i.getSelectedAccountId,d=i.getRoute,_=i.getFolderHighestModSeq,m=i.isAppVisible,p=i.getFolderIdsByFolderTypeForAccount,h=i.getStaleFolderIds,g=i.shouldUpdateFolders,E=i.getListsSelectors,I=i.getAccountSelectors,S=i.isComposeFocused,C=i.getAdsSelectors,f=(0,i.getFeaturesSelectors)(),T=f.getSetting,A=f.isEnabled,O=C().getCheckMailAdRotationIdleTimestamp,R=d(),N=Object(b.w)(R),M=E(),D=M.doesListExist,y=M.getListStatus,L=Object(b.o)(N),v=Object(b.N)(R),P=R.name===l.gd.SEARCH,F=o(),w=I().getPrimaryAccountId;if(t.unsyncedDataType!==l.re.LIST_TO_UPDATE||!L&&!v||Object(b.O)(N)||!F||P)return Promise.resolve();const k=Object(b.F)(N),x=Object(b.u)(N),U=Object(b.n)(N),G=c(),j=p(l.Cb.ALERTSTORE,w()),H=ke()(j,1)[0],B=T(l.zd.MESSAGE_FETCH_COUNT),V=A(l.ub.CONVERSATIONS),W=A(l.ub.NO_IDLE_CHECK_MAIL_AD_ROTATIONS),q=T(l.zd.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL),z=Date.now()-O()>q,K=A(l.ub.ROTATE_ADS_ON_CHECK_MAIL)&&(!W||!z)&&!S(),Z={highestModSeq:t.isStale||v?0:_(L),resetUnseenCount:m(),alertStoreHighestModSeq:H?_(H):0,accountId:G,folderId:L,mailboxId:F,sortOrder:k,filter:x,count:B,offset:0,conversationsMode:V,excludeFolderTypes:U},Y=D(N)&&y(N)!==l.bd.DOES_NOT_EXIST;return s.mailAPIClient.request(Y?"checkMail":"folderChange.getList",Z).then(function({folders:e,accountAlerts:s,messageGroupList:r,hasMoreItems:i}){const o=e?h(e):[];if(!t.isStale&&Y&&!o.length&&!g(e))return t.forceSync&&n({type:a.Ob,listId:N,rotateAds:K,userInitiated:t.userInitiated}),Promise.resolve();n({type:Y?a.Pb:a.Lb,folders:e,staleFolderIds:o,accountAlerts:s,listId:N,streamId:N,messageGroupList:r,hasMoreItems:i,conversationsMode:V,isAppVisible:m(),rotateAds:Y&&K,userInitiated:t.userInitiated})}).catch(function(e){n({type:Y?a.Nb:a.Kb,listId:N,error:e})})},(e,t,s)=>{const a=e.dispatch,n=e.getState,r=(0,Object(u.b)(n()).getAdsSelectors)().getGeminiAdDataFromCreativeId;if(t.dataType!==l.re.GEMINI_AD_ASSET)return Promise.resolve();const i=t.creativeId,o=t.url;return s.geminiAPIClient.getSponsoredAsset({url:o}).then(e=>{let t=e.text||"";const s=(r(i)||{}).nativeAd,n=(void 0===s?{}:s).embeddedLandingUrls,o=void 0===n?{}:n;Object.keys(o).forEach(e=>{const s=o[e],a=s.url,n=s.landingPage,r=void 0===n?"":n;if("fsubmit"!==s.label){const s=(void 0===a?"":a).replace("$(AD_POSN)",encodeURIComponent("pp=n,pi=1,st=p"));t=t.replace(`${r}#$embeddedLandingUrl_${e}`,s)}}),a(Object(ne.k)({creativeId:i,asset:t}))}).catch(e=>a(Object(ne.j)({creativeId:i,error:e,url:o})))},(e,t,s)=>{const a=e.dispatch;return t.dataType!==l.re.RELATED_SEARCHES_TO_FETCH?Promise.resolve():s.relatedSearchesAPIClient.request().then(e=>a(Object(Be.c)({queries:Object(C.a)(e,"body.queriesPerDomain",{})}))).catch(e=>a(Object(Be.b)(e)))},function({dispatch:e},{dataType:t="",senderEmail:s="",latlong:a=""},{bootcampClient:n}){return t===l.re.BUSINESS_LISTING&&s?n.request("getLocalStores",{senderEmail:s,latlong:a}).then(({nearbyListing:t})=>e(Object(B.c)({senderEmail:s,nearbyListing:t}))).catch(()=>e(Object(B.b)({senderEmail:s}))):Promise.resolve()},function({dispatch:e,getState:t},{unsyncedDataType:s="",cardConversationId:a=""},{mailAPIClient:n}){if(s!==l.re.PARENT_MESSAGE_TO_FETCH)return Promise.resolve();const r=Object(u.b)(t()),i=r.getCurrentListId,o=(0,r.getSelectedMailboxId)();return n.request("couponCards.getParentMessage",{mailboxId:o,cardConversationId:a}).then(([t])=>{e(Object(T.p)({listId:i(),hasMoreItems:!1,messageGroup:t}))}).catch(t=>e(Object(T.n)(t)))},function({dispatch:e,getState:t},s,a){const n=s.wssid,i=s.accountId,o=s.email,c=s.provider;if(s.unsyncedDataType!==l.re.ACCOUNT_TO_REAUTH)return Promise.resolve();const _=Object(u.b)(t()).getAlertIdByAccountId,m=r()({},n?{wssid:n}:{});return a.mailAPIClient.request("account.updateAlerts",{alertId:_(i)},m).then(({accountAlerts:t})=>{e(t&&t.length>0?Object(d.m)({accountAlerts:t,accountId:i}):Object(d.l)({accountId:i}))}).catch((t={})=>{e(Object(d.l)({error:t.statusCode,provider:c,email:o,accountId:i}))})},function({dispatch:e,getState:t},{unsyncedDataType:s="",updateBusinessListingForEmail:a=""}){const n=Object(u.b)(t()).getEnvironmentSelectors;return s!==l.re.GEO_LOCATION?Promise.resolve():new Promise((e,t)=>navigator.geolocation.getCurrentPosition(e,t,{timeout:1/0})).then(({coords:{latitude:t,longitude:s}})=>Object(A.b)(`${t},${s}`).checkIfNot(e=>e===n().getGeoLocation()).unbox(t=>e(Object(ie.c)({latlong:t,updateBusinessListingForEmail:a})),()=>e(Object(ie.a)("Location has not changed")))).catch(t=>e(Object(ie.a)(t)))},Et,Ct,(e,t,s)=>{if(t.unsyncedDataType!==l.re.CONTACT_CARD)return Promise.resolve();const a=e.dispatch,n=e.getState,r=t.email,i=t.isCompose,o=Object(u.b)(n()).isFeatureEnabled;return s.autoSuggestClient.contactDetails({email:r,isCompose:i}).then(e=>{const t=o(l.ub.CONTACT_CARD_TRACKING),s={email:r,contactDetails:e};if(t&&e&&!e.website){const e=r.split("@")[1];Object.assign(s,{i13nModel:{mKey:U.e.CONTACT_CARD_LOAD_FAILED,sec:U.g.RIGHT_RAIL,actionData:{domain:e,email:r}}})}a(Object(k.f)(s))}).catch(()=>a(Object(k.d)({email:r})))},(e,t,s)=>{const a=t.unsyncedDataType,n=t.listId,r=t.count,i=e.dispatch,o=e.getState;if(a!==l.re.CONTACTS_LIST)return Promise.resolve();if(Object(b.u)(n)!==l.Qb.TOP_CONTACTS)return Promise.resolve();const c=(0,Object(u.b)(o()).getEmailOfSelectedAccount)();return s.autoSuggestClient.topContacts({email:c,maxCount:r}).then(e=>i(Object(k.r)({listId:n,contacts:e,unsyncedDataType:a}))).catch(e=>i(Object(k.q)({err:e,listId:n,unsyncedDataType:a})))},(e,t,s)=>{const a=t.unsyncedDataType,n=t.listId,r=t.count,i=t.characters,o=t.fetchGroupContactsNext,c=e.dispatch,d=e.getState;if([l.re.CONTACTS_LIST,l.re.CONTACTS_CATEGORY_LIST].indexOf(a)<0)return Promise.resolve();const _=Object(b.u)(n),m=(0,(0,Object(u.b)(d()).getContactListSelectors)().getGroupName)(Object(b.s)(n))||l.ab;return[l.Qb.PEOPLE,l.Qb.NOT_PEOPLE,l.Qb.USER_CREATED_CONTACTS,l.Qb.GROUPS].indexOf(_)<0||_===l.Qb.GROUPS?Promise.resolve():s.autoSuggestClient.alphabeticalContacts({count:r,characters:i,group:m,type:Object(G.n)(_)}).then(({contacts:e,groups:t,groupIds:s})=>c(Object(k.r)({listId:n,contacts:e,groups:t,groupIds:s,characters:i,count:r,unsyncedDataType:a,fetchGroupContactsNext:o}))).catch(e=>c(Object(k.q)({err:e,listId:n,characters:i,count:r,unsyncedDataType:a})))},(e,t,s)=>{const a=t.unsyncedDataType,n=t.listId,i=e.dispatch;if(a!==l.re.CONTACTS_LIST)return Promise.resolve();const o=Object(b.u)(n),c=Object(b.s)(n);return o===l.Qb.GROUPS&&c&&c!==l.ab?s.autoSuggestClient.contactsInGroup({groupId:c}).then(e=>{i(Object(k.p)(r()({listId:n},e,{unsyncedDataType:a})))}).catch(e=>{i(Object(k.o)({err:e,listId:n,unsyncedDataType:a}))}):Promise.resolve()},(e,t,s)=>{const a=t.unsyncedDataType,n=t.listId,r=t.fetchGroupContactsNext,i=e.dispatch;if(a!==l.re.CONTACTS_LIST)return Promise.resolve();const o=Object(b.u)(n),c=Object(b.s)(n);return o!==l.Qb.GROUPS||c?Promise.resolve():s.autoSuggestClient.contactGroupsList().then(({groups:e,groupIds:t})=>{i(Object(k.r)({listId:n,groups:e,groupIds:t,unsyncedDataType:a,fetchGroupContactsNext:r}))}).catch(e=>{i(Object(k.q)({err:e,listId:n,unsyncedDataType:a}))})},(e,t,s)=>{const a=t.listId,n=t.groupId,r=t.newName,i=t.addedEndpoints,o=t.removedEndpoints,c=t.oldGroup,d=e.dispatch;return t.unsyncedDataType!==l.re.CONTACTS_GROUP_EDIT?Promise.resolve():s.autoSuggestClient.editContactGroup({groupId:n,newName:r,addedEndpoints:i,removedEndpoints:o}).then(()=>{d(Object(k.l)({listId:a}))}).catch(e=>{d(Object(k.k)({err:e,listId:a,id:n,oldGroup:c}))})},(e,t,s)=>{const a=t.tempListId,n=t.tempGroupId,r=t.name,i=t.endpoints,o=e.dispatch;return t.unsyncedDataType!==l.re.CONTACTS_GROUP_CREATE?Promise.resolve():s.autoSuggestClient.createContactGroup({name:r,endpoints:i}).then(e=>{o(Object(k.h)({tempListId:a,id:e,tempGroupId:n,newListId:Object(b.W)(a,{keyword:e})}))}).catch(e=>{o(Object(k.g)({err:e,tempListId:a,tempGroupId:n}))})},je,(e,t,s)=>{const a=t.unsyncedDataType,n=t.listId,r=e.dispatch,i=e.getState;if(!Object(u.b)(i()).getEnvironmentSelectors().getIsXobnified()||a!==l.re.CONTACTS_LIST)return Promise.resolve();const o=Object(b.k)(n);return o?s.autoSuggestClient.simpleContactsSearch({query:o}).then(e=>r(Object(k.r)({listId:n,contacts:e,unsyncedDataType:a}))).catch(e=>r(Object(k.q)({err:e,listId:n,unsyncedDataType:a}))):Promise.resolve()},(e,t,s)=>{const a=t.provider,n=t.spid,r=t.appRootPath,i=t.scope,o=e.dispatch;return t.unsyncedDataType!==l.re.SOCIAL_ACCOUNT_AUTH_URL?Promise.resolve():(Object(le.b)()||Object(Y.a)("Credstore social account linking needs be called from the browser"),s.credstoreClient.link({provider:a,spid:n,redirectUrl:`https://${window.location.host}${r}/oAuth`,isCorpUser:window.AppBootstrapData.partner===l.F,scope:i}).then(({authorizeUrl:e,authorizeURL:t})=>o(Object(_t.d)({url:e||t,provider:a}))).catch(e=>o(Object(_t.c)({error:e,provider:a}))))},(e,t,s)=>{const a=t.provider,n=t.enable,r=e.dispatch;return t.unsyncedDataType===l.re.SOCIAL_ACCOUNT_IMPORT&&l.S[a]?s.autoSuggestClient.triggerProfileImport({provider:a}).then(()=>r(Object(_t.h)({provider:a,enable:n}))).catch(e=>r(Object(_t.g)({provider:a,error:e,enable:n}))):Promise.resolve()},(e,t,s)=>{const a=e.dispatch;return t.unsyncedDataType!==l.re.SOCIAL_ACCOUNT_STATUS?Promise.resolve():s.autoSuggestClient.formatted().then(e=>a(Object(_t.j)({response:e}))).catch(e=>a(Object(_t.i)({error:e})))},(e,t,s)=>{const a=t.itemsToUpdate,n=t.listsToUpdate,r=e.dispatch;return t.unsyncedDataType===l.re.CONTACT_DELETE&&a.filter(({isAffected:e})=>e).length?s.autoSuggestClient.deleteContacts({editTokenList:a.map(({editToken:e})=>e)}).then(()=>{r(Object(k.b)({itemsToUpdate:a,listsToUpdate:n}))}).catch(e=>r(Object(k.c)({err:e,itemsToUpdate:a,listsToUpdate:n}))):Promise.resolve()},(e,t,s)=>{const a=t.groupId,n=e.dispatch;return t.unsyncedDataType!==l.re.CONTACT_GROUP_DELETE?Promise.resolve():s.autoSuggestClient.contactsGroupDelete({groupId:a}).then(()=>n(Object(k.i)({groupId:a}))).catch(e=>{n(Object(k.j)({err:e,groupId:a}))})},(e,t,s)=>{const a=t.newContact,n=t.image,r=t.timestamp,i=e.dispatch;return t.unsyncedDataType!==l.re.CONTACT_CREATE?Promise.resolve():s.autoSuggestClient.createContact({newContact:a,image:n}).then(e=>i(Object(x.j)({contact:e,timestamp:r}))).catch(e=>i(Object(x.i)({err:e,contact:a,timestamp:r})))},(e,t,s)=>{const a=t.oldContact,n=t.newContact,r=t.skipContactDiffCheck,i=e.dispatch;return t.unsyncedDataType!==l.re.CONTACT_SAVE?Promise.resolve():s.autoSuggestClient.contactDetailsEdit({oldContact:a,newContact:n,skipContactDiffCheck:r}).then(e=>i(Object(x.f)({contact:e}))).catch(e=>i(Object(x.d)({err:e,contact:a})))},(e,t,s)=>{const a=t.editToken,n=t.image,r=t.id,i=e.dispatch;return t.unsyncedDataType===l.re.CONTACT_PHOTO_UPLOAD&&a?s.autoSuggestClient.contactUploadPhoto({editToken:a,image:n}).then(e=>i(Object(x.h)({contact:e}))).catch(e=>i(Object(x.g)({err:e,contact:{image:n,id:r}}))):Promise.resolve()},(e,t,s)=>{const a=e.dispatch;return t.unsyncedDataType!==l.re.IMPORT_CONTACTS_PROVIDERS_STATUS?Promise.resolve():s.autoSuggestClient.contactProvidersStatus().then(e=>a(Object(_t.f)({response:e}))).catch(e=>a(Object(_t.e)({error:e})))},(e,t,s)=>{const a=t.provider,n=t.spid,r=t.enable,i=e.dispatch;return t.unsyncedDataType!==l.re.SOCIAL_ACCOUNT_IMPORT||l.T.indexOf(a)<0?Promise.resolve():s.autoSuggestClient.toggleContactsProviderImporter({provider:a,spid:n,enable:r}).then(()=>i(Object(_t.h)({provider:a,enable:r}))).catch(e=>i(Object(_t.g)({provider:a,error:e,enable:r})))},(e,t,s)=>{const a=t.unsyncedDataType,n=t.listId,i=e.dispatch;if(a!==l.re.CONTACTS_LIST)return Promise.resolve();const o=Object(b.u)(n),c=Object(b.s)(n);return o===l.Qb.GROUPS&&c&&c===l.ab?s.autoSuggestClient.userCuratedEndpoints({endpointTypes:["smtp"]}).then(e=>{i(Object(k.p)(r()({listId:n},e,{unsyncedDataType:a})))}).catch(e=>{i(Object(k.o)({err:e,listId:n,unsyncedDataType:a}))}):Promise.resolve()},function({getState:e,dispatch:t},s,a){const n=s.baseName,i=s.domain;if(s.unsyncedDataType!==l.re.BASENAME_TO_CREATE)return Promise.resolve();const o=(0,Object(u.b)(e()).getFeaturesSelectors)().isEnabled("deaSuggestionJWS");return a.mailAPIClient.request(o?"settings.setBaseNameJWS":"settings.setBaseName",{baseName:n,domain:i}).then(({suggestions:e})=>{t(e&&e.length?Object(dt.b)(r()({},s,{suggestions:e})):Object(dt.j)(s))}).catch(e=>t(Object(dt.i)(r()({},s,{err:e}))))},(e,{unsyncedDataType:t,taskId:s,pollCount:a=0,progress:n,abort:i,actionPayload:o},c)=>{if(t!==l.re.ASYNC_TASK_STATUS)return Promise.resolve();const d=e.dispatch,_=e.getState,m=(0,Object(u.b)(_()).getFeaturesSelectors)().getSetting(l.zd.ASYNC_TASK_POLL_COUNT);if(!s)return Promise.resolve();const p=o.successAction,g=o.failureAction,E=o.allSelected,S=o.streamId,C=o.itemsToUpdate,f=o.triageActionType,T=o.folderId,A=o.count,b=o.conversations,O=S&&C?I({streamId:S,itemsToUpdate:C}):void 0;return i?c.mailAPIClient.request("task.abort",{taskId:s}).then(()=>d(r()({},p,{undoAction:p.undoAction||O,progress:n}))).catch(()=>d(Object(h.a)({triageActionType:f,folderId:T,count:A,conversations:b,taskId:s,progress:n}))):a>=m?(d(Object(h.b)({taskId:s})),Promise.resolve()):c.mailAPIClient.request("task.status",{taskId:s}).then(({task:e})=>{switch(e.status){case l.C.PENDING:return d(Object(h.d)(r()({},e,{pollCount:a+1})));case l.C.COMPLETED:return d(r()({},p,{undoAction:p.undoAction||O,progress:e.progress}));case l.C.FAILED:default:return d(g)}}).catch(()=>d(n>0&&E?r()({},p,{undoAction:p.undoAction||O,progress:n}):g))},(e,t,s)=>{if(t.unsyncedDataType!==l.re.FOLDER)return Promise.resolve();const n=t.updateType;return n===a.wi?((e,t,s)=>{const a=e.dispatch,n=e.getState,r=t.folderId,i=t.folderName,o=t.filters,c=t.originalFolderName,d=t.newFolderName,l=t.subfolders,_=Object(u.b)(n()).getSelectedMailboxId();return s.mailAPIClient.request("folders.rename",{mailboxId:_,folderId:r,folderName:i,filters:o,subfolders:l}).then(({folder:e,subfolders:t})=>{a(Object(ae.h)({folder:e,subfolders:t,folderId:r,originalFolderName:c,newFolderName:d}))}).catch(e=>{a(Object(ae.g)({folderId:r,newFolderName:d,originalFolderName:c,error:e}))})})(e,t,s):n===a.Zd?((e,t,s)=>{const a=e.dispatch,n=t.folderId,r=t.folderName,i=t.i13nModel,o=void 0===i?{}:i;return s.mailAPIClient.request("folders.delete",{folderId:n}).then(()=>{a(Object(ae.e)({folderId:n,folderName:r,i13nModel:o}))}).catch(e=>{a(Object(ae.d)({folderId:n,folderName:r,error:e}))})})(e,t,s):Promise.resolve()},function({dispatch:e},{location:t,unsyncedDataType:s},a){if(s!==l.re.LOCATION_TO_UPDATE)return Promise.resolve();const n=ct.a.determine(),r=n&&n.name();return Object(le.b)()&&new lt.a({window:window}).determineClientTimeZone(),a.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:l.ic.TIMEZONE,value:`${t.timezone.name}|${t.city||""}|${t.state||""}|${t.country||""}`},{id:l.ic.LAST_OBSERVED_TIMEZONE,value:`${r||""}|${t.timezone.name||""}`}]}).then(()=>{e(Object(dt.J)({})),window.setTimeout(()=>window.location.reload(),1500)},t=>e(Object(dt.I)({err:t})))},function({dispatch:e,getState:t},{value:s,unsyncedDataType:a},n){if(a!==l.re.CONVERSATION_MODE_TO_UPDATE)return Promise.resolve();const r=Object(u.b)(t()),i=r.isMobileRoute,o=(0,r.getFeaturesSelectors)().getSetting(l.zd.TOGGLE_CONV_RELOAD_DELAY),c=i()?l.ic.MOBILE_CONVERSATIONS:l.ic.CONVERSATIONS;return n.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:c,value:s}]}).then(()=>{e(Object(dt.G)({value:s})),window.setTimeout(()=>window.location.reload(),o)}).catch(t=>e(Object(dt.F)({err:t})))},xe,(e,t,s)=>{const a=e.dispatch,n=e.getState,i=t.messageId,o=t.messageIds,c=t.unsyncedDataType,d=Object(u.b)(n()),_=d.getAttachmentsByMessageId,m=(0,d.getCalendarSelectors)().getInviteStatus;if(c!==l.re.MESSAGE_ITEM_TO_FETCH&&c!==l.re.RSVP_FETCH)return Promise.resolve();const p=o||[i];let h={};return Promise.all(p.map(e=>{const t=((e,t,s)=>{const a=l.w.SubTypes,n=t(e);if("READY"===s(e))return null;const r=n.find(e=>{const t=Object(C.a)(e,"subtype","");return t===a.ICS||t===a.CALENDAR});return r?{downloadUrl:r.downloadUrl}:null})(e,_,m);if(t)return h=r()({},h,{[e]:t}),s.calendarClient.getInviteInfo(t)})).then(e=>{const t=[];let s={};const n=[];let i={};e.forEach((e,a)=>{e?e.startTime&&e.endTime&&e.uid?(n.push(p[a]),i=r()({},i,{[p[a]]:e})):(t.push(p[a]),s=r()({},s,{[p[a]]:new Error("Mandatory field missing")})):h[p[a]]&&(t.push(p[a]),s=r()({},s,{[p[a]]:new Error("Fetching Error")}))}),t.length>0&&a(Object(S.a)({messageIds:t,errors:s})),n.length>0&&a(Object(S.b)({messageIds:n,inviteInfoGroup:i}))}).catch(e=>{const t=[];let s={};if(p.forEach(a=>{h[a]&&(t.push(a),s=r()({},s,{[a]:e}))}),t.length>0)return a(Object(S.a)({messageIds:t,errors:s}))})},(e,t,s)=>{if(t.dataType!==l.re.RAW_MESSAGE)return Promise.resolve();const a=t.messageId,n=e.getState,r=(0,Object(u.b)(n()).getSelectedMailboxId)(),i=s.mailAPIClient,o=i.wssid,c=i.appId,d=s.mailAPIClient.ymreqidGenerator.generate();return window.open(`${l.we}/ws/v3/mailboxes/@.id==${r}/messages/@.id==${a}/content/rawplaintext?appId=${c}&ymreqid=${d}&wssid=${o}`,"_blank"),Promise.resolve()},function(e,t,s){if(t.unsyncedDataType!==l.re.VACATION_RESPONSE_SETTINGS)return Promise.resolve();const a=e.dispatch,n=t.actionType,r=t.requestTimestamp;return s.mailAPIClient.request("settings.saveVacationPreferences",{payload:t.value}).then(()=>{a(Object(c.i)({actionType:n,requestTimestamp:r}))}).catch(()=>{a(Object(c.h)({requestTimestamp:r}))})},function({dispatch:e},{unsyncedDataType:t,cardMessageId:s=""},{bootcampClient:n}){const r=Object(b.e)({referrer:l.Rb.COUPON_RECOMMENDATIONS,keyword:s});if(t!==l.re.COUPON_RECOMMENDATIONS_TO_FETCH||""===s)return Promise.resolve();return n.request("getCouponRecommendations",{mid:s}).then(t=>{e({type:a.td,listId:r,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})}).catch(t=>{e({type:a.sd,listId:r,error:t})})},(e,t,s)=>{const n=e.dispatch,r=e.getState,i=Object(u.b)(r()),o=i.getSelectedMailboxId,c=i.getSelectedAccountId,d=i.isFeatureEnabled,_=i.getSetting,m=(0,i.getRoute)(),p=Object(b.w)(m),h=m.name===l.gd.SEARCH;if(d(l.ub.BOOTCAMP_COUPONS)||t.unsyncedDataType!==l.re.LIST_TO_UPDATE||Object(b.t)(p)!==l.Pb.COUPON_CARDS||h&&d(l.ub.COUPONS_SMART_VIEW_SEARCH))return Promise.resolve();const g=o(),E=c(),I=l.jd,S=_(l.zd.COUPON_CARDS_FETCH_COUNT),C=Object(H.r)(new Date),f=Math.round((new Date).getTime()/1e3)+30*H.a,T=Object(b.u)(p),A=Object(b.W)(p,{listFilter:T===l.Qb.ALL_COUPON_CARDS?l.Qb.SAVED_COUPON_CARDS:l.Qb.ALL_COUPON_CARDS}),O=[Object(b.u)(p),Object(b.u)(A)],R=Object(b.n)(p);return s.mailAPIClient.request("consolidatedCoupons.getList",{mailboxId:g,filter:O,count:S,offset:[0,0],startCardDate:C,endCardDate:f,sortOrder:I,accountId:E,excludeFolderTypes:R}).then(e=>{e.messageGroupsResponses.forEach(e=>{const t=Object(b.W)(p,{listFilter:e.filter});n({type:a.td,listId:t,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems,offset:e.offset})})}).catch(e=>{n({type:a.sd,listId:p,error:e})})},function(e,{unsyncedDataType:t,decoId:s=[],listId:n,isSearch:r,keyword:i,emailAddress:o},{bootcampClient:c}){const d=e.dispatch,_=e.getState,m=Object(u.b)(_()),p=m.getSelectedMailboxId,h=m.getAccountSelectors,g=m.getSetting,E=m.doesListExist,I=(0,m.getListsSelectors)(),S=I.getListNextItemsUrl,C=I.getListOffset,f=h().getAccountIds;if(t!==l.re.COUPONS_TO_FETCH)return Promise.resolve();const T=E(n),A={nextItemsUrl:T?S(n):"",mailboxId:p(),accountIds:[f()],order:l.kd,limit:g(l.zd.COUPON_CARDS_FETCH_COUNT),start:Date.now(),end:1e3*(Math.round((new Date).getTime()/1e3)+365*H.a),offset:T?C(n):0,decoId:s,query:i,from:o},b=-1===s.indexOf("TAG")?"getAllCouponsForSmartViewSearch":"getSavedCouponsForSmartViewSearch",O=-1===s.indexOf("TAG")?"getAllCouponsForSmartView":"getSavedCouponsForSmartView";return c.request(r?b:O,A).then(({cardGroupList:e=[],nextItemsUrl:t="",offset:s=0,totalHits:i=0,hasMoreItems:o=!1})=>d({type:a.td,listId:n,cardGroupList:e,hasMoreItems:o,offset:s,totalHits:i,nextItemsUrl:t,addToRecentSearch:r})).catch(e=>d({type:a.sd,listId:n,error:e}))},fe,({dispatch:e,getState:t},{unsyncedDataType:s=""},{astraClient:a,bootcampClient:n})=>{if(s!==l.re.RETAILERS)return Promise.resolve();const r=Object(u.b)(t()).isFeatureEnabled,i=r(l.zd.QUOTIENT_DEBUG_FLAG),o=r(l.ub.ENABLE_ASTRA_FOR_GROCERY),c=r(l.ub.ENABLE_YM6_GROCERY),d=c?[Object(b.W)("{}",{listContentType:l.Pb.OFFER_CARDS,listFilter:l.Qb.RECOMMENDED_OFFER_CARDS,referrer:l.Rb[l.Kd.GROCERIESV2]})]:qe([l.Qb.LINKED_GROCERY_STORES,l.Qb.UNLINKED_GROCERY_STORES]);return(o?a:n).request("getRetailers",{quotientDebugFlag:i}).then(({errorDescription:t="",retailers:s=[],statusCode:a})=>{0===s.length||c||s.sort((e,t)=>e.displayName.localeCompare(t.displayName)),e(200===a?Object(Ve.o)({retailers:s,listIds:d}):Object(Ve.n)(d,t))}).catch(t=>e(Object(Ve.n)(d,t)))},function({dispatch:e},{unsyncedDataType:t="",stringOfMessageIds:s="",mailboxId:a=""},{astraClient:n}){return t!==l.re.AFFILIATE_COUPONS?Promise.resolve():n.request("getAffiliateCoupons",{stringOfMessageIds:s,mailboxId:a}).then(t=>e(Ue(t))).catch(t=>e(Ge(t)))},({dispatch:e,getState:t},{unsyncedDataType:s=""},{astraClient:n})=>{const r=(0,Object(u.b)(t()).isFeatureEnabled)(l.ub.ENABLE_ASTRA_FOR_GROCERY);return s===l.re.RETAILERS&&r?n.request("getGroceryCategories").then(({errorDescription:t="",groceryCategories:s=[],statusCode:n})=>{e(200===n?(({groceryCategories:e})=>({type:a.Ff,groceryCategories:e}))({groceryCategories:s}):We())}).catch(t=>e(We())):Promise.resolve()},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==l.re.SHOPRUNNER_RETAILERS?Promise.resolve():s.request("getShopRunnerRetailers").then(({errorDescription:t="",retailers:s=[],statusCode:a})=>e(200===a?Je(s):et(t))).catch(t=>e(et(t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a="",loyaltyId:n="",parentName:i=""},{astraClient:o,bootcampClient:c})=>{if(s!==l.re.RETAILER_LINK)return Promise.resolve();const d=Object(u.b)(t()),_=d.isFeatureEnabled,m=(0,(0,d.getRetailersSelectors)().getDisplayNameFromRetailerId)(a),p=_(l.ub.ENABLE_ASTRA_FOR_GROCERY)?o:c,h=qe([l.Qb.LINKED_GROCERY_STORES,l.Qb.RECOMMENDED_GROCERY_STORES,l.Qb.UNLINKED_GROCERY_STORES]),g={mKey:U.e.QTNT_ONBOARD_COMPLETE,sec:U.g.QUOTIENT,actionData:{reason:{featurefamily:l.sb.IC,featurename:l.ub.QUOTIENT,upselltype:i,retailername:m,userinput:n}}};return p.request("linkRetailer",{retailerId:a,loyaltyId:n}).then(({errorDescription:t="",errorHint:s="",statusCode:i})=>e(200===i?Object(Ve.f)({retailers:[{id:a,loyaltyId:n,linked:!0}],listIds:h,i13nModel:g}):Object(Ve.d)(a,t,s,r()({},g,{mKey:U.e.QTNT_ONBOARD_FAILURE})))).catch(t=>e(Object(Ve.d)(a,t,void 0,r()({},g,{mKey:U.e.QTNT_ONBOARD_FAILURE}))))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a=""},{astraClient:n,bootcampClient:r})=>{if(s!==l.re.RETAILER_UNLINK)return Promise.resolve();const i=(0,Object(u.b)(t()).isFeatureEnabled)(l.ub.ENABLE_ASTRA_FOR_GROCERY)?n:r,o=qe([l.Qb.LINKED_GROCERY_STORES,l.Qb.RECOMMENDED_GROCERY_STORES,l.Qb.UNLINKED_GROCERY_STORES]);return i.request("unlinkRetailer",{retailerId:a}).then(({errorDescription:t="",statusCode:s})=>e(200===s?Object(Ve.t)({retailers:[{id:a,linked:!1}],listIds:o}):Object(Ve.r)(a,t))).catch(t=>e(Object(Ve.r)(a,t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a="",listId:n="",search:r=""},{astraClient:i,bootcampClient:o})=>{if(s!==l.re.OFFERS)return Promise.resolve();return((0,Object(u.b)(t()).isFeatureEnabled)(l.ub.ENABLE_ASTRA_FOR_GROCERY)?i:o).request("getOffers",{retailerId:a,limit:l.Gc}).then(({statusCode:t,offers:s=[],errorDescription:a=""})=>e(200===t?Object(Ve.m)({listId:n,offers:s,search:r}):Object(Ve.l)(n,a))).catch(t=>e(Object(Ve.l)(n,t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",retailerId:a="",listId:n=""},{astraClient:r,bootcampClient:i})=>{if(s!==l.re.ACTIVATED_OFFERS)return Promise.resolve();return((0,Object(u.b)(t()).isFeatureEnabled)(l.ub.ENABLE_ASTRA_FOR_GROCERY)?r:i).request("getActivatedOffers",{retailerId:a,limit:l.Gc}).then(({offers:t=[],numActivatedOffers:s=0,statusCode:a,errorDescription:r=""})=>e(200===a?Object(Ve.k)({listId:n,offers:t,numActivatedOffers:s}):Object(Ve.j)(n,r))).catch(t=>e(Object(Ve.j)(n,t)))},({dispatch:e,getState:t},{unsyncedDataType:s="",contextOfUse:a="",retailerId:n="",offer:i={},offerRowIndex:o=-1,offerIndexInRow:c=-1,listId:d="",search:_=""},{astraClient:m,bootcampClient:p})=>{if(s!==l.re.ACTIVATE_OFFER)return Promise.resolve();const h={SingleStoreView:"grocerysinglestore",SingleStoreSearch:"search",SingleStoreSearchAssist:"searchAssist"}[a],g=Object(u.b)(t()),E=g.isFeatureEnabled,I=(0,(0,g.getRetailersSelectors)().getDisplayNameFromRetailerId)(n),S=i.offerId,C=i.cardId,f=E(l.ub.ENABLE_ASTRA_FOR_GROCERY),T={mKey:U.e.QTNT_COUPON_CLIP,sec:U.g.QUOTIENT,actionData:{reason:{featurefamily:l.sb.IC,featurename:l.ub.QUOTIENT,retailername:I,viewtype:h,actiontype:"activateoffer",offerid:i.offerId,offerdesc:i.description,offerbrandname:i.brandName,offerPosition:[o,c],query:_}}};return(f?m:p).request("activateOffer",{retailerId:n,cardId:C,offerId:S}).then(({error:t={},errorDescription:s="",statusCode:a})=>e(200===a||"EQ-1001"===t.errorCode?Object(Ve.c)([r()({},i,{activated:!0})],d,T):Object(Ve.a)(s))).catch(t=>e(Object(Ve.a)(t)))},({dispatch:e},{unsyncedDataType:t="",retailerId:s=""},{bootcampClient:a})=>t!==l.re.SAVINGS?Promise.resolve():a.request("getSavings",{retailerId:s}).then(({totalSavings:t=0,totalRecords:a=0,statusCode:n,errorDescription:r=""}={})=>e(200===n?Object(Ve.q)({retailerId:s,totalSavings:t,offersUsed:a}):Object(Ve.p)(r))).catch(t=>e(Object(Ve.p)(t))),function({dispatch:e,getState:t},{unsyncedDataType:s=""},{astraClient:a}){if(s!==l.re.IC_USER_PROFILE)return Promise.resolve();const n=Object(u.b)(t()).isFeatureEnabled,r={quotient:n(l.ub.PERSONALIZED_GROCERY_UPSELL),shoprunner:n(l.ub.MSG_READ_SHOPRUNNER_PERSONALIZED)||n(l.ub.SHOPRUNNER_PERSONALIZED_UPSELL)},i=Object.keys(r).filter(e=>r[e]).map(e=>`shopping.affinity.merchantAffinity.retailerGroup=${e}`).join(","),o=Object(b.W)("{}",{listContentType:l.Pb.GROCERY_STORES,listFilter:l.Qb.RECOMMENDED_GROCERY_STORES,referrer:l.Rb[l.Kd.GROCERIES]});return a.request("getICUserProfile",{queryParams:i}).then(({quotientRetailers:t,shopRunnerRetailers:s,statusCode:a,errorCode:n=""})=>e(200===a?Object(ye.k)({listIds:o,quotientRetailers:t,shopRunnerRetailers:s}):Object(ye.j)(n))).catch(t=>e(Object(ye.j)(t)))},function({dispatch:e},{unsyncedDataType:t=""},{astraClient:s}){return t!==l.re.CATEGORY_FOLLOWING_LIST?Promise.resolve():s.request("getCategoryFollowingList").then(({followedCategoryList:t,statusCode:s,errorCode:a=""})=>e(200===s?Object(ye.e)({followedCategoryList:t}):Object(ye.d)(a))).catch(t=>e(Object(ye.d)(t)))},function({dispatch:e,getState:t},{unsyncedDataType:s="",category:a={}},{astraClient:n}){if(s!==l.re.FOLLOW_CATEGORY)return Promise.resolve();const r=Object(u.b)(t());return n.request((0,r.isFeatureEnabled)(l.zd.IS_USER_FOLLOWING_CATEGORIES)?"requestCategoryFollow":"requestFirstCategoryFollow",a).then(({statusCode:t,error:s})=>e(200===t?Object(ye.c)([a]):Object(ye.a)([a],Object(C.a)(s,"code","Unknown")))).catch(t=>e(Object(ye.a)([a],t)))},function({dispatch:e},{unsyncedDataType:t="",category:s={}},{astraClient:a}){return t!==l.re.UNFOLLOW_CATEGORY?Promise.resolve():a.request("requestCategoryUnfollow",s).then(({statusCode:t,error:a})=>e(200===t?Object(ye.g)([s]):Object(ye.f)([s],Object(C.a)(a,"code","Unknown")))).catch(t=>e(Object(ye.f)([s],t)))},function({dispatch:e,getState:t},{unsyncedDataType:s="",nudgeToReplySnippetList:a=[],messageIdList:n=[]},{stormBornClient:r}){if(s!==l.re.NUDGE_TO_REPLY)return Promise.resolve();if(!a.length)return Promise.resolve().then(()=>e(Le({scoresList:[],messageIdList:n})));const i=Object(u.b)(t()),o=l.Vb-(0,i.getSetting)(l.ub.REPLY_NUDGE_COUNT);return r.request("requestReplyScoresForMessages",{nudgeToReplySnippetList:a}).then(({result_list:t=[],status:s="",error:a=""})=>e("success"===s?Le({scoresList:t.filter(e=>e.triggering_score>Pe).sort((e,t)=>t.triggering_score-e.triggering_score).slice(0,o),i13nModel:{mKey:U.e.NUDGE_SCORE_LIST,sec:U.g.NUDGE_TO_REPLY,actionData:{messageScores:t.map(e=>E()(e,["snippet"]))}},messageIdList:n}):ve({messageIdList:n,errorMessage:a}))).catch(t=>e(ve({messageIdList:n,error:t})))},function({dispatch:e},{unsyncedDataType:t},{needToKnowNewsClient:s}){return t!==l.re.NEED_TO_KNOW_NEWS?Promise.resolve():s.request("requestNeedToKnowNews").then(t=>{e(Object(Fe.c)(t))}).catch(t=>{e(Object(Fe.b)(t))})},function({dispatch:e,getState:t},{unsyncedDataType:s=""},{astraClient:a}){if(s!==l.re.HALLOWEEN_BANNER)return Promise.resolve();const n=(0,Object(u.b)(t()).getSetting)(l.zd.ASTRA_NONPROD_FLAG);return a.request("getHalloweenBanner",{astraNonProdFlag:n}).then(t=>e(Tt(t))).catch(t=>e(At({error:t})))},(e,{unsyncedDataType:t},s)=>{if(t!==l.re.SAVED_SEARCH)return Promise.resolve();const a=e.dispatch,n=e.getState,r=Object(u.b)(n()),i=r.getSelectedMailboxId;if((0,r.isMobileRoute)())return Promise.resolve();const o={mailboxId:i()};return s.mailAPIClient.request("savedSearches.get",o).then(({savedSearches:e})=>a(Object(rt.h)(e))).catch(e=>a(Object(rt.g)(e)))},(e,t,s)=>{const n=e.dispatch,r=e.getState,i=Object(u.b)(r()),o=i.getSelectedMailboxId,c=i.getSelectedAccountId,d=i.getRoute,_=(0,i.getFeaturesSelectors)().getSetting,m=d(),p=Object(b.w)(m);if(t.unsyncedDataType!==l.re.LIST_TO_UPDATE||Object(b.t)(p)!==l.Pb.TRAVEL_CARDS)return Promise.resolve();const h=o(),g=c(),E=Object(b.F)(p),I=_(l.zd.CARD_GROUPS_FETCH_COUNT),S=Object(b.u)(p),C=Object(b.n)(p);return s.mailAPIClient.request("messageCards.getList",{mailboxId:h,filter:S,count:I,offset:0,sortOrder:E,accountId:g,excludeFolderTypes:C}).then(e=>{n({type:a.Rk,listId:p,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems})}).catch(e=>{n({type:a.Qk,listId:p,error:e})})},(e,t,s)=>{const n=e.dispatch,r=e.getState,i=Object(u.b)(r()),o=i.getSelectedMailboxId,c=i.getSelectedAccountId,d=i.getReceiptSelectors,_=(0,i.getRouterSelectors)().getRoute,m=d().getNumPurchases,p=_(),h=Object(b.w)(p);if(t.unsyncedDataType!==l.re.LIST_TO_UPDATE||Object(b.t)(h)!==l.Pb.REFUND_CARDS||0!==m())return Promise.resolve();const g=o(),E=c(),I=l.Od.CARD_DATE_DESC,S={mailboxId:g,filter:Object(b.u)(h),count:100,offset:0,sortOrder:I,accountId:E,excludeFolderTypes:Object(b.n)(h)};return s.mailAPIClient.request("getReceipts",S).then(e=>{n({type:a.oi,listId:h,cardGroupList:e.messageGroupsResponses.cardGroupList,parentMessagesMap:e.parentMessagesMap,hasMoreItems:e.messageGroupsResponses.hasMoreItems,offset:e.messageGroupsResponses.offset})}).catch(e=>{n({type:a.ni,listId:h,error:e})})},function(e,t,s){if(t.unsyncedDataType!==l.re.VIDEO_CHANNELS_METADATA_FETCH)return Promise.resolve();const a=e.dispatch,n=(0,e.getState)(),r=(0,Object(u.b)(n).getSetting)(l.zd.EMPTY_FOLDER_VIDEO_CHANNELS),i=r?Object.keys(r).join(","):"";return s.videoAPIClient.request({type:"channels_meta_data",channel_alias:i}).then(e=>{a(Object(z.e)({payload:e.body}))}).catch(e=>{a(Object(z.d)({error:e}))})},function(e,t,s){if(t.unsyncedDataType!==l.re.VIDEO_CHANNEL_FETCH)return Promise.resolve();const a=e.dispatch,n=t.channelAlias;return s.videoAPIClient.request({type:"channel_video_data",channel_alias:n}).then(e=>{if(!(e&&e.body&&e.body[n]))throw new Error(`${n} channel data is missing`);a(Object(z.c)({payload:e.body,channel:n}))}).catch(e=>{a(Object(z.b)({error:e,channel:n}))})},(e,t,s)=>{if(t.unsyncedDataType!==l.re.SETTINGS_TO_CHANGE)return Promise.resolve();return((e,{updatedSettingAttributes:t=[],action:s},a)=>{const n=e.dispatch,r=e.getState,i=Object(u.b)(r()),o=i.getSelectedMailboxId;let d=[];const _=t.map(({name:e,value:t})=>{const s=f(i,e,t);return{id:s,value:s===l.ic.BLOCK_IMAGES?!t:t}});return d=d.concat(a.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:o(),attributes:_}).then(()=>n(Object(c.d)({requestActionPayload:s}))).catch(()=>n(Object(c.c)({requestActionPayload:s})))),Promise.all(d)})(e,{updatedSettingAttributes:t.updatedSettingAttributes,action:t,runV3:!0},s)},function(e,t,s){if(t.unsyncedDataType!==l.re.SEARCH_SUGGESTIONS_FETCH)return Promise.resolve();const a=e.dispatch,n=e.getState,i=(0,Object(u.b)(n()).isFeatureEnabled)(l.ub.SHOW_EMAIL_SEARCH_SUGGESTIONS),o=t.query||"",c=Object.assign({query:o},{textualSuggest:1},""===o?{enableEmptyQuery:!0}:null,i?{emailSuggest:1}:null);let d=t.i13nModel;return new Promise((e,t)=>{const n=s.bootcampClient.createStream("searchSuggestionsStream",c);n.on("data",e=>{e&&((i&&e?Object($e.a)(e):[]).length&&(d=r()({},d,{mKey:U.e.SEARCH_EMAIL_SUGGESTION_SHOWN,sec:U.g.HEADER_SEARCH})),a(Object(Qe.c)({query:o,suggestions:e,i13nModel:d})))}),n.on("end",e),n.on("error",e=>{a(Object(Qe.b)({query:o,error:e})),t(e)})})},function(e,t,s){if(t.unsyncedDataType!==l.re.ACCOUNT_TO_UPDATE)return Promise.resolve();const a=e.dispatch,n=t.accountId,r=t.updatedProperties,i=t.requestTimestamp;return function({store:e,accountId:t,updatedProperties:s,mailAPIClient:a}){const n=o()(s,["id","email","type"]),r=e.getState,i=Object(u.b)(r()),c=i.getAliasAccounts,d=(0,i.getAccountById)(t)||c().find(e=>e.id===t);return a.request("settings.updateAccount",{account:d,data:n})}({store:e,accountId:n,updatedProperties:r,mailAPIClient:s.mailAPIClient}).then(e=>a(Object(c.m)({accountId:n,requestTimestamp:i,updatedProperties:r,updatedAccount:e}))).catch(e=>a(Object(c.l)({error:e,accountId:n,requestTimestamp:i,updatedProperties:r})))},(e,t,s)=>{const a=t.query,n=e.dispatch;return t.unsyncedDataType!==l.re.COMPOSE_SUGGESTIONS_FETCH?Promise.resolve():s.autoSuggestClient.search(t).then(e=>n(Object(w.g)({query:a,recipientList:t.recipientList,contextFrom:t.contextFrom,contacts:e.contacts}))).catch(e=>n(Object(w.e)({err:e,query:a,recipientList:t.recipientList,contextFrom:t.contextFrom})))},(e,t,s)=>{if(t.unsyncedDataType!==l.re.DOCUMENT_FETCH)return Promise.resolve();const n=t.documentId,i=t.startPage,o=t.endPage,c=t.type,d=void 0===c?"":c,_=t.subtype,m=void 0===_?"":_,p=t.retryCount,h=e.dispatch,g=e.getState,E=Object(u.b)(g()),I=E.getRouteParams,S=E.getAttachmentById,f=E.getMimetypeByAttachmentId,T=E.getSizeByAttachmentId,A=E.getAttachmentExtentionByAttachmentId,b=(0,E.getRoute)(),O=(I()||{}).attachmentId,N=S(O);if(!Object(W.m)(N))return Promise.resolve().then(()=>h(V({route:b,documentId:n,startPage:i,endPage:o,error:{data:{info:{documentError:q({type:d,subtype:m})}}}})));const M=f(O),D=T(O),y=A(O);return s.mailAPIClient.request("document.fetch",{documentId:n,startPage:i,endPage:o,mimeType:M,size:D,extension:y,retryCount:p},{strategy:R.a.STRATEGIES.BROWSER_TO_JEDI,timeout:6e4}).then(e=>{if(815===Object(C.a)(e,"data.info.documentError.code",null))return h(V({error:e,documentId:n,startPage:i,endPage:o}));h((e=>r()({type:a.we},e))({response:e,documentId:n,startPage:i,endPage:o}))}).catch(e=>{h(V({error:e,documentId:n,startPage:i,endPage:o}))})},(e,t,s)=>{if(t.unsyncedDataType!==l.re.ACCOUNT_DELETE)return Promise.resolve();const a=e.dispatch,n=e.getState,r=t.accountId,i=Object(u.b)(n()),o=i.getAliasAccounts,c=(0,i.getAccountById)(r)||o().find(e=>e.id===r),m=Object.assign({},c,{status:l.h.DELETE_IN_PROGRESS});return s.mailAPIClient.request("settings.deleteAccount",{accountId:r}).then(()=>{a(Object(d.h)({updatedAccount:m}))}).then(()=>{if(Object(_.h)(m))return function(e,t,s){const a=s.email,n=Object(_.d)(s),r=l.Gb[n];if(r){const s=r.oauthDomain;return e.removeOAuthToken({domain:s,email:a}).then(e=>{t(Object(d.o)({response:e}))}).catch(e=>{t(Object(d.n)({error:e}))})}return Promise.reject(new Error(`No provider found for ${a}`))}(s.credstoreClient,a,m)}).catch(e=>{a(Object(d.g)({err:e}))})},(e,t,s)=>{if(t.unsyncedDataType!==l.re.ACCOUNT_ADD)return Promise.resolve();const a=e.dispatch,n=e.getState,r=t.newAccount,i=t.emailOrPhoneRegAccount,o=void 0!==i&&i,c=r.email,_=r.type,m=Object(u.b)(n()),p=m.hasAccountWithEmail,h=m.getDefaultFolderIdForSelectedAccount,g=(0,m.getFeaturesSelectors)();if(_===l.i.DEA&&g.disposableAddressDeleteOnly)return Promise.reject().catch(()=>a(Object(d.b)({err:"Disposable Email Address is delete only. User cannot add new DEA"})));const E=h();return p(c)?Promise.reject().catch(()=>a(Object(d.b)({updatedAccount:r}))):s.mailAPIClient.request("settings.addAccount",{account:r,allowUsernameAndPhoneReg:o}).then(e=>{if(o)return void window.setTimeout(()=>window.location.reload(),300);const t=e.find(e=>e.email===c);return a(t?Object(d.c)({accounts:e,updatedAccount:t,inboxFID:E,newAccount:t}):Object(d.b)({err:"New account was not found in the accounts object!",newAccount:t}))}).catch(e=>a(Object(d.b)({err:e,newAccount:r})))},(e,t,s)=>{if(t.unsyncedDataType!==l.re.MORE_ITEMS_TO_FETCH)return Promise.resolve();const a=(0,Object(u.b)(e.getState()).getRouteName)(),n=t.listId;return a===l.gd.SEARCH?(({dispatch:e,getState:t},{listId:s},{bootcampClient:a})=>{const n=Object(u.b)(t()),r=n.getFeaturesSelectors,i=(0,n.getListsSelectors)(),o=i.getItemIdsSelectors,c=i.getListNextItemsUrl,d=r().getSetting,_=o(s).getItemIds().length,m=Object(b.t)(s);let p=c(s);return m===l.Pb.MESSAGES&&(p=Object(le.c)(p,{cursor:_,limit:d(l.zd.SEARCH_FETCH_COUNT)})),a.request("searchItems",{url:p,listContentType:m}).then(t=>{e(Object(Ce.i)({listId:s,listContentBlock:t}))}).catch(t=>e(Object(Ce.h)({listId:s,error:t})))})(e,t,s):a===l.gd.LIST&&Object(b.t)(n)===l.Pb.TRAVEL_CARDS?Te(e,t,s):(({dispatch:e,getState:t},{listId:s,count:a=l.Z},{mailAPIClient:n})=>{const r=Object(u.b)(t()),i=r.getFeaturesSelectors,o=r.getListsSelectors,c=(0,r.getSelectedMailboxId)(),d=i().isEnabled(l.ub.CONVERSATIONS),_=(0,o().getItemIdsSelectors)(s).getItemIds().length,m={folderId:Object(b.o)(s),mailboxId:c,sortOrder:Object(b.F)(s),filter:Object(b.u)(s),count:a,offset:_,conversationsMode:d};return n.request("messageGroups.getList",m).then(({messageGroupList:t,hasMoreItems:a})=>e(Object(Ce.e)({listId:s,messageGroupList:t,hasMoreItems:a}))).catch(t=>{e(Object(Ce.d)({listId:s,error:t}))})})(e,t,s)},function(e,t,s){if(t.unsyncedDataType!==l.re.GIFS_TO_FETCH)return Promise.resolve();const a=e.dispatch,n=t.listId,r=t.query,i=t.id,o=Object(u.b)(e.getState()),c=o.getSelectedMailboxId,d=(0,o.getListsSelectors)(),_=d.getListNextItemsUrl,m=(0,d.doesListExist)(n)?_(n):"";return s.bootcampClient.request("searchGifs",{mailboxId:c(),query:r,nextItemsUrl:m}).then(e=>a(Object(oe.f)({altListId:n,query:r,id:i},e))).catch(e=>a(Object(oe.e)({altListId:n,query:r,id:i},e)))},function({dispatch:e},t,s){return t.unsyncedDataType!==l.re.GIF_CATEGORY_TO_FETCH?Promise.resolve():s.bootcampClient.request("getGifCategories").then(({categories:t})=>e(Object(oe.c)({categories:t}))).catch(t=>e(Object(oe.a)({error:t})))},function({dispatch:e},{unsyncedDataType:t,email:s=""},{bootcampClient:n}){if(t!==l.re.TOP_COUPONS_TO_FETCH||""===s)return Promise.resolve();const r=Object(b.e)({referrer:l.Rb.TOP_COUPONS});return n.request("getCouponRecommendations",{mailboxemail:s,limit:10}).then(t=>{e({type:a.td,listId:r,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})}).catch(t=>{e({type:a.sd,listId:r,error:t})})},function({dispatch:e},{email:t,unsyncedDataType:s},a){return s!==l.re.ALIAS_EMAIL_TO_CREATE?Promise.resolve():a.mailAPIClient.request("settings.createAlias",{email:t}).then(({suggestions:s,newAccount:a})=>{e(s&&s.length?Object(dt.f)({email:t,suggestions:s}):s||a?Object(dt.g)({newAccount:a}):Object(dt.f)({email:t}))}).catch(()=>e(Object(dt.f)({email:t})))},function({dispatch:e},{account:t,unsyncedDataType:s},a){return s!==l.re.CONFIRM_EMAIL_TO_RESEND?Promise.resolve():a.mailAPIClient.request("settings.resendConfirmEmail",{account:t}).then(s=>{e(Object(dt.A)({account:s,email:t.email}))}).catch(s=>{e(Object(dt.z)({err:s,email:t.email}))})},(e,t,s)=>{if(t.unsyncedDataType!==l.re.BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const n=e.dispatch,i=e.getState,o=Object(u.b)(i()),c=o.getSelectedMailboxId;if((0,(0,o.getSettingsSelectors)().getBlockedSendersApiCallStatus)()===l.bd.LOADED)return Promise.resolve();const d=c();return s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:d,rootMailboxId:d,attributes:[l.ic.DELIVERY_BLOCKED_SENDERS]}).then(e=>{n(r()({type:a.ij},e))}).catch(e=>{n({type:a.hj,payload:e})})},(e,t,s)=>{if(t.unsyncedDataType!==l.re.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const n=e.dispatch,i=e.getState,o=Object(u.b)(i()),c=o.getSelectedMailboxId;if((0,(0,o.getSettingsSelectors)().getFiltersAndBlockedSendersApiCallStatus)()===l.bd.LOADED)return Promise.resolve();const d=c();return s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:d,rootMailboxId:d,attributes:[l.ic.DELIVERY_BLOCKED_SENDERS,l.ic.MESSAGE_FILTERS]}).then(e=>{n(r()({type:a.oj},e))}).catch(e=>{n({type:a.nj,payload:e})})},(e,t,s)=>{const n=e.dispatch,i=e.getState,o=(0,Object(u.b)(i()).getSelectedMailboxId)();return o&&t.unsyncedDataType===l.re.COMPOSE_ATTRIBUTES_TO_FETCH?s.mailAPIClient.request("postLaunch.getComposeAttributes",{mailboxId:o,attributes:l.P}).then(e=>n(function(e){return r()({type:a.nc},e)}({mailboxAttributes:e.responses}))).catch(e=>n(function(e){return r()({type:a.mc},e)}({error:e}))):Promise.resolve()},function(e,t,s){if(!Object(le.b)()||t.unsyncedDataType!==l.re.POST_LUNCH_TO_SYNC)return Promise.resolve();const n=e.dispatch,i=e.getState,o=Object(u.b)(i()),c=o.getSelectedAccountIdByRoute,d=o.getRoute,_=(0,o.getSelectedMailboxId)(),m=c(d()),p=[];return p.push(s.mailAPIClient.request("postLaunch.postSync",{mailboxId:_,accountId:m})),p.push(j(e,t,s)),p.push(function(e,t,s){const a=e.dispatch,n=e.getState,r=(0,Object(u.b)(n()).getFeaturesSelectors)().isEnabled;return r(l.ub.EARNY_CARD_EXTRACTIONS)||r(l.ub.CLOUD_STORAGE)?s.bootcampClient.request("getContentProviders").then(e=>{a(Ne({contentProviders:e}))}).catch(e=>a(Me(e))):Promise.resolve()}(e,0,s)),p.push(function(e,t,s){const a=e.dispatch,n=e.getState,r=Object(u.b)(n()),i={query:t.query||""};return!1===(0,r.isFeatureEnabled)(l.ub.SHOW_RECENT_SUGGESTIONS)?new Promise(e=>e()):s.bootcampClient.request("recentSearches",i).then(e=>{a(Object(De.d)({recentSearches:e}))}).catch(()=>{a(Object(De.c)())})}(e,t,s)),Promise.all(p).then(([e])=>n(function(e){return r()({type:a.Yh},e)}(e))).catch(e=>n(function(e){return r()({type:a.Xh},e)}({error:e})))},function({dispatch:e,getState:t},{unsyncedDataType:s=""},{bootcampClient:a}){if(s!==l.re.TOP_RETAILERS_TO_FETCH)return Promise.resolve();const n={accountIds:(0,(0,Object(u.b)(t()).getAccountSelectors)().getAccountIds)()};return a.request("getTopRetailers",n).then(t=>e(tt({topRetailers:t}))).catch(t=>e(st({error:t})))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==l.re.TOP_DEAL_CATEGORIES_TO_FETCH?Promise.resolve():s.request("getTopDealCategories").then(t=>e(at({topDealCategories:t}))).catch(t=>e(nt({error:t})))},function(e,t,s){const a=t.query;if(t.unsyncedDataType!==l.re.RECENT_SEARCH_DELETE)return Promise.resolve();const n=e.dispatch,r=e.getState,i=Object(u.b)(r()),o={query:a,mailboxid:(0,i.getMailboxesSelectors)().getSelectedMailboxId()};return s.bootcampClient.request("deleteRecentSearch",o).then(()=>n(Object(De.b)({query:a}))).catch(()=>n(Object(De.a)({query:a})))},function({dispatch:e},{accountId:t,updatedProperties:s,unsyncedDataType:a,requestTimestamp:n},{mailAPIClient:r}){return a!==l.re.FETCH_PRIMARY_ACCOUNT?Promise.resolve():r.request("accounts.get").then(({accounts:a})=>{if(a&&a.length){const r=a.find(({isPrimary:e})=>e);e(Object(c.m)({accountId:t,updatedProperties:s,updatedAccount:r,requestTimestamp:n}))}}).catch(a=>{e(Object(c.l)({error:a,accountId:t,updatedProperties:s,requestTimestamp:n}))})},function(e,t,s){if(t.unsyncedDataType!==l.re.LINK_ENHANCER_TO_FETCH)return Promise.resolve();const a=e.dispatch,n=t.cardUrl;return s.linkEnhancerClient.get(n).then(({body:{linkInfo:e}})=>a(Object(Se.c)({id:n,cardUrl:n,linkInfo:e}))).catch(e=>a(Object(Se.b)({id:n,cardUrl:n,error:e})))},It,(e,t,s)=>{const a=e.dispatch,n=t.messageId;return t.unsyncedDataType!==l.re.UNSUBSCRIBE_EMAIL?Promise.resolve():s.subscriptionAPIClient.unsubscribeByEmail(t).then(e=>a(Object(ht.i)({unsubscribe:e,messageId:n}))).catch(e=>a(Object(ht.g)({error:e,messageId:n})))},(e,t,s)=>{const a=e.dispatch,n=e.getState,i=t.brandId;if(t.unsyncedDataType!==l.re.UNSUBSCRIBE_BRAND)return Promise.resolve();if(Object(u.b)(n()).getSetting(l.ub.DISABLE_UNSUBSCRIBE_FEATURE))return a(Object(ht.f)({brandId:i})),Promise.resolve();const o=Object(mt.selectors)(n()[mt.key]).getBrandInfo(i).subscriptions;return s.subscriptionAPIClient.unsubscribeByBrand(r()({subscriptions:o},t)).then(()=>a(Object(ht.f)({brandId:i}))).catch(e=>a(Object(ht.e)({error:e,brandId:i})))},function({dispatch:e,getState:t},{unsyncedDataType:s},{breakingNewsClient:n}){if(s!==l.re.BREAKING_NEWS)return Promise.resolve();const r=Object(u.b)(t()),i=r.getBreakingNewsSelectors,o=(0,r.isFeatureEnabled)(l.ub.BREAKING_NEWS_TEST_PARAM),c=i().getNewsArticle();return n.request({testParam:o}).then(t=>{let s;t.id&&c.id!==t.id&&(s={mKey:U.e.BREAKING_NEWS_RECEIVED,sec:U.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}),e({type:a.qb,news:t,i13nModel:s})}).catch(t=>{e({type:a.nb,error:t,i13nModel:{mKey:U.e.BREAKING_NEWS_FAILED,sec:U.g.BREAKING_NEWS,actionData:{error:t}}})})},(e,t,n)=>{const i=e.dispatch,o=t.mailboxId,c=t.accountId,d=t.email,u=t.sortOrder;if(t.unsyncedDataType!==l.re.SUBSCRIPTION_LIST)return Promise.resolve();const _=u===l.Od.ALPHA_ASC?"brandname.asc":"score.desc",m=Promise.resolve().then(s.bind(null,452)),p=n.subscriptionAPIClient.getSubscriptions({mailboxId:o,accountId:c,email:d,sort:_});return Promise.all([p,m]).then(([e])=>i((e=>r()({type:a.ok},e))({subscription:e.subscription,accountId:c,sortOrder:u}))).catch(e=>i((e=>r()({type:a.nk},e))({error:e})))},(e,t,s)=>{const a=t.provider,n=e.dispatch;return t.unsyncedDataType!==l.re.CLOUD_STORAGE_ACCOUNT_AUTH_URL?Promise.resolve():(Object(le.b)()||Object(Y.a)("Bootcamp cloud storage account linking needs be called from the browser"),s.bootcampClient.request("linkContentProvider",{provider:a}).then(({authorizationURL:e})=>{n(Object(_t.d)({url:e,provider:a}))}).catch(e=>n(Object(_t.c)({error:e,provider:a}))))},(e,t,s)=>{const a=t.unsyncedDataType,n=t.source,r=t.listId,i=t.query,o=t.id,c=t.path,d=e.dispatch,_=(0,Object(u.b)(e.getState()).getListsSelectors)(),m=_.getListNextItemsUrl,p=(0,_.doesListExist)(r)?m(r):"";return a!==l.re.CLOUD_STORAGE_ITEMS_TO_FETCH?Promise.resolve():(Object(le.b)()||Object(Y.a)("Bootcamp cloud storage account linking needs be called from the browser"),s.bootcampClient.request("cloudStorageItems",{source:n,query:i,path:c,nextItemsUrl:p}).then(e=>d(Object(ft.c)({altListId:r,query:i,path:c,id:o,source:n},e))).catch(e=>d(Object(ft.b)({altListId:r,query:i,path:c,id:o,source:n},e))))},function(e,t,s){const a=e.dispatch,n=e.getState,r=t.unsyncedDataType,i=(0,Object(u.b)(n()).getFeaturesSelectors)().isEnabled;return r!==l.re.FETCH_CLOUD_STORAGE_PROVIDERS?Promise.resolve():i(l.ub.CLOUD_STORAGE)?s.bootcampClient.request("getContentProviders").then(e=>{a(Object(ft.e)({contentProviders:e}))}).catch(e=>a(Object(ft.d)({error:e}))):Promise.resolve()},(e,t,s)=>{const a=t.provider,n=t.unlink,r=e.dispatch;return t.unsyncedDataType!==l.re.UNLINK_CLOUD_STORAGE_ACCOUNT?Promise.resolve():(Object(le.b)()||Object(Y.a)("Bootcamp cloud storage account unlinking needs be called from the browser"),s.bootcampClient.request("linkContentProvider",{provider:a,unlink:n}).then(()=>{r(Object(ft.k)({provider:a}))}).catch(e=>{r(Object(ft.j)({error:e,provider:a}))}))},(e,t,s)=>{const a=t.itemId,n=e.dispatch;return t.unsyncedDataType!==l.re.CLOUD_STORAGE_ITEM_SHAREABLE_LINK?Promise.resolve():(Object(le.b)()||Object(Y.a)("Bootcamp cloud storage shareable link fetching needs be called from the browser"),s.bootcampClient.request("getShareableLink",{itemId:a}).then(({shareableLink:e})=>{n(Object(ft.g)({shareableLink:e,itemId:a}))}).catch(e=>n(Object(ft.f)({error:e,itemId:a}))))},({getState:e,dispatch:t},{unsyncedDataType:s},{membershipRewardsClient:n})=>{if(s!==l.re.MEMBERSHIP_REWARDS_LAUNCH)return Promise.resolve();const r={atosTestParam:(0,Object(u.b)(e()).getSetting)(l.zd.TMR_ATOS_TEST_PARAM)};return n.request("launch",r).then(e=>{t({type:a.Eg,data:e.body,i13nModel:{mKey:U.e.TMR_LAUNCH_SUCCESS,sec:U.g.MEMBERSHIP_REWARDS,actionData:{atosStatus:Object(C.a)(e,"body.atos.atosStatus"),lastRegisteredActions:Object(C.a)(e,"body.lastRegisteredActions"),mailChallengesProgress:Object(C.a)(e,"body.mailChallengesProgress"),pointsBalance:Object(C.a)(e,"body.pointsBalance")}}})}).catch(e=>{t({type:a.Dg,error:e,i13nModel:{mKey:U.e.TMR_LAUNCH_FAILED,sec:U.g.MEMBERSHIP_REWARDS,actionData:{error:e}}})})},({getState:e,dispatch:t},{unsyncedDataType:s,rewardsActionType:n},{membershipRewardsClient:i})=>{if(s!==l.re.TMR_REGISTER_ACTION)return Promise.resolve();const o=Object(u.b)(e()),c=o.getSetting,d={actionId:(0,o.getMembershipRewardsSelectors)().getRewardsAction(n).id,rewardsActionType:n,atosTestParam:c(l.zd.TMR_ATOS_TEST_PARAM)};return i.request("registerUserAction",d).then(e=>{t({type:a.Gk,data:e.body,rewardsActionType:n,i13nModel:{mKey:U.e.TMR_REGISTER_ACTION_SUCCESS,sec:U.g.MEMBERSHIP_REWARDS,actionData:r()({rewardsActionType:n},e.body)}})}).catch(e=>{t({type:a.Fk,error:e,rewardsActionType:n,i13nModel:{mKey:U.e.TMR_REGISTER_ACTION_FAILED,sec:U.g.MEMBERSHIP_REWARDS,actionData:{error:e}}})})}];t.a={[a.zk]:[...[(e,t,s)=>{const a=t.route,n=t.config,i=void 0===n?{}:n,o=i.allowUsernameAndPhoneReg,c=i.mailboxSwitcher,d=t.selectedMailbox,_=e.dispatch,m=e.getState,p=s.mailAPIClient.bizMboxId,h=Object(u.b)(m()).isFeatureEnabled;if(!a||t.unsyncedDataType!==l.re.LAUNCH||-1===[l.gd.SEARCH,l.gd.SETTINGS,l.gd.TUTORIAL,l.gd.SIGNATURES_FROM_SETTINGS,l.gd.THEME_CHOOSER,l.gd.CONTACTS,l.gd.CONTACT_DETAILS,l.gd.CONTACT_DETAILS_FROM_SEARCH,l.gd.EDIT_CONTACT,l.gd.CREATE_CONTACT,l.gd.ACCOUNT_LIST_FROM_SETTINGS,l.gd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,l.gd.BLOCKED_SENDERS,l.gd.MESSAGE_PREVIEW,l.gd.SUBSCRIPTION_LIST].indexOf(a.name)&&!Object(b.J)(Object(b.w)(a))&&!Object(b.N)(a))return Promise.resolve();let g,E=null;return h(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&(g=ge(a),he(e,t,s).then(e=>{E=e})),s.mailAPIClient.request("launch.skeleton",{allowUsernameAndPhoneReg:o,mailboxSwitcher:c,mailboxId:d.id}).then(e=>{_(Object(ce.a)(r()({initialMailboxAttributes:t.mailboxAttributes,darlaAds:E,bizMboxId:p,selectedMailbox:d},e))),h(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&g&&Ee(g,E)}).catch(e=>_(Object(ce.b)({error:e})))},(e,t,s)=>{const a=t.route,n=t.config,i=t.selectedMailbox;if(!a)return Promise.resolve();const o=Object(b.w)(a),c=Object(b.o)(o),d=Object(b.F)(o),_=Object(b.u)(o),m=e.dispatch,p=e.getState,h=Object(u.b)(p()).isFeatureEnabled,g=s.mailAPIClient.bizMboxId;if(t.unsyncedDataType!==l.re.LAUNCH||a.name!==l.gd.FOLDER&&a.name!==l.gd.EDIT_FOLDER&&a.name!==l.gd.BASE&&a.name!==l.gd.LIST||Object(b.H)(o))return Promise.resolve();const I=n.pencilAd,S=n.conversations,C=n.launchFolderTimeout,f=n.messageFetchCountInitial,T=n.allowUsernameAndPhoneReg,A=void 0!==T&&T,O=n.mailboxSwitcher,R=me.a.feature("gemini_server_prefetch",{routeName:a.name});let N=null;I&&pe(0,t,s).then(e=>{N=e});const M=i.id;let D,y=null;return h(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&(D=ge(a),he(e,t,s).then(e=>{y=e})),s.mailAPIClient.request("launch.folder",{folderId:c,sortOrder:d,filter:_,count:f,offset:0,conversationsMode:S,allowUsernameAndPhoneReg:A,mailboxSwitcher:O,mailboxId:M},{timeout:C}).then(e=>{let s=e.error,a=e.messageGroups,n=E()(e,["error","messageGroups"]);m(Object(ce.a)(r()({initialMailboxAttributes:t.mailboxAttributes},n,{listId:o,geminiAd:N,darlaAds:y,bizMboxId:g,selectedMailbox:i,messageGroupList:a},s&&{launchError:l.Mb.FOLDER_ACCESS_FAILED}))),I&&(N?R.logSuccess():R.logFailure()),h(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&D&&Ee(D,y)}).catch(e=>m(Object(ce.b)({error:e})))},(e,t,s)=>{const a=t.route,n=t.config,i=void 0===n?{}:n,o=t.mailboxAttributes,c=t.appName,d=t.selectedMailbox;if(!a||t.unsyncedDataType!==l.re.LAUNCH||-1===[l.gd.MESSAGE_FROM_LIST,l.gd.MESSAGE_FROM_FOLDER_LIST,l.gd.MESSAGE_FROM_SEARCH_LIST].indexOf(a.name))return Promise.resolve();const _=a.params,m=Object(b.w)(a),p=decodeURIComponent(_.groupId),h=Object(b.o)(m),g=Object(b.F)(m),I=Object(b.u)(m),S=(o[l.ic.SCOUT_ONBOARDING]||{}).value,C=void 0===S?[]:S,f=i.pencilAd,T=i.conversations,A=i.messageFetchCountInitial,O=i.allowUsernameAndPhoneReg,R=void 0!==O&&O,N=i.mailboxSwitcher,M=e.dispatch,D=e.getState,y=Object(Ie.d)(C),L=Object(Ie.c)(C),v=s.mailAPIClient.bizMboxId,P=d.id,F=c===l.t.MOBILE_APP?!!o[l.ic.MOBILE_SHOW_IMAGES]&&!o[l.ic.MOBILE_SHOW_IMAGES].value&&!L:!!o[l.ic.BLOCK_IMAGES]&&o[l.ic.BLOCK_IMAGES].value&&!y,w=Object(u.b)(D()).isFeatureEnabled;let k=null;f&&pe(0,t,s).then(e=>{k=e});let x,U=null;return w(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&(x=ge(a),he(e,t,s).then(e=>{U=e})),s.mailAPIClient.request("launch.messageGroup",{isConversation:T,messageGroupId:p,folderId:h,sortOrder:g,filter:I,count:A,offset:0,secure:F,allowUsernameAndPhoneReg:R,mailboxSwitcher:N,mailboxId:P}).then(function(e){let t=e.messageGroups,s=e.messageBodiesMap,a=e.messageMetadataMap,n=e.messageGroupList,i=e.hasMoreItems,c=e.folderId,u=e.error,_=E()(e,["messageGroups","messageBodiesMap","messageMetadataMap","messageGroupList","hasMoreItems","folderId","error"]);M(Object(ce.a)(r()({initialMailboxAttributes:o},_,{bizMboxId:v,selectedMailbox:d,geminiAd:k,darlaAds:U},u?{folderId:c,messageGroupList:n,hasMoreItems:i,launchError:l.Mb.MESSAGE_ACCESS_FAILED}:{listId:m,messageGroups:t,messageBodiesMap:s,messageMetadataMap:a}))),w(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&x&&Ee(x,U)}).catch(e=>M(Object(ce.b)({error:e})))},(e,t,s)=>{const a=t.route,n=t.config,i=void 0===n?{}:n,o=i.allowUsernameAndPhoneReg,c=void 0!==o&&o,d=i.mailboxSwitcher,_=t.encryptedQueryParams,m=t.selectedMailbox;if(!a||t.unsyncedDataType!==l.re.LAUNCH||-1===[l.gd.NEW_DRAFT,l.gd.EDIT_DRAFT].indexOf(a.name))return Promise.resolve();const p=decodeURIComponent(a.params.csid),h=e.dispatch,g=e.getState,E=s.mailAPIClient.bizMboxId,I=m.id,S=Object(u.b)(g()).isFeatureEnabled;let C,f=null;return S(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&(C=ge(a),he(e,t,s).then(e=>{f=e})),s.mailAPIClient.request("launch.compose",{csid:p,allowUsernameAndPhoneReg:c,mailboxSwitcher:d,mailboxId:I}).then(e=>{let s;Object(Y.a)(p,"csid is required and should be in the url");const a={csid:p,initialTo:"",initialCc:"",initialBcc:"",initialSubject:"",initialBody:{}};if(e.message){const n=e.message,i=n.id,o=n.headers,c=n.folder,d=c.types,u=c.id;if(s=Object(b.v)(u),d[0]&&-1===d[0].indexOf(l.Cb.DRAFT)){const s=Object(de.g)(e.accounts,e.folders).id;return h(Object(ce.a)(r()({initialMailboxAttributes:t.mailboxAttributes,darlaAds:f},e,{selectedMailbox:m,folderId:s,launchError:l.Mb.COMPOSE_ACCESS_FAILED}))),S(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&C&&Ee(C,f),Promise.resolve()}Object.assign(a,{initialFrom:o.from,initialTo:o.to,initialCc:o.cc,initialBcc:o.bcc,initialSubject:o.subject,initialBody:{content:e.messageBodiesMap[i].html}})}h(Object(ce.a)(r()({initialMailboxAttributes:t.mailboxAttributes},e,{listId:s,darlaAds:f,bizMboxId:E,selectedMailbox:m,draftData:a,encryptedQueryParams:_}))),S(l.ub.DARLA_PREFETCH_LAUNCH_SYNCER)&&!Object(le.b)()&&C&&Ee(C,f)}).catch(e=>h(Object(ce.b)({error:e})))}].map(e=>({syncer:e,isomorphic:!0})),...bt.map(e=>({syncer:e}))],[a.Gd]:(e,t,s)=>{const a=e.dispatch,n=(0,e.getState)(),r=Object(u.b)(n),i=r.getSelectedMailboxId;if(!(0,r.isMobileRoute)())return Promise.resolve();const o=t.folderName,c=t.accountId,d=i();return s.mailAPIClient.request("folders.create",{mailboxId:d,folderName:o,accountId:c}).then(e=>{a(Object(ae.b)({folder:e.folder}))}).catch(e=>a(Object(ae.a)({folderName:o,error:e})))},[a.nh]:Ae,[a.Jd]:(e,t,s)=>{const a=e.dispatch,n=e.getState,r=t.name,i=t.query,o=t.decorations,c=t.priority,d={mailboxId:(0,Object(u.b)(n()).getSelectedMailboxId)(),name:r,query:i,decorations:o,priority:c};return s.mailAPIClient.request("savedSearches.create",d).then(({savedSearches:e})=>a(Object(rt.c)(e))).catch(e=>a(Object(rt.b)(e)))},[a.me]:(e,t,s)=>{const a=e.dispatch,n=e.getState,r=t.savedSearchId,i={mailboxId:(0,Object(u.b)(n()).getSelectedMailboxId)(),savedSearchId:r};return s.mailAPIClient.request("savedSearches.delete",i).then(()=>a(Object(rt.f)(r))).catch(e=>a(Object(rt.e)(e)))},[a.zg]:function(e,t,s){const a=e.dispatch,n=t.query,i=t.i13nModel;return Promise.resolve(s.locationAutoSuggestClient.getLocationSuggestion(n,t.partner)).then(e=>{a(Object(He.b)(r()({},n,e,{i13nModel:i})))}).catch(e=>a(Object(He.a)(e)))},[a.Bi]:(e,t,s)=>{const a=t.messageId,n=t.uid,r=t.response,i=t.oldResponse,o=e.dispatch;return s.calendarClient.sendReply(n,{numGuests:0,partStat:r,email:t.email,comment:""}).then(()=>o(Object(S.g)({uid:n,response:r,messageId:a}))).catch(()=>o(Object(S.f)({uid:n,response:i,messageId:a})))},[a.Lh]:[ut],[a.qd]:[function({dispatch:e,getState:t},{messageId:s,accountId:a,recommendations:n=!1,parentMessageId:r=""},{mailAPIClient:i}){const o=(0,Object(u.b)(t()).getSelectedMailboxId)();i.request("messages.updateDecos",{mailboxId:o,messageDecosPayloads:[{messageId:s,decos:[{id:l.nc.TAG}]}]}).then(()=>{e(Object(T.c)({messageId:s,accountId:a,recommendations:n,parentMessageId:r}))}).catch(t=>{e(Object(T.a)(t))})}],[a.vd]:function({dispatch:e,getState:t},{messageId:s,accountId:a},{mailAPIClient:n}){const r=(0,Object(u.b)(t()).getSelectedMailboxId)();n.request("messages.updateDecos",{mailboxId:r,messageDecosPayloads:[{messageId:s,decos:[{id:"-"+l.nc.TAG}]}]}).then(()=>e(Object(T.u)({messageId:s,accountId:a}))).catch(t=>e(Object(T.s)(t)))},[a.Se]:function({dispatch:e,getState:t},{messageId:s,description:a,expiryDate:n},{mailAPIClient:i}){const o=Object(u.b)(t()),c=o.getSelectedMailboxId,d=o.getMessagesSelectors,_=o.getMessageFolderId,m=(0,o.getFoldersSelectors)(),p=m.getUserCardFolderIds,h=m.getAccountIdByFolderId,g=d(),E=g.getFromAddresses,I=g.getReplyToAddresses,S=c(),C=h(_(s)),f=p(C),O=[{id:l.nc.CRD,type:l.ib.NORMAL},{id:l.nc.CPN,type:l.ib.NORMAL},{id:l.nc.TAG,type:l.ib.NORMAL}],R={from:E(s),replyTo:I(s),subject:a},N=[{schema:{"@id":Object(A.f)({min:10,max:40}),"@type":l.qd.Coupon,validThrough:n,description:a,identifier:[{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"searchTerms",value:a},{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"cardDate",value:"$.validThrough"}]}}];if(!(s&&f&&a&&n))return Promise.resolve();i.request("cards.create",{mailboxId:S,messageId:s,destinationFolderId:f,headers:R,decos:O,schemaOrg:N}).then(t=>{e(Object(T.m)(r()({messageId:s,listId:Object(b.W)("{}",{listContentType:l.Pb.COUPON_CARDS,listFilter:l.Qb.SAVED_COUPON_CARDS,accountIds:[C],referrer:l.Rb[l.Kd.COUPONS]})},t)))}).catch(t=>{e(Object(T.k)(t))})},[a.bg]:[ut],[a.Ud]:(e,t,s)=>{const a=e.dispatch,n=e.getState;return(0,Object(u.b)(n()).getEnvironmentSelectors)().getIsXobnified()?s.autoSuggestClient.blackList(t).then(()=>a(Object(w.j)({contactInfo:t.contactInfo}))).catch(e=>a(Object(w.h)(e))):Promise.resolve()},[a.We]:te,[a.Nf]:({dispatch:e,getState:t},s,{mailAPIClient:a})=>{const n=Object(u.b)(t()),r=s.subKey,i=(0,n.getSelectedMailboxId)();return a.request("saveArrayAttributes",{mailboxId:i,items:[`${r},${Math.round(Date.now()/1e3)}`],attribute:l.ic.SUPPRESSED_UPSELLS,dedupFn:Q}).then(t=>{e(Object(Re.e)({name:l.zd.SUPPRESSED_UPSELLS,value:t}))}).catch(t=>{e(Object(Re.d)({error:t}))})},[a.hf]:te,[a.af]:se,[a.ib]:it,[a.jb]:it,[a.lj]:[It,(e,{name:t,value:s,action:a},n)=>{const r=e.dispatch,i=e.getState,o=Object(u.b)(i()),d=o.getSelectedMailboxId;let _=[];const m=f(o,t,s);return _=_.concat(n.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:d(),attributes:[{id:m,value:m===l.ic.BLOCK_IMAGES?!s:s}]}).then(()=>{r(Object(c.d)({requestActionPayload:a})),m===l.ic.BLOCK_IMAGES&&window.setTimeout(()=>window.location.reload(),300)}).catch(()=>r(Object(c.c)({requestActionPayload:a})))),Promise.all(_)}],[a.yj]:function(e,t,s){const a=e.dispatch,n=t.name,r=t.value,i=t.i13nModel;return s.mailAPIClient.request("settings.saveMessageFilters",{payload:r}).then(()=>a(Object(c.d)({name:n,value:r,i13nModel:i}))).catch(e=>a(Object(c.c)({error:e,name:n,value:r})))},[a.N]:(e,{sectionId:t})=>{p(e,"(type$fdb_start)",t)},[a.O]:(e,{reason:t,comment:s,sectionId:a})=>{p(e,`type$fdb_submit,subo${t},cmnt${s}`,a)},[a.Yj]:(e,t,s)=>{const a=e.dispatch,n=e.getState,r=Object(u.b)(n()),i=r.getSelectedMailboxId,o=r.getRoute,c=r.getAccountIdByFolderId,d=r.getInboxFolderIdByAccountId,l=(0,r.getAccountSelectors)().getAccountById,_=i(),m=o(),p=Object(b.w)(m),h=c(Object(b.o)(p)),g=l(h),E=d(h),I={csid:Object(A.g)(),mailboxId:_,subject:t.subject,html:t.asset,from:[g],folderId:E};return s.mailAPIClient.request("sponsoredMessages.save",I,{strategy:R.a.STRATEGIES.BROWSER_TO_JEDI,timeout:re.a}).then(({message:e})=>{a(Object(ne.y)({message:e,simpleBody:{html:I.html,htmlAnnotations:[]}}))}).catch(()=>a(Object(ne.x)()))},[a.rk]:(e,t,s)=>{const a=e.dispatch,n=e.getState;return s.subscriptionAPIClient.subscribe(t.provider,t.options).then(()=>{const e=[...Object(u.b)(n()).getFeaturesSelectors().getSetting(l.zd.EMAIL_SUBSCRIPTIONS),t.id];a(Object(pt.c)(t.id)),a(Object(c.b)({name:l.zd.EMAIL_SUBSCRIPTIONS,value:e,runV3:!0}))}).catch(()=>a(Object(pt.b)(t.id)))},[a.Pj]:(e,t,s)=>{const a=e.dispatch,n=t.provider;return s.credstoreClient.unlink({spid:l.Ld[n],provider:n}).then(()=>{a(Object(_t.p)({provider:n}))}).catch(e=>{a(Object(_t.o)({error:e}))})},[a.Ai]:Ct}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(15),i=s(4),o=s.n(i),c=s(3),d=s.n(c),l=s(32),u=s(8),_=s.n(u),m=s(1),p=s.n(m),h=s(29),g=s(6),E=s(334),I=s.n(E),S=s(194),C=(s(42),s(12)),f=s(48),T=s(19),A=s(28),b=s(154),O=s(20),R=s(5),N=s(77),M=s(55),D=s(53),y=s(40),L=s(14),v=s(59),P=s(99),F=s(27),w=s(13),k=s.n(w),x=s(363),U=s.n(x),G=s(563),j=s(7);class H extends m.Component{constructor(){super(),d()(this,"state",{isPickerOpen:!1}),d()(this,"handleContactContainerClick",e=>{this.pillContainerRef&&e.target&&(e.target.getAttribute("class")||"").indexOf("pill-list")>-1&&this.props.onContactContainerClick()}),d()(this,"onOpen",()=>{this.state.isPickerOpen||this.setState({isPickerOpen:!0},this.props.contactPickerClicked)}),d()(this,"onClose",()=>{this.state.isPickerOpen&&this.setState({isPickerOpen:!1})}),this.pillContainerRef=p.a.createRef()}render(){const e=k()(U.a,{active:this.props.active});return p.a.createElement("div",{className:e.module,"data-test-id":"recipient-input"},p.a.createElement(M.a,{ref:e=>this._container=e},p.a.createElement(D.a,{onClick:this.togglePickerStatus},p.a.createElement("label",{htmlFor:this.props.for,className:e.label,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label)),p.a.createElement(y.b,{isArrowVisible:!1,triggerOn:L.i.CLICK,zAltitude:C.ZIndices.POPOVER.HIGH,onClick:e=>e.stopPropagation(),align:L.a.START,onShow:this.onOpen,onHide:this.onClose},p.a.createElement(F.a,{import:"../../contact_picker/index.jsx",onClose:()=>this._container.hide(L.i.CLICK),addContactsToField:this.props.addContactsToField,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1218))},_moduleResolver:function(){return 1218}}))),p.a.createElement("div",{className:e.children,"data-test-id":this.props.childrenId,onClick:this.handleContactContainerClick,ref:this.pillContainerRef},this.props.children))}}d()(H,"defaultProps",{active:!1});var B=Object(r.connect)(null,e=>({contactPickerClicked:()=>e(Object(G.b)({i13nModel:{mKey:j.e.OPEN_CONTACT_PICKER,sec:j.g.CONTACT_PICKER,interactionType:j.d.click}}))}))(H);class V extends p.a.Component{render(){const e=k()(U.a,{active:this.props.active});return p.a.createElement("div",{className:e.module,"data-test-id":"labeled-input"},p.a.createElement("label",{htmlFor:this.props.for,className:e.label,onClick:this.props.onLabelClick,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label),p.a.createElement("div",{className:e.children,"data-test-id":this.props.childrenId},this.props.children))}}d()(V,"defaultProps",{active:!1});var W=s(155),q=s(133),z=s(141),K=s(34),Z=s(98),Y=s(16),X=s(727),Q=s.n(X);const $=k()(Q.a);function J({account:e,selected:t,onClick:s}){return p.a.createElement(K.a,{ariaLabel:e.email,kind:Z.a.ACCOUNT_PICKER,name:e.email},p.a.createElement("span",{className:$.rtlIgnoreDir},p.a.createElement(T.a,{kind:A.a.MENUITEM,onClick:s,style:{backgroundColor:t?"#f9faff":""}},p.a.createElement("div",{className:$.buttonContent},p.a.createElement("span",{className:$.checkmarkWrapper+" "+$.rtlIgnoreMarginR},t&&p.a.createElement(Y.b,{kind:R.b.CHECKMARK,size:R.d.XS})),p.a.createElement("span",null,e.sendingName),p.a.createElement("span",{className:$.itemAddress+" "+$.rtlIgnoreMarginL},e.email)))))}var ee=s(728),te=s.n(ee);const se=()=>{};class ae extends p.a.Component{constructor(...e){super(...e),d()(this,"handleAccountChange",e=>{this.props.selected!==e&&this.props.onChange(e)}),d()(this,"getMenuItems",()=>{const e=this.props,t=e.selected,s=e.dir;return e.sendingAccounts.map(e=>p.a.createElement(J,{key:e.email,dir:s,account:e,selected:e===t,onClick:this.handleAccountChange.bind(this,e)}))})}render(){const e=this.props,t=e.selected,s=e.sendingAccounts,a=k()(te.a);if(!s.length)return null;const n=p.a.createElement("div",{className:a.menuLabelEmail,"data-test-id":"compose-sending-address"},"<"+t.email+">");return 1===this.props.sendingAccounts.length?p.a.createElement("div",{tabIndex:0,"aria-label":this.props.selectLabel+" "+t.email,className:a.fromField,ref:"accountSelect"},p.a.createElement("span",null,t.sendingName,""),n):p.a.createElement("div",{className:a.select},p.a.createElement(W.a,{onFocus:this.props.onFocus,onBlur:this.props.onBlur,className:a.menuContainer},p.a.createElement(q.a,{"aria-label":this.props.selectLabel+" "+t.email,hasText:!0},p.a.createElement("span",{className:a.label},p.a.createElement("span",{className:a.labelName},t.sendingName,""),n,p.a.createElement(Y.b,{kind:R.b.CHEVRON_UP,size:R.d.XXS,rotate:R.c.D180}))),p.a.createElement(z.a,null,this.getMenuItems(a))))}}d()(ae,"defaultProps",{onFocus:se,onBlur:se,onChange:se});var ne=ae,re=s(106),ie=s.n(re),oe=s(136),ce=s(212),de=s.n(ce),le=s(167),ue=s(31),_e=s.n(ue);const me=/^(['"]?)(.*?)\1\s*<(\S+@\S+\.\w+)>\s*$/,pe=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/;function he({name:e="",email:t="",isEditing:s=!1,createdTime:a}){const n=t.match(me)||[],r=_e()(n,4),i=r[2],o=void 0===i?e:i,c=r[3],d=void 0===c?t:c;let l;return{name:o||d,email:d,title:l=o&&d?o===d?`<${d}>`:`${o} <${d}>`:o||d,isEditing:s,createdTime:a}}var ge=s(215),Ee=s(11),Ie=s(143),Se=s(30),Ce=s(33),fe=s.n(Ce),Te=s(18),Ae=s(342);const be=s(30).KeyCodes,Oe=Object(g.defineMessages)({suggestions_available:{id:"compose.suggestions_available",defaultMessage:"{suggestionsNum, plural, =0 {No suggestions are available.} one {# suggestion is available.} other {# suggestions are available. Use up and down arrows to select.}}"},from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural, one {# contact} other {# contacts}}"},close_related_contacts:{id:"dropdown.close_related_contacts",defaultMessage:"Close"},related_contacts:{id:"dropdown.related_contacts",defaultMessage:"Related contacts:"}}),Re=/([^\s,;]+?@[^\s,;]+?\.[a-z]+[>)]?)[\s,;]+([^\s,;])/gi,Ne=/[;,]+/,Me=3,De=()=>{};class ye extends p.a.Component{constructor(...e){super(...e),d()(this,"shouldComponentUpdate",(e,t)=>{return!fe()(e.getSuggestions(t.inputValue),this.props.getSuggestions(this.state.inputValue))||!Object(Te.c)(this.props,e,["autoBidi","composePillCount","dragDropPill","id","inputId","isDragged","isEditing","maxContactsVisible","placeholder","selectedPills","selectedContacts","shiftDelimiters","showCcBcc","showSuggestions","wasRelatedContactsDropdownClosed"])}),d()(this,"createSearchRequest",e=>ie()(this.requestContactSuggestions,e)),d()(this,"inputValueToContact",()=>{const e=this.state.inputValue;e.trim()&&(this.props.autoSuggestionDropdownWillAppear(),this.props.onInputContactAdd(e,this.props.isEditing),this.setState({inputValue:""}))}),d()(this,"handleOnFocus",e=>{this.props.onFocus&&this.props.onFocus(e)}),d()(this,"handleOnBlur",e=>{document.hasFocus()&&this.inputValueToContact(),this.props.onBlur&&this.props.onBlur(e)}),d()(this,"handleInputKeyDown",e=>{const t=this.state.inputValue,s=this.props,a=s.shiftDelimiters,n=s.delimiters,r=e.ctrlKey,i=e.altKey,o=e.metaKey,c=e.shiftKey,d=this._isDelimiterKey(e.which||e.keyCode);r||i||o||t&&(c&&d(a)||!c&&d(n))&&(e.preventDefault(),this.inputValueToContact())}),d()(this,"_isDelimiterKey",e=>t=>-1!==t.indexOf(e)),d()(this,"handleInputChange",e=>{const t=this.constructor.splitByDelimiters(e);t.length>1&&t.splice(0,t.length-1).map(e=>e.trim()).filter(Boolean).forEach(e=>{this.props.onInputContactAdd(e,!1)}),this.props.autoSuggestionDropdownWillAppear(),this.setState({inputValue:t[0]}),this.state.triggerSearchRequest(t[0])}),d()(this,"handleManualPillRemoval",(e,t)=>{t.preventDefault(),this.handlePillRemoval([e])}),d()(this,"handleManualPillEdit",e=>{const t=he(e);this.props.onContactEdit(t)}),d()(this,"handleManualPillUpdate",e=>{this.props.onInputContactAdd(e,!0)}),d()(this,"handlePillRemoval",e=>{this.props.onContactRemove(e)}),d()(this,"handleDropdownSelection",(e,t)=>{(t&&t.getAttribute("data-action"))===Se.DELETE_CONTACT?this.requestDeleteContactSuggestions(e):(this.setState({inputValue:""}),e.disabled||this.props.onContactAdd(o()({},e,{createdTime:Date.now()})))}),d()(this,"handleCloseRelatedContactsPopup",e=>{this.props.closeRelatedContactsForCurrentSession({i13nModel:{interactionType:j.d.click,mKey:j.e.RELATED_CONTACTS_CLOSED,sec:j.g.COMPOSE_CONTACTS}}),this.handleOnBlur(e)}),d()(this,"renderPill",(e,t,s,a)=>{const n=he(e),r=n.name,i=n.email,o=n.isEditing;return p.a.createElement(ge.a,{email:i,isCompose:!0,isDisabled:this.props.isDragged||a||o,name:r,createdTime:n.createdTime,popoverDidAppear:this.props.emailPillPopoverDidAppear},p.a.createElement(le.a,{value:r,title:n.title,contactId:e.id,contactEmail:i,isEditing:o,isLastElement:t===s.length-1,isSelected:a,onPillUpdate:this.handleManualPillUpdate,onPillRemove:this.handleManualPillRemoval.bind(this,e),onPillEdit:this.handleManualPillEdit.bind(this,e),handleDrop:this.props.handleDrop,handleDragState:this.props.handleDragState,isDragged:this.props.isDragged&&a,inputField:this.props.id,isCompose:!0,selectedPills:this.props.selectedPills,dragDropPill:this.props.dragDropPill}))}),d()(this,"requestContactSuggestions",()=>{this.props.requestContactSuggestions({i13nModel:{mKey:j.e.CONTACT_SUGGEST,sec:j.g.COMPOSE_CONTACTS},query:this.state.inputValue})}),d()(this,"handleOnCopy",e=>{let t="";this.props.selectedPills.map(e=>{t+=he(e).title+"; "}),e.clipboardData.setData("text/plain",t)}),d()(this,"requestDeleteContactSuggestions",e=>{this.props.requestDeleteContactSuggestions({contactInfo:e})}),d()(this,"state",{triggerSearchRequest:this.createSearchRequest(50),inputValue:""})}static splitByDelimiters(e){return e.replace(Re,"$1,$2").split(Ne)}componentWillReceiveProps(e){e.composePillCount>0&&e.composePillCount!==this.props.composePillCount&&!e.wasRelatedContactsDropdownClosed&&this.state.triggerSearchRequest("")}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.maxContactsVisible,a=t.filterSuggestions,n=t.selectedContacts,r=t.composePillCount,i=t.isEditing,o=t.showSuggestions,c=t.wasRelatedContactsDropdownClosed,d=r>0&&!this.state.inputValue&&!c,l=(0,t.getSuggestions)(this.state.inputValue),u=d&&a(l).length>0?Me:s,_=!o||0===r&&!this.state.inputValue||c&&!this.state.inputValue?[]:a(l).slice(0,u),m=k()(de.a,{showCcBcc:this.props.showCcBcc});return p.a.createElement(oe.Pills,{ref:this.props.suggestionRef,id:this.props.id,inputId:this.props.inputId,autoBidi:this.props.autoBidi,tabIndex:this.props.tabIndex,selected:n,renderPill:this.renderPill,placeholder:0===n.length?this.props.placeholder:"",inputValue:this.state.inputValue,onInputKeyDown:this.handleInputKeyDown,onInputChange:this.handleInputChange,onBlur:this.handleOnBlur,onCopy:this.handleOnCopy,onFocus:this.handleOnFocus,onRemove:this.handlePillRemoval,onSelect:this.handleDropdownSelection,notifyPillSelection:this.props.onPillSelection,messageForIncomingOptions:e(Oe.suggestions_available,{suggestionsNum:_.length}),className:m.pills,getMessageForOption:this.props.getMessageForOption,containerClassName:m.pillsContainer,containerChildClassName:m.pillsContainerChild,pillClassName:m.pillOuter,noInitialSelection:!0,dropdownVisibleByDefault:!0,typeaheadInputContainerClassName:m.typeahead,typeaheadInputClassName:`input-${this.props.id} ${m.typeaheadInput}`,typeaheadInputHintClassName:m.typeaheadInputHint,typeaheadAriaStatusClassName:m.typeaheadAriaStatus,typeaheadDropDownClassName:m.typeaheadDropDown,clearSelectedPills:this.props.clearSelectedPills,isEditing:i},d&&_.length>0?p.a.createElement(oe.Option,{className:m.relatedContactsContainer,disabled:!0,value:{disabled:!0}},p.a.createElement("span",{className:m.relatedContacts,"data-test-id":"related-contacts-dropdown-header"},e(Oe.related_contacts)),p.a.createElement("span",{className:m.relatedContactsClose},p.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":"related-contacts-close-button",kind:R.b.CLOSE,size:R.d.XXS,onMouseDown:this.handleCloseRelatedContactsPopup,colorState:R.a.FIRST_LEVEL_GRAY,paddingLess:!0,title:e(Oe.close_related_contacts)}))):null,_.map(e=>p.a.createElement(oe.Option,{className:m.typeaheadOption,key:e.id,value:e},p.a.createElement(Ae.a,{option:e}))))}}d()(ye,"contextTypes",{intl:g.intlShape.isRequired}),d()(ye,"defaultProps",{placeholder:"",tabIndex:-1,maxContactsVisible:6,selectedContacts:[],delimiters:[be.FF_COMMA,be.FF_SEMICOLON,be.SEMICOLON,be.COMMA,be.BREAK,be.TAB],shiftDelimiters:[be.BREAK,be.TAB],handleDrop:De,handleDragState:De,onPillSelection:De,selectedPills:[],clearSelectedPills:De,dragDropPill:!0,getSuggestions:De,filterSuggestions:()=>[],isEditing:!1,requestDeleteContactSuggestions:De,requestContactSuggestions:De,showSuggestions:!0,autoSuggestionDropdownWillAppear:De,emailPillPopoverDidAppear:De,wasRelatedContactsDropdownClosed:!1});var Le=Object(r.connect)((e,t)=>{const s=Object(Ee.b)(e);return{getSuggestions:s.getComposeSuggestions,wasRelatedContactsDropdownClosed:(0,(0,s.getComposeSessionsSelectors)().wasRelatedContactsClosed)(t.csid)}},(e,t)=>({requestContactSuggestions:s=>{const a=t.getContextFrom,n=(0,t.getRecipientList)(),r=a();e(Object(Ie.f)(o()({},s,{recipientList:n,contextFrom:r})))},requestDeleteContactSuggestions:s=>{const a=t.getContextFrom,n=(0,t.getRecipientList)(),r=a();e(Object(Ie.i)(o()({},s,{recipientList:n,contextFrom:r})))},closeRelatedContactsForCurrentSession:s=>{e(Object(Ie.d)(o()({},s,{csid:t.csid})))}}))(ye),ve=s(39),Pe=s.n(ve),Fe=s(730),we=s.n(Fe);function ke(e){const t=e.hasFocus,s=Pe()(e,["hasFocus"]),a=k()(we.a,{hasFocus:t});return p.a.createElement("div",n()({},s,{className:a.input}),e.children)}var xe=s(731),Ue=s.n(xe),Ge=s(9),je=s(0);const He=Object(g.defineMessages)({save_draft_and_close:{id:"compose.save_draft_and_close",defaultMessage:"Close (and save to drafts)"},show_cc_button_label:{id:"compose.show_cc_button_label",defaultMessage:"CC / BCC"},hide_cc_button_label:{id:"compose.hide_cc_button_label",defaultMessage:"Hide CC / BCC"},show_cc_only_button_label:{id:"compose.show_cc_only_button_label",defaultMessage:"CC"},hide_cc_only_button_label:{id:"compose.hide_cc_only_button_label",defaultMessage:"Hide CC"},bcc_button_label:{id:"compose.bcc_button_label",defaultMessage:"bcc"},from_input_label:{id:"compose.from_input_label",defaultMessage:"From"},to_input_label:{id:"compose.to_input_label",defaultMessage:"To"},cc_input_label:{id:"compose.cc_input_label",defaultMessage:"CC"},bcc_input_label:{id:"compose.bcc_input_label",defaultMessage:"BCC"},select_contact:{id:"compose.select_contact",defaultMessage:"Select contact {email}"},subject_input_placeholder:{id:"compose.subject_input_placeholder",defaultMessage:"Subject"},additional_options:{id:"compose.additional_options",defaultMessage:"Additional options"}});class Be extends p.a.Component{constructor(e){super(e),d()(this,"handleSubjectChange",e=>{this.setState({subject:e.target.value},this.onHeaderChange)}),d()(this,"setDragState",e=>{this.setState({isDragged:e})}),d()(this,"handleDragOver",e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()}),d()(this,"updateSelectedPills",e=>{this.state.isEditing||this.setState({selectedPills:e})}),d()(this,"clearSelectedPills",e=>{e&&this.clearPillsCallbacks.push(e),this.clearPillsCallbacks.forEach(e=>e()),this.setState({selectedPills:[]})}),d()(this,"handleDrop",(e,t,s,a)=>{if(e.stopPropagation(),e.preventDefault(),void 0===s&&(!this.shouldHandleDrop(e.target)||""===t))return;const n=e.dataTransfer.getData("text"),r=document.getElementById("drag-img");let i=[],o={},c=0;if(r&&r.parentNode&&r.parentNode.removeChild(r),""===n||!Object(N.isJSONString)(n))return;const d=JSON.parse(n);d&&(o=d.contact),this.state.selectedPills.length>0&&(i=this.state.selectedPills),o&&(o.id||o.email||o.name)&&-1===(c=i.findIndex(({name:e,email:t})=>o.name===e&&o.email===t))&&i.push(o);const l={mKey:j.e.DRAG_CONTACT,sec:j.g.COMPOSE_CONTACTS,actionData:{cnt:i.length,from:d.dragFromField.toUpperCase(),to:t.toUpperCase()}};this.props.dragDropContact({i13nModel:l}),this.handleDragContactAdd(t,i,{side:s,id:a}),d.dragFromField!==t&&this.handleContactRemove(d.dragFromField,i,!0),this.setDragState(!1),this.clearSelectedPills()}),d()(this,"handleDragContactAdd",(e,t=[],{side:s="other",id:a})=>{const n=this.state[e],r=n.filter(e=>!t.find(({name:t,email:s})=>e.name===t&&e.email===s)),i={left:0,right:1,other:n.length+1}[s],o=Math.max(0,r.findIndex(e=>e.id===a)+i),c=r.slice(0,o).concat(t).concat(r.slice(o));this.setState({[e]:c},this.onHeaderChange)}),d()(this,"handleContactRemove",(e,t,s)=>{const a=this.state[e];let n=[];s?(t.forEach(e=>{const t=a.findIndex(({name:t,email:s})=>e.name===t&&e.email===s);a.splice(t,1)}),n=a):n=I()(a,t),this.setState({[e]:n},this.onHeaderChange)}),d()(this,"handleContactEdit",(e,t)=>{var s=this.state[e].map(e=>e.email===t.email?Object.assign({},e,{isEditing:!0}):e);this.setState({[e]:s,isEditing:!0},this.onHeaderChange)}),d()(this,"messageForOption",e=>e.email?this.context.intl.formatMessage(He.select_contact,{email:e.email}):e),d()(this,"toggleExtraRecipients",()=>{const e=Se.FocusableRefs.CC,t=Se.FocusableRefs.TO;this.toggleCcBcc(!this.state.showCcBcc,()=>{this.focus(this.state.showCcBcc?e:t)})}),d()(this,"filterSuggestions",(e=[])=>{if(!e.length)return[];const t=this.state.to.concat(this.state.cc,this.state.bcc).reduce((e,{email:t})=>(e[t]=1,e),Object.create(null));return Object.keys(t).length&&(e=e.filter(({email:e})=>!t[e])),e}),d()(this,"handleContactAdd",(e,t)=>{var s=this.state[e];const a=({email:e,id:t,name:s,createdTime:a})=>{const n={createdTime:a};return e&&(n.email=e),t&&(n.id=t),s&&(n.name=s),n};if(Array.isArray(t)||t.hasOwnProperty("list")){const e=Array.isArray(t)?t:t.list;s=s.concat(e.map(a))}else void 0===s.find(e=>e.email===t.email)&&(s.push(a(t)),this.props.addRecipient({i13nModel:{mKey:j.e.SELECT_CONTACT,sec:j.g.COMPOSE_CONTACTS}}));this.setState({[e]:s},this.onHeaderChange)}),d()(this,"emailPillPopoverDidAppear",e=>{this._popoverReference=e,this.state.isAutosuggestionHidden||this.setState({isAutosuggestionHidden:!0})}),d()(this,"autoSuggestionDropdownWillAppear",()=>{this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null),this.state.isAutosuggestionHidden&&this.setState({isAutosuggestionHidden:!1})}),d()(this,"getRecipientList",()=>{const e=this.state,t=e.to,s=e.cc,a=e.bcc;return Object(N.buildRecipients)([t,s,a])}),d()(this,"getContextFrom",()=>this.state.from.email),d()(this,"handleFromChange",e=>{this.setState({from:e},this.onHeaderChange)});const t=this.props,s=t.from,a=t.to,n=t.cc,r=void 0===n?[]:n,i=t.bcc,o=void 0===i?[]:i,c=t.subject;this.state={from:void 0===s?{}:s,to:void 0===a?[]:a,cc:r,bcc:o,subject:void 0===c?"":c,showCcBcc:!!r.length||!!o.length,xButtonHovered:!1,isDragged:!1,isEditing:!1,selectedPills:[],isAutosuggestionHidden:!1},this.clearPillsCallbacks=[]}componentDidUpdate(){const e=this.props,t=e.composeMode,s=e.cc,a=e.bcc,n=e.csid,r=e.onComposeHeaderDelete,i=e.composeParams,o=e.inputFocus.type,c=void 0===o?Se.FocusableRefs.TO:o,d=this.state[c],l=i&&i[c]&&i[c].length?i[c]:[];this.setState(()=>this.props.composeMode!==t?{showCcBcc:!!s.length||!!a.length}:null,()=>{if(l.length){d.every(({email:e})=>e!==l[0].email)&&this.handleContactAdd(c,l),r({csid:n})}})}handleXButtonHover(e){this.setState({xButtonHovered:e})}handleInputContactAdd(e,t,s=!1){const a=function(e){if(pe.test(e)){let t,s=e.match(pe),a=_e()(s,1)[0];const n=e.replace(a,"").trim();return{email:a=a.substring(1,a.length-1),name:n,title:t=n&&a?`${n} <${a}>`:n||a}}return{email:e,name:e}}(t.trim());s?this.handleContactUpdate(e,{email:a.email,name:a.name}):this.handleContactAdd(e,{email:a.email,name:a.name})}hideEmailHoverCards(e){e&&this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null)}handleFocusChange(e,t){const s=this.props.csid;this.hideEmailHoverCards(t),setTimeout(()=>this.props.updateComposeHeaderFocus({csid:s,inputFocus:{type:e,isFocused:t}}),0)}shouldHandleDrop(e){return this.refs.composeHeaderTop.contains(e)}componentWillUnmount(){this.clearPillsCallbacks.length=0}addContactsToField(e){this.handleContactAdd(this.state.recipientGroup,e)}editContactsToField(e){this.handleContactAdd(this.state.recipientGroup,e)}focus(e){this.refs[e]?this.refs[e].focus():this[e]&&this[e].focus()}componentDidMount(){this.focus(this.props.initialFocus)}toggleCcBcc(e=!1,t=(()=>{})){this.setState({showCcBcc:e},t)}onHeaderChange(){const e=this.state;this.props.onChange({from:e.from,to:e.to,cc:e.cc,bcc:e.bcc,subject:e.subject})}handleContactUpdate(e,t){const s=this.state[e].reduce((e,s)=>s.isEditing?t.email?e.concat(Object.assign({},t)):e:e.concat(s),[]);this.setState({[e]:s,isEditing:!1},this.onHeaderChange)}renderAutoSuggest(e,t,s,a){const n=this.state[e],r=this.props.inputFocus.type===e&&this.props.inputFocus.isFocused,i="message-"+e+"-field",o=this.props[Se.FocusableRefs.TO].length+this.props[Se.FocusableRefs.CC].length+this.props[Se.FocusableRefs.BCC].length;return p.a.createElement(B,{active:r,label:t,childrenId:"compose-header-field-"+e,identifier:e,"data-test-id":`contact-picker-${e}`,addContactsToField:this.handleContactAdd.bind(null,e),onContactContainerClick:this.focus.bind(this,e)},p.a.createElement(Le,{filterSuggestions:this.filterSuggestions,suggestionRef:t=>this[e]=t,id:e,inputId:i,autoBidi:!1,selectedContacts:n,onFocus:this.handleFocusChange.bind(this,e,!0),onInputContactAdd:this.handleInputContactAdd.bind(this,e),onContactRemove:this.handleContactRemove.bind(null,e),onContactAdd:this.handleContactAdd.bind(null,e),onContactEdit:this.handleContactEdit.bind(null,e),isEditing:this.state.isEditing,getMessageForOption:this.messageForOption,showCcBcc:this.state.showCcBcc,handleDrop:(t,s,a)=>this.handleDrop(t,e,s,a),handleDragState:this.setDragState,isDragged:this.state.isDragged,onPillSelection:this.updateSelectedPills,selectedPills:this.state.selectedPills,clearSelectedPills:this.clearSelectedPills,dragDropPill:this.props.dragDropPill,getRecipientList:this.getRecipientList,getContextFrom:this.getContextFrom,composePillCount:o,showSuggestions:!this.state.isAutosuggestionHidden&&r,emailPillPopoverDidAppear:this.emailPillPopoverDidAppear,autoSuggestionDropdownWillAppear:this.autoSuggestionDropdownWillAppear,csid:this.props.csid}),a)}renderCloseButton(e){const t=this.context.intl.formatMessage(He.save_draft_and_close);return p.a.createElement("span",{className:e.xButton},p.a.createElement(O.a,{onClick:this.props.onClose,title:t,"aria-label":t,kind:R.b.CLOSE,colorState:this.state.xButtonHovered?R.a.NORMAL:R.a.DISABLED,size:R.d.XXS}))}renderExtraRecipientBtn(e){if(this.state.cc.length>0||this.state.bcc.length>0)return null;const t=this.context.intl.formatMessage,s=this.props.isBccDisabled,a=t(this.state.showCcBcc?s?He.hide_cc_only_button_label:He.hide_cc_button_label:s?He.show_cc_only_button_label:He.show_cc_button_label);return p.a.createElement(T.a,{ref:Se.FocusableRefs.CCBTN,className:e,tabIndex:-1,onClick:this.toggleExtraRecipients,kind:A.a.CHROMELESS,"data-test-id":"btn-cc"},a)}renderEditSubjectMenu(e){return p.a.createElement(M.a,{className:e.additionalOptionsButtonWrapper},p.a.createElement(D.a,null,p.a.createElement(O.a,{"data-test-id":"additional-compose-options-button",kind:R.b.CHEVRON_UP,rotate:R.c.D180,size:R.d.XS,title:(0,this.context.intl.formatMessage)(He.additional_options)})),p.a.createElement(y.b,{triggerOn:L.i.CLICK,align:L.a.START,offset:2*C.GRID_UNIT},p.a.createElement("div",{className:e.additionalOptionsListWrapper},p.a.createElement(v.a,{kind:P.a.MENU,focusOnMount:!0,"data-test-id":"additional-compose-options-menu"},p.a.createElement("li",null,p.a.createElement(T.a,{"data-test-id":"edit-subject",kind:A.a.MENUITEM,onClick:this.props.onEditSubject},p.a.createElement(g.FormattedMessage,{id:"editSubject",defaultMessage:"Edit subject"})))))))}render(){const e=k()(Ue.a,{"filled-subject":this.state.subject.length>0,isSubjectDisabled:!this.props.canEditSubject}),t=this.props.inputFocus;return p.a.createElement("div",{className:"compose-header "+e.container},this.props.showCloseButton?p.a.createElement("div",{className:e.xButtonWrapper,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},this.renderCloseButton(e)):null,p.a.createElement("div",{"data-test-id":"compose-header-top",className:e.composeHeaderTop,ref:"composeHeaderTop"},this.props.showFrom?p.a.createElement(ke,{hasFocus:t.type===Se.FocusableRefs.FROM&&t.isFocused,"data-test-id":"container-from"},p.a.createElement(V,{active:t.type===Se.FocusableRefs.FROM&&t.isFocused,label:p.a.createElement(g.FormattedMessage,He.from_input_label)},p.a.createElement(ne,{dir:this.props.rtl?"rtl":"ltr",selectLabel:this.context.intl.formatMessage(He.from_input_label),onFocus:this.handleFocusChange.bind(this,Se.FocusableRefs.FROM,!0),onBlur:this.handleFocusChange.bind(this,Se.FocusableRefs.FROM,!1),sendingAccounts:Object(f.c)(this.props.accounts),selected:this.state.from,onChange:this.handleFromChange}))):null,p.a.createElement(ke,{hasFocus:t.type===Se.FocusableRefs.TO&&t.isFocused,"data-test-id":"container-to",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,Se.FocusableRefs.TO)},this.props.canEditSubject?null:this.renderEditSubjectMenu(e),this.renderAutoSuggest(Se.FocusableRefs.TO,p.a.createElement(g.FormattedMessage,He.to_input_label),e),this.renderExtraRecipientBtn(e.extraRecipientsBtn)),this.state.showCcBcc?p.a.createElement("div",null,p.a.createElement(ke,{hasFocus:t.type===Se.FocusableRefs.CC&&t.isFocused,"data-test-id":"container-cc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,Se.FocusableRefs.CC)},p.a.createElement("div",{className:e.ccContainer},this.renderAutoSuggest(Se.FocusableRefs.CC,p.a.createElement(g.FormattedMessage,He.cc_input_label),e))),!this.props.isBccDisabled&&p.a.createElement(ke,{hasFocus:t.type===Se.FocusableRefs.BCC&&t.isFocused,"data-test-id":"container-bcc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,Se.FocusableRefs.BCC)},this.renderAutoSuggest(Se.FocusableRefs.BCC,p.a.createElement(g.FormattedMessage,He.bcc_input_label),e))):null),this.props.showSubject?p.a.createElement("div",{className:e.composeSubject},p.a.createElement(ke,{hasFocus:t.type===Se.FocusableRefs.SUBJECT&&t.isFocused},this.props.canEditSubject||this.props.composeMode!==je.O.Modes.FORWARD?null:this.renderEditSubjectMenu(e),p.a.createElement(b.a,{"data-test-id":"compose-subject",onFocus:this.handleFocusChange.bind(this,Se.FocusableRefs.SUBJECT,!0),onBlur:this.handleFocusChange.bind(this,Se.FocusableRefs.SUBJECT,!1),ref:Se.FocusableRefs.SUBJECT,spellCheck:!0,autoCorrect:"off","aria-label":this.context.intl.formatMessage(He.subject_input_placeholder),className:e.subject,placeholder:this.context.intl.formatMessage(He.subject_input_placeholder),value:this.state.subject,onChange:this.handleSubjectChange,disabled:!this.props.canEditSubject,onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,"")}))):null)}}d()(Be,"contextTypes",{config:_.a.object,intl:g.intlShape.isRequired}),d()(Be,"defaultProps",{subject:"",from:{},to:[],cc:[],bcc:[],inputFocus:{},showSubject:!0,isBccDisabled:!1,canEditSubject:!0,onChange:()=>{}});var Ve=Be,We=s(614),qe=s(164),ze=s(73);const Ke=je.Lb.TAB,Ze=je.Lb.ENTER,Ye=je.Lb.ESCAPE,Xe=je.Lb.ARROW_UP,Qe=je.Lb.ARROW_DOWN,$e=je.Lb.ARROW_LEFT,Je=je.Lb.ARROW_RIGHT,et="+",tt="@";class st{constructor(e){this.args=e,this.TAG_REGEX=/^[\s]*[@+]([^\s\d\W][\w\s]*)$/,this.keyCodeMapper=[Ke,Ze,Ye,Xe,Qe],this.dropdownRef=this.args.dropdownRef,this.activeIndexBeginAt=1,this.lineHeight=20}getEventName(e){return"string"==typeof e?e:e&&e.type}contentChanged(e){if("keydown"===this.getEventName(e)&&this.args.isContactSuggestionVisible()){const t=this.args.getContactSuggestions(),s=this.args.getDropdownActiveIndex();this.keyCodeMapper.indexOf(e.key)>-1?(e.preventDefault(),e.stopPropagation()):[Je,$e].indexOf(e.key)>-1&&this.args.toggleDropdown(!1);const a=t.length;if([Ke,Ze].indexOf(e.key)>-1)this.args.insertContact(t[s-this.activeIndexBeginAt]);else if(e.key===Qe){const e=s+1;this.args.updateActiveIndex(e>a?this.activeIndexBeginAt:e)}else if(e.key===Xe){const e=s-1;this.args.updateActiveIndex(e<this.activeIndexBeginAt?a:e)}else e.key===Ye&&this.args.toggleDropdown(!1)}}onContentMutated(e,t){const s=e.filter(e=>"characterData"===e.type);if(!t.length&&s.length&&this.dropdownRef)try{const e=st.getRangeFromStartToCursor().startContainer,t=e.textContent,s="Firefox"===Object(Ge.a)(window,"AppBootstrapData.browserName","")?t.replace(/<br>/,""):t,a=this.TAG_REGEX.exec(s);if(a&&a.length){const t=e.parentElement.getBoundingClientRect(),s=a[a.length-1];if(1===s.length){this.args.handleAutotagDropdownShown({i13nModel:{interactionType:j.d.keydown,mKey:j.e.AUTOTAG_DROPDOWN_SHOWN,sec:j.g.COMPOSE_MSG}})}const n=this.args.rte.getCaretCoordinates().x,r=this.getOffets(),i=t.top-this.args.rte.element.getBoundingClientRect().top,o=t.height;return this.dropdownRef.style.left=r.left+n+10+"px",this.dropdownRef.style.top=r.top+i+o+"px",void this.args.showContactSuggestion(s)}}catch(e){return}this.args.hideContactSuggestion()}static getRangeFromStartToCursor(){const e=window.getSelection(),t=document.createRange();return t.setStart(e.anchorNode,0),t.setEnd(e.anchorNode,e.anchorOffset),t}getOffets(){const e=this.args,t=e.containerRef,s=e.rte.element.getBoundingClientRect(),a=t.getBoundingClientRect();return{top:s.top-(a.top||0),left:s.left-(a.left||0)}}setDropdownElement(e){this.dropdownRef=e}insertContact(e=""){this.args.rte.restoreCaret(),this.args.rte.focus();const t=st.getRangeFromStartToCursor(),s=t.toString(),a=this.TAG_REGEX.exec(s);let n="";if(a&&a.length&&a.input){n=-1!==a.input.indexOf(et)&&et||-1!==a.input.indexOf(tt)&&tt;try{t.setStart(t.startContainer,a.input.indexOf(n))}catch(e){return void ze.a.error("Should not be inserting contact if it is not prefixed with +/@",e)}t.setEnd(t.endContainer,t.endOffset);const s=window.getSelection();s.removeAllRanges(),s.addRange(t);let r="initial";try{r=window.getComputedStyle(s.anchorNode.parentElement).getPropertyValue("font-size")}catch(e){ze.a.error("Unable to get font size",e)}const i=document.createElement("span");i.innerHTML=this._getHighlightedName(n+e,r),t.deleteContents(),t.insertNode(i),t.setStartAfter(i),t.setEndAfter(i),s.removeAllRanges(),s.addRange(t),t.startContainer.parentElement.style.fontSize=r}}_getHighlightedName(e,t){return`<span style="background-color: #DBEDFE;font-size: ${t}" contenteditable="false" tabIndex="-1">${e}</span>&nbsp;`}}var at=st,nt=s(2);class rt extends p.a.Component{constructor(e){super(e),d()(this,"_onXButtonClick",()=>{this.props.closeAutotagForCurrentSession({i13nModel:{interactionType:j.d.click,mKey:j.e.AUTOTAG_DROPDOWN_CLOSED,sec:j.g.COMPOSE_MSG}}),this._closeAutotag()}),d()(this,"insertContact",e=>{if(e.disabled)return;const t={interactionType:j.d.click,mKey:j.e.AUTOTAG_CONTACT_SELECTED,sec:j.g.COMPOSE_MSG};this.toggleDropdown(!1),this.props.addInlineContactSuggestionToCcField(e),this._autotagPlugin.insertContact(e.name),this.props.handleAutotagContactSelected({i13nModel:t})}),d()(this,"_closeAutotag",()=>{this._dropdownRef&&this.toggleDropdown(!1)}),d()(this,"_handleDropdownRef",e=>{this._dropdownRef=this._dropdownRef||Object(h.findDOMNode)(e),this._autotagPlugin&&this._autotagPlugin.setDropdownElement(this._dropdownRef)}),this.state={contactActiveIndex:1,isContactSuggestionVisible:!1}}componentDidMount(){this.requestContactSuggestions=ie()(this.props.requestContactSuggestions,300,{leading:!0}),window.addEventListener("mousedown",this._closeAutotag)}componentWillReceiveProps(e){if(!this._autotagPlugin&&e.editorReference&&e.editorReference.rte){const t=e.containerRef,s=e.editorReference.rte;this._autotagPlugin=new at({showContactSuggestion:this.showContactSuggestion.bind(this),hideContactSuggestion:this.toggleDropdown.bind(this),handleAutotagDropdownShown:e=>this.props.handleAutotagDropdownShown(e),isContactSuggestionVisible:()=>this.isContactSuggestionVisible(),setEditorState:e=>this.setState(e),updateActiveIndex:e=>this.setState({contactActiveIndex:e}),getContactSuggestions:()=>this.props.contactSuggestions,getDropdownActiveIndex:()=>this.state.contactActiveIndex,wasDropdownClosed:()=>this.props.wasDropdownClosed,insertContact:this.insertContact,toggleDropdown:this.toggleDropdown.bind(this),dropdownRef:this._dropdownRef,containerRef:t,rte:s}),e.editorReference.rte.addPlugin(this._autotagPlugin)}}showContactSuggestion(e=""){e.trim().length>0&&(this.requestContactSuggestions({query:e}),this.toggleDropdown(!0))}toggleDropdown(e=!1){this.state.isContactSuggestionVisible!==e&&this.setState({isContactSuggestionVisible:e,contactActiveIndex:1})}componentWillUnmount(){window.removeEventListener("mousedown",this._closeAutotag)}_getContactOptionItems(e){const t=this.context.intl.formatMessage;return[p.a.createElement(qe.Option,{className:e.relatedContactsContainer,disabled:!0,value:{disabled:!0}},p.a.createElement("span",{className:e.relatedContacts},p.a.createElement(g.FormattedMessage,{id:"autotag_dropdown.add_recipient",defaultMessage:"Add a recipient"})),p.a.createElement("span",{className:e.relatedContactsClose},p.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":"autotag-close-button",kind:R.b.CLOSE,size:R.d.XXS,onMouseDown:this._onXButtonClick,colorState:R.a.FIRST_LEVEL_GRAY,paddingLess:!0,title:t(Oe.close_related_contacts),id:"autotag-close"}))),...this.props.contactSuggestions.map(t=>p.a.createElement(qe.Option,{className:e.typeaheadOption,key:t.id,value:t},p.a.createElement(Ae.a,{option:t,allowContactRemoval:!1})))]}isContactSuggestionVisible(){return!(this.props.wasDropdownClosed||!this.props.contactSuggestions.length||!this.state.isContactSuggestionVisible)}render(){if(!this._autotagPlugin)return null;const e=k()(de.a,{autotag:!0});return p.a.createElement(qe.Dropdown,{ref:this._handleDropdownRef.bind(this),options:this._getContactOptionItems(e),activeIndex:this.state.contactActiveIndex,visible:this.isContactSuggestionVisible(),onMouseDown:this.insertContact,className:e.typeaheadDropDown})}}rt.defaultProps={containerRect:{},wasDropdownClosed:!1},rt.contextTypes={intl:g.intlShape.isRequired};var it=Object(r.connect)((e,t)=>{const s=Object(Ee.b)(e),a=s.getAutotagSuggestions,n=(0,s.getComposeSessionsSelectors)().wasAutotagDropdownClosed;return{contactSuggestions:a(t.csid),wasDropdownClosed:n(t.csid)}},(e,t)=>({requestContactSuggestions:s=>{e(Object(Ie.f)(o()({},s,{csid:t.csid})))},closeAutotagForCurrentSession:s=>{e(Object(Ie.c)(o()({},s,{csid:t.csid})))},handleAutotagDropdownShown:t=>{e(o()({type:nt.hb},t))},handleAutotagContactSelected:t=>{e(o()({type:nt.fb},t))}}),null,{withRef:!0})(rt),ot=s(737),ct=s.n(ot);const dt=k()(ct.a),lt="Files";var ut=class extends p.a.Component{constructor(...e){super(...e),d()(this,"state",{dragOverlayVisible:!1}),d()(this,"handleDragOver",e=>{e.dataTransfer&&Array.prototype.slice.call(e.dataTransfer.types).some(e=>e===lt)&&(this.state.dragOverlayVisible||this.setState({dragOverlayVisible:!0}),e.preventDefault(),e.stopPropagation())}),d()(this,"handleDragLeave",e=>{e.preventDefault(),e.stopPropagation(),this.state.dragOverlayVisible&&this.setState({dragOverlayVisible:!1})}),d()(this,"handleDrop",e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;this.setState({dragOverlayVisible:!1},()=>this.props.onDrop(Array.prototype.slice.call(t)))})}render(){return p.a.createElement("div",{onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,className:dt.attachmentDragContainer},this.props.children,this.state.dragOverlayVisible?p.a.createElement("div",{className:dt.dragOverlay},p.a.createElement("div",{className:dt.dragDescriptionContainer},p.a.createElement(Y.b,{kind:R.b.ATTACH_GENERIC_48,colorState:R.a.ATTACH_GENERIC,size:R.d.L}),p.a.createElement("div",{className:dt.dragTextDescription},p.a.createElement(g.FormattedMessage,{id:"compose.rte_dragdrop_overlay",defaultMessage:"Drag and drop files here"})))):null)}},_t=s(348),mt=s(262),pt=s(176),ht=s(220),gt=s(158),Et=s(17),It=s(10),St=s(122),Ct=s(354),ft=s(100);function Tt(e,{csid:t,files:s,newContentIds:a,i13nModel:n}){e.dispatch(nt.lf,{csid:t,files:s,newContentIds:a,i13nModel:n})}var At=s(189),bt=(s(38),s(254)),Ot=s(750),Rt=s.n(Ot),Nt=s(69),Mt=s(185),Dt=s.n(Mt),yt=s(130),Lt=s(230),vt=s(63),Pt=s(264),Ft=s(567),wt=s(36),kt=s(179),xt=s(25),Ut=s(238),Gt=s.n(Ut);const jt=["font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;","font-size:13px;","color:#26282a;"].join(""),Ht=/^((?:re|fwd?): )*/i,Bt=(e=[])=>{const t={},s=[];return e.forEach(e=>{t[e.email]||(t[e.email]=!0,s.push(e))}),s},Vt=(e,t,{getForwardAttachmentIds:s,getAttachmentById:a})=>{const n=s(e)||[];return n.length&&(t.forwardAttachmentAdded=!0),n.forEach(({id:e})=>{const s=a(e);s.disposition===je.w.Dispositions.ATTACHMENT?t.attachmentsInfo=[...t.attachmentsInfo,s]:t.canApplyDefaultStationery=!1}),t};var Wt=({accounts:e=[],listId:t,csid:s,selectors:a,selectedReplySuggestion:n})=>r=>{const i=(({accounts:e=[],listId:t,csid:s,selectors:a,selectedReplySuggestion:n},r)=>{const i=a.getFeaturesSelectors,c=a.getMrdParams,d=a.getAdsSelectors,l=a.doesComposeSessionExist,u=a.findUnsyncedDataByCsid,_=a.doComposeFromRouteQueryParams,m=a.doComposeFromMailToLink,p=a.getComposeMailToLink,h=a.getDraftMessageId,g=a.getForwardCreativeId,E=a.isReplyOrReplyAll,I=a.getReplyingToMessageId,S=a.getSubjectAndSnippetSelectors,C=a.getMessageFromAddress,f=a.getMessageToAddress,T=a.getMessageCcAddress,A=a.getMessageBccAddress,b=a.getMessageTimeStamp,O=a.doesMessageBodyExist,R=a.getReplyToAddress,M=a.isReplyMessage,D=a.isReplyAllMessage,y=a.isForwardMessage,L=a.isMyEmailAddress,v=a.getAttachmentsByMessageId,P=a.getSignatureByAccountEmail,F=a.getMessageBody,w=a.getStationeryTheme,k=a.getComposeUndoStack,x=a.getComposeRedoStack,U=a.getComposeUiState,G=a.getTimeZoneName,j=a.getComposeSessionsSelectors,H=`${Lt.a}_${s}`,B=i().isEnabled(je.ub.PERSIST_COMPOSE_TEXT_MODE),V={from:Object(N.getFromAddress)(e),to:[],cc:[],bcc:[],subject:"",body:"",canApplyDefaultStationery:!0,stationeryTheme:"",attachmentsInfo:[],htmlAnnotations:[{divIds:[H]}],uiState:{useRichText:!B||i().getSetting(je.zd.USE_RICH_TEXT),isQuotedTextExpanded:!1},undoStack:[],redoStack:[]},W=i("conversations"),q=P(V.from.email),z=w(s);let K="";if(z!==Se.NO_STATIONERY&&(V.stationeryTheme=z),V.stationeryTheme||(V.stationeryTheme=i().getSetting(je.zd.STATIONERY_DEFAULT_THEME)),q&&(K=`<div><br/></div><div><br/></div><div class="signature">${q}</div>`),!l(s))return K&&(V.body+=`<div>${K}</div>`),V;const Z=h(s),Y=S().getSubject,X=u(s);if(X)return V.from=X.from||V.from,V.to=X.to||V.to,V.cc=X.cc||V.cc,V.bcc=X.bcc||V.bcc,V.subject=X.subject||V.subject,V.body=X.html||(X.text?`<div>${Gt()(X.text)}</div>`:V.body),V.canApplyDefaultStationery=!V.body,V.attachmentsInfo=X.attachmentsInfo||V.attachmentsInfo,V.uiState=X.uiState||V.uiState,V.stationeryTheme=X.stationeryTheme||V.stationeryTheme,V.undoStack=X.undoStack||V.undoStack,V.redoStack=X.redoStack||V.redoStack,Vt(s,V,a);if(Z){const n=O(Z)?F(Z):{},r=n.html,i=void 0===r?"":r,o=n.text,c=void 0===o?"":o,d=n.htmlAnnotations,l=void 0===d?[]:d,u=C(Z)||[];return V.from=Object(N.getFromAddress)(e,(u[0]||{}).email),V.to=f(Z),V.cc=T(Z),V.bcc=A(Z),V.subject=Object(vt.m)(Y(Z,t)||""),V.body=i||`<div>${Gt()(c)}</div>`,V.canApplyDefaultStationery=!V.body,V.htmlAnnotations=l,V.attachmentsInfo=v(Z),V.stationeryTheme=w(s)||V.stationeryTheme,V.undoStack=k(s)||[],V.redoStack=x(s)||[],V.uiState=U(s)||V.uiState,Vt(s,V,a)}if(_(s)){const e=c();return V.to=e.initialTo||[],V.cc=e.initialCc||[],V.bcc=e.initialBcc||[],V.subject=e.initialSubject||"",V.body=e.initialBody&&e.initialBody.content||"",V.canApplyDefaultStationery=!V.body,V.stationeryTheme=e.initialStationeryTheme||V.stationeryTheme,V.showGIFPicker=e.showGIFPicker,V.showStationeryPicker=e.showStationeryPicker,V}if(m(s)){const e=Object(Ft.a)(p(s)||"");return o()({},V,{to:(e.to||[]).map(e=>({email:e})),cc:(e.cc||[]).map(e=>({email:e})),bcc:(e.bcc||[]).map(e=>({email:e})),subject:e.subject||"",body:e.body||"",canApplyDefaultStationery:!0})}const Q=r.intl.formatMessage,$=g(s);if($){const e=d().getSponsoredAd($),t=e.nativeAd,s=void 0===t?{}:t,a=e.pencilAd;return V.subject=(void 0===a?{}:a).adHeadline||"",V.body=[`<div><br/></div>\n            <div><br/></div>\n            <div><br/></div>\n            <div style="${jt}">\n                <div>----- ${Q(wt.a.forwarded_message)} -----</div>\n                <div><br/></div>\n                <div>${s.geminiSponsoredAsset||""}</div>\n            </div>`].join(""),V.body+=`<div>${K}</div>`,V.canApplyDefaultStationery=!1,V}Vt(s,V,a);const J=I(s),ee=Object.assign({timeZone:G()},Se.FORMAT_DATE_OPTION);if(J){const a=M(s),o=D(s),c=y(s),d=[...R(J)]||!1,l=C(J)||[],u=Boolean(!!U(s)&&U(s).isQuotedTextExpanded);d.length&&!d.name&&l.length&&d[0].email===l[0].email&&(d[0].name=l[0].name);const _=f(J),m=T(J),p=A(J);if(V.from=Object(N.getFromAddressForReplyForward)(e,{to:_,cc:m,bcc:p}),a||o){const e=-1!==l.findIndex(e=>L(e.email)),t=-1!==d.findIndex(e=>L(e.email));if(a)V.to=e||t?_.slice(0,1):[...d,...l].slice(0,1);else if(o){const s=-1!==_.findIndex(e=>L(e.email)),a=(e||t)&&s?[...d,...l].find(e=>L(e.email)):[];V.to=Bt([..._,...t?[]:d,...d.length||e?[]:l].filter(e=>e.email!==V.from.email).concat(a)),V.cc=Bt([...m].filter(e=>e.email!==V.from.email).filter(e=>!V.to.find(t=>t.email===e.email)))}}const h=Object(vt.m)(Y(J,t)||"");if(h){const e=E(s)?"Re: ":"Fw: ";V.subject=e+h.replace(Ht,"")}const g=r.intl.formatDate(1e3*b(J),ee),I=F(J).html,S=void 0===I?"":I,O=[];if(l.length)if(W&&E(s)){const e=l[0],t=e.name,s=void 0===t?"":t,a=e.email;O.push(`<div>\n                    ${Object(Pt.b)(Q(wt.a.quoted_draft,{date:g,quotedName:s,quotedAddress:a}))}\n                </div>\n                <div><br/></div>\n                <div><br/></div>`)}else O.push(`<div>${Q(wt.a.quoted_message_from,{from:Object(Pt.b)(Object(N.addressHTMLString)(l[0]))})}</div>`),_.length&&O.push(`<div>${Q(wt.a.quoted_message_to,{to:Object(Pt.b)(_.map(N.addressHTMLString).join("; "))})}</div>`),m.length&&O.push(`<div>${Q(wt.a.quoted_message_cc,{cc:Object(Pt.b)(m.map(N.addressHTMLString).join("; "))})}</div>`),O.push(`<div>${Q(wt.a.quoted_message_sentdate,{sentDate:g})}</div>`,`<div>${Q(wt.a.quoted_message_subject,{subject:Gt()(h)})}</div>`,"<div><br/></div>");const P=E(s)?"":`<div>----- ${Q(wt.a.forwarded_message)} -----</div>`,w=W?"":"<hr/>";let k=S;return i().isEnabled(je.ub.CEP_FORWARD)&&c&&!u&&-1===S.indexOf(`<div fwdid=${s} src='mid://${J}'>`)&&(k=[`<div fwdid=${s} src='mid://${J}'>`,S,"</div>"].join("")),V.body=[n?`<div>${n}&nbsp;</div>`:"",`<div>${K}</div>\n        <div><br/></div><div><br/></div>\n        ${w}\n        <div id="${Object(Pt.a)(H)}" class="${Lt.a}">\n            <div style="${jt}">\n                ${P}\n                ${O.join("")}\n                <div>${k}</div>\n            </div>\n        </div>`].join(""),V.canApplyDefaultStationery=!0,V.attachmentsInfo=E(s)?[]:v(J),V}const te=j().getComposeParams(s);return te&&(V.to=te.to||[],V.body=te.body||V.body,V.subject=te.subject||V.subject,V.isDirty=!0),K&&(V.body+=`<div>${K}</div>`),V.stationeryTheme&&z!==Se.NO_STATIONERY&&(V.showStationeryPicker=!0),V})({accounts:e,listId:t,csid:s,selectors:a,selectedReplySuggestion:n},r);return Object(xt.b)()&&(i.body=i.uiState.useRichText?Object(kt.d)(i.body,a):Object(kt.a)(i.body)),i},qt=s(568),zt=s(47),Kt=s(190),Zt=s(110),Yt=s(364),Xt=s(37),Qt=s(127),$t=s(56),Jt=s(84);const es=je.lb.Status,ts=25,ss=26214400,as=40,ns=je.O.Modes,rs=je.w.Dispositions,is={[nt.oc]:Zt.f,[nt.lc]:Zt.c,[nt.pc]:Zt.d},os=()=>{},cs=k()(Rt.a),ds={_data:{},get(e){return this._data[e]||{}},set(e,t={}){this._data[e]||(this._data[e]={}),Object.assign(this._data[e],t)}};class ls extends p.a.Component{constructor(e,t){super(e,t),d()(this,"restoreCursorPosition",(e=!1)=>{const t=ds.get(this.props.csid).cursorPositionDetails,s=t&&t.pathToNode||[],a=t&&t.anchorNodeIndex;if(s.length&&a>-1){let n=null;if(t&&t.cursorWithinQuotedText||!1){if(e){const e=Object(h.findDOMNode)(this.refs.editorContainer).querySelector("[class$=yahoo_quoted]");n=At.a.getNodeFromPath(e,s)}}else n=At.a.getNodeFromPath(this.refs.editor.getRTEWrappedElement(),s);if(n){n.parentNode.scrollIntoView();const e=document.createRange(),t=window.getSelection();return e.setStart(n,a),e.collapse(!0),t.removeAllRanges(),void t.addRange(e)}}}),d()(this,"_updateWidth",()=>{const e=Object(h.findDOMNode)(this.container),t=e&&e.getBoundingClientRect();t&&this.setState({composeWidth:t.width,composeLeft:t.left})}),d()(this,"_restoreScrollPosition",e=>{Object(h.findDOMNode)(this.refs.editorContainer).scrollTop=e}),d()(this,"_handleWindowResize",()=>{this._updateWidth(),this.props.onResize()}),d()(this,"onChange",(e,t={})=>{t.type&&Object(qt.a)(t),t.skipContentChanged||(this.lastEditedTimeStamp=Date.now(),this.props.onChange(o()({},e,{lastEditedTimeStamp:this.lastEditedTimeStamp}),t),this.newContentIds=[])}),d()(this,"handleHeaderChange",e=>{const t=e.to,s=e.cc,a=e.bcc,n=e.subject;this.from=e.from,this.to=t,this.cc=s,this.bcc=a,this.subject=n,this.onChange(this._getUserInputtedValues(),{type:"header_changed"})}),d()(this,"getUnsyncedData",()=>({type:je.re.COMPOSE,id:this.props.csid,userInputtedValues:this._getUserInputtedValues()})),d()(this,"handleEditSubject",()=>{this.lastEditedTimeStamp=Date.now(),this.context.navigateTo({route:Object(Et.g)(this.props.csid),isReplyingMessageSubjectEdited:!0})}),d()(this,"handleEditorContentChange",e=>{const t=e.format,s=e.caret,a=e.type;Object(Ge.e)(this.formatState,t)||(this.formatState=o()({},this.formatState,t)),this.onChange(this._getUserInputtedValues(),e),this.props.onContentChanged({caret:s,type:a})}),d()(this,"_getUserInputtedValues",()=>{const e=this.refs.editor.getUndoStack(),t=this.refs.editor.getRedoStack();return{csid:this.props.csid,from:this.from,to:this.to,cc:this.cc,bcc:this.bcc,subject:this.subject,html:this.refs.editor.getRawMessageContent(),htmlAnnotations:this.htmlAnnotations,attachmentsInfo:this.attachmentsInfo,rawFiles:this.rawFiles,newContentIds:this.newContentIds,lastEditedTimeStamp:this.lastEditedTimeStamp,uiState:this.uiState,stationeryTheme:this.stationeryTheme||Se.NO_STATIONERY,undoStack:e,redoStack:t}}),d()(this,"deleteDraft",()=>{const e=(0,this.props.getAdditionalPayloadForDeleteDraft)(),t=this.getDraftStatus();this.context.executeAction(Ct.b,Object.assign({listId:this.props.listId,csid:this.props.csid,draftStatus:t,permanent:!0,i13nModel:{mKey:j.e.DELETE_DRAFT,sec:j.g.COMPOSE_TOOLBAR,interactionType:j.d.click,mKeyGroup:j.f.delete}},e))}),d()(this,"send",(e={})=>{const t=e.i13nModel,s=e.forcedSend,a=void 0!==s&&s,n=e.includeOriginalAttachments,r=void 0!==n&&n,i=this.props,c=i.getSavedAttachment,d=this.context.intl.locale,l=(0,i.getOriginalAttachments)(i.csid),u=this._getUserInputtedValues(),_=this.props.getDraftErrors(u),m=this.attachmentsInfo.map(e=>c(e));if(_){const e=_.name,t=_.params;is[e]&&this.context.toast({data:t,role:je.Ec.STATUS,message:is[e]})}else if(a||!this.props.shouldShowEmptySubjectAlert(u)){if(a||!this.props.shouldShowIncludeOriginalAttachmentsAlert(u))return m.filter(({filename:e})=>!Object(zt.p)(e)).length?Object(yt.a)(p.a.createElement(pt.a,{title:this.context.intl.formatMessage(wt.a.error_title),message:this.unSupportedAttachmentAlertMessage(),helpLink:Object(je.Ce)(d),onAccept:()=>{},onClose:()=>{}}),this.context):void(()=>{this.props.onSend(o()({includeOriginalAttachments:r},u,{i13nModel:o()({mKey:j.e.SEND,sec:j.g.COMPOSE_TOOLBAR,mKeyGroup:j.f.send},t)}))})();Object(yt.a)(p.a.createElement(ht.a,{title:this.context.intl.formatMessage(wt.a.includeOriginalAttachmentsAlert),message:this.context.intl.formatMessage(wt.a.includeOriginalAttachmentsAlertMsg),primaryButtonLabel:wt.a.includeOriginalAttachmentsAlertYes,secondaryButtonLabel:wt.a.includeOriginalAttachmentsAlertNo,onPrimaryButtonClick:()=>{this.attachmentsInfo=l.concat(this.attachmentsInfo),this.onChange(this._getUserInputtedValues()),this.send({forcedSend:!0,includeOriginalAttachments:!0})},onSecondaryButtonClick:()=>this.send({forcedSend:!0,includeOriginalAttachments:!1}),onClose:()=>{},hideIcon:!0,dataTestId:"include-original-attachment"}),this.context)}else Object(yt.a)(p.a.createElement(ht.a,{title:this.context.intl.formatMessage(wt.a.emptySubjectAlert),primaryButtonLabel:wt.a.emptySubjectAlertSend,secondaryButtonLabel:wt.a.emptySubjectAlertCancel,onPrimaryButtonClick:()=>this.send({forcedSend:!0}),onSecondaryButtonClick:()=>this.focusOnSubject(),onClose:()=>this.focusOnSubject(),hideIcon:!0}),this.context)}),d()(this,"unSupportedAttachmentAlertMessage",()=>{const e=this.context.intl,t=e.locale,s=(0,e.formatMessage)(wt.a.unsupportedFileType);return p.a.createElement("div",null,s,p.a.createElement(T.a,{kind:A.a.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>Object(St.a)(Object(je.Ce)(t))},p.a.createElement("span",{className:cs.button},p.a.createElement(g.FormattedMessage,{id:"alert.learn_more_url",defaultMessage:"Learn more"}))))}),d()(this,"getThemeConfig",()=>Object(Yt.b)(this.stationeryTheme,this.props.stationeryDefaultTheme)),d()(this,"execEditorCommand",(e,t)=>{switch(e){case Se.ToolbarActions.PLAIN_TEXT:this.stationeryTheme=Se.NO_STATIONERY,this.execEditorCommand(Se.ToolbarActions.UPDATE_STATIONERY,null),this.refs.editor.expandQuote(),this.uiState.useRichText=!1,this.forceUpdate();break;case Se.ToolbarActions.RICH_TEXT:this.uiState.useRichText=!0;break;case Se.ToolbarActions.UPDATE_STATIONERY:this.stationeryTheme=t?t.themeName:Se.NO_STATIONERY;break;case Se.ToolbarActions.FONT_NAME:this.formatState=o()({},this.formatState,{fontFamily:t});break;case Se.ToolbarActions.FONT_SIZE:this.formatState=o()({},this.formatState,{fontSize:t})}const s=document.activeElement;if(this.refs.editor.rte.focus(),this.refs.editor.rte.pushButton(e,t),e===Se.ToolbarActions.INSERT_ORDERED_LIST){const e=window.getSelection().focusNode;if(e&&"FONT"===e.nodeName&&e.parentNode&&"LI"===e.parentNode.nodeName){const t=window.getComputedStyle(e).fontFamily,s=window.getComputedStyle(e).fontSize;e.parentNode.style.fontFamily=t,e.parentNode.style.fontSize=s}if(e&&e.parentNode&&"LI"===e.parentNode.nodeName){const t=e.parentNode;window.getComputedStyle(t).fontSize===Jt.c.HUGE&&t.parentNode&&"OL"===t.parentNode.nodeName&&(t.parentNode.style.paddingLeft="1em")}}e===Se.ToolbarActions.UPDATE_STATIONERY&&this.refs.editor.rte.focus(),s.focus()}),d()(this,"handleToolbarAction",(e,t={})=>{const s=t.data,a=t.i13nModel;switch(a&&this.props.handleToolbarActions({i13nModel:a}),e){case Se.ToolbarActions.FILE_SELECT:this.addFileAttachments(s);break;case Se.ToolbarActions.FILE_SELECT_BTN_CLICKED:break;case Se.ToolbarActions.SEND:this.send();break;case Se.ToolbarActions.DELETE_DRAFT:this.deleteDraft();break;case Se.ToolbarActions.CREATE_LINK:this.execEditorCommand(e,"");break;case Se.ToolbarActions.PLAIN_TEXT:return void this._renderPlainTextWarning();case Se.ToolbarActions.RICH_TEXT:return void this._switchToRichText(s);default:this.execEditorCommand(e,s)}}),d()(this,"_renderPlainTextWarning",()=>{const e=this.context.intl.formatMessage;Object(yt.a)(p.a.createElement(ht.a,{title:e(wt.a.switch_to_plain_text_warning_title),message:e(wt.a.switch_to_plain_text_message),primaryButtonLabel:wt.a.switch_to_plain_text_warning_ok,secondaryButtonLabel:wt.a.switch_to_plain_text_warning_cancel,onPrimaryButtonClick:()=>this._switchToPlainText(),onSecondaryButtonClick:os,onClose:os,hideIcon:!0}),this.context)}),d()(this,"_switchToRichText",e=>{this.props.changeSettings({name:je.zd.USE_RICH_TEXT,value:!0}),this.execEditorCommand(Se.ToolbarActions.RICH_TEXT,e)}),d()(this,"_switchToPlainText",()=>{this.props.changeSettings({name:je.zd.USE_RICH_TEXT,value:!1}),this.execEditorCommand(Se.ToolbarActions.PLAIN_TEXT)}),d()(this,"_handleStationeryDefaultThemeChange",e=>{this.props.changeSettings({name:je.zd.STATIONERY_DEFAULT_THEME,value:e}),""===e&&(this.stationeryTheme=Se.NO_STATIONERY)}),d()(this,"handleClose",()=>{this.props.onClose&&this.props.onClose({i13nModel:{mKey:j.e.CANCEL_COMPOSE,sec:j.g.COMPOSE_CLOSE,interactionType:j.d.click}})}),d()(this,"handleDrop",e=>{const t=je.w.Dispositions,s=t.ATTACHMENT,a=t.INLINE,n={[s]:[],[a]:[]};e.forEach(e=>n[Object(N.getAttachmentDisposition)(e)].push(e)),n[s].length&&this.addFileAttachments(n[s]),n[a].length&&this.addInlineAttachments(n[a])}),d()(this,"addAttachments",(e,t,{disposition:s,i13nModel:a})=>{if(!this.isValidAttachmentsSize(e)){const e=this.context.intl.formatMessage(wt.a.bigAttachment,{maxFileSize:ts});return this.props.addBigAttachment(),Object(yt.a)(p.a.createElement(pt.a,{title:this.context.intl.formatMessage(wt.a.error_title),message:e,onAccept:()=>{},onClose:()=>{}}),this.context)}const n=e.map(s===rs.ATTACHMENT?zt.b:zt.a);n.filter(({disposition:e,isFromDataURI:t=!1})=>e===rs.INLINE&&!t).forEach(e=>this.insertInlineAttachment(e)),this.newContentIds=n.map(e=>e.contentId),this.attachmentsInfo=this.attachmentsInfo.concat(n),this.rawFiles=this.newContentIds.reduce((t,s,a)=>o()({},t,{[s]:e[a]}),this.rawFiles),this.onChange(o()({},this._getUserInputtedValues(),{files:e,i13nModel:Object.assign({interactionType:j.d.click},a)}),{type:t,skipContentChanged:"addInlineAttachment"===t})}),d()(this,"addInlineAttachments",e=>{this.uiState.useRichText?this.addAttachments(e,"addInlineAttachment",{disposition:rs.INLINE,i13nModel:{mKey:j.e.COMPOSE_DRAG_ATTACHMENT,sec:j.g.COMPOSE_MSG}}):this.addFileAttachments(e)}),d()(this,"isValidAttachmentsSize",e=>{const t=e.concat(this.attachmentsInfo);return this.getAttachmentSize(t)<=ss}),d()(this,"handleAttachmentFromRecentFiles",e=>{if(!e)return;const t=e;if(!this.isValidAttachmentsSize([t])){const e=this.context.intl.formatMessage(wt.a.bigAttachment,{maxFileSize:ts});return this.props.addBigAttachment(),Object(yt.a)(p.a.createElement(pt.a,{title:this.context.intl.formatMessage(wt.a.error_title),message:e,onAccept:os,onClose:os}),this.context)}if(t.disposition===rs.INLINE)return this.insertInlineAttachment(t),void(this.attachmentsInfo=this.attachmentsInfo.concat(t));this.attachmentsInfo=this.attachmentsInfo.concat(t),this.onChange(o()({},this._getUserInputtedValues(),{files:[t],i13nModel:{mKey:j.e.COMPOSE_ADD_ATTACHMENT,sec:j.g.COMPOSE_ATTACH_FILES_MENU,interactionType:j.d.click}}),{type:"addAttachmentFromRecentFile"}),this.forceUpdate(),setTimeout(()=>{const e=Object(h.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()},0)}),d()(this,"getAttachmentSize",e=>e.length?e.reduce((e,{size:t=0})=>e+t,0):0),d()(this,"moveImageAttachmentInline",e=>{this.attachmentsInfo=this.attachmentsInfo.map(t=>t.contentId===e.contentId?o()({},t,{disposition:rs.INLINE}):t),this.insertInlineAttachment(e),this.onChange(this._getUserInputtedValues(),{type:"attachment_to_inline"}),this.forceUpdate()}),d()(this,"addFileAttachments",e=>{this.addAttachments(e,"addAttachment",{disposition:rs.ATTACHMENT,i13nModel:{mKey:j.e.COMPOSE_ADD_ATTACHMENT,sec:j.g.COMPOSE_TOOLBAR}}),setTimeout(()=>{const e=Object(h.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()},0)}),d()(this,"handleAttachmentRemoval",e=>{this.attachmentsInfo=this.attachmentsInfo.filter(({contentId:t})=>t!==e.contentId),this.onChange(o()({},this._getUserInputtedValues(),{removedContentIds:[e.contentId]}),{type:"attachment_removed"})}),d()(this,"handleInlineAttachmentRemoval",e=>{this.attachmentsInfo=this.attachmentsInfo.filter(({contentId:t,disposition:s})=>!(t===e&&s===rs.INLINE)),this.onChange(o()({},this._getUserInputtedValues(),{removedContentIds:[e]}),{type:Se.EDITOR_EVENTS.inline_image_removed})}),d()(this,"moveInlineAttachmentToTray",(e,t)=>{this.attachmentsInfo=this.attachmentsInfo.map(e=>e.contentId===t?o()({},e,{disposition:rs.ATTACHMENT}):e),this.onChange(this._getUserInputtedValues(),{type:"inlined_attachment_to_tray"})}),d()(this,"handleAttachmentTray",e=>{const t=document.createElement("input");t.type="file",t.multiple=!0,t.id="inputFile",t.click(),t.addEventListener("change",t=>{const s=Array.prototype.slice.call(t.target.files);this.handleAttachmentTrayAdd(s,e)})}),d()(this,"handleAttachmentTrayAdd",(e,t)=>{this.context.executeAction(Tt,{files:e,csid:t,i13nModel:{mKey:j.e.COMPOSE_ADD_ATTACHMENT,sec:j.g.COMPOSE_TOOLBAR,interactionType:j.d.shortcut}})}),d()(this,"getDraftStatus",()=>{if(this.lastEditedTimeStamp)return this.props.getDraftStatus(this._getUserInputtedValues())}),d()(this,"renderEmojiPreloader",()=>p.a.createElement(F.a,{bundleName:"lazy_group2",import:"../emoji_picker/emoji_preloader.jsx",recentlyUsedEmoji:this.props.recentlyUsedEmoji,_moduleLoader:function(){return Promise.all([s.e(0),s.e(4)]).then(s.bind(null,1188))},_moduleResolver:function(){return 1188}})),d()(this,"onMoreMenuClick",()=>{this.props.onMoreMenuClick({i13nModel:{mKey:j.e.COMPOSE_OPEN_MORE_MENU,sec:j.g.RTE_TOOLBAR}})}),d()(this,"handleShortcuts",e=>{e.preventDefault(),e.stopPropagation();const t="Unidentified"===e.key?String.fromCharCode(e.which):e.key,s=e.metaKey||e.ctrlKey;if(s&&e.keyCode===Xt.b.ENTER)this.send({i13nModel:{interactionType:j.d.shortcut}});else if(s&&"S"===t.toUpperCase())this.context.executeAction(Qt.h,{forceSync:!0,i13nModel:{mKey:j.e.MANUAL_SAVE_DRAFT,sec:j.g.COMPOSE_MSG}});else if(e.keyCode===Xt.b.ESCAPE){if(this.props.autotagEnabled&&this._autotag&&this._autotag.isContactSuggestionVisible())return void this._autotag._closeAutotag();if(this.refs.toolbar&&this.refs.toolbar.getWrappedInstance()){const e=this.refs.toolbar.getWrappedInstance().emojiPicker;if(e&&e.state.popoverOpen)return void e.closePicker()}this.props.isQuickReply||this.handleClose()}}),d()(this,"focusOnEditor",()=>{this.refs.editor.rte.focus()}),d()(this,"focusOnSubject",()=>{this.header.focus(Se.FocusableRefs.SUBJECT)}),d()(this,"onGifClick",e=>{const t=this.refs.editor,s=(void 0===t?{}:t).rte;s&&At.a.insertGif(s,this.context.intl.formatMessage,e)}),d()(this,"addEmoji",e=>{const t=this.refs.editor,s=(void 0===t?{}:t).rte;s&&At.a.insertEmoji(s,this.context.intl.formatMessage,e)}),d()(this,"insertInlineAttachment",e=>{const t=this.refs.editor,s=(void 0===t?{}:t).rte;s&&At.a.insertInlineAttachment(s,this.context.intl.formatMessage,e)}),d()(this,"insertLink",e=>{const t=this.refs.editor,s=(void 0===t?{}:t).rte;s&&At.a.insertLink(s,e)}),d()(this,"getAttachments",()=>{const e=this.props.getSavedAttachment;return this.attachmentsInfo.map(t=>e(t))}),d()(this,"previewAttachment",(e,t,s,a=!1)=>{if(!e)return;const n=this.props,r=n.routeName,i=n.draftFolderId,o=n.isFreshCompose,c=n.previewPaneSetting,d=n.routeQuery,l=n.csid,u=(0,n.getComposeMessageGroupId)()||s;if(!u)return;const _=Object(It.v)(i),m=o&&r!==je.gd.SEARCH||!Object(It.Q)(this.props.listId)?_:this.props.listId,p=d.messagePreview||c!==je.Rc.NO&&-1!==[je.gd.FOLDER,je.gd.BASE,je.gd.SEARCH].indexOf(r),h=Object.assign({},r===je.gd.NEW_DRAFT?{newCompose:"1"}:null,p?{messagePreview:"1"}:null,a?{fullscreen:"1"}:null),g=Object(Et.e)(m,u,e,h,a?l:null);this.context.navigateTo({route:g,i13nModel:{mKey:j.e.OPEN_DOC_PREVIEW,sec:a?j.g.COMPOSE_ATTACH_FILES_MENU:j.g.ATTM_PREVIEW,interactionType:t}})}),d()(this,"addInlineContactSuggestionToCcField",e=>{let t=Se.FocusableRefs.TO;this.props.isFreshCompose||(this.header.toggleCcBcc(!0),t=Se.FocusableRefs.CC),this.header.handleContactAdd(t,e)}),d()(this,"handleEditorFocus",()=>{this.header&&this.header.hideEmailHoverCards(!0)}),d()(this,"moveCursorToSmartReplyLine",()=>{const e=Object(h.findDOMNode)(this.refs.editorContainer),t=e?e.querySelector("[class$=yahoo-style-wrap]"):null;if(t)for(const e of t.childNodes)if(e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE){const t=document.createRange(),s=window.getSelection();return t.setStart(e.firstChild,e.firstChild.length),t.collapse(!0),s.removeAllRanges(),void s.addRange(t)}});const a=e.composeFontSize,n=e.composeFontFamily,r=e.isQuotedTextExpanded,i=e.attachmentsToForward,c=e.isPersistComposeTextModeEnabled,l=e.isRichTextModeEnabled,u=e.getContent(t),_=u.to,m=u.cc,E=u.bcc,I=u.subject,C=void 0===I?"":I,f=u.body,b=void 0===f?"":f,O=u.canApplyDefaultStationery,R=void 0!==O&&O,M=u.htmlAnnotations,D=void 0===M?[]:M,y=u.attachmentsInfo,L=void 0===y?[]:y,v=u.stationeryTheme,P=void 0===v?"":v,w=u.showGIFPicker,k=void 0!==w&&w,x=u.showStationeryPicker,U=void 0!==x&&x,G=u.uiState,H=void 0===G?{useRichText:!c||l,isQuotedTextExpanded:r}:G,B=u.undoStack,V=void 0===B?[]:B,W=u.redoStack,q=void 0===W?[]:W,z=u.forwardAttachmentAdded,K=void 0!==z&&z,Z=u.isDirty,Y=void 0!==Z&&Z;this.from=u.from,this.to=_,this.cc=m,this.bcc=E,this.subject=C,this.content=b,this.forwardAttachmentAdded=K,this.canApplyDefaultStationery=!i.length&&R,this.htmlAnnotations=D,this.attachmentsInfo=L.concat(i.map(({attachment:e})=>e)),this.rawFiles={},this.newContentIds=[],this.isDirty=Y,this.forwardAttachments=i,this.stationeryTheme=P,this.showGIFPicker=k,this.showStationeryPicker=U,this.formatState={foreColor:S.a.DEFAULTS.FG_COLOR,backgroundColor:S.a.DEFAULTS.BG_COLOR,fontSize:a||"0",fontFamily:n||""},this.uiState=H,this.undoStack=V,this.redoStack=q,this.uiState.useRichText||(this.content=Object(bt.formatPlaintextForDisplay)(this.content)),this.state={imgHoverMenuVisible:!1,composeWidth:null,composeLeft:null,unsupportedFileTypeAlert:!1}}componentDidMount(){const e=this.props,t=e.csid,s=e.isSendFailed,a=e.attachmentsToForward,n=e.onAttachmentForwarded,r=ds.get(t).scrollPosition;(s(t)||this.forwardAttachmentAdded||this.isDirty)&&(this.lastEditedTimeStamp=Date.now()),this.mousetrap=this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts,this.container),void 0!==r&&this._restoreScrollPosition(r),this._updateWidth(),this._handleWindowResize=Dt()(this._handleWindowResize,as),window.addEventListener("resize",this._handleWindowResize),a.length&&(a.forEach(({attachment:e})=>this.insertInlineAttachment(e)),n(t)),this.props.replySuggestion&&this.moveCursorToSmartReplyLine(),this.restoreCursorPosition(!1)}componentDidUpdate(e){e.hasAttachmentPreview!==this.props.hasAttachmentPreview&&this._handleWindowResize(),e.widthChanged!==this.props.widthChanged&&this._updateWidth(),e.composeFontFamily===this.props.composeFontFamily&&e.composeFontSize===this.props.composeFontSize||(this.formatState=o()({},this.formatState,{fontSize:this.props.composeFontSize||"0",fontFamily:this.props.composeFontFamily||""})),e.replySuggestion!==this.props.replySuggestion&&this.moveCursorToSmartReplyLine();const t=this.getDraftStatus();this.props.csid===e.csid&&t===es.SENT&&this.props.onSendSuccess&&this.props.onSendSuccess()}componentWillUnmount(){const e=Object(h.findDOMNode)(this.refs.editorContainer),t=e.scrollTop,s=this.refs.editor.getRTEDOMNode();s.normalize();const a=window.getSelection().anchorNode;let n=[],r=null,i=!1;if(s.contains(a)){r=window.getSelection().getRangeAt(0).startOffset;const t=e.querySelector("[class$=yahoo_quoted]");t&&t.contains(a)?(n=At.a.getPathToNode(t,a),i=!0):n=At.a.getPathToNode(this.refs.editor.getRTEWrappedElement()||s,a)}this.context.unbindShortcut(this.props.listenKeys,this.mousetrap),ds.set(this.props.csid,{scrollPosition:t,cursorPositionDetails:{pathToNode:n,anchorNodeIndex:r,cursorWithinQuotedText:i}}),clearInterval(this.saveInterval),window.removeEventListener("resize",this._handleWindowResize)}render(){const e=this.props,t=e.accounts,s=e.getComposeFieldToFocus,a=e.composeFontFamily,n=e.composeFontSize,r=e.conversations,i=e.csid,o=e.dragDropPill,c=e.emoji,d=e.gif,l=e.inlineAttachment,u=e.isBccDisabled,_=e.canEditSubject,m=e.isQuotedTextExpanded,h=e.onExpandQuotedText,g=e.linkEnhancer,E=e.linkEnhancerUrlBlacklist,I=e.enhancedLinks,S=e.preloadEmoji,C=e.autotagEnabled,f=e.refToComposeContainer,T=e.refToComposeHeader,A=e.showCloseButton,b=e.showEmojiCue,O=e.showFrom,R=e.showStationeryCue,N=e.showSubject,M=e.simpleCompose,D=e.stationery,y=e.stationeryDefaultTheme,L=e.stationeryRestrictedThemes,v=e.toolbarFixed,P=e.uploadEnabled,F=e.cepForward,w=e.isFreshCompose,k=e.composeMode,x=e.addRecipient,U=e.dragDropContact,G=e.composeParams,j=e.onComposeHeaderDelete,H=e.inputFocus,B=e.updateComposeHeaderFocus,V=this.getDraftStatus(),W=this.props.lastSavedTime||0,q=this.context.intl.formatMessage,z=F?m||k!==ns.FORWARD&&!r:k===ns.FORWARD||!r,K=V!==es.SENDING,Z=this.to,Y=this.cc,X=s(i),Q=this.attachmentsInfo,$=ds.get(i).cursorPositionDetails,J=$&&$.cursorWithinQuotedText||!1;return p.a.createElement(Kt.a,{getUnsyncedData:this.getUnsyncedData},p.a.createElement("div",{"data-test-id":"compose",role:"main","aria-label":q(wt.a.compose_view),ref:e=>{this.container=e,f(e)},className:cs.compose},S?this.renderEmojiPreloader():null,C&&p.a.createElement(it,{addInlineContactSuggestionToCcField:this.addInlineContactSuggestionToCcField,editorReference:this.refs.editor,csid:this.props.csid,containerRef:this.container,ref:e=>{e&&(this._autotag=e.getWrappedInstance())}}),p.a.createElement(Ve,{ref:e=>{this.header=e,T(e)},dragDropPill:o,composeMode:k,onChange:this.handleHeaderChange,onEditSubject:this.handleEditSubject,onClose:this.handleClose,showSubject:N,showFrom:O,showCloseButton:A,from:this.from,composeParams:G,to:Z,cc:Y,bcc:this.bcc,subject:this.subject,csid:i,accounts:t,initialFocus:X,isBccDisabled:u,canEditSubject:_,addRecipient:x,dragDropContact:U,onComposeHeaderDelete:j,inputFocus:H,updateComposeHeaderFocus:B}),p.a.createElement(ut,{onDrop:this.handleDrop},p.a.createElement("div",{className:cs.editorContainer,ref:"editorContainer","data-test-id":"compose-editor-container"},p.a.createElement(We.a,{onFocus:this.handleEditorFocus,restoreCursorPosition:this.restoreCursorPosition,ariaLabel:q(wt.a.message_body),autoExpandQuotedText:z,onExpandQuotedText:h,cepForward:F,getAttachments:this.getAttachments,composeFontFamily:a,composeFontSize:n,content:this.content,canApplyDefaultStationery:this.canApplyDefaultStationery,contentEditable:K,csid:i,cursorWithinQuotedText:J,htmlAnnotations:this.htmlAnnotations,initialFocus:X===Se.FocusableRefs.EDITOR,inlineAttachment:l,linkEnhancer:g,linkEnhancerUrlBlacklist:E,enhancedLinks:I,onAttachmentShortcut:this.handleAttachmentTray,onContentChange:this.handleEditorContentChange,onImagePaste:this.addInlineAttachments,onImageRemove:this.handleInlineAttachmentRemoval,onKeyDown:this.handleEditorKeyDown,onSendAsAttachment:this.moveInlineAttachmentToTray,onStationeryDefaultThemeChange:this._handleStationeryDefaultThemeChange,onStationeryThemeChange:this.handleToolbarAction.bind(this,Se.ToolbarActions.UPDATE_STATIONERY),ref:Se.FocusableRefs.EDITOR,scrollableAreaRef:this.refs.editorContainer,stationery:D,getThemeConfig:this.getThemeConfig,undoStack:this.undoStack,redoStack:this.redoStack,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom,selectedReplySuggestion:this.props.replySuggestion}),Q.length?p.a.createElement(mt.a,{ref:e=>this._attachmentTray=e,onAttachmentRemove:this.handleAttachmentRemoval,onAttachmentPreview:this.previewAttachment,readOnly:!1,allowDownload:!0,onSendAsInlineImage:this.moveImageAttachmentInline,richTextMode:this.uiState.useRichText,getAttachments:this.getAttachments,csid:i}):null),p.a.createElement(_t.a,{getDraftStatus:this.getDraftStatus,useRichText:this.uiState.useRichText,ref:"toolbar",showDeleteButton:!M,lastDraftSavedTime:W,formatState:this.formatState,onExecuteAction:this.handleToolbarAction,uploadEnabled:P,focusOnEditor:this.focusOnEditor,fixed:v,width:this.state.composeWidth,left:this.state.composeLeft,showStationeryCue:R&&k===ns.NEW,showEmojiCue:b&&k===ns.NEW,isFreshCompose:w,stationeryDefaultTheme:y,stationeryTheme:this.stationeryTheme,stationeryEnabled:D,gifFinderEnabled:d,csid:i,addEmoji:this.addEmoji,insertLink:this.insertLink,onMoreMenuClick:this.onMoreMenuClick,emojiEnabled:c,stationeryRestrictedThemes:L,onGifClick:this.onGifClick,showGIFPicker:this.showGIFPicker,showStationeryPicker:this.showStationeryPicker,handleAttachmentFromRecentFiles:this.handleAttachmentFromRecentFiles,previewAttachment:this.previewAttachment}))))}}d()(ls,"contextTypes",{executeAction:_.a.func,intl:g.intlShape.isRequired,config:_.a.object,navigateTo:_.a.func,toast:_.a.func,bindShortcut:_.a.func,unbindShortcut:_.a.func,getTheme:_.a.func,getStore:_.a.func}),d()(ls,"defaultProps",{showSubject:!0,getDraftStatus:os,getComposeFieldToFocus:os,refToComposeContainer:os,refToComposeHeader:os,onChange:os,onSend:os,onMoreMenuClick:os,onExpandQuotedText:os,isQuotedTextExpanded:!1,handleToolbarActions:os,getComposeMessageGroupId:()=>void 0,getDraftFolderIdForPrimaryAccount:()=>void 0,shouldShowIncludeOriginalAttachmentsAlert:()=>!1,shouldShowEmptySubjectAlert:()=>!1,getContent:os,cepForward:!1,simpleCompose:!1,showFrom:!1,showCloseButton:!0,isQuickReply:!1,showDeleteButton:!0,styles:{},onContentChanged:os,toolbarFixed:!1,onResize:os,isBccDisabled:!1,canEditSubject:!0,widthChanged:0,onContactAdd:()=>{},onContactRemove:()=>{},onMultipleContactsAdd:()=>{},getSavedAttachment:e=>e,isSendFailed:()=>!1,listenKeys:[],attachmentsToForward:[],addBigAttachment:os});const us=({csid:e,selectors:t})=>s=>{if(Object(N.hasInvalidComposeField)(s))return!1;const a=t.isReplyOrReplyAll,n=t.hasNonInlineAttachmentsByMessageId,r=t.getReplyingToMessageId,i=t.getMessageFromAddress,o=t.getMessageToAddress,c=t.getMessageCcAddress;if(!(0,t.doesComposeSessionExist)(e)||!a(e))return!1;const d=r(e),l=s.to,u=void 0===l?[]:l,_=s.cc,m=void 0===_?[]:_,p=s.attachmentsInfo;if((void 0===p?[]:p).some(e=>e.disposition===rs.ATTACHMENT))return!1;if(!n(d))return!1;const h=Object(N.buildRecipients)([u,m]),g=Object(N.buildRecipients)([o(d),c(d),i(d)]),E=I()(h,g);return Boolean(E.length)},_s=({csid:e,selectors:t})=>s=>{const a=Object(N.hasInvalidComposeField)(s),n=s.subject,r=t.isReplyOrReplyAll,i=t.isForwardMessage;return!a&&(!(!(0,t.doesComposeSessionExist)(e)||r(e)&&!i(e))&&Boolean(!n||!n.trim().length))};var ms=Object(l.compose)(Object(r.connect)((e,{csid:t,listId:s,accounts:a,initialShowSubject:n=!1,canEditSubject:r=!0,composeMode:i})=>{const c=Object(Ee.b)(e),d=c.getRoute,l=c.isComposeSaveDue,u=c.getComposeUiState,_=c.getComposeFieldToFocus,m=c.getAttachmentByContentId,p=c.getDraftErrors,h=c.getDraftStatus,g=c.isSendRequested,E=c.getGroupIdContainingMessageId,I=c.getComposeSessionsSelectors,S=c.isReplyOrReplyAll,C=c.isForwardMessage,f=c.getDraftMessageId,T=c.getAttachmentsByMessageId,A=c.getMainStreamListIds,b=c.getLinkEnhancerSelectors,O=c.getComposeParams,R=c.getComposeHeaderFocus,N=c.getSelectedAccountId,M=c.getDraftFolderIdByAccountId,D=c.getForwardAttachmentIds,y=c.getAttachmentById,L=(0,c.getFeaturesSelectors)(),v=L.isEnabled,P=L.getSetting,F=I(),w=F.getInReplyToMessageId,k=F.getInReplyAllToMessageId,x=F.getLastSaveTimeStamp,U=F.isSendFailed,G=F.getSelectedReplySuggestion,j=d(),H=j.name,B=j.query,V=D(t)||[],W=n||r,q=v("conversations"),z=v(je.ub.CEP_FORWARD),K=P(je.ub.INLINE_ATTACHMENT),Z=v(je.zd.STATIONERY_RESTRICTED_THEMES),Y=P(je.zd.LINK_ENHANCER_URL_BLACK_LIST),X=b().getEnhancedLinks(),Q=v(je.ub.RTL),$=v(je.ub.EMOJI),J=v(je.ub.PRELOAD_EMOJI),ee=v(je.ub.GIF),te=v(je.ub.STATIONERY),se=v(je.ub.RECENTLY_USED_EMOJI),ae=v(je.ub.PERSIST_COMPOSE_TEXT_MODE),ne=P(je.zd.USE_RICH_TEXT),re=()=>{const e=f(t);return e?E(e):void 0},ie=x(t),oe=M(N()),ce=V.reverse().map(({id:e,timestamp:t})=>({id:e,timestamp:t,attachment:y(e)})).filter(({attachment:e})=>e.disposition===rs.INLINE);return{cepForward:z,getDraftErrors:p,forwardAttachmentIds:V,getContent:Wt({accounts:a,csid:t,listId:s,selectors:c,selectedReplySuggestion:G(t)}),replySuggestion:G(t),shouldShowIncludeOriginalAttachmentsAlert:us({csid:t,selectors:c}),shouldShowEmptySubjectAlert:_s({csid:t,selectors:c}),showSubject:W,getComposeFieldToFocus:()=>_(t),dragDropPill:v("dragDropPill"),conversations:q,isSaveDue:l,isSendFailed:U,isSendRequested:g,isQuotedTextExpanded:Boolean(!!u(t)&&u(t).isQuotedTextExpanded),getDraftStatus:e=>h(e),inlineAttachment:K,stationeryRestrictedThemes:Z,linkEnhancerUrlBlacklist:Y,enhancedLinks:X,rtl:Q,getSavedAttachment:e=>{const t=m(e.contentId);return t?o()({},e,t,{disposition:e.disposition}):e},emoji:$,preloadEmoji:J,gif:ee,stationery:te,recentlyUsedEmoji:se,showStationeryCue:v(je.ub.STATIONERY_CUE),showEmojiCue:v(je.ub.EMOJI_CUE),autotagEnabled:v(je.ub.AUTOTAG),stationeryDefaultTheme:P(je.zd.STATIONERY_DEFAULT_THEME),listenKeys:["ctrl+s","command+s","ctrl+enter","command+enter","escape"],getAdditionalPayloadForDeleteDraft:()=>{const e=f(t),a=re();return{streamId:Object($t.a)(A(d())),messageGroupIds:a?[a]:[],streamItem:{id:a,listId:s,messageIds:e?[e]:[]},messageIds:e?[e]:[]}},getComposeMessageGroupId:re,routeName:H,isFreshCompose:!(S(t)||C(t)),composeMode:i,getOriginalAttachments:e=>{const t=w(e)||k(e);return t?T(t):[]},lastSavedTime:ie,attachmentsToForward:ce,composeParams:O(t),inputFocus:R(t),draftFolderId:oe,routeQuery:B,previewPaneSetting:P(je.zd.PREVIEW_PANE),isPersistComposeTextModeEnabled:ae,isRichTextModeEnabled:ne}}),Object(r.connect)(void 0,(e,{isSaveDue:t,isSendRequested:s})=>({onMoreMenuClick:t=>e(ft.q(t)),handleToolbarActions:t=>e(ft.h(t)),onChange:s=>t(s)&&e(ft.l(s)),onSend:t=>!s(t.csid)&&e(ft.o(t)),onExpandQuotedText:t=>e(ft.g(t)),linkEnhancerFetch:t=>e(gt.a(t)),onLinkEnhancerlinkRemoved:t=>e(gt.g(t)),onLinkEnhancerlinkMoveToInline:t=>e(gt.f(t)),onLinkEnhancerlinkAdded:t=>e(gt.d(t)),onLinkEnhancerlinkResized:t=>e(gt.h(t)),onLinkEnhancerlinkMoveToBottom:t=>e(gt.e(t)),addRecipient:t=>e(ft.c(t)),dragDropContact:t=>e(ft.f(t)),onComposeHeaderDelete:t=>e(ft.e(t)),changeSettings:t=>e(Object(Nt.b)(t)),updateComposeHeaderFocus:t=>e(ft.r(t)),onAttachmentForwarded:t=>e(ft.d(t)),addBigAttachment:()=>e(ft.a())})))(ls),ps=s(751),hs=s.n(ps),gs=s(216),Es=s(91);const Is=k()(hs.a);function Ss(e){(0,e.previewMessage)({listId:e.listId,messageIds:[e.messageId]})}function Cs(e){const t=e.listId,s=e.messageId;return p.a.createElement("div",{"data-test-id":"compose",className:Is.errorContainer},s?function(){return p.a.createElement(gs.a,{expanded:!0,expandable:!1})}():null,t&&s?function(e){return p.a.createElement("span",{className:Is.errorWrapper},p.a.createElement(Y.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.S,colorState:R.a.COOL_FAINT}),p.a.createElement("span",{"data-test-id":"compose-app-error",className:Is.errorMessage},p.a.createElement(g.FormattedMessage,{id:"compose.draft_error_message_retry",defaultMessage:"We couldn't load this draft. {retry}",values:{retry:p.a.createElement("a",{className:Is.emptyBodyRetry,onClick:Ss.bind(null,e),"data-test-id":"body-error-retry"},p.a.createElement(g.FormattedMessage,{id:"compose.retry_message",defaultMessage:"Retry!"}))}})))}(e):function(){return p.a.createElement("span",{className:Is.errorWrapper},p.a.createElement(Y.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.S,colorState:R.a.COOL_FAINT}),p.a.createElement("span",{"data-test-id":"compose-app-error",className:Is.errorMessage},p.a.createElement(g.FormattedMessage,{id:"compose.draft_error_message_noretry",defaultMessage:"We couldn't load this draft."})))}())}var fs=Object(r.connect)(void 0,e=>({previewMessage:t=>e(Object(Es.i)(t))}))(Cs),Ts=s(54),As=s(753),bs=s.n(As),Os=s(49);const Rs=je.O.Modes,Ns=k()(bs.a);function Ms(e){const t=e.csid,s=e.composeDataState,a=e.composeMode,r=e.onClose;if(-1!==[je.bd.LOADING,je.bd.DOES_NOT_EXIST].indexOf(s))return p.a.createElement("div",{className:Ns.loadingContainer},p.a.createElement(Ts.b,null));if(s===je.bd.ERROR)return p.a.createElement(fs,e);const i=`${t}-${a}`;return p.a.createElement(ms,n()({key:i},e,{csid:t,composeMode:a,onSendSuccess:r}))}t.a=Object(r.connect)((e,t)=>{const s=Object(Ee.b)(e),a=s.doesComposeSessionExist,n=s.getDraftMessageId,r=s.getReplyingToMessageId,i=s.isSecureMessage,o=s.doesMessageFullBodyExist,c=s.doesMessageBodyHasError,d=s.isReplyMessage,l=s.isReplyAllMessage,u=s.isForwardMessage,_=s.getCurrentListId,m=s.getFeaturesSelectors,p=s.getEnvironmentSelectors,h=s.getTimeZoneName,g=s.getSelectedAccountId,E=s.getSendAccountsByAccountId,I=s.hasMultipleRootAccounts,S=s.getLastEditedTimestampForCompose,C=(0,s.getRoute)(),f=C.params;let T=void 0,A=je.bd.DOES_NOT_EXIST,b=Rs.NEW;if(-1!==[je.gd.NEW_DRAFT,je.gd.EDIT_DRAFT].indexOf(C.name)&&(T=f.csid),!(T=T||t.csid)||!a(T))return{csid:T,composeDataState:T?je.bd.DOES_NOT_EXIST:je.bd.ERROR,composeMode:b};const O=m(),R=p(),N=g(),M=E(N);A=je.bd.LOADED;const D=n(T)||r(T);return D&&!S(T)&&(o(D)&&!i(D)||(A=je.bd.LOADING),c(D)&&(A=je.bd.ERROR)),d(T)&&(b=Rs.REPLY),l(T)&&(b=Rs.REPLY_ALL),u(T)&&(b=Rs.FORWARD),{csid:T,listId:_(),composeDataState:A,composeMode:b,accountId:N,accounts:M,showFrom:I()||M.length>1,dateFormattingOption:{timezone:h(),offset:0},isXobnified:R.getIsXobnified(),saveInterval:O.getSetting(je.zd.COMPOSE_SAVE_INTERVAL),richTextMode:O.isEnabled("rteFormattingToolbar"),linkEnhancer:O.isEnabled(je.zd.LINK_ENHANCR),composeFontFamily:O.getSetting(je.zd.COMPOSE_FONT_FAMILY),composeFontSize:O.getSetting(je.zd.COMPOSE_FONT_SIZE)}},e=>({onClose:t=>e(Object(Os.c)(t))}))(Ms)},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(6),l=s(64),u=s(107),_=s(38),m=s(132),p=s(9),h=s(0),g=s(44),E=s(13),I=s.n(E),S=s(684),C=s.n(S),f=s(45),T=s(173),A=s(687),b=s.n(A);const O=Object(d.defineMessages)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"}});class R extends c.a.PureComponent{render(){const e=this.props,t=e.logoUrl,s=e.useThirdGenerationLogo,a=this.context.intl.formatMessage,n=I()(b.a,{useThirdGenerationLogo:s});return c.a.createElement("div",{className:n.head},c.a.createElement("img",{alt:a(O["launch.error.banner.alt.text"]),src:Object(f.a)("/img/banner_bg.jpg"),className:n.ribbon}),c.a.createElement("img",{alt:a(T.a.mailBrandName),src:t||Object(f.a)("/img/yahoo_mail_global_english_white_1x.png"),className:n.logo}),c.a.createElement("div",{className:n.headerText},a(T.a.mailBrandName)))}}n()(R,"contextTypes",{intl:d.intlShape.isRequired});var N=R,M=s(16),D=s(688),y=s.n(D),L=s(5),v=s(112);const P=I()(y.a);var F=({leftRailSelection:e})=>c.a.createElement("div",{className:P.leftRailItemsContainer},c.a.createElement("button",{className:P.link,disabled:!0},c.a.createElement(d.FormattedMessage,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&c.a.createElement("div",{className:P.accountslist,"data-test-id":"known-imap-provider"},c.a.createElement("div",{className:P.accountsListItem,"data-test-id":"imap-provider-name"},e),c.a.createElement("div",{className:P.moreIcon},c.a.createElement("span",{className:P.iconContainer},c.a.createElement(M.b,{kind:L.b.MORE,size:L.d.XXXS,colorState:L.a.SECOND_LEVEL_GRAY})))),c.a.createElement("ul",{className:P.folderList},Object(v.d)(9).map(e=>c.a.createElement("li",{key:e,className:P.listItem},c.a.createElement("div",{className:P.folderName,style:{width:`${e%3*10+28}px`}})))),c.a.createElement("div",{className:P.header},c.a.createElement("div",{className:P.folderName,style:{width:"41px"}}),c.a.createElement("div",{className:P.folderNameRight,style:{width:"25px"}})),c.a.createElement("ul",{className:P.list},[L.b.TAB_IMAGES,L.b.DOCUMENTS_S,L.b.CAL_MAYBE].map((e,t)=>{const s=`${t%3*10+28}px`;return c.a.createElement("li",{key:e,className:P.listItem},c.a.createElement(M.b,{kind:e,size:L.d.XS,colorState:L.a.THIRD_LEVEL_GRAY}),c.a.createElement("div",{className:P.folderName,style:{width:s}}))})));const w=I()(C.a);class k extends c.a.PureComponent{render(){const e=this.props,t=e.leftRailSelection,s=e.renderMainContent;return c.a.createElement("table",{className:w.mainBody,"data-test-id":e.dataTestId},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:w.headerContainer},c.a.createElement(N,{logoUrl:e.logoUrl,isRTL:e.isRTL,useThirdGenerationLogo:e.useThirdGenerationLogo}))),c.a.createElement("tr",null,c.a.createElement("td",{className:w.leftRailContainer},c.a.createElement(F,{leftRailSelection:t})),c.a.createElement("td",{className:w.contentContainer,id:"dt-content"},s()),c.a.createElement("td",{className:w.rightRailContainer}))))}}n()(k,"defaultProps",{dataTestId:"mail-app-dt-skeleton-id",renderMainContent:()=>{}});var x=k,U=s(361),G=s.n(U),j=s(25);const H=I()(G.a),B=Object(d.defineMessages)({wrong_mailbox_state_default_header:{id:"wrong_mailbox_state_default_header",defaultMessage:"We're having trouble accessing your mailbox"},wrong_mailbox_state_default_msg:{id:"wrong_mailbox_state_default_msg",defaultMessage:"If you continue to experience issues, please contact {customercare}"},wrong_mailbox_state_customercare:{id:"wrong_mailbox_state_customercare",defaultMessage:"customer care"},wrong_mailbox_state_default_cta:{id:"wrong_mailbox_state_default_cta",defaultMessage:"Try again"},wrong_mailbox_state_maintenance_header:{id:"wrong_mailbox_state_maintenance_header",defaultMessage:"Your new mailbox is on the way!"},wrong_mailbox_state_deleted_header:{id:"wrong_mailbox_state_deleted_header",defaultMessage:"Setting up your mailbox"},wrong_mailbox_state_deleted_msg:{id:"wrong_mailbox_state_deleted_msg",defaultMessage:"A fresh mailbox is being created, since the old one was inactive for more than 12 months."},wrong_mailbox_state_maintenance_msg:{id:"wrong_mailbox_state_maintenance_msg",defaultMessage:"Were just putting the finishing touches on it."},wrong_mailbox_state_maintenance_cta:{id:"wrong_mailbox_state_maintenance_cta",defaultMessage:"Go to Inbox"}}),V={[h.De.MAINTENANCE]:{headerLogo:Object(f.a)("/img/festive_graphic.png"),headerString:B.wrong_mailbox_state_maintenance_header,descriptionString:B.wrong_mailbox_state_maintenance_msg,ctaButtonString:B.wrong_mailbox_state_maintenance_cta,hasCTA:!0},[h.De.DISABLED]:{headerLogo:Object(f.a)("/img/error_state_1x.png"),headerString:B.wrong_mailbox_state_default_header,descriptionString:B.wrong_mailbox_state_default_msg,ctaButtonString:B.wrong_mailbox_state_default_cta,hasCTA:!1},[h.De.DELETED]:{headerLogo:Object(f.a)("/img/festive_graphic.png"),headerString:B.wrong_mailbox_state_deleted_header,descriptionString:B.wrong_mailbox_state_deleted_msg,ctaButtonString:B.wrong_mailbox_state_maintenance_cta,hasCTA:!0},default:{headerLogo:Object(f.a)("/img/error_state_1x.png"),headerString:B.wrong_mailbox_state_default_header,descriptionString:B.wrong_mailbox_state_default_msg,ctaButtonString:B.wrong_mailbox_state_default_cta,hasCTA:!0}},W=({error:e,appName:t},s)=>{const a=s.intl,n=a.locale,r=a.formatMessage,i=(({errorInfo:e={}})=>e.skipMboxStateCheck?V.default:V[e.mailboxState])({errorInfo:e.data}),o=Object(j.c)("https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML",{locale:n}),d=r(B.wrong_mailbox_state_customercare),l=`<a href='${o}' class='${H.anchorStyle}'>${d}.</a>`;let u=(e=>e===h.t.MOBILE_APP?h.gc+"/":e===h.t.BASIC_MOBILE_APP?h.y+"/":e===h.t.BASIC_MAIL_APP?h.x+"/":h.db+"/")(t);return u+=(-1===u.indexOf("?")?"?":"&")+"mboxstate="+e.data.mailboxState,c.a.createElement("div",{className:H.container},c.a.createElement("img",{alt:r(i.headerString),src:i.headerLogo}),c.a.createElement("h1",{className:H.header},r(i.headerString)),c.a.createElement("div",{className:H.body},c.a.createElement("div",{className:H.description,dangerouslySetInnerHTML:{__html:r(i.descriptionString,{customercare:l})}})),c.a.createElement("div",{className:H.footer},i.hasCTA?c.a.createElement("a",{href:u,className:H.buttonStyle,rel:"noopener","data-test-id":"launch-error-action"},r(i.ctaButtonString)):null))};W.contextTypes={intl:d.intlShape,mailBrandNameString:i.a.string};var q=W;const z=I()(G.a),K={15:"https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=en_US&id=SLN3549&actp=productlink",19:"https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=en_US&id=SLN3553&actp=productlink"},Z="https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML",Y="\n    html,\n    body {\n        height: 100%;\n    }\n",X=Object(d.defineMessages)({"launch.error.classic.mail.url":{id:"launch.error.classic.mail.url",defaultMessage:"Go to Classic Mail"},"launch.error.basic.mail.url":{id:"launch.error.basic.mail.url",defaultMessage:"Try basic version"},"launch.error.launch_api_error.title":{id:"launch.error.launch_api_error.title",defaultMessage:"We are experiencing some technical difficulties"},"launch.error.launch_api_error.body":{id:"launch.error.launch_api_error.body",defaultMessage:"Temporary Error: {code}"},"launch.error.no_script_error.title":{id:"launch.error.no_script_error.title",defaultMessage:"Javascript is not enabled on your browser."},"launch.error.no_script_error.body":{id:"launch.error.no_script_error.body",defaultMessage:"Enable javascript to enjoy all the features in {mailBrandNameString}."},"launch.error.react_error.title":{id:"launch.error.react_error.title",defaultMessage:"{mailBrandNameString} has encountered a problem."},"launch.error.react_error.body":{id:"launch.error.react_error.body",defaultMessage:"Please wait a moment and then try going to your Inbox again."},"launch.error.default.oops":{id:"launch.error.default.oops",defaultMessage:"Oops!"},"launch.error.page_not_found.title":{id:"launch.error.page_not_found.title",defaultMessage:"Page not available"},"launch.error.page_not_found.body":{id:"launch.error.page_not_found.body",defaultMessage:"The requested page is not available on Mail."},"launch.error.default.title":{id:"launch.error.default.title",defaultMessage:"Your mail is temporarily unavailable."},"launch.error.default.body":{id:"launch.error.default.body",defaultMessage:"Please wait a moment and reload the page."},"launch.error.mailbox.maintenance.title":{id:"launch.error.mailbox.maintenance.title",defaultMessage:"Setting up your mailbox"},"launch.error.mailbox.maintenance.body":{id:"launch.error.mailbox.maintenance.body",defaultMessage:"Your new mailbox is being built, since you just created an account or your mailbox has been inactive for at least 12 months."},"launch.error.mailbox.inactive.title":{id:"launch.error.mailbox.inactive.title",defaultMessage:"We're having trouble accessing your mailbox"},"launch.error.mailbox.inactive.body":{id:"launch.error.mailbox.inactive.body",defaultMessage:"If you continue to experience issues, please contact"},"launch.error.help.pages":{id:"launch.error.help.pages",defaultMessage:"Learn more"},"launch.error.customercare":{id:"launch.error.customercare",defaultMessage:"customer care."},"launch.error.goto.inbox":{id:"launch.error.goto.inbox",defaultMessage:"Go to Inbox"},"launch.error.try.again":{id:"launch.error.try.again",defaultMessage:"Try again"},"launch.error.switch_account.title":{id:"launch.error.switch_account.title",defaultMessage:"This account has no mailbox"},"launch.error.switch_account_phone.body":{id:"launch.error.switch_account_phone.body",defaultMessage:"You're signed in with phone number {loginAlias}."},"launch.error.switch_account_external.body":{id:"launch.error.switch_account_external.body",defaultMessage:"You're signed in as {loginAlias}."},"launch.error.switch_account.optin":{id:"launch.error.switch_account.optin",defaultMessage:"Switch to the newest {mailBrandNameString}"},"launch.error.switch_account.login":{id:"launch.error.switch_account.login",defaultMessage:"Sign in to a different account"}});class Q extends c.a.Component{constructor(e){super(e),n()(this,"getTitleText",()=>{const e=this.props,t=e.mailBrandNameString,s=this.context.intl.formatMessage;switch(e.type){case h.pb.LAUNCH_PAGE_NOT_FOUND_ERROR:return s(X["launch.error.page_not_found.title"]);case h.pb.LAUNCH_API_ERROR:return s(X["launch.error.launch_api_error.title"]);case h.pb.NO_SCRIPT:return s(X["launch.error.no_script_error.title"]);case h.pb.REACT_ERROR:return s(X["launch.error.react_error.title"],{mailBrandNameString:t});case h.pb.SWITCH_ACCOUNT:return s(X["launch.error.switch_account.title"]);default:return s(X["launch.error.default.title"])}}),n()(this,"getBodyText",()=>{const e=this.props,t=e.code,s=e.loginAlias,a=e.accountType,n=e.mailBrandNameString,r=this.context.intl.formatMessage;switch(e.type){case h.pb.LAUNCH_PAGE_NOT_FOUND_ERROR:return r(X["launch.error.page_not_found.body"]);case h.pb.LAUNCH_API_ERROR:return r(X["launch.error.launch_api_error.body"],{code:t});case h.pb.NO_SCRIPT:return r(X["launch.error.no_script_error.body"],{mailBrandNameString:n});case h.pb.REACT_ERROR:return r(X["launch.error.react_error.body"]);case h.pb.SWITCH_ACCOUNT:return r(a===h.i.EXTERNAL?X["launch.error.switch_account_external.body"]:X["launch.error.switch_account_phone.body"],{loginAlias:s});default:return r(X["launch.error.default.body"])}}),n()(this,"getHelpPageURL",()=>{const e=this.props.code,t=(this.context.intl.locale||"en-US").replace("-","_");return K[e]?Object(j.c)(K[e],{locale:t}):Object(j.c)(Z,{locale:t})}),n()(this,"getHelpLinkMarkUp",()=>{if(this.props.type===h.pb.SWITCH_ACCOUNT)return null;const e=this.getHelpPageURL(),t=(0,this.context.intl.formatMessage)(X["launch.error.help.pages"]);return c.a.createElement("a",{href:e,target:"_blank",className:z.anchorStyle,rel:"noopener"},t)}),n()(this,"getCTAMarkUp",()=>{const e=this.props,t=e.norrinOptin,s=e.crumb,a=e.mailBrandNameString,n=e.appName,r=this.context,i=r.intl,o=i.locale,d=i.formatMessage,l=r.region;let u=null,_=this.appRootPath;switch(e.type){case h.pb.LAUNCH_PAGE_NOT_FOUND_ERROR:case h.pb.REACT_ERROR:u=d(X["launch.error.goto.inbox"]);break;case h.pb.SWITCH_ACCOUNT:t&&n===h.t.BASIC_MAIL_APP?(u=d(X["launch.error.switch_account.optin"],{mailBrandNameString:a||d(T.a.mailBrandName)}),_=`${h.xc}/optin?crumb=${s}`):(u=d(X["launch.error.switch_account.login"]),_=Object(h.Be)(l,o));break;default:u=d(X["launch.error.try.again"])}return c.a.createElement("div",null,c.a.createElement("a",{href:_,className:z.buttonStyle,rel:"noopener","data-test-id":"launch-error-action"},u))}),n()(this,"renderBody",()=>{const e=this.getBodyText(),t=this.getHelpLinkMarkUp();return c.a.createElement("div",null,c.a.createElement("div",{className:"warnBody"},e,c.a.createElement("br",null),t))}),n()(this,"renderLaunchErrorAction",()=>{const e=this.context.intl.formatMessage,t=this.props,s=t.type,a=t.cspToken,n=t.appName,r="window.location = '"+this.appRootPath+"?reason=no_script';",i=t.showCTAInErrorPage?this.getCTAMarkUp():null;let o=h.vc;o=`${o=n===h.t.MOBILE_APP?h.uc:h.vc}?reason=nojs`;const d=e(n===h.t.MOBILE_APP?X["launch.error.basic.mail.url"]:X["launch.error.classic.mail.url"]),l=c.a.createElement("div",null,c.a.createElement("a",{href:o,className:z.buttonStyle,rel:"noopener"},d),c.a.createElement("script",{type:"text/javascript",nonce:a,dangerouslySetInnerHTML:{__html:r}}));switch(s){case h.pb.NO_SCRIPT:return l;default:return i}});const t=e.appName;this.appRootPath=t===h.t.MOBILE_APP?h.gc+"/":t===h.t.BASIC_MOBILE_APP?h.y+"/":t===h.t.BASIC_MAIL_APP?h.x+"/":h.db+"/"}render(){const e=this.context.intl.formatMessage,t=this.getTitleText()||e(X["launch.error.default.oops"]),s=Object(f.a)("/img/error_state_1x.png");return c.a.createElement("div",{className:z.container},c.a.createElement("style",null,Y),c.a.createElement("img",{src:s}),c.a.createElement("h1",{className:z.header},t),c.a.createElement("div",{className:z.body},c.a.createElement("div",{className:z.description},this.renderBody())),c.a.createElement("div",{className:z.footer},this.renderLaunchErrorAction()))}}n()(Q,"contextTypes",{intl:d.intlShape.isRequired,region:i.a.string}),n()(Q,"defaultProps",{showCTAInErrorPage:!0});var $=Q,J=s(23),ee=s.n(J),te=s(689),se=s.n(te),ae=s(48),ne=s(86);const re=Object(f.a)("/img/festive_graphic.png"),ie=I()(se.a),oe=[h.ob.GOOGLE,h.ob.OUTLOOK,h.ob.AOL],ce={[h.ob.GOOGLE]:Object(f.a)("/img/logo_google.png"),[h.ob.OUTLOOK]:Object(f.a)("/img/logo_outlook.png"),[h.ob.AOL]:Object(f.a)("/img/logo_aol.png")},de=Object(d.defineMessages)({header_message:{id:"nodin.external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"nodin.external_users_switch_account",defaultMessage:"Switch account"}}),le=({accountType:e,userName:t},s)=>{const a=s.intl,n=a.locale,r=a.formatMessage,i=s.region,o=Object(ae.e)(t);ne.a.error("nodin_imap_upsell",{accountType:e,provider:o,userName:t});const l=c.a.createElement("b",{className:ie.userName},t);return c.a.createElement("div",{className:ie.upsellPage},c.a.createElement("img",{className:ie.image,alt:r(de.header_message,{mailBrandNameString:s.mailBrandNameString}),src:re}),c.a.createElement("h1",{className:ie.header},c.a.createElement(d.FormattedMessage,ee()({},de.header_message,{values:{mailBrandNameString:s.mailBrandNameString}}))),c.a.createElement("div",{className:ie.body},c.a.createElement("div",{className:ie.description},c.a.createElement(d.FormattedMessage,e===h.i.PHONE?{id:"nodin.external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:l}}:{id:"nodin.external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:l}}),"",c.a.createElement("a",{className:ie.switchAccount,href:Object(h.Be)(i,n),title:r(de.switch_account)},c.a.createElement(d.FormattedMessage,de.switch_account))),c.a.createElement("div",{className:ie.description},c.a.createElement(d.FormattedMessage,o?{id:"nodin.external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from Yahoo Mail.",values:{name:Object(ae.f)(o)}}:{id:"nodin.external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, all from within Yahoo Mail."})),c.a.createElement("div",{className:ie.providersOption},c.a.createElement("ol",{className:ie.accountList},oe.filter(e=>!o||o===e).map(e=>c.a.createElement("li",{key:e,className:ie.listItem,"data-test-id":"supported-imap-providers"},c.a.createElement("img",{alt:e,src:ce[e],className:ie.accountItem}),c.a.createElement("button",{"data-test-id":`add-account-${e}-btn`,"data-email":o?t:"",id:`add-account-${e}-btn`,className:ie.primaryButton},c.a.createElement(d.FormattedMessage,o?{id:"nodin.user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:Object(ae.f)(o)}}:{id:"nodin.user_registration_add_account",defaultMessage:"Add account"}))))))),c.a.createElement("div",{className:ie.footer},!o&&c.a.createElement(d.FormattedMessage,{id:"nodin.external_supported_providers",defaultMessage:"We only support these providers as of now"})))};le.contextTypes={intl:d.intlShape,region:i.a.string,mailBrandNameString:i.a.string};var ue=le,_e=s(4),me=s.n(_e),pe=s(12);const he=`${1.75*pe.GRID_UNIT}`,ge=`${-11.25*pe.GRID_UNIT}`,Ee=`${-25*pe.GRID_UNIT}`,Ie=`${-38*pe.GRID_UNIT}`,Se=`${-50*pe.GRID_UNIT}`,Ce=`${-62*pe.GRID_UNIT}`,fe=Object(f.a)("/img/trap_page_browser_logos.png"),Te={clear:"both",minHeight:"26px",padding:`${3.5*pe.GRID_UNIT}px 0 ${3.5*pe.GRID_UNIT}px ${12.5*pe.GRID_UNIT}px`,background:"url("+fe+") no-repeat 0 0"};var Ae={outerWrapper:{width:"100%"},contentHolder:{width:"45%",minWidth:`${100*pe.GRID_UNIT}px`,maxWidth:`${175*pe.GRID_UNIT}px`,margin:"0px auto",padding:`${6*pe.GRID_UNIT}px ${6*pe.GRID_UNIT}px ${5*pe.GRID_UNIT}px ${6*pe.GRID_UNIT}px`},iconWrapper:{float:"left",marginRight:`${5*pe.GRID_UNIT}px`},icon:{width:`${9*pe.GRID_UNIT}px`,height:`${9*pe.GRID_UNIT}px`},title:{marginBottom:`${4*pe.GRID_UNIT}px`},classicMailHolder:{marginTop:`${-1*pe.GRID_UNIT}px`},classicMailDesc:{fontSize:pe.FONT_SIZE_XXS,display:"block",color:pe.FIRST_LEVEL_GRAY,fontStyle:"normal"},ul:{listStyleType:"none",padding:"0px",margin:"0px"},upgradeLink:{float:"right",padding:`${1.5*pe.GRID_UNIT}px ${4.5*pe.GRID_UNIT}px`,marginTop:`${-1.5*pe.GRID_UNIT}px`,textDecoration:"none",fontSize:pe.FONT_SIZE_S,fontWeight:"500",cursor:"pointer",borderRadius:`${pe.GRID_UNIT/2}px`,color:pe.PRIMARY_BUTTON_TEXT_COLOR,backgroundColor:pe.PRIMARY_BUTTON_ACTIVE_COLOR,border:`${pe.GRID_UNIT/4}px solid ${pe.PRIMARY_BUTTON_ACTIVE_COLOR}`,width:`${17.5*pe.GRID_UNIT}px`,textAlign:"center"},edgeLink:{marginTop:"0px"},nonActiveLink:{color:pe.PRIMARY_BUTTON_ACTIVE_COLOR,backgroundColor:pe.WHITE,marginTop:"0px"},disableLink:{color:pe.PRIMARY_BUTTON_INACTIVE_TEXT_COLOR,border:`${pe.GRID_UNIT/4}px solid ${pe.PRIMARY_BUTTON_INACTIVE_TEXT_COLOR}`,backgroundColor:pe.WHITE,marginTop:"0px",cursor:"not-allowed"},chrome:Object.assign({},Te,{backgroundPosition:`0 ${he}px`}),firefox:Object.assign({},Te,{backgroundPosition:`0 ${ge}px`}),ie:Object.assign({},Te,{backgroundPosition:`0 ${Ee}px`}),edge:Object.assign({},Te,{backgroundPosition:`0 ${Se}px`}),safari:Object.assign({},Te,{backgroundPosition:`0 ${Ie}px`}),classic:Object.assign({},Te,{backgroundPosition:`0 ${Ce}px`})};const be=Object(d.defineMessages)({rs_page_icon_alert:{id:"rs_page_icon_alert",defaultMessage:"Alert icon"},rs_page_chrome:{id:"rs_page_browser_chrome",defaultMessage:"Google Chrome"},rs_page_msedge:{id:"rs_page_browser_msedge",defaultMessage:"Microsoft Edge"},rs_page_msedge_for_ie:{id:"rs_page_msedge_for_ie",defaultMessage:"Requires Edge 15 or newer"},rs_page_msedge_for_edge:{id:"rs_page_msedge_for_edge",defaultMessage:"This version of Edge is not supported."},rs_page_firefox:{id:"rs_page_browser_firefox",defaultMessage:"Firefox"},rs_page_ie:{id:"rs_page_browser_ie",defaultMessage:"Internet Explorer"},rs_page_safari:{id:"rs_page_browser_safari",defaultMessage:"Safari"},rs_page_recommend_text:{id:"rs_page_recommend_text_1",defaultMessage:"The latest version of {mailBrandNameString} is not supported on your browser. Please use a supported browser below or use basic Mail."},rs_page_opennow_link_text:{id:"rs_page_opennow_link_text",defaultMessage:"Open now"},rs_page_upgrade_link_text:{id:"rs_page_upgrade_link_text",defaultMessage:"Download"},rs_page_try_later_link_text:{id:"rs_page_try_later_link_text",defaultMessage:"Continue"},rs_page_basic_mail_title:{id:"rs_page_basic_mail_title",defaultMessage:"Continue with basic Mail"},rs_page_basic_mail_desc:{id:"rs_page_basic_mail_desc",defaultMessage:"This version has fewer features but supports older browsers."}}),Oe="https://www.google.com/chrome/browser/desktop/index.html",Re="microsoft-edge:https://mail.yahoo.com",Ne="https://www.mozilla.org/en-US/firefox/download/thanks/",Me="https://support.apple.com/HT201541";class De extends c.a.Component{constructor(...e){super(...e),n()(this,"renderBrowserUpgradeRow",(e,t,s,a,n)=>{const r=this.props.browserName,i=s===be.rs_page_msedge,o=this.showEdgeLink()&&!i&&"IE"===r?Ae.nonActiveLink:{},l=i&&"Edge"===r?Ae.disableLink:Ae.edgeLink,u=i&&"Edge"===r?"_self":"_blank";return c.a.createElement("li",{style:Object.assign({},e)},c.a.createElement("a",{href:t,style:me()({},Ae.upgradeLink,o,l),target:u,rel:"noopener"},c.a.createElement(d.FormattedMessage,n||be.rs_page_upgrade_link_text)),a?c.a.createElement("div",{style:Ae.classicMailHolder},c.a.createElement(d.FormattedMessage,s),c.a.createElement("em",{style:Ae.classicMailDesc},c.a.createElement(d.FormattedMessage,a))):c.a.createElement(d.FormattedMessage,s))}),n()(this,"renderChrome",()=>this.renderBrowserUpgradeRow(me()({},Ae.chrome),Oe,be.rs_page_chrome)),n()(this,"renderEdgeLauncher",e=>this.renderBrowserUpgradeRow(Ae.edge,"Edge"===e?"#":Re,be.rs_page_msedge,"Edge"===e?be.rs_page_msedge_for_edge:be.rs_page_msedge_for_ie,be.rs_page_opennow_link_text)),n()(this,"renderFirefox",()=>this.renderBrowserUpgradeRow(Ae.firefox,Ne,be.rs_page_firefox)),n()(this,"renderSafari",()=>this.renderBrowserUpgradeRow(Ae.safari,Me,be.rs_page_safari)),n()(this,"showEdgeLink",()=>{const e=this.props;return"10"===e.osVersion&&"windows"===e.os})}render(){const e=this.props,t=e.browserName,s=e.os,a=e.classicMailUrl,n=e.mailBrandNameString;return c.a.createElement("div",{style:Ae.outerWrapper},c.a.createElement("div",{style:Ae.contentHolder,className:"usb_content_holder"},c.a.createElement("div",{style:Ae.title},c.a.createElement(d.FormattedMessage,ee()({},be.rs_page_recommend_text,{values:{mailBrandNameString:n}}))),c.a.createElement("ul",{style:Ae.ul,className:"usb_list"},this.showEdgeLink()&&this.renderEdgeLauncher(t),"Chrome"===t&&this.renderChrome(),"Firefox"===t&&this.renderFirefox(),"Safari"===t&&this.renderSafari(),"Chrome"!==t&&this.renderChrome(),"Firefox"!==t&&this.renderFirefox(),"Safari"!==t&&s===h.Hc.MAC&&this.renderSafari(),c.a.createElement("li",{style:Object.assign({},Ae.li,Ae.classic)},c.a.createElement("a",{href:a,style:Object.assign({},Ae.upgradeLink,Ae.nonActiveLink),rel:"noopener"},c.a.createElement(d.FormattedMessage,be.rs_page_try_later_link_text)),c.a.createElement("div",{style:Ae.classicMailHolder},c.a.createElement(d.FormattedMessage,be.rs_page_basic_mail_title),c.a.createElement("em",{style:Ae.classicMailDesc},c.a.createElement(d.FormattedMessage,be.rs_page_basic_mail_desc)))))))}}n()(De,"contextTypes",{intl:d.intlShape.isRequired}),n()(De,"defaultProps",{browserName:"",os:"",osVersion:"",classicMailUrl:h.vc+"?.src=ym&reason=unsupported_browser&toB=2"});var ye=De;const Le=159600033,ve=Object(d.defineMessages)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"},"launch.error.inbox.text":{id:"launch.error.inbox.text",defaultMessage:"Inbox"}});class Pe extends c.a.Component{constructor(...e){super(...e),n()(this,"initRapidClient",()=>{l.b.init({rapid:{spaceid:Le,test_id:"norrin",keys:window.BrowserLoggerParams,dwell_on:!0,extendbcookie:!0}})}),n()(this,"getErrorType",()=>{const e=this.props,t=e.nodinPhoneEmailReg;switch(e.error.name){case g.n:return h.pb.LAUNCH_PAGE_NOT_FOUND_ERROR;case g.l:return h.pb.LAUNCH_API_ERROR;case g.o:return h.pb.WRONG_MAILBOX_STATE;case"LaunchError.NoScript":return h.pb.NO_SCRIPT;case"LaunchError.UnsupportedBrowser":return h.pb.UNSUPPORTED_BROWSER;case g.m:return t?h.pb.NO_ACTIVE_MAILBOX:h.pb.SWITCH_ACCOUNT;case h.pb.REACT_ERROR:return h.pb.REACT_ERROR;case"GenericError":case"UnknownError":return h.pb.SERVER_ERROR}return h.pb.DEFAULT}),n()(this,"getErrorMessage",()=>{return this.props.error.message}),n()(this,"_getErrorProperty",e=>{const t=this.props.error;return Object(p.a)(t,`data.${e}`,null)}),n()(this,"getApiName",()=>this._getErrorProperty("apiName")),n()(this,"getErrorCode",()=>this._getErrorProperty("errorCode")),n()(this,"getStatusCode",()=>this._getErrorProperty("statusCode")),n()(this,"getExtraErrorCode",()=>this._getErrorProperty("extraErrorCode")),n()(this,"getExtraStatusCode",()=>this._getErrorProperty("extraStatusCode")),n()(this,"getCode",()=>this._getErrorProperty("code")),n()(this,"getBrowserName",()=>this._getErrorProperty("browserName")),n()(this,"getOS",()=>this._getErrorProperty("os")),n()(this,"getOSVersion",()=>this._getErrorProperty("osVersion")),n()(this,"getBasicMailUrl",()=>this._getErrorProperty("basicMailUrl")),n()(this,"getCspToken",()=>this._getErrorProperty("cspToken")),n()(this,"getCspToken",()=>this._getErrorProperty("cspToken")),n()(this,"getLoginAlias",()=>this._getErrorProperty("loginAlias")),n()(this,"getAccountType",()=>this._getErrorProperty("accountType")),n()(this,"isNorrinOptinEnabled",()=>this._getErrorProperty("norrinOptin")),n()(this,"renderLaunchErrorDialog",()=>{const e=this.props,t=e.isRTL,s=e.mailBrandNameString,a=e.crumb,n=e.showCTAInErrorPage,r=this.getErrorType(),i=this.props.appName;switch(r){case h.pb.LAUNCH_API_ERROR:return c.a.createElement($,{appName:i,type:r,code:this.getCode(),isRTL:t,mailBrandNameString:s});case h.pb.NO_SCRIPT:return c.a.createElement($,{appName:i,type:r,cspToken:this.getCspToken(),isRTL:t,mailBrandNameString:s});case h.pb.UNSUPPORTED_BROWSER:return c.a.createElement(ye,{browserName:this.getBrowserName(),os:this.getOS(),osVersion:this.getOSVersion(),classicMailUrl:this.getBasicMailUrl(),mailBrandNameString:s});case h.pb.WRONG_MAILBOX_STATE:return c.a.createElement(q,this.props);case h.pb.SWITCH_ACCOUNT:return c.a.createElement($,{appName:i,type:r,norrinOptin:this.isNorrinOptinEnabled(),loginAlias:this.getLoginAlias(),accountType:this.getAccountType(),crumb:a,isRTL:t,showCTAInErrorPage:n,mailBrandNameString:s});case h.pb.NO_ACTIVE_MAILBOX:return c.a.createElement(ue,{userName:this.getLoginAlias(),accountType:this.getAccountType(),crumb:a,isRTL:t});case h.pb.REACT_ERROR:case h.pb.LAUNCH_PAGE_NOT_FOUND_ERROR:case h.pb.SERVER_ERROR:case h.pb.DEFAULT:return c.a.createElement($,{appName:i,type:r,isRTL:t,mailBrandNameString:s})}return null})}getChildContext(){return{mailBrandNameString:this.props.mailBrandNameString}}componentDidMount(){const e=this.getErrorType(),t=this.getErrorMessage();if(t!==g.a&&t!==g.q){if(e===h.pb.LAUNCH_API_ERROR||e===h.pb.SERVER_ERROR){let e=this.props.error;e=_.a.jsonToError(e);const t={apiName:this.getApiName(),errorCode:this.getErrorCode(),statusCode:this.getStatusCode(),isOnline:!0},s=this.getExtraErrorCode(),a=this.getExtraStatusCode();s&&(t.extraErrorCode=s),a&&(t.extraStatusCode=a),this.initRapidClient(),Object(m.a)(u.a,h.r.MailAPIClient,t,e)}}else window.location.href=h.wc+"?reason="+g.s[t]+"&crumb="+this.props.crumb}render(){const e=this.getErrorMessage();if(e===g.a||e===g.q)return null;const t=this.props,s=t.useThirdGenerationLogo;return c.a.createElement(x,{renderMainContent:()=>this.renderLaunchErrorDialog(),logoUrl:t.logoUrl,isRTL:t.isRTL,leftRailSelection:(0,this.context.intl.formatMessage)(ve["launch.error.inbox.text"]),useThirdGenerationLogo:s})}}n()(Pe,"contextTypes",{intl:d.intlShape.isRequired}),n()(Pe,"childContextTypes",{mailBrandNameString:i.a.string,region:i.a.string,intl:d.intlShape});t.a=Pe},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(4),l=s.n(d),u=s(6),_=s(193),m=s(375),p=s.n(m),h=s(777),g=s.n(h),E=s(16),I=s(19),S=(s(42),s(65)),C=s(61),f=s(55),T=s(53),A=s(40),b=s(14),O=s(20),R=s(59),N=s(12),M=s(34),D=s(28),y=s(5),L=s(13),v=s.n(L),P=s(778),F=s.n(P);const w=Object(u.defineMessages)({chevron_title:{id:"ad_feedback.chevron_title",defaultMessage:"Ad Feedback"},why_this_ad:{id:"why_this_ad",defaultMessage:"Why this ad?"},start_ad_feedback_form:{id:"start_ad_feedback_form",defaultMessage:"I don't like this ad"}});class k extends c.a.Component{constructor(...e){super(...e),n()(this,"onChevronClicked",e=>{e.preventDefault(),e.stopPropagation()}),n()(this,"renderAdFeedbackChoices",()=>{const e=this.context.intl.formatMessage;return[{option:"why_this_ad",onClick:this.props.onAdChoiceClicked},{option:"start_ad_feedback_form",onClick:this.props.onAdFeedbackRequest,testId:"feedback-menu-start"}].map(t=>c.a.createElement(M.a,{key:t.option},c.a.createElement(I.a,{onClick:t.onClick,kind:D.a.MENUITEM,"data-test-id":t.testId},e(w[t.option]))))})}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.isCompactLayout,a=t.hideFeedbackChevron,n=v()(F.a,{isCompactLayout:s,hideFeedbackChevron:a});return c.a.createElement("div",{onClick:this.onChevronClicked,"data-test-id":"feedback-menu"},c.a.createElement(f.a,null,c.a.createElement(T.a,null,c.a.createElement("span",{className:n.chevronDown},c.a.createElement(O.a,{kind:y.b.CHEVRON_UP,size:this.props.size,rotate:y.c.D180,colorState:y.a.INHERITED,title:e(w.chevron_title),tabIndex:-1}))),c.a.createElement(A.b,{triggerOn:b.i.CLICK,permittedArrowDirections:[b.h.UP,b.h.DOWN],offset:16,zAltitude:N.ZIndices.POPOVER.HIGH,align:b.a.END},c.a.createElement("div",{className:n.adFeedbackContainer},c.a.createElement(R.a,{focusOnMount:!0},this.renderAdFeedbackChoices())))))}}n()(k,"contextTypes",{intl:u.intlShape.isRequired}),n()(k,"defaultProps",{size:y.d.XXS});var x=k,U=s(45),G=s(22),j=s(0),H=s(779),B=s.n(H);const V=Object(u.defineMessages)({closeAdFeedback:{id:"close_ad_feedback",defaultMessage:"Close ad"},close:{id:"close",defaultMessage:"Close"}});class W extends c.a.Component{onIconClicked(e){e.preventDefault(),e.stopPropagation(),this.props.onClick()}render(){const e=this.props,t=e.pencilAdHovered,s=e.isCompact,a=e.renderTrashIcon,n=e.isBreakingNews,r=this.context.getThemeMode()===G.h.DARK,i=v()(B.a,{isCompact:s,adHoveredInDarkTheme:t&&r,adHoveredInLightTheme:t&&!r,adNotHoveredInCompact:!t&&s}),o=this.context.intl.formatMessage;return c.a.createElement("div",{className:i.closeIconContainer},c.a.createElement(I.a,{"data-test-id":"icon-btn-close",title:o(n?V.close:V.closeAdFeedback),onClick:this.onIconClicked.bind(this),onDoubleClick:this.onIconClicked.bind(this),className:i.closeIcon},c.a.createElement("span",{className:i.closeCenter},c.a.createElement(E.b,{kind:a?y.b.DELETE:y.b.CLOSE,size:a?y.d.XS:y.d.XXS,colorState:y.a.INHERITED,"aria-label":o(n?V.close:V.closeAdFeedback)}))))}}W.defaultProps={pencilAdHovered:!1,isCompact:!1,renderTrashIcon:!1,isBreakingNews:!1},W.contextTypes={intl:u.intlShape,getThemeMode:i.a.func};var q=W,z=s(780),K=s.n(z),Z=s(66),Y=s(15);const X=Object(u.defineMessages)({flash_sale_countdown_in_seconds:{id:"ad.flash_sale_countdown_in_seconds",defaultMessage:"{days, plural, =0 {} other {{days} days : }}\n            {hrs, plural, =0 {} other {{hrs} hrs : }}\n            {mins, plural, =0 {} other {{mins} mins : }}\n            {secs} secs"},flash_sale_countdown:{id:"ad.flash_sale_countdown",defaultMessage:"{days, plural, =0 {} other {{days} days : }}\n            {hrs, plural, =0 {} other {{hrs} hrs : }}\n            {mins} mins"},ending_soon:{id:"ad.flash_sale_ending_soon",defaultMessage:"Sale ends in {duration}"}});class Q extends o.Component{constructor(e){super(e),this.timerId=0,this.clearTimers=this.clearTimers.bind(this),this.startTimers=this.startTimers.bind(this),this.state={now:Date.now()}}clearTimers(){this.timerId&&(clearTimeout(this.timerId),this.timerId=0)}startTimers(){if(!this.timerId){const e=this.props.countdownInSeconds?1e3:6e4,t=this.props.flashSaleEndTime-this.state.now;this.timerId=setInterval(()=>{t<=e&&(this.clearTimers(),this.props.flashSaleAdEnded()),this.setState({now:this.state.now+e})},e)}}componentDidMount(){this.startTimers()}componentWillUnmount(){this.clearTimers()}getFormatedTime(e){return e<0&&(e=0),{days:Math.floor(e/864e5),hrs:Math.floor(e/36e5)%24,mins:Math.floor(e/6e4)%60,secs:Math.round(e/1e3)%60}}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.flashSaleTextStyles,a=t.countdownInSeconds,n=t.isMobile,r=t.flashSaleStyles,i=t.flashSaleEndTime-this.state.now,o=v()(K.a,{isDarkTheme:this.context.getThemeMode()===G.h.DARK,flashSaleHighlight:i<864e5}),d=e(a?X.flash_sale_countdown_in_seconds:X.flash_sale_countdown,this.getFormatedTime(i));return c.a.createElement("div",{className:r||o.flashSaleCountdown},c.a.createElement(E.b,{kind:y.b.CLOCK,colorState:y.a.STARRED,size:y.d.XS}),c.a.createElement("span",{className:s||o.flashSaleCountdownText},n?e(X.ending_soon,{duration:d}):d))}}Q.contextTypes={intl:u.intlShape,getThemeMode:i.a.func};var $=Object(Y.connect)(null,e=>({flashSaleAdEnded:()=>e(Object(Z.h)())}))(Q),J=s(9),ee=s(572),te=s(481),se=s(43),ae=s(83),ne=s(7);const re=Object(u.defineMessages)({learn_more_btn_title:{id:"learn_more_btn_title",defaultMessage:"Learn More"},learn_more_btn_label:{id:"learn_more_btn_label",defaultMessage:"Learn More"},watch_btn_label:{id:"watch_btn_label",defaultMessage:"Watch"},sponsored:{id:"ad.sponsored",defaultMessage:"Sponsored"},ad_text:{id:"ad.text",defaultMessage:"AD"},ad_text_unified:{id:"ad_text_unified",defaultMessage:"Ad"}}),ie={};class oe extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{hover:!1}),n()(this,"onAdChoiceClicked",e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)}),n()(this,"renderSponsoredIcon",(e,t)=>c.a.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},c.a.createElement(E.b,{kind:y.b.SPONSORED,size:t,colorState:y.a.INHERITED}))),n()(this,"onPreviewVideoEnd",()=>{this.setState({previewVideoEnded:!0})}),n()(this,"renderSponsoredImg",e=>{const t=this.props.pencilAdData;if(t.type===C.o.VideoAdType&&t.previewVideoUrl)return c.a.createElement("div",{className:e.previewVideo},this.state.previewVideoEnded?c.a.createElement("img",{"data-test-id":"play-icon",className:e.videoOverlay,src:Object(U.a)("/img/gemini_pencil_play.png")}):null,c.a.createElement("video",{muted:!0,className:e.previewVideoPlayer,ref:e=>this.previewVideoPlayer=e},c.a.createElement("source",{src:t.previewVideoUrl,type:t.previewVideoContentType})));if(t.adImg){const s=this.props.msgListDensity;let a=s===j.pc.SLIM?S.c.S:S.c.C;const n=this.props,r=n.unifyNativeAdFormat,i=n.adPosition;if(r){const e=[S.c.UNIFY_DESIGN_SECOND_AD_L,S.c.UNIFY_DESIGN_S,S.c.UNIFY_DESIGN_M,S.c.UNIFY_DESIGN_L];a=e[s],i===j.Db.MESSAGE_LIST_2&&a===S.c.UNIFY_DESIGN_L&&(a=e[0])}return c.a.createElement("div",{className:e.favicon},c.a.createElement(te.a,{size:a,imageSrc:t.adImg,unifyNativeAdFormat:r}))}}),n()(this,"renderActionButton",(e,{type:t,callToAction:s})=>{const a=s||(0,this.context.intl.formatMessage)(t===C.o.VideoAdType?re.watch_btn_label:re.learn_more_btn_label);return c.a.createElement("div",{className:e.actionButtonContainer},c.a.createElement(I.a,{className:e.actionButton,title:a,"data-test-id":"learn-more-btn"},a))}),n()(this,"renderFeedbackMenu",(e,t)=>{const s=this.props,a=s.isCompactLayout;if(s.feedbackEnabled)return c.a.createElement("div",{className:e.iconContainer,"data-test-id":"ad-feedback-menu"},c.a.createElement(x,{size:t,onAdChoiceClicked:this.onAdChoiceClicked,onAdFeedbackRequest:this.props.onAdFeedbackRequest,isCompactLayout:a,hideFeedbackChevron:s.unifyNativeAdFormat?!this.state.hover:!this.state.hover&&a}))}),n()(this,"onTrashIconClick",()=>{"pencilAdVersionV3Test9"===this.props.pencilAdVersion?this.props.onAdFeedbackSubmit():this.props.onAdFeedbackRequest()}),n()(this,"renderCloseIcon",(e,t=!1)=>{const s=this.props;if(s.feedbackEnabled)return c.a.createElement("div",{className:e.closeIconContainer},c.a.createElement(q,{renderTrashIcon:t,pencilAdHovered:this.state.hover,onClick:this.onTrashIconClick,isCompact:s.isCompactLayout}))}),n()(this,"renderRating",(e,t)=>c.a.createElement("div",{className:t.starRatingContainer},c.a.createElement(ee.a,{value:parseInt(e,10)/2}))),n()(this,"getPencilAdVersionRotationId",()=>{const e=this.props.pencilAdVersion,t=Object(se.u)();if("pencilAdVersionRotation1"===e)return t%3;if("pencilAdVersionRotation2"===e){const e=t%6;if([2,3].indexOf(e)>-1)return 1;if([4,5].indexOf(e)>-1)return 2}else if("pencilAdVersionRotation3"===e){const e=t%9;if([3,4,5].indexOf(e)>-1)return 1;if([6,7,8].indexOf(e))return 2}else if("pencilAdVersionRotation4"===e){const e=t%12;if([4,5,6,7].indexOf(e)>-1)return 1;if([8,9,10,11].indexOf(e)>-1)return 2}return 0}),n()(this,"instrumentSecondSearchAd",()=>{const e=this.props,t=e.pencilAdData,s=e.windowDimensions,a=e.searchAdRendered;if(e.instrumentSecondSearchAd&&this.adContainer&&e.isSearchRoute&&e.adPosition===j.Db.MESSAGE_LIST_2&&!ie[t.clickUrl]){const e=this.adContainer.getBoundingClientRect(),n=e.top,r=e.bottom,i=s.innerHeight,o={mKey:ne.e.SEARCH_AD_RENDERED,sec:ne.g.MSG_LIST_AD,actionData:{aboveFold:!1}};ie[t.clickUrl]=!0,r>0&&n<i&&(o.actionData.aboveFold=!0),a({i13nModel:o})}})}componentDidMount(){this.previewVideoPlayer&&this.previewVideoPlayer.play&&(this.previewVideoPlayer.play(),this.previewVideoPlayer.onended=this.onPreviewVideoEnd),this.instrumentSecondSearchAdTimer=setTimeout(()=>{this.instrumentSecondSearchAd()},0)}componentWillUnmount(){this.instrumentSecondSearchAdTimer&&clearTimeout(this.instrumentSecondSearchAdTimer)}render(){const e=this.props,t=e.pencilAdData,s=e.onClick,a=e.isCompactLayout,n=e.adPosition,r=e.isSearchRoute,i=e.closeIconPencilAd,o=e.timechunkPencilAd,d=e.pencilAdVersion,u=e.msgListDensity,_=e.snippetsEnabled,m=e.flashSaleAdInSecondsEnabled,h=e.unifyNativeAdFormat,E=e.searchKeyword,I=this.context.intl.formatMessage,S=e.flashSaleAdEnabled&&t.type===C.o.FlashSaleAdType&&t.flashSaleEndTime>Date.now(),f=t.type===C.o.NativeAdType,T=t.type===C.o.VideoAdType,A=f&&a,b="pencilAdVersionV3Test1"===d,O="pencilAdVersionV3Test2"===d,R="pencilAdVersionV3Test6"===d,N="pencilAdVersionV3Test7"===d,M="pencilAdVersionV3Test8"===d,D="pencilAdVersionV3Test9"===d,L="pencilAdVersionV2BackBucket"===d,v=this.context.getTheme(),P=M&&(f||T||S)&&!a&&n===j.Db.MESSAGE_LIST&&!Object(G.m)({context:this.context})&&([G.i.DEFAULT,G.i.DEEP_PURPLE,G.i.AQUA_BLUE,G.i.BLUE_NIGHT,G.i.SUNRISE,G.i.AQUA_GREEN].indexOf(v)+1||v===G.i.ROADTRIP&&Number.POSITIVE_INFINITY||[G.i.NIGHT_LANDSCAPE,G.i.SUNSET_AUSSIE,G.i.LIGHTHOUSE].indexOf(v)+4),F=this.getPencilAdVersionRotationId(),w=O||R||N||D,k=(i||w)&&a,x=this.context.getCss(h?g.a:p.a,l()({isCompactLayout:a,sponsoredCompactLayout:A,transparentLink:r&&n!==j.Db.MESSAGE_LIST_2||"transparentBackground"===d,gradientltr:("gradientltr"===d||1===F)&&n===j.Db.MESSAGE_LIST,gradientrtl:("gradientrtl"===d||2===F)&&n===j.Db.MESSAGE_LIST,secondPencilAd:n===j.Db.MESSAGE_LIST_2,timechunkPencilAd:o},Object(G.k)(this.context),{msgListDensity:`${a?"compact_":""}${a&&_?"snippets_":""}${u}`,isFlashSaleAd:S,compactFlashSaleAd:S&&!_&&u!==j.pc.RELAXED,pencilAdVersionV2BackBucket:L,pencilAdVersionV3Test1:b,renderTrashIcon:w,renderTrashIconInHover:w&&this.state.hover,backgroundId:P,adTextAlignment:k,secondSearchAd:r&&n===j.Db.MESSAGE_LIST_2}));return c.a.createElement("a",{rel:"noreferrer","data-test-id":`pencil-ad-${n}`,className:`${x.link} ${r&&n!==j.Db.MESSAGE_LIST_2||"transparentBackground"===d?x.linkWithTransparentBackground:""}`,href:t.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:s,onMouseLeave:()=>this.setState({hover:!1}),onMouseOver:()=>{this.state.hover||this.setState({hover:!0})},ref:e=>this.adContainer=e},c.a.createElement("div",{className:x.gridB1},c.a.createElement("div",{className:x.imageContainer},a||b?this.renderSponsoredIcon(x,!a&&b?y.b.S:y.d.XXS):this.renderSponsoredImg(x)),a||b||h?null:this.renderSponsoredIcon(x,L?y.d.S:y.d.XS),a?null:c.a.createElement("div",{className:x.advertiserContainer},c.a.createElement("span",{className:x.advertiser},t.adSource),h?null:c.a.createElement("button",{className:x.sponsored,onClick:this.onAdChoiceClicked},I(re.ad_text)))),h?null:c.a.createElement("div",{className:x.spacer}),h&&!a?c.a.createElement("div",{className:x.spacerContainer},this.renderSponsoredIcon(x,u===j.pc.SLIM?y.d.XS:y.d.S)):null,c.a.createElement("div",{className:x.gridB2},c.a.createElement("div",{className:x.message},h&&!a?c.a.createElement("span",{className:x.subject,"aria-label":a?t.adSource:t.adHeadline,title:a?t.adSource:t.adHeadline},a?Object(ae.d)(r,E,t.adSource,x.highlightedTerm):Object(ae.d)(r,E,t.adHeadline,x.highlightedTerm)):null,c.a.createElement("div",{className:x.subjectContainer},h&&!a?null:c.a.createElement("span",{"data-test-id":"ad-subject",className:x.subject,"aria-label":a?t.adSource:t.adHeadline,title:a?t.adSource:t.adHeadline},a?t.adSource:t.adHeadline),h&&a?c.a.createElement("div",{className:x.sponsoredContainer},this.state.hover&&!r?this.renderFeedbackMenu(x,y.d.XXS):c.a.createElement("button",{className:x.sponsored,onClick:this.onAdChoiceClicked},I(re.ad_text_unified))):null,!h&&a?c.a.createElement("div",{className:x.sponsoredContainer},c.a.createElement("button",{className:x.sponsored,onClick:this.onAdChoiceClicked},I(re.ad_text))):null),a&&(S||_)?c.a.createElement("div",{"data-test-id":"ad-compact-headline",className:x.adHeadline,"aria-label":t.adHeadline,title:t.adHeadline},h?Object(ae.d)(r,E,t.adHeadline,x.highlightedTerm):t.adHeadline):null,c.a.createElement("div",{className:x.snippetContainer},S&&c.a.createElement($,{flashSaleEndTime:t.flashSaleEndTime,countdownInSeconds:m}),!S&&!a&&_&&c.a.createElement("span",{className:x.snippet,"data-test-id":"ad-summary","aria-label":t.adSummary,title:t.adSummary},h?Object(ae.d)(r,E,t.adSummary,x.highlightedTerm):t.adSummary),!S&&a&&_&&c.a.createElement("span",{className:x.snippet,"data-test-id":"ad-summary","aria-label":t.adSummary,title:t.adSummary},h?Object(ae.d)(r,E,t.adSummary,x.highlightedTerm):t.adSummary),!S&&a&&!_&&c.a.createElement("span",{className:x.snippet,"data-test-id":"ad-summary","aria-label":t.adSummary,title:t.adSummary},h?Object(ae.d)(r,E,t.adHeadline,x.highlightedTerm):t.adHeadline),h&&(f||T||S)?this.renderActionButton(x,t):null,h&&!a&&t.rating?this.renderRating(t.rating,x):null,h||!a||i||w?null:this.renderFeedbackMenu(x,y.d.XXS),a&&t.rating&&this.renderRating(t.rating,x))),h||a||!t.rating?null:this.renderRating(t.rating,x),h||!(f||T||S)||a?null:this.renderActionButton(x,t),h||a||i||w?null:this.renderFeedbackMenu(x,y.d.S),!h||!this.state.hover||r||a||i||w?null:this.renderFeedbackMenu(x,y.d.S),h&&!a&&(!this.state.hover||r&&this.state.hover)?c.a.createElement("div",{className:x.adContainer},c.a.createElement("button",{className:x.sponsored,onClick:this.onAdChoiceClicked},I(re.ad_text_unified))):null,i&&this.renderCloseIcon(x),w&&this.state.hover&&this.renderCloseIcon(x,!0)))}}n()(oe,"contextTypes",{intl:u.intlShape.isRequired,getCss:i.a.func,getThemeMode:i.a.func,getTheme:i.a.func});var ce=_.a(oe),de=s(17),le=s(116),ue=s(18),_e=s(11),me=s(122),pe=s(346),he=s(782),ge=s.n(he);class Ee extends c.a.Component{constructor(...e){super(...e),n()(this,"handleFanAdCallback",(e,t)=>{"fbAdLoaded"!==t.data.name&&"fbAdError"!==t.data.name||this.iframeRef&&this.iframeRef.contentWindow===t.source&&(this.iframeLoadTimer&&window.clearTimeout(this.iframeLoadTimer),this.iframeTimeout||("fbAdLoaded"===t.data.name?this.props.fanAdLoadSuccess({i13nModel:{mKey:ne.e.FAN_AD_LOAD_SUCCESS,sec:ne.g.FAN_AD,actionData:{respTime:Date.now()-this.renderStartTime}},adPosition:e}):this.props.fanAdLoadError({adPosition:e,errorCode:t.data.errorCode,errorMessage:t.data.errorMessage,i13nModel:{mKey:ne.e.FAN_AD_LOAD_ERROR,sec:ne.g.FAN_AD,actionData:{errorCode:t.data.errorCode,errorMessage:t.data.errorMessage,respTime:Date.now()-this.renderStartTime}}})))}),n()(this,"timeoutHandler",()=>{this.iframeTimeout=!0,this.props.fanAdLoadError({adPosition:this.props.adPosition,errorCode:0,errorMessage:"Iframe load timeout",i13nModel:{mKey:ne.e.FAN_AD_LOAD_ERROR,sec:ne.g.FAN_AD,actionData:{errorCode:0,errorMessage:"Iframe load timeout"}}})})}initializeState(){this.iframeLoadTimer=setTimeout(this.timeoutHandler,3e3),this.iframeTimeout=!1,this.renderStartTime=Date.now()}componentDidMount(){window.addEventListener("message",this.handleFanAdCallback.bind(this,this.props.adPosition),!1),this.initializeState()}componentWillUnmount(){window.removeEventListener("message",this.handleFanAdCallback.bind(this,this.props.adPosition),!1),this.iframeLoadTimer&&window.clearTimeout(this.iframeLoadTimer)}componentDidUpdate(){this.iframeLoadTimer&&window.clearTimeout(this.iframeLoadTimer),this.initializeState()}shouldComponentUpdate(e){return!(e.mobile&&!e.isTwoColumnLayout&&e.route!==j.gd.FOLDER&&(e.adPosition===j.Db.MESSAGE_LIST||e.adPosition===j.Db.MESSAGE_LIST_2))&&!Object(J.e)(this.props,e)}render(){const e=this.props,t=e.isCompactLayout,s=e.fanAdsSettings,a=e.adPosition,n=e.mobile,r=e.adRotationId,i=e.isDark,o=s.url,d=n?N.MOBILE_SNIPPET_MESSAGE_LIST_ITEM_HEIGHT:t?N.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:N.MESSAGE_LIST_GEMINI_AD_HEIGHT,l={placement_id:a===j.Db.MESSAGE_LIST&&s.placementId1||a===j.Db.MESSAGE_LIST_2&&s.placementId2||a===j.Db.MESSAGE_READ&&s.placementId3||"",api_version:"v2",style:t&&!n?"compact":"",theme:!i||n&&a===j.Db.MESSAGE_READ?"":"dark",mobile:n},u=this.context.getCss(ge.a,{mobile:n,mobileDark:n&&i,msgReadDark:a===j.Db.MESSAGE_READ&&i}),_=Object.keys(l).map(e=>{if(l[e])return e+"="+l[e]}).filter(e=>void 0!==e).join("&");return c.a.createElement("div",null,c.a.createElement("iframe",{className:u.fanAdIframe,"data-test-id":"fan-ad",ref:e=>this.iframeRef=e,key:r,scrolling:"no",frameBorder:"0",style:{height:d},src:o+_}))}}Ee.contextTypes={getCss:i.a.func},Ee.defaultProps={isDark:!1};Object(Y.connect)(e=>{const t=Object(_e.b)(e),s=t.getRouteName,a=t.getPrescribedNumberOfColumns;return{adRotationId:(0,t.getAdsSelectors)().getAdRotationId(),route:s(),isTwoColumnLayout:2===a()}})(Ee);var Ie=s(296);class Se extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{hover:!1}),n()(this,"handleTashIconClick",()=>{const e=this.props,t=e.newsArticle;(0,e.breakingNewsDismissed)({i13nModel:{mKey:ne.e.BREAKING_NEWS_DISMISSED,sec:ne.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})}),n()(this,"onNewsClick",()=>{const e=this.props,t=e.newsArticle;(0,e.breakingNewsClicked)({i13nModel:{mKey:ne.e.BREAKING_NEWS_CLICKED,sec:ne.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})}),n()(this,"renderCloseIcon",e=>{return c.a.createElement("div",{className:e.closeIconContainer},c.a.createElement(q,{renderTrashIcon:!0,pencilAdHovered:this.state.hover,onClick:this.handleTashIconClick,isCompact:this.props.isCompactLayout,isBreakingNews:!0}))})}componentDidMount(){const e=this.props,t=e.newsArticle,s=e.breakingNewsRendered;this._breakingNewsRenderedTimer=setTimeout(()=>{s({i13nModel:{mKey:ne.e.BREAKING_NEWS_RENDERED,sec:ne.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})},0)}componentWillUnmount(){this._breakingNewsRenderedTimer&&clearTimeout(this._breakingNewsRenderedTimer)}render(){const e=this.props,t=e.isCompactLayout,s=e.msgListDensity,a=e.snippetsEnabled,n=e.newsArticle,r=this.context.getCss(p.a,l()({isCompactLayout:t,breakingNews:!0,msgListDensity:`${t?"compact_":""}${t&&a?"snippets_":""}${s}`},Object(G.k)(this.context),{disableSnippetColor:!0,breakingNewsInCompactMode:t}));return c.a.createElement("div",{"data-test-id":"breaking-news-item",className:r.link,tabIndex:"-1","aria-hidden":!0,role:"row",onMouseLeave:()=>this.setState({hover:!1}),onMouseOver:()=>{this.state.hover||this.setState({hover:!0})}},c.a.createElement("div",{className:r.gridB1},t?null:c.a.createElement("div",{className:r.advertiserContainer},c.a.createElement(Ie.a,{clickUrl:n.clickUrl,onClick:this.onNewsClick}))),c.a.createElement("div",{className:r.spacer}),c.a.createElement("div",{className:r.gridB2},c.a.createElement("div",{className:r.message},t?c.a.createElement("div",{className:r.subjectContainer},c.a.createElement("span",{"data-test-id":"ad-subject",className:r.subject},c.a.createElement(Ie.a,{clickUrl:n.clickUrl,onClick:this.onNewsClick}))):null,c.a.createElement("a",{rel:"noopener noreferrer",href:n.clickUrl,className:r.clickLink,onClick:this.onNewsClick,target:"_blank",tabIndex:"-1","aria-label":n.title,title:n.title},c.a.createElement("div",{className:r.snippetContainer},c.a.createElement("span",{className:r.snippet,"data-test-id":"breaking-news-title"},n.title)),c.a.createElement("div",{className:r.popoutIcon},c.a.createElement(E.b,{kind:y.b.POP_OUT,size:y.d.XXS,colorState:y.a.INHERITED})))),this.state.hover&&this.renderCloseIcon(r)))}}Se.contextTypes={intl:u.intlShape.isRequired,getCss:i.a.func,getThemeMode:i.a.func,getTheme:i.a.func},Se.defaultProps={isDark:!1};var Ce=Se,fe=s(142),Te=s(10);const Ae=j.rb.INIT,be=j.rb.REQUEST_AFTER_LAUNCH,Oe=j.rb.RENDER_AD,Re=j.rb.TEMPORARAY_GEMINI_FALLBACK,Ne=j.rb.PERMANENT_GEMINI_FALLBACK;class Me extends c.a.Component{constructor(...e){super(...e),n()(this,"handleAdClicked",e=>{const t=this.props,s=t.pencilAdData,a=t.listId,n=t.sectionId;if(this.props.pencilAdClicked({i13nModel:{mKey:ne.e.PENCIL_AD_CLICKED,sec:ne.g.MSG_LIST_AD,interactionType:Object(ue.j)(e),actionData:{sectionId:s.sectionId||n,type:s.type}}}),-1!==[C.o.NativeAdType,C.o.VideoAdType].indexOf(s.type)){e.preventDefault();const t=Object(J.a)(s,"actionUrls.IMPR_INTERNAL",[]);switch(s.type){case C.o.NativeAdType:case C.o.VideoAdType:Object(le.a)(s.clickUrl,!1),t.forEach(function(e){e=e.replace("$(impr_label)","msm_open"),Object(le.a)(e,!1)})}this.context.navigateTo({route:Object(de.x)(a,s.creativeId)})}}),n()(this,"onAdChoiceClicked",e=>{e.preventDefault(),e.stopPropagation(),Object(me.a)(this.props.aboutAdsUrl)}),n()(this,"onAdFeedbackRequest",()=>{const e=this.props,t=e.sectionId;(0,e.startAdFeedback)({i13nModel:{mKey:ne.e.PENCIL_AD_FEEDBACK_OPEN,sec:ne.g.MSG_LIST_AD,interactionType:ne.d.click,actionData:{sectionId:e.pencilAdData.sectionId||t}},sectionId:t})}),n()(this,"onAdFeedbackSubmit",()=>{const e=this.props,t=e.submitAdFeedback,s=e.sectionId,a=e.pencilAdVersion,n={i13nModel:{mKey:ne.e.PENCIL_AD_FEEDBACK_SUBMITTED,sec:ne.g.MSG_LIST_AD,actionData:{sectionId:s}},sectionId:s};"pencilAdVersionV3Test9"===a&&(n.disablePencilAd=a),t(n)}),n()(this,"_createBreakingNewsRefreshTimer",()=>{this.breakingNewsRefreshTimer=setTimeout(()=>{this.props.isBreakingNewsDismissed||(this.props.onBreakingNewsRefresh(),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=0),this._createBreakingNewsRefreshTimer())},this.props.newsRefreshInterval)})}componentWillUnmount(){this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=0)}componentDidMount(){this.props.isBreakingNewsEnabled&&this._createBreakingNewsRefreshTimer()}shouldComponentUpdate(e){if(e.fanAdRenderState&&e.fanAdRenderState!==Ne){const t=e.action.actionTimestamp-this.props.fanAdRenderTime>3e3;return e.fanAdRenderState===Oe&&t||e.isCompactLayout!==this.props.isCompactLayout||e.fanAdRenderState===Re}return e.pencilAdData.clickUrl!==this.props.pencilAdData.clickUrl||e.isCompactLayout!==this.props.isCompactLayout||e.viewabiltyContainerNode!==this.props.viewabiltyContainerNode||e.msgListDensity!==this.props.msgListDensity||!!e.fanAdRenderState&&"GEMINI_AD_RECEIVED"===e.action.type||e.newsArticle.title!==this.props.newsArticle.title}renderAdListItem(){const e=this.props,t=e.isCompactLayout,s=e.adPosition,a=e.pencilAdData,n=e.isSearchRoute,r=e.closeIconPencilAd,i=e.timechunkPencilAd,o=e.flashSaleAdEnabled,d=e.flashSaleAdInSecondsEnabled,l=e.pencilAdVersion,u=e.msgListDensity,_=e.snippetsEnabled,m=e.fanAdLoadError,p=e.fanAdLoadSuccess,h=e.fanAdsSettings,g=e.viewabiltyContainerNode,E=e.sectionId,I=e.unifyNativeAdFormat,S=e.searchKeyword,f=e.windowDimensions,T=e.searchAdRendered,A=e.instrumentSecondSearchAd;return[be,Oe].indexOf(e.fanAdRenderState)>-1?c.a.createElement(Ee,{fanAdLoadError:m,fanAdLoadSuccess:p,adPosition:s,isCompactLayout:t,fanAdsSettings:h}):c.a.createElement(pe.a,{pencilAdData:a,sectionId:E,rootNode:g},c.a.createElement(ce,{key:a.type,pencilAdData:a,onAdChoiceClicked:this.onAdChoiceClicked,isCompactLayout:t,onAdFeedbackRequest:this.onAdFeedbackRequest,onClick:this.handleAdClicked,feedbackEnabled:a.type!==C.o.SearchAdType,adPosition:s,isSearchRoute:n,closeIconPencilAd:r,timechunkPencilAd:i,flashSaleAdEnabled:o,flashSaleAdInSecondsEnabled:d,pencilAdVersion:l,msgListDensity:u,snippetsEnabled:_,onAdFeedbackSubmit:this.onAdFeedbackSubmit,unifyNativeAdFormat:I,searchKeyword:S,instrumentSecondSearchAd:A,windowDimensions:f,searchAdRendered:T}))}renderBreakingNews(){const e=this.props;return c.a.createElement(Ce,{newsArticle:e.newsArticle,isCompactLayout:e.isCompactLayout,msgListDensity:e.msgListDensity,snippetsEnabled:e.snippetsEnabled,breakingNewsDismissed:e.onBreakingNewsDismissed,breakingNewsClicked:e.onBreakingNewsClicked,breakingNewsRendered:e.onBreakingNewsRendered})}render(){const e=this.props,t=e.pencilAdData,s=e.fanAdRenderState,a=e.newsArticle,n=e.isBreakingNewsEnabled&&a.title&&!a.isRead;return s&&s!==Ne||n||t&&t.clickUrl?s===Ae?null:n?this.renderBreakingNews():this.renderAdListItem():null}}n()(Me,"contextTypes",{navigateTo:i.a.func,intl:u.intlShape.isRequired,store:i.a.object});t.a=Object(Y.connect)((e,t)=>{const s=Object(_e.b)(e),a=s.isFeatureEnabled,n=s.getSetting,r=s.getRoute,i=s.getAction,o=s.getBreakingNewsSelectors,c=s.getWindowDimensions,d=t.sectionId,l=(0,s.getAdsSelectors)(),u=r(),_=u.name===j.gd.SEARCH,m=n(j.zd.PENCIL_AD_VERSION),p=a(j.ub.FAN_ADS)&&!_,h=l.getFanAdRenderTimeStamp(),g=p?l.getFanAdRenderState():"",E=n(j.zd.PREVIEW_PANE)===j.Rc.RIGHT,I=n(j.zd.GEMINI_SECTION_IDS),S=j.Db.MESSAGE_LIST,C=j.Db.MESSAGE_LIST_2,f=a(j.ub.TIMECHUNK_PENCIL_AD),T=o().getIsBreakingNewsDismissed(),A=n(j.zd.BREAKING_NEWS_VERSION),b=a(j.ub.BREAKING_NEWS_ENABLED)&&A===j.B.VERSION_1&&d===I[S],O=o().getNewsArticle(),R=n(j.zd.BREAKING_NEWS_REFRESH_INTERVAL),N=Object(Te.w)(u),M=Object(Te.s)(N);return{aboutAdsUrl:n(j.zd.ABOUT_AD_URL),isSearchRoute:_,pencilAdData:l.getPencilAdData(t.sectionId),closeIconPencilAd:a(j.ub.CLOSE_ICON_PENCIL_AD),flashSaleAdEnabled:a(j.ub.FLASH_SALE_AD),flashSaleAdInSecondsEnabled:a(j.ub.FLASH_SALE_AD_IN_SECONDS),pencilAdVersion:m,msgListDensity:p?null:n(j.zd.MSG_LIST_DENSITY),snippetsEnabled:a(j.zd.SNIPPETS)||p,fanAdRenderTime:h,fanAdRenderState:g,fanAdsSettings:n(j.zd.FAN_ADS_SETTINGS),action:i(),isCompactLayout:E,adPosition:d===I[S]?S:C,timechunkPencilAd:f,isBreakingNewsEnabled:b,isBreakingNewsDismissed:T,newsArticle:O,newsRefreshInterval:R,unifyNativeAdFormat:a(j.ub.UNIFY_NATIVE_AD_FORMAT),searchKeyword:M,windowDimensions:c(),instrumentSecondSearchAd:a(j.ub.INSTRUMENT_SECOND_SEARCH_AD)}},e=>({startAdFeedback:t=>e(Object(Z.A)(t)),pencilAdClicked:t=>e(Object(Z.n)(t)),fanAdLoadError:t=>e(Object(Z.f)(t)),fanAdLoadSuccess:t=>e(Object(Z.g)(t)),submitAdFeedback:t=>e(Object(Z.B)(t)),onBreakingNewsDismissed:t=>e(Object(fe.b)(t)),onBreakingNewsRefresh:t=>e(Object(fe.d)(t)),onBreakingNewsClicked:t=>e(Object(fe.a)(t)),onBreakingNewsRendered:t=>e(Object(fe.e)(t)),searchAdRendered:t=>e(Object(Z.z)(t))}))(Me)},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(31),l=s.n(d),u=s(785),_=s.n(u),m=s(267),p=s(171),h=s(788),g=s.n(h),E=s(6);function I(e,t){const s=t.getCss(g.a);return c.a.createElement("div",{"data-test-id":"did-you-mean",className:s.didYouMean},c.a.createElement(E.FormattedMessage,{id:"search.did_you_mean",defaultMessage:"No results found. Showing search results for: {suggestedWord}.",values:{suggestedWord:c.a.createElement("span",{className:s.didYouMeanWord,"data-test-id":"did-you-mean-word"},e.suggestedWord)}}))}I.contextTypes={getCss:i.a.func};var S=s(0),C=(s(42),s(789)),f=s.n(C),T=s(215),A=s(167),b=s(12),O=s(22);const R=Object(E.defineMessages)({related_searches:{id:"search.related_searches",defaultMessage:"Related searches:"},related_search:{id:"search.related_search",defaultMessage:"Related search:"}});class N extends c.a.Component{constructor(...e){super(...e),n()(this,"renderPill",(e,t,s,a)=>{const n=e.name,r=e.position,i=e.xobniId,o=e.emails,d=e.email||(void 0===o?[]:o)[0],l=this.context.getThemeMode()===O.h.DARK;return c.a.createElement(T.a,{key:i,email:d,isCompose:!1,name:n},c.a.createElement(A.a,{value:n,title:r,contactId:i,contactEmail:d,isLastElement:t===s.length-1,isSelected:a,onPillClick:()=>this.props.onClick(e),contact:e,useEllipsis:!0,maxWidth:b.PillMaxWidths.S,isDark:l,dragDropPill:this.props.dragDropPill}))})}static filterContacts(e,t){const s=t.map(({email:e})=>e);return e.length&&(e=e.filter(e=>{const t=e.email,a=e.emails;return!!(t||(void 0===a?[]:a)[0])&&-1===s.indexOf(t)})),e}render(){const e=this.props.maxContactsVisible,t=N.filterContacts(this.props.contacts,[]).slice(0,e),s=t.length>1?R.related_searches:R.related_search,a=this.context.getCss(f.a);return t.length>0&&c.a.createElement("div",{className:a.container,"data-test-id":"search-suggest-contact"},c.a.createElement("div",{className:a.labelPadding},c.a.createElement(E.FormattedMessage,s)),t.map((e,s)=>this.renderPill(e,s,t,!1)))}}n()(N,"contextTypes",{intl:E.intlShape.isRequired,getCss:i.a.func,getThemeMode:i.a.func}),n()(N,"defaultProps",{tabIndex:-1,maxContactsVisible:2,selectedContacts:[],contacts:[]});var M=N,D=s(27),y=s(40),L=s(14),v=s(18),P=s(7);const F=Object(E.defineMessages)({messages_aria_label:{id:"search.messages_aria_label",defaultMessage:"Messages, selected"},images_aria_label:{id:"search.images_aria_label",defaultMessage:"Images, selected"},documents_aria_label:{id:"search.documents_aria_label",defaultMessage:"Documents, selected"},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_documents:{id:"search.content_filter_documents",defaultMessage:"Documents"}});class w extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{imagesHeader:null}),n()(this,"handleContentTypeChange",(e,t)=>{const s=P.e["FILTER_"+t],a=s?{mKey:s,sec:P.g.HEADER_LIST,interactionType:Object(v.j)(e)}:null;this.props.onContentTypeChange({listContentType:t,i13nModel:a})}),n()(this,"renderContentTypeFilter",()=>{const e=this.props.activeContentType,t=this.context.intl.formatMessage,s=e===S.Pb.IMAGES,a=e===S.Pb.DOCUMENTS;return c.a.createElement(m.a,null,c.a.createElement(p.a,{isSelected:e===S.Pb.MESSAGES,onClick:e=>this.handleContentTypeChange(e,S.Pb.MESSAGES),"data-test-id":"btn-messages-tab",title:t(F.content_filter_messages)}),c.a.createElement(p.a,{isSelected:s,onClick:e=>this.handleContentTypeChange(e,S.Pb.IMAGES),"data-test-id":"btn-photos-tab",title:t(F.content_filter_images),itemRef:e=>{this.state.imagesHeader||this.setState({imagesHeader:e})}}),c.a.createElement(p.a,{isSelected:a,onClick:e=>this.handleContentTypeChange(e,S.Pb.DOCUMENTS),"data-test-id":"btn-documents-tab",title:t(F.content_filter_documents)}),this.renderSearchCue())}),n()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),n()(this,"renderSearchCue",()=>this.props.showSearchCue&&this.state.imagesHeader?c.a.createElement(y.a,{popoverAnchor:this.state.imagesHeader,align:L.a.CENTER,triggerOn:L.i.MOUNT,permittedArrowDirections:[L.h.UP],offset:16,ref:e=>{this.popoverContent=e},zAltitude:b.ZIndices.POPOVER.HIGH},c.a.createElement(D.a,{import:"../molecules/search_header/atoms/search_cue",cueName:S.ub.SEARCH_CUE,onShow:this.updateContent,close:this.props.activeContentType!==S.Pb.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1226))},_moduleResolver:function(){return 1226}})):null),n()(this,"renderSuggestedWords",()=>{const e=this.props.suggestedWords,t=l()(e,1)[0];return t?c.a.createElement(I,{suggestedWord:t}):null}),n()(this,"renderSuggestedContacts",()=>{const e=this.props,t=e.suggestedContacts;return e.suggestedWords.length?null:!this.props.isPeopleSearch&&t&&t.length>0&&c.a.createElement(M,{contacts:t,onClick:this.props.onContactClick,dragDropPill:e.dragDropPill})})}render(){const e=this.context.getCss(_.a);return c.a.createElement("div",null,c.a.createElement("div",{className:e.searchHeader,"data-test-id":"search-header"},this.renderContentTypeFilter(),this.renderSuggestedWords(),this.renderSuggestedContacts()))}}n()(w,"contextTypes",{getCss:i.a.func,intl:E.intlShape.isRequired});var k=w,x=s(10),U=s(17),G=s(11),j=s(15);class H extends c.a.Component{constructor(...e){super(...e),n()(this,"handleContentTypeChange",({listContentType:e,i13nModel:t})=>{this.context.navigateTo({route:{name:S.gd.SEARCH,params:{query:Object(x.Y)(Object(x.W)(this.props.listId,{listContentType:e}))}},i13nModel:t})}),n()(this,"handleContactClick",e=>{const t=e.name,s=e.emails,a=e.email||(void 0===s?[]:s)[0];this.context.navigateTo({route:Object(U.u)({emailAddresses:a,name:t})})})}render(){return c.a.createElement(k,{suggestedWords:this.props.suggestedWords,onContentTypeChange:this.handleContentTypeChange,onContactClick:this.handleContactClick,isPeopleSearch:Object(x.K)(this.props.listId),activeContentType:Object(x.t)(this.props.listId),keyword:Object(x.s)(this.props.listId),suggestedContacts:this.props.suggestedContacts,showSearchCue:this.props.showSearchCue,dragDropPill:this.props.dragDropPill})}}n()(H,"contextTypes",{executeAction:i.a.func,navigateTo:i.a.func.isRequired});t.a=Object(j.connect)((e,t)=>{const s=Object(x.W)(t.listId,{listContentType:S.Pb.PEOPLE,listFilter:S.Qb.WITH_KEYWORD}),a=Object(G.b)(e),n=a.doesListExist,r=a.getPeopleListItems,i=a.getListSuggestedWords,o=a.getCurrentListId,c=(0,a.getFeaturesSelectors)(),d=n(s)?r(s):[],l=c.isEnabled("dragDropPill"),u=o();return{suggestedWords:n(u)?i(u):[],suggestedContacts:d,dragDropPill:l,showSearchCue:c.isEnabled(S.ub.SEARCH_CUE)}})(H)},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(15),_=s(66),m=s(20),p=s(87),h=s(122),g=s(5),E=s(6),I=s(19),S=s(783),C=s.n(S);const f=Object(E.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},close_ad_thank_you:{id:"ad.close_thank_you",defaultMessage:"close"},upgrade_now_btn_label:{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."},upsell_message_trail_plan_caption:{id:"ad.upsell_message_trail_plan_caption",defaultMessage:"Want an ad-free inbox? Try {YahooMailProBrand} for free!"},upsell_message_trial_plan_caption_short:{id:"ad.upsell_message_trial_plan_caption_short",defaultMessage:"Try {YahooMailProBrand} for free!"},thank_you_message_caption:{id:"ad.thank_you_message_caption",defaultMessage:"We'll review your feedback and make changes as needed."},thank_you:{id:"ad.thank_you_message",defaultMessage:"Thank you for your feedback."}});class T extends l.a.Component{constructor(...e){super(...e),i()(this,"openPaymentPage",()=>{this.props.mailProEligible&&Object(h.a)(Object(p.a)(this.context.config,"adFreeMailUrl"))})}render(){const e=this.props,t=e.isCompactLayout,s=e.mailProEligible,a=this.context.intl.formatMessage,n=this.context.getCss(C.a,{isCompactLayout:t}),r=t?f.upsell_message_trial_plan_caption_short:f.upsell_message_trail_plan_caption;return l.a.createElement("div",{className:n.thankYouContainer,"data-test-id":"feedback_thank_you"},l.a.createElement("div",{className:n.textContainer,onClick:this.openPaymentPage},l.a.createElement("div",{className:n.header},l.a.createElement("span",{className:n.thankYou},a(f.thank_you)),t?null:l.a.createElement("span",null,""),s?a(r,{YahooMailProBrand:a(f.yahoo_mail_pro_branding)}):null),s?null:l.a.createElement("div",{className:n.caption,title:a(f.thank_you_message_caption)},a(f.thank_you_message_caption))),s?l.a.createElement(I.a,{onClick:this.openPaymentPage,className:n.upgradeNow,title:a(f.upgrade_now_btn_label),"data-test-id":"upgrade-now"},a(f.upgrade_now_btn_label)):null,l.a.createElement("div",{className:n.close,"data-test-id":"close"},l.a.createElement(m.a,{kind:g.b.CLOSE,size:g.d.XXS,colorState:g.a.DISABLED,onClick:this.props.onAdFeedbackClose,title:a(f.close_ad_thank_you)})))}}i()(T,"contextTypes",{intl:E.intlShape.isRequired,config:c.a.object,getCss:c.a.func.isRequired});var A=T,b=s(465),O=s.n(b),R=s(0);const N=Object(E.defineMessages)({ad_offensive:{id:"ad.offensive",defaultMessage:"It's offensive"},ad_notRelevant:{id:"ad.notRelevant",defaultMessage:"It's not relevant"},ad_keepSeeing:{id:"ad.keepSeeing",defaultMessage:"I keep seeing this"},ad_somethingElse:{id:"ad.somethingElse",defaultMessage:"Something else:"},close_ad_feedback:{id:"ad.close_feedback",defaultMessage:"close"},ad_done:{id:"ad.feedback_done",defaultMessage:"Done"},ad_form_question:{id:"ad.form_question",defaultMessage:"Before you close this ad, would you tell us why you didn't like it?"}});class M extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{active:""}),i()(this,"getChoice",()=>this.state.active),i()(this,"onChange",e=>{this.setState({active:e})}),i()(this,"onAdFeedbackSubmit",e=>{e.preventDefault(),this.props.submitAdFeedback({reason:this.getChoice(),comment:this.state.active===R.vb.SOMETHING_ELSE?this.refs.input.value:"",sectionId:this.props.sectionId})}),i()(this,"renderRadio",e=>{const t=e===R.vb.SOMETHING_ELSE,s=this.state.active===R.vb.SOMETHING_ELSE,a=this.context.getCss(O.a,{freeTextFocused:s,isCompactLayout:this.props.isCompactLayout});return l.a.createElement("div",{className:a.optionContainer},l.a.createElement("input",{className:a.radio,type:"radio",name:"adFeedbackRadio",onChange:this.onChange.bind(this,e),checked:t?s:null}),l.a.createElement("span",{className:a.text},l.a.createElement(E.FormattedMessage,N["ad_"+e])),t?l.a.createElement("input",{className:a.freeText,onFocus:this.onChange.bind(this,R.vb.SOMETHING_ELSE),ref:"input",onKeyDown:e=>e.stopPropagation()}):null)})}render(){const e=this.context.intl.formatMessage,t=this.context.getCss(O.a,{isCompactLayout:this.props.isCompactLayout});return l.a.createElement("form",{className:t.container,"data-test-id":"feedback-list-item"},l.a.createElement("div",{className:t.header},l.a.createElement("span",{className:t.title,title:e(N.ad_form_question)},e(N.ad_form_question)),l.a.createElement("span",{className:t.close,"data-test-id":"feedback-close"},l.a.createElement(m.a,{kind:g.b.CLOSE,size:g.d.XXS,colorState:g.a.DISABLED,onClick:this.props.onAdFeedbackClose,title:e(N.close_ad_feedback)}))),l.a.createElement("div",{className:t.columns},l.a.createElement("div",{className:t.column},this.renderRadio(R.vb.OFFENSIVE),this.renderRadio(R.vb.NOT_RELEVANT)),l.a.createElement("div",{className:t.column},this.renderRadio(R.vb.KEEP_SEEING),this.renderRadio(R.vb.SOMETHING_ELSE)),l.a.createElement("div",{className:t.buttonGroup},l.a.createElement(I.a,{"data-test-id":"feedback-done",onClick:this.onAdFeedbackSubmit,title:e(N.ad_done),marginLess:!0},l.a.createElement(E.FormattedMessage,N.ad_done)))))}}i()(M,"contextTypes",{intl:E.intlShape.isRequired,getCss:c.a.func.isRequired});var D=M,y=s(11),L=s(7);class v extends l.a.Component{constructor(...e){super(...e),i()(this,"onAdFeedbackClose",(e,t)=>{const s=this.props,a=s.sectionId,n=s.closeAdFeedback;e.preventDefault(),n({i13nModel:{mKey:L.e.PENCIL_AD_FEEDBACK_CLOSED,sec:L.g.MSG_LIST_AD,actionData:{sectionId:a,feedbackSubmitted:t}},sectionId:a})}),i()(this,"onAdFeedbackSubmit",e=>{const t=this.props,s=t.sectionId,a=t.submitAdFeedback,r=t.pencilAdVersion,i=n()({i13nModel:{mKey:L.e.PENCIL_AD_FEEDBACK_SUBMITTED,sec:L.g.MSG_LIST_AD,actionData:n()({sectionId:s},e)},sectionId:s},e);["pencilAdVersionV3Test2","pencilAdVersionV3Test6","pencilAdVersionV3Test7"].indexOf(r)>-1&&(i.disablePencilAd=r),a(i)})}render(){return this.props.adFeedbackSubmitted?l.a.createElement(A,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!0),isCompactLayout:this.props.isCompactLayout,mailProEligible:this.props.mailProEligible}):l.a.createElement(D,{onAdFeedbackClose:e=>this.onAdFeedbackClose(e,!1),submitAdFeedback:this.onAdFeedbackSubmit,isCompactLayout:this.props.isCompactLayout,sectionId:this.props.sectionId})}}i()(v,"contextTypes",{executeAction:c.a.func,store:c.a.object});t.a=Object(u.connect)((e,t)=>{const s=Object(y.b)(e),a=s.getFeaturesSelectors,n=s.getSetting,r=t.sectionId,i=(0,s.getAdsSelectors)(),o=i.getAdFeedbackBeacon,c=i.getAdFeedbackStatus,d=a().isEnabled,l=o(t.sectionId),u=c()[r]===R.m.SUBMITTED,_=n(R.zd.PREVIEW_PANE)===R.Rc.RIGHT,m=n(R.zd.PENCIL_AD_VERSION);return{adFeedbackSubmitted:u,isCompactLayout:_,adFeedbackBeacon:l,mailProEligible:d(R.ub.MAIL_PRO_ELIGIBLE),pencilAdVersion:m}},e=>({closeAdFeedback:t=>e(Object(_.c)(t)),submitAdFeedback:t=>e(Object(_.B)(t))}))(v)},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(15),_=s(6),m=(s(42),s(80)),p=s(7),h=s(18),g=s(17),E=s(22),I=s(701),S=s.n(I),C=s(11),f=s(49),T=s(442),A=s(703),b=s.n(A),O=s(13);const R=s.n(O)()(b.a),N=e=>{return e.isBusiness?l.a.createElement("span",{className:R.footer}):l.a.createElement("div",{"data-test-id":"contact-card-footer",className:R.containerFooter},l.a.createElement("div",{className:R.footerText},l.a.createElement(_.FormattedMessage,{id:"contact_card.footer",defaultMessage:"Auto generated card visible only to you"})))};N.defaultProps={isBusiness:!1};var M=N,D=s(557),y=s(558),L=s(616),v=s(559),P=s(560),F=s(209),w=s(0),k=s(138),x=s(117),U=s(66),G=s(20),j=s(5),H=s(75),B=s(178);const V=()=>{},W=250,q=Object(_.defineMessages)({addToContacts:{id:"add_to_contacts",defaultMessage:"Add to contacts"},editContact:{id:"edit_contact",defaultMessage:"Edit contact"}});class z extends l.a.Component{constructor(e){super(e),i()(this,"redirectToAffiliateLink",(e,t,s)=>{const a=this.props,n=a.showVigLink,r=a.openVigLink,i=a.openPriceGrabberLink,o=(a.contact||{}).website,c={mKey:t||p.e.CONTACT_CARD_CLICKED,sec:s||p.g.RIGHT_RAIL,actionData:{url:o}};a.showPriceGrabberWrapperLink?(window.open(Object(H.b)(o,w.Lc,"priceGrabber"),"_blank","noreferrer"),i({i13nModel:c})):n&&(window.open(Object(H.b)(o,w.E),"_blank","noreferrer"),r({i13nModel:c})),e.stopPropagation()}),i()(this,"handleDoubleClick",e=>{e.preventDefault(),window.clearTimeout(this.cardBodyTimeout),this.cardBodyTimeout=null}),i()(this,"handleClick",e=>{const t=this.props.isEnhancedContactCard;Object(B.a)(this.contactCardRef)||(t&&null===this.cardBodyTimeout&&(this.cardBodyTimeout=window.setTimeout(()=>{this.cardBodyTimeout=null,this.redirectToAffiliateLink(e)},W)),e.stopPropagation())}),i()(this,"openComposeView",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,s=t.email;t.isCompose||(0,t.dispatchActionToNewRoute)({route:Object(g.g)(Object(h.g)()),mailtoAttr:`mailto:${s}`,i13nModel:{mKey:p.e.CONTACT_CARD_EMAIL_CLICKED,sec:p.g.CONTACT_CARD,interactionType:Object(h.j)(e)}})}),i()(this,"handleContactNameDoubleClick",e=>{e.preventDefault(),window.clearTimeout(this.cardNameTimeout),this.cardNameTimeout=null}),i()(this,"handleContactNameClick",e=>{if(e.stopPropagation(),e.preventDefault(),Object(B.a)(this.contactCardRef))return;const t=this.props,s=t.contact.name,a=t.email,n=t.onSearchRequested;t.isEnhancedContactCard&&e.target&&"contact-card-name"===e.target.getAttribute("data-id")?null===this.cardNameTimeout&&(this.cardNameTimeout=window.setTimeout(()=>{this.cardNameTimeout=null,this.redirectToAffiliateLink(e,p.e.CONTACT_CARD_NAME_CLICKED)},W)):n({name:s,email:a})}),i()(this,"handleAddToContacts",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,s=t.contact;this.props.addToContacts({id:s?s.xobniId:void 0,email:t.email,isCompose:t.isCompose,name:w.dd.CONTACTS_PANE,i13nModel:{mKey:p.e.CONTACT_CARD_ADD_TO_CONTACTS,sec:p.g.CONTACT_CARD,interactionType:Object(h.j)(e)}})}),i()(this,"handleEditContact",e=>{const t=this.props,s=t.contact;this.props.editContact({id:s?s.xobniId:void 0,isCompose:t.isCompose,name:w.dd.CONTACTS_PANE,i13nModel:{mKey:p.e.CONTACT_CARD_EDIT_CONTACT,sec:p.g.CONTACT_CARD,interactionType:Object(h.j)(e)}})}),this.contactCardRef=l.a.createRef(),this.cardBodyTimeout=null,this.cardNameTimeout=null}componentDidMount(){this._getContactDetailsTimer=setTimeout(()=>{this.props.getContactDetails()},0)}componentDidUpdate(){const e=this.props.onUpdateFinished;e&&e()}componentWillUnmount(){this._getContactDetailsTimer&&clearTimeout(this._getContactDetailsTimer)}render(){const e=this.props,t=e.email,s=e.isInRightRail,a=e.contact,r=e.name,i=e.isCompose,o=e.relationshipHistory,c=e.hasCoupons,d=e.showVigLink,u=e.showPriceGrabberWrapperLink,m=e.enableAddToContacts,p=e.enableEditContacts,h=e.isEnhancedContactCard;if(!a)return null;const g=a||{},I=g.isBusiness,C=void 0!==I&&I,f=g.phonesWithType,A=void 0===f?[]:f,b=g.name,O=g.position,R=g.website,N=g.xobniId,w=s?Object(E.k)(this.context,!0):{},k=Object(E.m)({context:this.context,includeMedium:!0}),U=s&&(c||d||u),H=this.context.getCss(S.a,n()({isInRightRail:s,isCompose:i,partnerIconEnabled:U,isEnhancedContactCard:h,isEnhancedInRightRail:s&&h},w)),B=A[0],W=a.facebook||a.linkedin||a.twitter,z="ltr"===Object(x.getTextDirection)(t)?H.rtlIgnoreDirLTR:H.rtlIgnoreDirRTL,K=this.context.intl.formatMessage;return l.a.createElement("div",{ref:this.contactCardRef,"data-test-id":"contact-card",className:H.container,onClick:this.handleClick,onDoubleClick:h?this.handleDoubleClick:V,key:t},l.a.createElement("div",null,U&&!h&&l.a.createElement(F.a,{isOnDarkBackground:k,size:j.d.S}),l.a.createElement("div",{className:H.contactFlexContainer},l.a.createElement(y.a,{email:t,id:N,website:R,isBusiness:C,redirectToAffiliateLink:this.redirectToAffiliateLink}),l.a.createElement("div",{className:H.rightColElement},l.a.createElement("div",{className:H.header},l.a.createElement(L.a,{name:b||r,email:t,isInRightRail:s,onContactNameClick:this.handleContactNameClick,onContactNameDoubleClick:h?this.handleContactNameDoubleClick:V,isEnhancedContactCard:h}),l.a.createElement(v.a,{position:O,isInRightRail:s})),C&&l.a.createElement(P.a,{website:R,isBusiness:!0,redirectToAffiliateLink:this.redirectToAffiliateLink,contextOfUse:h?"enhancedContactCard":""}),h&&C?null:l.a.createElement("a",{"data-test-id":"contact-card-email",className:H.email+" "+z,title:t,onClick:this.openComposeView},t),B&&l.a.createElement("div",{"data-test-id":"contact-card-phone",className:H.phone,title:B.number},B.number),l.a.createElement("div",{className:h?H.unclickableArea:null,onClick:e=>h?e.stopPropagation():()=>{}},h&&C?l.a.createElement("span",{className:H.sharingPanel},l.a.createElement(G.a,{kind:j.b.INBOX,size:j.d.XS,onClick:this.openComposeView,colorState:j.a.INHERITED,className:H.openComposeIcon,paddingLess:!0,title:t,"data-test-id":"open-email-icon"}),W&&l.a.createElement("span",{className:H.vertical}),l.a.createElement(T.a,{contact:a,isInRightRail:s,contextOfUse:"enhancedContactCard"})):l.a.createElement(T.a,{contact:a,isInRightRail:s}),m&&l.a.createElement("a",{"data-test-id":"add-to-contacts",title:K(q.addToContacts),className:H.contacts,onClick:this.handleAddToContacts},l.a.createElement(_.FormattedMessage,{id:"add_to_contacts_from_card",defaultMessage:"+ Add to contacts"})),p&&l.a.createElement("a",{"data-test-id":"edit-contacts",title:K(q.editContact),className:H.contacts,onClick:this.handleEditContact},l.a.createElement(_.FormattedMessage,{id:"edit_contacts_from_card",defaultMessage:"Edit contact"}))))),l.a.createElement(D.a,{relationshipHistory:o,isBusiness:C})),!s&&l.a.createElement(M,{isBusiness:C}))}}i()(z,"contextTypes",{executeAction:c.a.func.isRequired,intl:_.intlShape,getCss:c.a.func,getThemeMode:c.a.func,getTheme:c.a.func,config:c.a.object}),i()(z,"defaultProps",{isInRightRail:!1});t.a=Object(u.connect)((e,t)=>{const s=t.email,a=Object(C.b)(e),n=a.getContactById,r=a.doesPeopleContactExistByXobniId,i=a.getCouponsSelectors,o=a.isFeatureEnabled,c=a.getSetting,d=a.getRelationshipHistoryByXobniId,l=a.getContactListSelectors,u=(0,a.doesContactIdExist)(s)?n(s):void 0,_=u&&t.showContactSummary,m=i().emailHasCoupons(),p=c(w.zd.VIGLINK_BLACKLIST),h=o(w.ub.VIGLINK)&&u&&u.isBusiness&&u.website&&!p.some(e=>-1!==u.website.toLowerCase().indexOf(e)),g=u&&u.isBusiness&&u.website&&o(w.ub.ENHANCE_CONTACT_CARD),E=g&&o(w.ub.PRICE_GRABBER_WRAPPER_LINK),I=l(),S=I.isUserAddedContact,f=I.getContactIdByEmail,T=I.isEditable,A=o(w.ub.ADD_EDIT_FROM_LIST_CARD),b=f(s);return{contact:u,hasCoupons:m,showVigLink:h,showPriceGrabberWrapperLink:E,relationshipHistory:_&&r(u.xobniId)?d(u.xobniId):void 0,isEnhancedContactCard:g,enableAddToContacts:A&&!S(b),enableEditContacts:A&&S(b)&&T(b)}},(e,t)=>{const s=t.email,a=t.isCompose,n=t.contact;return{dispatchActionToNewRoute:t=>e(Object(f.j)(t)),getContactDetails:()=>{n||e(Object(m.e)({email:s,isCompose:a}))},onSearchRequested:({name:t,email:s})=>e(Object(k.u)({smtp:s,name:t})),addToContacts:t=>e(Object(m.a)(t)),editContact:t=>e(Object(m.m)(t)),openVigLink:t=>e(Object(U.D)(t)),openPriceGrabberLink:t=>e(Object(U.q)(t))}})(z)},function(e,t,s){"use strict";s(8);var a=s(1),n=s.n(a),r=s(6),i=s(13),o=s.n(i),c=s(660),d=s.n(c),l=s(484),u=s(0),_=s(58),m=s(18),p=s(7),h=s(16),g=s(5);const E=(e,t)=>{const s=e.lastImportedTime,i=t.intl.formatDate;switch(e.accountStatus){case u.Md.CONNECTED:return n.a.createElement(r.FormattedMessage,{id:"importAccountItem.connectedImportMessage",defaultMessage:"Importing new contacts everyday."});case u.Md.EXPIRED:return n.a.createElement(r.FormattedMessage,{id:"importAccountItem.expiredImportMessage",defaultMessage:"Last imported on {date}.",values:{date:i(s)}});case u.Md.QUEUED:return n.a.createElement(r.FormattedMessage,{id:"importAccountItem.queuedImportMessage",defaultMessage:"Import in progress"});case u.Md.FAILED:return n.a.createElement(a.Fragment,null,n.a.createElement(h.b,{kind:g.b.EXCLAMATION_ALT,size:g.d.XXS,colorState:g.a.WARNING_GRAD_RED}),n.a.createElement(r.FormattedMessage,{id:"importAccountItem.errorImportMessage",defaultMessage:"Error importing contacts. Try importing again."}));case u.Md.NOT_CONNECTED:default:return null}};E.contextTypes={intl:r.intlShape.isRequired};var I=E;s.d(t,"a",function(){return S});const S={[u.ob.GOOGLE]:{importMKey:p.e.IMPORT_GMAIL_CONTACTS,disconnectMKey:p.e.DISCONNECT_GMAIL_CONTACTS,displayName:_.a.gmail_account_description},[u.ob.YAHOO]:{importMKey:p.e.IMPORT_YMAIL_CONTACTS,disconnectMKey:p.e.DISCONNECT_YMAIL_CONTACTS,displayName:_.a.yahoo_account_description},[u.ob.AOL]:{importMKey:p.e.IMPORT_AOL_CONTACTS,disconnectMKey:p.e.DISCONNECT_AOL_CONTACTS,displayName:_.a.aol_account_description},[u.ob.OUTLOOK]:{importMKey:p.e.IMPORT_OUTLOOK_CONTACTS,disconnectMKey:p.e.DISCONNECT_OUTLOOK_CONTACTS,displayName:_.a.outlook_account_description}},C=(e,t)=>{const s=e.provider,a=e.accountStatus,i=e.lastImportedTime,c=e.onConnect,_=e.onDisconnect,h=o()(d.a),g=t.intl.formatMessage,E=S[s]||{},C=a===u.Md.CONNECTED||a===u.Md.QUEUED;return n.a.createElement("li",{className:h.listItem,onClick:e=>{let t,a;C?(t=E.disconnectMKey,a=_):(t=E.importMKey,a=c),a({url:"",provider:s,providerType:"EMAIL_PROVIDERS",providerName:E.displayName?g(E.displayName):s,i13nModel:{mKey:t,sec:p.g.SETTINGS_SOCIAL_ACCOUNTS_TAB,interactionType:Object(m.j)(e)}})},role:"button"},n.a.createElement(l.a,{accountType:s,"aria-hidden":!0}),n.a.createElement("div",{className:h.accountInfo},n.a.createElement("div",{className:h.accountName},E.displayName?g(E.displayName):s),n.a.createElement("div",{className:h.accountStatusInfo},n.a.createElement(I,{accountStatus:a,lastImportedTime:i}))),n.a.createElement("div",{className:h.accountStatus},n.a.createElement(r.FormattedMessage,C?{id:"import_account_item.disconnectButtonText",defaultMessage:"Stop importing"}:{id:"import_account_item.importButtonText",defaultMessage:"Import"})))};C.contextTypes={intl:r.intlShape.isRequired};t.b=C},,function(e,t,s){"use strict";e.exports={className:{default:{pillContent:"C_Z281SGl k_w e_6Eb4 b_Z14vXdP M_dRA H_6MGW i_6Mbr ac_C ab_C D_F p_R o_h I_52qC Z_N",avatar:"D_F P_dBP",pillRemove:"D_F p_a R_0 T_0 q_q H_6D6F P_3gIgH M_0 en_0",pillText:"P_oRhLS",dragHoverContent:"D_F H_6D6F W_6D6F p_a T_0 L_0 Z_N",dragHoverLeft:"em_N",dragHoverRight:"em_N",pillContainer:"p_R",editInput:"s_3qWeB b_dm5 A_6EqO"},isHovered:{pillContent:"I_ZoExDJ J_x l_ZoExDJ"},isDragImg:{pillContent:"b_2fAfSG"},isSelected:{pillContent:"l_Z2aVTcY I_ZoExDJ"},hasError:{pillContent:"b_Z1222NH I_Zkgkoa",pillText:"P_3gJOe"},useEllipsis:{pillText:"k_BF J_x o_h G_e"},isDark:{pillContent:"C_52qC I_2sqbPK b_efTvb"},isFolderPill:{pillDiv:"W_6LEV H_6LEV I_ZnIF8Y D_F ab_C gl_C e_e5X"},isDragged:{pillContainer:"D_n"},"dragSide-left":{pillContent:"Q_GAbAU",dragHoverRight:"em_0"},"dragSide-right":{pillContent:"E_GAbAU",dragHoverLeft:"em_0"}},_key:"CLv4H"}},function(e,t,s){"use strict";e.exports={className:{default:{surveyContainer:"W_3zBDu I_52qC",headerSection:"D_F gl_C ek_BB p_R",imageWrapper:"D_F gl_C je_6MGW",optOutBackground:"D_F W_3vqYW gl_C aw_1hc10n H_7kKt",titleText:"t_C A_6FsP u_e69 Y_6LEV",closeButton:"p_a T_6Eb4 R_6Eb4",bodySection:"P_4dtF7",optionsContainer:"hd_n P_0 M_0",textArea:"H_7rdk W_3v3uk V_GM e_dRA b_2w4l8N Y_6MGW y_Z2uhb3X A_6EqO jw_n N_eo6 X_eo6 I_ZnkeaL",buttonWrapper:"Y_6Eb4 P_1DfIQP D_F",messageCounter:"C_Z1VRpVF t_r H_6Eb4",submitMessage:"C_Z1YRXYn t_C je_6Fd5 jb_6MGW",sadFace:"H_7yHc W_7yHc",chick:"H_7yHc W_7yHc D_n"},isPanelFocus:{textArea:"I_52qC l_Z2aVTcY"},submit:{sadFace:"D_n",chick:"D_B"}},_key:"2q9hzL"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"r_P D_F W_6D6F p_R P_3Y3Gk ir_0",fromField:"u_b en_0 C4_Z2aVTcY",fromEmail:"u_N C_Z1VRpVF",snippet:"J_x o_h C_Z1VRpVF",snippetContainer:"J_x o_h G_e Q_fq7",fromRow:"D_F en_0",avatar:"en_0 Q_fq7 i_0",date:"D_F en_0 M_3gJOe A_6Eb4 C_Z1VRpVF",readUnread:"D_F ac_FT ab_CI en_0",star:"D_F ab_CI Y_689y en_0",attachment:"D_F en_0 s_6LEV H_6LEV M_Ue8I8",print:"en_0 s_6Fd5 H_6Fd5 M_3gJOe cdPFi_Z281SGl O_cMr O4_cMu",flexVertical:"o_h D_F em_N E_fq7",highlightedTerm:"I_2ieea9 D_X P_3zDxc"},"expandable-false":{header:"r_BN"},"expanded-false":{flexVertical:"ab_C",readUnread:"ab_C",star:"ab_C",date:"ab_C",attachment:"ab_C"},expanded:{header:"P_Zjgzuf",flexVertical:"ek_BB em_0"},isEnhancedMessageIcon:{avatar:"Q_6Eb4 E_eo6"},"starEnhancedExpanded-true":{star:"Y_68F4 cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},"starEnhancedExpanded-false":{star:"Y_e8l cdPFi_ZpQYvz H_6MGW W_6MGW lv_1IWXzk h_Z13pql2 h4_2d9T5e"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"}},_key:"ZiTIPg"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB H_3mTAr W_e5X",couponInfo:"C_Z281SGl u_e69 M_1e3P8Y",thumbnailsContainer:"D_F M_Z19maaf",thumbnails:"H_6UbO W_6UbO P_eo6 b_Z14vXdP M_3gIMd r_P e_dRA l4_Z29WjXl",overflowNumber:"H_6UbO W_6UbO P_eo6 b_Z14vXdP M_3gIMd r_P e_dRA l4_Z29WjXl C_Z1VRpVF u_e69 D_F gl_C ab_C",noCoupon:"C_Z1VRpVF Q_6LEV",potentialSavings:"C_Z2dwhMO Q_6EqO i_6CCW"},"themeMode-DARK":{thumbnails:"I_52qC"},isYM6GroceryEnabled:{container:"b_Z2VdQP W_3np4q"}},_key:"ZtBQCj"}},,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return n});const a=100,n="CONTACT_PICKER_DROPDOWN"},,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return l});var a=s(4),n=s.n(a),r=(s(68),s(2)),i=s(0),o=s(11),c=s(56),d=s(200);const l=e=>(t,s)=>{const a=Object(o.b)(s()),l=a.getFeaturesSelectors,u=(0,a.getMainStreamListIds)((0,a.getRoute)()),_=Object(c.a)(u),m=l().isEnabled(i.ub.CONVERSATIONS),p={triageActionType:i.ne.DELETE_ALL_FROM_SENDERS,conversations:m};return t(n()({},e,{name:i.zd.DELIVERY_BLOCKED_SENDERS,type:r.jb,streamId:_,allSelected:!0,destinationFolderType:i.Cb.TRASH,triageActionType:i.ne.DELETE_ALL_FROM_SENDERS,isAsync:!0,conversations:m,successAction:Object(d.b)(p),failureAction:Object(d.a)(p)}))};t.b=e=>(t,s)=>{const a=Object(o.b)(s()),d=(0,a.getMainStreamListIds)((0,a.getRoute)()),l=Object(c.a)(d);return t(n()({},e,{type:r.ib,name:i.zd.DELIVERY_BLOCKED_SENDERS,streamId:l}))}},,,,,,,,,,,function(e,t,s){"use strict";var a=s(31),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(6),l=s(43),u=s(13),_=s.n(u),m=s(16),p=s(5),h=s(458),g=s.n(h),E=s(680),I=s.n(E),S=s(20),C=s(681),f=s.n(C),T=s(682),A=s.n(T);function b({day:e,currentMonth:t,selectedDate:s,onSelect:a,showOtherMonths:n}){const r=e.getMonth()===t,i=Object(l.d)(e,s),o=_()(A.a,{isSelected:i,isToday:Object(l.w)(e)&&!i,isDisabled:(!r||Object(l.y)(e))&&!i});return r||n?c.a.createElement("div",{className:o.dayWrapper},c.a.createElement("span",{"data-test-id":"calendar-day",className:o.day,onClick:a.bind(null,e)},e.getDate())):c.a.createElement("span",{className:o.emptyDay})}const O=_()(f.a);function R({weekStart:e,selectedDate:t,currentMonth:s,onSelect:a,showOtherMonths:n}){return c.a.createElement("div",{className:O.weekWrapper},Object(l.f)(e).map((e,r)=>c.a.createElement(b,{key:r,day:e,onSelect:a,selectedDate:t,currentMonth:s,showOtherMonths:n})))}function N({currentView:e,currentMonth:t,selectedDate:s,onSelect:a,showOtherMonths:n}){return c.a.createElement("div",{"data-test-id":"calendar-days"},Object(l.g)(e).map((e,r)=>c.a.createElement(R,{key:r,weekStart:e,onSelect:a,selectedDate:s,currentMonth:t,showOtherMonths:n})))}const M=Object(d.defineMessages)({prevMonth:{id:"prev_month_text",defaultMessage:"Go to previous month"},nxtMonth:{id:"nxt_month_text",defaultMessage:"Go to next month"}}),D=_()(I.a);class y extends c.a.Component{constructor(...e){super(...e),i()(this,"setDate",e=>{this.props.onMonthChange&&this.props.onMonthChange(e)}),i()(this,"handleSelect",(e,t)=>{t.preventDefault(),e.getMonth()!==this.props.currentView.getMonth()&&this.props.onMonthChange(e),this.props.onSelect&&this.props.onSelect(e)}),i()(this,"nextMonth",()=>{const e=Object(l.b)(this.props.currentView);e.setDate(1),e.setMonth(e.getMonth()+1),this.setDate(e)}),i()(this,"previousMonth",()=>{const e=Object(l.b)(this.props.currentView);e.setDate(1),e.setMonth(e.getMonth()-1),this.setDate(e)}),i()(this,"swallowEvent",e=>{e.stopPropagation()}),i()(this,"renderMonthHeader",()=>{const e=this.context.intl.formatMessage;return c.a.createElement("div",{ref:"calendar",className:D.monthHeaderWrapper},c.a.createElement("span",{className:D.titleWrapper},c.a.createElement(d.FormattedDate,{value:this.props.currentView,month:"long",year:"numeric"})),c.a.createElement("span",{className:D.arrow},c.a.createElement(S.a,{paddingLess:!0,kind:p.b.CHEVRON_UP,size:p.d.XS,rotate:p.c.D270,colorState:p.a.SELECTED,onClick:()=>this.previousMonth(),title:e(M.prevMonth),"aria-label":e(M.prevMonth)})),c.a.createElement("span",{className:D.arrow},c.a.createElement(S.a,{paddingLess:!0,kind:p.b.CHEVRON_UP,size:p.d.XS,rotate:p.c.D90,colorState:p.a.SELECTED,onClick:()=>this.nextMonth(),title:e(M.nxtMonth),"aria-label":e(M.nxtMonth)})))}),i()(this,"renderWeekHeader",()=>{const e=[24,25,26,27,28,29,30].map(e=>{const t=Date.UTC(2016,6,e);return c.a.createElement("span",{key:e,className:D.dayHeader},c.a.createElement(d.FormattedDate,{value:t,timeZone:"UTC",weekday:"narrow"}))});return c.a.createElement("div",{className:D.dayHeaderWrapper},e)})}render(){const e=this.props,t=e.showOtherMonths,s=e.selectedDate,a=e.currentView;return c.a.createElement("div",{className:D.datepickerCalendar,onClick:this.swallowEvent,onMouseDown:this.swallowEvent},this.renderMonthHeader(),c.a.createElement("div",{className:D.daysWrapper},this.renderWeekHeader(),c.a.createElement(N,{currentView:a,selectedDate:s,onSelect:this.handleSelect,showOtherMonths:t,currentMonth:a.getMonth()})))}}i()(y,"contextTypes",{intl:d.intlShape.isRequired});var L=y,v=s(76),P=s(12);const F=Object(d.defineMessages)({calendar:{id:"calendar_text",defaultMessage:"Calendar"}}),w={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},k={ArrowDown:7,ArrowUp:-7,ArrowLeft:-1,ArrowRight:1},x={month:"2-digit",day:"2-digit",year:"numeric"},U=/[^a-z0-9]+/,G="yyyy-mm-dd";class j extends c.a.Component{constructor(e,t){super(e,t),i()(this,"getFormattedDate",e=>this.props.useISODateFormat?Object(l.m)(e):Object(l.e)(e,this.context.intl.locale,x)),i()(this,"offsetDate",(e,t)=>{e.preventDefault(),e.stopPropagation(),this.handleSelect(new Date(this.props.value.setDate(this.props.value.getDate()+t)))}),i()(this,"handleKeyDown",e=>{switch(e.key){case w.ARROW_UP:case w.ARROW_DOWN:case w.ARROW_LEFT:case w.ARROW_RIGHT:e.shiftKey&&this.offsetDate(e,k[e.key])}}),i()(this,"handleFocus",()=>{this.setState({hasFocus:!0}),this.keyboardListener.focus(),this.keyboardListener.select(),this.props.onStartEdit()}),i()(this,"handleBlur",()=>{this.setState({hasFocus:!1}),this.props.onDoneEdit(),this.state.validInput||this.props.onInvalidDateEntered(this.state.inputValue)}),i()(this,"handleSelect",e=>{this.props.onChange&&this.props.onChange(e),this.setState({inputValue:this.getFormattedDate(e),validInput:!0}),this.keyboardListener&&this.keyboardListener.focus()}),i()(this,"handleMonthChange",e=>{this.setState({currentView:e}),this.keyboardListener.focus()}),i()(this,"handleInputChange",(e,{target:{value:t}})=>{const s=t.split(U),a=["yyyy","mm","dd"].map(t=>{let a=s[e.split(U).indexOf(t)];return"mm"!==t&&"dd"!==t||a&&1===a.length&&(a="0"+a),a}),r=n()(a,3),i=r[1]+"/"+r[2]+"/"+r[0],o=new Date(i),c=i.length===e.length&&Object(l.x)(o)&&i===Object(l.e)(o,"en-US",x);c&&this.handleSelect(o),this.setState({inputValue:t,validInput:c})}),i()(this,"handleInputClick",e=>{this.state.hasFocus&&(e.preventDefault(),e.stopPropagation())}),i()(this,"getInputField",()=>{const e=this.state,t=e.validInput,s=e.inputValue,a=Object(l.e)(new Date("11/22/3333"),this.context.intl.locale,x),n=this.props.useISODateFormat?G:a.replace("3333","yyyy").replace("22","dd").replace("11","mm"),r=_()(g.a,{invalidInput:!t&&s.length>=n.length}),i=c.a.createElement("input",{type:"text",value:this.state.inputValue,placeholder:n,spellCheck:"false",ref:e=>{!this.keyboardListener&&e&&(this.keyboardListener=e)},onKeyDown:this.handleKeyDown,className:this.props.classNames.dateInput||r.dateInput,onClick:this.handleInputClick,onChange:e=>this.handleInputChange(n,e)});return c.a.createElement("div",null," ",c.a.createElement("span",{className:r.datePart}," ",i," ")," ")}),this.state={hasFocus:!1,currentView:null,inputValue:this.props.value?this.getFormattedDate(this.props.value):"",validInput:!0}}componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({inputValue:e.value?this.getFormattedDate(e.value):""})}render(){const e=this.state,t=e.currentView,s=this.props,a=s.label,n=s.disabled,r=s.value,i=s.showOtherMonths,o=s.zAltitude,d=s.popoverAlign,u=e.hasFocus&&!n,h=_()(g.a,{isFocused:u}),E=this.props.classNames,I=Object(l.i)(),S=c.a.createElement("div",{ref:"datepicker","data-test-id":"datepicker",className:E.datepickerInput||h.datepickerInput},c.a.createElement("span",{className:E.datepickerIcon||h.datepickerIcon,"data-test-id":"icon"},c.a.createElement(m.b,{size:p.d.XS,kind:p.b.CALENDAR_SETTINGS,title:this.context.intl.formatMessage(F.calendar),colorState:p.a.INHERITED})),c.a.createElement("span",{className:h.valueWrapper},c.a.createElement("label",{className:h.datepickerValue,"aria-label":a},this.getInputField())),c.a.createElement("div",{"data-test-id":"date-value",name:r||I}));return c.a.createElement(v.c,{triggerOn:v.b.CLICK,triggerOff:v.a.CLICK,onShown:this.handleFocus,onHide:this.handleBlur,disabled:n,zAltitude:o,align:d},S,c.a.createElement("div",{"data-test-id":"calendar"},c.a.createElement(L,{selectedDate:r,onSelect:this.handleSelect,showOtherMonths:i,currentView:t||r||I,onMonthChange:this.handleMonthChange,handleKeyDown:this.handleKeyDown})))}}j.defaultProps={disabled:!1,showOtherMonths:!0,zAltitude:P.ZIndices.POPOVER.MEDIUM,classNames:{},onInvalidDateEntered:()=>{},useISODateFormat:!1},j.contextTypes={intl:d.intlShape.isRequired};t.a=j},,,,function(e,t,s){"use strict";s.d(t,"c",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return c}),s.d(t,"d",function(){return d});var a=s(2),n=s(0),r=s(7);const i=({senderEmail:e,nearbyListing:t})=>({type:a.ql,senderEmail:e,nearbyListing:t}),o=({senderEmail:e=""})=>({type:a.pl,senderEmail:e}),c=e=>({type:a.Cd,email:e,i13nModel:{mKey:r.e.COUPON_STORE_LOCATOR_SHOWN,sec:r.g.CPN_STORE_LOCATOR,actionData:{email:e}}}),d=e=>({type:a.lj,name:n.zd.COUPON_STORE_LOCATOR_COLLAPSED,value:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"b",function(){return c}),s.d(t,"e",function(){return d}),s.d(t,"d",function(){return l});var a=s(4),n=s.n(a),r=s(2);const i=({i13nModel:e})=>({type:r.if,i13nModel:e}),o=({i13nModel:e})=>({type:r.Of,i13nModel:e}),c=e=>n()({type:r.Nf},e),d=e=>n()({type:r.xk},e),l=({error:e})=>({type:r.wk,error:e})},function(e,t,s){"use strict";s.d(t,"c",function(){return n}),s.d(t,"b",function(){return r}),s.d(t,"a",function(){return i});var a=s(2);const n=e=>({type:a.Eh,needToKnowNews:e}),r=e=>({type:a.Dh,error:e}),i=e=>({type:a.Ch,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"c",function(){return c}),s.d(t,"b",function(){return d}),s.d(t,"a",function(){return l});var a=s(4),n=s.n(a),r=s(2),i=s(11),o=s(0);const c=e=>(t,s)=>{const a=Object(i.b)(s()),c=e.query,d=c.keyword,l=c.product;if((0,a.getLocationSuggestionSelectors)().getLocationSuggestionStatus(d,l)===o.bd.DOES_NOT_EXIST)return t(n()({type:r.zg},e))},d=e=>n()({type:r.Ag},e),l=e=>n()({type:r.yg},e)},function(e,t,s){"use strict";s.d(t,"c",function(){return i}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return c});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.ui},e),o=e=>n()({type:r.ti},e),c=({i13nModel:e})=>({type:r.si,i13nModel:e})},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"b",function(){return c});var a=s(4),n=s.n(a),r=s(2);function i(e){return n()({type:r.rk},e)}function o(e){return{type:r.sk,id:e}}function c(e){return{type:r.mk,id:e}}},function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"c",function(){return o}),s.d(t,"b",function(){return c});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.Ai},e),o=e=>n()({type:r.zi},e),c=()=>({type:r.yi})},function(e,t,s){"use strict";var a=s(1),n=s.n(a),r=s(8),i=s(15),o=s(5),c=s(702),d=s.n(c),l=s(6),u=s(16),_=s(22);const m=Object(l.defineMessages)({backyard:{id:"contact_card.backyard",defaultMessage:"backyard profile"},flickr:{id:"contact_card.flickr",defaultMessage:"flickr profile"},facebook:{id:"contact_card.facebook",defaultMessage:"facebook profile"},linkedin:{id:"contact_card.linkedin",defaultMessage:"linkedin profile"},twitter:{id:"contact_card.twitter",defaultMessage:"twitter profile"}}),p=e=>{e.stopPropagation()},h=(e,t)=>{const s=t.intl.formatMessage,a=e.backyardLink,r=e.facebookLink,i=e.twitterLink,c=e.linkedinLink,l=e.flickrLink,h=e.isInRightRail,g=e.contextOfUse,E=void 0===g?"":g,I=Object(_.m)({context:t,includeMedium:!0}),S=h&&I,C=t.getCss(d.a,{darkVariations:S,isEnhancedContactCard:"enhancedContactCard"===E}),f=C.socialIcon,T=[{href:a&&`https://thestreet.ouroath.com/people/${a}@oath.com`,iconType:o.b.HOME,iconClassName:C.backyardIcon,title:s(m.backyard)},{href:r,iconType:o.b.FACEBOOK,colorState:S?o.a.INHERITED:o.a.FACEBOOK_ENABLED,iconClassName:f,title:s(m.facebook)},{href:i,iconType:o.b.TWITTER,colorState:S?o.a.INHERITED:o.a.TWITTER_ENABLED,iconClassName:f,title:s(m.twitter)},{href:c,iconType:o.b.LINKEDIN,colorState:S?o.a.INHERITED:o.a.LINKEDIN_ENABLED,iconClassName:f,title:s(m.linkedin)},{href:l,iconType:S?o.b.FLICKR_MONOCHROME:o.b.FLICKR,iconClassName:f,title:s(m.flickr)}].filter(({href:e})=>e);return T&&0!==T.length?n.a.createElement("div",{className:C.social},T.map(e=>(e=>{const t=e.iconType;return n.a.createElement("a",{"data-test-id":"contact-card-social",key:t,className:e.iconClassName,href:e.href,target:"_blank",onClick:p,title:e.title,rel:"noreferrer"},n.a.createElement(u.b,{kind:t,size:o.d.XS,colorState:e.colorState||o.a.INHERITED}))})(e))):null};h.defaultProps={isInRightRail:!1},h.contextTypes={intl:l.intlShape,getCss:r.func,getThemeMode:r.func,getTheme:r.func};t.a=Object(i.connect)((e,{contact:t={}})=>({backyardLink:t.backyard,facebookLink:t.facebook,twitterLink:t.twitter,linkedinLink:t.linkedin,flickrLink:t.flickr}))(h)},function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"a",function(){return r});const a=/\.\w*$/;function n(e){if("string"!=typeof e)return"";const t=e.match(a);return t?t[0]:""}function r(e,t){void 0===e?e="undefined":"string"!=typeof e&&(e=e.toString());let s=e.split("/").pop();return t&&s.substr(-t.length)===t&&(s=s.substr(0,s.length-t.length)),s}},function(e,t,s){"use strict";var a=s(31),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(6),_=s(826),m=s.n(_),p=s(90),h=s.n(p),g=s(15),E=s(7),I=s(64),S=s(45),C=s(0),f=s(11),T=s(19),A=s(5),b=s(16);const O=Object(S.a)("/img/discount_light.png"),R=Object(S.a)("/img/discount.png");class N extends l.a.Component{constructor(...e){super(...e),i()(this,"componentDidMount",()=>{const e=this.props,t=e.quotientRetailerName,s=e.showQuotientUpsellPill,a=e.messageIds;e.unusualDiscount&&I.b.sendI13nModel({i13nModel:{mKey:E.e.UNUSUAL_DISCOUNT,sec:E.g.MSG_LIST,actionData:{mid:a,sndr:e.domain,reason:{featurefamily:C.sb.IC,featurename:C.ub.UNUSUAL_DISCOUNT_EXISTS}}}}),s&&I.b.sendI13nModel({i13nModel:{mKey:E.e.QTNTVIEW_MESSAGELIST+"_invoke",sec:E.g.QUOTIENT,actionData:{mid:a,reason:{featurefamily:C.sb.IC,featurename:C.ub.QUOTIENT,upselltype:"msglist",retailername:t,origin:"msglist"}}}})}),i()(this,"openQuotientModal",e=>{e.preventDefault(),e.stopPropagation(),this.props.openLinkModal({retailerId:this.props.quotientRetailerId,parentName:"msglist",i13nModel:{mKey:E.e.QTNTVIEW_MESSAGELIST,sec:E.g.QUOTIENT,actionData:{reason:{featurefamily:C.sb.IC,featurename:C.ub.QUOTIENT,upselltype:"msglist",retailername:this.props.quotientRetailerName,actiontype:"click",origin:"msglist"}}}})}),i()(this,"renderUnusualDiscountPill",(e,t)=>l.a.createElement("div",{"data-test-id":"unusual-discount-pill"},l.a.createElement(T.a,{className:e.extractedInfoPill},l.a.createElement("div",{className:e.extractedInfoPillText},l.a.createElement("img",{className:e.unusualDiscountImg,src:t?O:R,"aria-hidden":!0}),l.a.createElement(u.FormattedMessage,{id:"coupon_card.unusualDiscount",defaultMessage:"Unusual discount"}))))),i()(this,"renderQuotientUpsellPill",(e,t)=>l.a.createElement("div",{"data-test-id":"upsell-pill"},l.a.createElement(T.a,{className:h()(e.extractedInfoPill,e.extractedInfoPillBgColor),onClick:this.openQuotientModal},l.a.createElement("div",{className:e.extractedInfoPillText},l.a.createElement(b.b,{kind:A.b.BASKET,size:A.d.XXS,colorState:t?A.a.WHITE:A.a.DARK}),"",l.a.createElement(u.FormattedMessage,{id:"coupon_card.quotient_upsell",defaultMessage:"Save on groceries"})))))}render(){const e=this.props,t=e.showShopRunnerCard,s=e.showQuotientUpsellPill,a=e.isDarkThemeMode,n=!!e.unusualDiscount,r=(0,this.context.getCss)(m.a,{isDarkThemeMode:a,showUnusualDiscount:n,showQuotientUpsellPill:s});return l.a.createElement("div",null,!t&&n?this.renderUnusualDiscountPill(r,a):null,s?this.renderQuotientUpsellPill(r,a):null)}}i()(N,"contextTypes",{getCss:c.a.func}),i()(N,"defaultProps",{quotientRetailerId:"",openLinkModal:()=>{},senders:[],showQuotientUpsellPill:!1,domain:"",unusualDiscount:"",messageIds:[],quotientRetailerName:"",isDarkThemeMode:!1,showShopRunnerCard:!1});t.a=Object(g.connect)((e,t)=>{const s=Object(f.b)(e),a=s.isFeatureEnabled,r=s.getShopRunnerRetailersSelectors,i=t.senders,o=void 0===i?[]:i;let c=!1;if(o.length>0){let e="";const t=(0,s.getContentProviders)(),i=t.doesContentProviderExist,u=t.isContentProviderConnected;var d=(o.length&&o[0].email?o[0].email:"").split("@"),l=n()(d,2)[1];e=void 0===l?"":l;const _=(0,r().getRetailerFromSubdomain)(e);c=(!i(C.W.SHOPRUNNER)||!u(C.W.SHOPRUNNER))&&a(C.ub.MSG_READ_SHOPRUNNER_CARD)&&!!_}return{showShopRunnerCard:c}})(N)},function(e,t,s){"use strict";s.r(t);var a=s(23),n=s.n(a),r=s(4),i=s.n(r),o=s(3),c=s.n(o),d=s(156),l=s(106),u=s.n(l),_=s(46),m=s.n(_),p=s(8),h=s.n(p),g=s(1),E=s.n(g),I=s(13),S=s.n(I),C=s(29),f=s.n(C),T=s(6),A=s(15),b=s(190),O=s(377),R=s(5),N=s(37),M=s(20),D=s(791),y=s.n(D),L=s(227),v=s(42);const P=5;class F extends E.a.Component{constructor(e,t){super(e,t),this.onScroll=this.onScroll.bind(this),this.handleScrollToTopClick=this.handleScrollToTopClick.bind(this),this.elementContainer=E.a.createRef(),this.scrollToTopRendered=!1}handleScrollToTopClick(){(0,this.props.forceScrollToTop)()}onScroll(e){const t=this.props,s=t.onScroll,a=t.config,n=a.scrollThresholdPercentage||P,r=e.getScrollPercent();r>n&&!this.scrollToTopRendered?(f.a.render(a.render(),this.elementContainer.current),this.scrollToTopRendered=!0):r<n&&this.scrollToTopRendered&&(f.a.unmountComponentAtNode(this.elementContainer.current),this.scrollToTopRendered=!1),s(e)}render(){const e=S()(y.a),t=this.props,s=t.scrollTop;return E.a.createElement("div",{className:e.listContainer},E.a.createElement(t.WrappedList,n()({},this.props,{onScroll:this.onScroll,scrollTop:s})),E.a.createElement("div",{ref:this.elementContainer,onClick:this.handleScrollToTopClick}))}}c()(F,"defaultProps",{onScroll:()=>{},WrappedList:L.a,config:{},scrollTop:0});var w=F,k=s(54),x=s(0),U=s(7),G=s(22),j=s(18),H=s(25),B=s(10),V=s(12),W=s(85),q=s(387),z=s(385),K=s(223),Z=s(65),Y=s(16),X=s(19),Q=s(792),$=s.n(Q),J=s(17),ee=s(75),te=s(204);const se=Object(T.defineMessages)({coupon_aria_label:{id:"coupon_aria_label",defaultMessage:"{fromName}'s coupon"},sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"},openMessage:{id:"coupon.openMessage",defaultMessage:"Open Message"}});class ae extends E.a.Component{constructor(...e){super(...e),c()(this,"state",{hovered:!1,openMailClicked:!1,parentMessageRequested:!1}),c()(this,"handleOpenMail",e=>{const t=this.state.openMailClicked;e.preventDefault(),e.stopPropagation(),t||this.setState({openMailClicked:!0})}),c()(this,"openParentMessage",()=>{const e=this.props,t=e.listId,s=e.groupId,a=e.cardConversationId,n=e.getParentGroupId,r=this.state.parentMessageRequested;if(s){const a={mKey:U.e.COUPON_OPENED,sec:U.g.COUPONS_LIST,actionData:{cardMid:e.cardMid,fromEmail:e.fromEmail,isClipped:e.clipped,viglinkEnabled:e.viglinkEnabled}};this.props.onCouponClick({route:Object(J.q)(t,s),streamItem:{listId:t,id:s},i13nModel:a,full:!0}),this.setState({openMailClicked:!1})}else r||(n(a),this.setState({parentMessageRequested:!0}))}),c()(this,"handleViglinkClick",()=>{this.props.viglinkClicked({i13nModel:{mKey:U.e.COUPON_LIST_VIGLINK_CLICKED,sec:U.g.COUPONS_LIST,actionData:{url:this.props.dealLink}}})}),c()(this,"clipCoupon",e=>{e.preventDefault(),e.stopPropagation();const t=this.props;this.props.clip({cardMid:t.cardMid,schemaId:t.schemaId,i13nModel:{mKey:U.e.COUPON_CLIPPED,sec:U.g.COUPONS_LIST}})}),c()(this,"unclipCoupon",e=>{e.preventDefault(),e.stopPropagation();const t=this.props;this.props.unclip({cardMid:t.cardMid,schemaId:t.schemaId,i13nModel:{mKey:U.e.COUPON_UNCLIPPED,sec:U.g.COUPONS_LIST}})})}componentDidUpdate(){this.state.openMailClicked&&this.openParentMessage()}render(){const e=this.props,t=e.fromEmail,s=e.fromName,a=e.clipped,r=e.description,i=e.hideBottomBorder,o=e.dealLink,c=e.viglinkEnabled,d=e.daysUntilExpiry,l=e.isInferredDate;if(!t||!s||!r)return null;const u=this.context.intl.formatMessage,_=this.context.getTheme(),m=this.context.getThemeMode(),p=S()($.a,{themeCombo:`${m}_${_}`,themeMode:m,hideBottomBorder:i}),h=c&&o?{href:Object(ee.b)(o,x.H),onClick:this.handleViglinkClick,target:"_blank",title:r}:null;return E.a.createElement("a",n()({role:"row","data-test-id":"coupon-list-item","aria-label":u(se.coupon_aria_label,{fromName:s}),onClick:this.handleOpenMail,className:p.container,key:this.props.schemaId,onMouseOver:()=>this.setState({hovered:!0}),onMouseLeave:()=>this.setState({hovered:!1}),rel:"noreferrer"},h),E.a.createElement("span",{className:p.avatar},E.a.createElement(Z.d,{"data-test-id":"coupon-vendor-xavatar",contact:{email:t},size:Z.c.C,useFallbackImage:!1})),E.a.createElement("div",{className:p.subContainer},E.a.createElement("div",{className:p.vendorGrid},E.a.createElement("span",{"data-test-id":"coupon-vendor-name",className:p.vendorName,title:t},s)),E.a.createElement("div",{className:p.infoGrid},a?E.a.createElement(X.a,{className:p.clippedButton,onClick:this.unclipCoupon,"data-test-id":"unclip-coupon-btn"},E.a.createElement(Y.b,{kind:R.b.SCISSORS,size:R.d.XXS,colorState:R.a.INVERTED})):E.a.createElement(X.a,{className:p.unclippedButton,onClick:this.clipCoupon,"data-test-id":"clip-coupon-btn"},E.a.createElement(Y.b,{kind:R.b.SCISSORS,size:R.d.XXS,colorState:R.a.INHERITED})),E.a.createElement("span",{"data-test-id":"coupon-description",className:c&&o?p.vigLinkDescription:p.description},r),this.state.hovered?E.a.createElement(M.a,{kind:R.b.SELECTED,size:R.d.XS,onClick:this.handleOpenMail,colorState:R.a.INHERITED,className:p.openEmailIcon,title:u(se.openMessage),"data-test-id":"open-email-icon"}):null,E.a.createElement("div",{className:p.dateWrapper,"data-test-id":"expiry-date-wrapper"},a?E.a.createElement("strong",{"data-test-id":"clipped-cpn-expiry-info"},E.a.createElement(te.a,{daysUntilExpiry:d,isInferred:l})):E.a.createElement("span",{className:p.unclippedCpnExpiryInfo,"data-test-id":"unclipped-cpn-expiry-info"},E.a.createElement(te.a,{daysUntilExpiry:d,isInferred:l}))))))}}c()(ae,"contextTypes",{intl:T.intlShape.isRequired,getUrlFromRoute:h.a.func,getThemeMode:h.a.func,getTheme:h.a.func,executeAction:h.a.func});var ne=Object(A.connect)(null,K.d)(ae),re=s(268),ie=s.n(re),oe=s(259),ce=s(122),de=s(346);const le=Object(T.defineMessages)({RECOMMENDATION:{id:"shopping_cart_ad.recommendation",defaultMessage:"Recommended item"},ADD_TO_CART:{id:"shopping_cart_ad.add_to_cart",defaultMessage:"Item from your shopping cart"},VIEW:{id:"shopping_cart_ad.view",defaultMessage:"Pick up where you left off"},learnMore:{id:"learn_more_btn_label",defaultMessage:"Learn More"}}),ue={};class _e extends g.Component{constructor(...e){super(...e),c()(this,"state",{adImageHover:!1}),c()(this,"listNode",document.querySelector('[data-test-id="mail-reader-list-container"]')),c()(this,"onAdChoiceClicked",e=>{e.preventDefault(),e.stopPropagation(),Object(ce.a)(this.props.aboutAdsUrl)}),c()(this,"onAdImageHoverChange",(e,t)=>{e.preventDefault(),e.stopPropagation(),this.props.adVersion===x.gb.CTR_ON_IMG&&this.setState({adImageHover:t})}),c()(this,"onAdClicked",()=>{this.props.onAdClicked({i13nModel:{mKey:U.e.DEALS_SHOPPING_CART_AD_CLICKED,sec:U.g.COUPONS_LIST}})})}componentDidMount(){const e=this.props.pencilAd&&this.props.pencilAd.clickUrl;e&&!ue[e]&&(this.shoppingCartBeaconTimer=setTimeout(()=>{ue[e]||(this.props.onAdRendered({i13nModel:{mKey:U.e.DEALS_SHOPPING_CART_AD_RENDERED,sec:U.g.SHOPPING_CART}}),ue[e]=!0)},0))}componentWillUnmount(){clearTimeout(this.shoppingCartBeaconTimer)}render(){const e=this.props,t=e.pencilAd,s=e.adVersion,a=s===x.gb.THEMED_BUTTON,n=this.context.getCss(ie.a,{isWideView:e.isWideView,isCompactView:e.isCompactView,themedAdActivity:a,ctaOnImg:!a}),r=this.context.intl.formatMessage,i=t.clickUrl,o=t.origImg,c=t.productAdActivity,d=t.productAdActivityMessage,l=t.adHeadline,u=t.adSource,_=t.sectionId,m=t.callToAction,p=le[c]?r(le[c]):d,h=a?{color:V.WHITE}:{};return i?E.a.createElement(de.a,{rootNode:this.listNode,pencilAdData:t,sectionId:_,className:n.viewabilityTracker},E.a.createElement("a",{className:n.adContainer,href:i,target:"_blank",rel:"noreferrer",onClick:this.onAdClicked},E.a.createElement("div",{className:n.imageContainer,style:{backgroundImage:`url(${o})`},onMouseEnter:e=>this.onAdImageHoverChange(e,!0),onMouseLeave:e=>this.onAdImageHoverChange(e,!1)},s===x.gb.CTR_ON_IMG?E.a.createElement("div",{className:n.ctaBackground},E.a.createElement("span",{className:n.cta,style:this.state.adImageHover?{visibility:"visible"}:{}},m)):null),E.a.createElement("span",{className:n.content},E.a.createElement("div",{className:n.fromNameContainer},E.a.createElement("span",{className:n.fromName},u),E.a.createElement("button",{className:n.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},E.a.createElement(Y.b,{kind:R.b.SPONSORED,size:R.d.XS,colorState:R.a.INHERITED}))),E.a.createElement("span",{className:n.description},l),E.a.createElement("span",{className:n.adActivity,style:h},p||r(le.RECOMMENDATION))))):null}}c()(_e,"defaultProps",{pencilAd:{}}),c()(_e,"contextTypes",{getCss:h.a.func,intl:T.intlShape.isRequired});var me=Object(A.connect)(K.f,K.e)(_e),pe=s(298);class he extends g.Component{constructor(...e){super(...e),c()(this,"handleViglinkClick",()=>{this.props.viglinkClicked({i13nModel:{mKey:U.e.COUPON_LIST_VIGLINK_CLICKED,sec:U.g.COUPONS_LIST,actionData:{url:this.props.dealLink}}})}),c()(this,"src",()=>{const e=this.props.fromEmail,t=this.context.appId;return Object(oe.a)({email:e},80,Z.b,t)})}render(){const e=this.props,t=e.fromName,s=e.description,a=e.daysUntilExpiry,r=e.isInferredDate,i=e.viglinkEnabled,o=e.dealLink,c=e.mainContentWidth,d=e.creativeId,l=c>pe.b,u=c<pe.a,_=this.context.getCss(ie.a,{isWideView:l,isCompactView:u}),m=!d,p=i&&o?{href:Object(ee.b)(o,x.H),onClick:this.handleViglinkClick,target:"_blank",title:s,rel:"noreferrer"}:null;return m?E.a.createElement("a",n()({className:_.container},p),E.a.createElement("img",{className:_.image,src:this.props.imageUrl||this.src()}),E.a.createElement("span",{className:_.content},E.a.createElement("span",{className:_.fromName},t),E.a.createElement("span",{className:_.description},s),E.a.createElement("span",{className:_.expiration},E.a.createElement(te.a,{daysUntilExpiry:a,isInferred:r})))):E.a.createElement(me,n()({},this.props,{isWideView:l,isCompactView:u}))}}c()(he,"contextTypes",{getCss:h.a.func,appId:h.a.string});var ge=Object(A.connect)(null,K.d)(he);class Ee extends E.a.Component{render(){const e=this.context.getCss(ie.a);return E.a.createElement("div",{className:e.row},this.props.items.map(e=>E.a.createElement(ge,n()({key:e.schemaId||e.creativeId,mainContentWidth:this.props.mainContentWidth},e))))}}c()(Ee,"contextTypes",{getCss:h.a.func});var Ie=s(467),Se=s.n(Ie);const Ce=Object(T.defineMessages)({title:{id:"no_linked_grocery_stores.title",defaultMessage:"Save with grocery coupons"},primary_text:{id:"no_linked_grocery_stores.primary_text",defaultMessage:"Get <b>discounts at the store</b> by adding coupons in Yahoo Mail"},link_card_step_1:{id:"no_linked_grocery_stores.link_card_step_1",defaultMessage:"Select your grocery store"},link_card_step_2:{id:"no_linked_grocery_stores.link_card_step_2",defaultMessage:"Add coupons you like"},link_card_step_3:{id:"no_linked_grocery_stores.link_card_step_3",defaultMessage:"Save at checkout"}});class fe extends E.a.Component{constructor(...e){super(...e),c()(this,"_renderStep",(e,t,s)=>{const a=this.context.intl.formatMessage,n=this.context.getTheme(),r=this.context.getThemeMode(),i=r===G.h.DARK,o=S()(Se.a,{themeMode:r,themeCombo:`${r}_${n}`});return E.a.createElement("div",{className:o.step},E.a.createElement("div",{className:o.stepTitle},E.a.createElement("div",{className:o.stepNumber},s),E.a.createElement(Y.b,{kind:e,size:R.d.S,colorState:i?R.a.WHITE:R.a.IMPROVED_GRAY_DARK})),E.a.createElement("div",{className:o.stepText},a(t)))})}render(){const e=this.context.intl.formatMessage,t=this.context.getTheme(),s=this.context.getThemeMode(),a=S()(Se.a,{themeMode:s,themeCombo:`${s}_${t}`});return E.a.createElement("div",{className:a.container,"data-test-id":"no-linked-retailers-row"},E.a.createElement("div",{className:a.content},E.a.createElement("div",{className:a.text},E.a.createElement("div",{className:a.title},e(Ce.title)),E.a.createElement(T.FormattedHTMLMessage,Ce.primary_text)),E.a.createElement("div",{className:a.stepContainer},this._renderStep(R.b.CONTACTCARD_OUTLINE,Ce.link_card_step_1,1),this._renderStep(R.b.ADDATTACHMENT,Ce.link_card_step_2,2),this._renderStep(R.b.CART,Ce.link_card_step_3,3))))}}c()(fe,"contextTypes",{intl:T.intlShape.isRequired,getTheme:h.a.func,getThemeMode:h.a.func});var Te=s(78),Ae=s(163),be=s(11),Oe=s(229),Re=s(797),Ne=s.n(Re);const Me=Object(T.defineMessages)({link_loyalty_card:{id:"retailer_card.link_loyalty_card",defaultMessage:"Select"},view_coupons:{id:"retailer_card.view_coupons",defaultMessage:"View coupons"}});class De extends E.a.Component{constructor(...e){super(...e),c()(this,"state",{showQuotientModal:!1}),c()(this,"handleLoyaltyCardLinkClick",e=>{e.stopPropagation(),this.setState({showQuotientModal:!0})}),c()(this,"renderLoyaltyCardLink",e=>{return E.a.createElement("div",{className:e.actionContainer},E.a.createElement("div",{"data-test-id":"loyalty-card-link",className:e.link},(0,this.context.intl.formatMessage)(Me.link_loyalty_card)))}),c()(this,"renderViewCouponsLink",e=>{return E.a.createElement("div",{className:e.actionContainer},E.a.createElement("div",{"data-test-id":"view-coupons-link",className:e.link},(0,this.context.intl.formatMessage)(Me.view_coupons)))}),c()(this,"handleQuotientModalClose",()=>{this.setState({showQuotientModal:!1})}),c()(this,"handleQuotientModalSuccess",()=>{this.setState({showQuotientModal:!1})}),c()(this,"renderQuotientModal",e=>E.a.createElement(Oe.default,{"data-test-id":"quotient-modal",retailerId:e,onSuccess:this.handleQuotientModalSuccess,onClose:this.handleQuotientModalClose,parentName:"grocerystorelist"})),c()(this,"handleRetailerCardClick",e=>{const t=this.props,s=t.quotientModalShown,a=t.retailerInfo,n=a.id,r=a.linked,i={mKey:U.e.QTNTVIEW_SMARTVIEW_ACTION,sec:U.g.QUOTIENT,actionData:{reason:{featurefamily:x.sb.IC,featurename:x.ub.QUOTIENT,viewtype:"grocerystorelist",actiontype:r?"viewcoupon":"linkstore",origin:"smartview"}}};r||t.fetchFromAstra?this.context.navigateTo({route:Object(J.n)(n),i13nModel:i}):(this.handleLoyaltyCardLinkClick(e),s({i13nModel:i}))})}render(){const e=this.props,t=e.brandImage,s=e.fetchFromAstra,a=e.retailerInfo,n=void 0===a?{}:a,r=n.id,i=void 0===r?"":r,o=n.displayName,c=void 0===o?"":o,d=n.linked,l=void 0!==d&&d,u=this.context.getTheme(),_=this.context.getThemeMode(),m=S()(Ne.a,{themeMode:_,themeCombo:`${_}_${u}`});return E.a.createElement("a",{"data-test-id":"retailer-card","aria-label":c,onClick:this.handleRetailerCardClick,className:m.container},E.a.createElement("div",{"data-test-id":"retailer-icon",className:m.icon},E.a.createElement("img",{className:m.image,src:t,onError:e=>Object(Ae.a)(e,x.Wc)}),E.a.createElement("div",{className:m.overlayContainer},E.a.createElement("div",{className:m.overlay}))),E.a.createElement("div",{"data-test-id":"retailer-header",className:m.header},c),l||s?this.renderViewCouponsLink(m):this.renderLoyaltyCardLink(m),this.state.showQuotientModal?this.renderQuotientModal(i):null)}}c()(De,"contextTypes",{intl:T.intlShape.isRequired,getTheme:h.a.func,getThemeMode:h.a.func,navigateTo:h.a.func});var ye=Object(A.connect)((e,t)=>{const s=Object(be.b)(e),a=s.isFeatureEnabled,n=(0,s.getRetailersSelectors)().getBrandImageFromRetailerId,r=a(x.ub.ENABLE_ASTRA_FOR_GROCERY);return{brandImage:n(t.retailerInfo.id),fetchFromAstra:r}},e=>({quotientModalShown:t=>e(Object(Te.i)(t))}))(De),Le=s(798),ve=s.n(Le);var Pe=class extends E.a.Component{render(){const e=this.props.retailerGroup,t=S()(ve.a);return E.a.createElement("div",{className:t.container},e.map(e=>E.a.createElement(ye,{key:e.id,retailerInfo:e})))}},Fe=s(303),we=s(374);var ke=Object(A.connect)((e,t)=>{const s=t.cardMid,a=t.conversationId,n=t.messageId,r=Object(be.b)(e),i=r.getFeaturesSelectors,o=(0,r.getMessagesSelectors)().getFromAddresses,c=i().isEnabled(x.ub.CONVERSATIONS)?a:n,d=o(s);let l="",u="";return d&&d.length>0&&(l=d[0].email,u=d[0].name),{fromEmail:l,fromName:u,groupId:c}}),xe=s(799),Ue=s.n(xe);const Ge=Object(T.defineMessages)({receipt_aria_label:{id:"receipt_aria_label",defaultMessage:"{fromName}'s receipt"},receipt_multiple_items:{id:"receipt_multiple_items",defaultMessage:"& {numItems} other {numItems, plural, =1 {item} other {items}}"}});class je extends E.a.Component{constructor(...e){super(...e),c()(this,"handleReceiptClick",e=>{e.preventDefault();const t=this.props,s=t.listId,a=t.groupId,n={mKey:U.e.RECEIPT_OPENED,sec:U.g.RECEIPTS_LIST,actionData:{cardMid:t.cardMid,fromEmail:t.fromEmail}};this.props.onReceiptClick({route:Object(J.q)(s,a),streamItem:{listId:s,id:a},i13nModel:n})})}render(){const e=this.props,t=e.fromEmail,s=e.fromName,a=e.itemName,n=e.hideBottomBorder,r=e.price,i=e.currency,o=e.orderDate,c=e.numItems,d=this.context.intl,l=d.formatMessage,u=d.formatNumber,_=this.context.getTheme(),m=this.context.getThemeMode(),p=c<2?null:l(Ge.receipt_multiple_items,{numItems:c-1}),h=S()(Ue.a,{themeCombo:`${m}_${_}`,themeMode:m,hideBottomBorder:n,noItemName:!a}),g=()=>i?u(r,{style:"currency",currency:i}):`${(e=>parseFloat(e.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]).toFixed(2))(r)}`;return E.a.createElement("a",{role:"row","data-test-id":"receipt-list-item","aria-label":l(Ge.receipt_aria_label,{fromName:s}),onClick:this.handleReceiptClick,className:h.container},E.a.createElement("span",{className:h.avatar},E.a.createElement(Z.d,{"data-test-id":"receipt-vendor-xavatar",contact:{email:t},size:Z.c.C,useFallbackImage:!1})),E.a.createElement("div",{className:h.subContainer},E.a.createElement("div",{className:h.vendorGrid},E.a.createElement("span",{"data-test-id":"receipt-vendor-name",className:h.vendorName,title:t},s)),E.a.createElement("div",{className:h.infoGrid},E.a.createElement("span",{"data-test-id":"receipt-itemName",className:h.itemName},a," ",p),(e=>null!==e&&!isNaN(e))(r)?E.a.createElement("span",{"data-test-id":"receipt-price",className:h.price,"aria-label":g()},g()):null,E.a.createElement("div",{className:h.dateWrapper,"data-test-id":"date-received-wrapper"},E.a.createElement("span",{className:h.date,"data-test-id":"date-received-info"},E.a.createElement(T.FormattedDate,{value:new Date(o).toUTCString(),timeZone:"UTC",day:"2-digit",month:"short"}))))))}}c()(je,"contextTypes",{intl:T.intlShape.isRequired,getUrlFromRoute:h.a.func,getThemeMode:h.a.func,getTheme:h.a.func,executeAction:h.a.func});var He=ke(je),Be=s(386);var Ve=Object(A.connect)((e,t)=>{const s=t.schemaId,a=(0,(0,Object(be.b)(e).getFlightsSelectors)().getFlightCard)(s);return{departureAirportDesc:a.departureAirportDesc,departureAirportCode:a.departureAirportCode,departureAirportName:a.departureAirportName,arrivalAirportDesc:a.arrivalAirportDesc,arrivalAirportCode:a.arrivalAirportCode,arrivalAirportName:a.arrivalAirportName,departureTime:a.departureTime,arrivalTime:a.arrivalTime,flightNumber:a.flightNumber,passengers:a.passengers,providerName:a.providerName,providerIataCode:a.providerIataCode,reservationId:a.reservationId}}),We=s(24);const qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeZJREFUeNrsmlFLAkEUhVVWcimNBJdWiAiKCgsq6sf30GNPQU9ZEYaUkaChZUWGG3Six3ZmZ/XujtK57JO7DOebmXvuvWD2+OQ0M8uRy8x4EIAABCAAAQhAAAIQgAAE+L8AjtRCe7tb+Xz4atc3zde392kHKC+VHCd8taOD2tl5PSEGsSsEicpNchwwFBfmpxoAG3xx1UifQTKJH9ud9BmEXSh9BnkbBQMePYMq3YVdCM7oVcpj7Pfvj1Xf0zAg6YMgSBYAeakHgER8c9dqhzKMgq9SUXlbVlf822YrWQAog0S3MKf5ZnNjDUKHw8+/r7pPPTza0rGoetXrvwgA4IixSTvb6/olIj8YLzrd3v1DO5IkF5mRH2G7m0Lg9h7u11SJFMOF6mpbTCFwvJqbZgSAQ+w/DywyVJcrk9YBtJMWAVy3MCkAvFJTm5KO0SgQqMQinj2mHWm92BQAXmSFIfLwY/RCqGsixd88YB6aMSP2RAb1aBBMeklYuGHLiTVDOxH8jkJmUoLidYVYFE+E6/meufrJR03hdhrqDTsLEfWSQ30s9T/z52VDZMx3rKiXGgbErpAt9TIAFtULAGDcsaheJgdMelX0M6ghSdTBLP+tQgACEIAABCAAAQhAAAIQgACW4luAAQAJVQdmI18HzQAAAABJRU5ErkJggg==";const ze=Object(T.defineMessages)({viewEmail:{id:"flight.viewEmail",defaultMessage:"View email"},flightNumber:{id:"flight.flightNumber",defaultMessage:"Flight {flightNumber}"},confirmationNumber:{id:"flight.confirmation",defaultMessage:"Confirmation: {reservationId}"},depart:{id:"flight.depart",defaultMessage:"Depart"},arrive:{id:"flight.arrive",defaultMessage:"Arrive"}}),Ke={container:{width:"100%",maxWidth:`${197*V.GRID_UNIT}px`,minWidth:`${109*V.GRID_UNIT}px`,border:`1px solid ${V.FOURTH_LEVEL_GRAY}`,borderRadius:"2px",margin:`0 ${6*V.GRID_UNIT}px ${3*V.GRID_UNIT}px ${2*V.GRID_UNIT}px`},logo:{padding:`${3*V.GRID_UNIT}px`,verticalAlign:"top"},heading:{padding:`${3*V.GRID_UNIT}px 0 0 0`,fontSize:V.FONT_SIZE_M,fontWeight:V.BOLD,color:V.BLACK,verticalAlign:"middle",width:"88%"},headingCell:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",display:"inline-flex",flexFlow:"row nowrap",maxWidth:"100%",verticalAlign:"middle",lineHeight:"28px",padding:0},headingLeft:{flexGrow:1,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"},headingRight:{whiteSpace:"nowrap",minWidth:"48px"},dateTimeGroup:{width:"25%",padding:0},airlineGroup:{padding:`0 0 0 ${8*V.GRID_UNIT}px`,width:"50%"},date:{color:V.FIRST_LEVEL_GRAY,fontSize:V.FONT_SIZE_XXS,padding:0,lineHeight:"20px"},time:{fontSize:V.FONT_SIZE_L,padding:0},bottomRow:{backgroundColor:V.FIFTH_LEVEL_GRAY,height:"32px"},centerInfo:{padding:`0 0 ${3*V.GRID_UNIT}px 0`},passengers:{padding:0,fontSize:V.FONT_SIZE_S,verticalAlign:"middle",width:"50%",maxWidth:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},reservation:{fontWeight:V.MEDIUM,padding:`0 0 0 ${8*V.GRID_UNIT}px`},tableBasic:{width:"100%",border:0,borderSpacing:0,padding:0},tableFixed:{width:"100%",border:0,borderSpacing:0,padding:0,tableLayout:"fixed"},tdBasic:{padding:0},tdLastColumn:{padding:`0 ${3*V.GRID_UNIT}px 0 0`,width:"99%"},viewEmail:{textAlign:"right",padding:`${4*V.GRID_UNIT}px 0 0 0`,width:"99%"},viewEmailLink:{color:V.BASE_LINK_COLOR,fontSize:V.FONT_SIZE_XXS}},Ze={container:Object.assign({},Ke.container,{border:`1px solid ${Object(We.a)(V.WHITE,.2)}`}),heading:Object.assign({},Ke.heading,{color:V.WHITE,opacity:.8}),date:Object.assign({},Ke.date,{color:V.WHITE,opacity:.6}),time:Object.assign({},Ke.time,{color:V.WHITE,opacity:.8}),bottomRow:Object.assign({},Ke.bottomRow,{backgroundColor:Object(We.a)(V.WHITE,.1),color:V.WHITE,opacity:.8}),viewEmailLink:Object.assign({},Ke.viewEmailLink,{color:V.DARK_THEME_BLUE})},Ye=({actualTime:e,dateFallback:t,isDarkMode:s})=>{const a=function(e){return 25===e.length?Date.parse(e.substr(0,e.length-6)+"-00:00"):Date.parse(e)}(e),n=Number.isNaN(a);return E.a.createElement("table",{style:Ke.tableBasic},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",{style:s?Ze.date:Ke.date},n?t:E.a.createElement(T.FormattedDate,{value:a,timeZone:"UTC",weekday:"short",day:"numeric",month:"short"}))),E.a.createElement("tr",null,E.a.createElement("td",{style:s?Ze.time:Ke.time},n?"--":E.a.createElement(T.FormattedTime,{value:a,timeZone:"UTC",hour:"numeric",minute:"2-digit"})))))};class Xe extends E.a.Component{constructor(...e){super(...e),c()(this,"handleViewEmail",(e,t)=>{e.preventDefault();const s=this.props;this.context.navigateTo({route:t,streamItem:{listId:s.listId,id:s.groupId},i13nModel:{interactionType:U.d.click,mKey:U.e.TRAVEL_READ_MSG,sec:U.g.TRAVEL_LIST,mKeyGroup:U.f.open_msg}})})}render(){const e=this.props,t=e.departureAirportDesc,s=e.departureAirportCode,a=e.departureAirportName,n=e.arrivalAirportDesc,r=e.arrivalAirportCode,i=e.arrivalAirportName,o=e.departureTime,c=e.arrivalTime,d=e.flightNumber,l=e.passengers,u=e.providerName,_=e.providerIataCode,m=e.reservationId,p=e.listId,h=e.groupId,g=Object(J.q)(p,h),I=this.context.intl.formatMessage,S=t||a,C=n||i,f=this.context.getThemeMode()===G.h.DARK;return E.a.createElement("div",{style:f?Ze.container:Ke.container,"data-test-id":"flight-card"},E.a.createElement("table",{style:Ke.tableBasic},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",{style:Ke.logo},E.a.createElement(Z.d,{contact:{iataCode:_},size:Z.c.C,useFallbackImage:!1,customFallbackImageData:qe})),E.a.createElement("td",{style:Ke.tdLastColumn},E.a.createElement("table",{style:Ke.tableBasic},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",{style:Ke.tdBasic},E.a.createElement("table",{style:Ke.tableBasic},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",{style:f?Ze.heading:Ke.heading,"data-test-id":"card-heading"},E.a.createElement("table",{style:Ke.tableFixed},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",{style:Ke.headingCell},E.a.createElement("span",{style:Ke.headingLeft},S,s?` (${s})`:""," - ",C," "),E.a.createElement("span",{style:Ke.headingRight},r?`(${r})`:"")))))),E.a.createElement("td",{style:Ke.viewEmail},E.a.createElement("a",{href:this.context.getUrlFromRoute(g),style:f?Ze.viewEmailLink:Ke.viewEmailLink,onClick:e=>this.handleViewEmail(e,g),"data-test-id":"view-email"},I(ze.viewEmail)))))))),E.a.createElement("tr",null,E.a.createElement("td",{style:Ke.centerInfo},E.a.createElement("table",{style:Ke.tableBasic},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",{style:Ke.dateTimeGroup,"data-test-id":"depart-date"},E.a.createElement(Ye,{actualTime:o,dateFallback:I(ze.depart),isDarkMode:f})),E.a.createElement("td",{style:Ke.dateTimeGroup,"data-test-id":"arrive-date"},E.a.createElement(Ye,{actualTime:c,dateFallback:I(ze.arrive),isDarkMode:f})),E.a.createElement("td",{style:Ke.airlineGroup},E.a.createElement("table",{style:Ke.tableBasic},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",{style:f?Ze.date:Ke.date,"data-test-id":"airline-name"},u)),E.a.createElement("tr",null,E.a.createElement("td",{style:f?Ze.time:Ke.time,"data-test-id":"flight-no"},I(ze.flightNumber,{flightNumber:d}))))))))))))))),E.a.createElement("tr",{style:f?Ze.bottomRow:Ke.bottomRow},E.a.createElement("td",null,""),E.a.createElement("td",{style:Ke.tdLastColumn},E.a.createElement("table",{style:Ke.tableBasic},E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",{style:Ke.passengers},l.join(", ")),E.a.createElement("td",{style:Ke.reservation,"data-test-id":"confirmation"},I(ze.confirmationNumber,{reservationId:m}))))))))))}}c()(Xe,"contextTypes",{intl:T.intlShape.isRequired,navigateTo:h.a.func,getUrlFromRoute:h.a.func,getThemeMode:h.a.func});var Qe=Ve(Xe),$e=s(273),Je=s(191),et=s(49),tt=s(130),st=s(492),at=s(801),nt=s.n(at),rt=s(33),it=s.n(rt),ot=s(47),ct=s(79),dt=s(312);const lt=Object(T.defineMessages)({read:{id:"photo.grid.read_message",defaultMessage:"Read message"},download:{id:"photo.grid.download",defaultMessage:"Download"},forward:{id:"photo.grid.forward",defaultMessage:"Forward"},delete:{id:"photo.grid.delete",defaultMessage:"Delete"}}),ut=e=>{e.preventDefault(),e.stopPropagation()};class _t extends E.a.Component{constructor(e){super(e),c()(this,"state",{hovered:!1}),c()(this,"handleHover",e=>{this.setState({hovered:e})}),c()(this,"handleAttachmentPreviewOpen",e=>{ut(e);const t=this.props,s=t.item;(0,t.onAttachmentPreviewOpen)({i13nModel:{interactionType:U.d.click,mKey:U.e.PHOTO_OPEN,sec:U.g.PHOTO_LIST},attachment:t.attachment,attachmentMessageId:s.messageGroupId||s.messageId,previewable:s.previewable})}),c()(this,"handleMessageOpen",e=>{ut(e);const t=this.props,s=t.item;(0,t.onMessageOpen)({i13nModel:{interactionType:U.d.click,mKey:U.e.PHOTO_READ_MSG,mKeyGroup:U.f.open_msg,sec:U.g.PHOTO_LIST},attachment:t.attachment,messageRoute:t.messageRoute,messageId:s.messageId||s.messageGroupId})}),c()(this,"handleDownloadClick",e=>{ut(e);const t=this.props;(0,t.onAttachmentDownload)({attachment:t.attachment,i13nModel:{interactionType:U.d.click,mKey:U.e.PHOTO_DOWNLOAD,sec:U.g.PHOTO_LIST,mKeyGroup:U.f.dwnld_attmnt}})}),c()(this,"handleMessageDelete",()=>{const e=this.props,t=e.item;(0,e.onMessageDelete)({messageId:t.messageId,messageGroupId:t.messageGroupId,i13nModel:{interactionType:U.d.click,mKey:U.e.PHOTO_DELETE_PREVIEW_OPEN,sec:U.g.PHOTO_LIST}})}),c()(this,"handleForward",(e,t)=>{const s=this.props,a=s.attachment,n={mKey:U.e.PHOTO_SHARE,mKeyGroup:U.f.compose,sec:U.g.PHOTO_LIST,interactionType:U.d.click};(0,s.onForwardAttachments)({route:t,payload:{csid:e,attachments:a?[i()({},a,{disposition:x.w.Dispositions.INLINE})]:[],i13nModel:n}})}),this.photoItem=E.a.createRef()}componentDidUpdate(e){this.props.active&&!e.active&&this.photoItem.current.focus()}render(){const e=this.props,t=e.attachment,s=e.messageRoute,a=e.active,n=this.context.intl.formatMessage,r=t.thumbnailUrl,i=t.filename,o=t.downloadUrl,c=t.conversationId,d=!!c,l=S()(nt.a,{isMessageDeleteEnabled:d});return E.a.createElement("div",{tabIndex:a?V.TabIndices.MESSAGE_LIST_MAIN:-1,className:l.photoGrid+" photo-list-item","data-test-id":"photo-list-item",role:"button",onClick:this.handleAttachmentPreviewOpen,onMouseOver:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),"aria-label":i,title:i,ref:this.photoItem},E.a.createElement("div",{className:l.photoItemImg,style:{backgroundImage:`url(${Object(ot.l)(r,150)})`},"data-test-id":"photo-item-img"}),E.a.createElement("div",{className:l.photoOverlay}),this.state.hovered?E.a.createElement("div",{className:l.iconContainer,onClick:e=>ut(e)},s&&c?E.a.createElement("div",{className:l.photoActionBtn},E.a.createElement("a",{"data-test-id":"icon-btn-open-message",href:this.context.getUrlFromRoute(s),onClick:this.handleMessageOpen,rel:"noopener"},E.a.createElement(ct.a,{title:n(lt.read),kind:R.b.INBOX,size:R.d.XS,colorStates:{normal:R.a.INVERTED_LESS_DIM,hovered:R.a.INVERTED}}))):null,E.a.createElement("div",{className:l.photoActionBtn},E.a.createElement("a",{"data-test-id":"icon-btn-download-photo",href:o,onClick:this.handleDownloadClick,rel:"noopener"},E.a.createElement(ct.a,{title:n(lt.download),kind:R.b.DOWNLOAD,size:R.d.XS,colorStates:{normal:R.a.INVERTED_LESS_DIM,hovered:R.a.INVERTED}}))),d?E.a.createElement("div",{className:l.photoActionBtn,onClick:this.handleMessageDelete,"data-test-id":"icon-btn-delete-msg"},E.a.createElement(ct.a,{title:n(lt.delete),kind:R.b.DELETE,size:R.d.XS,colorStates:{normal:R.a.INVERTED_LESS_DIM,hovered:R.a.INVERTED}})):null,E.a.createElement("div",{className:l.forwardButton+" "+l.rtlRawScaleX},E.a.createElement(dt.a,{"data-test-id":"icon-btn-forward-photo",onForward:this.handleForward}))):null)}}c()(_t,"contextTypes",{intl:T.intlShape,getUrlFromRoute:h.a.func.isRequired});var mt=Object(A.connect)((e,t)=>{const s=t.item,a=t.listId,n=t.streamId,r=Object(be.b)(e),i=r.isFeatureEnabled,o=r.doesStreamExist,c=r.getCursorItem,d=(0,r.getAttachmentsSelectors)().getAttachmentById,l=i(x.ub.CONVERSATIONS),u=d(s.id),_=Object(J.p)({attachment:u,listId:a,isConversationMode:l}),m=o(n)&&c(n)||{};return{attachment:u,messageRoute:_,active:m.id===s.id&&m.listId===s.listId}},void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&it()(e.attachment,t.attachment)&&e.active===t.active})(_t),pt=s(803),ht=s.n(pt),gt=s(188),Et=s(153),It=s(280),St=s(83);const Ct=Object(T.defineMessages)({openMessage:{id:"document.item.open_message",defaultMessage:"Open Message"},openLink:{id:"document.item.open_link",defaultMessage:"Open the link"},download:{id:"document.item.download",defaultMessage:"Download"},forward:{id:"document.item.forward",defaultMessage:"Forward Document"},delete:{id:"document.item.delete",defaultMessage:"Delete message"}}),ft=e=>{e.preventDefault(),e.stopPropagation()};class Tt extends E.a.Component{constructor(e){super(e),c()(this,"state",{hovered:!1}),c()(this,"handleHover",e=>{this.setState({hovered:e})}),c()(this,"handleAttachmentPreviewOpen",e=>{ft(e);const t=this.props,s=t.item;(0,t.onAttachmentPreviewOpen)({i13nModel:{interactionType:U.d.click,mKey:U.e.DOC_OPEN,sec:U.g.DOC_LIST},attachment:t.attachment,attachmentMessageId:s.messageGroupId||s.messageId,previewable:s.previewable})}),c()(this,"renderAttachmentIcon",e=>{const t=this.props.attachment;return E.a.createElement(gt.a,n()({},t,{isInverted:e}))}),c()(this,"handleMessageOpen",e=>{ft(e);const t=this.props,s=t.item;(0,t.onMessageOpen)({i13nModel:{interactionType:U.d.click,mKey:U.e.DOC_READ_MSG,mKeyGroup:U.f.open_msg,sec:U.g.DOC_LIST},attachment:t.attachment,messageRoute:t.messageRoute,messageId:s.messageId||s.messageGroupId})}),c()(this,"handleDownloadClick",e=>{ft(e);const t=this.props;(0,t.onAttachmentDownload)({i13nModel:{mKey:U.e.DOC_OPEN_LINK,sec:U.g.DOC_LIST,interactionType:U.d.click},attachment:t.attachment})}),c()(this,"handleMessageDelete",e=>{ft(e);const t=this.props,s=t.item;(0,t.onMessageDelete)({i13nModel:{interactionType:U.d.click,mKey:U.e.DOC_DELETE_PREVIEW_OPEN,sec:U.g.DOC_LIST},messageGroupId:s.messageGroupId,messageId:s.messageId})}),c()(this,"handleForward",(e,t)=>{const s=this.props,a=s.attachment;(0,s.onForwardAttachments)({route:t,payload:{csid:e,attachments:a?[a]:[],i13nModel:{mKey:U.e.DOC_SHARE,mKeyGroup:U.f.compose,sec:U.g.DOC_LIST,interactionType:U.d.click}}})}),c()(this,"renderActions",e=>{const t=this.props,s=t.messageRoute,a=t.attachment,n=this.context.intl.formatMessage;return E.a.createElement("div",{className:e.documentAction,onClick:e=>ft(e)},s&&a.conversationId?E.a.createElement("div",{className:e.documentActionBtn},E.a.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-open-message",title:n(Ct.openMessage),href:this.context.getUrlFromRoute(s),onClick:this.handleMessageOpen},E.a.createElement(Y.b,{kind:R.b.INBOX,size:R.d.XS,colorState:R.a.INHERITED}))):null,E.a.createElement("div",{className:e.documentActionBtn},E.a.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-download-document",href:a.downloadUrl,target:a.isExternal?"_blank":null,title:n(a.isExternal?Ct.openLink:Ct.download),download:a.name,onClick:this.handleDownloadClick},E.a.createElement(Y.b,{kind:a.isExternal?R.b.LINK:R.b.DOWNLOAD,size:R.d.XS,colorState:R.a.INHERITED}))),E.a.createElement("div",{className:e.documentActionBtn},E.a.createElement(M.a,{"data-test-id":"icon-btn-delete",onClick:this.handleMessageDelete,kind:R.b.DELETE,size:R.d.XS,title:n(Ct.delete),colorState:R.a.INHERITED,paddingLess:!0})),E.a.createElement("div",{className:e.forwardButton+" "+e.rtlRawScaleX},E.a.createElement(dt.a,{"data-test-id":"icon-btn-forward-document",onForward:this.handleForward,colorStates:{normal:R.a.INHERITED,hovered:R.a.INHERITED}})))}),c()(this,"renderDateTime",e=>{const t=new Date(this.props.attachment.creationDate);return E.a.createElement("div",{className:e.documentTimeStamp,title:t.toLocaleString(this.context.intl.locale)},E.a.createElement(Et.a,{timezone:this.context.timezone.name,date:t}))}),this.documentItem=E.a.createRef()}componentDidUpdate(e){this.props.active&&!e.active&&this.documentItem.current.focus()}render(){const e=this.context,t=e.getCss,s=this.props,a=s.attachment,n=s.messageSubject,r=s.active,i=(0,e.getThemeMode)()===G.h.DARK,o=t(ht.a,{isDarkThemeMode:i}),c=a.size&&Object(It.prettyPrintBytes)(a.size);return E.a.createElement("div",{className:o.documentContainer+" document-list-item",onMouseOver:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),onClick:this.handleAttachmentPreviewOpen,tabIndex:r?V.TabIndices.MESSAGE_LIST_MAIN:-1,"data-test-id":"document-list-item",ref:this.documentItem},this.renderAttachmentIcon(i),E.a.createElement("div",{className:o.documentInfo},E.a.createElement("span",{className:o.filename,title:a.filename,"data-test-id":"filename"},a.filename),c?E.a.createElement("span",{className:o.filesize,title:c,"data-test-id":"filesize"},c):null,E.a.createElement("div",{className:o.messageSubject,title:Object(St.e)(n),"data-test-id":"file-message-subject"},E.a.createElement("span",null,Object(St.b)(n,!0,o.highlightSearchTerm)))),this.state.hovered?this.renderActions(o):null,this.renderDateTime(o))}}c()(Tt,"contextTypes",{intl:T.intlShape,timezone:v.e,getUrlFromRoute:h.a.func,getThemeMode:h.a.func,getCss:h.a.func});var At=Object(A.connect)((e,t)=>{const s=t.item,a=t.streamId,n=s.listId,r=s.id,i=Object(be.b)(e),o=i.isFeatureEnabled,c=i.doesMessageIdExist,d=i.getMessageSubject,l=i.doesStreamExist,u=i.getCursorItem,_=(0,i.getAttachmentsSelectors)().getAttachmentById,m=o(x.ub.CONVERSATIONS),p=_(r),h=Object(J.p)({attachment:p,listId:n,isConversationMode:m}),g=c(s.messageId)?d(s.messageId,n):void 0,E=l(a)&&u(a)||{};return{listId:n,attachment:p,messageRoute:h,messageSubject:g,active:E.id===s.id&&E.listId===s.listId}},void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&it()(e.attachment,t.attachment)&&e.active===t.active})(Tt);class bt extends E.a.Component{constructor(...e){super(...e),c()(this,"handleAttachmentPreviewOpen",({i13nModel:e,attachment:t,attachmentMessageId:s,previewable:a})=>{const n=this.props,r=n.listId;if(!a)return(0,n.onOpenAttachmentLink)({i13nModel:e}),void window.open(t.downloadUrl,"_blank");this.props.navigateToRoute({route:Object(J.e)(r,s,t.id,{fullscreen:"1"}),itemId:t.id,i13nModel:e})}),c()(this,"handleMessageOpen",({i13nModel:e,attachment:t,messageRoute:s,messageId:a})=>{this.props.navigateToRoute({route:s,hashParams:{messageId:a},itemId:t.id,i13nModel:e,full:!0})}),c()(this,"handleDownloadClick",({i13nModel:e,attachment:t})=>{(0,this.props.onAttachmentDownload)({attachment:t,i13nModel:e})}),c()(this,"renderDeletePreview",({messageId:e,messageGroupId:t})=>{Object(tt.a)(E.a.createElement(st.a,{listId:this.props.listId,messageId:e,groupId:t}),this.context)}),c()(this,"handleMessageDelete",({i13nModel:e,messageGroupId:t,messageId:s})=>{const a=this.props;(0,a.onDeleteMessage)({messageId:s,messageGroupId:t,listId:a.listId,i13nModel:e}),this.renderDeletePreview({messageId:s,messageGroupId:t})}),c()(this,"handleForward",({route:e,payload:t})=>{if(e)return this.props.navigateToRoute(i()({},t,{route:e}));this.props.onForwardAttachments(t)})}render(){const e=this.props,t=e.listId,s=e.item,a=e.streamId,n=Object(B.t)(t);return E.a.createElement("div",{"data-test-id":"attachment-list-item"},E.a.createElement(n===x.Pb.IMAGES?mt:At,{item:s,listId:t,streamId:a,onAttachmentPreviewOpen:this.handleAttachmentPreviewOpen,onMessageOpen:this.handleMessageOpen,onAttachmentDownload:this.handleDownloadClick,onMessageDelete:this.handleMessageDelete,onForwardAttachments:this.handleForward}))}}c()(bt,"contextTypes",{navigateTo:h.a.func.isRequired,intl:T.intlShape.isRequired,executeAction:h.a.func,config:h.a.object,getStore:h.a.func.isRequired,store:h.a.object.isRequired,timezone:v.e,getTheme:h.a.func.isRequired,getThemeMode:h.a.func.isRequired,getCss:h.a.func.isRequired,appId:h.a.string.isRequired});var Ot=Object(A.connect)(void 0,e=>({onOpenAttachmentLink(t){e(Object($e.c)(t))},onAttachmentDownload({attachment:t,i13nModel:s}){e(Object($e.a)({attachment:t,i13nModel:s}))},onDeleteMessage(t){e(Object(Je.c)(t))},onForwardAttachments(t){e(Object($e.b)(t))},navigateToRoute(t){e(Object(et.j)(t))}}))(bt),Rt=s(379),Nt=s(269),Mt=s(804),Dt=s.n(Mt),yt=s(9);const Lt=()=>({[x.Od.DATE_DESC]:U.e.TOOLBAR_SORT_NEW,[x.Od.DATE_ASC]:U.e.TOOLBAR_SORT_OLD,[x.Od.UNREAD]:U.e.TOOLBAR_SORT_UNREAD,[x.Od.STARRED]:U.e.TOOLBAR_SORT_STARRED}),vt=e=>{const t=e.listId,s=e.sortOrder,a=e.i13nModel,n=Object(J.o)(t,{sortOrder:s});return Object(et.j)({route:n,i13nModel:i()({mKey:Lt()[s],sec:U.g.MSG_LIST_SORT},a)})},Pt=Object(T.defineMessages)({documents:{id:"document_label",defaultMessage:"Documents from email"}}),Ft=(e,t)=>{const s=t.intl.formatMessage,a=(0,t.getCss)(Dt.a,{themeMode:(0,t.getThemeMode)()}),n=e.currentSortOrder,r=e.availableSortOrders,i=e.onSortOrderChange,o=e.listId;return E.a.createElement("div",{className:a.documentsViewHeader},E.a.createElement("div",{className:a.documentsViewTitle},s(Pt.documents)),E.a.createElement("div",{className:a.sortMenuContainer},E.a.createElement(Nt.a,{currentSortOrder:n,availableSortOrders:r,onClick:(e,t)=>{i({listId:o,sortOrder:t,i13nModel:{interactionType:Object(j.j)(e)}})},tabIndex:V.TabIndices.MESSAGE_LIST_TOOLBAR})))};Ft.contextTypes={getCss:h.a.func,intl:T.intlShape,getThemeMode:h.a.func};var wt=Object(A.connect)((e,t)=>{const s=Object(be.b)(e).getAvailableSortOrders;return{currentSortOrder:Object(B.F)(t.listId),availableSortOrders:s()}},e=>({onSortOrderChange:t=>e(vt(t))}),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&it()(e.availableSortOrders,t.availableSortOrders)})(Ft),kt=s(468),xt=s.n(kt),Ut=s(45),Gt=s(146),jt=s(241),Ht=s(145);const Bt=Object(T.defineMessages)({flights_no_upcoming:{id:"empty_results.flights_no_upcoming",defaultMessage:"No upcoming flights"},flights_empty_desc:{id:'empty_results.flights_empty_desc"',defaultMessage:"Connect another mailbox to see all of your {viewType, select, TRAVEL_VIEW_UPCOMING {upcoming} TRAVEL_VIEW_PAST {past}} flights in one place"},flights_no_past:{id:"empty_results.flights_no_past",defaultMessage:"No past flights"},add_a_mailbox:{id:"empty_results.add_a_mailbox",defaultMessage:"Add a mailbox"},coupons_empty_heading:{id:"empty_results.coupons_empty_heading",defaultMessage:"No deals found"},coupons_empty_desc:{id:"empty_results.coupons_empty_desc",defaultMessage:"Connect another mailbox to see all of your deals in one place"},receipts_empty_heading:{id:"empty_results.receipts_empty_heading",defaultMessage:"Have receipts in another email account?"},receipts_empty_desc:{id:"empty_results.receipts_empty_desc",defaultMessage:"Get your order confirmations organized in one place and we can help you save on purchases."},offers_empty_heading:{id:"empty_results.offers_empty_heading",defaultMessage:"Oops"},retailers_empty_desc:{id:"empty_results.retailers_empty_desc",defaultMessage:"Unable to reach the server. Please try again."},retailers_empty_YM6_desc:{id:"empty_results.retailers_empty_YM6_desc",defaultMessage:"Unable to load your deals. Please try later"},offers_empty_desc:{id:"empty_results.offers_empty_desc",defaultMessage:"{retailerName} has no coupons to add at this time. Please come back later."},offers_empty_YM6_desc:{id:"empty_results.offers_empty_YM6_desc",defaultMessage:"No deals available"},empty_list_alt:{id:"empty_results.empty_list_alt",defaultMessage:"No items"}});class Vt extends E.a.Component{constructor(...e){super(...e),c()(this,"handleAddMailbox",e=>{e.preventDefault(),this.context.navigateTo({route:Object(J.v)({settingsGroupId:x.Cd.ACCOUNTS}),i13nModel:{mKey:U.e.SETTINGS_LEFT_RAIL_ACCOUNTS,sec:this.sec,interactionType:Object(j.j)(e)}})}),c()(this,"renderAddMailbox",()=>{const e=this.context.getCss(xt.a),t=this.context.intl.formatMessage;return E.a.createElement("div",{className:e.addMailbox},E.a.createElement("a",{"data-test-id":"add-mailbox",className:e.addMailboxLink,href:this.context.getUrlFromRoute({name:x.gd.SETTINGS,params:{settingsGroupId:x.Cd.ACCOUNTS}}),onClick:this.handleAddMailbox},t(Bt.add_a_mailbox)))})}render(){const e=this.props,t=e.listId,s=e.isYM6GroceryEnabled,a=e.retailerTotalNumber,n=Object(B.u)(t),r=Object(B.t)(t),i=this.context.intl.formatMessage,o=this.context.getThemeMode(),c=this.context.getCss(xt.a,{moreDescriptionPadding:r===x.Pb.COUPON_CARDS,themeMode:o});switch(r){case x.Pb.TRAVEL_CARDS:return this.sec=U.g.TRAVEL_LIST,E.a.createElement("div",{className:c.container,"data-test-id":"empty-results"},E.a.createElement("div",{className:c.subContainer},E.a.createElement("div",null,E.a.createElement("img",{"data-test-id":"empty-img",src:n===x.Qb.TRAVEL_VIEW_UPCOMING?Object(Ut.a)("/img/flights_upcoming.png"):Object(Ut.a)("/img/flights_past.png"),className:c.travelImage})),E.a.createElement("div",{className:c.heading,"data-test-id":"empty-heading"},i(n===x.Qb.TRAVEL_VIEW_UPCOMING?Bt.flights_no_upcoming:Bt.flights_no_past)),E.a.createElement("div",{className:c.description,"data-test-id":"empty-desc"},i(Bt.flights_empty_desc,{viewType:n})),this.renderAddMailbox()));case x.Pb.COUPON_CARDS:return this.sec=U.g.COUPONS_LIST,E.a.createElement("div",{className:c.container,"data-test-id":"empty-results"},E.a.createElement("div",{className:c.subContainer},E.a.createElement("div",null,E.a.createElement("img",{"data-test-id":"empty-img",src:o===G.h.DARK?Object(Ut.a)("/img/coupon_emptystate_dark.png"):Object(Ut.a)("/img/coupon_emptystate_light.png"),className:c.couponImage})),E.a.createElement("div",{className:c.heading,"data-test-id":"empty-heading"},i(Bt.coupons_empty_heading)),E.a.createElement("div",{className:c.description,"data-test-id":"empty-desc"},i(Bt.coupons_empty_desc)),this.renderAddMailbox()));case x.Pb.REFUND_CARDS:return E.a.createElement("div",{className:c.container,"data-test-id":"empty-results"},E.a.createElement("div",{className:c.subContainer},E.a.createElement("div",null,E.a.createElement("img",{"data-test-id":"empty-img",src:Object(Ut.a)("/img/receipt_empty_state.png"),className:c.receiptImage})),E.a.createElement("div",{className:c.heading,"data-test-id":"empty-heading"},i(Bt.receipts_empty_heading)),E.a.createElement("div",{className:c.description,"data-test-id":"empty-desc"},i(Bt.receipts_empty_desc)),this.renderAddMailbox()));case x.Pb.OFFER_CARDS:case x.Pb.GROCERY_STORES:{const e=r===x.Pb.OFFER_CARDS,t=s?Object(Ut.a)("/img/grocery_empty_state.png"):Object(Ut.a)("/img/offers_empty_state.png"),n=Object(Ut.a)("/img/grocery_background.png"),o=s?Bt.retailers_empty_YM6_desc:Bt.retailers_empty_desc,d=s?Bt.offers_empty_YM6_desc:Bt.offers_empty_desc;return E.a.createElement("div",{className:e?c.offersContainer:c.container,"data-test-id":"empty-results"},E.a.createElement("div",{className:c.subContainer},E.a.createElement("div",null,E.a.createElement("img",{"data-test-id":"empty-img",src:t,className:s?c.emptyImage:c.offerImage}),s?E.a.createElement("img",{src:n,className:c.groceryBackgroundImage}):null),E.a.createElement("div",{className:e?c.offersHeading:c.heading,"data-test-id":"empty-heading"},e?"":i(Bt.offers_empty_heading)),E.a.createElement("div",{className:s?c.YM6Description:c.description,"data-test-id":"empty-desc"},i(e&&a>0?d:o,{retailerName:this.props.retailerName}))))}case x.Pb.MESSAGES:case x.Pb.DOCUMENTS:case x.Pb.IMAGES:return E.a.createElement("div",{className:c.emptyListContainer,"data-test-id":"list-result-empty"},E.a.createElement(Gt.a,null),E.a.createElement("div",{className:c.emptyListText,"data-test-id":"empty-list-message"},E.a.createElement(T.FormattedMessage,{id:"empty_results.empty_result",defaultMessage:"Nothing to see here!"})),E.a.createElement("div",{className:c.emptyListImage},E.a.createElement(jt.a,{kind:Ht.a.EMPTY_FOLDER,width:160,height:160,altText:i(Bt.empty_list_alt)})),E.a.createElement(Gt.a,null))}return null}}c()(Vt,"contextTypes",{getCss:h.a.func,intl:T.intlShape.isRequired,navigateTo:h.a.func,getUrlFromRoute:h.a.func,getThemeMode:h.a.func});var Wt=Object(A.connect)((e,{listId:t})=>{const s=Object(be.b)(e),a=s.isFeatureEnabled,n=(0,s.getRetailersSelectors)(),r=n.getRetailersFromRetailerIds,i=n.getTotalNumberOfRetailers,o=a(x.ub.ENABLE_YM6_GROCERY),c=r([Object(B.y)(t)||""]);return{retailerName:Object(yt.a)(c,"0.displayName",""),isYM6GroceryEnabled:o,retailerTotalNumber:i()}})(Vt),qt=s(380),zt=s.n(qt);const Kt=Object(T.defineMessages)({heading:{id:"smart_view_groceries",defaultMessage:"Groceries"}});class Zt extends E.a.Component{render(){const e=this.context.intl.formatMessage,t=this.context.getThemeMode(),s=S()(zt.a,{smartView:!0,themeMode:t}),a=e(Kt.heading);return E.a.createElement("div",{"aria-label":a,className:s.groceryViewHeading,"data-test-id":"groceries-heading",title:a},a)}}c()(Zt,"contextTypes",{getThemeMode:h.a.func,intl:T.intlShape.isRequired});var Yt=Zt,Xt=s(805),Qt=s.n(Xt);const $t=Object(T.defineMessages)({close:{id:"select_stores_menu.helper_text",defaultMessage:"Close"}});class Jt extends E.a.Component{constructor(...e){super(...e),c()(this,"state",{selectedItem:"",groceriesHeadDimensions:{width:0}}),c()(this,"onClick",(e,t,s)=>{const a=this.props.onClick;this.setState({selectedItem:t}),a&&a(e,t,s)})}componentDidMount(){const e=this.props.groceriesHead;if(!e)return;const t=f.a.findDOMNode(e).getBoundingClientRect();this.setState({groceriesHeadDimensions:t})}render(){const e=this.context.getCss(Qt.a),t=this.props,s=t.close,a=this.context.intl.formatMessage,n=this.state,r={width:n.groceriesHeadDimensions.width},i=n.selectedItem||t.defaultItem.displayName,o={backgroundColor:V.ITEM_HOVER_BGCOLOR},c=t.items.map((t,s)=>E.a.createElement("a",{"data-test-id":"select-retailer-card-"+t.displayName,key:t.displayName,onClick:e=>this.onClick(e,t.displayName,s),className:e.retailerContainer,style:t.displayName===i?o:null},E.a.createElement("div",{"data-test-id":"select-retailer-icon",className:e.icon},E.a.createElement("img",{className:e.image,src:t.brandImage})),E.a.createElement("div",{"data-test-id":"select-retailer-header",className:e.header},t.displayName)));return E.a.createElement("div",{className:e.container,style:r},E.a.createElement("div",{className:e.menuContainer},c),E.a.createElement("div",{"data-test-id":"select-retailer-close",className:e.close,onClick:()=>s({})},E.a.createElement(Y.b,{kind:R.b.CHEVRON_UP,colorState:R.a.SELECTED,size:R.d.S}),a($t.close)))}}c()(Jt,"contextTypes",{getCss:h.a.func,intl:T.intlShape.isRequired}),c()(Jt,"defaultProps",{items:[]});var es=s(314),ts=s(14),ss=s(53),as=s(55),ns=s(40),rs=s(89),is=s(28),os=s(102),cs=s(806),ds=s.n(cs);const ls=Object(T.defineMessages)({retailer_unlink_modal_header:{id:"retailer_unlink_modal.header",defaultMessage:"Are you sure you want to unlink<br/> <b>{retailerName} card {loyaltyId}</b>?"},retailer_unlink_modal_points:{id:"retailer_unlink_modal.points",defaultMessage:"From within Yahoo Mail groceries:"},retailer_unlink_modal_first:{id:"retailer_unlink_modal.first",defaultMessage:"You won't be able to receive and add coupons with this loyalty card."},retailer_unlink_modal_second:{id:"retailer_unlink_modal.second",defaultMessage:"All information associated with this card will be permanently deleted."},retailer_unlink_modal_primary_button:{id:"retailer_unlink_modal.primary_button",defaultMessage:"Unlink"},retailer_unlink_modal_secondary_button:{id:"retailer_unlink_modal.secondary_button",defaultMessage:"Cancel"},retailer_unlink_modal_close:{id:"retailer_unlink_modal.close",defaultMessage:"Close"}});class us extends E.a.Component{constructor(...e){super(...e),c()(this,"unlinkHandler",()=>{const e=this.props,t=e.accountIds,s=e.onClose,a=e.retailerId,n=e.isYM6GroceryEnabled;(0,e.unlinkRetailerRequested)({retailerId:a}),s(),this.context.navigateTo(n?{route:Object(J.w)(x.Kd.GROCERIESV2,{accountIds:t,name:a})}:{route:Object(J.w)(x.Kd.GROCERIES,{accountIds:t})})})}render(){const e=this.props,t=e.loyaltyId,s=e.onClose,a=e.retailerName,r=this.context.intl.formatMessage,i=S()(ds.a);return E.a.createElement(os.a,{onClose:s},E.a.createElement("div",{className:i.dialog,"data-test-id":"retailer-unlink-modal"},E.a.createElement("div",{className:i.svgContainer},E.a.createElement(Y.b,{colorState:R.a.WARNING_GRAD_RED,kind:R.b.EXCLAMATION_ALT,size:R.d.L})),E.a.createElement("div",{className:i.container},E.a.createElement("div",{className:i.header},E.a.createElement(T.FormattedHTMLMessage,n()({},ls.retailer_unlink_modal_header,{values:{retailerName:a,loyaltyId:t}})),E.a.createElement(M.a,{"aria-label":r(ls.retailer_unlink_modal_close),"data-test-id":"close-button",kind:R.b.CLOSE,onClick:s,size:R.d.XS,title:r(ls.retailer_unlink_modal_close)})),E.a.createElement("div",{className:i.listHeader},r(ls.retailer_unlink_modal_points)),E.a.createElement("ul",null,E.a.createElement("li",null,r(ls.retailer_unlink_modal_first)),E.a.createElement("li",null,r(ls.retailer_unlink_modal_second))),E.a.createElement("div",null,E.a.createElement(X.a,{"aria-label":r(ls.retailer_unlink_modal_primary_button),"data-test-id":"primary-button",kind:is.a.PRIMARY,onClick:this.unlinkHandler,title:r(ls.retailer_unlink_modal_primary_button)},r(ls.retailer_unlink_modal_primary_button)),E.a.createElement(X.a,{"aria-label":r(ls.retailer_unlink_modal_secondary_button),"data-test-id":"secondary-button",kind:is.a.SECONDARY,onClick:s,title:r(ls.retailer_unlink_modal_secondary_button)},r(ls.retailer_unlink_modal_secondary_button))))))}}c()(us,"contextTypes",{intl:T.intlShape.isRequired,navigateTo:h.a.func});var _s=Object(A.connect)((e,{retailerId:t=""})=>{const s=Object(be.b)(e),a=s.isFeatureEnabled;return{loyaltyId:(0,(0,s.getRetailersSelectors)().getLoyaltyIdFromRetailerId)(t),isYM6GroceryEnabled:a(x.ub.ENABLE_YM6_GROCERY)}},e=>({unlinkRetailerRequested:t=>e(Object(Te.s)(t))}))(us),ms=s(807),ps=s.n(ms);const hs=Object(Ut.a)(x.Wc),gs=Object(Ut.a)("/img/add_coupon_icon.png"),Es=Object(T.defineMessages)({single_store_helper_modal_header:{id:"single_store_helper_modal.header",defaultMessage:"Saving on groceries is simple!"},single_store_helper_modal_first:{id:"single_store_helper_modal.first",defaultMessage:'<b>Step 1:</b> Click on <img src="{urlPath}" width="20" /> to add coupons to your loyalty card'},single_store_helper_modal_second:{id:"single_store_helper_modal.second",defaultMessage:"<b>Step 2:</b> Use your loyalty card at the checkout counter, to find your discounts applied automatically"},single_store_helper_modal_primary_button:{id:"single_store_helper_modal.primary_button",defaultMessage:"Got it"},single_store_helper_modal_close:{id:"single_store_helper_modal.close",defaultMessage:"Close"}});class Is extends E.a.Component{render(){const e=this.context.intl.formatMessage,t=S()(ps.a),s={alignSelf:"center",height:`${9*V.GRID_UNIT}px`,width:`${100*V.GRID_UNIT}px`};return E.a.createElement(os.a,{onClose:this.props.onClose},E.a.createElement("div",{className:t.dialog,"data-test-id":"single-store-helper-modal"},E.a.createElement("div",{className:t.close},E.a.createElement(M.a,{"aria-label":e(Es.single_store_helper_modal_close),"data-test-id":"close-button",kind:R.b.CLOSE,onClick:this.props.onClose,size:R.d.XS,title:e(Es.single_store_helper_modal_close)})),E.a.createElement("img",{className:t.logo,"data-test-id":"image",src:hs}),E.a.createElement("span",{className:t.header},e(Es.single_store_helper_modal_header)),E.a.createElement("span",{className:t.body},E.a.createElement(T.FormattedHTMLMessage,n()({},Es.single_store_helper_modal_first,{values:{urlPath:gs}}))),E.a.createElement("span",{className:t.body},E.a.createElement(T.FormattedHTMLMessage,Es.single_store_helper_modal_second)),E.a.createElement(X.a,{"aria-label":e(Es.single_store_helper_modal_primary_button),"data-test-id":"primary-button",kind:is.a.PRIMARY,marginLess:!0,onClick:this.props.onClose,style:s,title:e(Es.single_store_helper_modal_primary_button)},e(Es.single_store_helper_modal_primary_button))))}}c()(Is,"contextTypes",{intl:T.intlShape.isRequired});var Ss=Is,Cs=s(469),fs=s.n(Cs);const Ts=Object(Ut.a)(x.ye),As=Object(T.defineMessages)({ym6_helper_modal_header:{id:"ym6_helper_modal.header",defaultMessage:"Grocery coupons made easy!"},ym6_helper_modal_first:{id:"ym6_helper_modal.first",defaultMessage:"Add coupons you like"},ym6_helper_modal_second:{id:"ym6_helper_modal.second",defaultMessage:"Enter loyalty card number you use at the store"},ym6_helper_modal_third:{id:"ym6_helper_modal.third",defaultMessage:"Use {proxyTypeValue} number at the {retailerName} checkout counter, to have discounts applied automatically"},ym6_helper_modal_primary_button:{id:"ym6_helper_modal.primary_button",defaultMessage:"Got it"},ym6_helper_modal_close:{id:"ym6_helper_modal.close",defaultMessage:"Close"}});class bs extends E.a.Component{constructor(...e){super(...e),c()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation()}),c()(this,"_renderStep",(e,t,s)=>{const a=this.context.intl.formatMessage,n=this.props,r=n.retailerName,i=n.proxyType===x.Yc.Phone?"phone":"loyalty",o=S()(fs.a);return E.a.createElement("div",{className:o.step},E.a.createElement("div",{className:o.stepNumber},s),E.a.createElement("div",{className:o.icon},E.a.createElement(Y.b,{kind:e,size:R.d.S,colorState:R.a.IMPROVED_GRAY_DARK})),E.a.createElement("div",{className:o.detailedStep},a(t,{proxyTypeValue:i,retailerName:r})))})}render(){const e=this.context.intl.formatMessage,t={alignSelf:"center",height:`${9*V.GRID_UNIT}px`,width:`${78.5*V.GRID_UNIT}px`,fontWeight:V.BOLD},s=S()(fs.a);return E.a.createElement(os.a,{onClose:this.handleOverlayClick},E.a.createElement("div",{className:s.dialog,"data-test-id":"single-store-helper-modal"},E.a.createElement("div",{className:s.close},E.a.createElement(M.a,{"aria-label":e(As.ym6_helper_modal_close),"data-test-id":"close-button",kind:R.b.CLOSE,onClick:this.props.onClose,size:R.d.XS,title:e(As.ym6_helper_modal_close)})),E.a.createElement("img",{className:s.logo,"data-test-id":"image",src:Ts}),E.a.createElement("span",{className:s.header},e(As.ym6_helper_modal_header)),E.a.createElement("div",{className:s.body},this._renderStep(R.b.ADDATTACHMENT,As.ym6_helper_modal_first,1),this._renderStep(R.b.CONTACTCARD_OUTLINE,As.ym6_helper_modal_second,2),this._renderStep(R.b.CART,As.ym6_helper_modal_third,3)),E.a.createElement(X.a,{"aria-label":e(As.ym6_helper_modal_primary_button),"data-test-id":"primary-button",kind:is.a.PRIMARY,marginLess:!0,onClick:this.props.onClose,style:t,title:e(As.ym6_helper_modal_primary_button)},e(As.ym6_helper_modal_primary_button))))}}c()(bs,"contextTypes",{intl:T.intlShape.isRequired});var Os=bs,Rs=s(394),Ns=s.n(Rs);const Ms=Object(Ut.a)("/img/add_coupon_icon.png"),Ds=Object(T.defineMessages)({multiple_coupon_info:{id:"savings_summary.multiple_coupon_info",defaultMessage:"{numActivatedOffers} coupons on your card"},single_coupon_info:{id:"savings_summary.single_coupon_info",defaultMessage:"{numActivatedOffers} coupon on your card"},zero_coupon:{id:"savings_summary.zero_coupon",defaultMessage:'Click on <img src="{urlPath}" width="20" /> to add your first coupon.'}});class ys extends E.a.Component{constructor(...e){super(...e),c()(this,"onThumbnailClick",()=>{const e={mKey:U.e.QTNTVIEW_SMARTVIEW_ACTION,sec:U.g.QUOTIENT,actionData:{reason:{featurefamily:x.sb.IC,featurename:x.ub.QUOTIENT,viewtype:"grocerysinglestore",actiontype:"viewmore",origin:"smartview"}}};this.context.navigateTo({route:Object(J.d)(this.props.retailerId),i13nModel:e})}),c()(this,"renderOverflowThumbnail",(e,t)=>{const s=S()(Ns.a);return E.a.createElement("div",{className:s.overflowNumber,"data-test-id":"overflow-thumbnail",key:e,onClick:this.onThumbnailClick},"+",t)}),c()(this,"renderThumbnails",()=>{const e=this.props,t=e.imageUrls,s=e.numActivatedOffers,a=e.contentWidth/2-40,n=S()(Ns.a),r=Math.floor(a/V.ACTIVATED_OFFERS_THUMBNAIL_WIDTH);let i=0;return s>=r&&(i=s-r+1,t.length=r-1),E.a.createElement("div",{className:n.thumbnailsContainer},t.map((e,t)=>E.a.createElement("img",{className:n.thumbnails,"data-test-id":"thumbnail",key:t,onClick:this.onThumbnailClick,onError:e=>Object(Ae.a)(e,x.Wc),src:e})).concat(i>0?this.renderOverflowThumbnail(s,i):[]))})}render(){const e=this.props,t=e.isYM6GroceryEnabled,s=e.numActivatedOffers,a=e.potentialSavings,r=S()(Ns.a,{isYM6GroceryEnabled:t}),i=0===s?"No":s,o=this.context.intl.formatMessage;return!t&&i?E.a.createElement("div",{className:r.container},E.a.createElement("div",{className:r.couponInfo,"data-test-id":"coupons-on-card"},o(1===i?Ds.single_coupon_info:Ds.multiple_coupon_info,{numActivatedOffers:i}),E.a.createElement("span",{className:r.potentialSavings},"$",a)),"No"===i?E.a.createElement("span",{className:r.noCoupon},E.a.createElement(T.FormattedHTMLMessage,n()({},Ds.zero_coupon,{values:{urlPath:Ms}}))):this.renderThumbnails()):null}}c()(ys,"contextTypes",{intl:T.intlShape.isRequired,navigateTo:h.a.func});var Ls=Object(A.connect)((e,{retailerId:t=""})=>{const s=Object(be.b)(e),a=s.getActivatedOffersSelectors,n=s.getMainContentWidth,r=s.getRetailersSelectors,i=s.getRoute,o=(0,s.isFeatureEnabled)(x.ub.ENABLE_YM6_GROCERY),c=n(),d=Object(B.w)(i()),l=Object(B.W)(d,{listFilter:x.Qb.ACTIVATED_OFFER_CARDS}),u=r().getNumActivatedOffersFromRetailerId,_=(0,a().getActivatedOfferStreamItems)(l),m=_.map(e=>e.imageUrl).reverse();return{contentWidth:c,numActivatedOffers:u(t),imageUrls:m,isYM6GroceryEnabled:o,potentialSavings:_.reduce((e,t)=>e+=parseFloat((t.discountType===x.Xc.AMOUNT?t.offerValue:"$0").substr(1)),0).toFixed(2)}})(ys),vs=s(34),Ps=s(59),Fs=s(808),ws=s.n(Fs);class ks extends E.a.Component{constructor(...e){super(...e),c()(this,"state",{selectedItem:""}),c()(this,"onClick",(e,t,s)=>{const a=this.props.onClick;this.setState({selectedItem:t}),a&&a(e,t,s)})}render(){const e=this.context.getThemeMode()===G.h.DARK,t=this.context.getCss(ws.a),s=this.props,a=s.label,n=s.tabIndex,r=this.state.selectedItem||s.defaultItem,i=s.items.map((e,s)=>E.a.createElement(vs.a,{key:e,name:"caret-menu-item-"+e},E.a.createElement(X.a,{"data-test-id":"caret-menu-item-"+e,kind:is.a.MENUITEM,onClick:t=>this.onClick(t,e,s),style:{position:"relative"}},e===r?E.a.createElement("span",{className:t.checkmark},E.a.createElement(Y.b,{kind:R.b.CHECKMARK,size:R.d.XXS,colorState:R.a.GRAD_BLUE})):null,E.a.createElement("span",{className:t.label},e))));return E.a.createElement(as.a,null,E.a.createElement(ss.a,null,E.a.createElement(X.a,{"data-test-id":"caret-menu-button",kind:is.a.CHROMELESS,tabIndex:n,"data-iskeynav":!0,isOnDarkBackground:e},E.a.createElement("span",{className:t.selectedLabel},a||r,E.a.createElement(Y.b,{kind:R.b.CHEVRON_UP,size:R.d.XS,rotate:R.c.D180,colorState:R.a.INHERITED})))),E.a.createElement(ns.b,{triggerOn:ts.i.CLICK,permittedArrowDirections:[ts.h.UP],offset:4*V.GRID_UNIT,align:ts.a.END,zAltitude:V.ZIndices.POPOVER.HIGH,"data-test-id":"caret-menu-popover"},E.a.createElement("div",{className:t.popoverListWrapper},E.a.createElement(Ps.a,{focusOnMount:!0,"data-test-id":"caret-menu"},i))))}}c()(ks,"contextTypes",{getCss:h.a.func,getThemeMode:h.a.func}),c()(ks,"defaultProps",{items:[],label:null,tabIndex:-1});var xs=s(470),Us=s.n(xs);const Gs=Object(T.defineMessages)({separator_text:{id:"store_summary.separator_text",defaultMessage:"Loyalty number"},savings_text:{id:"store_summary.savings_text",defaultMessage:"Total savings"},coupons_text:{id:"store_summary.coupons_text",defaultMessage:"Coupons claimed"},link_phone:{id:"single_store.link_phone",defaultMessage:"Link phone number"},link_loyalty:{id:"single_store.link_loyalty",defaultMessage:"Link loyalty card number"},unlink:{id:"store_summary.unlink",defaultMessage:"Unlink"}});class js extends E.a.Component{constructor(...e){super(...e),c()(this,"state",{showQuotientModal:!1,showUnlinkModal:!1}),c()(this,"handleStores",()=>{}),c()(this,"linkHandler",()=>{return this.setState(this.props.linked?{showUnlinkModal:!0}:{showQuotientModal:!0})}),c()(this,"closeUnlinkModal",()=>{this.setState({showUnlinkModal:!1})}),c()(this,"closeQuotientModal",()=>{this.setState({showQuotientModal:!1})}),c()(this,"renderLocationsMenu",e=>{const t=["111 Safeway Way, Safewaytown, SW 00001","222 Dollar St., General, DG 00002","3333 Lucky Blvd., Luckyopolis, LK 00003"];return E.a.createElement("div",{className:e.viewMenu},E.a.createElement("div",{className:e.sortMenuContainer},E.a.createElement(ks,{defaultItem:t[0],items:t,onClick:this.handleStores})))}),c()(this,"renderStoreSummary",()=>{const e=this.props,t=e.brandImage,s=e.isYM6GroceryEnabled,a=e.loyaltyId,n=e.offersUsed,r=e.retailerName,i=e.totalSavings,o=this.context.intl.formatMessage,c=S()(Us.a,{isYM6GroceryEnabled:s});return E.a.createElement("div",{className:c.container,"data-test-id":"store-summary"},E.a.createElement("div",{className:c.cardContainer,"data-test-id":"store-details"},E.a.createElement("div",{className:c.imageContainer},E.a.createElement("img",{className:c.image,"data-test-id":"store-image",onError:e=>Object(Ae.a)(e,x.Wc),src:t}),E.a.createElement("div",{className:c.overlayContainer},E.a.createElement("div",{className:c.overlay}))),E.a.createElement("div",{className:c.messageContainer},E.a.createElement("span",{className:c.header,"data-test-id":"store-name"},E.a.createElement("span",{className:c.retailer},r)),E.a.createElement("span",{className:c.loyaltyInfo},E.a.createElement("span",{className:c.subTitle},o(Gs.separator_text)),E.a.createElement("span",{"data-test-id":"loyalty-id"},a)))),null===i||null===n?null:E.a.createElement("div",{className:c.savingContainer,"data-test-id":"store-savings"},E.a.createElement("div",{className:c.total},E.a.createElement("span",null,o(Gs.savings_text)),E.a.createElement("span",{"data-test-id":"total-savings"},"$",i)),E.a.createElement("div",{className:c.coupons},E.a.createElement("span",null,o(Gs.coupons_text)),E.a.createElement("span",{"data-test-id":"offers-used"},n))))}),c()(this,"renderYM6StoreSummary",()=>{const e=this.props,t=e.accountIds,s=e.brandImage,a=e.isYM6GroceryEnabled,n=e.loyaltyId,r=e.linked,i=e.retailerName,o=e.retailerId,c=e.proxyType,d=this.context.intl.formatMessage,l=S()(Us.a,{isYM6GroceryEnabled:a}),u="Phone"===c?Gs.link_phone:Gs.link_loyalty,_=n&&`***${n.slice(-4)}`;return E.a.createElement("div",{className:l.container,"data-test-id":"store-summary"},E.a.createElement("div",{className:l.cardContainer,"data-test-id":"store-details"},E.a.createElement("div",{className:l.summaryContainer},E.a.createElement("div",{className:l.imageContainer},E.a.createElement("img",{className:l.image,"data-test-id":"store-image",onError:e=>Object(Ae.a)(e,x.Wc),src:s}),E.a.createElement("div",{className:l.overlayContainer},E.a.createElement("div",{className:l.overlay}))),E.a.createElement("div",{className:l.messageContainer},E.a.createElement("span",{"data-test-id":"store-name"},E.a.createElement("span",{className:l.retailer},i)),E.a.createElement("span",{className:l.loyaltyInfo},r?E.a.createElement("span",{className:l.loyaltyNumber,"data-test-id":"loyalty-id"},_):null,E.a.createElement("span",{className:l.link,onClick:this.linkHandler},d(r?Gs.unlink:u))))),E.a.createElement("div",{className:l.hide},this.renderLocationsMenu(l))),this.state.showUnlinkModal?E.a.createElement(_s,{accountIds:t,onClose:this.closeUnlinkModal,retailerId:o,retailerName:i}):null,this.state.showQuotientModal?E.a.createElement(Oe.default,{"data-test-id":"quotient-modal",retailerId:o,onSuccess:this.closeQuotientModal,onClose:this.closeQuotientModal,parentName:"grocerystorelist"}):null)})}render(){return this.props.isYM6GroceryEnabled?this.renderYM6StoreSummary():this.renderStoreSummary()}}c()(js,"contextTypes",{intl:T.intlShape.isRequired});var Hs=Object(A.connect)((e,{retailerId:t=""})=>{const s=Object(be.b)(e),a=s.getSelectedAccountId,n=s.isFeatureEnabled,r=(0,s.getRetailersSelectors)(),i=r.getLoyaltyIdFromRetailerId,o=r.getOffersUsedFromRetailerId,c=r.getTotalSavingsFromRetailerId,d=r.isLinkedRetailer,l=r.getProxyTypeFromRetailerId;return{brandImage:(0,r.getBrandImageFromRetailerId)(t),isYM6GroceryEnabled:n(x.ub.ENABLE_YM6_GROCERY),loyaltyId:i(t),offersUsed:o(t),totalSavings:c(t),accountIds:[a()],linked:d(t),proxyType:l(t)}})(js);const Bs=Object(T.defineMessages)({ym6_helper_text:{id:"single_store.ym6_helper_text",defaultMessage:"How it works?"},helper_text:{id:"single_store.helper_text",defaultMessage:"How to use"},print:{id:"single_store.print",defaultMessage:"Print shopping list"},shopping_list:{id:"single_store.shopping_list",defaultMessage:"Your {retailerName} shopping list"},more:{id:"single_store.more",defaultMessage:"More"},unlink:{id:"single_store.unlink",defaultMessage:"Unlink card"},header:{id:"single_store.header",defaultMessage:"Groceries"},select_store:{id:"single_store.select_store",defaultMessage:"Select stores"},category_header:{id:"single_store.category_header",defaultMessage:"{categoryName} products"}});class Vs extends E.a.Component{constructor(e){super(e),c()(this,"state",{showHelperModal:!1,showUnlinkModal:!1,showYM6HelperModal:!1,showStoresList:!1}),c()(this,"hideHelperModal",()=>{this.setState({showHelperModal:!1})}),c()(this,"hideYM6HelperModal",()=>{this.setState({showYM6HelperModal:!1})}),c()(this,"hideUnlinkModal",()=>{this.setState({showUnlinkModal:!1})}),c()(this,"handleBackButtonClick",()=>{const e=this.props,t=e.accountIds,s=e.isCategorySearch,a=e.retailerId,n=e.isActivatedView?Object(J.n)(a):Object(J.w)(x.Kd.GROCERIES,{accountIds:t}),r=Object(J.w)(x.Kd.GROCERIESV2,{accountIds:t,name:a});this.context.navigateTo({route:s?r:n})}),c()(this,"handleSelectStoresButtonClick",()=>{this.setState({showStoresList:!this.state.showStoresList})}),c()(this,"handleSelectStoresPaneClick",({overlayClicked:e})=>{e||this.setState({showStoresList:!1})}),c()(this,"handlePrint",()=>{const e=this.props;(0,e.printOffers)({retailerId:e.retailerId})}),c()(this,"selectRetailer",(e,t,s)=>{const a=this.props,n=a.accountIds,r=a.retailers[s],i=r.id,o={mKey:U.e.QTNTVIEW_SMARTVIEW_ACTION,sec:U.g.QUOTIENT,actionData:{reason:{featurefamily:x.sb.IC,featurename:x.ub.QUOTIENT,viewtype:"grocerystorelist",actiontype:r.linked?"viewcoupon":"linkstore",origin:"smartview"}}};this.context.navigateTo({route:Object(J.w)(x.Kd.GROCERIESV2,{accountIds:n,name:i}),i13nModel:o}),this.setState({showStoresList:!1})}),c()(this,"renderRetailersMenu",e=>{const t=this.props,s=t.retailerIndex,a=this.state.showStoresList,n=t.retailers.map(e=>({displayName:e.displayName,brandImage:e.brandImage}));return E.a.createElement("div",{className:e.viewMenu},E.a.createElement("div",{className:e.selectStoreContainer,onClick:this.handleSelectStoresButtonClick,"data-test-id":"select-stores-button"},(0,this.context.intl.formatMessage)(Bs.select_store),E.a.createElement(Y.b,{kind:R.b.CHEVRON_UP,colorState:R.a.NORMAL,size:R.d.S,rotate:a?null:R.c.D180}),a?E.a.createElement(es.a,{key:"store-list-pane",alignTo:this.groceriesHeadRef.current,alignmentPoints:[rs.a.TopLeft,rs.a.BottomLeft],useShim:!0,onClick:this.handleSelectStoresPaneClick,customInlineStyles:{height:"100%",background:"rgba(38, 40, 42, 0.5)",overflow:"auto"}},E.a.createElement(Jt,{defaultItem:n[s],groceriesHead:this.groceriesHeadRef.current,items:n,onClick:this.selectRetailer,close:this.handleSelectStoresPaneClick})):null))}),c()(this,"renderSummaryRow",e=>{const t=this.props,s=t.retailerId,a=(t.retailers[t.retailerIndex]||{}).displayName;return t.isYM6GroceryEnabled?null:E.a.createElement("div",{"data-test-id":"summary-row",className:e.summaryRow},E.a.createElement(Hs,{retailerId:s,retailerName:void 0===a?"Retailer":a}),E.a.createElement(Ls,{retailerId:s}))}),c()(this,"renderOptions",e=>{const t=this.context.intl.formatMessage;return E.a.createElement(as.a,null,E.a.createElement(ss.a,null,E.a.createElement("div",{className:e.helper,"data-test-id":"more-options"},E.a.createElement(M.a,{"aria-label":t(Bs.more),colorState:R.a.LESS_IMPORTANT,kind:R.b.MORE,size:R.d.XS,title:t(Bs.more)}))),E.a.createElement(ns.b,{align:ts.a.END,permittedArrowDirections:[ts.h.UP],triggerOn:ts.i.CLICK,zAltitude:V.ZIndices.POPOVER.HIGH},E.a.createElement("div",{className:e.pContent},E.a.createElement("span",{className:e.body,"data-test-id":"unlink",onClick:()=>this.setState({showUnlinkModal:!0})},t(Bs.unlink)),E.a.createElement("span",{className:e.body,"data-test-id":"helper",onClick:()=>this.setState({showHelperModal:!0})},t(Bs.helper_text)))))}),c()(this,"renderHowItWorks",e=>{const t=this.context.intl.formatMessage;return E.a.createElement("div",{className:e.helpContainer,"data-test-id":"ym6-helper",onClick:()=>this.setState({showYM6HelperModal:!0})},E.a.createElement(Y.b,{colorState:R.a.IMPROVED_GRAY_DARK,kind:R.b.INFO,size:R.d.XS}),E.a.createElement("div",{className:e.text},t(Bs.ym6_helper_text)))}),this.groceriesHeadRef=E.a.createRef()}componentWillReceiveProps({isWindowResizingDone:e}){e&&this.setState({showStoresList:!1})}render(){const e=this.props,t=e.accountIds,s=e.categoryName,a=e.isActivatedView,n=e.isCategorySearch,r=e.isYM6GroceryEnabled,i=e.retailerId,o=e.retailerIndex,c=e.retailers,d=this.context.intl.formatMessage,l=this.context.getThemeMode(),u=S()(zt.a,{themeMode:l}),_=c[o]||{},m=_.displayName,p=void 0===m?"Retailer":m,h=_.proxyType,g=void 0===h?"":h,I=d(n?Bs.category_header:Bs.header,{categoryName:s}),C=a?d(Bs.shopping_list,{retailerName:p}):p,f=r?I:C;return E.a.createElement("div",{className:u.container,"data-test-id":"groceries_head"},E.a.createElement("div",{className:u.heading,ref:this.groceriesHeadRef},r&&!n?this.renderRetailersMenu(u):E.a.createElement("div",{className:u.backButton,"data-test-id":"offers-back-button",onClick:this.handleBackButtonClick},E.a.createElement(Y.b,{colorState:R.a.LESS_IMPORTANT,kind:R.b.ARROW_UP,rotate:R.c.D270,size:R.d.S})),E.a.createElement("div",{"aria-label":"header","data-test-id":"offers-header"},f),E.a.createElement("div",{className:u.infoText},a?E.a.createElement("div",{className:u.print,"data-test-id":"offers-info",onClick:this.handlePrint},E.a.createElement(M.a,{ariaLabel:d(Bs.print),colorState:R.a.FIRST_LEVEL_GRAY,kind:R.b.PRINTER,paddingLess:!0,size:R.d.S,title:d(Bs.print)}),E.a.createElement("span",null,d(Bs.print))):null,r?this.renderHowItWorks(u):this.renderOptions(u)),this.state.showHelperModal?E.a.createElement(Ss,{onClose:this.hideHelperModal}):null,this.state.showYM6HelperModal?E.a.createElement(Os,{onClose:this.hideYM6HelperModal,retailerName:p,proxyType:g}):null,this.state.showUnlinkModal?E.a.createElement(_s,{accountIds:t,onClose:this.hideUnlinkModal,retailerId:i,retailerName:p}):null),a||r&&n?null:this.renderSummaryRow(u))}}c()(Vs,"contextTypes",{getThemeMode:h.a.func,intl:T.intlShape.isRequired,navigateTo:h.a.func});var Ws=Object(A.connect)(e=>{const t=Object(be.b)(e),s=t.getRoute,a=t.getSelectedAccountId,n=t.isWindowResizingDone,r=t.isFeatureEnabled,i=(0,t.getRetailersSelectors)().getOrderedRetailers,o=Object(B.w)(s()),c=Object(B.s)(o),d=Object(B.I)(c),l=Object(B.i)(c),u=i(),_=Object(B.y)(o)||"",m=u.findIndex(e=>e.id===_),p=Object(B.u)(o);return{accountIds:[a()],categoryName:l,isActivatedView:p===x.Qb.ACTIVATED_OFFER_CARDS,isCategorySearch:d,isWindowResizingDone:n(),isYM6GroceryEnabled:r(x.ub.ENABLE_YM6_GROCERY),retailerId:_,retailerIndex:m,retailers:u}},e=>({printOffers:t=>e(Object(Te.h)(t))}))(Vs),qs=s(350),zs=s.n(qs),Ks=s(809),Zs=s.n(Ks);const Ys=Object(T.defineMessages)({title:{id:"grocery_categories.title",defaultMessage:"Top categories"},view_less:{id:"grocery_categories.view_less",defaultMessage:"View less"},view_all:{id:"grocery_categories.view_all",defaultMessage:"View all categories"}});class Xs extends E.a.Component{constructor(...e){super(...e),c()(this,"state",{isCategoriesExpanded:!1}),c()(this,"filterOffers",e=>{const t=Object(B.r)(e);this.context.navigateTo({route:Object(J.n)(this.props.retailerId,t)})})}renderCategoryBlock(e,t){return E.a.createElement("div",{key:e.id,className:t.block,"data-test-id":"block",style:{backgroundImage:`url('${e.logo}'), linear-gradient(to bottom, rgba(8, 8, 8, 0.1), rgba(8, 8, 8, 0.1) 40%, rgba(8, 8, 8, 0.6))`},onClick:()=>this.filterOffers(e.name)},E.a.createElement("span",{className:t.name},e.displayName))}render(){const e=this.context.intl.formatMessage,t=S()(Zs.a),s=zs()(this.props.categoryRows),a=s[0],n=void 0===a?[]:a,r=s.slice(1);let i=0;return E.a.createElement("div",{className:t.container},E.a.createElement("div",{className:t.headerBar},E.a.createElement("span",{className:t.title},e(Ys.title)),r.length?E.a.createElement("span",{className:t.expand,"data-test-id":"viewToggle",onClick:()=>this.setState({isCategoriesExpanded:!this.state.isCategoriesExpanded})},e(this.state.isCategoriesExpanded?Ys.view_less:Ys.view_all)):null),E.a.createElement("div",{className:t.imgContainer,key:i++},n.map(e=>this.renderCategoryBlock(e,t))),this.state.isCategoriesExpanded?r.map(e=>E.a.createElement("div",{className:t.imgContainer,key:i++},e.map(e=>this.renderCategoryBlock(e,t)))):null)}}c()(Xs,"contextTypes",{intl:T.intlShape.isRequired,navigateTo:h.a.func});var Qs=s(27),$s=s(63),Js=s(174),ea=s(810),ta=s.n(ea),sa=s(275);class aa extends E.a.Component{constructor(...e){super(...e),c()(this,"getLabel",(e,t)=>{return E.a.createElement(e?"span":"strong",0,t)})}shouldComponentUpdate(e){const t=this.props,s=t.senders,a=t.isRead,n=t.transparent,r=t.layoutClassNames,i=Object.keys(t.myAddresses),o=Object.keys(e.myAddresses);return e.senders.length!==s.length||e.isRead!==a||e.transparent!==n||e.layoutClassNames.senders!==r.senders||o.length!==i.length}render(){const e=S()(ta.a,{transparent:this.props.transparent}),t=this.props,s=t.senders,a=t.onClick,n=t.layoutClassNames,r=t.myAddresses,i=t.isRead,o=this.context.intl.formatMessage,c=Object(sa.b)({senders:s,myAddresses:r},o),d=Object(sa.a)({senders:s,myAddresses:r,visibleNum:3},o);return E.a.createElement("div",{className:n.senders,"data-test-id":"senders",role:"gridcell"},E.a.createElement("span",{className:e.participants,onClick:a,role:"gridcell",title:c},d?this.getLabel(i,d):null))}}c()(aa,"defaultProps",{myAddresses:{},transparent:!1}),c()(aa,"contextTypes",{intl:T.intlShape});var na=aa,ra=s(811),ia=s.n(ra);const oa=Object(T.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"}}),ca=({isDarkThemeMode:e,layoutClassNames:t,isHovered:s,isRead:a,readOnly:n,onClick:r},{getCss:i,intl:o})=>{const c=i(ia.a,{isDarkThemeMode:e}),d=o.formatMessage,l=d(a?oa.markAsUnread:oa.markAsRead);let u,_;return a?s?(u=E.a.createElement(Y.b,{"data-test-read":a,kind:R.b.CIRCLE,size:R.d.XS,colorState:R.a.INHERITED}),_=E.a.createElement("span",{className:c.accessible,"aria-label":d(a?oa.msgIsRead:oa.msgIsNotRead)})):_=E.a.createElement("span",{className:c.accessible,"aria-label":d(oa.msgIsRead)}):(u=E.a.createElement(Y.b,{"data-test-read":a,kind:R.b.CIRCLE,size:R.d.XS,colorState:e?R.a.SELECTED_DARK_THEME_MODE:R.a.SELECTED}),_=E.a.createElement("span",{className:c.accessible,"aria-label":d(oa.msgIsNotRead)})),n?E.a.createElement("span",{"data-test-id":"icon-btn-read",title:l,className:c.readIcon,role:"gridcell"},u,_):E.a.createElement("span",{className:t.readIcon,role:"gridcell"},E.a.createElement(X.a,{"data-test-id":"icon-btn-read",title:d(a?oa.markAsUnread:oa.markAsRead),onClick:r,onDoubleClick:r,className:c.readIcon},u,_))};ca.defaultProps={isHovered:!1},ca.contextTypes={intl:T.intlShape,getCss:h.a.func};var da=E.a.memo(ca,(e,t)=>t.isRead?t.isRead===e.isRead&&t.isHovered===e.isHovered&&t.readOnly===e.readOnly&&t.isDarkThemeMode===e.isDarkThemeMode&&t.layoutClassNames.readIcon===e.layoutClassNames.readIcon:t.isRead===e.isRead),la=s(812),ua=s.n(la);const _a=Object(T.defineMessages)({msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"}}),ma=(e,t)=>{const s=e.isDarkThemeMode,a=e.layoutClassNames,n=t.intl.formatMessage,r=t.getCss(ua.a,{isDarkThemeMode:s});return E.a.createElement(X.a,{"data-test-id":"icon-btn-reply","data-test-isreplied":!0,className:`${r.replyIcon} ${a.readIcon}`,role:"gridcell"},E.a.createElement("span",{className:r.indicator},E.a.createElement(Y.b,{kind:R.b.REPLY,size:R.d.XXXS,colorState:s?R.a.INHERITED:R.a.SECOND_LEVEL_GRAY}),E.a.createElement("span",{className:r.accessible,"aria-label":n(_a.msgIsReplied)})))};ma.contextTypes={intl:T.intlShape,getCss:h.a.func};var pa=E.a.memo(ma),ha=s(813),ga=s.n(ha);const Ea=Object(T.defineMessages)({msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),Ia=(e,t)=>{const s=e.isDarkThemeMode,a=e.layoutClassNames,n=t.intl.formatMessage,r=t.getCss(ga.a,{isDarkThemeMode:s});return E.a.createElement(X.a,{"data-test-isforwarded":!0,"data-test-id":"icon-btn-forward",className:`${r.forwardIcon} ${a.readIcon}`,role:"gridcell"},E.a.createElement("span",{className:r.indicator},E.a.createElement(Y.b,{kind:R.b.FORWARD,size:R.d.XXXS,colorState:s?R.a.INHERITED:R.a.SECOND_LEVEL_GRAY}),E.a.createElement("span",{className:r.accessible,"aria-label":n(Ea.msgIsForwarded)})))};Ia.contextTypes={intl:T.intlShape,getCss:h.a.func};var Sa=E.a.memo(Ia),Ca=s(814),fa=s.n(Ca);const Ta=h.a.string,Aa=h.a.arrayOf,ba=h.a.shape,Oa=h.a.oneOf,Ra=(h.a.oneOf(Object(yt.g)(x.bd)),Aa(ba({id:Ta.isRequired,listId:Ta.isRequired})),Oa(Object(yt.g)(x.Rc)),{timeout:900,lightGifURL:Object(Ut.a)("/img/star_jiggle.gif"),darkGifURL:Object(Ut.a)("/img/star_jiggle_dark.gif")}),Na={READ:"READ",UNREAD:"UNREAD",STAR:"STAR",UNSTAR:"UNSTAR",DELETE:"DELETE",ARCHIVE:"ARCHIVE",RESTORE:"RESTORE",OPEN_MSG:"OPEN_MSG",OPEN_PHOTO:"OPEN_PHOTO",OPEN_DOC:"OPEN_DOC",CHK_MAIL:"CHK_MAIL",ROTATE_PREVIEWPANE:"ROTATE_PREVIEWPANE",SELECTION_CHANGE:"SELECTION_CHANGE"};var Ma=s(90),Da=s.n(Ma);const ya=Object(T.defineMessages)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}}),La=(()=>{let e=1;return()=>(e+=1,e%=3)})(),va=e=>{const t=e.isDarkThemeMode?Ra.darkGifURL:Ra.lightGifURL,s=La();let a=20,n=20;switch(e.size){case"S":case"M":a=24,n=24}return E.a.createElement("img",{src:t,style:{transform:`translateZ(${s}px)`,height:`${a}px`,width:`${n}px`}})};class Pa extends E.a.Component{constructor(e){super(e),this.state={shouldBurst:!1,isStarred:e.isStarred},e.isDarkThemeMode?Object(H.d)(Ra.darkGifURL):Object(H.d)(Ra.lightGifURL),this.burstOnClick=this.burstOnClick.bind(this)}shouldComponentUpdate(e,t){return e.isHovered!==this.props.isHovered?!e.isStarred||this.state.shouldBurst!==t.shouldBurst||this.state.isStarred!==t.isStarred:e.size!==this.props.size||e.readOnly!==this.props.readOnly||e.isStarred!==this.props.isStarred||e.isDarkThemeMode!==this.props.isDarkThemeMode||e.kind!==this.props.kind||e.burstAnimationEnabled!==this.props.burstAnimationEnabled||t.shouldBurst!==this.state.shouldBurst||t.isStarred!==this.state.isStarred}render(){const e=this.props,t=e.layoutClassNames,s=e.isStarred,a=e.isHovered,n=e.isDarkThemeMode,r=e.size,i=e.kind,o=e.readOnly,c=e.burstAnimationEnabled,d=this.context,l=d.intl,u=(0,d.getCss)(fa.a,{isDarkThemeMode:n,size:r}),_=l.formatMessage,m=_(s?ya.markAsUnstarred:ya.markAsStarred);let p,h;return c&&this.state.shouldBurst?p=va({isDarkThemeMode:n,size:r}):s?(p=E.a.createElement(Y.b,{"data-test-starred":s,kind:i,size:r,colorState:n?R.a.STARRED_DARK:R.a.STARRED}),h=E.a.createElement("span",{className:u.accessible,"aria-label":_(ya.msgIsStarred)})):a?(p=E.a.createElement(Y.b,{kind:i,size:r,colorState:n?R.a.SMARTVIEW_DARK:R.a.COOL_FAINT}),h=E.a.createElement("span",{className:u.accessible,"aria-label":_(s?ya.msgIsStarred:ya.msgIsNotStarred)})):(p=E.a.createElement(Y.b,{"data-test-starred":s,kind:i,size:r,colorState:n?R.a.INVERTED_MORE_DIM:R.a.FAINT}),h=E.a.createElement("span",{className:u.accessible,"aria-label":_(ya.msgIsNotStarred)})),o?E.a.createElement("span",{"data-test-id":"icon-btn-star",title:m,className:u.starIcon,role:"gridcell"},p,h):E.a.createElement("span",{role:"gridcell"},E.a.createElement(X.a,{"data-test-id":"icon-btn-star",title:m,onClick:this.burstOnClick,onDoubleClick:this.burstOnClick,className:t.starButtonStyle?Da()(u.starIcon,t.starButtonStyle):u.starIcon},E.a.createElement("span",{className:u.iconContainer},p,h)))}componentWillReceiveProps(e){this.props.burstAnimationEnabled&&this.state.isStarred!==e.isStarred&&this.setState({isStarred:!this.state.isStarred})}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}burstOnClick(e){const t=this.props.burstAnimationEnabled;this.props.onClick(e),t&&(this.state.isStarred?this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout)):(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},Ra.timeout)))}}Pa.defaultProps={size:R.d.XS,isHovered:!1,kind:R.b.STAR,burstAnimationEnabled:!1},Pa.contextTypes={intl:T.intlShape,getCss:h.a.func};var Fa=Pa,wa=s(815),ka=s.n(wa);const xa=Object(T.defineMessages)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),Ua=(e,t)=>{const s=e.searchType===x.td.SUBJECT,a=t.getCss(ka.a,{isDarkThemeMode:e.isDarkThemeMode}),n=t.intl.formatMessage;return e.showSearch&&e.isHovered?E.a.createElement("span",{className:(s?a.subjectSearchIcon:"")+(e.containerClassName?" "+e.containerClassName:"")},E.a.createElement(X.a,{"data-test-id":"icon-btn-search",title:n(s?xa.searchBySubject:xa.searchByContact),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?a.contactSearchIconCompact:a.searchIcon},E.a.createElement("span",null,E.a.createElement(Y.b,{kind:R.b.SEARCH_MINI,size:R.d.XS,colorState:R.a.INHERITED})))):null};Ua.defaultProps={isHovered:!1,isCompact:!1},Ua.contextTypes={intl:T.intlShape,getCss:h.a.func};var Ga=E.a.memo(Ua),ja=s(304),Ha=s(816),Ba=s.n(Ha);const Va=Object(T.defineMessages)({no_subject:{id:"no_subject",defaultMessage:"No Subject"}}),Wa=(e,t)=>{const s=t.intl.formatMessage,a=t.getCss(Ba.a),n=e.subject,r=e.highlightSearchTerm,i=e.layoutClassNames;let o=null;const c=`${a.highlightedTerm} ${i.highlightedTerm}`;return o=n?Object(St.b)(n,r,c):E.a.createElement("span",{className:i.noSubject},"(",s(Va.no_subject),")"),E.a.createElement("span",{"data-test-id":"message-subject",className:`${i.subject} ${a.subject}`,role:"gridcell",title:Object(St.e)(n)},o)};Wa.defaultProps={highlightSearchTerm:!1},Wa.contextTypes={intl:T.intlShape,getCss:h.a.func};var qa=E.a.memo(Wa),za=s(817),Ka=s.n(za);const Za=(e,t)=>{const s=e.snippet,a=e.highlightSearchTerm,n=e.layoutClassNames,r=t.getCss(Ka.a),i=`${r.highlightedTerm} ${n.highlightedTerm}`,o=Object(St.b)(s,a,i);return E.a.createElement("div",{className:r.snippetContainer+(n.snippetContainer?` ${n.snippetContainer}`:""),"data-test-id":"snippet"},E.a.createElement("div",{className:`${r.snippet} ${n.snippet}`,role:"gridcell"},o))};Za.contextTypes={getCss:h.a.func};var Ya=E.a.memo(Za),Xa=s(818),Qa=s.n(Xa);const $a=(e,t)=>{const s=t.getCss(Qa.a),a=e.count;return E.a.createElement("span",{"data-test-id":"message-count",className:a>1?`${s.messageCount} ${e.layoutClassNames.messageCount}`:s.accessible,role:"gridcell"},E.a.createElement("span",null,E.a.createElement("span",{className:s.accessible,"data-test-id":"accessible-message-count"},E.a.createElement(T.FormattedMessage,{id:"msg_count",values:{messageCount:a},defaultMessage:"{messageCount, plural,\n                                                one {# message}\n                                                other {# messages}\n                                            }"})),a>1?E.a.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},a):null))};$a.contextTypes={getCss:h.a.func};var Ja=E.a.memo($a),en=s(819),tn=s.n(en);const sn=(e,t)=>{const s=t.getCss(tn.a),a=e.hasDraft;return E.a.createElement("span",{"data-test-id":"draft-indicator",className:a?`${s.draftIndicator} ${e.layoutClassNames.draftIndicator}`:s.accessible},a?E.a.createElement(T.FormattedMessage,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)};sn.contextTypes={getCss:h.a.func};var an=E.a.memo(sn,(e,t)=>e.hasDraft===t.hasDraft&&e.layoutClassNames.draftIndicator===t.layoutClassNames.draftIndicator),nn=s(820),rn=s.n(nn),on=s(87),cn=s(263),dn=s(344),ln=s(821),un=s.n(ln);const _n=100,mn=30,pn=()=>{};class hn extends g.Component{constructor(e){super(e),this.navigateTo=this.navigateTo.bind(this)}navigateTo(e){const t=this.props,s=t.listId,a=t.groupId,n={mKey:U.e.ATTACHMENT_LIGHTBOX_OPEN,sec:U.g.MSG_LIST_MSG,interactionType:U.d.click};this.context.navigateTo({route:Object(J.e)(s,a,e,{fullscreen:"1"}),i13nModel:n})}render(){const e=this.props,t=e.attachments,s=e.isSpam,a=e.attachmentTraySize,n=S()(un.a),r=t.map((e,t)=>E.a.createElement("span",{key:e.id,className:n.attachmentItem,"data-test-id":"attachment-item-"+t},E.a.createElement(cn.a,{attachment:e,readOnly:!0,allowDownload:!1,onRemove:pn,onClick:this.navigateTo.bind(this,e.id),isPreviewEnabled:!s,previewWithoutDownload:!0,smallPreview:!0})));return E.a.createElement("div",{"data-test-id":"attachment-popover"},t.length>a?E.a.createElement("div",{style:{width:2*mn+_n*a},className:n.attachmentsCarouselContainer},E.a.createElement(dn.b,{itemWidth:_n},r)):E.a.createElement("div",{className:n.attachmentsPopoverContainer},r))}}hn.contextTypes={getCss:h.a.func,navigateTo:h.a.func.isRequired};var gn=hn,En=s(76);const In=(e,t,s)=>E.a.createElement("span",{"data-test-id":"attachment-icon",className:e.attachmentIcon},E.a.createElement(Y.b,{kind:Object(ot.g)(t),size:R.d.XS,colorState:s?R.a.FAINT:R.a.DISABLED}),E.a.createElement("span",{className:e.accessible},E.a.createElement(T.FormattedMessage,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),Sn=({attachments:e,attachmentTraySize:t,isInteractive:a,isDarkThemeMode:n,listId:r,groupId:i,rsvpEnabled:o,isSpam:c},{getCss:d,config:l})=>{const u=d(rn.a);if(!e.length)return E.a.createElement("span",{className:u.accessible,"data-test-id":"accessible-no-attachment"},E.a.createElement(T.FormattedMessage,{id:"msg_no_attachment",defaultMessage:"No attachment"}));if(!a)return In(u,e,n);const _=Object(ot.e)(e,Object(on.a)(l,"previewableInlineAttachmentSize")),m=o?(e=>e.length>0&&Object(ot.d)(e[0].type,e[0].subtype)===x.w.SimplifiedTypes.CAL?e[0]:null)(_):null;return E.a.createElement(En.c,{arrowSize:ts.b.M,permittedArrowDirections:[ts.h.UP,ts.h.DOWN],triggerOn:En.b.HOVER_DELAYED,triggerDelayTime:200,triggerOff:En.a.HOVER_OUT,align:ts.a.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:V.ZIndices.POPOVER.MEDIUM},In(u,e,n),m?E.a.createElement("div",null,E.a.createElement(Qs.a,{import:"../../../rsvp_view/index.jsx",eventAttachment:m,messageId:m.id.split(":")[0],compact:!0,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,491))},_moduleResolver:function(){return 491}})):E.a.createElement(gn,{attachments:_,attachmentTraySize:t,listId:r,isSpam:c,groupId:i}))};Sn.defaultProps={isInteractive:!0,isHovered:!1,attachmentTraySize:3},Sn.contextTypes={getCss:h.a.func,config:h.a.object};var Cn=E.a.memo(Sn);const fn=Object(yt.c)(["ACCOUNT","FOLDER","NONE"]);var Tn=s(822),An=s.n(Tn),bn=s(177),On=s(58),Rn=s(48);const Nn=({messageDestinationLabel:e,accountDescription:t,account:s,folderName:a,folderType:n,layoutClassNames:r},i)=>{const o=S()(An.a),c=i.intl,d=c.formatMessage,l=c.locale,u={};let _=null;switch(e){case fn.ACCOUNT:{let e=u[l];e||(e=u[l]={[x.ob.YAHOO]:d(On.a.yahoo_account_description),[x.ob.YAHOO_SB]:d(On.a.yahoo_account_description),[x.ob.OUTLOOK]:d(On.a.outlook_account_description),[x.ob.AOL]:d(On.a.aol_account_description),[x.ob.GOOGLE]:d(On.a.gmail_account_description),[x.ob.GOOGLE_APP]:d(On.a.gmail_account_description)});const n=t||e[Object(Rn.d)(s)];_=E.a.createElement("div",{className:`${o.messageDestinationLabel} ${r.messageDestinationLabel}`,"data-test-id":"account"},E.a.createElement("span",{title:n+"/"+a},n));break}case fn.FOLDER:_=E.a.createElement("div",{className:`${o.messageDestinationLabel} ${r.messageDestinationLabel}`,title:a,"data-test-id":"folder"},E.a.createElement(bn.a,{folderDisplayType:n,name:a}))}return _};Nn.contextTypes={intl:T.intlShape.isRequired};var Mn=Nn;var Dn=Object(A.connect)((e,t)=>{const s=t.layoutClassNames,a=t.folderId,n=Object(be.b)(e),r=n.getAccountSelectors,i=(0,n.getFoldersSelectors)(),o=i.getPrimaryFolderTypeByFolderId,c=i.getFolderName,d=i.getAccountIdByFolderId,l=r(),u=l.getAccountDescriptionByAccountId,_=l.getAccountById,m=(0,l.hasMultipleRootAccounts)()?fn.ACCOUNT:fn.FOLDER,p=o(a),h=c(a),g=d(a);return{accountDescription:u(g),account:_(g),messageDestinationLabel:m,folderName:h,folderType:p,layoutClassNames:s}})(Mn),yn=s(373),Ln=s(823),vn=s.n(Ln);(0,h.a.oneOf)(Object(yt.g)(x.pc));const Pn=({messageIds:e,isRead:t,isStarred:s,renderItemSelection:a,renderReadIndicators:n,renderContactSearchIcon:r,renderSubjectSearchIcon:i,renderSenders:o,renderStarIcon:c,renderSubject:d,renderSnippet:l,renderMessageDestinationLabel:u,renderMessageCount:_,renderDraftLabel:m,renderAttachmentIcon:p,renderDate:h,renderTrashIcon:g,renderConfirmDialog:I,renderExtractedInfo:S,isHovered:C,showSubjectSearch:f,itemHeight:T,getAttachments:A},{getCss:b})=>{const O=b(vn.a,{hasJustOneMessage:1===e.length,isRead:t,isStarred:s,showSubjectSearchAndHovered:C()&&f}),R=A();return E.a.createElement("div",{className:O.container+" message-list-item",style:{height:T-1}},E.a.createElement("div",{className:O.gridB1},E.a.createElement("div",{className:O.check,role:"gridcell"},a()),n(O),o(O),r(O)),c(O),E.a.createElement("div",{className:O.gridB2},E.a.createElement("div",{className:O.message},E.a.createElement("div",{className:O.subjectContainer},d(O),_(O),m(O)),i(O),l(O)),S(O),u(O),p(O,R),E.a.createElement("div",{className:O.iconB2,role:"gridcell"},h(O),g())),I())};Pn.contextTypes={getCss:h.a.func,getThemeMode:h.a.func};var Fn=Pn,wn=s(265),kn=s(824),xn=s.n(kn),Un=s(825),Gn=s.n(Un);const jn=({isHovered:e,useTouchTargets:t,messageIds:s,isRead:a,showSnippets:n,renderItemSelection:r,renderContactSearchIcon:i,renderSenders:o,renderStarIcon:c,renderSubject:d,renderSnippet:l,renderMessageCount:u,renderAttachmentIcon:_,renderDate:m,renderReadIndicators:p,renderTrashIcon:h,listItemHeight:g,renderDraftLabel:I,renderConfirmDialog:S,getAttachments:C,msgListDensity:f,renderExtractedInfo:T},{getCss:A})=>{const b=e(),O=C(),R=A(Gn.a,{hasJustOneMessage:1===s.length,isRead:a,hovered:b,extraStarPadding:a&&!b,useTouchTargets:t,hasAttachment:O&&O.length,msgListDensity:f,readDensity:`${a}-${f}`});return E.a.createElement("div",{className:R.container+" message-list-item",style:{height:g-1}},E.a.createElement("div",{className:R.check,role:"gridcell"},r(R)),E.a.createElement("div",{className:R.gridB1},p(R),c(R)),E.a.createElement("div",{className:R.message},E.a.createElement("div",{className:R.senderRow,"data-test-id":"senderRow",role:"gridcell"},E.a.createElement("div",{className:R.groupSection},o(R),b?i(R):null,u(R),I(R)),m(R)),E.a.createElement("div",{className:R.bottomRight},E.a.createElement("div",{className:R.infoGroup},d(R),n?T(R)||l(R):null),b?null:_(R,O))),b?E.a.createElement("div",{className:R.trashIconContainer},h()):null,S())};jn.contextTypes={getCss:h.a.func,getThemeMode:h.a.func};var Hn=jn;const Bn={[Na.READ]:{i13nModel:{mKey:U.e.MARK_MSG_READ,mKeyGroup:U.f.mark_read,sec:U.g.MSG_LIST_MSG},triageActionType:x.ne.READ_CHANGE_SELECTED_ITEMS},[Na.UNREAD]:{i13nModel:{mKey:U.e.MARK_MSG_UNREAD,mKeyGroup:U.f.mark_unread,sec:U.g.MSG_LIST_MSG},triageActionType:x.ne.READ_CHANGE_SELECTED_ITEMS},[Na.STAR]:{i13nModel:{mKey:U.e.MARK_MSG_STARRED,mKeyGroup:U.f.mark_star,sec:U.g.MSG_LIST_MSG},triageActionType:x.ne.STAR_CHANGE_SELECTED_ITEMS},[Na.UNSTAR]:{i13nModel:{mKey:U.e.MARK_MSG_UNSTARRED,mKeyGroup:U.f.mark_unstar,sec:U.g.MSG_LIST_MSG},triageActionType:x.ne.STAR_CHANGE_SELECTED_ITEMS},[Na.DELETE]:{i13nModel:{mKey:U.e.MSG_LIST_DEL,mKeyGroup:U.f.delete,sec:U.g.MSG_LIST_MSG},triageActionType:x.ne.DELETE_SELECTED_ITEMS},[Na.ARCHIVE]:{i13nModel:{mKey:U.e.MSG_LIST_ARCHIVE,mKeyGroup:U.f.archive,sec:U.g.MSG_LIST_MSG},triageActionType:x.ne.ARCHIVE_SELECTED_ITEMS},[Na.RESTORE]:{i13nModel:{mKey:U.e.MSG_LIST_MV_INBOX,mKeyGroup:U.f.restore,sec:U.g.MSG_LIST_MSG},triageActionType:x.ne.RESTORE_SELECTED_ITEMS},[Na.OPEN_MSG]:{i13nModel:{mKey:U.e.OPEN_MSG,mKeyGroup:U.f.open_msg,sec:U.g.MSG_LIST_MSG}},[Na.OPEN_DOC]:{i13nModel:{mKey:U.e.DOC_OPEN,mKeyGroup:U.f.open_doc,sec:U.g.DOC_LIST}},[Na.OPEN_PHOTO]:{i13nModel:{mKey:U.e.PHOTO_OPEN,mKeyGroup:U.f.open_photo,sec:U.g.PHOTO_LIST}},[Na.CHK_MAIL]:{i13nModel:{mKey:U.e.CHECK_MAIL,sec:U.g.MSG_LIST}},[Na.ROTATE_PREVIEWPANE]:{i13nModel:{mKey:U.e.SETTINGS_PREVIEW_PANE,sec:U.g.SETTINGS_INBOX_TAB}},[Na.SELECTION_CHANGE]:{i13nModel:{mKey:U.e.SELECT_MSG,sec:U.g.MSG_LIST_MSG}}},Vn=(e,t)=>{if(!Bn[t])return{};const s=i()({},Bn[t]);return e&&(s.i13nModel=i()({},s.i13nModel,{interactionType:Object(j.j)(e)})),s};var Wn=s(109),qn=s(105),zn=s(372),Kn=s(444),Zn=s(64);const Yn=()=>{},Xn=Object(T.defineMessages)({email_aria_label:{id:"email_aria_label",defaultMessage:"{senderNames}'s email"},deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"}}),Qn=e=>{e.stopPropagation(),e.preventDefault()};class $n extends E.a.Component{constructor(e){super(e),c()(this,"onMouseOver",()=>{this.state.hover||this.props.isScrolling()||this.props.isDragging()||this.setState({hover:!0})}),c()(this,"onMouseLeave",()=>{this.state.hover&&this.setState({hover:!1})}),c()(this,"isHovered",()=>this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging()),c()(this,"isDarkThemeMode",()=>this.context.getThemeMode()===G.h.DARK),c()(this,"handleClick",e=>{Qn(e);const t=this.props,s=t.messageRoute,a=t.unusualDiscount,n=t.productCategoryList,r=t.listId,i=t.groupId,o=t.streamId,c=Object(j.j)(e),d=this.participantsInfo.senders,l=void 0===d?[]:d;if(a&&Zn.b.sendI13nModel({i13nModel:{mKey:U.e.UNUSUAL_DISCOUNT_MAIL_CLICKED,sec:U.g.MSG_LIST,actionData:{mid:this.props.messageIds,sndr:Object(j.n)(l[0].email)?Object(j.e)(l[0].email).domainPart:"NODOMAIN.COM",reason:{featurefamily:x.sb.IC,featurename:x.ub.UNUSUAL_DISCOUNT_EXISTS}}}}),n.length){const e=U.e.CATEGORY_FOLLOWING_MSG_OPEN,t=U.d.click,s=U.g.MSG_BODY,a={reason:{featurefamily:x.sb.IC,featurename:x.ub.CATEGORY_FOLLOW}};this.productCategoryInstrumentation=setTimeout(()=>{Zn.b.sendI13nModel({i13nModel:{mKey:e,interactionType:t,sec:s,actionData:a}})},0)}if(e.shiftKey){return this.props.onRangeSelected({streamId:o,streamItem:{listId:this.props.listId,id:this.props.groupId}}),void this.props.onClick(e)}this.props.onOpenMessage({listId:r,streamId:o,messageRoute:s,groupId:i,senders:l,i13nModel:{interactionType:c}}),this.props.onClick(e)}),c()(this,"handleDoubleClick",e=>{Qn(e),this.openItem(Object(j.j)(e)),this.props.onDoubleClick(e)}),c()(this,"openItem",e=>{const t=this.props;(0,t.navigateTo)({route:t.messageRoute,streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:U.e.OPEN_MSG,sec:U.g.MSG_LIST_MSG,mKeyGroup:U.f.open_msg}})}),c()(this,"openContactSearch",e=>{const t=this.participantsInfo.senders;if(1!==t.length)return;const s={emailAddresses:t[0].email,name:t[0].name||t[0].email};this.props.navigateToSearch({route:Object(J.u)(s),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:U.e.CONTACT_SEARCH,sec:U.g.MSG_LIST_MSG,mKeyGroup:U.f.search}})}),c()(this,"openSubjectSearch",e=>{const t={keyword:`subject:"${Object($s.m)(this.props.subject)}"`};this.props.navigateToSearch({route:Object(J.u)(t),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:U.e.SUBJECT_SEARCH,sec:U.g.MSG_LIST_MSG,mKeyGroup:U.f.search}})}),c()(this,"handleContactSearchClick",e=>{Qn(e),this.openContactSearch(Object(j.j)(e)),this.props.onContactSearch()}),c()(this,"handleSubjectSearchClick",e=>{Qn(e),this.openSubjectSearch(Object(j.j)(e)),this.props.onSubjectSearch()}),c()(this,"handleSelectionChange",e=>{Qn(e);const t=this.props,s=t.streamId,a=t.onSelectionChange,n={listId:this.props.listId,id:this.props.groupId};e.shiftKey?(0,t.onRangeSelected)({streamId:s,streamItem:n}):a(i()({streamId:s,streamItem:n},Vn(e,Na.SELECTION_CHANGE)))}),c()(this,"handleDeleteClick",e=>{Qn(e);const t=this.props,s=t.streamId,a=t.onDelete;if(null===this.state.confirmState&&t.permanentDelete)return void this.setState({confirmState:{title:Wn.a.list_delete_title,message:Wn.a.list_perm_delete_message,onConfirm:this.handleDeleteClick,onAbort:this.hideConfirm},hover:!1});const n={listId:this.props.listId,id:this.props.groupId},r=Vn(e,Na.DELETE);a(i()({streamId:s,streamItem:n},r)),this.hideConfirm()}),c()(this,"handleReadChange",e=>{Qn(e);const t=this.props,s=t.onReadChange,a=t.streamId,n={listId:this.props.listId,id:this.props.groupId},r=Vn(e,t.isRead?Na.UNREAD:Na.READ);s(i()({streamId:a,streamItem:n},r))}),c()(this,"handleStarChange",e=>{Qn(e);const t=this.props,s=t.streamId,a=t.onStarChange,n={listId:this.props.listId,id:this.props.groupId},r=Vn(e,t.isStarred?Na.UNSTAR:Na.STAR);a(i()({streamId:s,streamItem:n},r))}),c()(this,"handleContextMenu",e=>{if(!this.navLink)return;const t=this.navLink.getBoundingClientRect(),s=this.props,a=s.groupId,n=s.listId,r=s.streamId;Qn(e),this.props.onContextMenu({interactionType:Object(j.j)(e),messageGroupId:a,listId:n,streamId:r}),this.setState({contextMenuPosition:{x:e.clientX-t.left,y:e.clientY-t.top},showContextMenu:!0})}),c()(this,"handleContextMenuHide",()=>{this.setState({showContextMenu:!1,contextMenuPosition:null})}),c()(this,"hideConfirm",()=>{null!==this.state.confirmState&&this.setState({confirmState:null})}),c()(this,"componentWillUnmount",()=>{clearTimeout(this.productCategoryInstrumentation)}),c()(this,"renderItemSelection",(e={})=>{const t=this.props.selected;return E.a.createElement(Js.a,{"data-test-id":"icon-btn-checkbox","aria-label":(0,this.context.intl.formatMessage)(t?Xn.deselectionAriaLabel:Xn.selectionAriaLabel),isChecked:!!t,onClick:this.handleSelectionChange,onDoubleClick:this.handleSelectionChange,isInverted:this.isDarkThemeMode(),className:e.checkbox})}),c()(this,"renderYBadge",e=>E.a.createElement(yn.a,{layoutClassNames:e})),c()(this,"renderReadIcon",e=>{return E.a.createElement(da,{isHovered:this.state.hover,isRead:this.props.isRead,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleReadChange,layoutClassNames:e})}),c()(this,"renderReplyIcon",e=>E.a.createElement(pa,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e})),c()(this,"renderForwardIcon",e=>E.a.createElement(Sa,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e})),c()(this,"renderReadIndicators",e=>{const t=this.props,s=t.isRead,a=t.isReplied,n=t.isForwarded;return(0,t.isVerifiedDomain)()?this.renderYBadge(e):s?a&&!this.state.hover?this.renderReplyIcon(e):n&&!this.state.hover?this.renderForwardIcon(e):this.renderReadIcon(e):this.renderReadIcon(e)}),c()(this,"renderSenders",e=>{const t=this.props,s=this.participantsInfo;return E.a.createElement(na,{isRead:t.isRead,senders:s.senders,myAddresses:s.myAddresses,onClick:t.onClick,layoutClassNames:e})}),c()(this,"renderContactSearchIcon",e=>{if(this.props.isScrolling())return null;const t=this.props.showContactSearch;return this.isHovered()?E.a.createElement(Ga,{isHovered:this.state.hover,showSearch:t(this.participantsInfo.senders),isCompact:!1,searchType:x.td.CONTACT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleContactSearchClick,containerClassName:e.contactSearchIcon}):null}),c()(this,"renderSubjectSearchIcon",e=>{if(this.props.isScrolling())return null;const t=this.props.showSubjectSearch;return this.isHovered()?E.a.createElement(Ga,{isHovered:this.state.hover,showSearch:t,isCompact:!1,searchType:x.td.SUBJECT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleSubjectSearchClick,layoutClassNames:e}):null}),c()(this,"getStarIconSize",()=>{if(this.isRightPreviewPaneUser())return R.d.XS;switch(this.props.msgListDensity){case x.pc.SLIM:return R.d.XS;case x.pc.NORMAL:case x.pc.RELAXED:return R.d.S;default:return R.d.XS}}),c()(this,"renderStarIcon",e=>{return E.a.createElement(Fa,{isHovered:this.state.hover,isStarred:this.props.isStarred,size:this.getStarIconSize(),isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleStarChange,layoutClassNames:e,burstAnimationEnabled:!0})}),c()(this,"renderMessageCount",e=>{return E.a.createElement(Ja,{layoutClassNames:e,count:this.props.messageIds.length})}),c()(this,"renderDraftLabel",e=>{return E.a.createElement(an,{layoutClassNames:e,hasDraft:this.props.hasDraft})}),c()(this,"renderSubject",e=>{const t=this.props;return E.a.createElement(qa,{subject:t.subject,highlightSearchTerm:t.highlightSearchTerm,layoutClassNames:e})}),c()(this,"renderSnippet",e=>{const t=this.props;return t.showSnippets?E.a.createElement(Ya,{snippet:t.snippet,highlightSearchTerm:t.highlightSearchTerm,layoutClassNames:e}):null}),c()(this,"renderNudgeToReply",()=>{const e=this.props;return E.a.createElement(zn.a,{messageGroupId:e.groupId,listId:e.listId,messageIds:e.messageIds,messageAgeInDays:e.messageAgeInDays})}),c()(this,"renderCategoryFollowing",()=>{const e=this.props,t=e.productCategoryList;return t.length?E.a.createElement(Qs.a,{import:"../../../category_following",contextOfUse:"messageList",messageGroupId:e.groupId,categoriesList:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,859))},_moduleResolver:function(){return 859}}):null}),c()(this,"renderQuotientUpsellPill",()=>{const e=this.props;return E.a.createElement(Kn.a,{quotientRetailerName:e.quotientRetailerName,showQuotientUpsellPill:e.showQuotientUpsellPill,messageIds:e.messageIds,senders:this.participantsInfo.senders,quotientRetailerId:e.quotientRetailerId,openLinkModal:e.openLinkModal,isDarkThemeMode:this.isDarkThemeMode()})}),c()(this,"renderUnusualDiscount",()=>{const e=this.props;return E.a.createElement(Kn.a,{unusualDiscount:e.unusualDiscount,messageIds:e.messageIds,senders:this.participantsInfo.senders,isDarkThemeMode:this.isDarkThemeMode()})}),c()(this,"renderContextMenu",e=>{const t=this.state.contextMenuPosition,a=this.props,n=a.listId,r=a.streamId,i=a.moreMenuActions,o=a.onDelete,c=a.onSpam,d=a.onArchive,l=a.onReplyForward;return E.a.createElement(En.c,{align:ts.a.START,zAltitude:V.ZIndices.POPOVER.HIGH,triggerOn:En.b.MOUNT,triggerOff:En.a.CLICK,onShown:a.contextMenuShown,onHide:this.handleContextMenuHide,isArrowVisible:!1,scrollContainer:a.scrollerRef,permittedArrowDirections:[ts.h.UP,ts.h.DOWN],contentComfortThreshold:1,collapseArrowWrapper:!0},E.a.createElement("span",{className:e.contextMenuAnchor,style:{top:t.y+"px",left:t.x+"px"}}),t=>E.a.createElement("div",{className:e.contextMenuContainer},E.a.createElement(Qs.a,{import:"../action_menu_items/index.jsx",listId:n,streamId:r,onEscape:this.handleContextMenuHide,onRead:i.onRead,onStar:i.onStar,onUnstar:i.onUnstar,onUnread:i.onUnread,onPrint:i.onPrint,moveToInbox:i.moveToInbox,viewRawMessage:i.viewRawMessage,contextualMenu:!0,onDelete:o,onSpam:c,onArchive:d,onReplyForward:l,onModuleLoadSuccess:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,863))},_moduleResolver:function(){return 863}},E.a.createElement(Qs.b,{loading:!0},E.a.createElement(k.b,null)))))}),c()(this,"renderExtractedInfo",()=>{const e=this.props,t=e.unusualDiscount,s=e.showQuotientUpsellPill,a=!!e.productCategoryList.length;let n=null;return e.showNudgeToReply?n=this.renderNudgeToReply():a?n=this.renderCategoryFollowing():t?n=this.renderUnusualDiscount():s&&(n=this.renderQuotientUpsellPill()),n}),c()(this,"renderMessageDestinationLabel",e=>this.props.showDestinationLabel()?E.a.createElement(Dn,{layoutClassNames:e,folderId:this.props.folderId}):null),c()(this,"renderAttachmentIcon",(e,t)=>{const s=this.props,a=s.groupId,n=s.isSpam,r=s.listId,i=s.isScrolling,o=s.rsvpEnabled;return E.a.createElement("div",{className:e.attachmentIcon,"data-test-id":"attachment-icon-wrapper",role:"gridcell"},E.a.createElement(Cn,{attachments:t,isDarkThemeMode:this.isDarkThemeMode(),listId:r,groupId:a,isSpam:n,attachmentTraySize:4,isInteractive:!i(),layoutClassNames:e,rsvpEnabled:o}))}),c()(this,"renderDate",e=>E.a.createElement("time",{className:e.dateWrapper+" date",style:this.isHovered()?{display:"none"}:{},role:"gridcell"},E.a.createElement(Et.a,{"data-test-id":"date-time-label",date:new Date(this.props.timestamp),timezone:this.context.timezone.name}))),c()(this,"renderTrashIcon",()=>this.props.isScrolling()?null:E.a.createElement(ja.a,{isHovered:this.state.hover,isCompact:this.isRightPreviewPaneUser(),isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleDeleteClick})),c()(this,"renderConfirmDialog",()=>{if(null===this.state.confirmState)return null;const e=this.state.confirmState,t=this.context.intl.formatMessage,s={conversations:this.props.isConversationMode,count:this.props.messageIds.length};return E.a.createElement(qn.a,{title:t(e.title),message:t(e.message,s),onConfirm:e.onConfirm,onAbort:e.onAbort})}),c()(this,"isRightPreviewPaneUser",()=>{return this.props.previewpane===x.Rc.RIGHT}),c()(this,"getNavLink",e=>{this.navLink=e}),this.participantsInfo=e.getParticipantsInfo(),this.state={hover:!1,confirmState:null,quotientUpsellPill:!1,showContextMenu:!1,contextMenuPosition:null}}componentWillReceiveProps(e){this.participantsInfo=e.getParticipantsInfo()}componentDidUpdate(e){this.props.active&&!e.active&&Object(C.findDOMNode)(this.navLink).focus()}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.isRead,a=t.isStarred,r=t.selected,i=t.onMouseDown,o=t.onMouseUp,c=t.onDragStart,d=t.onDragEnd,l=t.groupId,u=t.messageRoute,_=t.active,m=t.showHighlightColor,p=this.state,h=p.contextMenuPosition,g=p.showContextMenu,I=this.participantsInfo.senders,S={renderItemSelection:this.renderItemSelection,renderReadIndicators:this.renderReadIndicators,renderContactSearchIcon:this.renderContactSearchIcon,renderSubjectSearchIcon:this.renderSubjectSearchIcon,renderSenders:this.renderSenders,renderStarIcon:this.renderStarIcon,renderSubject:this.renderSubject,renderSnippet:this.renderSnippet,renderMessageDestinationLabel:this.renderMessageDestinationLabel,renderMessageCount:this.renderMessageCount,renderDraftLabel:this.renderDraftLabel,renderAttachmentIcon:this.renderAttachmentIcon,renderDate:this.renderDate,renderTrashIcon:this.renderTrashIcon,renderConfirmDialog:this.renderConfirmDialog,renderExtractedInfo:this.renderExtractedInfo},C=this.context.getCss(xn.a),f=r&&h&&g;return E.a.createElement("a",{role:"row",className:C.link+(m?" "+C.highlight:"")+(_?" "+C.active:""),"data-test-id":"message-list-item","data-test-active":r,"data-test-starred":a,"data-test-read":s,tabIndex:_?V.TabIndices.MESSAGE_LIST_MAIN:-1,"aria-label":e(Xn.email_aria_label,{senderNames:I.map(e=>e.name).join(", ")}),href:this.context.getUrlFromRoute(u),ref:this.getNavLink,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:i,onMouseUp:o,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onDragStart:c.bind(null,l),onDragEnd:d,onContextMenu:this.handleContextMenu,rel:"noopener"},f?this.renderContextMenu(C):null,this.isRightPreviewPaneUser()?E.a.createElement(Hn,n()({},S,this.props,{isHovered:this.isHovered})):E.a.createElement(Fn,n()({},S,this.props,{isHovered:this.isHovered})))}}c()($n,"contextTypes",{intl:h.a.object,getCss:h.a.func,getThemeMode:h.a.func,getUrlFromRoute:h.a.func.isRequired,timezone:v.e}),c()($n,"defaultProps",{isScrolling:Yn,isDragging:Yn,onDragStart:Yn,onDrag:Yn,onDragEnd:Yn,openItem:Yn,onMouseUp:Yn,onMouseDown:Yn,onSelectionChange:Yn,onReadChange:Yn,onStarChange:Yn,onClick:Yn,onKeyDown:Yn,onDoubleClick:Yn,onContactSearch:Yn,onSubjectSearch:Yn,onDelete:Yn,selected:!1,active:!1,highlightSearchTerm:!0,previewpane:0,hasDraft:!1,isVerifiedDomain:()=>!1,permanentDelete:!1,contextMenuEnabled:!1});var Jn=Object(wn.a)($n),er=s(827),tr=s.n(er);const sr=({isDarkMode:e,itemHeight:t})=>{const s=S()(tr.a,{isDarkMode:e});return E.a.createElement("div",{className:s.container+" message-list-placeholder",style:{height:t-1}},E.a.createElement("div",{className:s.gridB1,role:"gridcell"},E.a.createElement("div",{className:s.check})),E.a.createElement("div",{className:s.gridB2},E.a.createElement("div",{className:s.senderRow},E.a.createElement("div",{className:s.sender}),E.a.createElement("div",{className:s.date})),E.a.createElement("div",{className:s.subject}),E.a.createElement("div",{className:s.snippet})))};sr.defaultProps={itemHeight:72};var ar=sr,nr=s(828),rr=s.n(nr);const ir=({isDarkMode:e,itemHeight:t})=>{const s=S()(rr.a,{isDarkMode:e});return E.a.createElement("div",{className:s.container+" message-list-placeholder",style:{height:t-1}},E.a.createElement("div",{className:s.gridB1},E.a.createElement("div",{className:s.sender})),E.a.createElement("div",{className:s.gridB2},E.a.createElement("div",{className:s.subject})),E.a.createElement("div",{className:s.date}))};ir.defaultProps={itemHeight:32};var or=ir,cr=s(209),dr=s(309),lr=s.n(dr);const ur=Object(T.defineMessages)({coupon_separator_saved:{id:"coupon_separator_saved",defaultMessage:"Saved deals"},coupon_separator_all:{id:"coupon_separator_all",defaultMessage:"All deals"},deal_separator_all:{id:"deal_separator_all",defaultMessage:"Deals from your inbox"},timechunk_str_today:{id:"timechunk_str_today",defaultMessage:"Today"},timechunk_str_yesterday:{id:"timechunk_str_yesterday",defaultMessage:"Yesterday"},timechunk_str_this_week:{id:"timechunk_str_this_week",defaultMessage:"This week"},timechunk_str_last_week:{id:"timechunk_str_last_week",defaultMessage:"Last week"},timechunk_str_this_month:{id:"timechunk_str_this_month",defaultMessage:"Earlier in {message}"},timechunk_str_this_year:{id:"timechunk_str_this_year",defaultMessage:"Earlier in {message}"},timechunk_str_days:{id:"timechunk_str_days",defaultMessage:"{weekday, select, 0 {Sunday} 1 {Monday} 2 {Tuesday} 3 {Wednesday} 4 {Thursday} 5 {Friday} 6 {Saturday}}"},timechunk_str_months:{id:"timechunk_str_months",defaultMessage:"{month, select, 0 {January} 1 {February} 2 {March} 3 {April} 4 {May} 5 {June} 6 {July} 7 {August} 8 {September} 9 {October} 10 {November} 11 {December}}"},linked_stores_separator:{id:"linked_stores_separator",defaultMessage:"Your stores"},recommended_stores_separator:{id:"recommended_stores_separator",defaultMessage:"Recommended for you"},unlinked_stores_separator:{id:"unlinked_stores_separator",defaultMessage:"More stores"},single_store_separator:{id:"single_store_separator",defaultMessage:"Coupons"},ym6_single_store_separator:{id:"ym6_single_store_separator",defaultMessage:"Deals for you"}}),_r=x.le.Types;class mr extends E.a.PureComponent{render(){const e=this.props,t=e.type,s=e.value,a=e.context,r=e.style,o=a.intl,c=o.formatMessage,d=o.formatDate,l=a.getCss(lr.a,i()({},r,{isDarkThemeMode:a.getThemeMode()===G.h.DARK,isTimechunk:!0}));let u=null;switch(t){case _r.DAY:u=c(ur.timechunk_str_days,{weekday:s});break;case _r.MONTH:case _r.THIS_MONTH:u=c(ur.timechunk_str_months,{month:s});break;case _r.THIS_YEAR:case _r.YEAR:u=d(s,{year:"numeric"})}const _=t?ur["timechunk_str_"+t.toLowerCase()]:null;let m=null;return m=_?E.a.createElement(T.FormattedMessage,n()({},_,{values:{message:u}})):u,E.a.createElement("div",{className:l.container,"data-test-id":"time-chunk-separator"},m)}}class pr extends E.a.PureComponent{render(){const e=this.props,t=e.context,s=e.dealsViewV2,a=t.intl.formatMessage,n=0===e.value,r=t.getCss(lr.a,{isDarkThemeMode:t.getThemeMode()===G.h.DARK,large:!n&&!s,flex:n,couponSeparator:!0}),i=Object(G.m)({context:t,includeMedium:!1}),o=n?ur.coupon_separator_saved:ur.coupon_separator_all;return E.a.createElement("div",{className:r.container,"data-test-id":"coupon-separator"},n||s?null:E.a.createElement("div",{className:r.listDivider}),E.a.createElement("span",{className:r.couponHeader},a(s?ur.deal_separator_all:o)),n&&E.a.createElement("span",{className:r.partnerAttributionIcon},E.a.createElement(cr.a,{isOnDarkBackground:i})))}}class hr extends E.a.PureComponent{render(){const e=this.props.context.intl.formatMessage,t=this.props.value,s=t.listId,a=t.linked,n=this.props.context.getCss(lr.a,{black:!0,longAndWideDivider:!0,extraMarginInfoText:!0,isDarkThemeMode:this.props.context.getThemeMode()===G.h.DARK});let r=ur.linked_stores_separator;return a||(s.includes(x.Qb.RECOMMENDED_GROCERY_STORES)?r=ur.recommended_stores_separator:s.includes(x.Qb.UNLINKED_GROCERY_STORES)&&(r=ur.unlinked_stores_separator)),E.a.createElement("div",{className:n.container,"data-test-id":"grocery-stores-separator"},E.a.createElement("div",{className:n.listDivider}),E.a.createElement("span",{className:n.infoText},e(r)))}}class gr extends E.a.PureComponent{render(){const e=this.props.context.intl.formatMessage,t=this.props.context.getCss(lr.a,{black:!0,noDivider:!0});return E.a.createElement("div",{className:t.container,"data-test-id":"single-store-separator"},E.a.createElement("span",{className:t.infoText},e(this.props.isYM6GroceryEnabled?ur.ym6_single_store_separator:ur.single_store_separator)))}}var Er=s(829),Ir=s.n(Er);class Sr extends E.a.Component{constructor(...e){super(...e),c()(this,"state",{loadingState:x.Sb.IDLE})}componentWillReceiveProps(e){e.forceSync&&this.setState({loadingState:x.Sb.START}),this.state.loadingState!==x.Sb.START||e.isListRefreshing()||this.setState({loadingState:x.Sb.FINISH})}render(){if(!this.props.enabled)return null;const e=this.context.getCss(Ir.a);return E.a.createElement("div",{className:(()=>{switch(this.state.loadingState){case x.Sb.START:return e.loadingBar;case x.Sb.FINISH:return e.loadingBarEnd}return""})(),"data-test-id":"loading-bar"})}}c()(Sr,"contextTypes",{getCss:h.a.func});var Cr=Object(A.connect)(e=>{const t=Object(be.b)(e),s=t.isListRefreshing,a=t.getCurrentListId,n=t.isFeatureEnabled,r=(0,t.getAction)().forceSync,i=void 0!==r&&r,o=a();return{enabled:n(x.ub.RELOADING_BAR),forceSync:i,isListRefreshing:()=>s(o)}})(Sr),fr=s(830),Tr=s.n(fr);function Ar(e,{getCss:t,getThemeMode:s}){const a=t(Tr.a,{themeMode:s()});return E.a.createElement("div",{className:a.container},E.a.createElement(k.b,null))}Ar.contextTypes={getCss:h.a.func,getThemeMode:h.a.func};var br=Ar,Or=s(446),Rr=s(573),Nr=s(833),Mr=s.n(Nr);class Dr extends E.a.Component{render(){const e=this.props,t=e.search,s=e.offers,a=e.offerRowIndex,n=e.listId,r=S()(Mr.a);let i=t?"SingleStoreSearch":"SingleStoreView";return Object(B.u)(n)===x.Qb.ACTIVATED_OFFER_CARD&&(i="ActivatedSingleStoreView"),E.a.createElement("div",{className:r.container},s.map(({brandName:e,dateDiff:s,description:n,discountType:r,imageUrl:o,offerId:c,offerValue:d=""},l)=>E.a.createElement(Rr.a,{brandName:e,contextOfUse:i,dateDiff:s,discountType:r,imageUrl:o,key:c,offerDescription:n,offerId:c,offerIndexInRow:l,offerRowIndex:a,offerValue:d,search:t})))}}c()(Dr,"defaultProps",{offerRowIndex:-1,listId:"[]"});var yr=Object(A.connect)(e=>{const t=(0,Object(be.b)(e).getCurrentListId)();return{listId:t,search:Object(B.s)(t).trim()||""}})(Dr),Lr=s(834),vr=s.n(Lr);const Pr=Object(T.defineMessages)({photos:{id:"photos_header_label",defaultMessage:"Photos from email"}}),Fr=(e,t)=>{const s=t.intl.formatMessage,a=(0,t.getCss)(vr.a,{themeMode:(0,t.getThemeMode)()}),n=e.currentSortOrder,r=e.availableSortOrders,i=e.onSortOrderChange,o=e.listId;return E.a.createElement("div",{className:a.photosViewHeader,"data-test-id":"photos-header"},E.a.createElement("header",{className:a.photosViewTitle},s(Pr.photos)),E.a.createElement("div",{className:a.sortMenuContainer},E.a.createElement(Nt.a,{currentSortOrder:n,availableSortOrders:r,onClick:(e,t)=>{i({listId:o,sortOrder:t,i13nModel:{interactionType:Object(j.j)(e)}})},tabIndex:V.TabIndices.MESSAGE_LIST_TOOLBAR})))};Fr.contextTypes={getCss:h.a.func,intl:T.intlShape,getThemeMode:h.a.func};var wr=Object(A.connect)((e,t)=>{const s=Object(be.b)(e).getAvailableSortOrders;return{currentSortOrder:Object(B.F)(t.listId),availableSortOrders:s()}},e=>({onSortOrderChange:t=>e(vt(t))}),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&it()(e.availableSortOrders,t.availableSortOrders)})(Fr),kr=s(835),xr=s.n(kr);var Ur=class extends E.a.Component{render(){const e=this.props,t=e.items,s=e.listId,a=e.streamId,n=S()(xr.a);return E.a.createElement("div",{className:n.gridsContainer},t.map(e=>E.a.createElement(Ot,{key:e.id,item:e,listId:s,streamId:a})))}},Gr=s(836),jr=s.n(Gr),Hr=s(271),Br=s(376),Vr=s(2);class Wr extends E.a.Component{shouldComponentUpdate(e){return!e.skipRendering}render(){const e=this.props,t=e.numberOfMessageSelection,s=e.openedGroupId,a=e.csid,r=this.context.getCss(jr.a);return 0===t&&(s||a)?E.a.createElement("div",{className:r.messageView},E.a.createElement(Hr.a,n()({},this.props,{hasToolbar:!1,openedMessageId:s,csid:a,widthChanged:0}))):E.a.createElement("div",{className:r.blank},E.a.createElement(Br.a,{listId:this.props.listId,streamId:this.props.streamId}))}}c()(Wr,"contextTypes",{getCss:h.a.func});var qr=Object(A.connect)((e,{streamId:t})=>{const s=Object(be.b)(e),a=s.doesStreamExist,n=s.getSelectedStreamItems,r=s.isSingleDraftGroup,i=s.doesMessageGroupIdExist,o=s.getCsidForSingleDraftGroup,c=s.getCursorItem,d=s.getAction,l=a(t)?c(t):{},u=l?l.id:void 0,_=a(t)?n(t).length:0,m=!!i(u)&&r(u),p=d().type;return{skipRendering:p===Vr.fk||p===Vr.Zf,numberOfMessageSelection:_,openedGroupId:u,csid:m?o(u):void 0}},null)(Wr),zr=s(837),Kr=s.n(zr);const Zr=Object(T.defineMessages)({heading:{id:"receipt_header.heading",defaultMessage:"Receipts from email"}});class Yr extends E.a.Component{render(){const e=this.context.intl.formatMessage,t=this.context.getThemeMode(),s=S()(Kr.a,{themeMode:t}),a=e(Zr.heading);return E.a.createElement("div",null,E.a.createElement("div",{className:s.heading,"data-test-id":"receipt-heading","aria-label":a,title:a},a))}}c()(Yr,"contextTypes",{intl:T.intlShape.isRequired,getThemeMode:h.a.func});var Xr=Yr,Qr=s(838),$r=s.n(Qr),Jr=s(233);const ei=Object(T.defineMessages)({deal_separator_recommended:{id:"deal_separator_recommended",defaultMessage:"Deals for you"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"}});class ti extends E.a.Component{render(){const e=this.props,t=e.toggleVisibility,s=e.expanded,a=e.expandable,n=this.context.intl.formatMessage,r=this.context.getCss($r.a),i=Object(G.m)({context:this.context,includeMedium:!1});return E.a.createElement("div",{className:r.container,"data-test-id":"top-deals-header"},E.a.createElement("div",{className:r.iconContainer},E.a.createElement("span",{className:r.header},n(ei.deal_separator_recommended)),E.a.createElement("span",{className:r.partnerAttributionIcon},E.a.createElement(cr.a,{isOnDarkBackground:i,size:R.d.XS}))),E.a.createElement("div",{className:r.buttonContainer},a?E.a.createElement(X.a,{marginLess:!0,kind:is.a.THEMED_LIKE_COMPSOE_BUTTON,onClick:t,overridingClass:r.expandButton},n(s?ei.viewLess:ei.viewMore)):null))}}c()(ti,"contextTypes",{intl:T.intlShape.isRequired,getCss:h.a.func,getThemeMode:h.a.func});var si=Object(A.connect)(e=>{const t=Object(be.b)(e),s=t.getCouponsSelectors,a=(0,t.getListsSelectors)().isListExpanded,n=s().getCouponCardStreamItems,r=Object(B.e)({referrer:x.Rb.TOP_COUPONS});return{expanded:a(Object(B.e)({referrer:x.Rb.TOP_COUPONS})),expandable:n(r).length>4}},e=>{const t=Object(B.e)({referrer:x.Rb.TOP_COUPONS}),s={mKey:U.e.TOGGLE_LIST_VISIBILITY,sec:U.g.COUPONS_LIST};return{toggleVisibility:()=>e(Object(Jr.c)({listId:t,i13nModel:s}))}})(ti),ai=s(306),ni=s(839),ri=s.n(ni);const ii=Object(T.defineMessages)({no_saved_coupons:{id:"zero_saved_coupons_view.no_saved_coupons",defaultMessage:"No saved deals yet"},saved_coupons_instruction:{id:"zero_saved_coupons_view.saved_coupons_instruction",defaultMessage:"Look for the scissors icon to save and keep track of your favorite deals"}});var oi=class extends E.a.Component{render(){const e=this.props.context,t=e.getThemeMode(),s=e.getCss(ri.a,{themeMode:t}),a=e.intl.formatMessage;return E.a.createElement("div",{className:s.container,"data-test-id":"zero-saved-coupons-view-container"},E.a.createElement("img",{className:s.couponImage,src:t===G.h.DARK?Object(Ut.a)("/img/coupon_emptystate_dark.png"):Object(Ut.a)("/img/coupon_emptystate_light.png"),"data-test-id":"zero-saved-coupons-view-image"}),E.a.createElement("div",{className:s.descWrapper},E.a.createElement("div",{className:s.heading,"data-test-id":"zero-saved-coupons-view-heading"},a(ii.no_saved_coupons)),E.a.createElement("div",{className:s.description,"data-test-id":"zero-saved-coupons-view-description"},a(ii.saved_coupons_instruction))))}};const ci=(e,t)=>{const s=e.onClose,a=e.onConfirm,n=t.intl.formatMessage,r={conversations:e.isConversationMode,count:e.count};return E.a.createElement(qn.a,{title:n(Wn.a.list_delete_title),message:n(Wn.a.list_perm_delete_message,r),onConfirm:e=>{e.stopPropagation(),e.preventDefault(),a(),s()},onAbort:e=>{e.stopPropagation(),e.preventDefault(),s()}})};ci.contextTypes={intl:T.intlShape};var di=Object(A.connect)((e,{streamId:t})=>{const s=Object(be.b)(e),a=s.doesStreamExist,n=s.getSelectedStreamItems,r=s.getCursorItem,i=a(t)?n(t):[],o=a(t)?r(t):void 0;let c=0;return i.length>0?c=i.length:o&&(c=1),{count:c}},void 0)(ci),li=s(32),ui=s(210),_i=s(97);const mi=e=>i()({type:Vr.fk},e,{movement:x.X.DOWN});var pi=s(91);const hi=e=>i()({type:Vr.vh},e),gi=e=>hi(i()({},e,{destinationFolderType:x.Cb.INBOX})),Ei=e=>hi(i()({},e,{destinationFolderType:x.Cb.ARCHIVE}));const Ii=e=>i()({type:Vr.X},e),Si=e=>(t,s)=>{let a=e.streamItem;const n=e.streamId,r=Object(be.b)(s()),o=r.getCursorItem;if((a||(0,r.doesStreamExist)(n))&&(a||(a=o(n)),a))return t(i()({},e,{type:Vr.kk,streamItem:a}))},Ci=e=>i()({type:Vr.ik},e),fi=e=>i()({type:Vr.lk},e);var Ti=s(202),Ai=s(201),bi=s(56),Oi=s(69);const Ri=["ctrl+e","meta+e","ctrl+a","meta+a","shift+k","shift+l","shift+v","shift+up","shift+down","shift+e","shift+.","shift+,","ctrl+.","ctrl+,","k","l","e","up","down","enter","space","del","backspace","pageup","pagedown",",",".","tab"];var Ni=Object(li.compose)(Object(A.connect)((e,{listId:t})=>{const s=Object(be.b)(e),a=s.getListsSelectors,n=s.doesStreamExist,r=s.getMainStreamListIds,i=s.getMainStreamItems,o=s.getSetting,c=s.isFeatureEnabled,d=s.getCursorItem,l=s.getEnvironmentSelectors,u=s.getListItemsWithAds,_=s.getMainContentWidth,m=s.getReconciledUnysncedDataByHash,p=s.couldShowEmptyFolderVideo,h=s.getWindowDimensions,g=s.isPermDeleteFolderType,E=(0,s.getRoute)(),I=r(E),S=Object(bi.a)(I),C=Object(B.t)(t),f=-1!==[x.Pb.TRAVEL_CARDS,x.Pb.COUPON_CARDS,x.Pb.REFUND_CARDS,x.Pb.GROCERY_STORES,x.Pb.OFFER_CARDS,x.Pb.IMAGES,x.Pb.DOCUMENTS].indexOf(C),T=u(E,i(E)),A=a(),b=A.hasMoreItems,O=A.getListStatus,R=A.doesListExist,N=I.reduce((e,t)=>R(t)?e===x.bd.LOADING||e===x.bd.ERROR?e:O(t):x.bd.LOADING,x.bd.DOES_NOT_EXIST),M=c(x.ub.CONVERSATIONS),D=n(S)?d(S):void 0,y=E.name===x.gd.SEARCH,L=I.some(e=>R(e)&&b(e)),v=Object(B.H)(t),P=h().innerHeight,F=o(x.zd.LIST_ITEM_HEIGHT,{contentType:C}),w=Object(B.o)(t);return{status:N,route:E,listId:t,streamId:S,cursorItem:D,items:T,hasMoreItems:L,listenKeys:Ri,previewpane:o(x.zd.PREVIEW_PANE),itemListPageThreshold:o(x.zd.ITEM_LIST_PAGE_THRESHOLD),previewpaneInPixels:c(x.ub.PREVIEW_PANE_IN_PIXELS),previewpaneCookie:c(x.ub.PREVIEW_PANE_COOKIE),previewpanePositionsFromServer:o("previewpanePositionsFromServer"),highlightSearchTerm:!(!y||v)&&Object(B.h)(t).keyword,hideToolbar:f,showSearchHeader:y&&!v,showListFilter:y&&!v&&!!Object(B.m)(t),isConversationMode:M,isRTL:"rtl"===l().getPageDirection(),dealsViewV2:c(x.ub.DEALS_VIEW_V2),msgListDensity:o(x.zd.MSG_LIST_DENSITY),preservedState:m(Object(B.U)(t)),mainContentWidth:_(),messageBuffer:o(x.zd.V3_LIST_MESSAGE_BUFFER),numOfPlaceHolder:o(x.zd.V3_LIST_NUM_OF_PLACEHOLDER),oppositeBufferSize:o(x.zd.V3_OPPOSITE_BUFFER),showEmptyFolderVideo:p(),bulkActionDialogThreshold:o(x.zd.BULK_ACTION_DIALOG_THRESHOLD),windowClientHeight:P,mainItemHeight:F,isYM6GroceryEnabled:c(x.ub.ENABLE_YM6_GROCERY),permanentDelete:!!w&&g(w)}},void 0,void 0,{areStatePropsEqual:(e,t)=>e.streamId===t.streamId&&it()(e.items,t.items)&&e.status===t.status&&e.previewpane===t.previewpane&&e.windowClientHeight===t.windowClientHeight}),Object(A.connect)(void 0,e=>{return{actions:{[x.Pb.MESSAGES]:{openLinkModal:t=>e(Object(ui.b)(t)),onSelectionChange:t=>e(Si(t)),onRangeSelected:t=>e((e=>i()({type:Vr.hk},e))(t)),onDelete:t=>e(Object(Je.a)(t)),onStarChange:t=>e(Object(Ti.a)(t)),onReadChange:t=>e(Object(Ai.a)(t)),onOpenMessage:t=>e(Object(pi.h)(t)),navigateToSearch:t=>e(Object(et.k)(t))},[x.Pb.TRAVEL_CARDS]:{},[x.Pb.COUPON_CARDS]:{},TOOLBAR:{onSortOrderChange:t=>e(vt(t)),onMove:t=>e(hi(t)),onArchive:t=>e(Ei(t)),moveToInbox:t=>e(gi(t)),onDelete:t=>e(Object(Je.a)(t)),onSpam:t=>e((e=>hi(i()({},e,{destinationFolderType:x.Cb.BULK})))(t)),onReplyForward:t=>e(Object(pi.o)(t)),onClosePreviewMessage:t=>e(Object(et.d)(t)),onChangeAllMessageCardExpansion:t=>e(Object(pi.a)(t)),onClosePage:t=>e(Object(et.c)(t)),moreMenuActions:{onRead:t=>e(Object(Ai.b)(t)),onUnread:t=>e(Object(Ai.c)(t)),onStar:t=>e(Object(Ti.b)(t)),onUnstar:t=>e(Object(Ti.c)(t)),onPrint:t=>e(Object(pi.n)(t)),moveToInbox:t=>e(gi(t)),viewRawMessage:t=>e(Object(et.p)(t))},selectionActions:{onSelectAll:t=>e(Ii({streamId:t})),onSelectNone:t=>e((e=>i()({type:Vr.jk},e))({streamId:t})),onSelectAllRead:t=>e(Ci({streamId:t,selectionType:x.xd.READ})),onSelectAllUnread:t=>e(Ci({streamId:t,selectionType:x.xd.UNREAD})),onSelectAllStarred:t=>e(Ci({streamId:t,selectionType:x.xd.STARRED})),onSelectAllUnstarred:t=>e(Ci({streamId:t,selectionType:x.xd.UNSTARRED}))}}},checkMail:()=>e(Object(et.o)(i()({forceSync:!0},Vn(null,Na.CHK_MAIL)))),onPageScrolled:t=>e((e=>i()({type:Vr.Zf},e))({listId:t})),loadMoreItems:t=>e(Object(_i.a)(t)),onKeyDown:(t,s,a)=>{const n=t.which||t.keyCode||-1,r=String.fromCharCode(n).toLowerCase(),o=Object(B.t)(a);switch(r){case N.a.KEYA:(t.metaKey||t.ctrlKey)&&e(Ii({streamId:s}));break;case N.a.KEYE:e(t.shiftKey?gi(i()({streamId:s},Vn(t,Na.RESTORE))):Ei(i()({streamId:s},Vn(t,Na.ARCHIVE))));break;case N.a.KEYK:e(t.shiftKey?Object(Ai.b)(i()({streamId:s},Vn(t,Na.READ))):Object(Ai.c)(i()({streamId:s},Vn(t,Na.UNREAD))));break;case N.a.KEYL:e(t.shiftKey?Object(Ti.c)(i()({streamId:s},Vn(t,Na.UNSTAR))):Object(Ti.b)(i()({streamId:s},Vn(t,Na.STAR))));break;case N.a.KEYV:t.shiftKey&&o===x.Pb.MESSAGES&&e(Object(Oi.e)(i()({},Vn(t,Na.ROTATE_PREVIEWPANE))));break;default:switch(n){case N.b.UP:case N.b.COMMA:case N.b.FF_COMMA:e(t.shiftKey?fi({streamId:s,movement:x.X.UP}):(e=>i()({type:Vr.fk},e,{movement:x.X.UP}))({streamId:s}));break;case N.b.DOWN:case N.b.PERIOD:e(t.shiftKey?fi({streamId:s,movement:x.X.DOWN}):mi({streamId:s}));break;case N.b.SPACE:e(Si({streamId:s}));break;case N.b.DELETE:case N.b.BACKSPACE:e(t.key===N.a.PERIOD?mi({streamId:s}):Object(Je.a)(i()({streamId:s},Vn(t,Na.DELETE))));break;case N.b.ENTER:{let a=Na.OPEN_MSG;switch(o){case x.Pb.MESSAGES:a=Na.OPEN_MSG;break;case x.Pb.IMAGES:a=Na.OPEN_PHOTO;break;case x.Pb.DOCUMENTS:a=Na.OPEN_DOC}e(Object(et.l)(i()({streamId:s},Vn(t,a))))}}}},onDragStart:t=>e((e=>i()({},e,{type:Vr.Yf}))(t)),syncUnsyncedData:()=>e(Object(et.o)()),moveToFirstItem:t=>e(mi({streamId:t})),onContextMenu:t=>e(Object(Jr.a)(t)),onContextMenuShown:t=>e(Object(Jr.b)(t))}})),Mi=s(840),Di=s.n(Mi),yi=s(234);s.d(t,"ItemList",function(){return ji});const Li=200,vi=()=>{},Pi=e=>{e.stopPropagation(),e.preventDefault()},Fi=e=>t=>Object(B.t)(t)===e,wi=Fi(x.Pb.TRAVEL_CARDS),ki=Fi(x.Pb.REFUND_CARDS),xi=Object(T.defineMessages)({list_scroll_to_top:{id:"list.scroll_to_top_button_title",defaultMessage:"Scroll to top"}}),Ui=[N.b.UP,N.b.DOWN,N.b.TAB,N.b.COMMA,N.b.FF_COMMA,N.b.PERIOD,N.b.SPACE,N.b.ENTER];class Gi extends E.a.Component{constructor(e){super(e),c()(this,"_readPreviewPaneSetting",e=>{if(!this.props.previewpaneInPixels)return null;const t=e===x.Rc.RIGHT;if(Object(H.b)()){const e=new yi.a({window:window});return e.getClientParam(t?x.Sc.H_SLIDER_POS_V2:x.Sc.V_SLIDER_POS_V2)}return t?this.props.previewpanePositionsFromServer[x.Sc.H_SLIDER_POS_V2]:this.props.previewpanePositionsFromServer[x.Sc.V_SLIDER_POS_V2]}),c()(this,"handleDragStart",(e,t)=>{const s=this.props,a=s.listId,n=s.streamId;(0,s.onDragStart)({streamId:n,streamItem:{id:e,listId:a},listId:a,messageGroupIds:[e]}),Object(H.h)()?(this.dragIcon||(this.dragIcon=document.createElement("div"),Object(H.g)(this.dragIcon),document.body.appendChild(this.dragIcon)),this.renderDragIcon(n),t.dataTransfer.setDragImage(this.dragIcon,-10,-10)):(t.target.style.maxWidth="1px",t.target.style.height="1px",this.restoreTargetStyle(t.target)),t.dataTransfer.setData("text",JSON.stringify({listId:a})),t.dataTransfer.effectAllowed="move"}),c()(this,"handleDragEnd",()=>{this.removeDragIcon()}),c()(this,"renderDragIcon",e=>{f.a.render(E.a.createElement(A.Provider,{store:this.context.store},E.a.createElement(we.b,{formatNumber:this.context.intl.formatNumber,streamId:e})),this.dragIcon)}),c()(this,"removeDragIcon",()=>{this.dragIcon&&(f.a.unmountComponentAtNode(this.dragIcon),document.body.removeChild(this.dragIcon),this.dragIcon=null)}),c()(this,"restoreTargetStyle",e=>{setTimeout(()=>{e.style.maxWidth="",e.style.height=""},0)}),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleLoadMoreItems=this.handleLoadMoreItems.bind(this),this.getItemHeight=this.getItemHeight.bind(this),this.formatItem=this.formatItem.bind(this),this.formatPlaceHolder=this.formatPlaceHolder.bind(this),this.navigateTo=this.navigateTo.bind(this),this.handleListFilterChange=this.handleListFilterChange.bind(this),this.renderVirtualList=this.renderVirtualList.bind(this),this.renderPreviewPane=this.renderPreviewPane.bind(this),this.renderResizer=this.renderResizer.bind(this),this.handleSlide=this.handleSlide.bind(this),this.onScrollTop=this.onScrollTop.bind(this),this.forceScrollToTop=this.forceScrollToTop.bind(this),this.onScroll=this.onScroll.bind(this),this.onPageDown=this.onPageDown.bind(this),this.onPageUp=this.onPageUp.bind(this),this.onScrollTopChange=this.onScrollTopChange.bind(this),this.getUIState=this.getUIState.bind(this),this.setStickyTimechunkRef=this.setStickyTimechunkRef.bind(this),this.onVirtualListRenderCompleted=this.onVirtualListRenderCompleted.bind(this),this.reversedTimeChunkIndices=[],this.renderMessageScrollToTopElement=this.renderMessageScrollToTopElement.bind(this),this.pencilAdNodes={},this.scrollTop=0,this.state={hSliderPos:this._readPreviewPaneSetting(x.Rc.RIGHT)||V.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,vSliderPos:this._readPreviewPaneSetting(x.Rc.BOTTOM)||V.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET,size:0,stickyTimechunkMounted:!1},this.stickyTimeChunkIndex=0,this.useLocalScrollTop=!1,this.recalculateVirtualListClientHeight=!1,this.itemStartIndex=0,this.itemEndIndex=0,this.cursorOutBound=!1}getSavedScrollTop(){return this.useLocalScrollTop?(this.useLocalScrollTop=!1,this.scrollTop):(this.scrollTop=this.props.preservedState&&this.props.preservedState.uiState?this.props.preservedState.uiState.scrollTop:0,this.scrollTop)}buildTimeChunkIndices(){const e=[];this.props.items.forEach((t,s)=>{Object(B.t)(t.listId)===x.Pb.TIMECHUNK&&e.push(s)}),e.reverse(),this.reversedTimeChunkIndices=e}componentDidMount(){this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts),this.buildTimeChunkIndices(),this.lastPageScrollTop=0,this.debouncedScrollTopChange=u()(this.onScrollTopChange,Li),this.props.items.length&&this.updateStickyHeader(0)}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys),clearTimeout(this.stickyHeaderUpdateTimer),clearTimeout(this._previewMessageSyncTimer)}componentDidUpdate(e,t){if(this.buildTimeChunkIndices(),0!==this.props.items.length&&0!==this.reversedTimeChunkIndices.length||this.updateStickyHeader(-1),e.windowClientHeight!==this.props.windowClientHeight||e.previewpane!==this.props.previewpane||e.msgListDensity!==this.props.msgListDensity||this.props.previewpane===x.Rc.BOTTOM&&this.state.vSliderPos!==t.vSliderPos){if(e.msgListDensity!==this.props.msgListDensity){const t=Math.floor(this.scrollTop/e.mainItemHeight);this.scrollTop=t*this.props.mainItemHeight}this.recalculateVirtualListClientHeight=!0,this.useLocalScrollTop=!0,this.forceUpdate()}else this.recalculateVirtualListClientHeight=!1}UNSAFE_componentWillReceiveProps(e){e.streamId!==this.props.streamId&&(this.cursorOutBound=!1,this.itemStartIndex=0,this.itemEndIndex=0)}handleShortcuts(e){const t=e.which||e.keyCode||-1,s=this.props,a=s.previewpane,n=s.syncUnsyncedData,r=s.streamId,i=s.listId,o=s.permanentDelete;if(-1===Ui.indexOf(t)||this.container.contains(e.target)||e.target.contains(this.container))if(t!==N.b.TAB){if(Pi(e),t===N.b.UP||t===N.b.DOWN){const e=this.context.store.getState().streams[r];if(a!==x.Rc.NO&&(clearTimeout(this._previewMessageSyncTimer),this._previewMessageSyncTimer=setTimeout(()=>{n()},x.bc)),e&&e.cursor){const s=this.props.items,a=e.cursor.index;t===N.b.UP&&0!==a&&a<=this.itemStartIndex?this.cursorOutBound=!0:t===N.b.DOWN&&a!==s.length-1&&a>=this.itemEndIndex&&(this.cursorOutBound=!0)}}if(t===N.b.PAGE_UP&&this.onPageUp(),t===N.b.PAGE_DOWN&&this.onPageDown(),t!==N.b.DELETE&&t!==N.b.BACKSPACE||!o)this.props.onKeyDown(e,r,i);else{const t=this.props.isConversationMode;Object(tt.a)(E.a.createElement(di,{streamId:r,listId:i,isConversationMode:t,onConfirm:()=>this.props.onKeyDown(e,r,i),onClose:()=>{}}),this.context)}}else{const t=Object(B.t)(i),s=this.context.store.getState().streams[r];s&&s.cursor||t!==x.Pb.MESSAGES&&t!==x.Pb.DOCUMENTS&&t!==x.Pb.IMAGES||e.srcElement.tabIndex!==V.TabIndices.MESSAGE_LIST_TOOLBAR||(this.props.moveToFirstItem(r),Pi(e))}}handleLoadMoreItems(){const e=this.props;return!!e.hasMoreItems&&((0,e.loadMoreItems)({listId:e.listId,streamId:e.streamId}),!0)}navigateTo(){const e=this.props,t=e.streamId,s=e.cursorItem;this.context.navigateTo(i()({streamId:t,streamItem:s},Object.assign.apply({},arguments)))}formatTimeChunk({index:e,scrollable:t,shadow:s,isUpdateSticky:a}){if(t&&0===e)return null;const n={},r=this.props.items;return r[e]&&Object(B.t)(r[e].listId)===x.Pb.TIMECHUNK?(n.leftPadded=!t,n.shadow=s,wi(this.props.listId)&&(n.fixedInTravelCard=!t,n.leftPadded=!1),ki(this.props.listId)&&a&&(n.leftPadded=!1,n.stickyTimechunk=!0),E.a.createElement(mr,{style:n,context:this.context,type:r[e].type,value:r[e].value})):null}formatTravelItem(e){return E.a.createElement(Qe,{schemaId:e.id,cardConversationId:e.cardConversationId,listId:e.listId,groupId:e.groupId})}formatItem(e,{isScrolling:t,itemIndex:s},a){const r=Object(B.t)(e.listId);switch(r){case x.Pb.MESSAGES:return E.a.createElement(Jn,n()({streamId:this.props.streamId,groupId:e.id,isScrolling:t,navigateTo:this.navigateTo},e,this.props.actions[r],this.props.actions.TOOLBAR,{itemHeight:e.listItemHeight,previewpane:this.props.previewpane,msgListDensity:this.props.msgListDensity,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onFocus:vi,isConversationMode:this.props.isConversationMode,scrollerRef:a,onContextMenu:this.props.onContextMenu,onContextMenuShown:this.props.onContextMenuShown}));case x.Pb.TRAVEL_CARDS:return this.formatTravelItem(e);case x.Pb.TIMECHUNK:return this.formatTimeChunk({index:s,scrollable:!0});case x.Pb.LOAD_MORE:return E.a.createElement(br,null);case x.Pb.COUPON_SEPARATOR:return E.a.createElement(pr,{type:x.Pb.COUPON_SEPARATOR,value:e.id,context:this.context,dealsViewV2:this.props.dealsViewV2});case x.Pb.TOP_DEALS_HEADER:return E.a.createElement(si,null);case x.Pb.ZERO_SAVED_COUPONS:return E.a.createElement(oi,{context:this.context});case x.Pb.COUPON_CARDS:return e.items?E.a.createElement(Ee,{items:e.items,mainContentWidth:this.props.mainContentWidth}):E.a.createElement(ne,n()({},e,{onCouponClick:this.navigateTo,isScrolling:t,hideBottomBorder:e.isLastItemInGroup}));case x.Pb.REFUND_CARDS:return E.a.createElement(He,{onReceiptClick:this.navigateTo,schemaId:e.schemaId,listId:e.listId,cardMid:e.cardMid,messageId:e.messageId,conversationId:e.conversationId,orderDate:e.orderDate,itemName:e.itemName,price:e.price,numItems:e.numItems,currency:e.currency,hideBottomBorder:e.isLastItemInGroup});case x.Pb.ZERO_SAVED_GROCERY_STORES:return E.a.createElement(fe,null);case x.Pb.GROCERY_CATEGORIES:return E.a.createElement(Xs,{categoryRows:e.categoryRows,retailerId:e.retailerId});case x.Pb.GROCERY_STORES:return E.a.createElement(Pe,{retailerGroup:e.retailers});case x.Pb.STORE_SUMMARY:return E.a.createElement(Hs,{retailerId:e.retailerId,retailerName:e.retailerName});case x.Pb.GROCERY_STORES_SEPARATOR:return E.a.createElement(hr,{type:x.Pb.GROCERY_STORES_SEPARATOR,value:e,context:this.context});case x.Pb.SINGLE_STORE_SEPARATOR:return E.a.createElement(gr,{type:x.Pb.SINGLE_STORE_SEPARATOR,context:this.context,isYM6GroceryEnabled:this.props.isYM6GroceryEnabled});case x.Pb.OFFER_CARDS:return E.a.createElement(yr,{offers:e.offers,offerRowIndex:e.id});case x.Pb.PENCIL_AD:{const t=this.props,s=e.sectionId;return E.a.createElement("div",{style:{height:t.mainItemHeight}},E.a.createElement(z.a,{anchorRef:t=>this.pencilAdNodes[e.sectionId]=t,viewabiltyContainerScrollTop:this.scrollTop,anchor:this.pencilAdNodes[s],viewabiltyContainerNode:this.container,sectionId:s,listId:t.listId}))}case x.Pb.AD_FEEDBACK:return E.a.createElement(q.a,{sectionId:e.sectionId});case x.Pb.IMAGES:return E.a.createElement(Ur,{listId:e.listId,items:e.items,streamId:this.props.streamId});case x.Pb.DOCUMENTS:return E.a.createElement(Ot,{listId:e.listId,item:e,streamId:this.props.streamId});default:return e}}getItemHeight(e){switch(Object(B.t)(e.listId)){case x.Pb.COUPON_SEPARATOR:case x.Pb.TOP_DEALS_HEADER:return 1!==e.id||this.props.dealsViewV2?V.ITEM_LIST_SEPARATOR_HEIGHT:2*V.ITEM_LIST_SEPARATOR_HEIGHT;case x.Pb.RECEIPT_SEPARATOR:case x.Pb.TIMECHUNK:case x.Pb.GROCERY_STORES_SEPARATOR:case x.Pb.SINGLE_STORE_SEPARATOR:return V.ITEM_LIST_SEPARATOR_HEIGHT;case x.Pb.LOAD_MORE:return V.MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT;case x.Pb.MESSAGES:return e.listItemHeight;case x.Pb.COUPON_CARDS:return e.items?V.DEAL_ITEM_HEIGHT:V.COUPON_LIST_ITEM_HEIGHT;case x.Pb.REFUND_CARDS:return V.RECEIPT_LIST_ITEM_HEIGHT;case x.Pb.TRAVEL_CARDS:return V.TRAVEL_LIST_ITEM_HEIGHT;case x.Pb.ZERO_SAVED_GROCERY_STORES:return V.ZERO_SAVED_GROCERY_STORES_ITEM_HEIGHT;case x.Pb.GROCERY_STORES:return V.RETAILERS_LIST_ITEM_HEIGHT;case x.Pb.GROCERY_CATEGORIES:return V.CATEGORY_ITEM_HEIGHT;case x.Pb.OFFER_CARDS:return this.props.isYM6GroceryEnabled?V.YM6_OFFER_CARD_ITEM_HEIGHT:V.OFFER_CARD_ITEM_HEIGHT;case x.Pb.ZERO_SAVED_COUPONS:return V.ZERO_SAVED_COUPONS_VIEW_HEIGHT;case x.Pb.PENCIL_AD:case x.Pb.AD_FEEDBACK:return e.listItemHeight;case x.Pb.STORE_SUMMARY:return V.STORE_SUMMARY_ITEM_HEIGHT;case x.Pb.IMAGES:case x.Pb.DOCUMENTS:return e.listItemHeight}}setStickyTimechunkRef(e){this.stickyTimechunkNode=e}updateStickyHeader(e,t=!1){if(!Object(H.b)())return;if(e<0&&this.stickyTimechunkNode)return this.state.stickyTimechunkMounted&&this.setState({stickyTimechunkMounted:!1}),void f.a.unmountComponentAtNode(this.stickyTimechunkNode);const s=e?this.reversedTimeChunkIndices.find(t=>t<e):0,a=t||e>0;if(this.stickyTimeChunkIndex===s&&0!==e&&this.hasShadow===a)return;this.stickyTimeChunkIndex=s,this.hasShadow=a;const n=this.formatTimeChunk({index:s,scrollable:!1,shadow:a,isUpdateSticky:!0});n&&(this.state.stickyTimechunkMounted||this.setState({stickyTimechunkMounted:!0}),f.a.render(E.a.createElement(T.IntlProvider,window.AppIntl,E.a.createElement(d.FluxibleComponent,{context:this.context,store:this.context.store},n)),this.stickyTimechunkNode))}onScrollTop(){this.updateStickyHeader(0)}onScroll({scrollTop:e,itemStartIndex:t}){this.useLocalScrollTop||(this.stickyHeaderUpdateTimer&&clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout(()=>this.updateStickyHeader(t,e>0),0),this.scrollTop=e,this.debouncedScrollTopChange({newScrollTop:e}))}onScrollTopChange({newScrollTop:e}){const t=this.props,s=t.itemListPageThreshold,a=t.onPageScrolled,n=t.listId;Math.abs(e-this.lastPageScrollTop)>s&&(a(n),this.lastPageScrollTop=e)}onVirtualListRenderCompleted({itemStartIndex:e,itemEndIndex:t,itemOffsets:s}){if(this.cursorOutBound){const e=this.context.store.getState().streams[this.props.streamId].cursor.streamItem,t=this.props.items.findIndex(t=>t.id===e.id);this.scrollTop!==s[t]?(this.scrollTop=s[t],this.useLocalScrollTop=!0,this.forceUpdate()):this.cursorOutBound=!1}else this.stickyHeaderUpdateTimer&&clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout(()=>this.updateStickyHeader(e),0),this.itemStartIndex=e,this.itemEndIndex=t}forceScrollToTop(){this.scrollTop=0,this.useLocalScrollTop=!0,this.forceUpdate()}onPageUp(){this.scrollTop=Math.max(this.scrollTop-this.container.clientHeight,0),this.useLocalScrollTop=!0,this.forceUpdate()}onPageDown(){this.scrollTop+=this.container.clientHeight,this.useLocalScrollTop=!0,this.forceUpdate()}getUIState(){const e=this.props,t=e.listId,s=e.streamId;return{type:x.re.COMPONENT_UI_STATE,hash:Object(B.U)(t),id:s,uiState:{scrollTop:this.scrollTop}}}renderStaticHeader(){const e=this.props,t=e.listId,s=e.items,a=e.showSearchHeader,n=Object(B.t)(t),r=0===s.length;if(a)return E.a.createElement(Be.a,{listId:t});if(Object(W.d)(t))return E.a.createElement(ai.a,{listId:t});switch(n){case x.Pb.TRAVEL_CARDS:return E.a.createElement(ai.a,{listId:t});case x.Pb.COUPON_CARDS:return E.a.createElement(Rt.a,null);case x.Pb.REFUND_CARDS:return E.a.createElement(Xr,{isEmpty:r});case x.Pb.GROCERY_STORES:return E.a.createElement(Yt,null);case x.Pb.OFFER_CARDS:return E.a.createElement(Ws,null);case x.Pb.IMAGES:return E.a.createElement(wr,{listId:t});case x.Pb.DOCUMENTS:return E.a.createElement(wt,{listId:t});default:return null}}renderStickyHeader(e){const t=this.formatTimeChunk({index:0,scrollable:!1});return t?Object(H.b)()?E.a.createElement("div",null,E.a.createElement("div",{className:e.timeChunkPlaceHolder},t),E.a.createElement("div",{"data-test-id":"mail-reader-sticky-header",ref:this.setStickyTimechunkRef,className:e.timechunk})):E.a.createElement("div",null,E.a.createElement("div",{className:e.timeChunkPlaceHolder},t),E.a.createElement("div",{"data-test-id":"mail-reader-sticky-header",className:e.timechunk})):null}renderCheckmailLoadingBar(){return E.a.createElement(Cr,null)}getScrollToTopElementRenderFunc(e){return this.renderMessageScrollToTopElement(e)}renderMessageScrollToTopElement(e){const t=this.context.intl.formatMessage;return()=>E.a.createElement("div",{className:e.messageScrollToTopContainerStyle},E.a.createElement(M.a,{kind:R.b.TAP_TO_TOP,size:R.d.XS,colorState:R.a.INVERTED,paddingLess:!0,title:t(xi.list_scroll_to_top)}))}getScrollToTopElementConfig(e,t){return{scrollThresholdPercentage:x.hd,render:this.getScrollToTopElementRenderFunc(t)}}formatPlaceHolder(e){const t=Object(B.t)(this.props.listId);return t===x.Pb.MESSAGES?E.a.createElement(this.props.previewpane===x.Rc.RIGHT?ar:or,{key:e,isDarkMode:this.context.getThemeMode()===G.h.DARK,itemHeight:this.props.mainItemHeight}):t===x.Pb.DOCUMENTS?E.a.createElement(or,{key:e,isDarkMode:this.context.getThemeMode()===G.h.DARK,itemHeight:this.props.mainItemHeight}):null}renderListResult(e){const t=this.props,s=t.streamId,a=t.items,n=t.listId,r=t.haveScrollToTop,i=t.messageBuffer,o=t.numOfPlaceHolder,c=t.oppositeBufferSize,d=Object(B.t)(n),l=Object(B.u)(n),u=[x.Pb.GROCERY_STORES,x.Pb.OFFER_CARDS].includes(d)?{}:{padding:`0 ${4*V.GRID_UNIT}px`};return d===x.Pb.OFFER_CARDS&&(l===x.Qb.ACTIVATED_OFFER_CARDS&&(u.padding=`${2*V.GRID_UNIT}px 0`),this.context.getThemeMode()===G.h.DARK&&(u.background=V.WHITE)),a.length?E.a.createElement(b.a,{getUnsyncedData:this.getUIState},r?E.a.createElement(w,{key:s,items:a,bufferSize:i,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:this.handleLoadMoreItems,styles:u,onScrollTop:this.onScrollTop,config:this.getScrollToTopElementConfig(d,e),WrappedList:L.a,onScroll:this.onScroll,scrollTop:this.getSavedScrollTop(),forceScrollToTop:this.forceScrollToTop,formatPlaceHolder:this.formatPlaceHolder,numOfPlaceHolder:o,recalculateClientHeight:this.recalculateVirtualListClientHeight,oppositeBufferSize:c,onRenderCompleted:this.onVirtualListRenderCompleted,enableReactElementCache:!0}):E.a.createElement(L.a,{key:s,items:a,bufferSize:100,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:this.handleLoadMoreItems,styles:u,onScrollTop:this.onScrollTop,onScroll:this.onScroll,scrollTop:this.getSavedScrollTop(),recalculateClientHeight:this.recalculateVirtualListClientHeight,onRenderCompleted:this.onVirtualListRenderCompleted})):E.a.createElement(Wt,{listId:this.props.listId})}renderVirtualList(e){const t=this.props,s=t.status,a=t.items,n=t.listId,r=Object(B.t)(n);return s===x.bd.ERROR?0!==a.length||r!==x.Pb.OFFER_CARDS&&r!==x.Pb.GROCERY_STORES?E.a.createElement(Fe.a,null):E.a.createElement(Wt,{listId:n}):E.a.createElement("div",{className:e.container,"data-test-id":"virtual-list-container"},s===x.bd.LOADING&&0===a.length?E.a.createElement("div",{className:e.loadingContainer},E.a.createElement(k.b,null)):this.renderListResult(e))}renderPreviewPane(e){const t=this.props;return E.a.createElement("div",{className:e.rightPane,key:"rightpane"},E.a.createElement(qr,{listId:t.listId,streamId:t.streamId}))}handleSlide(e,t,s){this.useLocalScrollTop=!0,this.setState({[e]:t,size:s})}handleListFilterChange(e,t){const s=Object(B.t)(this.props.listId),a={[x.Pb.MESSAGES]:"msg",[x.Pb.DOCUMENTS]:"docs",[x.Pb.IMAGES]:"photo"},n=U.e["FILTER_"+t],r=n?{mKey:n,sec:U.g.MSG_LIST_BULK_ACTION,interactionType:Object(j.j)(e),actionData:{cntxt:a[s]||a[x.Pb.MESSAGES]}}:null;this.navigateTo({route:{name:x.gd.SEARCH,params:{query:Object(B.Y)(Object(B.W)(this.props.listId,{listFilter:t}))}},i13nModel:r})}renderResizer(){const e=this.props;return E.a.createElement(O.a,{key:"previewpane-resizer",isEmpty:!1,previewpane:e.previewpane,previewpaneInPixels:e.previewpaneInPixels,previewpaneCookie:e.previewpaneCookie,resize:this.handleSlide,isRTL:e.isRTL})}getPreviewPaneStyle(e,t){const s=this.state,a=s.hSliderPos,n=s.vSliderPos,r=s.size;let i;return e===x.Rc.RIGHT?0!==r&&t?{style:{flexBasis:`${i=a<V.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS?V.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS:r-a<V.PREVIEW_PANE_RIGHT_PANE_MINIMUM_PIXELS?r-V.PREVIEW_PANE_RIGHT_PANE_MINIMUM_PIXELS:a}px`},horizontalOffset:i,showLabels:r-a>700,splitType:e}:{style:{flexBasis:`${a}%`},horizontalOffset:a,showLabels:a<=V.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,splitType:e}:0===r?{style:{flexBasis:`${n}%`},splitType:e}:t?{style:{flexBasis:`${i=n<V.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS?V.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS:r-n<V.PREVIEW_PANE_BOTTOM_PANE_MINIMUM_PIXELS?r-V.PREVIEW_PANE_BOTTOM_PANE_MINIMUM_PIXELS:n}px`},splitType:e}:{style:{flexBasis:`${n/100*r}px`},splitType:e}}getPreviewPaneStyleFromCookie(e){const t=this.state,s=t.hSliderPos,a=t.vSliderPos,n=t.size,r=e===x.Rc.RIGHT,o=e;let c;return c=r?s<V.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS?V.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS:s:a<V.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS?V.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS:a,i()({style:{flexBasis:`${c}px`},splitType:o},r?{horizontalOffset:s,showLabels:!(n>0)||n-s>700}:{})}render(){const e=this.props,t=e.previewpane,s=e.showListFilter,a=e.previewpaneInPixels,r=this.state.stickyTimechunkMounted,i=e.previewpaneCookie&&a?this.getPreviewPaneStyleFromCookie(t):this.getPreviewPaneStyle(t,a),o=i.style,c=i.splitType,d=i.horizontalOffset,l=void 0===d?0:d,u=i.showLabels,_=void 0===u||u,p=t!==x.Rc.NO,h=this.context.getTheme(),g=S()(Di.a,{theme:h,previewpane:t,previewpaneInPixels:a,stickyTimechunkMounted:r}),I=m()(this.props,["items","preservedState","cursorItem"]);return E.a.createElement("div",{className:g.mailReader,"data-test-id":"mail-reader","data-test-preview":c,ref:e=>{this.container=e}},this.renderStaticHeader(),E.a.createElement("div",{className:g.toolbar,"data-test-id":"mail-reader-toolbar"},this.props.hideToolbar?null:E.a.createElement(Or.default,n()({},I,{onListFilterChange:this.handleListFilterChange,horizontalOffset:l,showLabels:_,showListFilter:s}))),E.a.createElement("div",{className:g.listWrapper},E.a.createElement("div",{className:g.listContainer,"data-test-id":"mail-reader-list-container"},p?[E.a.createElement("div",{key:"list-pane",className:g.listPane,style:o,ref:"listPane","data-test-id":"left-pane"},this.renderCheckmailLoadingBar(),this.renderStickyHeader(g),this.renderVirtualList(g)),this.renderResizer(g),this.renderPreviewPane(g)]:E.a.createElement("div",{key:"list-pane",className:g.fullPane,"data-test-id":"full-pane"},this.renderCheckmailLoadingBar(),this.renderStickyHeader(g),this.renderVirtualList(g)))))}}Gi.defaultProps={listenKeys:[],hasMoreItems:!1,loadMoreItems:vi,haveScrollToTop:!1,itemListPageThreshold:825},Gi.contextTypes={navigateTo:h.a.func,executeAction:h.a.func,getStore:h.a.func,getCss:h.a.func,getThemeMode:h.a.func,getTheme:h.a.func,store:h.a.object,intl:h.a.object,bindShortcut:h.a.func,unbindShortcut:h.a.func,hideToolbar:h.a.bool};const ji=Gi;t.default=Ni(Gi)},function(e,t,s){"use strict";s.r(t);var a=s(23),n=s.n(a),r=s(4),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(3),_=s.n(u),m=s(6),p=s(12),h=s(831),g=s.n(h),E=s(170),I=s(55),S=s(53),C=s(40),f=s(14),T=s(19),A=s(28),b=s(34),O=s(20),R=s(5),N=s(59),M=s(98),D=s(22),y=s(0);s(9);const L=Object(m.defineMessages)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class v extends d.Component{constructor(e){super(e),this.handleCheckboxClicked=this.handleCheckboxClicked.bind(this)}handleCheckboxClicked(e){e.preventDefault();const t=this.props,s=t.onSelectAll,a=t.streamId;t.selectedItemsCount>0?(0,t.onSelectNone)(a):s(a)}render(){const e=this.props,t=e.selectedItemsCount,s=e.previewpane,a=e.checkboxType,n=e.streamId,r=e.tabIndex,i=this.context.getCss(g.a),o=this.context.intl,c=o.formatMessage,d=o.formatNumber,u=this.context.getThemeMode()===D.h.DARK,_=t;return l.a.createElement("div",{className:i.container},l.a.createElement("ul",{className:i.list},l.a.createElement(b.a,{kind:M.a.MESSAGE_SELECTION_CHECKBOX},l.a.createElement("span",{className:i.checkboxWrapper},l.a.createElement(E.b,{type:a,highContrast:!0,isInverted:u,isOnDarkBackground:u,"data-iskeynav":!0,paddingLess:!0,onClick:e=>this.handleCheckboxClicked(e),tabIndex:r}))),l.a.createElement(b.a,{kind:M.a.MESSAGE_SELECTION_CHEVRON},l.a.createElement(I.a,null,l.a.createElement(S.a,null,l.a.createElement("span",{className:i.chevronWrapper},l.a.createElement(O.a,{kind:R.b.CHEVRON_UP,size:R.d.XS,rotate:R.c.D180,title:c(L.select_messages),"aria-label":c(L.select_messages),colorState:R.a.INHERITED,isOnDarkBackground:u,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),l.a.createElement(C.b,{permittedArrowDirections:[f.h.UP,f.h.DOWN],triggerOn:f.i.CLICK,offset:4*p.GRID_UNIT,align:f.a.START,zAltitude:p.ZIndices.POPOVER.HIGH},l.a.createElement("div",{className:i.popoverListWrapper},l.a.createElement(N.a,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},l.a.createElement(b.a,{name:"select-all"},l.a.createElement(T.a,{kind:A.a.MENUITEM,onClick:()=>this.props.onSelectAll(n),"data-test-id":"select-all-btn"},l.a.createElement(m.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),l.a.createElement(b.a,{name:"select-none"},l.a.createElement(T.a,{kind:A.a.MENUITEM,onClick:()=>this.props.onSelectNone(n),"data-test-id":"select-none-btn"},l.a.createElement(m.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),l.a.createElement(b.a,{name:"select-read"},l.a.createElement(T.a,{kind:A.a.MENUITEM,onClick:()=>this.props.onSelectAllRead(n),"data-test-id":"select-all-read-btn"},l.a.createElement(m.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),l.a.createElement(b.a,{name:"select-unread"},l.a.createElement(T.a,{kind:A.a.MENUITEM,onClick:()=>this.props.onSelectAllUnread(n),"data-test-id":"select-all-unread-btn"},l.a.createElement(m.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),l.a.createElement(b.a,{name:"select-starred"},l.a.createElement(T.a,{kind:A.a.MENUITEM,onClick:()=>this.props.onSelectAllStarred(n),"data-test-id":"select-all-starred-btn"},l.a.createElement(m.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),l.a.createElement(b.a,{name:"select-unstarred"},l.a.createElement(T.a,{kind:A.a.MENUITEM,onClick:()=>this.props.onSelectAllUnstarred(n),"data-test-id":"select-all-unstarred-btn"},l.a.createElement(m.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),l.a.createElement(b.a,null,l.a.createElement("div",null,s===y.Rc.NO&&_>0?d(_):""))))}}_()(v,"defaultProps",{tabIndex:-1}),v.contextTypes={intl:m.intlShape.isRequired,getCss:c.a.func,getThemeMode:c.a.func};var P=v;const F=Object(m.defineMessages)({archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected {conversations, select, true {conversations} false {messages}}"}});class w extends l.a.Component{constructor(...e){super(...e),_()(this,"_renderLabel",()=>l.a.createElement(m.FormattedMessage,{id:"archive_button.archive_label",defaultMessage:"Archive"}))}render(){const e=this.props,t=e.disabled,s=e.onClick,a=e.showLabel,n=e.isCompact,r=(0,this.context.intl.formatMessage)(F.archive_msgs,{conversations:e.conversations}),i=this.context.getThemeMode()===D.h.DARK;return l.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":"toolbar-archive","aria-label":r,title:r,kind:R.b.ARCHIVE,disabled:t,onClick:s,size:R.d.XS,colorState:R.a.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())}}_()(w,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c.a.func}),_()(w,"defaultProps",{showLabel:!0,conversations:!1});var k=w;const x=Object(m.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select, true {conversations} false {messages}} to Inbox"}});class U extends l.a.Component{constructor(...e){super(...e),_()(this,"_renderLabel",()=>l.a.createElement(m.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}))}render(){const e=this.props,t=e.disabled,s=e.onClick,a=e.showLabel,n=e.isCompact,r=(0,this.context.intl.formatMessage)(x.restore_msgs,{conversations:e.conversations}),i=this.context.getThemeMode()===D.h.DARK;return l.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":"toolbar-archive-restore","aria-label":r,title:r,kind:R.b.RESTORE_TO_INBOX,disabled:t,onClick:s,size:R.d.XS,colorState:R.a.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())}}_()(U,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c.a.func}),_()(U,"defaultProps",{showLabel:!0,conversations:!1});var G=U,j=s(371);const H=Object(m.defineMessages)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected {conversations, select, true {conversations} false {messages}}"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected {conversations, select, true {conversations} false {messages}}"}});class B extends l.a.Component{constructor(...e){super(...e),_()(this,"_renderLabel",()=>l.a.createElement(m.FormattedMessage,{id:"delete_button.delete_label",defaultMessage:"Delete"}))}render(){const e=this.props,t=e.permanent,s=e.disabled,a=e.onClick,n=e.showLabel,r=e.isCompact,i=(0,this.context.intl.formatMessage)(t?H.perm_delete_msgs:H.delete_msgs,{conversations:e.conversations}),o=t?"perm-delete":"delete",c=this.context.getThemeMode()===D.h.DARK;return l.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${o}`,"aria-label":i,title:i,kind:R.b.DELETE,disabled:s,onClick:a,size:R.d.XS,colorState:R.a.INHERITED,isOnDarkBackground:c,isCompact:r},n&&this._renderLabel())}}_()(B,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c.a.func}),_()(B,"defaultProps",{showLabel:!0,conversations:!1});var V=B;const W=Object(m.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"}});class q extends l.a.Component{constructor(...e){super(...e),_()(this,"_renderLabel",()=>l.a.createElement(m.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"}))}render(){const e=this.props,t=e.disabled,s=e.onClick,a=e.showLabel,n=e.isCompact,r=(0,this.context.intl.formatMessage)(W.mark_msgs_as_spam),i=this.context.getThemeMode()===D.h.DARK;return l.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":"toolbar-spam","aria-label":r,title:r,kind:R.b.SPAM,disabled:t,onClick:s,size:R.d.XS,colorState:R.a.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())}}_()(q,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c.a.func}),_()(q,"defaultProps",{showLabel:!0});var z=q;const K=Object(m.defineMessages)({mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"}});class Z extends l.a.Component{constructor(...e){super(...e),_()(this,"_renderLabel",()=>l.a.createElement(m.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"}))}render(){const e=this.props,t=e.disabled,s=e.onClick,a=e.showLabel,n=e.isCompact,r=(0,this.context.intl.formatMessage)(K.mark_msgs_as_not_spam),i=this.context.getThemeMode()===D.h.DARK;return l.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":"toolbar-not-spam","aria-label":r,title:r,kind:R.b.SPAM,disabled:t,onClick:s,size:R.d.XS,colorState:R.a.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())}}_()(Z,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c.a.func}),_()(Z,"defaultProps",{showLabel:!0});var Y=Z,X=s(27),Q=s(54),$=s(832),J=s.n($);const ee=Object(m.defineMessages)({more_button_title:{id:"more_button_title",defaultMessage:"More options"}});class te extends d.Component{constructor(e){super(e)}_renderLabel(){return l.a.createElement(m.FormattedMessage,{id:"more_button",defaultMessage:"More"})}render(){const e=this.props,t=e.disabled,a=e.showLabel,r=e.isCompact,i=(0,this.context.intl.formatMessage)(ee.more_button_title),o=this.context.getThemeMode()===D.h.DARK,c=this.context.getCss(J.a);return l.a.createElement(I.a,{className:c.popoverContainer},l.a.createElement(S.a,null,l.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":"toolbar-more","aria-label":i,title:i,kind:R.b.MORE,disabled:t,size:R.d.XS,colorState:R.a.INHERITED,isOnDarkBackground:o,isCompact:r},a&&this._renderLabel())),l.a.createElement(C.b,{triggerOn:f.i.CLICK,permittedArrowDirections:[f.h.UP],zAltitude:p.ZIndices.POPOVER.HIGH},l.a.createElement(X.a,n()({import:"../action_menu_items/index.jsx"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,863))},_moduleResolver:function(){return 863}}),l.a.createElement(X.b,{loading:!0},l.a.createElement(Q.b,null)))))}}te.contextTypes={intl:m.intlShape.isRequired,getThemeMode:c.a.func,getCss:c.a.func},te.defaultProps={showLabel:!1};var se=te,ae=s(269),ne=s(270),re=s.n(ne);const ie=(e,t)=>{const s=e.renderSelectionControls,a=e.renderListFilter,n=e.renderArchive,r=e.renderRestoreToInbox,i=e.renderMove,o=e.renderDelete,c=e.renderSpam,d=e.renderHam,u=e.renderMore,_=e.renderSortMenu,m=e.renderConfirmDialog,p=e.enableTriageActions,h=t.getCss(re.a);return l.a.createElement("div",{className:h.container,"data-test-id":"message-toolbar"},s(h),a(h),l.a.createElement("div",{className:h.mainActionControls},l.a.createElement("div",{className:p?h.actionListActive:h.actionListDefault},n(h),r(h),i(h),o(h),c(h),d(h),u(h))),_(h),m())};ie.contextTypes={getCss:c.a.func};var oe=ie;const ce=(e,t)=>{const s=e.renderSelectionControls,a=e.renderArchive,n=e.renderRestoreToInbox,r=e.renderMove,i=e.renderDelete,o=e.renderSpam,c=e.renderHam,d=e.renderMore,u=e.renderSortMenu,_=e.renderSingleGroupActions,m=e.renderUsabiltyOptions,p=e.renderConfirmDialog,h=e.enableTriageActions,g=e.horizontalOffset,E=e.renderListFilter,I=e.previewpaneInPixels,S=t.getCss(re.a,{previewpane:e.previewpane,groupActionsActive:e.enableGroupActions,previewpaneInPixels:I});return l.a.createElement("div",{className:S.container,"data-test-id":"message-toolbar"},l.a.createElement("div",{className:S.leftHalfContainer,style:{flexBasis:g>100&&I?`${g}px`:`${g}%`}},l.a.createElement("div",{className:S.leftGrid},s(S),E(S)),u(S)),l.a.createElement("div",{className:S.rightHalfContainer},_(S),l.a.createElement("div",{className:S.mainActionControls},l.a.createElement("div",{className:h?S.actionListActive:S.actionListDefault},a(S),n(S),r(S),i(S),o(S),c(S),d(S))),m(S),p()))};ce.contextTypes={getCss:c.a.func};var de=ce;const le=(e,t)=>{const s=e.renderSelectionControls,a=e.renderListFilter,n=e.renderArchive,r=e.renderRestoreToInbox,i=e.renderMove,o=e.renderDelete,c=e.renderSpam,d=e.renderHam,u=e.renderMore,_=e.renderSortMenu,m=e.renderSingleGroupActions,p=e.renderUsabiltyOptions,h=e.renderConfirmDialog,g=e.enableTriageActions,E=t.getCss(re.a,{previewpane:e.previewpane,groupActionsActive:e.enableGroupActions});return l.a.createElement("div",{className:E.container,"data-test-id":"message-toolbar"},s(E),a(E),m(E),l.a.createElement("div",{className:E.mainActionControls},l.a.createElement("div",{className:g?E.actionListActive:E.actionListDefault},n(E),r(E),i(E),o(E),c(E),d(E),u(E))),p(E),_(E),h())};le.contextTypes={getCss:c.a.func};var ue=le,_e=s(18),me=s(10),pe=s(15),he=s(11);const ge=["d","shift+d","r","a","f","p","escape"];var Ee=Object(pe.connect)((e,t)=>{const s=t.listId,a=t.streamId,n=t.actions,r=t.route,o=Object(he.b)(e),c=o.getCursorItem,d=o.getSelectedStreamItems,l=o.doesStreamExist,u=o.isAllCardsExpanded,_=o.canShowToolbarItem,m=o.canEnableToolbarItem,p=o.shouldEnableGroupActions,h=o.shouldEnableTriageActions,g=o.isPermDeleteFolderType,E=o.getAvailableSortOrders,I=o.isFeatureEnabled,S=(0,o.getListsSelectors)().getItemIdsSelectors,C=l(a)?d(a):[],f=l(a)?c(a):void 0,T=C.length>0?C:[];f&&0===C.length&&T.push(f);const A=C.length>0&&S(s).getItemIds().length===C.length,b=Object(me.o)(s),O=C.length,R=!!f&&u(f.listId,f.id);let N=y.K.NONE;C.length&&A?N=y.K.ALL:C.length&&(N=y.K.PARTIAL);const M=I(y.ub.PREVIEW_PANE_IN_PIXELS);return i()({listenKeys:ge,canShowToolbarItem:_(a),canEnableToolbarItem:m(a),allItemsSelected:A,selectedItemsCount:O,cursorItem:f,allCardsExpanded:R,permanentDelete:!!b&&g(b),enableGroupActions:p(a),enableTriageActions:h(a),currentSortOrder:Object(me.F)(t.listId),availableSortOrders:E(),checkboxType:N,routeName:r.name,enableSingleGroupActions:1===T.length,previewpaneInPixels:M},n.TOOLBAR)}),Ie=s(109),Se=s(16),Ce=s(105),fe=s(7),Te=s(37),Ae=s(33),be=s.n(Ae),Oe=s(46),Re=s.n(Oe);s.d(t,"stopEvent",function(){return Ne}),s.d(t,"MessageToolbar",function(){return De});const Ne=e=>{e.stopPropagation(),e.preventDefault()},Me=(e,t)=>({mKey:fe.e[`TOOLBAR_${t.toUpperCase()}`],sec:fe.g.MSG_LIST_BULK_ACTION,mKeyGroup:fe.f[t],interactionType:Object(_e.j)(e)});class De extends d.Component{constructor(e){super(e),this.componentRenderers={renderSelectionControls:this.renderSelectionControls.bind(this),renderArchive:this.renderArchive.bind(this),renderRestoreToInbox:this.renderRestoreToInbox.bind(this),renderMove:this.renderMove.bind(this),renderDelete:this.renderDelete.bind(this),renderSpam:this.renderSpam.bind(this),renderHam:this.renderHam.bind(this),renderMore:this.renderMore.bind(this),renderSortMenu:this.renderSortMenu.bind(this),renderSingleGroupActions:this.renderSingleGroupActions.bind(this),renderUsabiltyOptions:this.renderUsabiltyOptions.bind(this),renderListFilter:this.renderListFilter.bind(this),renderConfirmDialog:this.renderConfirmDialog.bind(this)},this.state={moveMenuActive:!1,moveMenuFilterFocused:!1,confirmState:null},this.handleSort=this.handleSort.bind(this),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleMoveMenuShow=this.handleMoveMenuShow.bind(this),this.handleMoveMenuHide=this.handleMoveMenuHide.bind(this),this.handleMoveMenuToggle=this.handleMoveMenuToggle.bind(this),this.handleReplyForward=this.handleReplyForward.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleSpam=this.handleSpam.bind(this),this.handleHam=this.handleHam.bind(this),this.handleRestoreToInbox=this.handleRestoreToInbox.bind(this),this.handleMove=this.handleMove.bind(this),this.handleClosePreviewMessage=this.handleClosePreviewMessage.bind(this),this.handleExpandContractClick=this.handleExpandContractClick.bind(this),this.hideConfirm=this.hideConfirm.bind(this),this.handlePrint=this.handlePrint.bind(this)}componentDidMount(){this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts)}shouldComponentUpdate(e,t){const s=this.props.previewpane!==y.Rc.NO&&this.props.allCardsExpanded!==e.allCardsExpanded,a=["canShowToolbarItem","canEnableToolbarItem","allCardsExpanded"];return this.props.routeName===e.routeName&&e.routeName!==y.gd.SEARCH&&a.push("cursorItem"),!be()(Re()(this.props,a),Re()(e,a))||!be()(this.state,t)||s}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys)}handleShortcuts(e){Ne(e);const t=e.which||e.keyCode||-1,s=String.fromCharCode(t).toLowerCase(),a=this.props,n=a.canEnableToolbarItem,r=(0,a.canShowToolbarItem)("raf"),i=n("raf");if(t!==Te.b.ESCAPE)switch(s){case Te.a.KEYD:this.props.enableTriageActions&&this.handleMoveMenuShow(e.shiftKey);break;case Te.a.KEYR:i&&r&&this.handleReplyForward(e,y.O.Modes.REPLY);break;case Te.a.KEYF:i&&r&&this.handleReplyForward(e,y.O.Modes.FORWARD);break;case Te.a.KEYA:i&&r&&this.handleReplyForward(e,y.O.Modes.REPLY_ALL);break;case Te.a.KEYP:this.props.enableSingleGroupActions&&this.handlePrint(e)}else{if(this.props.routeName===y.gd.FOLDER)return;this.props.onClosePage({listId:this.props.listId,i13nModel:{mKey:fe.e.TOOLBAR_CLOSE_MSG,sec:fe.g.MSG_READ_TOOLBAR,interactionType:Object(_e.j)(e)}})}}handleMoveMenuShow(e){if(!this.props.enableTriageActions)return;const t={moveMenuActive:!0};e&&(t.moveMenuFilterFocused=!0),this.setState(t)}handleMoveMenuToggle(e){e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}handleMoveMenuHide(){this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}handleSort(e,t){const s=this.props;(0,s.onSortOrderChange)({listId:s.listId,sortOrder:t,i13nModel:{interactionType:Object(_e.j)(e)}})}handleReplyForward(e,t){Ne(e);const s=this.props,a=s.onReplyForward,n=s.streamId,r=s.listId;let i,o;switch(t){case y.O.Modes.REPLY:i=fe.e.TOOLBAR_REPLY,o=fe.f.reply;break;case y.O.Modes.REPLY_ALL:i=fe.e.TOOLBAR_REPLYALL,o=fe.f.replyAll;break;case y.O.Modes.FORWARD:i=fe.e.TOOLBAR_FORWARD,o=fe.f.forward}a({streamId:n,listId:r,composeMode:t,i13nModel:{mKey:i,sec:fe.g.MSG_READ_TOOLBAR,mKeyGroup:o,interactionType:Object(_e.j)(e)}})}handleClosePreviewMessage(e){Ne(e);const t=this.props;(0,t.onClosePreviewMessage)({streamId:t.streamId,listId:t.listId,i13nModel:{mKey:fe.e.TOOLBAR_CLOSE_MSG,sec:fe.g.MSG_READ_TOOLBAR,interactionType:Object(_e.j)(e)}})}handleExpandContractClick(e){Ne(e);const t=this.props;(0,t.onChangeAllMessageCardExpansion)({listId:t.listId,streamId:t.streamId,expansionState:(0,t.canShowToolbarItem)("collapseAll")?y.D.COLLAPSED:y.D.EXPANDED})}handleArchive(e){Ne(e);const t=this.props;(0,t.onArchive)({streamId:t.streamId,triageActionType:y.ne.ARCHIVE_SELECTED_ITEMS,i13nModel:Me(e,"archive")})}handleRestoreToInbox(e){Ne(e);const t=this.props;(0,t.moveToInbox)({streamId:t.streamId,triageActionType:y.ne.RESTORE_SELECTED_ITEMS,i13nModel:{mKey:fe.e.TOOLBAR_RESTORE,sec:fe.g.MSG_LIST_BULK_ACTION,mKeyGroup:fe.f.archive,interactionType:Object(_e.j)(e)}})}handleDelete(e){Ne(e);const t=this.props,s=t.streamId,a=t.onDelete,n=t.permanentDelete;null===this.state.confirmState&&(n||t.selectedItemsCount>=t.bulkActionDialogThreshold)?this.setState({confirmState:{title:Ie.a.list_delete_title,message:n?Ie.a.list_perm_delete_message:Ie.a.list_delete_message,onConfirm:this.handleDelete,onAbort:this.hideConfirm}}):(a({streamId:s,triageActionType:y.ne.DELETE_SELECTED_ITEMS,i13nModel:Me(e,"delete")}),this.hideConfirm())}hideConfirm(){this.state.confirmState&&this.setState({confirmState:null})}handleSpam(e){const t=this.props;(0,t.onSpam)({streamId:t.streamId,triageActionType:y.ne.SPAM_SELECTED_ITEMS,i13nModel:{mKey:fe.e.TOOLBAR_SPAM,sec:fe.g.MSG_LIST_BULK_ACTION,mKeyGroup:fe.f.mark_spam,interactionType:Object(_e.j)(e)}})}handleHam(e){const t=this.props;(0,t.moveToInbox)({streamId:t.streamId,triageActionType:y.ne.NOT_SPAM_SELECTED_ITEMS,i13nModel:{mKey:fe.e.TOOLBAR_NOT_SPAM,sec:fe.g.MSG_LIST_BULK_ACTION,interactionType:Object(_e.j)(e)}})}handleMove(e,t){const s=this.props,a=s.onMove,n=s.streamId,r={triageActionType:y.ne.MOVE_SELECTED_ITEMS,destinationFolderId:e,i13nModel:{mKey:fe.e.TOOLBAR_MOVE,sec:fe.g.MSG_LIST_BULK_ACTION,mKeyGroup:fe.f.move,interactionType:Object(_e.j)(t)}};a(i()({streamId:n},r))}handlePrint(e){e.preventDefault();const t=this.props,s=t.moreMenuActions,a=t.streamId,n=t.listId,r={mKey:fe.e.TOOLBAR_PRINT,interactionType:Object(_e.j)(e)};s.onPrint({i13nModel:r,streamId:a,listId:n})}renderSelectionControls(e){const t=this.props,s=t.selectionActions,a=t.selectedItemsCount,r=t.previewpane,i=t.checkboxType,o=t.streamId;return l.a.createElement("div",{className:e.cboxWrapper},l.a.createElement("div",{className:e.selectionControlsWrapper},l.a.createElement(P,n()({},s,{selectedItemsCount:a,previewpane:r,checkboxType:i,streamId:o,tabIndex:p.TabIndices.MESSAGE_LIST_TOOLBAR}))))}renderArchive(e){const t=this.props,s=t.canEnableToolbarItem,a=t.showLabels,n=(0,t.canShowToolbarItem)("archive"),r=s("archive");return n?l.a.createElement("div",{className:r?e.toolbarItem:e.toolbarItemDisabled},l.a.createElement(k,{disabled:!r,showLabel:a,onClick:this.handleArchive})):null}renderRestoreToInbox(e){const t=this.props,s=t.canEnableToolbarItem,a=t.showLabels,n=t.isConversationMode,r=(0,t.canShowToolbarItem)("restore"),i=s("archive");return r?l.a.createElement("div",{className:i?e.toolbarItem:e.toolbarItemDisabled},l.a.createElement(G,{disabled:!i,showLabel:a,onClick:this.handleRestoreToInbox,isConversationMode:n})):null}renderMove(e){const t=this.props,s=t.canEnableToolbarItem,a=t.showLabels,n=t.listId,r=(0,t.canShowToolbarItem)("move"),i=s("move");return r?l.a.createElement("div",{className:i?e.toolbarItem:e.toolbarItemDisabled},l.a.createElement(j.a,{disabled:!i,showLabel:a,listId:n,onClick:this.handleMove,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,hasShortcuts:!this.state.moveMenuFilterFocused,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle})):null}renderDelete(e){const t=this.props,s=t.canEnableToolbarItem,a=t.showLabels,n=t.permanentDelete,r=(0,t.canShowToolbarItem)("delete"),i=s("delete");return r?l.a.createElement("div",{className:i?e.toolbarItem:e.toolbarItemDisabled},l.a.createElement(V,{disabled:!i,showLabel:a,permanent:n,onClick:this.handleDelete})):null}renderSpam(e){const t=this.props,s=t.canEnableToolbarItem,a=t.showLabels,n=(0,t.canShowToolbarItem)("spam"),r=s("spam");return n?l.a.createElement("div",{className:r?e.toolbarItem:e.toolbarItemDisabled},l.a.createElement(z,{disabled:!r,showLabel:a,onClick:this.handleSpam})):null}renderHam(e){const t=this.props,s=t.showLabels,a=t.canEnableToolbarItem,n=(0,t.canShowToolbarItem)("ham"),r=a("ham");return n?l.a.createElement("div",{className:r?e.toolbarItem:e.toolbarItemDisabled},l.a.createElement(Y,{disabled:!r,showLabel:s,onClick:this.handleHam})):null}renderMore(e){const t=this.props,s=t.listId,a=t.canEnableToolbarItem,r=t.moreMenuActions,i=t.streamId,o=t.enableSingleGroupActions,c=(0,t.canShowToolbarItem)("more"),d=a("more");return c?l.a.createElement("div",{className:d?e.toolbarItem:e.toolbarItemDisabled},l.a.createElement(se,n()({disabled:!d,showLabel:!1},r,{listId:s,streamId:i,enableSingleGroupActions:o}))):null}renderSortMenu(e){return l.a.createElement("div",{className:e.viewMenu},l.a.createElement("div",{className:e.sortMenuContainer},l.a.createElement(ae.a,{currentSortOrder:this.props.currentSortOrder,availableSortOrders:this.props.availableSortOrders,onClick:this.handleSort})))}renderSingleGroupActions(e){const t=this.props,s=t.canEnableToolbarItem,a=(0,t.canShowToolbarItem)("raf"),n=s("raf"),r=this.context.intl.formatMessage,i=this.context.getThemeMode()===D.h.DARK,o=n?e.singleGroupItem:e.singleGroupItem+" "+e.disabledItem,c=[{kind:R.b.REPLY,composeMode:y.O.Modes.REPLY,stringKey:"message_reply"},{kind:R.b.REPLY_ALL,composeMode:y.O.Modes.REPLY_ALL,stringKey:"message_reply_all"},{kind:R.b.FORWARD,composeMode:y.O.Modes.FORWARD,stringKey:"message_forward"}].map(({kind:e,stringKey:t,composeMode:s})=>{const a=r(Ie.a[t]);return l.a.createElement(b.a,{name:e,key:e,className:o,onClick:e=>this.handleReplyForward(e,s)},l.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${e}`,"aria-label":a,title:a,kind:e,size:R.d.XS,disabled:!n,colorState:R.a.INHERITED,isOnDarkBackground:i}))});return a?l.a.createElement("div",{className:e.singleGroupActions,"data-test-id":"single-group-action"},l.a.createElement("ul",{key:"group-actions",className:e.singleGroupActionList},c)):null}renderExpandMessages(e){const t=this.props.canShowToolbarItem,s=this.context.intl.formatMessage,a=this.context.getThemeMode()===D.h.DARK,n=t("expandAll"),r=t("collapseAll");return n||r?l.a.createElement("div",{className:e.expandCollapse,"data-test-id":"expand-messages",onClick:this.handleExpandContractClick},l.a.createElement(O.a,{title:s(Ie.a[r?"collapse_list":"expand_list"]),"aria-label":s(Ie.a[r?"list_is_expanded":"list_is_collapsed"]),kind:r?R.b.COLLAPSE_LIST:R.b.EXPAND_LIST,size:R.d.XS,paddingLess:!1,colorState:R.a.INHERITED,"data-iskeynav":!0,isOnDarkBackground:a})):l.a.createElement("div",{className:e.hiddenItem})}renderClosePreview(e){const t=this.context.intl.formatMessage,s=this.context.getThemeMode()===D.h.DARK;return this.props.enableGroupActions?l.a.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper,onClick:this.handleClosePreviewMessage},l.a.createElement(O.a,{"data-iskeynav":!0,"data-test-id":"toolbar-close",kind:R.b.CLOSE,size:R.d.XS,disabled:!1,title:t(Ie.a.close),"aria-label":t(Ie.a.close),colorState:R.a.INHERITED,isOnDarkBackground:s})):null}renderUsabiltyOptions(e){return l.a.createElement("div",{className:e.usabiltyOptions,"data-test-id":"usabilty-options"},this.renderExpandMessages(e),this.renderClosePreview(e))}renderListFilter(e){const t=this.props,s=t.onListFilterChange,a=t.showListFilter,n=this.context.getThemeMode()===D.h.DARK;if(!a)return null;const r=this.context.intl.formatMessage,i=Object(me.u)(this.props.listId).toLowerCase(),o=l.a.createElement(b.a,{key:i,name:"list-filter-"+i},l.a.createElement(T.a,{"data-test-id":"list-filter-from",kind:A.a.MENUITEM,onClick:e=>s(e,y.Qb.FROM)},r(Ie.a.list_filter_from)),l.a.createElement(T.a,{"data-test-id":"list-filter-to",kind:A.a.MENUITEM,onClick:e=>s(e,y.Qb.TO)},r(Ie.a.list_filter_to)),l.a.createElement(T.a,{"data-test-id":"list-filter-all",kind:A.a.MENUITEM,onClick:e=>s(e,y.Qb.ALL)},r(Ie.a.list_filter_all)));return l.a.createElement("div",{className:e.listFilterViewMenu,"data-test-id":"toolbar-list-filter"},l.a.createElement(I.a,null,l.a.createElement(S.a,null,l.a.createElement(T.a,{"data-test-id":"toolbar-list-filter-button",kind:A.a.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,isOnDarkBackground:n},l.a.createElement("span",{className:e.listFilterMenu},r(Ie.a["list_filter_"+i]),l.a.createElement(Se.b,{kind:R.b.CHEVRON_UP,size:R.d.XS,rotate:R.c.D180,colorState:R.a.INHERITED})))),l.a.createElement(C.b,{triggerOn:f.i.CLICK,hideOnContentClick:!0,offset:5*p.GRID_UNIT,align:f.a.CENTER,zAltitude:p.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},l.a.createElement("div",{className:e.popoverListWrapper},l.a.createElement(N.a,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},o)))))}renderConfirmDialog(){if(null===this.state.confirmState)return null;const e=this.state.confirmState,t=this.context.intl.formatMessage;let s=0;this.props.selectedItemsCount>0?s=this.props.selectedItemsCount:this.props.cursorItem&&(s=1);const a={conversations:this.props.isConversationMode,count:s};return l.a.createElement(Ce.a,{title:t(e.title),message:t(e.message,a),onConfirm:e.onConfirm,onAbort:e.onAbort})}render(){switch(this.props.previewpane){case y.Rc.RIGHT:return l.a.createElement(de,n()({},this.componentRenderers,this.props));case y.Rc.BOTTOM:return l.a.createElement(ue,n()({},this.componentRenderers,this.props));default:return l.a.createElement(oe,n()({},this.componentRenderers,this.props))}}}De.defaultProps={isConversationMode:!1},De.contextTypes={intl:m.intlShape.isRequired,navigateTo:c.a.func.isRequired,getThemeMode:c.a.func,bindShortcut:c.a.func,unbindShortcut:c.a.func};t.default=Ee(De)},,,,,,function(e,t,s){"use strict";s.r(t),s.d(t,"selectors",function(){return d}),s.d(t,"key",function(){return l});var a=s(4),n=s.n(a),r=s(32),i=s(2),o=s(0),c=s(10);t.default=Object(r.combineReducers)({brands:(e={},t)=>{switch(t.type){case i.ok:{const s={};return t.brand.forEach(a=>{const n=((e,t)=>e+":"+t)(a.name,t.accountId);s[n]=((e={name:"",unsubRequestTs:"0",frequency:{ftype:o.Rd.WEEKLY,fval:0},lastOpened:-1,score:0,subscriptions:[]},t,s)=>{switch(t.type){case i.ok:return{name:s.name,unsubRequestTs:s.unsubRequestTs||"0",frequency:{ftype:s.frequency.ftype||o.Rd.WEEKLY,fval:parseFloat(s.frequency.fval||"0")},lastOpened:parseFloat(s.lastOpened),score:s.score,subscriptions:s.subscriptions};default:return e}})(e[n],t,a)}),n()({},e,s)}case i.bl:{const s=t.brandId;return e[s].subscriptions=e[s].subscriptions.map(e=>n()({},e,{status:o.Sd.PENDINGUNSUB})),e}default:return e}},currentFilter:(e=o.Qb.ACTIVE,t)=>{switch(t.type){case i.pk:return t.listFilter;default:return e}},sortOrder:(e={[o.Qb.ACTIVE]:o.Od.RELEVANCE,[o.Qb.PAST]:o.Od.DATE_DESC},t)=>{switch(t.type){case i.qk:return n()({},e,{[t.listFilter]:t.sortOrder});default:return e}}});const d=e=>({getBrandInfo:t=>e.brands[t],getCurrentListId:()=>Object(c.G)(e.currentFilter,e.sortOrder[e.currentFilter]),getSortOrder:t=>e.sortOrder[t]}),l="subscriptionList"},function(e,t,s){"use strict";s.d(t,"a",function(){return _});var a=s(4),n=s.n(a),r=s(73),i=s(86),o=s(61),c=s(630),d=s.n(c),l=s(9);function u(e,t){const s=[];return!e.assets||+t!==o.d&&+t!==o.e||e.assets.forEach(({callToAction:e,clickUrl:t,headline:a,assetId:n,mediaInfo:r,assetIndex:c})=>{if(t){let i="";const d=`pp=m,st=c,si=${c},sa=${n}`;r.forEach(e=>{e.contentLabel===o.g&&(i=e.url)}),s.push({callToAction:e,clickUrl:t,headline:a,assetId:n,img:i||r[0].url,adPosnMacro:d})}else i.a.error("clickURL not present in Ad",{assetId:n})}),s}function _(e,t="",s={}){if(!Array.isArray(e))return[];const a=s.loggerParams||{};return e.map((e,i)=>{const c=function(e,t){let s;try{s=JSON.parse(e)}catch(e){r.a.error("Gemini ad tag is not valid JSON",t)}return s}(e.tag,a);if(!c)return;const _=function(e){if(!Array.isArray(e.assets)||e.assets.length<=0)return{};const t=e.assets.map(function(e){return e.mediaInfo.map(function(t){const s=e.embeddedLandingUrls||[];return t.usageType=e.usageType,t.embeddedLandingUrls=s.reduce(function(e,t){return e[t.index.toString()]=t,e},{}),t}).reduce(function(e,t){return t.usageType===o.o.ImagePortrait&&t.contentLabel!==o.h?e:t.url?t:e},{})});return d()(t,function(e){return e.usageType})}(c),m=function(e){let t;return Array.isArray(e.assets)&&e.assets.length>0?(e.assets.forEach(e=>{e.usageType===o.o.VideoPrimary&&(t=e.mediaInfo.map(e=>e))}),t):null}(c),p=function(e,t,s){return Array.isArray(s)&&s?{videoMediaAssets:s,clickUrl:t.clickUrl||"",rules:e.rules,actionUrls:e.actionUrls,callToAction:t.callToAction,thumbnail:t.thumbnailImage||t.hqImage||""}:null}(e,c,m),h=function(e,t,s={}){if(!t)return;const a=e.actionUrls,n=e.ccCode,r=s.url,i=s.contentType,o=s.usageType,c=s.embeddedLandingUrls,d=new RegExp("(.png|.gif|.jpg|.jpeg)$","i");let l="";return r&&r.match(d)&&(l=[`<a target="_blank" href="${t.landingUrl}" rel="noreferrer">`,`<img src="${r}" style="display: block; margin: auto; max-width: 100%;"/>`,"</a>"].join("")),{contentType:i||"",url:r||"",usageType:o||"",geminiSponsoredAsset:l,actionUrls:"STRM_VIDEO"===n?"":a,embeddedLandingUrls:c}}(e,c,_[o.o.HtmlPrimary]),g=function(e,t,s={},a){if(!t)return;const n=s[o.o.VideoPreview]||{},r=s[o.o.ImagePortrait]||{},i="image/jpeg"===r.contentType?r.url:"",c=(t.adextensions||[]).filter(e=>e.type===o.a);return t.secThumbnailImage=/^https:\/\//.test(t.secThumbnailImage)?t.secThumbnailImage:"",{adHeadline:t.headline||"",adSummary:t.summary||"",adImg:t.secThumbnailImage||t.secImage||"",adSource:t.source||"",clickUrl:t.clickUrl||"",landingUrl:t.landingUrl||"",creativeId:e.creativeId.toString(),impressionTrackingUrls:t.imprTrackingUrls?t.imprTrackingUrls:[t.imprTrackingUrl],adFeedbackBeacon:t.ad_feedback_beacon||"",rules:e.rules,actionUrls:e.actionUrls,previewVideoContentType:n.contentType||"",previewVideoUrl:n.url||"",callToAction:t.callToAction||"",flashSaleEndTime:Object(l.a)(t,"passThroughFields.flashSaleCountdownMilliSec",null),imagePortrait:i||t.secOrigImg||t.origImg||"",origImg:t.secOrigImg||t.origImg||"",brand:Object(l.a)(t,"passThroughFields.brand"),productAdActivity:Object(l.a)(t,"passThroughFields.productAdActivity"),productAdActivityMessage:Object(l.a)(t,"passThroughFields.productAdActivityMessage"),salePrice:Object(l.a)(t,"passThroughFields.salePrice"),fullPrice:Object(l.a)(t,"passThroughFields.fullPrice"),carouselAssets:u(t,a),hqImage:t.secHqImage||t.hqImage||"",callExtension:c[0]||{}}}(e,c,_,t);return g.actionUrls&&g.actionUrls.STATIC_VIEW_3P&&(g.actionUrls.STATIC_VIEW_3P[0]=g.actionUrls.STATIC_VIEW_3P[0].replace("$(S_VIEW_TYPE)",g.rules.viewabilityDefStatic3P[0].t)),g.sectionId=t,g.beacon=e.beacon.replace("$(AD_POSN)",i+1)||"",g.type=function(e,t,s,a){return a.productAdActivity?o.o.ShoppingCartAdType:"STRM_VIDEO"===e&&t?o.o.VideoAdType:s.usageType===o.o.HtmlPrimary&&s.url?o.o.NativeAdType:a.flashSaleEndTime?o.o.FlashSaleAdType:o.o.PencilAdType}(e.ccCode,p,h,g),g.domain=s.domain,function(e,t){![e.adFeedbackBeacon,e.adImg,e.beacon,e.clickUrl,...e.impressionTrackingUrls].every(e=>!e||/^https:\/\//.test(e))&&r.a.feature("gemini_non_https_url",n()({},e,t)).logFailure()}(g,a),{creativeId:e.creativeId.toString(),nativeAd:h,pencilAd:g,videoAd:p}}).filter(Boolean)}},function(e,t,s){"use strict";e.exports={className:{default:{categoriesContainer:"W_A",topSection:"D_F",categoriesHeader:"A_6EqO i_6Fd5 P_6Fd5 M_0",categoriesReorderContainer:"m_Z14vXdP D_F gl_FM",categoriesReorderTitle:"u_b A_6EqO i_6LEV M_E8xte",categoriesReorderBtnsContainer:"ab_C D_F",categoriesList:"hd_n M_0 P_0",category:"P_fq7 m_ZmUeFv D_F ab_C m8_n",categorySelected:"P_fq7 m_ZmUeFv D_F ab_C m8_n q_2ieeaE"},isMenuMode:{categoriesContainer:"W_3rBgu",category:"P_Z1E2XDm"},isCueMode:{category:"P_fq7"}},_key:"2317hS"}},function(e,t,s){"use strict";e.exports={className:{default:{titleWrapper:"W_6D6F D_Z1YJkyX ab_C",fullWidth:"W_6D6F",rowItemsContainer:"D_F aa_C ab_C i_6EWk",iconWrapper:"E_fq7",hint:"A_6EqO C_Z1YRXYn i_6FIA D_X",title:"M_Ic7YD D_F A_6FsP u_N F_N i_6LEV",titleCheckboxContainer:"E_fq7 H_6LEV",rightAlign:"Q_A",settingState:"Q_6DEy Y_689y U_68F4",warningInfoIcon:"Q_fq7 K_6FIA p_R r_P",warningPopover:"T_6NIX A_6DUj u_dPo i_6EWk Z_N W_3nV5V P_Z1wkQrI p_a e_dRA I_52qC j_ZlOSbd",toggleButtonState:"A_6EqO C_Z1YRXYn i_6FIA Q_eo6",toggleButtonContainer:"D_Z1YJkyX ab_C"},subHeader:{title:"u_b A_6EWk"},warning:{header:"O_cMq D_X",rightAlign:"O_cMq"},"toggleType-CHECKBOX":{title:"i_6LEV A_6EqO"},"toggleType-SWITCH":{titleWrapper:"gl_FM"}},_key:"Z2jc4MH"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3zJDR d_3mS2U k_w I_52qC D_F el_QDCVj ab_FT",header:"M_0 P_2Xpez D_F ab_AJ A_6FsP",spaceid:"P_Z1E2XDm",positionRow:"P_Z1E2XDm D_F",positionCol:"F_N",button:"ac_C I_Z2aVTcY C_52qC M_Z3NB4K b_0 H_6NIX s_3n93F",link:"F_N S_U C_Z2aVTcY",buttonContainer:"D_F M_A"}},_key:"Z1ynbNt"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"D_F ab_C H_7He5 M_1EAG48 W_6D6F",brandSideContainer:"D_F ab_C em_N ej_1LWoB0",searchCenterContainer:"em_N en_0 ej_1LWoB0 s_3z5BY p_R",accountToolsSideContainer:"D_F ab_C em_N ej_1LWoB0 gl_CH",logo:"en_0 W_3o4BO H_q k_w D_F ab_C gl_C",logoImage:"H_72FG",mailApps:"D_n en_0 ab_C hd_n em_N P_0 M_Z1fegk0 c26zcWk_F",mailAppsCompact:"D_X c26zcWk_n",popoverListWrapper:"P_3Y3Gk",mailAppsPopoverLink:"P_ZlO2l1 D_F ab_C em_N q4_1I4yPF q3_1I4yPF ir3_1JO2M7",mailAppsPopoverItemLabel:"A_6EqO X_eo6",iconWrapper:"E_6LEV",iconNavLink:"i_0 W_6LEV H_6LEV D_X ir3_Z1HO9zT it3_eo6",avatar:"M_1Eu6qC D_F",settingsLink:"D_F E_6LEV"},tabsVisible:{header:"H_7zJd"}},_key:"Z1QR1iu"}},function(e,t,s){"use strict";e.exports={className:{default:{datepickerWrapper:"p_R H_6VdP U_fq7",datepickerInput:"em_N ir_n D_F ab_C p_R q_52qC A_6EqO H_6VdP P_3gJOe m_2w4l8N",valueWrapper:"o_h J_x G_e",datepickerLabel:"C_Z1TsNWR W_7jIs i_6NIX",datepickerValue:"b_n ir_n t_C D_X H_6MGW C_Z281SGl i_6MGW Q_eo6 P_0",datepickerIcon:"D_F ab_C i_6NIX cdPFi_Z1TsNWR",datePart:"t_C Q_eo6 E_eo6",dateInput:"M_0 b_n ir_n ev_q I_q"},isFocused:{datepickerWrapper:"Z_O",datepickerInput:"m_2fAfSG",datepickerValue:"e_dRA I_2ieeaE",datepickerIcon:"cdPFi_Z2aVTcY"},invalidInput:{dateInput:"M_0 b_n ir_n ev_q I_q C_uiV"}},_key:"Z1HCWYS"}},function(e,t,s){"use strict";e.exports={className:{default:{popover:"W_3zLs9 H_3DpOq",headerSection:"D_F gl_FM P_ZgTzQx",rightHeaderSection:"D_F",separator:"m_Z14vXdP",thumbnailToggle:"D_F gl_FM P_eDQ W_6EGz H_6EGz k_BF I_ZnIF8Y e_dRA r_P",listToggle:"D_F gl_FM P_eDQ W_6EGz H_6EGz k_BF I_52qC e_dRA r_P ek_BB j_2m9siY",toggleContainer:"D_F Q_6Fd5 E_6FIA",squareContainer:"D_F ek_BB gl_FM",square:"I_ZroviD H_eTB W_eTB e_dBP",line:"H_dRA W_6EGz I_Z1VRpVF e_dRA",resultsSection:"D_F ek_BB H_3zSW1 gl_C"},isThumbnailView:{thumbnailToggle:"I_52qC j_2m9siY",listToggle:"I_ptT19 j_n",square:"I_Z1VRpVF",line:"I_ZroFTi"}},_key:"Z1OwhGt"}},function(e,t,s){"use strict";e.exports={className:{default:{previewLink:"D_F ab_C C_Z1VRpVF C4_Z281SGl",previewLabel:"Q_eo6 H_6Fd5 C_Z1VRpVF C4_Z281SGl",resultItem:"H_7ceA D_F ab_C p_R r4_P I4_2iedUU",resultItemContainer:"D_F W_6D6F ab_1urRJJ X_6Eb4 N_6FYl k_w",icon:"H_6UbO W_6UbO E_6Eb4",leftSection:"E_6Eb4 s_0",title:"A_6EqO u_b G_Z296qkg o_h J_x",sharedByName:"A_6EqO u_N G_Z296qkg o_h J_x C_Z1VRpVF",rightSection:"Q_A D_F ab_C",dateLabel:"X_6TFj C_Z1VRpVF J_x",divider:"m_Z12nDQf W_eVi f_r p_a T_6D6F L_d4X",imageThumbnail:"D_F ab_C gl_C W_3niBz H_3nhPj b_Z12nDQf r_P b4_2fAfSG Y_6Eb4 p_R",genericThumbnail:"D_F ab_C gl_C W_3niBz H_3nhPj b_Z12nDQf r_P b4_2fAfSG Y_6Eb4 p_R I_2iedTo",thumbnailTitle:"W_3niBz H_6LEV o_h J_x G_e A_6DUj C_Z1VRpVF i_6NIX",previewWrapper:"I_a0zME D_F ek_BB em_N ab_CH gl_CH W_6D6F H_6D6F",hoverMask:"p_a T_0 B_0 L_0 R_0 gl_C H_6D6F",image:"D_F ab_C gl_C W_3niBz K_3nhPj p_R",thumbnailResultItem:"N_3L3t4"},"type-xls":{genericThumbnail:"I_2m2209"},"type-ppt":{genericThumbnail:"I_Z2gRbsK"},"type-doc":{genericThumbnail:"I_Z1gjdlg"},"type-pdf":{genericThumbnail:"I_Z2gRbsK"},"type-gdoc":{genericThumbnail:"I_Z1gjdlg"},"type-gsheet":{genericThumbnail:"I_2m2209"},"type-gslide":{genericThumbnail:"I_Z2gRbsK"},"type-compressed":{genericThumbnail:"I_Z21PQN4"},"type-video":{genericThumbnail:"I_18K0L5"},"type-audio":{genericThumbnail:"I_18K0L5"},"type-cal":{genericThumbnail:"I_18K0L5"}},_key:"dG5O6"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3n93F p_R",content:"I_2iedTo k_w H_7yHc p_R o_h",mediaContent:"D_F ab_C gl_C H_6D6F",media:"W_6D6F",button:"c27KHO0_n b_0 I_ZS20TA C_52qC A_6EqO W_6D6F H_6D6F D_F gl_FM ab_C P_3gJOe",itemMenu:"p_a Z_O T_36JN3 R_36JN3 W_6MGW H_6MGW e_6MGW I_52qC j_20lmjm D_F gl_C ab_C r_P",menuContainer:"P_3HLUz",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",label:"A_6Eb4 i_6FIA J_x D_F r_P",filename:"D_F u_e69",labelBaseName:"G_e o_h",fileSize:"u_dzD A_6DUj",filenameContainer:"D_F ek_BB o_h J_x C_Z1VRpVF Q_eo6",downloadFilename:"D_F ek_BB o_h J_x C_Z1VRpVF Q_67SN W_3mS2U",loadingIconContainer:"p_a T_0 L_0 W_6D6F H_6D6F D_F gl_C ab_C",progressBar:"W_0 H_dRA I_Z2aVTcY p_a B_0 L_0 lv_1tzisg",hoverMask:"p_a T_0 B_0 L_0 R_0 D_F gl_C",previewButtonWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F r_P",downloadIconOnPreview:"p_a e_dRA i_dBP r_P b_1Ea0ib R_eo6 B_eo6 M_0",noPreviewWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",noPreviewWrapperMsgList:"I_ZnIF8Y D_F ek_BB gl_C em_N W_6D6F b_Z14vXdP P_fq7",previewWrapperMsgList:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",previewButtonMsgList:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6EqO",previewButton:"u_e69 C_Z2aVTcY P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6Eb4 Y_6LEV",noPreviewText:"u_e69 C_Z2aVTcY r_BN A_6Eb4 P_Z1E2YFn gl_C t_C q_n b_0 F_N Y_6LEV",noPreviewTextMsgList:"u_e69 C_Z2aVTcY r_BN A_6EqO D_F gl_C t_C i_6EWk y_12BoOJ",downloadIcon:"en_0",downloadIconWrapper:"D_F",popover:"P_Z1E2YFn u_e69"},unsupportedFileType:{content:"b_Z1222NH"},smallPreview:{container:"W_7Ig6",content:"H_7jIs",label:"A_6DUj i_6EqO Y_eTB"},anchorHover:{downloadFilename:"C_Z2aVTcY",content:"b_2fAfSG",filenameContainer:"C_Z2aVTcY"},spam:{filenameContainer:"C_ZroviD r_BN",label:"r_BN"},hover:{content:"b_2fAfSG",mediaContent:"O_cMp"},isCompact:{mediaContent:"O_N"},"type-image":{mask:"I_ioJaP"},"type-xls":{content:"I_2m2209"},"type-ppt":{content:"I_Z2gRbsK"},"type-doc":{content:"I_Z1gjdlg"},"type-pdf":{content:"I_Z2gRbsK"},"type-compressed":{content:"I_Z21PQN4"},"type-video":{content:"I_18K0L5"},"type-audio":{content:"I_18K0L5"},"type-cal":{content:"I_18K0L5"},"state-ERROR":{content:"I_2iedTo P_dRA",mediaContent:"I_ZnIF8Y",label:"C_Znn46r"}},_key:"Z1lBRM1"}},function(e,t,s){"use strict";e.exports={className:{default:{attentionIcon:"p_R T_e8l",tray:"P_0 je_fq7",ul:"hd_n D_F eo_HB M_gQyVX P_0",downloadAllLink:"D_F ab_GM C_Z2aVTcY A_6Eb4 r_P",downloadAllIcon:"E_eo6",spamDownloadWarning:"C_Znn46r",learnMore:"I_T b_0 C_Z2aVTcY r_P Q_fq7",item:"E_6Fd5 Y_6LEV",compactItem:"M_1VQXDU",spamAttachmentWarning:"Y_6LEV C_Znn46r",attachmentWarning:"Y_6LEV C_Znn46r A_6Eb4",attachmentWarningLearnMore:"I_T b_0 C_Z2aVTcY r_P Q_eo6 A_6Eb4"},isCompact:{item:"M_1VQXDU",ul:"M_Z9saPG"}},_key:"Z17lKfs"}},function(e,t,s){"use strict";e.exports={className:{default:{groupHeader:"D_F m_Z12nDQf P_Z1A2bQX I_52qC ab_CI",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N i_3mCHE",noSubject:"M_3gI0W",messageCount:"em_0 ac_C D_X i_6FIA P_3gJiI e_fFR Q_fq7 E_eTB A_6DUj I_ZpQYvz",readUnread:"D_F ab_C en_0 E_eo6 Y_fq7",messageGroupDestinationRow:"D_F ab_C em_N en_0 o_h M_Z2q6hl",messageGroupDestinationContainer:"D_F t_r A_6EqO C_Z1TsNWR cZ1RzsTJ_Z2uhb3X",messageGroupDestinationAccount:"G_e J_x o_h a_7yHc",messageGroupDestinationFolder:"G_e J_x o_h a_7iGr",endSideButtonGroup:"D_F ab_C Y_eTB en_0",star:"H_6LEV W_6LEV"},compactGroupHeader:{messageGroupDestinationRow:"M_Z2qsJW"},starredMailEnhanced:{star:"cdPFi_ZpQYvz H_6MGW W_6MGW Y_689y lv_2gnJCA h_Z13pql2 h4_2d9T5e"}},_key:"14vgOA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",clippedContainer:"K_q o_h a_3rBgu",label:"D_F ab_C y_Z2uhb3X A_6EqO P_eo6",itemLabel:"em_N P_0 o_h G_e",labelText:"X_eo6",customGroup:"K_3rehn iz_A iy_h P_cFf",systemGroup:"hd_n P_cFf M_0 m_Z14vXdP",lastGroup:"hd_n P_cFf M_0 m_0",popoverContainer:"D_F",popoverContent:"P_Z1gGUOP",shortcut:"ab_CH Q_fq7 Z_0",fullLabel:"D_F W_6D6F",anchorButton:"a_3rtg7",noResultContainer:"D_F ab_C C_Z1Xxgu0 i_6VdP k_w",inputContainer:"D_F ab_C k_w X_6EGz N_6Fd5 W_3rBgu",inputField:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO C_Z281SGl ir3_0",highlightedListItem:"I_1I4z5p O_N I4_1I4z5p",listItem:"I_52qC"}},_key:"Z1K2UQN"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_1I4yPF A_6EqO X_dRA H_7Ig6 D_F ek_BB gl_C e_dRA",header:"X_fq7 o_h D_F d_6EWk",title:"u_b C_Z281SGl o_h em_N i_6EWk",close:"N_eTB r_P",columns:"D_F ab_CH P_3gIMd",optionContainer:"jb6_fq7 D_F ab_C",radio:"c37wHw10_Z1gAvbx D_X H_6Fd5 s_6Fd5 e_6Fd5 I_52qC M_E8xte",column:"em_N ej_0 D_F ek_BB",freeText:"A_6EqO y_Z2uhb3X Q_fq7 o_h I_T cn_ZmdUJf m_2w4l8N em_N W_7yHc",buttonGroup:"t_r em_N a_3n93F"},freeTextFocused:{freeText:"m_2ivgpk"},isCompactLayout:{container:"H_3rmhK gl_FL",header:"D_F N_eTB gl_FM",columns:"D_X N_6DEy",radio:"M_E8xte",close:"N_0",optionContainer:"jb_fq7",buttonGroup:"t_l"},"themeMode-DARK":{title:"C_52qC",container:"C_52qC",freeText:"m_6i9dl"}},_key:"1Epn9p"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC p_R",filterItem:"I_T b_n W_6D6F i_6DEy D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO ir3_1JO2M7 it3_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",tabs:"P_2iGizO M_0 m_Z14vXdP D_F",categoryFilterContainer:"D_F p_a T_6Eb4 R_6LEV P_fQq0A I_ZnIF8Y e_dRA",categoryFilterAnchor:"D_F ab_C",categoryFilterAnchorLabel:"A_6EqO r_P",categoryFilterCheckIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",categoryFilterLabel:"Q_6Eb4"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",tabs:"m_Z6DFj8",categoryFilterContainer:"I_sgPuT"}},_key:"19EB7F"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB M_4TtlI",content:"D_F ab_C gl_FM",text:"D_F ek_BB",title:"D_F u_b A_6EqO U_fq7",stepContainer:"D_F ab_C",step:"D_F ek_BB ab_C gl_C t_C W_3mT4V M_20hxAQ",stepTitle:"D_F gl_CI",stepNumber:"ab_C I_Z1YRXYn e_e5X C_52qC D_F H_6Mbr gl_C E_fq7 t_C W_6Mbr",stepText:"A_6Eb4 i_6CAX M_829jJ W_7ALe"},"themeMode-DARK":{container:"C_52qC",stepNumber:"I_ajP4A C_2sqbRh"}},_key:"Z2jX3yT"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F em_N gl_C ab_C W_6D6F H_6D6F",offersContainer:"D_F em_N gl_C ab_C W_6D6F H_6D6F",subContainer:"D_F em_N ek_BB ab_C gl_C W_3v9Wb a_3v9Wb",travelImage:"W_3v9Wb H_3nxAj",couponImage:"W_3zlCJ H_3rKOo",receiptImage:"W_3s13S H_3n13i",offerImage:"W_3s13S H_3n9zb",emptyImage:"W_3n93F H_3n93F p_a X_7yHc",groceryBackgroundImage:"W_3s13S H_3n13i",heading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z1YRXYn",offersHeading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z1YRXYn",description:"A_6EqO i_6FIA gl_C t_C C_Z1YRXYn",YM6Description:"A_6EqO i_6CCW t_C C_Z1YRXYn",addMailbox:"je_6DEy",addMailboxLink:"C_Z2aVTcY A_6EqO i_6FIA",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C"},moreDescriptionPadding:{heading:"je_72FG"},"themeMode-DARK":{offersContainer:"q_52qC",heading:"C_2sqbRh",description:"C_2sqbRh",emptyListText:"C_52qC"}},_key:"ZNzLsf"}},function(e,t,s){"use strict";e.exports={className:{default:{dialog:"W_3zCa0 I_52qC D_F ek_BB e_eTB gl_C ab_C jb_6LEV",close:"ac_CH M_C04i4",logo:"H_7rt5 W_7jsH",header:"A_6FsP u_e69 P_Z2wfynt",step:"D_F A_6EqO t_l jb_6Fd5",stepNumber:"D_F ab_C gl_C t_C I_Z1YRXYn e_e5X C_52qC W_6MGW H_6MGW E_6Eb4",icon:"N_6Eb4",detailedStep:"W_3r6wK",body:"P_Z26n5mf"}},_key:"lHBJT"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F W_e5X",cardContainer:"D_F W_e5X P_KXYok",imageContainer:"D_F ab_C gl_C em_0 P_6Fd5",image:"W_72FG H_72FG e_e5X",messageContainer:"D_F ek_BB em_N A_6EGz P_1IaimO",header:"u_b",loyaltyInfo:"D_F ek_BB",subTitle:"M_ni5xh C_Z1VRpVF A_6Eb4",savingContainer:"D_F gl_2qpK5e ek_BB W_e5X n_Z14vXdP P_1EudUu M_1HT1B4",total:"D_F gl_FM C_Z2ak3tK",coupons:"D_F gl_FM",overlayContainer:"W_0",overlay:"W_72FG H_72FG h_ZEcFM9 q_Z1WGv5u O_6uA1 e_e5X",hide:"D_n"},isYM6GroceryEnabled:{container:"W_6D6F gl_C",cardContainer:"D_F ek_BB ab_C W_82XEY P_Z2wNFHA",summaryContainer:"D_F ab_C gl_C",imageContainer:"P_1NGQRH",image:"W_7aVO H_7aVO",overlay:"W_7aVO H_7aVO h_ZE8tA5",messageContainer:"P_0",retailer:"A_6FsP u_b",loyaltyInfo:"D_F ek_EZ",loyaltyNumber:"A_6DUj N_eo6",link:"A_6DUj C_Z2aVTcY r_P"}},_key:"Z1HSAVv"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"ab_C b_Z14vXdP e_dRA r_P D_F F_ZmdwxM M_2qs2uB K_7jYd o_h P_6Eb4 cZ1RN91d_n",svgStyle:"H_7iGr E_6Fd5 W_7iGr",cardDetails:"o_h N_6Eb4 F_Z2uTegI",buttonUnclipped:"W_3ni64 I_52qC C_Z2ak3tK l_Z2ak3tK e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_ASEsw M_0 I4_1uvRUE I3_1uvRUE",buttonClipped:"I_52qC C_Z1VRpVF b_n A_6EqO D_F ab_C M_0",buttonClippedWithValue:"I_52qC C_Z2ak3tK b_n A_6EqO u_e69 D_F ab_C M_0",cardDescription:"C_Z1Xxgu0 i_N J_x o_h G_e",cardTitle:"i_N U_eo6 K_6UbO o_h u_b",expiryTime:"C_Z1Xxgu0",buttonTextUnclipped:"Q_eo6 J_EN",buttonTextAmount:"u_e69",highlightedTerm:"I_2ieea9 D_X P_dbK",image:"D_F ab_C gl_C",icon:"H_7iGr W_7iGr e_fq7"},isYM6GroceryEnabled:{container:"e_fq7 F_Zmdhz3 M_eo6 K_7yHc",svgStyle:"D_F ab_C gl_C E_82XEY W_7yHc H_7yHc P_Z2fXwdq",icon:"H_7yHc W_7yHc",overlayContainer:"W_0",overlay:"W_7yHc H_7yHc h_ZDVp1o q_ZS2gpl e_fq7",saveContainer:"D_F ab_C jb_eo6",save:"A_6FsP u_e69",coupon:"C_ZkhR3R A_6DUj u_b",expires:"C_Z1VRpVF A_6DUj",buttonClipped:"N_fq7"},redExpires:{expires:"C_ZkiIcp"},expandedCardState:{container:"K_n",cardDescription:"J_N"},"contextOfUse-SingleStoreSearchAssist":{container:"b_n K_7bcz P_ZrcpDh M_1FvfM2",svgStyle:"E_6Eb4 W_6NIX H_6NIX",icon:"W_6NIX H_6NIX",cardTitle:"u_N K_6EWk A_6EqO",cardDescription:"C_Z1VRpVF A_6DUj"}},_key:"i06sd"}},,function(e,t,s){"use strict";s(8);var a=s(1),n=s.n(a),r=s(29),i=s(13),o=s.n(i),c=s(455),d=s.n(c),l=s(6),u=s(483),_=s(174),m=s(16),p=s(19),h=s(5),g=s(28),E=s(0),I=(s(9),s(54)),S=s(211);const C=Object(l.defineMessages)({timezoneUpdateTip:{id:"timezone_update_tip",defaultMessage:"Your timezone is not consistent with your computer's timezone"},timezoneValidationTip:{id:"timezone_validation_tip",defaultMessage:"Your timezone is now consistent with your computer's timezone"},toggleButtonStateOn:{id:"settings.section_title.toggleOn",defaultMessage:"On"},toggleButtonStateOff:{id:"settings.section_title.toggleOff",defaultMessage:"Off"},tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"}});class f extends n.a.Component{constructor(e){super(e),this.state={hoverWarningIcon:!1},this.element=null}componentWillUpdate(){!this.element&&this.refs.warningHeader&&(this.element=function(e){if(e){const t=Object(r.findDOMNode)(e).getBoundingClientRect(),s=t.width;return{height:Math.ceil(t.height),width:Math.ceil(s)}}return{height:0,width:0}}(this.refs.warningHeader))}renderIcon(){const e=this.props.settingError,t=this.context.intl.formatMessage;return e===E.yd.ERROR?n.a.createElement("div",{title:t(C.timezoneUpdateTip)},n.a.createElement(m.b,{kind:h.b.EXCLAMATION_ALT,size:h.d.XS,colorState:h.a.WARNING_GRAD_RED})):e===E.yd.VALIDATING?n.a.createElement("div",null,n.a.createElement(I.b,{size:I.a.S})):e===E.yd.RESOLVED?n.a.createElement("div",{title:t(C.timezoneValidationTip)},n.a.createElement(m.b,{kind:h.b.CAL_ACCEPT,size:h.d.XS,colorState:h.a.SUCCESS})):null}handleHoverIcon(e){this.setState({hoverWarningIcon:e})}renderWarningPopover(){const e=this.props,t=e.subHeader,s=e.warning,a=this.state.hoverWarningIcon,r=o()(d.a,{subHeader:t,warning:!!s}),i=a?h.a.SELECTED:h.a.FIRST_LEVEL_GRAY,c=this.element&&this.element.width>123?-(this.element.width-123):-32;return n.a.createElement("div",{className:r.warningInfoIcon},n.a.createElement(m.b,{onMouseEnter:this.handleHoverIcon.bind(this,!0),onMouseLeave:this.handleHoverIcon.bind(this,!1),kind:h.b.INFO,size:h.d.XS,colorState:i,allowPointerEvents:!0}),a?n.a.createElement("div",{style:{left:c},className:r.warningPopover},n.a.createElement("div",{className:r.warningText,"data-test-id":"warning-popover"},this.props.warning)):null)}render(){const e=this.props,t=e.header,s=e.hint,a=e.warning,r=e.canToggle,i=e.toggleType,c=e.subHeader,l=e.toggleEnabled,E=e.onToggle,I=e.toggleAriaLabel,f=void 0===I?this.props.header:I,T=e.showToggleState,A=e.useCalloutButton,b=e.iconDescription,O=this.context.intl.formatMessage,R=o()(d.a,{subHeader:c,warning:!!a,toggleType:i});return n.a.createElement("header",{className:R.titleWrapper},r&&i===S.d.CHECKBOX?n.a.createElement("div",{className:R.titleCheckboxContainer},n.a.createElement(_.a,{isChecked:l,onClick:E,disabled:!!a,paddingLess:!0})):null,n.a.createElement("div",{className:R.fullWidth},n.a.createElement("div",{className:R.rowItemsContainer},b&&n.a.createElement("span",{className:R.iconWrapper},n.a.createElement(m.b,{kind:b.kind,size:h.d.S,colorState:b.colorState}))," ",n.a.createElement("h4",{className:R.title},n.a.createElement("span",{className:R.header,ref:"warningHeader"},t),a?this.renderWarningPopover():null,n.a.createElement("span",{className:R.settingState},this.renderIcon())),r&&i===S.d.SWITCH?n.a.createElement("div",{className:R.toggleButtonContainer},n.a.createElement("span",{className:R.rightAlign,"data-test-id":"toggle-header-button"},n.a.createElement(u.a,{onClick:E,isEnabled:l,ariaLabel:f,title:f,isClickable:!a})),T&&n.a.createElement("span",{className:R.toggleButtonState,"data-test-id":"toggle-button-state"},O(l?C.toggleButtonStateOn:C.toggleButtonStateOff))):null,A&&n.a.createElement(p.a,{onClick:E,marginLess:!0,kind:g.a.THEMED_LIKE_COMPSOE_BUTTON},O(C.tryNow))),n.a.createElement("div",{className:R.rowItemsContainer},b&&s&&n.a.createElement("span",{className:R.iconWrapper},n.a.createElement(m.b,{kind:b.kind,size:h.d.S,colorState:h.a.TRANSPARENT})),s?n.a.createElement("span",{className:R.hint,dangerouslySetInnerHTML:{__html:s}}):null)))}}f.contextTypes={intl:l.intlShape.isRequired},f.defaultProps={canToggle:!1,toggleType:S.d.SWITCH,subHeader:!1,onToggle:()=>{},toggleEnabled:!0,settingError:E.yd.NONE,showToggleState:!1,useCalloutButton:!1},t.a=f},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(9);const n=Object(a.c)(["LIGHT","DARK"])},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"d",function(){return o}),s.d(t,"e",function(){return c}),s.d(t,"a",function(){return d}),s.d(t,"c",function(){return l}),s.d(t,"f",function(){return u});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({type:r.Hi},e),o=e=>n()({type:r.Ck},e),c=e=>n()({type:r.Dk},e),d=e=>n()({type:r.Ik},e),l=e=>n()({type:r.Hk},e),u=e=>n()({type:r.Ek},e)},function(e,t,s){"use strict";e.exports={className:{default:{headerContainer:"H_6UbO D_F ek_EZ ab_C gl_FM",header:"A_6EqO u_elT i_6Fd5 y_12BoOJ X_6LEV C_Z281SGl",categoryTitle:"k_w H_6Nds A_6EqO y_12BoOJ P_Z14hUor C_Z1TsNWR",emojiBox:"H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiRow:"D_F ab_C k_w P_0 H_72FG",emojiLi:"D_X Q_6LEV W_6MGW H_6MGW Q4_6Fd5 E4_68F4 W4_6UbO H4_6UbO",emojiDiv:"W_6D6F H_6D6F r_P",emojiContainer:"k_w p_a B_0 j_nWwhY I_52qC",activeCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q ir3_1JO2M7",inactiveCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q ir3_1JO2M7 O_6uB4",categoryContent:"D_F ab_C gl_C W_6D6F",emojiPopUp:"W_3vX1s p_a Z_d48",categoryImage:"D_X em_N W_6Fd5 H_6Fd5",categoryContainer:"ha_n M_28w24u D_F P_Z1SeCye aw_ZnLdEY az_DW ba_ZVBCBL lv_Z1smGsJ",categories:"r_P D_X Q_6NIX H_6Fd5 Q6_6MGW",closeWrapper:"D_F ab_C N_6DEy",lazyStyle:"k_w p_a B_0 j_nWwhY I_52qC H_3vxXj D_F ab_C gl_C",emojiBoxV1:"p_R Z_0 iy_h iz_A k_w em_N c22hqzz_GN H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiListV1:"M_0 P_0",emojiListItemV1:"H_A hd_n",searchSection:"U_6LEV P_2aKOEx",searchInput:"X_6NIX N_6VdP H_6UbO",emojiPage:"D_F ek_BB ab_C gl_C W_3vFXG H_3rBM0",emojiMessage:"y_rBP3E C_Z1TsNWR",pageEmojiWrapper:"P_0",pageEmoji:"Q_0 W_6UbO H_6UbO"},withoutRecentlyUsedEmoji:{emojiPage:"W_3v3uk",emojiPopUp:"W_3vpWV"}},_key:"1LiGMP"}},,function(e,t,s){"use strict";s.d(t,"a",function(){return d}),s.d(t,"b",function(){return l}),s.d(t,"c",function(){return u}),s.d(t,"d",function(){return _}),s.d(t,"e",function(){return m});var a=s(43),n=s(351),r=s.n(n),i=s(213),o=s.n(i);const c=new r.a({max:500,maxAge:3e5});function d(e){let t=c.get(e);return void 0===t&&(t=Object(a.t)(new Date,e),c.set(e,t)),t}function l(e,t,s){const a=e<0?"-":"+",n=Math.floor(Math.abs(e/60)),r=Math.abs(e%60),i=new Intl.NumberFormat(s,{minimumIntegerDigits:t?1:2}).format(n);let o=new Intl.NumberFormat(s,{minimumIntegerDigits:2}).format(r);return 0===e?"":(t&&0===r&&(o=""),a+i+(o?":":"")+o)}function u(e){if(Intl.DateTimeFormat){const t=new Intl.DateTimeFormat(e||"en",{timeZoneName:"long"});if(t.formatToParts)try{return t.formatToParts()[6].value||""}catch(e){return""}else if(t.format)try{return(t.format(new Date).split(",")[1]||"").trim()}catch(e){return""}}return""}function _(){const e=o.a.determine();let t=e&&e.name();if(Intl&&Intl.DateTimeFormat&&(t=t||new Intl.DateTimeFormat("en").resolvedOptions().timeZone),t)try{return d(t)}catch(e){return-1*(new Date).getTimezoneOffset()}return-1*(new Date).getTimezoneOffset()}function m(e){try{return _()!==d(e)}catch(e){return!1}}},function(e,t,s){"use strict";s.d(t,"e",function(){return r}),s.d(t,"f",function(){return i}),s.d(t,"a",function(){return o}),s.d(t,"j",function(){return c}),s.d(t,"i",function(){return d}),s.d(t,"o",function(){return l}),s.d(t,"m",function(){return u}),s.d(t,"p",function(){return _}),s.d(t,"n",function(){return m}),s.d(t,"l",function(){return p}),s.d(t,"h",function(){return h}),s.d(t,"g",function(){return g}),s.d(t,"b",function(){return E}),s.d(t,"d",function(){return I}),s.d(t,"c",function(){return S}),s.d(t,"k",function(){return C});var a=s(9),n=s(274);const r=864e5,i="https://www.hipmunk.com/search/yahoomail/hotels?",o=`https://www.booking.com/searchresults.html?aid=${n.a}`,c="https://seatgeek.com",d=12952,l=c+"/mlb-tickets",u=c+"/concert-tickets",_=c+"/broadway-tickets",m=c+"/search",p=c+"/cities/",h=Object(a.c)(["HIPMUNK","BOOKING"]),g="/img/logo_hipmunk.png",E="/img/logo_bookingcom.png",I="pageoffers-xml-858204-click_brand-yahoo_market-US_campaign-travelview",S="pageoffers-xml-858204-click_brand-yahoo_market-US_campaign-inboxview",C=[{name:"Atlanta",value:"atlanta"},{name:"Columbus",value:"columbus"},{name:"Indianapolis",value:"indianapolis"},{name:"New York",value:"nyc"},{name:"Tampa",value:"tampa"},{name:"Austin",value:"austin"},{name:"Dallas",value:"dallas"},{name:"Jacksonville",value:"jacksonville"},{name:"Portland",value:"portland"},{name:"Washington",value:"washington"},{name:"Boston",value:"boston"},{name:"Denver",value:"denver"},{name:"Las Vegas",value:"vegas"},{name:"San Diego",value:"san-diego"},{name:"Charlotte",value:"charlotte"},{name:"Detroit",value:"detroit"},{name:"Los Angeles",value:"la"},{name:"San Francisco",value:"sf"},{name:"Chicago",value:"chicago"},{name:"Houston",value:"houston"},{name:"Miami",value:"miami"},{name:"Seattle",value:"seattle"}]},,function(e,t,s){"use strict";s.d(t,"a",function(){return c});var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=(s(9),s(65));class c extends i.a.Component{constructor(){super(),n()(this,"recreateOrb",()=>{this.imageRef.current&&(this.imageRef.current.removeAttribute("clip-path","url(#clip-orb)"),this.imageRef.current.setAttribute("clip-path","url(#clip-orb)"))}),this.imageRef=i.a.createRef()}componentDidMount(){this.props.unifyNativeAdFormat||window.requestAnimationFrame(this.recreateOrb)}render(){const e=this.props,t=e.size.imageSize;return i.a.createElement("svg",{width:t,height:t,viewBox:"0 0 20 20"},i.a.createElement("image",{ref:this.imageRef,xlinkHref:e.imageSrc||o.a,width:"20",height:"20",clipPath:e.unifyNativeAdFormat?"":"url(#clip-orb)"}))}}n()(c,"defaultProps",{size:o.c.M,imageSrc:"",unifyNativeAdFormat:!1})},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(6),l=s(13),u=s.n(l),_=s(454),m=s.n(_),p=s(0),h=s(473),g=s(79),E=s(5),I=s(114),S=s(7),C=s(15),f=s(69),T=s(11);class A extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{selectedIndex:-1}),i()(this,"getRapidSectionValue",()=>{const e=this.props;let t=S.g.SETTINGS_CATEGORIZATION_TAB;return e.isMenuMode?t=S.g.TABS_MENU:e.isCueMode&&(t=S.g.FEATURE_CUE),t}),i()(this,"onChange",(e,t)=>{const s=this.props,a=s.isCueMode,r=s.onTryNow,i=s.smartViews.map((t,s)=>s===e?n()({},t,{status:t.status?0:1}):t),o={mKey:S.e.SETTINGS_CATEGORIZATION_CHANGE,sec:this.getRapidSectionValue(),interactionType:S.d.click,actionData:{smartView:i[e].name,status:i[e].status}};a&&r(t),this.saveSmartViews(i,o)}),i()(this,"saveSmartViews",(e,t)=>{this.props.changeSettings({name:p.zd.SYSTEM_TABS,value:e.filter(({name:e})=>!!p.hb[e]).map(({name:e,status:t})=>p.hb[e]+":"+t),i13nModel:t})}),i()(this,"moveSmartViews",(e,t)=>{const s=this.props.smartViews.slice(),a=Object.assign({},s[t]),n=t+(e?-1:1),r={mKey:S.e.SETTINGS_CATEGORIZATION_ORDER,sec:this.getRapidSectionValue(),interactionType:S.d.click,actionData:{direction:e?"up":"down"}};n>=0&&n<s.length&&(s[t]=Object.assign({},s[n]),s[n]=a,this.setState({selectedIndex:n},()=>{this.saveSmartViews(s,r)}))}),i()(this,"renderReorderControls",()=>{const e=u()(m.a),t=this.context.intl.formatMessage,s=this.state.selectedIndex,a=s<=-1;return c.a.createElement("div",{className:e.categoriesReorderContainer},c.a.createElement("div",{className:e.categoriesReorderTitle},c.a.createElement(d.FormattedMessage,{id:"categories_list_header_text",defaultMessage:"Priority list"})),c.a.createElement("div",{className:e.categoriesReorderBtnsContainer},c.a.createElement(g.a,{"data-test-id":"move-category-up",size:E.d.XS,kind:E.b.ARROW_UP,title:t(I.a.moveCategoryUp),"aria-label":t(I.a.moveCategoryUp),onClick:()=>{this.moveSmartViews(!0,s)},colorStates:{normal:a?E.a.DISABLED:E.a.NORMAL,hovered:a?E.a.DISABLED:E.a.SELECTED},disabled:a}),c.a.createElement(g.a,{"data-test-id":"move-category-down",size:E.d.XS,kind:E.b.ARROW_UP,rotate:E.c.D180,title:t(I.a.moveCategoryDown),"aria-label":t(I.a.moveCategoryDown),onClick:()=>{this.moveSmartViews(!1,s)},colorStates:{normal:a?E.a.DISABLED:E.a.NORMAL,hovered:a?E.a.DISABLED:E.a.SELECTED},disabled:a})))}),i()(this,"setSelectedIndex",e=>{this.setState({selectedIndex:e})}),i()(this,"handleClick",(e,t)=>{const s=this.props,a=s.isMenuMode,n=s.isCueMode;t.stopPropagation(),n||a||this.setSelectedIndex(e)}),i()(this,"renderCategories",e=>{const t=this.context.intl.formatMessage,s=this.state.selectedIndex,a=this.props,n=a.useCalloutButton,r=a.smartViews,i=a.showHint,o=a.showToggleState,d=a.isMenuMode||a.isCueMode,l={[p.Kd.PEOPLE]:{kind:E.b.PEOPLE,colorState:E.a.SMARTVIEW_PEOPLE},[p.Kd.COUPONS]:{kind:E.b.SHOPPING,colorState:E.a.SMARTVIEW_SHOPPING}},u=r.length>1;return c.a.createElement("ol",{className:e.categoriesList},r.map(({name:a,status:r},_)=>{const m=u&&s===_,g=l[a],E=a===p.Kd.COUPONS?p.Kd.SHOPPING:a;let S="";return i&&(S=t(d?I.a[`smart_view_${E}_SHORT_HINT`]:I.a[`smart_view_${E}_HINT`])),c.a.createElement("li",{className:m?e.categorySelected:e.category,onClick:this.handleClick.bind(this,_),key:`category-${_}`},c.a.createElement(h.a,{key:a,canToggle:!n,subHeader:!0,toggleEnabled:!!r,header:t(I.a[`smart_view_${E}`]),hint:S,onToggle:this.onChange.bind(this,_),showToggleState:o,useCalloutButton:n,iconDescription:g}))}))})}render(){const e=this.props,t=e.isMenuMode,s=e.isCueMode,a=!s&&!t&&e.smartViews.length>1,n=u()(m.a,{isMenuMode:t,isCueMode:s});return c.a.createElement("div",{className:n.categoriesContainer},a&&this.renderReorderControls(),this.renderCategories(n))}}i()(A,"contextTypes",{intl:d.intlShape.isRequired}),i()(A,"defaultProps",{isMenuMode:!1,isCueMode:!1,showHint:!1,showToggleState:!1,onTryNow:()=>{}});t.a=Object(C.connect)(e=>{return{smartViews:(0,Object(T.b)(e).getSetting)(p.zd.SYSTEM_TABS)}},e=>({changeSettings:t=>e(Object(f.b)(t))}))(A)},function(e,t,s){"use strict";s.d(t,"a",function(){return l});s(8);var a=s(1),n=s.n(a),r=s(19),i=s(648),o=s.n(i),c=s(13),d=s.n(c);function l({isEnabled:e,size:t="M",ariaLabel:s,ariaHidden:a,title:i,onClick:c,isClickable:l=!0}){const u=d()(o.a,{isEnabled:e,size:t,isClickable:l,isEnabledAndLarge:e&&"L"===t});return n.a.createElement(r.a,{className:u.background,role:"checkbox","aria-checked":e,onClick:e=>l?c(e):null,"aria-label":s,"aria-hidden":!!a,title:i},n.a.createElement("span",{className:u.handle}))}},function(e,t,s){"use strict";s(8);var a=s(1),n=s.n(a),r=s(13),i=s.n(r),o=s(661),c=s.n(o),d=s(11),l=s(15),u=s(0);t.a=Object(l.connect)(e=>{return{useThirdGenerationLogo:(0,Object(d.b)(e).isFeatureEnabled)(u.ub.USE_THIRD_GENERATION_LOGO)}})(function({accountType:e,useThirdGenerationLogo:t}){const s=i()(c.a,{accountType:e,useThirdGenerationLogo:t});return n.a.createElement("div",{className:s.avatar})})},function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(9);const n=Object(a.c)(["FITCONTENT"])},function(e,t,s){"use strict";var a=s(8),n=s.n(a),r=s(1),i=s.n(r),o=s(6),c=s(198),d=s(700),l=s.n(d),u=s(22);const _=Object(o.defineMessages)({label:{id:"contacts_list.loading_indicator",defaultMessage:"Loading"}}),m=({includeHeaders:e,applyTheme:t},s)=>{const a=s.getCss,n=s.intl,r=t&&Object(u.m)({context:s,includeMedium:!0}),o=a(l.a,{includeHeaders:e,darkStyles:r}),d=[o.wrapper];return e&&d.push(o.withBackground),i.a.createElement("div",{className:d.join(" "),"aria-label":n.formatMessage(_.label)},e&&i.a.createElement("div",{className:o.search,"aria-hidden":!0}),e&&i.a.createElement("div",{className:o.tabs,"aria-hidden":!0}),!e&&i.a.createElement("div",{className:o.separator,"aria-hidden":!0},i.a.createElement("span",{className:o.separatorText})),i.a.createElement(c.a,null),i.a.createElement(c.a,null),i.a.createElement(c.a,null),i.a.createElement(c.a,null),i.a.createElement(c.a,null),!e&&i.a.createElement("div",{className:o.separator,"aria-hidden":!0},i.a.createElement("span",{className:o.separatorText})),i.a.createElement(c.a,null),i.a.createElement(c.a,null),i.a.createElement(c.a,null))};m.contextTypes={intl:o.intlShape,getCss:n.a.func,getThemeMode:n.a.func},t.a=m},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(15),l=s(11),u=s(6),_=s(105),m=s(59),p=s(420),h=s(18),g=s(7),E=s(757),I=s.n(E),S=s(13),C=s.n(S),f=s(16),T=s(5),A=s(0),b=s(68),O=s.n(b),R=s(10);const N=C()(I.a),M=Object(u.defineMessages)({heading:{id:"blockSenders.heading",defaultMessage:"Block senders"},description:{id:"blockSenders.description",defaultMessage:"Please verify that you want to block messages from the following email senders:"},blockOption:{id:"blockSenders.blockOption",defaultMessage:"Block all future emails"},deleteOption:{id:"blockSenders.deleteOption",defaultMessage:"Delete all existing emails"}});class D extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{sendersChecked:{},blockSendersChecked:!0,deleteMessagesChecked:!0}),i()(this,"handleConfirm",e=>{e.stopPropagation();const t=this.props,s=t.handleBlockSenders,a=t.handleBlockSendersWithDelete,n=t.messageGroupIds,r=t.listId,i=t.folderId,o=t.permanent,c=this.state,d=c.sendersChecked,l=c.blockSendersChecked,u=c.deleteMessagesChecked,_=t.emailIds.filter(e=>d[e]),m={mKey:g.e.BLOCK_SENDERS_SUBMIT,sec:g.g.MSG_LIST_TOOLBAR_POPUP,interactionType:Object(h.j)(e)};if(0===_.length)return void this.props.onClose();const p=_.length,E=O()(this.props.blockedSenders.concat(_));if(u){const e={deleteItemsFromSenders:_,i13nModel:m,listId:r,messageGroupIds:n,delta:p,folderId:i,permanent:o};l&&(e.blockSenders=E),a(e)}else l&&s({blockSenders:E,i13nModel:m,delta:p});this.props.onClose()}),i()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose()}),i()(this,"handleKeydown",(e,t)=>{/^( )$/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),e())}),i()(this,"toggleCheckStatus",e=>{const t=Object.assign({},this.state.sendersChecked,{[e]:!this.state.sendersChecked[e]});this.setState({sendersChecked:t})}),i()(this,"renderItem",(e,t,s)=>c.a.createElement("a",{onClick:s,className:N.item,tabIndex:-1,onKeyDown:this.handleKeydown.bind(this,s)},c.a.createElement("span",{className:N.checkbox},c.a.createElement(f.b,{kind:e?T.b.CHECKBOX_ON:T.b.CHECKBOX_OFF,size:T.d.XS,colorState:e?T.a.SELECTED:T.a.COOL_FAINT})),c.a.createElement("span",null,t)))}componentWillMount(){this.setState({sendersChecked:this.props.emailIds.reduce((e,t)=>n()({},e,{[t]:!0}),{})})}render(){const e=this.context.intl.formatMessage,t=this.state,s=t.sendersChecked,a=t.blockSendersChecked,n=t.deleteMessagesChecked;return c.a.createElement(_.a,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(M.heading),onOuterClick:()=>{}},c.a.createElement("div",{"data-test-id":"block-senders-dialog"},c.a.createElement("div",{className:N.description},e(M.description)),c.a.createElement("div",{className:N.list},c.a.createElement(m.a,{focusOnMount:!0,onEscape:this.props.onClose,tabIndex:0},this.props.emailIds.map(e=>c.a.createElement("li",{key:e},this.renderItem(s[e],e,this.toggleCheckStatus.bind(this,e)))))),c.a.createElement("div",{className:N.separator}),c.a.createElement("a",{onClick:()=>this.setState({blockSendersChecked:!a}),className:N.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,()=>this.setState({blockSendersChecked:!a}))},c.a.createElement("span",{className:N.checkbox},c.a.createElement(f.b,{kind:a?T.b.CHECKBOX_ON:T.b.CHECKBOX_OFF,size:T.d.XS,colorState:a?T.a.SELECTED:T.a.COOL_FAINT})),c.a.createElement("span",null,e(M.blockOption))),c.a.createElement("a",{onClick:()=>this.setState({deleteMessagesChecked:!n}),className:N.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,()=>this.setState({deleteMessagesChecked:!n}))},c.a.createElement("span",{className:N.checkbox},c.a.createElement(f.b,{kind:n?T.b.CHECKBOX_ON:T.b.CHECKBOX_OFF,size:T.d.XS,colorState:n?T.a.SELECTED:T.a.COOL_FAINT})),c.a.createElement("span",null,e(M.deleteOption)))))}}i()(D,"contextTypes",{intl:u.intlShape.isRequired}),i()(D,"defaultProps",{blockedSenders:[],emailIds:[]});t.a=Object(d.connect)((e,t)=>{const s=t.messageGroupIds,a=t.onClose,n=t.emailIds,r=Object(l.b)(e),i=r.getSenderEmailIdsFromMessageGroup,o=r.getFoldersSelectors,c=(0,r.getFeaturesSelectors)().getSetting(A.zd.DELIVERY_BLOCKED_SENDERS),d=Object(R.o)(t.listId),u=!!d&&o().isPermDeleteFolderType(d);return{emailIds:n&&n.length?n:i(s),onClose:a,blockedSenders:c,folderId:d,permanent:u}},e=>({handleBlockSenders:t=>e(Object(p.b)(t)),handleBlockSendersWithDelete:t=>e(Object(p.a)(t))}))(D)},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(6),l=s(20),u=s(22),_=s(5);const m=Object(d.defineMessages)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected {conversations, select, true {conversations} false {messages}}"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected {conversations, select, true {conversations} false {messages}}"}});class p extends c.a.Component{render(){const e=this.props,t=e.permanent,s=e.disabled,a=e.onClick,n=e.showLabel,r=e.isCompact,i=e.size,o=e.title,p=(0,this.context.intl.formatMessage)(t?m.perm_delete_msgs:m.delete_msgs,{conversations:e.conversations}),h=t?"perm-delete":"delete",g=this.context.getThemeMode()===u.h.DARK;return c.a.createElement(l.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${h}`,"aria-label":p,title:o||p,kind:_.b.DELETE,disabled:s,onClick:a,size:i,colorState:_.a.INHERITED,isOnDarkBackground:g,isCompact:r},n?c.a.createElement(d.FormattedMessage,{id:"delete_icon_label",defaultMessage:"Delete"}):null)}}n()(p,"defaultProps",{size:_.d.XS,showLabel:!0,onClick:function(){},conversations:!1}),n()(p,"contextTypes",{intl:d.intlShape.isRequired,getThemeMode:i.a.func}),t.a=p},function(e,t,s){"use strict";s.d(t,"a",function(){return i});var a=s(60),n=s(63),r=s(0);function i({kind:e,activeGroup:t,allCardsExpanded:s,primaryFolderType:i,listContentType:o}){const c=e!==a.c.LIST&&t&&t.messages.length>1,d=Boolean(c&&!1===s),l=Boolean(c&&!0===s),u=a.b.HAS_PREVIOUS_NEXT[e]&&o===r.Pb.MESSAGES;if(e===a.c.MESSAGE_VIEW){if(!t)return{};const e=Object(n.k)(t),s=!e&&Object(n.j)(t),a=!s&&Object(n.l)(t),o=i===r.Cb.ARCHIVE,c=s||a||e;return{spam:!e&&!s,ham:e&&!s,move:!s,archive:!(s||e||a||o),restore:e||a||o,delete:!c,permDelete:c,raf:!e&&!s,expandAll:d,collapseAll:l,prevNext:u}}const _=Boolean(i),m=i===r.Cb.DRAFT,p=i===r.Cb.TRASH,h=i===r.Cb.ARCHIVE,g=i===r.Cb.BULK,E=i===r.Cb.SENT,I=m||p||g;return{spam:!_||!m&&!g&&!E,ham:g&&!E,move:!_||!m,archive:!_||!m&&!h&&!g&&!p,restore:h||g||p,delete:!_||!I,permDelete:I,raf:e!==a.c.LIST&&(!_||!g&&!m),expandAll:d,collapseAll:l}}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(15),_=s(106),m=s.n(_),p=s(131),h=s(6),g=s(29),E=s(18),I=s(7),S=s(0),C=s(139),f=s(619),T=s(37);const A=["meta+up","meta+down","meta+a","ctrl+a","shift+.","shift+,","ctrl+.","ctrl+,","up","down",",",".","enter","space","shift+up","shift+down","pageup","pagedown"];Object(p.b)({group:C.d,keys:{select:{key:"SPACE",description:l.a.createElement(h.FormattedMessage,{id:"shortcut.select",defaultMessage:"{one} email",values:{one:l.a.createElement("strong",null,l.a.createElement(h.FormattedMessage,{id:"shortcut.select_strong_one",defaultMessage:"One"}))}})},selectAll:{key:"META+A,CTRL+A",description:l.a.createElement(h.FormattedMessage,{id:"shortcut.select_all",defaultMessage:"{allEmails} in view",values:{allEmails:l.a.createElement("strong",null,l.a.createElement(h.FormattedMessage,{id:"shortcut.select_all_strong_mails",defaultMessage:"All emails"}))}})},selectUp:{key:"SHIFT+UP",description:l.a.createElement(h.FormattedMessage,{id:"shortcut.consecutive_select",defaultMessage:"{consecutive} emails",values:{consecutive:l.a.createElement("strong",null,l.a.createElement(h.FormattedMessage,{id:"shortcut.consecutive_select_strong",defaultMessage:"Consecutive"}))}})},selectDown:{key:"SHIFT+DOWN",description:l.a.createElement(h.FormattedMessage,{id:"shortcut.consecutive_select",defaultMessage:"{consecutive} emails",values:{consecutive:l.a.createElement("strong",null,l.a.createElement(h.FormattedMessage,{id:"shortcut.consecutive_select_strong",defaultMessage:"Consecutive"}))}})}}}),Object(p.b)({group:C.c,keys:{open:{key:"ENTER",description:l.a.createElement(h.FormattedMessage,{id:"shortcut.open",defaultMessage:"{open} an email",values:{open:l.a.createElement("strong",null,l.a.createElement(h.FormattedMessage,{id:"shortcut.open_strong",defaultMessage:"Open"}))}})}}});class b extends l.a.Component{constructor(...e){super(...e),i()(this,"handleShortcuts",e=>{const t=Object(g.findDOMNode)(this);if(!t.contains(e.target)&&!e.target.contains(t))return;const s=e.which||e.keyCode,a=String.fromCharCode(s).toLowerCase();if(e.preventDefault(),e.stopPropagation(),"a"===a)return this._onSelectAll(e);if(e.metaKey)switch(s){case T.b.UP:this._onNavigate(S.X.FIRST,e);break;case T.b.DOWN:this._onNavigate(S.X.LAST,e)}else if(e.shiftKey)switch(s){case T.b.FF_COMMA:case T.b.UP:this._onShiftNavigate(S.X.UP,e);break;case T.b.PERIOD:case T.b.DOWN:this._onShiftNavigate(S.X.DOWN,e)}else if(e.ctrlKey)switch(s){case T.b.UP:case T.b.FF_COMMA:this._onNavigate(S.X.UP,e);break;case T.b.DOWN:case T.b.PERIOD:this._onNavigate(S.X.DOWN,e)}else{if("Period"===e.code)return this._onNavigate(S.X.DOWN,e);switch(s){case T.b.UP:case T.b.COMMA:this._onNavigate(S.X.UP,e);break;case T.b.DOWN:case T.b.PERIOD:this._onNavigate(S.X.DOWN,e);break;case T.b.PAGE_UP:this._onPageUpScroll();break;case T.b.PAGE_DOWN:this._onPageDownScroll();break;case T.b.SPACE:this._onSelect(e);break;case T.b.ENTER:this._onOpen(e)}}}),i()(this,"_onOpen",e=>{this.props.onOpen(e)}),i()(this,"_onSelect",e=>{e.preventDefault(),this.props.onSelect()}),i()(this,"_onSelectAll",e=>{e.preventDefault(),this.props.onSelectAll()}),i()(this,"_onScrollRef",e=>{this.scrollContainer=e,this.props.scrollRef&&this.props.scrollRef(e)}),i()(this,"_onPageUpScroll",()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=Math.max(this.scrollContainer.scrollTop-this.scrollContainer.clientHeight,0))}),i()(this,"_onPageDownScroll",()=>{this.scrollContainer&&(this.scrollContainer.scrollTop+=this.scrollContainer.clientHeight)}),i()(this,"_onNavigate",(e,t)=>{t.preventDefault(),this.props.onCursorMove(e,{interactionType:Object(E.j)(t)})}),i()(this,"_onShiftNavigate",(e,t)=>{t.preventDefault(),this.props.onShiftNavigate(e)}),i()(this,"_selectFirstItem",()=>{this.props.onCursorMove(S.X.DOWN,{interactionType:I.d.nav})})}componentDidMount(){this.context.bindShortcut(A,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(A)}render(){const e=this.props.infiniteScrollProps;return l.a.createElement(f.a,n()({},e,{selectFirstItem:this._selectFirstItem,scrollRef:this._onScrollRef}))}}i()(b,"contextTypes",{bindShortcut:c.a.func,unbindShortcut:c.a.func}),i()(b,"defaultProps",{onSelect:()=>{}});var O=b,R=s(42),N=s(12),M=s(82),D=s(9),y=s(765),L=s.n(y);const v=Object(h.defineMessages)({timechunk_today:{id:"timechunk_today",defaultMessage:"Today"},timechunk_yesterday:{id:"timechunk_yesterday",defaultMessage:"Yesterday"},timechunk_earlier_this_week:{id:"timechunk_earlier_this_week",defaultMessage:"Earlier this week"},timechunk_this_week:{id:"timechunk_this_week",defaultMessage:"This week"},timechunk_last_week:{id:"timechunk_last_week",defaultMessage:"Last week"},timechunk_earlier_in_month:{id:"timechunk_earlier_in_month",defaultMessage:"Earlier in {message}"},timechunk_earlier_in_year:{id:"timechunk_earlier_in_year",defaultMessage:"Earlier in {message}"},timechunk_days:{id:"timechunk_days",defaultMessage:"{weekday, select, 0 {Sunday} 1 {Monday} 2 {Tuesday} 3 {Wednesday} 4 {Thursday} 5 {Friday} 6 {Saturday}}"},timechunk_months:{id:"timechunk_months",defaultMessage:"{month, select, 0 {January} 1 {February} 2 {March} 3 {April} 4 {May} 5 {June} 6 {July} 7 {August} 8 {September} 9 {October} 10 {November} 11 {December}}"}});class P extends l.a.Component{constructor(...e){super(...e),i()(this,"getTimeChunkMessage",e=>{const t=this.props.separatorData,s=this.context.intl,a=s.formatMessage,r=s.formatDate;let i=null;switch(t.type){case M.d.Types.DAY:i=a(v.timechunk_days,{weekday:t.value});break;case M.d.Types.MONTH:case M.d.Types.EARLIER_IN_MONTH:i=a(v.timechunk_months,{month:t.value});break;case M.d.Types.EARLIER_IN_YEAR:case M.d.Types.YEAR:i=r(new Date(t.value,1,1).getTime(),{year:"numeric"})}const o=t.type?v["timechunk_"+t.type.toLowerCase()]:null;let c=null;return o?c=l.a.createElement(h.FormattedMessage,n()({},o,{className:e.label,values:{message:i}})):i&&(c=l.a.createElement("span",{className:e.label},i)),c})}shouldComponentUpdate(e){return this.props.separatorType!==e.separatorType||this.props.separatorData.type!==e.separatorData.type||this.props.separatorData.value!==e.separatorData.value}render(){const e=this.context.getCss(L.a),t=this.props.separatorEnhancement?e.enhancedContainer:e.container;let s=null;switch(this.props.separatorType){case M.b.TIMECHUNK:s=this.getTimeChunkMessage(e)}return s?l.a.createElement("div",{className:t},s):null}}i()(P,"contextTypes",{intl:h.intlShape.isRequired,getCss:c.a.func}),i()(P,"defaultProps",{separatorType:M.b.TIMECHUNK});var F=P,w=s(146),k=s(241),x=s(303),U=s(54),G=s(13),j=s.n(G),H=s(266),B=s.n(H);const V=j()(B.a),W=1e3;var q=class extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{takesLong:!1})}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),W)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return l.a.createElement("div",{className:V.loadingContainer},this.state.takesLong&&l.a.createElement(U.b,null))}},z=s(145),K=s(127),Z=s(43);const Y=864e5;function X({items:e,isDescending:t,getTimeStampFromItem:s,dateFormattingOption:a={offset:0},firstDay:n}){const r=Object(Z.s)(a),i=(Object(Z.z)(r,a).getUTCDay()-n+7)%7,o=r-i*Y,c=function(e){const t=new Array(e);for(;e--;)t[e]=0;return t}(i+1);return(t?e:e.slice().reverse()).some(e=>{const t=s(e);if(!(t>=o))return!0;{const e=$(t,a,n);c[(e.value-n+7)%7]++}}),c}function Q({items:e,isDescending:t,showAd:s,getTimeStampFromItem:a,dateFormattingOption:n={offset:0},firstDay:r,insertPencilAds:i}){const o=[],c=function(e){const t=e.length-1,s=e.map((e,s)=>{switch(s){case t:return M.d.Types.TODAY;case t-1:return M.d.Types.YESTERDAY;default:return M.d.Types.DAY}});let a=0,n=-1,r=-1;e.forEach((e,s)=>{e>0&&(t!==s&&e<4&&a>0&&(n=s),r=s,a+=e)});const i=n===r?M.d.Types.THIS_WEEK:M.d.Types.EARLIER_THIS_WEEK;for(let e=0;e<=n;e++)s[e]=i;return s}(X({items:e,isDescending:t,getTimeStampFromItem:a,dateFormattingOption:n,firstDay:r}));let d={type:null};return e.forEach(e=>{const t=function(e,t,s){const a=e.value;if(e.type===M.d.Types.DAY){const e=(a-s+7)%7;return t[e]!==M.d.Types.DAY?{type:t[e],value:-1}:{type:t[e],value:a}}return e}($(a(e),n,r,d),c,r);d.type===t.type&&d.value===t.value||o.push({listSeparator:{separatorType:M.b.TIMECHUNK,separatorData:t}}),o.push(e),d=t}),s?i(o):o}function $(e,t,s,a={}){const n=Object(Z.s)(t),r=Object(Z.z)(n,t),i=r.getUTCMonth(),o=r.getUTCFullYear(),c=r.getUTCDay(),d=Object(Z.z)(e,t),l=d.getUTCFullYear(),u=d.getUTCMonth(),_=d.getUTCDay(),m=(c-s+7)%7,p=r.getTime()-m*Y,h=p-7*Y;return d.getTime()>=p?{type:M.d.Types.DAY,value:_,month:u}:d.getTime()>h?{type:M.d.Types.LAST_WEEK,month:u}:l===o?a.month===u||a.type===M.d.Types.EARLIER_IN_MONTH&&a.value===u?{type:M.d.Types.EARLIER_IN_MONTH,value:u}:i-u<6?{type:M.d.Types.MONTH,value:u}:{type:M.d.Types.EARLIER_IN_YEAR,value:l}:{type:M.d.Types.YEAR,value:l}}var J=s(10),ee=s(2);function te(e,{listId:t}){e.dispatch(ee.Zf,{listId:t})}var se=s(97),ae=s(11),ne=s(86),re=s(140);const ie=()=>{},oe=12,ce=200,de=Object(h.defineMessages)({empty_list_alt:{id:"item_list.empty_list_alt",defaultMessage:"No items"}});class le extends l.a.Component{constructor(...e){super(...e),i()(this,"onLoadMore",()=>{const e=this.props;this.debounceLoadmore({listId:e.listId,offset:e.items.length,count:e.itemsToFetch,allItemsSelected:e.allItemsSelected})}),i()(this,"organizeItemList",()=>{const e=this.props,t=e.items,s=e.listId,a=e.hasTimeChunking,n=e.getTimeStampFromItem,r=e.dateFormattingOption,i=e.pencilAd,o=this.context.locale.firstDay;if(0===t.length||!i&&!a)return t;if(i&&!a)return this.insertPencilAds(t);const c=Object(J.F)(s)===S.Od.DATE_DESC;try{return Q({items:t,isDescending:c,showAd:i,getTimeStampFromItem:n,dateFormattingOption:r,firstDay:o,insertPencilAds:this.insertPencilAds})}catch(e){const s=new re.a(e),a=e.data,n=void 0===a?{}:a,r=e.name,o=e.message,c=Object.assign({name:void 0===r?"":r,message:void 0===o?"":o,stack:s.toString()},n);return ne.a.error("Timechunk error",c),i?this.insertPencilAds(t):t}}),i()(this,"insertPencilAds",e=>{const t=this.props,s=t.messageListContainerNode,a=t.geminiSectionIds,n=t.secondPencilAd,r=t.route,i=t.timechunkPencilAd,o=t.displayPencilAdV3,c=t.secondSearchAd,d=s?s.clientHeight:t.messageListHeight,l={listAd:!0,sectionId:a[S.Db.MESSAGE_LIST]},u={listAd:!0,sectionId:a[S.Db.MESSAGE_LIST_2]},_=t.adFeedbackStatus[u.sectionId],m=r.name===S.gd.SEARCH,p=[...e];let h=0,g=0;if(r.name!==S.gd.SEARCH&&o[a[S.Db.MESSAGE_LIST]]&&[2,4,6].indexOf(o[a[S.Db.MESSAGE_LIST]])>-1||(p[0].listSeparator?p.splice(1,0,l):p.unshift(l)),n&&(!m||c)&&_!==S.m.ENDED)for(let e=0;e<p.length;e++){const t=!i||Object(D.a)(p,`${e-1}.listSeparator`,null);if(d&&h>d&&g>=10&&t&&!(o[a[S.Db.MESSAGE_LIST_2]]&&[2,4,6].indexOf(o[a[S.Db.MESSAGE_LIST_2]])>-1)){p.splice(e,0,u);break}if(m&&c&&e===p.length-1){p.push(u);break}g+=p[e].messages?1:0,h+=this.getHeightForIndex(p,e)}return p}),i()(this,"translateCursorIndex",e=>{const t=this.props,s=t.cursorIndex,a=t.items;return s<0?s:this.props.translateCursorIndex(t.hasTimeChunking||t.pencilAd?e.findIndex(e=>e===a[s]):s,e)}),i()(this,"getHeightForIndex",(e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listSeparator?N.ITEM_LIST_SEPARATOR_HEIGHT:this.props.getHeightForIndex(e,t)}),i()(this,"getItemsForIndex",(e,t)=>this.props.getItemsForIndex(e,t)),i()(this,"getIdForIndex",(e,t)=>{if(t<0)return"empty";const s=e[t]||{},a=s.listSeparator;if(s.listAd)return"gemini";if(a){return`separator_${a.type}_${a.value}`}return s.id||t}),i()(this,"isSectionHeader",(e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listSeparator}),i()(this,"isPencilAd",(e,t)=>{const s=this.getItemsForIndex(e,t);return s&&s.listAd}),i()(this,"renderItem",(e,t)=>{const s=this.getItemsForIndex(e,t),a=s.listSeparator;if(a){const e=a.separatorData;return l.a.createElement(F,n()({},a,{key:`${e.type}-${e.value}`}))}return this.props.renderItem(s,t)}),i()(this,"renderEmptyList",e=>{const t=this.context.intl.formatMessage;return l.a.createElement("div",{className:e.emptyListContainer,"data-test-id":"message-list-empty"},l.a.createElement(w.a,null),l.a.createElement("div",{className:e.emptyListText,"data-test-id":"empty-list-message"},l.a.createElement(h.FormattedMessage,{id:"message_list.empty_folder",defaultMessage:"Nothing to see here!"})),l.a.createElement("div",{className:e.emptyListImage},l.a.createElement(k.a,{kind:z.a.EMPTY_FOLDER,width:160,height:160,altText:t(de.empty_list_alt)})),l.a.createElement(w.a,null))}),i()(this,"handleCursorMove",(e,t)=>{const s=this.props,a=s.actions,n=s.cursorIndex,r={listId:s.listId,streamId:s.streamId,movement:e,unit:this.props.getCursorMoveUnit(e),cursorIndex:n,i13nModel:Object.assign({mKey:I.e.OPEN_MSG,sec:I.g.MSG_LIST_MSG,mKeyGroup:I.f.open_msg},t)};this.context.executeAction(a.moveCursor,r),clearTimeout(this._syncTimer),this._syncTimer=setTimeout(()=>{this.context.executeAction(K.h)},S.bc+1)}),i()(this,"handleShiftNavigate",e=>{const t=this.props;this.context.executeAction(t.actions.selectMove,{listId:t.listId,movement:e,streamId:t.streamId})}),i()(this,"onScrollTop",e=>{const t=this.props,s=t.listId,a=t.itemListPageThreshold;Math.abs(e-this.lastPageScrollTop)>a&&(this.context.executeAction(te,{listId:s}),this.lastPageScrollTop=e)}),i()(this,"handleScrollTopChange",e=>{this.props.onScrollTopChange(e),this.debouncedScrollTop(e)})}componentDidMount(){this.lastPageScrollTop=0,this.debouncedScrollTop=m()(this.onScrollTop,ce),this.debounceLoadmore=m()(this.props.loadMoreItems,1e3)}componentWillUnmount(){clearTimeout(this._syncTimer)}render(){const e=this.props,t=e.hasMoreItems,s=e.state,a=e.hasTimeChunking,n=e.items,r=e.height,i=e.scrollRef,o=e.isInvalidItem,c=e.isOnline,d=this.context.getCss(B.a);if(s===S.bd.DOES_NOT_EXIST||s===S.bd.LOADING)return l.a.createElement(c?q:x.a,null);if(s===S.bd.ERROR)return l.a.createElement(x.a,null);if(!n.length&&!t)return this.renderEmptyList(d);const u=this.organizeItemList();return l.a.createElement("div",{className:d.container},l.a.createElement(O,{onSelect:e.onSelect,onSelectAll:e.onSelectAll,onOpen:e.onOpen,onShiftNavigate:this.handleShiftNavigate,onCursorMove:this.handleCursorMove,scrollRef:i,infiniteScrollProps:{initialRenderCount:e.initialRenderCount,loadThreshold:e.loadThreshold,contentInsetTop:a?0:oe,initialIndexForTab:u.findIndex(e=>!e.listAd&&!e.listSeparator),size:e.getItemListSize(u),getHeightForIndex:e=>this.getHeightForIndex(u,e),getElementForIndex:e=>this.renderItem(u,e),getIdForIndex:e=>this.getIdForIndex(u,e),isSectionHeader:e=>this.isSectionHeader(u,e),isPencilAd:e=>this.isPencilAd(u,e),cursorIndex:this.translateCursorIndex(u),groupTabIndex:N.TabIndices.MESSAGE_LIST_MAIN,hasMoreItems:t,onLoadMore:this.onLoadMore,onScroll:this.props.onScroll,onScrollTopChange:this.handleScrollTopChange,layoutKey:this.props.layoutKey+r,bufferSize:this.props.bufferSize,hasAds:this.props.pencilAd,initialScrollTop:this.props.initialScrollTop,isInvalidItem:o}}))}}i()(le,"contextTypes",{executeAction:c.a.func,intl:h.intlShape,config:c.a.object,locale:R.d,getCss:c.a.func}),i()(le,"defaultProps",{onSelect:ie,onSelectAll:ie,getCursorMoveUnit:()=>1,translateCursorIndex:e=>e,onScrollTopChange:ie,getPropsForMask:ie,items:[],height:0,isInvalidItem:()=>!1});t.a=Object(u.connect)(e=>{const t=Object(ae.b)(e),s=t.isOnline,a=t.isFeatureEnabled,n=(0,t.getAdsSelectors)().getDisplayPencilAdV3(),r=a(S.ub.SECOND_SEARCH_AD);return{displayPencilAdV3:n,isOnline:s(),secondSearchAd:r}},e=>({loadMoreItems:t=>e(Object(se.a)(t))}))(le)},,function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(6),l=s(102),u=s(20),_=s(79),m=s(16),p=s(19),h=s(216),g=s(262),E=s(55),I=s(53),S=s(40),C=s(14),f=s(12),T=s(15),A=s(11),b=s(191),O=s(56),R=s(10),N=s(0);var M=Object(T.connect)((e,{messageId:t,listId:s})=>{const a=Object(A.b)(e),n=a.getMessageSnippet,r=a.getMessageSubject,i=a.getAttachmentsByMessageId,o=a.getMessageFlags,c=(0,a.doesMessageIdExist)(t),d=i(t);return{isLoaded:c,flags:c?o(t):{},attachments:d,contentType:Object(R.t)(s),subject:c?r(t):"",snippet:c?n(t):""}},(e,{listId:t,onClose:s})=>{const a=Object(O.a)([t]);return{onCancel:({i13nModel:t})=>{e(Object(b.b)({i13nModel:t})),s()},onDeleteMessage:({i13nModel:n,groupId:r,messageId:i})=>{e(Object(b.a)({conversations:!1,streamId:a,i13nModel:n,streamItem:{id:r,messageIds:[i],listId:Object(R.W)(t,{listContentType:N.Pb.MESSAGES}),isAffected:!0},triageActionType:N.ne.DELETE_SELECTED_ITEMS})),s()}}}),D=s(28),y=s(17),L=s(54),v=s(18),P=s(7),F=s(5),w=s(800),k=s.n(w),x=s(13);const U=s.n(x)()(k.a),G=Object(d.defineMessages)({delete_message_warning:{id:"delete_preview.delete_message_warning",defaultMessage:"Delete the message containing this {contentType, select, IMAGES {photo} DOCUMENTS {document} other {attachment}}?"},delete_message_button:{id:"delete_preview.delete_message_button",defaultMessage:"Delete message"},delete_warning_tooltip:{id:"delete_preview.delete_warning_tooltip",defaultMessage:"To delete this {contentType, select, IMAGES {photo} DOCUMENTS {document} other {attachment}}, the message its attached to and any other attachments below must also be deleted."},view_original:{id:"delete_preview.view_message",defaultMessage:"View original message"},cancel:{id:"confirm.cancel",defaultMessage:"Cancel"},close:{id:"confirm.close",defaultMessage:"Close"},info:{id:"confirm.info",defaultMessage:"Information"}});class j extends c.a.Component{constructor(...e){super(...e),n()(this,"handleDeleteMessage",e=>{e.stopPropagation(),this.props.onDeleteMessage({i13nModel:{interactionType:Object(v.j)(e),mKey:this.props.contentType===N.Pb.IMAGES?P.e.PHOTO_MESSAGE_DELETE:P.e.DOC_MESSAGE_DELETE,sec:this.props.contentType===N.Pb.IMAGES?P.g.PHOTO_LIST:P.g.DOC_LIST},messageId:this.props.messageId,groupId:this.props.groupId})}),n()(this,"handleClose",e=>{e.stopPropagation(),this.props.onCancel({i13nModel:{interactionType:Object(v.j)(e),mKey:this.props.contentType===N.Pb.IMAGES?P.e.PHOTO_DELETE_PREVIEW_CLOSE:P.e.DOC_DELETE_PREVIEW_CLOSE,sec:this.props.contentType===N.Pb.IMAGES?P.g.PHOTO_LIST:P.g.DOC_LIST}})}),n()(this,"navigateToMessage",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,s=t.listId,a=t.groupId,n=t.messageId,r=t.attachments;let i,o;if(a)i=Object(y.q)(s,a);else{if(!r.find(e=>(o=e.csid,e.csid)))return;i=Object(y.g)(o,{})}this.context.navigateTo({hashParams:{messageId:n},route:i,i13nModel:{interactionType:Object(v.j)(e),mKey:this.props.contentType===N.Pb.IMAGES?P.e.PHOTO_DELETE_PREVIEW_READ_MSG:P.e.DOC_DELETE_PREVIEW_READ_MSG,mKeyGroup:P.f.open_msg,sec:this.props.contentType===N.Pb.IMAGES?P.g.PHOTO_LIST:P.g.DOC_LIST}}),this.props.onClose()}),n()(this,"renderAttachments",()=>{const e=this.props,t=e.attachments;return t&&t.length?c.a.createElement(g.a,{attachments:t,readOnly:!0,allowDownload:!1,mayContainVirus:!1,message:{headers:{subject:e.subject}},onAttachmentPreview:this.navigateToMessage,shouldShowSpamAttachmentWarning:!1,allowInline:!0,isCompact:!0}):null})}render(){const e=this.context.intl.formatMessage,t={margin:"16px 8px 16px 0"},s=this.props,a=s.isLoaded,n=s.subject,r=s.snippet,i=s.flags,o=s.contentType;return c.a.createElement(l.a,{onClose:this.handleClose},c.a.createElement("div",{className:U.container,"data-test-id":"delete-preview-dialog"},c.a.createElement("div",{className:U.header},c.a.createElement("div",{className:U.heading},c.a.createElement(m.b,{kind:F.b.EXCLAMATION_ALT,size:F.d.XS,colorState:F.a.WARNING,title:e(G.close),"aria-label":e(G.close)}),c.a.createElement("div",{className:U.title,"data-test-id":"title"},e(G.delete_message_warning,{contentType:o})),c.a.createElement("div",{className:U.info},c.a.createElement(E.a,{className:U.popoverContainer},c.a.createElement(I.a,null,c.a.createElement("div",{className:U.popoverAnchor},c.a.createElement(_.a,{kind:F.b.INFO,size:F.d.XS,colorStates:{normal:F.a.SECOND_LEVEL_GRAY,hovered:F.a.TOUCH_PRIMARY},className:U.spacing,"aria-label":e(G.info),paddingLess:!0}))),c.a.createElement(S.b,{ignorePointerEvents:!0,permittedArrowDirections:[C.h.UP],isArrowVisible:!0,triggerOn:C.i.HOVER,align:C.a.START,zAltitude:f.ZIndices.MODAL,offset:12},c.a.createElement("div",{className:U.tooltip},e(G.delete_warning_tooltip,{contentType:o})))))),c.a.createElement("div",{className:U.close},c.a.createElement(u.a,{onClick:this.handleClose,kind:F.b.CLOSE,size:F.d.XS,title:e(G.close),"aria-label":e(G.close),"data-test-id":"close-btn"}))),c.a.createElement("div",{className:U.messageContent,"data-test-id":"mail-content"},a?c.a.createElement("div",{className:U.content},c.a.createElement("div",{className:U.subject,"data-test-id":"subject"},n),c.a.createElement("div",{className:U.msgHeader},c.a.createElement(h.a,{conversations:!1,message:{id:this.props.messageId,flags:i},expanded:!0,idx:0,onToggleRead:()=>{},onToggleStar:()=>{},isOnModal:!0,onAttachmentClick:()=>{}})),c.a.createElement("div",{className:U.snippet,"data-test-id":"snippet"},r),c.a.createElement("div",{className:U.attachments},this.renderAttachments())):c.a.createElement("div",{className:U.spinner},c.a.createElement(L.b,null))),c.a.createElement("div",{className:U.controls},c.a.createElement("div",{className:U.buttonContainer},c.a.createElement(p.a,{onClick:this.handleDeleteMessage,style:t,"data-test-id":"delete-btn"},e(G.delete_message_button)),c.a.createElement(p.a,{onClick:this.handleClose,kind:D.a.SECONDARY,style:t,"data-test-id":"cancel-btn"},e(G.cancel))),c.a.createElement("div",{className:U.viewMessageContainer},c.a.createElement("a",{onClick:this.navigateToMessage,className:U.viewMessage,"data-test-id":"view-link"},e(G.view_original))))))}}n()(j,"contextTypes",{intl:d.intlShape.isRequired,navigateTo:i.a.func.isRequired});t.a=M(j)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"b",function(){return a}),s.d(t,"a",function(){return n});const a="rrUpsellVideoAdTimestamp",n=5e3},,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return a});const a=(e={},t="")=>{const s=t.split("@")[1],a=Object.keys(e);if(!t)return null;for(const t of a){if(new RegExp(t).test(s))return e[t]}return null}},,,,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return d});var a=s(1),n=s.n(a),r=s(12),i=s(5),o=s(22);const c=[{id:"fuji-blue",viewBox:20,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorBlue10a},{id:"fuji-red",viewBox:20,startColor:r.PALETTE.ycolorOrange4a,stopColor:r.PALETTE.ycolorPink1a},{id:i.a.ATTACH_EXCEL,viewBox:48,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorGreen6a},{id:i.a.ATTACH_SLIDE,viewBox:48,startColor:r.PALETTE.ycolorOrange4a,stopColor:r.PALETTE.ycolorPink1a},{id:i.a.ATTACH_GENERIC,viewBox:48,startColor:r.PALETTE.ycolorTurquoise8a,stopColor:r.PALETTE.ycolorBlue10a},{id:i.a.ATTACH_DOC,viewBox:48,startColor:r.PALETTE.ycolorBlue10a,stopColor:r.PALETTE.ycolorPurple14a},{id:i.a.ATTACH_MEDIA,viewBox:48,startColor:r.PALETTE.ycolorPink1a,stopColor:r.PALETTE.ycolorPurple14a},{id:i.a.WARNING_GRAD_RED,viewBox:48,startColor:r.PALETTE.ycolorSalmon3b,stopColor:r.PALETTE.ycolorFuchsia18a},...Object.keys(o.j).map(e=>({id:i.a[`THEME_GRADIENT_${e}`],viewBox:48,startColor:o.j[`${e}`].GRADIENT_COLOR_1,stopColor:o.j[`${e}`].GRADIENT_COLOR_3}))].map(({id:e,viewBox:t,startColor:s,stopColor:a})=>n.a.createElement("linearGradient",{key:e,id:e,x1:"0",x2:t,y1:t,y2:"0",gradientUnits:"userSpaceOnUse"},n.a.createElement("stop",{offset:"40%",stopColor:s}),n.a.createElement("stop",{offset:"60%",stopColor:a})));function d(){return n.a.createElement("svg",{height:"0"},n.a.createElement("defs",null,c,n.a.createElement("clipPath",{id:"clip-orb"},n.a.createElement("circle",{cx:"10",cy:"10",r:"10"}))))}},function(e,t,s){"use strict";s.r(t),s.d(t,"allProviderAccounts",function(){return p}),s.d(t,"AuthWindow",function(){return g});var a=s(3),n=s.n(a),r=s(1),i=s.n(r),o=s(8),c=s.n(o),d=s(15),l=s(6),u=s(0),_=s(11),m=s(101);const p=[...Object.keys(u.S),...u.T,...Object.keys(u.R)],h=500;class g extends i.a.Component{constructor(e){super(e),n()(this,"handleOAuthResponse",({status:e})=>{window[u.Ic]=void 0,e=parseInt(e,10);const t=this.props,s=t.onConnectFail,a={provider:t.provider,status:e};200===e?(0,t.onConnectSuccess)(a):s(a)}),n()(this,"getWindowHeight",()=>this.props.provider!==u.ob.GOOGLE?700:800),n()(this,"openOAuthWindow",()=>{const e=h,t=this.getWindowHeight(),s=screen.width/2-e/2,a=screen.height/2-t/2;window[u.Ic]=this.handleOAuthResponse,window.oAuthWindow&&!window.oAuthWindow.closed?(this.oAuthWindow=window.oAuthWindow,delete window.oAuthWindow,this.oAuthWindow.location.replace(this.props.url)):this.oAuthWindow=window.open(this.props.url,"authorizeWindow",`width=${e}, height=${t}, top=${a}, left=${s}`),this.oAuthWindow.focus&&this.oAuthWindow.focus()}),this.oAuthWindow=null}componentDidMount(){this.props.provider&&this.openOAuthWindow()}componentWillUnmount(){window[u.Ic]=void 0,this.oAuthWindow.close&&(this.oAuthWindow.close(),this.oAuthWindow=null)}componentDidUpdate(e){this.props.provider&&(this.oAuthWindow&&!this.oAuthWindow.closed?e.url!==this.props.url&&(this.oAuthWindow.location.replace(this.props.url),this.oAuthWindow.focus&&this.oAuthWindow.focus()):(window[u.Ic]=void 0,this.openOAuthWindow()))}render(){return null}}n()(g,"contextTypes",{intl:l.intlShape.isRequired,config:c.a.object});t.default=Object(d.connect)(e=>{const t=(0,Object(_.b)(e).getSocialAccountSelectors)().getAuthWindowData();return{url:t.url,provider:t.provider}},e=>({onConnectSuccess:t=>e(Object(m.m)(t)),onConnectFail:t=>e(Object(m.l)(t))}))(g)},function(e,t,s){"use strict";e.exports={className:{default:{settingsGearIcon:"D_F",label:"D_n N_fq7 u_b A_6EqO",settingsLabelIconContainer:"D_F ab_C cdPFi_ZamTeg C_ZamTeg r_P",chevronIcon:"Q_A",menuContainer:"W_3vaYc",menuContainerLazy:"W_3vaYc d_3z5BY D_F ab_C gl_C",menuList:"M_0 P_0 hd_n",menuItemHeader:"M_0 D_F ab_C u_dPo k_w A_6EqO H_72FG P_1EudUu C_Zjpysv m_Z12nDQf",menuItem:"M_0 r_BN u_b A_6EqO P_ZCWMI4 i_6FIA C_Zjpysv z_Z12nDQf",menuItemQuickAccess:"r_BN o_A q_ZnkeaL",menuItemFooter:"M_0 u_e69 A_6DUj i_6EqO P_1Eu7sD z_Z12nDQf D_F H_7ceA gl_FM",moreSettingsLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6FIA H_6UbO",feedbackLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3n37k",optOutLink:"C_Z1VRpVF cdPFi_Z1VRpVF C4_Z2aVTcY cdPFi4_Z2aVTcY r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV a_3nyS5 N_6Fd5",promoButton:"M_12Os3M",badgeContainer:"h_Zc8u05",menuLabel:"D_F Q_6Eb4"},"themeMode-MEDIUM":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"themeMode-DARK":{settingsGearIcon:"cdPFi_52qC",label:"C_52qC"},"theme-DEFAULT":{settingsLabelIconContainer:"C4_Z29WjXl cdPFi4_Z29WjXl"},verticalLayout:{settingsLabelIconContainer:"jb_6FIA"},"verticalPreviewPane-false":{label:"cZ1YE9AC_B"},"verticalPreviewPane-true":{label:"cWeabk_B"},hasContactCard:{label:"D_B"},hideFeedbackLink:{feedbackLink:"D_n",optOutLink:"a_3rmNg"}},_key:"Z21qKcY"}},,,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return g});s(8);var a=s(1),n=s.n(a),r=s(6),i=s(13),o=s.n(i),c=s(679),d=s.n(c),l=s(431),u=s(12),_=s(16),m=s(5);const p=o()(d.a),h=Object(r.defineMessages)({fromLabel:{id:"date_range_picker.from_date_label",defaultMessage:"From"},toLabel:{id:"date_range_picker.to_date_label",defaultMessage:"To"}});class g extends n.a.Component{constructor(){super(),this.state={editLeft:!1,editRight:!1}}handleStateChange(e){const t=this.state.editLeft||this.state.editRight;this.setState(e,()=>{const e=this.state.editLeft||this.state.editRight;!t&&e?this.props.disableErrors():t&&!e&&this.props.enableErrors()})}handleDatePickerChange({startDate:e=this.props.startDate,endDate:t=this.props.endDate}=this.props){this.props.onChange(e,t)}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.endDate,a=t.datePickerWidth,r=t.useISODateFormat;return n.a.createElement("div",{className:p.dateWrapper},n.a.createElement("span",{className:p.datepicker,style:a?{width:`${a}px`}:null},n.a.createElement(l.a,{zAltitude:u.ZIndices.OVERLAY,value:t.startDate,label:e(h.fromLabel),onChange:e=>this.handleDatePickerChange({startDate:e}),disabled:this.props.disabled,onStartEdit:()=>this.handleStateChange({editLeft:!0}),onDoneEdit:()=>this.handleStateChange({editLeft:!1}),onInvalidDateEntered:e=>this.props.onInvalidDateEntered({startDate:e}),useISODateFormat:r})),n.a.createElement("span",null,n.a.createElement(_.b,{size:m.d.XS,kind:m.b.ARROW_UP,rotate:m.c.D90,colorState:"FIRST_LEVEL_GRAY"})),n.a.createElement("span",{className:p.datepicker,style:a?{width:`${a}px`}:null},n.a.createElement(l.a,{zAltitude:u.ZIndices.OVERLAY,value:s,label:e(h.toLabel),onChange:e=>this.handleDatePickerChange({endDate:e}),disabled:this.props.disabled,onStartEdit:()=>this.handleStateChange({editRight:!0}),onDoneEdit:()=>this.handleStateChange({editRight:!1}),onInvalidDateEntered:e=>this.props.onInvalidDateEntered({endDate:e}),useISODateFormat:r})))}}g.contextTypes={intl:r.intlShape.isRequired},g.defaultProps={onInvalidDateEntered:()=>{},useISODateFormat:!1}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(1),i=s.n(r),o=s(8),c=s(704),d=s.n(c),l=s(15),u=s(11),_=s(0),m=s(6),p=s(138);const h=({relationshipHistory:e,isBusiness:t,isEnabled:s,onContactClick:a},r)=>{if(!s||t||!e)return null;const o=e.prose;if(!o||0===o.length)return null;const c=r.getCss(d.a);return i.a.createElement("div",{className:c.contactSummary,"data-test-id":"contact-card-summary"},o.map((e,t)=>{const s={},r=e.name,o=void 0===r?"":r;return"contact"===e.type&&"you"!==o&&(s.className=c.contact,s.onClick=a.bind(void 0,e)),i.a.createElement("span",n()({"data-test-id":`summary-part-${t}`,key:t},s),o||e||"")}))};h.defaultProps={isBusiness:!1},h.contextTypes={intl:m.intlShape,getCss:o.func,getThemeMode:o.func,getTheme:o.func};t.a=Object(l.connect)(e=>{return{isEnabled:(0,Object(u.b)(e).isFeatureEnabled)(_.ub.CONTACT_SUMMARY)}},e=>({onContactClick:({name:t,smtp:s})=>e(Object(p.u)({smtp:s,name:t}))}))(h)},function(e,t,s){"use strict";var a=s(1),n=s.n(a),r=s(8),i=s.n(r),o=s(705),c=s.n(o),d=s(65),l=s(0),u=s(6),_=s(11),m=s(7),p=s(15);const h=(e,t)=>{const s=e.showVigLink,a=e.email,r=e.id,i=e.website,o=e.sectionValue,l=e.redirectToAffiliateLink,u=e.showPriceGrabberWrapperLink,_=t.getCss(c.a,{websiteLinked:s||u});return n.a.createElement("div",{className:_.leftColElement},n.a.createElement("div",{title:s||u?i:null,className:_.avatarContainer,onClick:e=>{(s||u)&&l(e,m.e.CONTACT_CARD_AVATAR_CLICKED,o)},"data-test-id":"contact-card-avatar"},n.a.createElement(d.d,{contact:{email:a,id:r},size:d.c.L})))};h.contextTypes={intl:u.intlShape,getCss:i.a.func,getThemeMode:i.a.func,getTheme:i.a.func};t.a=Object(p.connect)((e,{website:t,isBusiness:s})=>{const a=Object(_.b)(e),n=a.isFeatureEnabled,r=(0,a.getSetting)(l.zd.VIGLINK_BLACKLIST);return{showPriceGrabberWrapperLink:s&&t&&n(l.ub.ENHANCE_CONTACT_CARD)&&n(l.ub.PRICE_GRABBER_WRAPPER_LINK),showVigLink:n(l.ub.VIGLINK)&&s&&t&&!r.some(e=>-1!==t.toLowerCase().indexOf(e))}})(h)},function(e,t,s){"use strict";var a=s(1),n=s.n(a),r=s(8),i=s.n(r),o=s(708),c=s.n(o),d=s(22);const l=({position:e,isInRightRail:t,isMobile:s},a)=>{if(!e)return null;const r=a.getCss(c.a,{darkVariations:Object(d.m)({context:a,includeMedium:!0})&&t,isMobile:s});return n.a.createElement("div",{"data-test-id":"contact-card-position",className:r.position,title:e},e)};l.contextTypes={getCss:i.a.func,getThemeMode:i.a.func,getTheme:i.a.func},l.defaultProps={isInRightRail:!1},t.a=l},function(e,t,s){"use strict";var a=s(1),n=s.n(a),r=s(8),i=s.n(r),o=s(709),c=s.n(o),d=s(0),l=s(6),u=s(11),_=s(7),m=s(15);const p=(e,t)=>{const s=e.showVigLink,a=e.website,r=e.sectionValue,i=e.redirectToAffiliateLink,o=e.showPriceGrabberWrapperLink,d=e.contextOfUse;if(!a)return null;const l=t.getCss(c.a,{websiteLinked:s||o,isEnhancedContactCard:"enhancedContactCard"===(void 0===d?"":d)});return n.a.createElement("div",{title:a,className:l.website,onClick:e=>{(s||o)&&i(e,_.e.CONTACT_CARD_URL_CLICKED,r)}},a.split("://").pop().replace(/\/+$/,""))};p.contextTypes={intl:l.intlShape,getCss:i.a.func,getThemeMode:i.a.func,getTheme:i.a.func};t.a=Object(m.connect)((e,{website:t,isBusiness:s})=>{const a=Object(u.b)(e),n=a.isFeatureEnabled,r=(0,a.getSetting)(d.zd.VIGLINK_BLACKLIST);return{showPriceGrabberWrapperLink:s&&t&&n(d.ub.ENHANCE_CONTACT_CARD)&&n(d.ub.PRICE_GRABBER_WRAPPER_LINK),showVigLink:n(d.ub.VIGLINK)&&s&&t&&!r.some(e=>-1!==t.toLowerCase().indexOf(e))}})(p)},function(e,t,s){"use strict";s.d(t,"a",function(){return _});s(8);var a=s(1),n=s.n(a),r=s(9),i=s(714),o=s.n(i),c=s(13),d=s.n(c),l=s(16),u=s(5);Object(r.c)([u.d.XS,u.d.S]),Object(r.c)([u.a.SUCCESS,u.a.INVERTED]);function _({size:e,title:t,colorState:s}){const a=d()(o.a,{size:e});return n.a.createElement("div",{className:a.wrapper},n.a.createElement("div",{className:a.container,title:t,"aria-label":t},n.a.createElement(l.b,{kind:u.b.REFRESH,size:e,colorState:s})))}_.defaultProps={size:u.d.S,colorState:u.a.SUCCESS}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(718),l=s.n(d),u=s(20),_=s(5),m=s(6),p=s(260),h=s(22);const g=Object(m.defineMessages)({create_new_folder:{id:"create_new_folder",defaultMessage:"Create new folder"},create_folder_label:{id:"create_folder_label",defaultMessage:"New Folder"},create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class E extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{createMode:!1}),n()(this,"enableCreateMode",()=>{this.setState({createMode:!0})}),n()(this,"disableCreateMode",()=>{this.setState({createMode:!1})}),n()(this,"createFolder",({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:0}},t),this.disableCreateMode(),this.props.onCreate({folderName:e,i13nModel:t})}),n()(this,"handleKeyDown",e=>{"Enter"!==e.key||this.state.createMode||(e.stopPropagation(),this.enableCreateMode())}),n()(this,"renderNewFolderButton",e=>{const t=this.context.intl.formatMessage,s=this.context.getThemeMode();return c.a.createElement("div",{"data-iskeynav":!0,onClick:this.enableCreateMode,className:e.newFolderContainer},c.a.createElement(u.a,{kind:_.b.ADD,size:_.d.XS,colorState:s===h.h.LIGHT?_.a.IMPROVED_GRAY_DARK:_.a.INHERITED,"aria-label":t(g.create_new_folder),title:t(g.create_new_folder),paddingLess:!0}),t(g.create_folder_label))})}render(){const e=this.props,t=e.indentation,s=e.fullWidth,a=e.noHoverColor,n=e.whiteBackground,r=e.activeAccountId,i=e.isScrolling,o=this.context.getThemeMode(),d=this.context.getCss(l.a,{indentation:t,fullWidth:s,noHoverColor:a,useDarkVariations:!n&&(o===h.h.DARK||o===h.h.MEDIUM)});return c.a.createElement("div",{className:d.container,onKeyDown:this.handleKeyDown,"data-test-id":"create-folder-container"},this.state.createMode?c.a.createElement(p.a,{onInputSubmit:this.createFolder,onDismiss:this.disableCreateMode,ariaLabel:(0,this.context.intl.formatMessage)(g.create_folder_input_aria_label),indentation:t,isScrolling:i,activeAccountId:r,whiteBackground:n}):this.renderNewFolderButton(d))}}n()(E,"contextTypes",{intl:m.intlShape.isRequired,getCss:i.a.func,getThemeMode:i.a.func}),n()(E,"defaultProps",{fullWidth:!1,noHoverColor:!1,whiteBackground:!1}),t.a=E},function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"a",function(){return o});var a=s(4),n=s.n(a),r=s(2);const i=e=>n()({},e,{type:r.cd}),o=e=>n()({},e,{type:r.bd})},,function(e,t,s){"use strict";s.d(t,"b",function(){return n}),s.d(t,"c",function(){return r}),s.d(t,"a",function(){return i});var a=s(2);function n(e,t){e.dispatch(a.He,t)}function r(e,t){e.dispatch(a.Ie,t)}function i(e,t){e.dispatch(a.Ge,t)}},,function(e,t,s){"use strict";s.d(t,"a",function(){return i});var a=s(57),n=s.n(a),r=s(18);function i(e){0===e.indexOf("mailto:")&&(e=e.substring(7));const t=function(e){if(e&&e.length){const t=e.indexOf("?");if(t>-1&&(e=e.substring(0,t)),e.length){if(0===(e=e.toLowerCase()).indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("ftp://"))return"";if(Object(r.n)(e))return e}}return""}(e),s=e.indexOf("?");s>-1&&(e=e.substring(s+1));const a=n.a.parse(e);return t&&Object.assign(a,{to:t}),["to","cc","bcc"].forEach(e=>{const t=a[e];t&&"string"==typeof t&&(a[e]=[].concat(t))}),["subject","body"].forEach(e=>{const t=a[e];t&&Array.isArray(t)&&(a[e]=t.pop())}),a}},function(e,t,s){"use strict";s.d(t,"a",function(){return i});var a=s(64),n=s(30),r=s(7);function i({type:e,eventData:t}){switch(e){case n.EDITOR_EVENTS.emoji_inserted:a.b.sendI13nModel({i13nModel:{mKey:r.e.EMOJI_ADD,sec:r.g.RTE_TOOLBAR,interactionType:r.d.click,actionData:{emoji:t.emoji.source}}});break;case n.EDITOR_EVENTS.gif_inserted:if(a.b.sendI13nModel({i13nModel:{mKey:r.e.GIF_ADD,sec:r.g.RTE_TOOLBAR,interactionType:r.d.click}}),t.gif.feedbackUrl){const e=new Image;e.crossorigin="anonymous",e.src=t.gif.feedbackUrl}break;case n.EDITOR_EVENTS.gif_removed:a.b.sendI13nModel({i13nModel:{mKey:r.e.GIF_REMOVE,sec:r.g.COMPOSE_MSG,interactionType:r.d.click}});break;case n.EDITOR_EVENTS.gif_resized:a.b.sendI13nModel({setTo:t.size,i13nModel:{mKey:r.e.GIF_CHANGE_SIZE,sec:r.g.COMPOSE_MSG,interactionType:r.d.click}});break;case n.EDITOR_EVENTS.stationery_cleared:a.b.sendI13nModel({i13nModel:{mKey:r.e.COMPOSE_CLEAR_STATIONERY,sec:t.sec,interactionType:r.d.click}});break;case n.EDITOR_EVENTS.default_stationery_cleared:a.b.sendI13nModel({i13nModel:{mKey:r.e.COMPOSE_CLEAR_DEFAULT_STATIONERY,sec:t.sec,interactionType:r.d.click}})}}},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",separator:"m_Z14vXdP M_3HLUz",popoverContent:"P_3Y3Gk"}},_key:"Z1dF06J"}},function(e,t,s){"use strict";var a=s(23),n=s.n(a),r=s(39),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(6),l=s(5),u=s(20),_=s(760),m=s.n(_),p=s(13);const h=s.n(p)()(m.a),g=Object(d.defineMessages)({search_back:{id:"back_to_list_btn_title",defaultMessage:"Back"}}),E=(e,{intl:{formatMessage:t}})=>{let s=e.showText,a=void 0===s||s,r=e.onClick,o=i()(e,["showText","onClick"]);const d=t(g.search_back);return c.a.createElement(u.a,n()({"data-iskeynav":!0,"data-test-id":"toolbar-back-to-list","aria-label":d,title:d,kind:l.b.ARROW_UP,size:l.d.XS,rotate:l.c.D270,onClick:r,colorState:l.a.INHERITED,className:h.backToListButton},o),a&&d)};E.contextTypes={intl:d.intlShape.isRequired},t.a=E},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"Zu2Dt5"}},function(e,t,s){"use strict";var a=s(8),n=s.n(a),r=s(1),i=s.n(r),o=s(781),c=s.n(o);const d=5;class l extends i.a.Component{getActiveStar(e){return i.a.createElement("div",null,i.a.createElement("span",{className:e.activeFullStar},""),i.a.createElement("span",{className:e.activeEmptyStar},""))}getHalfActiveStar(e){return i.a.createElement("div",null,i.a.createElement("span",{className:e.halfActiveEmptyStar},""),i.a.createElement("span",{className:e.halfActiveFullStar},""),i.a.createElement("span",{className:e.halfBorderStar},""))}getInActiveStar(e){return i.a.createElement("div",null,i.a.createElement("span",{className:e.inActiveEmptyStar},""))}getStarElement(e){const t=this.props.value,s={};e<=t-1?s.activeStar=!0:t%1<.5||Math.floor(t)!==e?s.inActiveStar=!0:s.halfStarFormatting=!0;const a=this.context.getCss(c.a,s);return i.a.createElement("span",{className:a.starElement,key:e},s.activeStar&&this.getActiveStar(a),s.halfStarFormatting&&this.getHalfActiveStar(a),s.inActiveStar&&this.getInActiveStar(a))}render(){const e=[];for(let t=0;t<d;t++){const s=this.getStarElement(t);e.push(s)}return i.a.createElement("div",null,e)}}l.defaultProps={value:0},l.contextTypes={getCss:n.a.func},t.a=l},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(13),c=s.n(o),d=s(6),l=s(15),u=s(78),_=s(19),m=s(5),p=s(20),h=s(14),g=s(16),E=s(27),I=s(40),S=s(0),C=s(163),f=s(10),T=s(12),A=s(88),b=s(11),O=s(204),R=s(229),N=s(83),M=s(471),D=s.n(M);const y=Object(d.defineMessages)({clipper_cue:{id:"offer_list_item.clipper_cue",defaultMessage:"Coupons saved to your loyalty card will be automatically applied when you check out at the store."},added:{id:"offer_list_item.added",defaultMessage:"Added"},save:{id:"offer_list_item.save",defaultMessage:"Save"},save_value:{id:"offer_list_item.save_value",defaultMessage:"Save {value}"},save_now:{id:"offer_list_item.save_now",defaultMessage:"Save now"},off:{id:"offer_list_item.off_value",defaultMessage:"off"},coupon:{id:"offer_list_item.coupon",defaultMessage:"Coupon"}});class L extends i.a.Component{constructor(e){super(e),n()(this,"state",{mounted:!1,offerCardState:!1,showQuotientModal:!1}),n()(this,"toggleOfferCardState",()=>{this.setState({offerCardState:!this.state.offerCardState})}),n()(this,"handleQuotientModalClose",()=>{const e=this.props,t=e.clipOffer,s=e.contextOfUse,a=e.linked,n=e.offer,r=e.offerIndexInRow,i=e.offerRowIndex,o=e.retailerId,c=e.search;this.setState({showQuotientModal:!1}),a&&t({contextOfUse:s,retailerId:o,offer:n,offerIndexInRow:r,offerRowIndex:i,search:c})}),n()(this,"renderQuotientModal",e=>i.a.createElement(R.default,{"data-test-id":"quotient-modal",retailerId:e,onSuccess:this.handleQuotientModalClose,onClose:this.handleQuotientModalClose,parentName:"grocerystorelist"})),n()(this,"handleOfferActivate",e=>{e.stopPropagation();const t=this.props,s=t.clipOffer,a=t.contextOfUse,n=t.retailerId,r=t.offer,i=t.offerIndexInRow,o=t.offerRowIndex,c=t.search;t.fetchFromAstra&&!t.linked?this.setState({showQuotientModal:!0}):s({contextOfUse:a,retailerId:n,offer:r,offerIndexInRow:i,offerRowIndex:o,search:c})}),n()(this,"handleImageError",e=>Object(C.a)(e,S.Wc)),n()(this,"_renderAddedOffer",e=>{const t=this.context.intl.formatMessage;return i.a.createElement("div",null,i.a.createElement(_.a,{className:e.buttonClipped,"data-test-id":"offer-list-item-btn-clipped"},i.a.createElement(g.b,{kind:m.b.CHECKMARK,size:m.d.S,colorState:m.a.SECOND_LEVEL_GRAY}),i.a.createElement("span",{className:e.buttonTextUnclipped},t(y.added))))}),n()(this,"_renderYM6AddedOffer",e=>i.a.createElement("div",{className:e.buttonClipped,"data-test-id":"offer-list-item-btn-clipped"},i.a.createElement(g.b,{kind:m.b.CHECKMARK,size:m.d.S,colorState:m.a.SECOND_LEVEL_GRAY}))),n()(this,"_renderSaveValue",(e,t)=>{const s=this.context.intl.formatMessage;return i.a.createElement("div",null,i.a.createElement(_.a,{ref:this.firstOfferRef,className:e.buttonUnclipped,onClick:this.handleOfferActivate,"data-test-id":"offer-list-item-btn"},i.a.createElement(g.b,{kind:m.b.ADD,size:m.d.M,colorState:m.a.SUCCESS}),this.props.discountType===S.Xc.AMOUNT?i.a.createElement("span",{className:e.buttonTextUnclipped},s(y.save),"",i.a.createElement("span",{className:e.buttonTextAmount},t)):i.a.createElement("span",{className:e.buttonTextUnclipped},s(y.save_now))))}),n()(this,"_renderYM6SaveValue",()=>i.a.createElement("div",null,i.a.createElement(p.a,{kind:m.b.ADDATTACHMENT,size:m.d.S,colorState:m.a.GRAD_BLUE,onClick:this.handleOfferActivate}))),n()(this,"_renderOfferValue",(e,t)=>{const s=this.context.intl.formatMessage;return this.props.discountType===S.Xc.AMOUNT?i.a.createElement("div",null,i.a.createElement(_.a,{ref:this.firstOfferRef,className:e.buttonClippedWithValue,"data-test-id":"offer-list-item-btn-clipped"},i.a.createElement("span",{className:e.buttonTextUnclipped},i.a.createElement("span",{className:e.buttonTextAmount},t),"",s(y.off)))):this._renderAddedOffer(e)}),n()(this,"_renderButton",(e,t,s,a)=>{return e===S.Qb.RECOMMENDED_OFFER_CARDS||"SingleStoreSearchAssist"===this.props.contextOfUse?t?this._renderAddedOffer(s):this._renderSaveValue(s,a):this._renderOfferValue(s,a)}),n()(this,"_renderYM6Button",(e,t,s)=>{if(e===S.Qb.RECOMMENDED_OFFER_CARDS||"SingleStoreSearchAssist"===this.props.contextOfUse)return t?this._renderYM6AddedOffer(s):this._renderYM6SaveValue()}),n()(this,"showQuotientClipperCue",()=>{const e=this.props;return e.quotientClipperCueEnabled&&this.state.mounted&&0===e.offerRowIndex&&0===e.offerIndexInRow&&"offersList"===e.contextOfUse}),n()(this,"renderClipperCue",()=>this.showQuotientClipperCue()?i.a.createElement(I.a,{popoverAnchor:this.firstOfferRef.current,align:h.a.CENTER,triggerOn:h.i.MOUNT,permittedArrowDirections:[h.h.DOWN],zAltitude:T.ZIndices.POPOVER.LOW,bg:h.d.GRADIENT,borderRadius:h.e.MEDIUM},i.a.createElement(E.a,{import:"../feature_cue/atoms/text_only_cue",message:y.clipper_cue,cueName:S.ub.QUOTIENT_CLIPPER_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,856))},_moduleResolver:function(){return 856}})):null),n()(this,"renderYM6Design",()=>{const e=this.props,t=e.brandName,s=e.discountType,a=e.imageUrl,n=e.isYM6GroceryEnabled,r=e.offerDescription,o=e.offerValue,d=e.retailerId,l=e.dateDiff,u=void 0===l?"":l,_=e.search,p=e.listContentType,h=e.listFilter,E=e.isActivatedOffer,I=this.context.intl.formatMessage,C=c()(D.a,{isYM6GroceryEnabled:n,expandedCardState:this.state.offerCardState,redExpires:u<=1}),f=_?new RegExp("\\b"+Object(A.a)(_),"ig"):null;return i.a.createElement("div",{"data-test-id":"offer-list-item",className:C.container,onClick:this.toggleOfferCardState},i.a.createElement("div",{className:C.svgStyle},i.a.createElement("img",{className:C.icon,src:a,onError:this.handleImageError}),i.a.createElement("div",{className:C.overlayContainer},i.a.createElement("div",{className:C.overlay}))),i.a.createElement("div",{className:C.cardDetails},i.a.createElement("div",{className:C.saveContainer},i.a.createElement("div",{className:C.save},s===S.Xc.GETXFREE?o:I(y.save_value,{value:o})),i.a.createElement(g.b,{kind:m.b.CIRCLE,size:m.d.XXXS,colorState:m.a.FIRST_LEVEL_GRAY}),i.a.createElement("div",{className:C.coupon},I(y.coupon))),i.a.createElement("div",{className:C.cardTitle},Object(N.c)(t,f,C.highlightedTerm)),i.a.createElement("div",{className:C.cardDescription},Object(N.c)(r,f,C.highlightedTerm)),i.a.createElement("div",{className:C.expires},i.a.createElement(O.a,{type:p,daysUntilExpiry:u}))),this._renderYM6Button(h,E,C,o),this.state.showQuotientModal?this.renderQuotientModal(d):null)}),n()(this,"renderCurrentDesign",()=>{const e=this.props,t=e.brandName,s=e.contextOfUse,a=e.dateDiff,n=e.imageUrl,r=e.isActivatedOffer,o=e.listContentType,d=e.listFilter,l=e.offerDescription,u=e.offerValue,_=e.retailerId,m=e.search,p=c()(D.a,{contextOfUse:s,expandedCardState:this.state.offerCardState}),h=m?new RegExp("\\b"+Object(A.a)(m),"ig"):null;return i.a.createElement("div",{"data-test-id":"offer-list-item",className:p.container,onClick:this.toggleOfferCardState},this.renderClipperCue(),i.a.createElement("div",{className:p.svgStyle},i.a.createElement("img",{className:p.icon,src:n,onError:this.handleImageError})),i.a.createElement("div",{className:p.cardDetails},i.a.createElement("div",{className:p.cardTitle},Object(N.c)(t,h,p.highlightedTerm)),i.a.createElement("div",{className:p.cardDescription},Object(N.c)(l,h,p.highlightedTerm)),"SingleStoreSearchAssist"===s?null:i.a.createElement("div",{className:p.expiryTime},i.a.createElement(O.a,{type:o,daysUntilExpiry:a}))),this._renderButton(d,r,p,u),this.state.showQuotientModal?this.renderQuotientModal(_):null)}),this.firstOfferRef=i.a.createRef()}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){return this.props.isYM6GroceryEnabled?this.renderYM6Design():this.renderCurrentDesign()}}n()(L,"contextTypes",{intl:d.intlShape.isRequired}),n()(L,"defaultProps",{offerIndexInRow:-1,offerRowIndex:-1,quotientClipperCueEnabled:!1});t.a=Object(l.connect)((e,t)=>{const s=Object(b.b)(e),a=s.getRoute,n=s.getActivatedOffersSelectors,r=s.getRetailersSelectors,i=s.isFeatureEnabled,o=(0,s.getOffersSelectors)(),c=o.getOffer,d=o.isOfferActivated,l=n().doesOfferExistInActivatedStore,u=r().isLinkedRetailer,_=t.offerId,m=t.contextOfUse,p=a(),h=Object(f.w)(p),g=Object(f.t)(h),E=Object(f.u)(h),I=Object(f.y)(h)||"",C=u(I),T="SingleStoreSearchAssist"!==m&&E===S.Qb.ACTIVATED_OFFER_CARDS?l(_):d(_),A=c(_),O=i(S.ub.QUOTIENT_CLIPPER_CUE),R=i(S.ub.ENABLE_ASTRA_FOR_GROCERY);return{listContentType:g,listFilter:E,isActivatedOffer:T,isYM6GroceryEnabled:i(S.ub.ENABLE_YM6_GROCERY),offer:A,retailerId:I,quotientClipperCueEnabled:O,fetchFromAstra:R,linked:C}},e=>({clipOffer:t=>e(Object(u.b)(t))}))(L)},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(6),l=s(13),u=s.n(l),_=s(381),m=s.n(_),p=s(42),h=s(0),g=s(16),E=s(5),I=s(19),S=s(48);const C=Object(d.defineMessages)({back_button_title:{id:"oauth_back_button_title",defaultMessage:"Back"},relaunch_button_title:{id:"oauth_relaunch_button_title",defaultMessage:"Relaunch"},cancel_button_title:{id:"oauth_cancel_button_title",defaultMessage:"Cancel"}}),f=u()(m.a);class T extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{errorState:null,accountSyncFailed:this.props.accountSyncFailed,oAuthSuccess:!1}),n()(this,"_getPopupwindow",(e,t,s,a)=>{const n=screen.width/2-s/2,r=screen.height/2-a/2;return window.open(e,t,`width=${s}, height=${a}, top=${r}, left=${n}`)}),n()(this,"_openOAuthWindow",()=>{const e=this.props,t=e.provider,s=e.email,a=t===h.ob.GOOGLE?600:700,n=`https://${window.location.hostname}${e.appRootPath}/oAuth`,r="ycorp"===this.context.partner;return window[h.Ic]=this._handleOAuthResponse,this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,a),this.context.credstoreClient.getAuthorizationURL({provider:t,email:s,redirectUrl:n,isCorpUser:r}).then(({authorizeUrl:e,authorizeURL:a})=>{this.oAuthWindow.location.replace(`${e||a}&${t===h.ob.AOL?"login_id":"login_hint"}=${s}`)})}),n()(this,"_handleOAuthResponse",({status:e,wssid:t,crumb:s})=>{const a=this.props,n=a.onAuthorize,r=a.email,i=a.provider,o=a.onNext,c=a.onCancelAuthorize,d=h.Gb[i]&&h.Gb[i].type||h.i.IMAPIN;window[h.Ic]=void 0,200===(e=parseInt(e,10))?(this.setState({accountSyncFailed:!1,oAuthSuccess:!0}),n({email:r,provider:i,type:d,wssid:t,crumb:s}),o()):this.setState({errorState:e},()=>c({status:e,provider:i,email:r}))}),n()(this,"handleRelaunchClick",e=>{e.preventDefault(),this._openOAuthWindow()}),n()(this,"handleRetry",()=>{const e=this.props,t=e.email,s=e.provider,a=e.onAuthorize,n=e.onNext,r=h.Gb[s]&&h.Gb[s].type||h.i.IMAPIN;this.setState({accountSyncFailed:!1}),a({email:t,provider:s,type:r}),n()}),n()(this,"getErrorMessageBody",e=>{const t=this.props.provider,s=this.context.yahooBrandNameString;switch(e){case 412:return c.a.createElement(d.FormattedMessage,{id:"oauth_error_cancel_permession",defaultMessage:"Account connection cancelled."});case 403:return c.a.createElement(d.FormattedMessage,{id:"oauth_error_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:Object(S.f)(t),nextLine:c.a.createElement("br",null),sign_out:c.a.createElement("a",{className:f.link,target:"_blank",href:h.Gb[t].providerUrl},c.a.createElement(d.FormattedMessage,{id:"oauth_sign_out",defaultMessage:"sign out"}))}});case 503:return c.a.createElement(d.FormattedMessage,{id:"oauth_error_provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please\n                        try to connect your account later.",values:{yahooBrandNameString:s,provider:Object(S.f)(t)}});case 409:return c.a.createElement(d.FormattedMessage,{id:"oauth_error_account_confilict",defaultMessage:"This account is already connected"});default:return c.a.createElement(d.FormattedMessage,{id:"oauth_error_default",defaultMessage:"Unable to add mailbox. Please try again later."})}}),n()(this,"getErrorMessageHeader",e=>{const t=this.props,s=t.email,a=t.provider;switch(e){case 412:return null;case 403:return c.a.createElement(d.FormattedMessage,{id:"oauth_error_different_id_header",defaultMessage:"{email} could not be added",values:{email:s}});case 503:return c.a.createElement(d.FormattedMessage,{id:"oauth_error_provider_not_available_header",defaultMessage:"{provider} not available",values:{provider:Object(S.f)(a)}});case 409:default:return null}}),n()(this,"renderErrorMessage",e=>{const t=this.getErrorMessageHeader(e),s=this.getErrorMessageBody(e);return c.a.createElement("span",null,null===t?null:c.a.createElement("h4",{className:f.errorHeader},t),s)})}componentDidMount(){this.props.accountSyncFailed||this._openOAuthWindow()}componentWillUnmount(){window[h.Ic]=void 0;const e=this.props;this.state.oAuthSuccess&&!this.state.accountSyncFailed&&this.props.handleAddSuccess({provider:e.provider,email:e.email})}render(){const e=this.props,t=e.provider,s=e.onPrevious,a=e.onCancel,n=e.email,r=e.hideCancelButton,i=e.renderTitleComponent,o=e.renderNavComponent,l=this.context.intl.formatMessage,u=this.state,_=u.errorState,m=u.accountSyncFailed,p=_||m,h=c.a.createElement(d.FormattedMessage,{id:"relaunch_window_test",defaultMessage:"Relaunch window"}),T=c.a.createElement("a",{className:f.tryAgain,onClick:this.handleRetry},c.a.createElement(d.FormattedMessage,{id:"oauth_try_again",defaultMessage:"Try again"}));return c.a.createElement("div",{className:f.container},i?i():c.a.createElement("h5",{className:f.titleLabel},c.a.createElement(d.FormattedMessage,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"})),p?c.a.createElement("div",{className:f.errorWrapper},c.a.createElement("div",{className:f.errorIcon},c.a.createElement(g.b,{kind:E.b.EXCLAMATION_ALT,size:E.d.XS,colorState:E.a.WARNING_GRAD_RED})),m?c.a.createElement("span",null,c.a.createElement(d.FormattedMessage,{id:"oauth_error_account_add_failed",defaultMessage:"{email} cannot be added",values:{email:n}}),T):this.renderErrorMessage(_)):null,c.a.createElement("div",{className:f.oAuthHint},c.a.createElement(d.FormattedMessage,{id:"oAuth_signIn_hint",defaultMessage:"A new window should show the {providerName} sign in page.\n                        If you do not see it, check your browser for pop-up blockers.",values:{providerName:Object(S.f)(t)}})),c.a.createElement(d.FormattedMessage,{id:"oAuth_signIn_help",defaultMessage:"Don't see the pop-up window? {link}",values:{link:c.a.createElement("a",{href:"#",className:f.link,onClick:this.handleRelaunchClick},h)}}),o?o({onPrevious:s,onNext:this.handleRelaunchClick}):c.a.createElement("div",{className:f.iconsWrapper},c.a.createElement(I.a,{"data-test-id":"oauth-back-button",className:f.backButton,onClick:s,title:l(C.back_button_title)},c.a.createElement(d.FormattedMessage,{id:"oauth_back_button_label",defaultMessage:"Back"})),c.a.createElement(I.a,{"data-test-id":"oauth-relaunch-button",className:f.primaryButton,onClick:this.handleRelaunchClick,title:l(C.relaunch_button_title)},c.a.createElement(d.FormattedMessage,{id:"oauth_relaunch_button_label",defaultMessage:"Relaunch window"})),r?null:c.a.createElement(I.a,{"data-test-id":"oauth-cancel-button",className:f.cancelButton,onClick:a,title:l(C.cancel_button_title)},c.a.createElement(d.FormattedMessage,{id:"oauth_cancel_button_label",defaultMessage:"Cancel"}))))}}n()(T,"contextTypes",{intl:d.intlShape.isRequired,config:i.a.object,credstoreClient:p.a,partner:i.a.string,yahooBrandNameString:i.a.string}),n()(T,"defaultProps",{onCancelAuthorize:()=>{}}),t.a=T},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(6),_=s(13),m=s.n(_),p=s(381),h=s.n(p),g=s(19),E=(s(42),s(16)),I=s(5),S=s(0),C=s(48),f=s(18),T=s(164),A=s.n(T),b=s(20),O=s(15),R=s(103),N=s(7);const M=Object(u.defineMessages)({default_email_placeholder:{id:"imapin_email_placeholder",defaultMessage:"Email Address"},yahoo_email_placeholder:{id:"imapin_yahoo_email_placeholder",defaultMessage:"name@yahoo.com"},gmail_email_placeholder:{id:"imapin_gmail_email_placeholder",defaultMessage:"name@gmail.com or your custom domain"},outlook_email_placeholder:{id:"imapin_outlook_email_placeholder",defaultMessage:"name@outlook.com"},aol_email_placeholder:{id:"imapin_aol_email_placeholder",defaultMessage:"name@aol.com"},office365_email_placeholder:{id:"imapin_office365_email_placeholder",defaultMessage:"name@domain.onmicrosoft.com"},back_button_title:{id:"imapin_back_button_title",defaultMessage:"Back"},next_button_title:{id:"imapin_next_button_title",defaultMessage:"Next"},cancel_button_title:{id:"imapin_cancel_button_title",defaultMessage:"Cancel"},invalid_email_error:{id:"imapin_invalid_email",defaultMessage:"Invalid email address"},invalid_email_domain:{id:"imapin_invalid_domain",defaultMessage:"Not a valid {providerName} address"},invalid_corp_email:{id:"imapin_corp_email",defaultMessage:"Please enter a valid @verizonmedia.com email address"},clear_input_icon:{id:"imapin_email_input_clear",defaultMessage:"Clear"}});class D extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{accountExist:!1,invalidReason:null,inputText:this.props.email,showClearInputIcon:!!this.props.email}),i()(this,"isStepValid",()=>!!this.props.email),i()(this,"handleGoNext",()=>{const e=this.context.intl.formatMessage,t=this.props,s=t.email,a=t.accounts,n=t.onNext,r=t.provider,i="ycorp"===this.context.partner;Object(f.n)(s)?i&&!Object(f.p)(s)?this.setState({invalidReason:e(M.invalid_corp_email)}):i||Object(C.i)(S.Gb[r],s)?Object(C.b)(a,s)?this.setState({accountExist:!0}):(this.props.authorizeNewAccount({email:s,provider:r}),n()):this.setState({invalidReason:e(M.invalid_email_domain,{providerName:Object(C.f)(r)})}):this.setState({invalidReason:e(M.invalid_email_error)})}),i()(this,"handleChange",e=>{const t=this.state,s=t.invalidReason,a=this.props.onChange;t.accountExist&&this.setState({accountExist:!1}),null!==s&&this.setState({invalidReason:null}),a("email",e)}),i()(this,"handleInputChange",e=>{const t=e.length>0;this.handleChange(e),this.setState({inputText:e,showClearInputIcon:t})}),i()(this,"handleKeydown",e=>{switch(e.key){case S.Lb.ENTER:this.handleGoNext();break;case S.Lb.ARROW_RIGHT:if(this.isCursorEndOfInput(e)){const e=this.getEmailHint(this.state.inputText);e&&(this.setState({inputText:e}),this.handleChange(e))}}}),i()(this,"handleClearInput",()=>{this.setState({inputText:"",showClearInputIcon:!1}),this.handleChange("")}),i()(this,"isCursorEndOfInput",e=>{return e.target.selectionEnd===this.state.inputText.length}),i()(this,"getEmailPlaceHolder",()=>{const e=this.context.intl.formatMessage;switch(this.props.provider){case S.ob.YAHOO:return e(M.yahoo_email_placeholder);case S.ob.GOOGLE:return e(M.gmail_email_placeholder);case S.ob.OUTLOOK:return e(M.outlook_email_placeholder);case S.ob.AOL:return e(M.aol_email_placeholder);case S.ob.OFFICE365:return e(M.office365_email_placeholder);default:return e(M.default_email_placeholder)}}),i()(this,"getEmailHint",e=>{let t=[];const s=e.indexOf("@"),a=e.length;if(-1===s||a-s<2)return"";Object.keys(S.Gb||{}).forEach(e=>{const s=S.Gb[e].domainHints||S.Gb[e].domainCheck;s&&(t=t.concat(s))});const n=e.substr(s+1).toLowerCase(),r=t.find(e=>("@"+e).indexOf("@"+n)>-1);return e+(r?r.substr(a-s-1)+".com":"")})}componentDidMount(){this.refs.selector&&this.refs.selector.focus()}render(){const e=this.context.intl.formatMessage,t=this.context,s=t.partner,a=t.yahooBrandNameString,n=this.context.config,r=n.termsUrl,i=n.privacyUrl,o=m()(h.a,{disabled:!this.isStepValid()}),c=this.props,d=c.email,_=c.provider,p=c.onCancel,S=c.onPrevious,f=c.renderNavComponent,T=c.renderTitleComponent,O=this.state,R=O.accountExist,N=O.invalidReason,D=this.state,y=D.inputText,L=D.showClearInputIcon,v="ycorp"===s;return l.a.createElement("div",{className:o.container},T?T():l.a.createElement("h5",{className:o.titleLabel},l.a.createElement(u.FormattedMessage,{id:"impain_address_text",defaultMessage:"Add mailbox"})),R?l.a.createElement("div",{className:o.errorWrapper},l.a.createElement("div",{className:o.errorIcon},l.a.createElement(E.b,{kind:I.b.EXCLAMATION_ALT,size:I.d.XS,colorState:I.a.WARNING_GRAD_RED})),l.a.createElement(u.FormattedMessage,{id:"imapin_account_exsit_error",defaultMessage:"Your email {email} already exists.\n                              If you deleted the mailbox recently, please wait for a few minutes until the process is complete and try again.",values:{email:l.a.createElement("strong",null,d)}})):null,l.a.createElement("label",{className:o.label,htmlFor:"accountAddress"},l.a.createElement(u.FormattedMessage,{id:"email_address_text",defaultMessage:"Enter your {provider} mail address",values:{provider:_}})),l.a.createElement("div",{className:o.textInput},l.a.createElement(A.a,{"data-test-id":"typeahead-email-input",ref:"selector",maxVisible:10,placeholder:this.getEmailPlaceHolder(),inputValue:y,hintValue:this.getEmailHint(y),onInputChange:this.handleInputChange,onInputKeyDown:this.handleKeydown,inputContainerClassName:o.typeaheadInputContainer,inputClassName:o.typeaheadInput,inputHintClassName:o.typeaheadInputHint,dropDownClassName:o.typeaheadDropDown}),L&&y.length>0?l.a.createElement("div",null,l.a.createElement("span",{className:o.clearIconContainer},l.a.createElement(b.a,{"data-test-id":"clear-button",kind:I.b.CLEAR,size:I.d.XXS,colorState:I.a.FAINT,onClick:this.handleClearInput,title:e(M.clear_input_icon)})),N?l.a.createElement("span",{"data-test-id":"type-ahead-input-error",className:o.errorInvalidReason},N):null):null),l.a.createElement("div",{className:o.hintTop},l.a.createElement(u.FormattedMessage,{id:"imapin_terms_and_policy_hint",defaultMessage:"Sign in to your {providerName} account and give {yahooBrandNameString} permission\n                        to sync your email, calendar, and contacts and treat them in accordance\n                        with the {terms} and {policy}.",values:{providerName:Object(C.f)(_),yahooBrandNameString:a,terms:l.a.createElement("a",{className:o.link,target:"_blank",href:r,rel:"noopener"},l.a.createElement(u.FormattedMessage,{id:"imapin_terms",defaultMessage:"{yahooBrandNameString} Terms",values:{yahooBrandNameString:a}})),policy:l.a.createElement("a",{className:o.link,target:"_blank",href:i,rel:"noopener"},l.a.createElement(u.FormattedMessage,{id:"imapin_policy",defaultMessage:"Privacy Policy"}))}})),l.a.createElement("div",{className:o.hint},l.a.createElement(u.FormattedMessage,{id:"imapin_signout_accounts_hint",defaultMessage:"Note: If you are signed into a different {providerName} account.\n                        Please sign out of all the accounts before adding this mailbox",values:{providerName:_}})),f?f({onCancel:p,onPrevious:S,onNext:this.handleGoNext,isStepValid:this.isStepValid}):l.a.createElement("div",{className:o.iconsWrapper},v?null:l.a.createElement(g.a,{"data-test-id":"imapin-back-button",className:o.backButton,onClick:S,title:e(M.back_button_title)},l.a.createElement(u.FormattedMessage,{id:"imapin_back_button_label",defaultMessage:"Back"})),l.a.createElement(g.a,{"data-test-id":"imapin-next-button",className:o.primaryButton,onClick:this.handleGoNext,disabled:!this.isStepValid(),title:e(M.next_button_title)},l.a.createElement(u.FormattedMessage,{id:"imapin_next_button_label",defaultMessage:"Next"})),l.a.createElement(g.a,{"data-test-id":"imapin-cancel-button",className:o.cancelButton,onClick:p,title:e(M.cancel_button_title)},l.a.createElement(u.FormattedMessage,{id:"imapin_cancel_button_label",defaultMessage:"Cancel"}))))}}i()(D,"contextTypes",{intl:u.intlShape.isRequired,config:c.a.object,partner:c.a.string,yahooBrandNameString:c.a.string}),t.a=Object(O.connect)(void 0,e=>({authorizeNewAccount:t=>e(Object(R.d)(n()({i13nModel:{mKey:N.e.AUTHORIZE_IMAP_ACCOUNT,sec:N.g.SETTINGS_ACCOUNTS_TAB,interactionType:N.d.click}},t)))}))(D)},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(6),l=s(13),u=s.n(l),_=s(848),m=s.n(_),p=s(16),h=s(5),g=s(278),E=s(19),I=s(54);const S=Object(d.defineMessages)({accountNameHint:{id:"confirm_account_name_hint",defaultMessage:"The name shown in emails you send."},accountName:{id:"confirm_account_name_placeholder",defaultMessage:"Your Name"},accountDescriptionHint:{id:"confirm_account_description_hint",defaultMessage:"Name this mailbox."},accountDescription:{id:"confirm_account_description_placeholder",defaultMessage:"Description"},add_confirm:{id:"account_confirm_done",defaultMessage:"Done"}}),C=()=>{};class f extends c.a.Component{constructor(...e){super(...e),n()(this,"state",{sendingName:"",description:""}),n()(this,"handleChange",(e,t)=>{this.setState({[e]:t})}),n()(this,"handleConfirm",()=>{const e=this.props,t=e.onCancel,s=this.state;(0,e.onSubmit)(e.account.id,{sendingName:s.sendingName,description:s.description}),t()})}componentWillReceiveProps(e){e.accountSyncFailed&&this.props.onPrevious()}componentDidMount(){this.props.isSyncing||this.props.handleAddSuccess()}componentWillUnmount(){this.props.isSyncing||this.props.onCancel()}render(){const e=this.state,t=e.sendingName,s=e.description,a=this.props.isSyncing,n=this.context.intl.formatMessage,r=u()(m.a,{isSyncing:a}),i=this.context.mailBrandNameString;return c.a.createElement("div",{className:r.addConfirmWrapper},c.a.createElement("div",{className:r.addConfirmSection},c.a.createElement("h5",{className:r.titleLabel},a?c.a.createElement(I.b,{size:"S"}):c.a.createElement(p.b,{kind:h.b.CAL_ACCEPT,size:h.d.XS,colorState:h.a.SUCCESS}),c.a.createElement("span",{className:r.titleTextWrapper},c.a.createElement(d.FormattedMessage,a?{id:"add_confirm_syn_title",defaultMessage:"Setting up your new mailbox"}:{id:"add_confirm_title",defaultMessage:"Your mailbox has been added"}))),c.a.createElement("div",{className:r.hint},c.a.createElement(d.FormattedMessage,{id:"add_confirm_hint",defaultMessage:"Changes made in {mailBrandNameString} will reflect in other email clients, including mobile apps.",values:{mailBrandNameString:i}})),c.a.createElement("label",{className:r.label,htmlFor:"accountName"},c.a.createElement(d.FormattedMessage,{id:"name_text",defaultMessage:"Your Name"})),c.a.createElement("div",{className:r.textInput},c.a.createElement(g.a,{isClearable:!0,name:"accountName",value:t,hint:n(S.accountNameHint),"aria-label":n(S.accountName),placeholder:n(S.accountName),onChange:e=>this.handleChange("sendingName",e),disabled:a})),c.a.createElement("label",{className:r.label,htmlFor:"description"},c.a.createElement(d.FormattedMessage,{id:"description_text",defaultMessage:"Description"})),c.a.createElement("div",{className:r.textInput},c.a.createElement(g.a,{isClearable:!0,name:"accountName",value:s,hint:n(S.accountDescriptionHint),"aria-label":n(S.accountDescription),placeholder:n(S.accountDescription),onChange:e=>this.handleChange("description",e),disabled:a})),c.a.createElement(E.a,{className:r.confirmButton,onClick:this.handleConfirm,title:n(S.add_confirm)},c.a.createElement("span",null,n(S.add_confirm)))))}}n()(f,"contextTypes",{intl:d.intlShape.isRequired,mailBrandNameString:i.a.string}),n()(f,"defaultProps",{account:null,onCancel:C,onSubmit:C,handleAddSuccess:C,isSyncing:!1}),t.a=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.d(t,"a",function(){return n});var a=s(339);const n=(e=[])=>{let t=null;for(const r of e){var s=r.category;const e=void 0===s?[]:s;for(const s of e){var n=s.name;const e=(void 0===n?"":n).split(">")[0]||"",r=a.f.find(t=>t===e.toLowerCase());if(t&&r&&t!==r)return null;t=r||t}}return t}},,,,,function(e,t,s){"use strict";var a=s(31),n=s.n(a),r=s(23),i=s.n(r),o=s(4),c=s.n(o),d=s(3),l=s.n(d),u=s(106),_=s.n(u),m=s(33),p=s.n(m),h=s(8),g=s.n(h),E=s(1),I=s.n(E),S=s(6),C=s(15),f=s(210),T=s(2);var A=s(19),b=s(174),O=s(5),R=s(14),N=s(16),M=s(27),D=s(53),y=s(55),L=s(40),v=s(45),P=s(0),F=s(7),w=s(64),k=s(22),x=s(18),U=s(41),G=s(10),j=s(12),H=s(62),B=s(63),V=(s(9),s(56)),W=s(11),q=s(42),z=s(58),K=s(153),Z=s(92),Y=s(83),X=s(265),Q=s(51),$=s(766),J=s.n($),ee=s(767),te=s.n(ee),se=s(76),ae=s(47),ne=s(263),re=s(344);const ie=(e,t)=>{const a=e.attachmentTraySize,n=e.previewableInlineAttachmentSize,r=e.attachments,i=e.showAttachmentClip,o=e.rsvpEnabled,c=e.doesAttachmentExistById,d=e.getAttachmentById,l=t.getCss(te.a),u=Object(ae.e)(r,n).map(e=>e.id&&c(e.id)?d(e.id):e);function _(t,s){const a=e.messageGroup.id,n=Object.assign({mKey:F.e.ATTACHMENT_LIGHTBOX_OPEN,sec:F.g.MSG_LIST_MSG,interactionType:s});e.onAttachmentPreviewClick({attachmentId:t,messageGroupId:a,i13nModel:n})}const m=function(){if(o&&u.length&&Object(ae.d)(u[0].type,u[0].subtype)===P.w.SimplifiedTypes.CAL)return u[0]}(),p=m?I.a.createElement(M.a,{import:"../../rsvp_view/index.jsx",eventAttachment:m,messageId:m.id.split(":")[0],compact:!0,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,491))},_moduleResolver:function(){return 491}}):u.map((t,s)=>I.a.createElement("span",{className:l.attachmentItem,key:t.id,"data-test-id":"attachment-item-"+s},I.a.createElement(ne.a,{attachment:t,readOnly:!0,allowDownload:!1,onRemove:()=>{},onClick:_.bind(null,t.id),isPreviewEnabled:!e.isSpam,previewWithoutDownload:!0,smallPreview:!0})));return!i&&!r.length||e.isHovered?u.length?null:I.a.createElement("span",{className:l.accessible,"data-test-id":"accessible-no-attachment"},I.a.createElement(S.FormattedMessage,{id:"msg_no_attachment",defaultMessage:"No attachment"})):I.a.createElement(se.c,{arrowSize:R.b.M,permittedArrowDirections:[R.h.UP,R.h.DOWN],triggerOn:se.b.HOVER_DELAYED,triggerDelayTime:200,triggerOff:se.a.HOVER_OUT,align:R.a.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:j.ZIndices.POPOVER.MEDIUM},I.a.createElement("span",{"data-test-id":"attachment-icon",className:l.attachmentIcon},I.a.createElement(N.b,{kind:u.length?Object(ae.g)(u):O.b.ATTACHMENT,size:O.d.XS,colorState:e.isDarkThemeMode?O.a.FAINT:O.a.DISABLED}),I.a.createElement("span",{className:l.accessible},I.a.createElement(S.FormattedMessage,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),I.a.createElement("div",{"data-test-id":"attachment-popover",className:l.attachmentsPopover},!o&&u.length>a?I.a.createElement("div",{style:{width:60+100*a},className:l.attachmentsCarouselContainer},I.a.createElement(re.b,{itemWidth:100},p)):I.a.createElement("div",{className:m?null:l.attachmentsPopoverContainer},p)))};ie.defaultProps={isHovered:!1,attachmentTraySize:3},ie.contextTypes={getCss:g.a.func,config:g.a.object};var oe=Object(C.connect)(e=>{const t=Object(W.b)(e).getAttachmentsSelectors();return{doesAttachmentExistById:t.doesAttachmentExistById,getAttachmentById:t.getAttachmentById}})(ie),ce=s(13),de=s.n(ce),le=s(770),ue=s.n(le);class _e extends I.a.Component{render(){const e=this.props,t=e.isDarkThemeMode,s=e.isHovered,a=e.couponIconClicked,n=de()(ue.a);return s?null:I.a.createElement("span",{"data-test-id":"coupon-icon-msg-list",className:n.couponIcon,onClick:a},I.a.createElement(N.b,{kind:O.b.SCISSORS,size:O.d.XXS,colorState:t?O.a.FAINT:O.a.DISABLED}),I.a.createElement("span",{className:n.accessible},I.a.createElement(S.FormattedMessage,{id:"message_has_coupon",defaultMessage:"Message has deals"})))}}_e.defaultProps={isHovered:!1};var me=s(771),pe=s.n(me);const he=Object(S.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"},msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"},msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),ge=(e,t)=>{const s=e.isDarkThemeMode,a=t.getCss(pe.a,{isDarkThemeMode:s}),n=t.intl.formatMessage,r=e.isRead,i=e.isReplied,o=e.isForwarded;let c=null;return c=r?e.isHovered?I.a.createElement("span",{className:a.iconContainer},I.a.createElement(N.b,{"data-test-read":r,"data-test-isreplied":i,"data-test-isforwarded":o,kind:O.b.CIRCLE,size:O.d.XS,colorState:O.a.INHERITED}),I.a.createElement("span",{className:a.accessible,"aria-label":n(r?he.msgIsRead:he.msgIsNotRead)})):i?I.a.createElement("span",{className:a.indicator},I.a.createElement(N.b,{"data-test-read":r,"data-test-isreplied":i,"data-test-isforwarded":o,kind:O.b.REPLY,size:O.d.XXXS,colorState:s?O.a.INHERITED:O.a.SECOND_LEVEL_GRAY}),I.a.createElement("span",{className:a.accessible,"aria-label":n(he.msgIsReplied)})):o?I.a.createElement("span",{className:a.indicator},I.a.createElement(N.b,{"data-test-read":r,"data-test-isreplied":i,"data-test-isforwarded":o,kind:O.b.FORWARD,size:O.d.XXXS,colorState:s?O.a.INHERITED:O.a.SECOND_LEVEL_GRAY}),I.a.createElement("span",{className:a.accessible,"aria-label":n(he.msgIsForwarded)})):I.a.createElement("span",{className:a.accessible,"aria-label":n(he.msgIsRead)}):I.a.createElement("span",{className:a.iconContainer},I.a.createElement(N.b,{"data-test-read":r,"data-test-isreplied":i,"data-test-isforwarded":o,kind:O.b.CIRCLE,size:O.d.XS,colorState:s?O.a.SELECTED_DARK_THEME_MODE:O.a.SELECTED}),I.a.createElement("span",{className:a.accessible,"aria-label":n(he.msgIsNotRead)})),I.a.createElement(A.a,{"data-test-id":"icon-btn-read",title:n(e.isRead?he.markAsUnread:he.markAsRead),onClick:e.onClick,onDoubleClick:e.onClick,className:a.readIcon},c)};ge.defaultProps={isHovered:!1,isCompact:!1},ge.contextTypes={intl:S.intlShape,getCss:g.a.func};var Ee=ge,Ie=s(304),Se=s(773),Ce=s.n(Se);const fe=Object(S.defineMessages)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),Te=(e,t)=>{const s=e.searchType===P.td.SUBJECT,a=t.getCss(Ce.a,{isDarkThemeMode:e.isDarkThemeMode}),n=t.intl.formatMessage;return e.showSearch&&e.isHovered?I.a.createElement(A.a,{"data-test-id":"icon-btn-search",title:n(s?fe.searchBySubject:fe.searchByContact),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?a.contactSearchIconCompact:a.searchIcon},I.a.createElement("span",{className:a.iconContainer},I.a.createElement(N.b,{kind:O.b.SEARCH_MINI,size:O.d.XS,colorState:O.a.INHERITED}))):null};Te.defaultProps={isHovered:!1,isCompact:!1},Te.contextTypes={intl:S.intlShape,getCss:g.a.func};var Ae=Te,be=s(370),Oe=s(774),Re=s.n(Oe),Ne=s(25);const Me=(()=>{let e=1;return()=>(e+=1,e%=3)})(),De=Object(S.defineMessages)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}});class ye extends I.a.Component{constructor(e){super(e),this.state={shouldBurst:!1,hasAnimation:e.starredMailEnhanced&&e.starAnimation.timeout>0,messageSize:e.isCompactLayout?null:this.getMessageSize(e.msgListDensity),starSize:e.isCompactLayout?O.d.XS:this.getStarSize(e.msgListDensity),isStarred:this.props.isStarred},this.burstURL={dark:Object(v.a)(e.starAnimation.darkGifURL),light:Object(v.a)(e.starAnimation.lightGifURL)},this.preload(this.burstURL),this.burstOnClick=this.burstOnClick.bind(this)}componentWillReceiveProps(e){this.setState({hasAnimation:e.starredMailEnhanced&&e.starAnimation.timeout>0,messageSize:e.isCompactLayout?null:this.getMessageSize(e.msgListDensity),starSize:e.isCompactLayout?O.d.XS:this.getStarSize(e.msgListDensity)}),!this.state.isStarred&&e.isStarred&&e.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout(()=>{this.setState({shouldBurst:!1})},e.starAnimation.timeout)),this.state.isStarred!==e.isStarred&&this.setState({isStarred:!this.state.isStarred})}preload(e){Object(Ne.d)(Object(v.a)(e.light)),Object(Ne.d)(Object(v.a)(e.dark))}renderStarGif(e,t){const s=t.isDarkThemeMode?this.burstURL.dark:this.burstURL.light;let a=20,n=20,r=0;const i=Me();switch(e){case"S":a=24,n=24,r=2;break;case"M":a=32,n=32,r=6}return I.a.createElement("img",{src:s,style:{transform:`translateZ(${i}px)`,height:`${a}px`,width:`${n}px`,paddingTop:`${r}px`}})}getStarSize(e){if(this.props.starredMailEnhanced)switch(e){case 1:return O.d.XS;case 2:case 3:return O.d.S;default:return O.d.XS}return O.d.XS}getMessageSize(e){if(this.props.starredMailEnhanced)switch(e){case 1:return"XS";case 2:case 3:return"S";default:return""}return""}burstOnClick(e){this.props.onClick(e),!this.state.isStarred&&this.state.hasAnimation?(this.setState({shouldBurst:!0}),this.timeout=setTimeout(()=>{this.setState({shouldBurst:!1})},this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))}render(){const e=this.props.isDarkThemeMode,t=this.props.starredMailEnhanced,s=this.context.getCss(Re.a,{isDarkThemeMode:e,starredMailEnhanced:t,darkStarredMailEnhanced:e&&t,messageSize:this.state.messageSize}),a=this.context.intl.formatMessage;let n=null;if(this.state.shouldBurst&&this.state.hasAnimation)n=this.renderStarGif(this.state.messageSize,this.props);else if(this.props.isStarred)n=I.a.createElement("span",{className:s.iconContainer},I.a.createElement(N.b,{"data-test-starred":this.props.isStarred,kind:O.b.STAR,size:t?this.state.starSize:O.d.XS,colorState:e?O.a.STARRED_DARK:O.a.STARRED}),I.a.createElement("span",{className:s.accessible,"aria-label":a(De.msgIsStarred)}));else if(t){const t=e?O.a.INVERTED_MORE_DIM:O.a.FAINT,r=e?O.a.SMARTVIEW_DARK:O.a.COOL_FAINT;n=I.a.createElement("span",{className:s.iconContainer},I.a.createElement(N.b,{kind:O.b.STAR,size:this.state.starSize,allowPointerEvents:!0,colorState:this.props.isHovered?r:t}),I.a.createElement("span",{className:s.accessible,"aria-label":a(this.state.isStarred?De.msgIsStarred:De.msgIsNotStarred)}))}else n=this.props.isHovered?I.a.createElement("span",{className:s.iconContainer},I.a.createElement(N.b,{kind:O.b.STAR,size:O.d.XS,colorState:O.a.INHERITED}),I.a.createElement("span",{className:s.accessible,"aria-label":a(this.props.isStarred?De.msgIsStarred:De.msgIsNotStarred)})):I.a.createElement("span",{className:s.accessible,"aria-label":a(De.msgIsNotStarred)});return I.a.createElement(A.a,{"data-test-id":"icon-btn-star",title:a(this.props.isStarred?De.markAsUnstarred:De.markAsStarred),onClick:t?this.burstOnClick:this.props.onClick,onDoubleClick:t?this.burstOnClick:this.props.onClick,className:s.starIcon},n)}}ye.defaultProps={isHovered:!1},ye.contextTypes={intl:S.intlShape,getCss:g.a.func};var Le=ye,ve=s(372),Pe=s(373);const Fe=Object(v.a)("/img/discount_light.png"),we=Object(v.a)("/img/discount.png"),ke=()=>{},xe={},Ue=Object(S.defineMessages)({email_aria_label:{id:"email_aria_label",defaultMessage:"{senderNames}'s email"},deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"}}),Ge=_()(()=>{let e;try{e=new MouseEvent("mouseover",{bubbles:!0,cancelable:!0,view:window})}catch(t){(e=document.createEvent("MouseEvent")).initMouseEvent("mouseover",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}document.activeElement.dispatchEvent(e),setTimeout(()=>document.activeElement.dispatchEvent(e),0)},100,{leading:!0});class je extends I.a.Component{constructor(e){super(e),l()(this,"state",{hover:!1,quotientUpsellPill:!1}),l()(this,"handleCheckboxClicked",e=>{const t=this.props.messageGroup;e.preventDefault(),e.stopPropagation(),e.shiftKey?this.props.onShiftClick(t):e.metaKey||e.ctrlKey?this.props.onCtrlClick(t,{interactionType:Object(x.j)(e)}):this.props.onCheckboxClick(t,{interactionType:Object(x.j)(e)})}),l()(this,"handleReadIconClicked",e=>{const t=this.props.messageGroup;e.preventDefault(),e.stopPropagation(),this.props.onReadClick(t,{interactionType:Object(x.j)(e)})}),l()(this,"handleStarIconClicked",e=>{const t=this.props.messageGroup;e.preventDefault(),e.stopPropagation(),this.props.onStarClick(t,{interactionType:Object(x.j)(e)})}),l()(this,"handleDeleteIconClicked",e=>{const t=this.props.messageGroup;e.preventDefault(),e.stopPropagation(),this.props.onDeleteClick(t,{interactionType:Object(x.j)(e)}),Ge()}),l()(this,"handleContactSearchClicked",e=>{const t=this.props.messageGroup;e.preventDefault(),e.stopPropagation(),this.props.onContactSearchClick(t,{interactionType:Object(x.j)(e)})}),l()(this,"handleSubjectSearchClicked",e=>{const t=this.props.messageGroup;e.preventDefault(),e.stopPropagation(),this.props.onSubjectSearchClick(t,{interactionType:Object(x.j)(e)})}),l()(this,"handleOnClick",e=>{const t=this.props,s=t.onClick,a=t.messageGroup,n=t.unusualDiscount,r=t.productCategoryList;if(e.stopPropagation(),e.preventDefault(),n&&this.props.unusualDiscountShown({i13nModel:{mKey:F.e.UNUSUAL_DISCOUNT_MAIL_CLICKED,sec:F.g.MSG_LIST,actionData:{mid:this.props.messageIds,sndr:this.props.domain,reason:{featurefamily:P.sb.IC,featurename:P.ub.UNUSUAL_DISCOUNT_EXISTS}}}}),r.length){const e=F.e.CATEGORY_FOLLOWING_MSG_OPEN,t=F.d.click,s=F.g.MSG_BODY,a={reason:{featurefamily:P.sb.IC,featurename:P.ub.CATEGORY_FOLLOW}};setTimeout(()=>{w.b.sendI13nModel({i13nModel:{mKey:e,interactionType:t,sec:s,actionData:a}})},0)}e.metaKey||e.ctrlKey?this.handleCheckboxClicked(e):e.shiftKey?this.props.onShiftClick(a):s(a,{interactionType:Object(x.j)(e)})}),l()(this,"handleContextMenu",e=>{const t=this.props.messageGroup,s=this.itemRef.getBoundingClientRect();e.preventDefault(),e.stopPropagation(),this.props.onContextMenu(t,{interactionType:Object(x.j)(e)}),this.setState({contextMenuPosition:{x:e.clientX-s.left,y:e.clientY-s.top}})}),l()(this,"handleAccessibilityOnClick",e=>{this.handleOnClick(e)}),l()(this,"handleOnDoubleClick",e=>{const t=this.props,s=t.onDoubleClick,a=t.messageGroup;e.stopPropagation(),e.preventDefault(),e.shiftKey?this.props.onShiftClick(a):s(a,{interactionType:Object(x.j)(e)})}),l()(this,"renderMessageCount",(e,t,s)=>I.a.createElement("span",{"data-test-id":"message-count",className:e>1?t:s,role:"gridcell"},I.a.createElement("span",{className:s,"data-test-id":"accessible-message-count"},I.a.createElement(S.FormattedMessage,{id:"msg_count",values:{messageCount:e},defaultMessage:"{messageCount, plural,\n                                            one {# message}\n                                            other {# messages}\n                                        }"})),e>1?I.a.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},e):null)),l()(this,"renderDraftLabel",(e,t,s)=>I.a.createElement("span",{"data-test-id":"draft-indicator",className:e?t:s},e?I.a.createElement(S.FormattedMessage,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)),l()(this,"renderUnusualDiscount",(e,t)=>I.a.createElement("div",null,I.a.createElement(A.a,{className:e.unusualDiscount},I.a.createElement("div",{className:e.unusualDiscountText},I.a.createElement("img",{className:e.unusualDiscountImg,src:t?Fe:we,"aria-hidden":!0}),I.a.createElement(S.FormattedMessage,{id:"coupon_card.unusualDiscount",defaultMessage:"Unusual discount"}))))),l()(this,"openQuotientModal",e=>{e.preventDefault(),e.stopPropagation(),this.props.openLinkModal({retailerId:this.props.quotientRetailerId,parentName:"msglist",i13nModel:{mKey:F.e.QTNTVIEW_MESSAGELIST,sec:F.g.QUOTIENT,actionData:{reason:{featurefamily:P.sb.IC,featurename:P.ub.QUOTIENT,upselltype:"msglist",retailername:this.props.quotientRetailerName,actiontype:"click",origin:"msglist"}}}})}),l()(this,"renderQuotientUpsellPill",(e,t)=>(this.setState({quotientUpsellPill:!0}),I.a.createElement("div",null,I.a.createElement(A.a,{className:e.quotientUpsell,onClick:this.openQuotientModal},I.a.createElement("div",{className:e.quotientUpsellText},I.a.createElement(N.b,{kind:O.b.BASKET,size:O.d.XXS,colorState:t?O.a.WHITE:O.a.DARK}),"",I.a.createElement(S.FormattedMessage,{id:"coupon_card.quotient_upsell",defaultMessage:"Save on groceries"})))))),l()(this,"renderCategoryFollowing",()=>{const e=this.props,t=e.productCategoryList;return t.length?I.a.createElement(M.a,{import:"../../category_following",contextOfUse:"messageList",messageGroupId:e.messageGroupId,categoriesList:t,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,859))},_moduleResolver:function(){return 859}}):null}),l()(this,"renderSubject",(e,t,s)=>I.a.createElement("span",{"data-test-id":"message-subject",className:s.subject,onClick:this.handleAccessibilityOnClick,role:"gridcell",title:Object(Y.e)(e)},e?Object(Y.b)(e,t,s.highlightedTerm):I.a.createElement("span",null,I.a.createElement("span",null,"("),I.a.createElement("span",{className:s.noSubject},I.a.createElement(S.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),I.a.createElement("span",null,")")))),l()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),l()(this,"selectCueToRender",(e,t,s)=>I.a.createElement("div",null,this.props.showInboxCouponsCue?this.renderCue({align:R.a.START,subject:e,highlightSearchTerm:t,classNames:s,cueName:P.ub.INBOX_COUPONS_CUE}):null)),l()(this,"renderCue",({align:e=R.a.CENTER,subject:t,highlightSearchTerm:a,classNames:n,cueName:r,bgValue:o=R.d.DEFAULT,useBrandName:d=!1,props:l={}})=>{let u;const _=c()({},l,{cueName:r,fromName:d?this.props.fromName:"",cardConversationId:this.props.cardConversationId,onShow:this.updateContent});switch(r){case P.ub.INBOX_COUPONS_CUE:u=I.a.createElement(M.a,i()({import:"../../inbox_coupons_cue"},_,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1221))},_moduleResolver:function(){return 1221}}))}return I.a.createElement(y.a,null,I.a.createElement(D.a,null,this.renderSubject(t,a,n)),I.a.createElement(L.a,{align:e,overflowScroll:!1,triggerOn:R.i.MOUNT,permittedArrowDirections:[R.h.UP],zAltitude:j.ZIndices.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},bg:o,persistent:!0},u))}),l()(this,"onContextMenuHide",()=>{this.setState({showContextMenu:!1})}),l()(this,"renderMessageDestinationLabel",e=>{switch(this.props.messageDestinationLabel){case Q.n.ACCOUNT:return this.renderAccountLabel(e);case Q.n.FOLDER:return this.renderFolderLabel(e);case Q.n.NONE:return null}}),l()(this,"_getLocalisedFolderName",e=>{const t=this.context.intl.formatMessage,s=this.props.getFolderDisplayTypeByFolderId(e.id);return Object(U.n)(t,s)||e.name}),l()(this,"renderAccountLabel",e=>{const t=this.props,s=t.accountDescription,a=t.accountProvider,n=t.messageGroup,r=this.context.intl,i=r.formatMessage,o=r.locale,c=Object(B.e)(n),d=this._getLocalisedFolderName(c);let l,u=xe[o];return u||(u=xe[o]={[P.ob.YAHOO]:i(z.a.yahoo_account_description),[P.ob.YAHOO_SB]:i(z.a.yahoo_account_description),[P.ob.OUTLOOK]:i(z.a.outlook_account_description),[P.ob.AOL]:i(z.a.aol_account_description),[P.ob.GOOGLE]:i(z.a.gmail_account_description),[P.ob.GOOGLE_APP]:i(z.a.gmail_account_description)}),I.a.createElement("div",{className:e.messageDestinationLabel,"data-test-id":"account"},I.a.createElement("span",{title:(l=s||u[a])+"/"+d},l))}),l()(this,"renderFolderLabel",e=>{const t=Object(B.e)(this.props.messageGroup),s=this._getLocalisedFolderName(t);return I.a.createElement("div",{className:e.messageDestinationLabel,title:s,"data-test-id":"folder"},I.a.createElement(Z.a,{folderId:t.id}))}),l()(this,"renderEmailTypeIcon",()=>{const e=this.props,t=e.messageGroup,s=e.attachmentTraySize,a=e.previewableInlineAttachmentSize,n=e.isSpam,r=e.showCouponIcon,i=e.rsvpEnabled,o=e.isCompactLayout,c=e.couponIconClicked,d=Object(B.a)(t),l=!(!Object(B.b)(t)||Object(B.h)(t)&&!(Object(B.h)(t)&&d.length>0)),u=this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging()&&o,_=this.context.getThemeMode()===k.h.DARK;return l?I.a.createElement(oe,{previewableInlineAttachmentSize:a,attachments:d,isHovered:u,isDarkThemeMode:_,onAttachmentPreviewClick:this.props.onAttachmentPreviewClick,messageGroup:t,isSpam:n,attachmentTraySize:s,showAttachmentClip:l,rsvpEnabled:i}):r?I.a.createElement(_e,{isDarkThemeMode:_,isHovered:u,couponIconClicked:c}):void 0}),l()(this,"showExtractedInfo",e=>{const t=this.props,s=t.isCompactLayout,a=t.unusualDiscount,n=t.isBriefView,r=t.showQuotientUpsellPill,i=t.showNudgeToReply,o=!!t.productCategoryList.length,c=["showNudgeToReply","isCategoryFollowingEnabled","showQuotientUpsellPill","unusualDiscount"],d={showNudgeToReply:this.renderNudgeToReply,isCategoryFollowingEnabled:this.renderCategoryFollowing,unusualDiscount:this.renderUnusualDiscount,showQuotientUpsellPill:this.renderQuotientUpsellPill};if((i||o||r&&!s||a)&&(t.snippetsEnabled||!t.isVerticalPreviewPane)){const t=this.context.getThemeMode(),l=t===k.h.DARK||!!n&&t===k.h.MEDIUM,u=(e=>{for(const t of c)if(e[t])return d[t];return ke})({showNudgeToReply:i,isCategoryFollowingEnabled:o,showQuotientUpsellPill:r&&!s,unusualDiscount:!!a});return I.a.createElement("div",{className:s?e.extractedInfoCompact:e.extractedInfo},u(e,l))}return null}),l()(this,"showSnippets",e=>{const t=this.props,s=t.highlightSearchTerm,a=t.messageGroup,n=t.listId,r=t.snippetsEnabled&&!t.isBriefView,i=Object(B.f)(a,{listId:n});return r?I.a.createElement("div",{className:e.snippetContainer,"data-test-id":"snippet"},I.a.createElement("div",{className:e.snippet,onClick:this.handleAccessibilityOnClick,role:"gridcell"},Object(Y.b)(i.snippetWithMatchDelimiter,s,e.highlightedTerm))):null}),l()(this,"renderNudgeToReply",()=>{const e=this.props;return I.a.createElement(ve.a,{messageGroupId:e.messageGroupId,listId:e.listId,messageIds:e.messageIds,messageAgeInDays:e.messageAgeInDays})})}static getDerivedStateFromProps(e){return e.showContextMenu?{showContextMenu:!0}:null}shouldComponentUpdate(e,t){const s=this.props;return!(p()(s.messageGroup,e.messageGroup)&&s.isRead===e.isRead&&s.isStarred===e.isStarred&&s.isReplied===e.isReplied&&s.isForwarded===e.isForwarded&&s.tabIndex===e.tabIndex&&s.snippetsEnabled===e.snippetsEnabled&&s.layout===e.layout&&s.msgListDensity===e.msgListDensity&&s.selected===e.selected&&s.active===e.active&&s.showInboxCouponsCue===e.showInboxCouponsCue&&this.state.hover===t.hover&&this.state.showContextMenu===t.showContextMenu&&s.showNudgeToReply===e.showNudgeToReply)}componentDidUpdate(e){e.unusualDiscount!==this.props.unusualDiscount&&this.props.unusualDiscountShown({i13nModel:{mKey:F.e.UNUSUAL_DISCOUNT,sec:F.g.MSG_LIST,actionData:{mid:this.props.messageIds,sndr:this.props.domain,reason:{featurefamily:P.sb.IC,featurename:P.ub.UNUSUAL_DISCOUNT_EXISTS}}}}),this.props.showQuotientUpsellPill&&!this.state.quotientUpsellPill&&this.props.openLinkModal({i13nModel:{mKey:F.e.QTNTVIEW_MESSAGELIST+"_invoke",sec:F.g.QUOTIENT,actionData:{reason:{featurefamily:P.sb.IC,featurename:P.ub.QUOTIENT,upselltype:"msglist",retailername:this.props.quotientRetailerName,origin:"msglist"}}}})}render(){const e=this.props,t=e.messageGroup,s=e.messageGroupId,a=e.selected,n=e.active,r=e.messageURL,i=e.myAddresses,o=e.highlightSearchTerm,c=e.listId,d=e.layout,l=e.isBriefView,u=e.isCompactLayout,_=e.isConversationMode,m=e.onDragStart,p=e.onDragEnd,h=e.hideSearchIcon,g=e.starRef,E=e.readRef,S=e.senders,C=e.isRead,f=e.isStarred,T=e.isReplied,A=e.isForwarded,O=e.showCouponIcon,R=e.starredMailEnhanced,N=e.starAnimation,M=e.contextMenuEnabled,D=e.msgListDensity,y=e.streamId,L=this.context.intl.formatMessage,v=Object(B.f)(t,{listId:c}),F=v.hasVerifiedMessage,w=d===P.qc.COMPACT_SLIM||d===P.qc.COMPACT_SNIPPET_SLIM,x=d===P.qc.COMPACT_NORMAL||d===P.qc.COMPACT_SNIPPET_NORMAL,U=d===P.qc.COMPACT_RELAXED||d===P.qc.COMPACT_SNIPPET_RELAXED,G=d===P.qc.SLIM&&!w,j=v.hasDraft,V=Object(Y.a)(v.snippetWithMatchDelimiter,o),W=1===t.messages.length,q=this.context.getThemeMode(),z=q===k.h.DARK||!!l&&q===k.h.MEDIUM,Z=this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging(),X=Z&&u,Q=S.map(e=>e.name).join(", "),$=S&&S.length&&Object(H.c)(S),ee=$&&1===$.length&&(!u||1===t.messages.length)&&i&&!h,te=!_&&!u&&!l,se=Z&&te,ae=Object(B.a)(t),ne=this.context.getCss(J.a,{isStarred:f,isRead:C,highlightPosition:V,isCompactLayout:u,layout:d,hasJustOneMessage:W,isCompactSlimLayout:w,isCompactNormalLayout:x,isCompactRelaxedLayout:U,isNonCompactSlimLayout:G,borderless:l,showSubjectSearchAndHovered:se,isCompactHovered:X,isCompactHasEmailTypeIcon:(ae.length>0||O)&&!l&&!Z&&u,darkThemeMode:z}),re=ne.container+(n?" "+ne.active:"")+(a?" "+ne.selected:""),ie=this.state.contextMenuPosition;return I.a.createElement("a",{role:"row","data-test-id":"message-list-item","data-test-active":a,"data-test-starred":f,"data-test-read":C,tabIndex:this.props.tabIndex,"aria-label":L(Ue.email_aria_label,{senderNames:Q}),href:r,onClick:this.handleOnClick,onContextMenu:M?this.handleContextMenu:ke,onDoubleClick:this.handleOnDoubleClick,onMouseOver:()=>{this.state.hover||this.props.isScrolling()||this.props.isDragging()||this.setState({hover:!0})},onMouseLeave:()=>this.setState({hover:!1}),className:re+" message-list-item",onDragStart:m.bind(null,t),onDragEnd:p,rel:"noopener",ref:e=>{this.itemRef=e}},this.state.showContextMenu?this.props.renderContextMenu(y,c,this.onContextMenuHide,ie):null,l?null:I.a.createElement("div",{className:ne.gridB1,draggable:"true"},I.a.createElement("div",{"data-test-id":"icon-btn-checkbox-container",className:ne.check,role:"gridcell",onClick:this.handleCheckboxClicked,onDoubleClick:this.handleCheckboxClicked},I.a.createElement(b.a,{"data-test-id":"icon-btn-checkbox","aria-label":L(a?Ue.deselectionAriaLabel:Ue.selectionAriaLabel),isChecked:!!a,onClick:this.handleCheckboxClicked,onDoubleClick:this.handleCheckboxClicked,isInverted:z,className:ne.checkbox})),F?I.a.createElement(Pe.a,{layoutClassNames:ne}):I.a.createElement("div",{className:ne.readIcon,role:"gridcell",ref:E.bind(null,s)},I.a.createElement(Ee,{isHovered:Z,isRead:C,isReplied:T,isForwarded:A,isDarkThemeMode:z,onClick:this.handleReadIconClicked})),I.a.createElement("div",{className:ne.senders,"data-test-id":"senders"},I.a.createElement(be.a,{isRead:C,senders:S,myAddresses:i,onClick:this.handleAccessibilityOnClick}),X?I.a.createElement(Ae,{isHovered:Z,showSearch:ee,isCompact:u,isDarkThemeMode:z,onClick:this.handleContactSearchClicked}):null,u?this.renderMessageCount(t.messages.length,ne.messageCount,ne.accessible):null,u?this.renderDraftLabel(j,ne.draftIndicator,ne.accessible):null),u?null:I.a.createElement(Ae,{isHovered:Z,showSearch:ee,searchType:P.td.CONTACT,isCompact:u,isDarkThemeMode:z,onClick:this.handleContactSearchClicked})),l?null:I.a.createElement("div",{className:ne.starIcon,role:"gridcell",draggable:"true",ref:g.bind(null,s)},I.a.createElement(Le,{isHovered:Z,isStarred:f,isDarkThemeMode:z,onClick:this.handleStarIconClicked,starredMailEnhanced:R,starAnimation:N,msgListDensity:D,isCompactLayout:u})),I.a.createElement("div",{className:ne.gridB2,draggable:"true"},I.a.createElement("div",{className:ne.message},I.a.createElement("div",{className:ne.subjectContainer},this.props.showInboxCouponsCue&&this.props.cardConversationId?this.selectCueToRender(v.subjectWithMatchDelimiter,o,ne):this.renderSubject(v.subjectWithMatchDelimiter,o,ne),u?null:this.renderMessageCount(t.messages.length,ne.messageCount,ne.accessible),u?null:this.renderDraftLabel(j,ne.draftIndicator,ne.accessible)),I.a.createElement("span",{className:ne.subjectSearchIcon},I.a.createElement(Ae,{isHovered:Z,showSearch:te,searchType:P.td.SUBJECT,isCompact:u,isDarkThemeMode:z,onClick:this.handleSubjectSearchClicked})),u&&this.showExtractedInfo(ne)||this.showSnippets(ne)),!u&&this.showExtractedInfo(ne),this.renderMessageDestinationLabel(ne),I.a.createElement("div",{className:ne.emailTypeIcon,"data-test-id":"attachment-icon-wrapper",role:"gridcell"},l?null:this.renderEmailTypeIcon()),I.a.createElement("span",{className:ne.dateWrapper+" date",style:Z?{display:"none"}:{},role:"gridcell"},I.a.createElement(K.a,{"data-test-id":"date-time-label",date:new Date(1e3*v.date),timezone:this.context.timezone.name})),!l&&!u&&I.a.createElement("div",{className:ne.iconB2,role:"gridcell"},I.a.createElement(Ie.a,{isHovered:Z,isCompact:u,isDarkThemeMode:z,onClick:this.handleDeleteIconClicked}))),!l&&u&&I.a.createElement("div",{className:ne.iconB2,role:"gridcell"},I.a.createElement(Ie.a,{isHovered:Z,isCompact:u,isDarkThemeMode:z,onClick:this.handleDeleteIconClicked})))}}l()(je,"contextTypes",{getCss:g.a.func,getThemeMode:g.a.func,intl:S.intlShape.isRequired,timezone:q.e}),l()(je,"defaultProps",{isScrolling:ke,isDragging:ke,onDragStart:ke,readRef:ke,starRef:ke,renderContextMenu:ke});t.a=Object(C.connect)((e,t)=>{const s=Object(W.b)(e),a=s.getRelevantMessageIdFromMessageGroupId,r=s.getMessagesSelectors,i=s.isFeatureEnabled,o=s.getSetting,c=s.doesMessageGroupIdExist,d=s.getMessageIdsFromMessageGroupId,l=s.getFoldersSelectors,u=s.getCardConversationIdByMessageId,_=s.__patchV2MessageGroupItem__,m=s.getAction,p=s.getCardGroupsSelectors,h=s.getCardMessageToSchemasSelectors,g=s.getCouponsSelectors,E=s.getShopRunnerRetailersSelectors,I=s.getContentProviders,S=s.getRetailersSelectors,C=s.getCategoryFollowingSelectors,f=s.getMessageFlags,A=l().getFolderDisplayTypeByFolderId,b=t.listId,O=t.messageGroupId,R=t.messageGroupListId,N=t.isBriefView,M=Object(V.a)([b]),D=a(O,b),y=r(),L=y.isCoupon,v=y.getFromAddresses,F=y.shouldNudgeToReply,w=i(P.ub.RSVP),k=i(P.ub.CPN_ICON_MSG_LIST),x=c(O)?d(O):[],U=k&&x.some(L),j=o(P.zd.PREVIEWABLE_INLINE_ATTACHMENT_SIZE),H=o(P.zd.PREVIEW_PANE)===P.Rc.RIGHT,q=i(P.ub.STARRED_MAIL_ENHANCED),z=i(P.ub.UNUSUAL_DISCOUNT),K=o(P.zd.STAR_ANIMATION),Z=i(P.ub.MESSAGE_LIST_CONTEXT_MENU)&&!N,Y=m()||{},Q=Y.messageGroupIds;let $=!1;Z&&Y.type===T.dk&&($=Q&&Q.length&&Q[0]===O);const J=g(),ee=J.getUnusualDiscount,te=J.getCouponCategoriesForMessageGroup,se=Object(X.b)(e,{streamId:M,groupId:O,listId:b,relevantMessageId:D,getFoldersSelectors:l}),ae=se.isRead,ne=se.isStarred,re=se.isReplied,ie=se.isForwarded,oe=se.isSpam,ce=se.folderName,de=se.accountProvider,le=se.accountDescription,ue=(0,se.getParticipantsInfo)().senders,_e=void 0===ue?[]:ue,me=_e.length>0?_e[0].name:"",pe=u(D),he=(0,Object(W.b)(e).getEnvironmentSelectors)(),ge=p().getMessageIdsFromCardGroupId,Ee=C().isCategoryFollowed,Ie=ge(pe),Se=h().getSchemas,Ce=Object(G.o)(b),fe=l(),Te=(Ce?(0,fe.getPrimaryFolderTypeByFolderId)(Ce):null)===P.Cb.INBOX,Ae=_({id:O},R||b);let be="",Oe="";if(z){const e=I(),t=e.doesContentProviderExist,s=e.isContentProviderConnected;var Re=(_e.length&&_e[0].email?_e[0].email:"").split("@"),Ne=n()(Re,2)[1];Oe=void 0===Ne?"":Ne;const a=(0,E().getRetailerFromSubdomain)(Oe);if((t(P.W.SHOPRUNNER)&&s(P.W.SHOPRUNNER)||!i(P.ub.MSG_READ_SHOPRUNNER_CARD)||!a)&&Te&&Ie)for(let e=0;e<Ie.length;e++){const t=Se(Ie[e])||[];if(1===t.filter(({type:e})=>e===P.qd.Coupon).length&&t.length&&(be=ee(t[0].id)))break}}let Me="",De="",ye=!1;i(P.ub.MESSAGE_LIST_QUOTIENT_UPSELL)&&Te&&(ye=x.some(e=>{const t=v(e),s=n()(t,1)[0],a=(void 0===s?{}:s).email,r=void 0===a?"":a,i=S(),o=i.getDisplayNameFromRetailerId,c=i.isLinkedRetailer;return Me=(0,i.getRetailerIdFromEmail)(r),De=o(Me),!!Me&&!c(Me)}));let Le=[],ve=!1,Pe=-1;if(i(P.ub.CATEGORY_FOLLOWING)&&Te&&(Le=te(O).filter(e=>Ee(e.id))),i(P.ub.NUDGE_TO_REPLY)){const e=x[x.length-1];if(ve=F(e)&&!f(e).answered){const e=Object(B.f)(Ae,{listId:b});Pe=Math.floor((Date.now()-1e3*e.date)/864e5)}}return{messageGroup:Ae,cardConversationId:pe,fromName:me,rsvpEnabled:w,domain:Oe,previewableInlineAttachmentSize:j,isRead:ae,unusualDiscount:be,isStarred:ne,isReplied:re,isForwarded:ie,accountProvider:de,accountDescription:le,folderName:ce,senders:_e,isSpam:oe,showCouponIcon:U,isVerticalPreviewPane:H,getFolderDisplayTypeByFolderId:A,starredMailEnhanced:q,starAnimation:K,listId:b,streamId:M,contextMenuEnabled:Z,messageIds:x,showContextMenu:$,isRTL:"rtl"===he.getPageDirection(),quotientRetailerId:Me,quotientRetailerName:De,showQuotientUpsellPill:ye,productCategoryList:Le,showNudgeToReply:ve,messageAgeInDays:Pe}},e=>({couponIconClicked:()=>e({type:T.yd,i13nModel:{mKey:F.e.COUPON_ICON_CLICKED,sec:F.g.MSG_LIST}}),unusualDiscountShown:t=>e((e=>c()({},e,{type:T.ml}))(t)),openLinkModal:t=>e(Object(f.b)(t))}))(je)},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=s(8),c=s.n(o),d=s(1),l=s.n(d),u=s(29),_=s(254),m=s.n(_),p=s(13),h=s.n(p),g=s(732),E=s.n(g),I=s(6),S=s(42),C=s(16),f=s(77),T=s(0),A=s(5),b=s(230),O=(s(9),s(27)),R=s(23),N=s.n(R),M=s(152),D=s(19),y=s(20),L=s(117),v=s(733),P=s.n(v),F=s(176),w=s(192),k=s(122);const x=Object(I.defineMessages)({link_text_placeholder:{id:"compose.link_placeholder",defaultMessage:"Display text"},close:{id:"compose.link_close",defaultMessage:"Close"},error_title:{id:"compose.link_error_title",defaultMessage:"Error"},open_link_alert:{id:"compose.link_test_error",defaultMessage:"This link cannot be tested."}}),U="app",G=/^(?:https?|ftp|mailto):(?:\/\/)?/i;class j extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{focusOnLinkInput:!1,saveBtnEnabled:!1,showTestAlert:!1,isTextModified:!1}),i()(this,"saveLink",()=>{let e,t=this.linkInput.value.trim();const s=this.textInput.value.trim();!this.state.isTextModified&&s||(e=s||t.replace(G,"")),G.test(t)||(t="http://"+t),this.props.onSave(e,t)}),i()(this,"handleClose",()=>{this.props.onClose()}),i()(this,"handleKeyDown",e=>{e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),this.saveLink()):"Escape"===e.key&&(e.preventDefault(),this.handleClose())}),i()(this,"toggleTestLink",e=>{this.setState({focusOnLinkInput:e})}),i()(this,"openTestLink",()=>{const e=this.linkInput.value.trim(),t=G.test(e);e.replace(G,"")&&(Object(k.a)(t?e:`http://${e}`)||this.setState({showTestAlert:!0}))}),i()(this,"handleTextInput",()=>{this.state.isTextModified||this.setState({isTextModified:!0})}),i()(this,"handleLinkInput",()=>{const e=this.linkInput.value.trim();this.setState(""===e||"http://"===e?{saveBtnEnabled:!1}:{saveBtnEnabled:!0})}),i()(this,"hideTestAlertDialog",()=>{this.setState({showTestAlert:!1})})}componentDidMount(){const e=this.props.anchorNode,t=Object(w.a)(e,this.dropdown),s=t.left,a=t.top;(a>document.getElementById(U).clientHeight||a<0)&&e.parentNode.scrollIntoView(),Object.assign(this.dropdown.style,{left:s+"px",top:Object(w.a)(e,this.dropdown).top+"px"}),this.timeout=setTimeout(()=>{const e=this.linkInput.value,t=e&&e.trim().length||0;this.linkInput.focus(),this.linkInput.setSelectionRange(t,t)},0)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){const e=this.props,t=e.textInput,s=e.linkInput,a=this.state,n=a.focusOnLinkInput,r=!(s||a.saveBtnEnabled),i=this.context.intl.formatMessage,o=i(x.link_text_placeholder),c=h()(P.a,{saveBtnEnabled:!r,focusOnLinkInput:n}),d=Object(L.getTextDirection)(t||o);return l.a.createElement(M.a,null,l.a.createElement("div",{ref:e=>this.dropdown=e,className:c.container,onKeyDown:this.handleKeyDown,"data-test-id":"hyperlink-plugin"},this.state.showTestAlert?l.a.createElement(F.a,{title:i(x.error_title),message:i(x.open_link_alert),onAccept:this.hideTestAlertDialog}):null,l.a.createElement("div",{className:c.close},l.a.createElement(y.a,{onClick:this.handleClose,kind:A.b.CLOSE,size:A.d.XXS,title:i(x.close),"aria-label":i(x.close)})),l.a.createElement("div",{className:c.item},l.a.createElement("input",N()({ref:e=>this.textInput=e,className:c.textInput,placeholder:i(x.link_text_placeholder),onFocus:this.handleLinkInput,defaultValue:t,onChange:this.handleTextInput},d&&{dir:d}))),l.a.createElement("div",{className:c.item},l.a.createElement("input",{ref:e=>this.linkInput=e,className:c.linkInput,placeholder:"http://www.yahoo.com",onFocus:this.toggleTestLink.bind(this,!0),onBlur:this.toggleTestLink.bind(this,!1),onChange:this.handleLinkInput,defaultValue:s}),l.a.createElement("span",{"data-test-id":"testLinkInput",className:c.testLink,onMouseDown:this.openTestLink},l.a.createElement(I.FormattedMessage,{id:"compose.test_hyperlink",defaultMessage:"Test"}))),l.a.createElement("div",{className:c.item},l.a.createElement(D.a,{onClick:this.saveLink,className:c.button,disabled:r},l.a.createElement(I.FormattedMessage,{id:"compose.save_hyperlink",defaultMessage:"Save"})))))}}i()(j,"contextTypes",{intl:I.intlShape.isRequired});var H=j,B=s(735),V=s.n(B);const W=/^(?:https?|ftp|mailto):/i,q=h()(V.a);var z=class extends l.a.Component{constructor(...e){super(...e),i()(this,"editLink",()=>{this.props.onEdit()}),i()(this,"removeLink",()=>{this.props.onRemove()})}componentDidMount(){const e=this.props.anchorNode,t=Object(w.a)(e,this.container);Object.assign(this.container.style,{left:t.left+"px",top:t.top+"px"})}render(){const e=(this.props.goToLinkValue||"").trim(),t=W.test(e);return l.a.createElement(M.a,null,l.a.createElement("div",{className:q.container,ref:e=>this.container=e},l.a.createElement("div",{className:q.linkWrapper},l.a.createElement(I.FormattedMessage,{id:"compose.link_go_to",defaultMessage:"Go to"}),"",l.a.createElement("span",null,t?l.a.createElement("a",{className:q.link,href:e,rel:"noreferrer",target:"_blank","data-test-id":"anchor"},e):e)),l.a.createElement("div",{"data-test-id":"editControl",className:q.control,onClick:this.editLink},l.a.createElement(I.FormattedMessage,{id:"compose.link_edit",defaultMessage:"Edit"})),l.a.createElement("div",{"data-test-id":"removeControl",className:q.control,onClick:this.removeLink},l.a.createElement(I.FormattedMessage,{id:"compose.link_remove",defaultMessage:"Remove"}))))}},K=s(736),Z=s.n(K),Y=s(21),X=s(30),Q=s(238),$=s.n(Q);const J=h()(Z.a);var ee=class extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{renderGoToLink:!1,renderHyperlinkDropdown:!1,textInput:"",linkInput:"",goToLinkValue:""}),i()(this,"handleClick",e=>{"A"===e.target.nodeName&&-1===e.target.className.indexOf(X.HYPERLINK_PLUGIN_IGNORE_CLASS)?this.props.editor.pushButton("clicklink",e.target):this.hideGoToLink()}),i()(this,"_getFirstCurrentLinkNodes",()=>this._currentLinkNodes[0]),i()(this,"_setCurrentLinkNodes",e=>{this._currentLinkNodes=Array.isArray(e)?e:NodeList.prototype.isPrototypeOf(e)?Array.prototype.slice.call(e):[e]}),i()(this,"createNewLink",e=>{let t=e;const s=t.parentNode;"A"===s.nodeName?t=s:(this.props.editor.pushButton("insertHTML","<a data-tmp>_</a>"),t=s.querySelector("[data-tmp]")),t&&(this._setCurrentLinkNodes(t),this._getFirstCurrentLinkNodes().innerHTML="",this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:t,textInput:t.textContent||"",linkInput:t.hasAttribute("href")?t.getAttribute("href").trim():"http://"}))}),i()(this,"createLinkFromSelection",e=>{let t=e;t.nodeType===Node.TEXT_NODE?"A"!==t.parentNode.nodeName?(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')):t=t.parentNode:"A"!==t.nodeName&&(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')),Object(Y.a)(t,"Cannot find anchor element to create link"),this._setCurrentLinkNodes(t),this.showHyperLinkDropdown()}),i()(this,"showHyperLinkDropdown",()=>{if(!this._currentLinkNodes&&this._currentLinkNodes.length<1)return;let e="";this._getFirstCurrentLinkNodes().hasAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()&&(e=this._getFirstCurrentLinkNodes().getAttribute("href")),this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:this._currentLinkNodes[this._currentLinkNodes.length-1],textInput:this._currentLinkNodes[this._currentLinkNodes.length-1].textContent,linkInput:e})}),i()(this,"hideHyperLinkDropdown",()=>{this.setState({renderHyperlinkDropdown:!1})}),i()(this,"updateLink",(e,t)=>{const s=this.props.editor;if(this.hideHyperLinkDropdown(),!this._currentLinkNodes)return;this.props.editor.focus(),this._getFirstCurrentLinkNodes().focus();const a=window.getSelection(),n=document.createRange();let r;const i=this._currentLinkNodes.length;this._currentLinkNodes.forEach((s,a)=>{(r=document.createElement("a")).innerHTML=a===i-1?$()(e)||s.innerHTML:s.innerHTML||$()(e),r.href=t,s.parentElement.replaceChild(r,s)}),this._currentLinkNodes=null,n.setStartAfter(r),n.setEndAfter(r),a.removeAllRanges(),a.addRange(n),n.collapse(),a.collapseToEnd(),s.contentChanged({type:"link",node:r}),document.execCommand("unlink",!1,!1)}),i()(this,"cancelCreateOrEditLink",()=>{this.hideHyperLinkDropdown(),!this._currentLinkNodes||this._getFirstCurrentLinkNodes().getAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()||this.removeCurrentLinkNodes()}),i()(this,"removeCurrentLinkNodes",()=>{let e;this._currentLinkNodes.filter(e=>this.props.editor.element.contains(e)).forEach(t=>{e=t.parentElement,[].slice.call(t.childNodes).forEach(s=>{!s||s.nodeType===Node.TEXT_NODE&&""===s.textContent||e.insertBefore(s,t)}),e.removeChild(t),e.normalize(),window.getSelection().removeAllRanges();const s=document.createRange();s.setStartAfter(e),s.setEndAfter(e),window.getSelection().addRange(s),window.getSelection().collapseToEnd()}),this._currentLinkNodes=null}),i()(this,"showGoToLink",e=>{this.setState({renderHyperlinkDropdown:!1,renderGoToLink:!0,anchorNode:e,goToLinkValue:e.getAttribute("href")}),this._setCurrentLinkNodes(e)}),i()(this,"hideGoToLink",()=>{this.setState({renderGoToLink:!1})}),i()(this,"editHyperLink",()=>{this.showHyperLinkDropdown()}),i()(this,"removeHyperLink",()=>{this.hideGoToLink(),this.removeCurrentLinkNodes()})}componentWillMount(){this.commands={createlink:{action:()=>{const e=window.getSelection();e.isCollapsed?this.createNewLink(e.anchorNode):this.createLinkFromSelection(e.anchorNode)}},clicklink:{action:(e,t)=>{this.showGoToLink(t)}}}}componentDidUpdate(e){this.props.editor!==e.editor&&this.props.editor.addPlugin({commands:this.commands})}render(){return l.a.createElement("div",{onClick:this.handleClick,className:J.container},this.props.children,this.state.renderHyperlinkDropdown?l.a.createElement(H,{onSave:this.updateLink,onClose:this.cancelCreateOrEditLink,textInput:this.state.textInput,linkInput:this.state.linkInput,anchorNode:this.state.anchorNode}):null,this.state.renderGoToLink?l.a.createElement(z,{onEdit:this.editHyperLink,onRemove:this.removeHyperLink,goToLinkValue:this.state.goToLinkValue,anchorNode:this.state.anchorNode}):null)}},te=s(186),se=s(179);const ae=T.w.Dispositions,ne=()=>{};class re extends l.a.Component{constructor(...e){super(...e),i()(this,"state",{rtePlaceholderVisible:!0,hiddenQuotedText:"",showSendAsAttachmentBtn:!0,hoveredImage:null,imageSize:X.CURRENT_IMAGE_SIZE_STATUS.SMALL}),i()(this,"editorSetup",e=>{const t=e.content,s=e.htmlAnnotations,a=e.undoStack,n=e.redoStack,r=e.initialFocus,i=e.selectedReplySuggestion;if(this.rte||(this.rte=new m.a({element:this.refs.rte,isRich:!0,shouldTabIndent:!0,whitelistedAttributes:["style","size","href","src","face","color"],skippedFromMutationObserver:["data-inlineimagemanipulating"]}),this.rte.undoStack=a,this.rte.redoStack=n,this.rte.undoStack.length&&(this.rte.firstUndoSave=!1),this.rte.addPlugin({commands:{add_attachment:{action:()=>{e.onAttachmentShortcut(e.csid)}}},keydownCommands:{[X.RTEKeyModifier.SPECIAL|X.RTEKeyModifier.SHIFT]:{85:"add_attachment"},[X.RTEKeyModifier.SPECIAL]:{75:"createlink"}}})),t){const e=Object(b.c)(t,s),a=e.nonQuote;this.setState({rtePlaceholderVisible:!1,hiddenQuotedText:e.quote},()=>{(this.props.cursorWithinQuotedText||this.props.autoExpandQuotedText)&&this.state.hiddenQuotedText&&this.expandQuote()}),i&&(this.isListeningForChanges=!0),this.rte.setHTML(a)}else this.isListeningForChanges=!0;this._lazyLoadedPlugins&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins,e),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft(),r&&this.rte.focus(),this.rte.addPlugin({onContentMutated:e=>{this.isListeningForChanges?this.onContentChange("content_mutation",e):this.isListeningForChanges=!0},contentChanged:e=>{e&&e.type&&X.EDITOR_EVENTS[e.type]&&this.onContentChange(e)}})}),i()(this,"onContentChange",e=>{if(this.isListeningForChanges){const t=e=>"string"==typeof e?e:e&&e.type;this.props.onContentChange({format:{richTextMode:this.rte.isRich},caret:this.rte.getCaretCoordinates(),type:t(e),eventData:e&&e.eventData}),this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}}),i()(this,"handleSendAsAttachment",e=>{if(!e)return;const t=e.getAttribute("data-id");t?this.props.onSendAsAttachment(!0,t,null):this.props.onSendAsAttachment(!1,null,Object(f.extractPidFromString)(e.src))}),i()(this,"resizeHoverImage",e=>{this._inlineImagePlugin.resizeHoverImage(e)}),i()(this,"_resizeLinkEnhancerCard",e=>{this._linkEnhancerPlugin.handleResizeCard({newSize:e})}),i()(this,"_removeLinkEnhancerCard",()=>{this._linkEnhancerPlugin.handleRemoveCard()}),i()(this,"_moveLinkEnhancerCard",()=>{this._linkEnhancerPlugin.handleMoveCardToBottom()}),i()(this,"getInnerHtml",()=>this.rte.getRawHTML()),i()(this,"getPlainText",()=>this.rte.getText()),i()(this,"getUndoStack",()=>this.rte.undoStack),i()(this,"getRedoStack",()=>this.rte.redoStack),i()(this,"getRTEDOMNode",()=>Object(u.findDOMNode)(this.rte.element)),i()(this,"getRTEWrappedElement",()=>Object(se.b)(this.rte.element)),i()(this,"getRawMessageContent",()=>this.rte.getRawHTML()+this.state.hiddenQuotedText),i()(this,"containsStationery",()=>!!this._stationeryPlugin&&this._stationeryPlugin.isStationeryUsed()),i()(this,"handleMouseDown",()=>{this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}),i()(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(e)}),i()(this,"handleQuoteExpand",e=>{e.preventDefault(),e.stopPropagation(),this.expandQuote()}),i()(this,"expandQuote",()=>{const e=this.state.hiddenQuotedText;let t="";if(this.props.cepForward){const s=e.indexOf("<div fwdid");if(-1===s)t=e;else{const a=e.indexOf(">",s);t=e.substring(0,s)+e.substring(a+1)}this.props.onExpandQuotedText({csid:this.props.csid})}else t=e;this.isListeningForChanges=!t,this.rte.setHTML(t,{isAppend:!0,skipContentChanged:!0}),this.setState({hiddenQuotedText:""},()=>{this.props.cursorWithinQuotedText&&this.props.restoreCursorPosition(!0)}),this.rte.undoStack.concat(this.rte.redoStack).forEach(e=>{const s=Object(te.getInertElement)(e.html);Object(te.setPurifiedHTML)(s,t,!0),e.html=s.innerHTML}),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft()}),i()(this,"updateImgHoverOverlayProps",e=>{this.setState(n()({showSendAsAttachmentBtn:!1,imageSize:X.CURRENT_IMAGE_SIZE_STATUS.SMALL},e))}),i()(this,"updateCurrentCardState",({newCardSize:e,hoveredCard:t})=>{this.setState({cardSize:e,hoveredCard:t})}),i()(this,"handlePluginsLoaded",e=>{this._lazyLoadedPlugins=e,this.rte&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins)}),i()(this,"_initializeLazyLoadedPlugins",(e,t)=>{const s=e.InlineImagePlugin,a=e.StationeryPlugin,n=e.TableFormatterPlugin;if(this.props.linkEnhancer&&!this._linkEnhancerPlugin&&(this._linkEnhancerPlugin=new(0,e.LinkEnhancerPlugin)({rte:this.rte,overlay:Object(u.findDOMNode)(this.refs.linkEnhancerOverlay),apiClient:this.context.linkEnhancerClient,blacklist:this.props.linkEnhancerUrlBlacklist,enhancedLinks:this.props.enhancedLinks,scrollableArea:this.props.scrollableAreaRef,onCardHovered:this.updateCurrentCardState,context:this.context,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom}),this.rte.addPlugin(this._linkEnhancerPlugin)),this.props.stationery&&!this._stationeryPlugin){const e=t||this.props,s=e.htmlAnnotations,n=e.initialFocus,r=this.props;this._stationeryPlugin=new a({rte:this.rte,htmlAnnotations:void 0===s?[]:s,onThemeChange:r.onStationeryThemeChange,onDefaultThemeChange:r.onStationeryDefaultThemeChange,context:this.context,fontFamily:this.props.composeFontFamily,rtl:r.rtl}),this.rte.addPlugin(this._stationeryPlugin),this._stationeryPlugin.checkAndSetDraft(),!this.containsStationery()&&this.props.canApplyDefaultStationery&&this._stationeryPlugin.update(this.props.getThemeConfig()),n&&this.rte.focus()}this.props.inlineAttachment&&!this._inlineImagePlugin&&(this._inlineImagePlugin=new s({rte:this.rte,getAttachmentInfo:()=>this.props.getAttachments().filter(({disposition:e})=>e===ae.INLINE),onImageRemove:this.props.onImageRemove,onImagePaste:this.props.onImagePaste,updateImgHoverOverlayProps:this.updateImgHoverOverlayProps,_overlay:Object(u.findDOMNode)(this.refs.imageOverlay)}),this._inlineImagePlugin.setScrollableArea(this.props.scrollableAreaRef),this.rte.addPlugin(this._inlineImagePlugin)),this._tableFormatterPlugin||(this._tableFormatterPlugin=new n,this.rte.addPlugin(this._tableFormatterPlugin))}),i()(this,"formatMessage",(e,t={})=>this.context.intl.formatMessage(e,t)),i()(this,"_notifyPlugins",()=>{const e=this.props,t=e.linkEnhancer;e.inlineAttachment&&this._inlineImagePlugin&&(this._inlineImagePlugin.setOverylayNode(Object(u.findDOMNode)(this.refs.imageOverlay)),this._inlineImagePlugin.contentChanged("sethtml")),t&&this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setOverylayNode(Object(u.findDOMNode)(this.refs.linkEnhancerOverlay)),this._linkEnhancerPlugin.contentChanged("sethtml"))})}componentWillMount(){this.isListeningForChanges=!1}componentDidMount(){document.execCommand("enableObjectResizing",!1,"false"),this.editorSetup(this.props)}componentWillReceiveProps(e){if(e.csid!==this.props.csid&&this.editorSetup(e),(e.composeFontSize!==this.props.composeFontSize||e.composeFontFamily!==this.props.composeFontFamily)&&this.rte){const t=this.rte.element.style,s=Object(f.getFontSizeStyle)(e.composeFontSize),a=e.composeFontFamily.replace(/"/g,""),n=Object(se.b)(this.rte.element),r=Object(se.c)(n);if(t.fontSize=s,t.fontFamily=a,n&&!r){const e=n.style;e.fontSize=s,e.fontFamily=a}}this._inlineImagePlugin&&this._inlineImagePlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin.setEnhancedLinks(e.enhancedLinks))}shouldComponentUpdate(e,t){const s=this.props,a=this.state;return e.csid!==s.csid||e.content!==s.content||t.hiddenQuotedText!==a.hiddenQuotedText||t.rtePlaceholderVisible!==a.rtePlaceholderVisible||t.showSendAsAttachmentBtn!==a.showSendAsAttachmentBtn||t.hoveredImage!==a.hoveredImage||t.hoveredCard!==a.hoveredCard||t.imageSize!==a.imageSize||t.cardSize!==a.cardSize||e.contentEditable!==s.contentEditable}componentWillUnmount(){this.rte&&this.rte.destroy()}render(){const e=this.props,t=e.ariaLabel,a=e.kind,n=e.contentEditable,r=e.inlineAttachment,i=e.scrollableAreaRef,o=e.onImageRemove,c=h()(E.a,{kind:a}),d=this.state,u=d.hiddenQuotedText,_=d.showSendAsAttachmentBtn,m=d.imageSize,p=d.cardSize,g={fontFamily:this.props.composeFontFamily,fontSize:Object(f.getFontSizeStyle)(this.props.composeFontSize)};return l.a.createElement("div",{tabIndex:-1,onBlur:this.props.onBlur,"data-test-id":"editorWrapper",className:c.editorWrapper,ref:e=>this.editorWrapper=e},l.a.createElement("div",{className:c.placeholder,"data-test-id":"rte_placeholder"},this.state.rtePlaceholderVisible?l.a.createElement(I.FormattedMessage,{id:"compose.rte_placeholder",defaultMessage:"Write something..."}):null),l.a.createElement(ee,{editor:this.rte},l.a.createElement(O.a,{import:"./editor_plugin_loader.jsx",onLoad:this.handlePluginsLoaded,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1205))},_moduleResolver:function(){return 1205}}),l.a.createElement("div",{className:c.editorContainer,id:"editor-container",ref:"editorContainer"},l.a.createElement("div",{"data-test-id":"rte",role:"textbox",spellCheck:!0,autoCorrect:"off","aria-multiline":!0,contentEditable:n,"aria-label":t,className:"rte "+c.rte,ref:"rte",style:g,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.props.onFocus}),r?l.a.createElement(O.a,{import:"./img_hover_overlay.jsx",ref:"imageOverlay",onload:this._notifyPlugins,overlayType:X.RTEHoverOverlayTypes.IMAGE,onHoverImageRemove:this.removeHoverImage,onImageResize:this.resizeHoverImage,onSendAsAttachment:this.handleSendAsAttachment,showSendAsAttachmentBtn:_,hoveredElement:this.state.hoveredImage,onImageRemove:o,imageSize:m,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:i,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,861))},_moduleResolver:function(){return 861}}):null,this.props.linkEnhancer?l.a.createElement(O.a,{import:"./img_hover_overlay.jsx",onload:this._notifyPlugins,ref:"linkEnhancerOverlay",overlayType:X.RTEHoverOverlayTypes.LINK_ENHANCER_CARD,onCardResize:this._resizeLinkEnhancerCard,onCardRemove:this._removeLinkEnhancerCard,onCardMove:this._moveLinkEnhancerCard,hoveredElement:this.state.hoveredCard,cardSize:p,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:i,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,861))},_moduleResolver:function(){return 861}}):null)),u?l.a.createElement("div",null,l.a.createElement("button",{"data-test-id":"compose-show-quoted-text",onClick:this.handleQuoteExpand,className:c.button},l.a.createElement("span",{className:c.buttonInner},l.a.createElement(C.b,{kind:A.b.CHEVRON_UP,size:A.d.XXS,rotate:A.c.D90,colorState:A.a.DISABLED}),l.a.createElement(I.FormattedMessage,{id:"compose.show_quote",defaultMessage:"Show Original Message"})))):null)}}i()(re,"contextTypes",{config:c.a.object,intl:I.intlShape.isRequired,executeAction:c.a.func,linkEnhancerClient:S.b}),i()(re,"defaultProps",{kind:X.EditorTypes.COMPOSE,onStationeryThemeChange:ne,onStationeryDefaultThemeChange:ne,autoExpandQuotedText:!1,onExpandQuotedText:ne,contentEditable:!0,undoStack:[],redoStack:[],getThemeConfig:ne,getAttachments:()=>[],canApplyDefaultStationery:!1});t.a=re},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(6),l=s(13),u=s.n(l),_=s(793),m=s.n(_),p=s(19),h=s(16),g=s(5),E=s(794),I=s.n(E);class S extends o.Component{render(){const e=this.props,t=e.left,s=e.onClick,a=e.isDisabled,n=u()(I.a,{left:t});return c.a.createElement("div",{className:a?n.disabledContainer:n.container,onClick:s,"data-test-id":"navigate-button",tabIndex:a?-1:0},c.a.createElement(h.b,{kind:g.b.ARROW_UP,size:g.d.S,colorState:a?g.a.DISABLED:g.a.SELECTED,rotate:t?g.c.D270:g.c.D90}))}}S.defaultProps={left:!1,isDisabled:!1};var C=S,f=s(795),T=s.n(f);const A=u()(T.a),b=["SU","M","TU","W","TH","F","SA"];class O extends o.Component{getDayOfWeek(){const e=this.props.date.getDay();return b[e]}getDayOfMonth(){return this.props.date.getDate()}renderInnerBlock(){const e=this.props,t=e.onClick,s=e.isSelected,a=e.date,n=s?A.selectedDayOfMonth:A.day;return c.a.createElement("div",{className:s?A.selectedContainer:A.container,onClick:()=>t(a),"data-test-id":"calendar-day",tabIndex:0},c.a.createElement("div",{className:s?A.selectedDayOfWeek:A.day},this.getDayOfWeek()),c.a.createElement("div",{className:n},this.getDayOfMonth()))}renderWithOuterBlock(){const e=this.props,t=e.onClick,s=e.date;return c.a.createElement("div",{className:A.outerContainer,onClick:()=>t(s),"data-test-id":"calendar-day-outer-container"},this.renderInnerBlock())}render(){return this.props.isSelected?this.renderWithOuterBlock():this.renderInnerBlock()}}O.defaultProps={isSelected:!1};var R=O,N=s(20),M=s(28),D=s(12),y=s(7),L=s(93),v=s(43),P=s(15);s.d(t,"b",function(){return x});const F=u()(m.a),w={margin:`0 ${2*D.GRID_UNIT}px 0 0`},k=6,x=Object(d.defineMessages)({close:{id:"coupon_self_extraction_modal.close",defaultMessage:"Close"},month_0:{id:"coupon_self_extraction_modal.january",defaultMessage:"January"},month_1:{id:"coupon_self_extraction_modal.february",defaultMessage:"February"},month_2:{id:"coupon_self_extraction_modal.march",defaultMessage:"March"},month_3:{id:"coupon_self_extraction_modal.april",defaultMessage:"April"},month_4:{id:"coupon_self_extraction_modal.may",defaultMessage:"May"},month_5:{id:"coupon_self_extraction_modal.june",defaultMessage:"June"},month_6:{id:"coupon_self_extraction_modal.july",defaultMessage:"July"},month_7:{id:"coupon_self_extraction_modal.august",defaultMessage:"August"},month_8:{id:"coupon_self_extraction_modal.september",defaultMessage:"September"},month_9:{id:"coupon_self_extraction_modal.october",defaultMessage:"October"},month_10:{id:"coupon_self_extraction_modal.november",defaultMessage:"November"},month_11:{id:"coupon_self_extraction_modal.december",defaultMessage:"December"},day_0:{id:"coupon_self_extraction_modal.sunday",defaultMessage:"Sunday"},day_1:{id:"coupon_self_extraction_modal.monday",defaultMessage:"Monday"},day_2:{id:"coupon_self_extraction_modal.tuesday",defaultMessage:"Tuesday"},day_3:{id:"coupon_self_extraction_modal.wednesday",defaultMessage:"Wednesday"},day_4:{id:"coupon_self_extraction_modal.thursday",defaultMessage:"Thursday"},day_5:{id:"coupon_self_extraction_modal.friday",defaultMessage:"Friday"},day_6:{id:"coupon_self_extraction_modal.saturday",defaultMessage:"Saturday"}});class U extends c.a.Component{constructor(e){super(e),i()(this,"_stopPropagation",e=>{e.stopPropagation(),e.preventDefault()}),i()(this,"handleClose",(e,{mKey:t=y.e.COUPON_SELF_EXTRACTION_MODAL_CLOSED,sec:s=y.g.COUPON_SELF_EXTRACTION_MODAL}={})=>{const a=this.props,n=a.onClose,r=a.selfExtractionModalClosed;this._stopPropagation(e),r({i13nModel:{mKey:t,sec:s}}),n()}),i()(this,"handleSave",e=>{const t=this.props,s=t.onClose,a=t.extractCouponRequested,n=t.parentMessageId,r={mKey:y.e.COUPON_SELF_EXTRACTION_MODAL_SAVE,sec:y.g.COUPON_SELF_EXTRACTION_MODAL},i=this.state.expiryDate;i.setHours(0),i.setMinutes(0),i.setSeconds(0),this._stopPropagation(e),a({i13nModel:r,messageId:n,description:this.state.value,expiryDate:i.toISOString()}),s()}),i()(this,"handleDescriptionChange",e=>{this.setState({value:e.target.value})}),i()(this,"handleCalendarDayClick",e=>{this.setState({expiryDate:e})}),i()(this,"isBackNavigationDisabled",()=>{const e=this.state,t=e.calendarStartDate;return e.earliestPossibleStartDate.getTime()===t.getTime()}),i()(this,"isForwardNavigationDisabled",()=>{const e=this.state,t=e.calendarStartDate;return e.farthestPossibleStartDate.getTime()<=t.getTime()}),i()(this,"handleNavigate",e=>{const t=this.state.calendarStartDate;t.setDate(e?t.getDate()-k:t.getDate()+k),this.setState({expiryDate:t,calendarStartDate:t})}),i()(this,"getDateString",()=>{const e=this.context.intl.formatMessage,t=this.state.expiryDate;return`${e(x[`day_${t.getDay()}`])}, ${e(x[`month_${t.getMonth()}`])} ${t.getDate()}`}),i()(this,"renderCalendar",()=>{const e=this.state,t=e.expiryDate,s=e.calendarStartDate,a=[],n=[s].concat(Object(v.p)(s,k-1)),r=this.isBackNavigationDisabled(),i=this.isForwardNavigationDisabled();for(let e=0;e<n.length;e++){const s=n[e];a.push(c.a.createElement(R,{key:e,date:s,isSelected:s.getTime()===t.getTime(),onClick:e=>this.handleCalendarDayClick(e)}))}return c.a.createElement("div",{className:F.calendarContainer},c.a.createElement("span",{className:F.subtitle},this.getDateString()),c.a.createElement("div",{className:F.calendarSubcontainer},c.a.createElement(C,{left:!0,isDisabled:r,onClick:()=>{r||this.handleNavigate(!0)}}),a,c.a.createElement(C,{left:!1,isDisabled:i,onClick:()=>{i||this.handleNavigate(!1)}})))});const t=new Date;t.setDate(t.getDate()+1);const s=new Date(t),a=new Date(t);a.setDate(a.getDate()+30),this.state={value:e.description,expiryDate:t,calendarStartDate:t,earliestPossibleStartDate:s,farthestPossibleStartDate:a}}componentDidMount(){this.props.selfExtractionModalOpened({i13nModel:{mKey:y.e.COUPON_SELF_EXTRACTION_MODAL_OPENED,sec:y.g.COUPON_SELF_EXTRACTION_MODAL}})}render(){const e=this.context.intl.formatMessage;return c.a.createElement("div",{className:F.dialog,"data-test-id":"coupons-self-extraction-modal",tabIndex:0},c.a.createElement("div",{className:F.close},c.a.createElement(N.a,{onClick:e=>this.handleClose(e),kind:g.b.CLOSE,size:g.d.XXS,title:e(x.close),"aria-label":e(x.close),"data-test-id":"coupons-self-extraction-close-btn",tabIndex:0})),c.a.createElement("div",{className:F.title,"data-test-id":"coupons-self-extraction-modal-title"},c.a.createElement(d.FormattedMessage,{id:"coupon_self_extraction_modal.title",defaultMessage:"Set expiration date"})),this.renderCalendar(),c.a.createElement("span",{className:F.subtitle,"data-test-id":"coupons-self-extraction-modal-subtitle"},c.a.createElement(d.FormattedMessage,{id:"coupon_self_extraction_modal.subtitle",defaultMessage:"Description"})),c.a.createElement("div",{className:F.inputContainer},c.a.createElement("textarea",{value:this.state.value,className:F.inputField,onChange:this.handleDescriptionChange,"data-test-id":"coupons-self-extraction-modal-description",tabIndex:0})),c.a.createElement("div",{className:F.controls},c.a.createElement(p.a,{onClick:e=>this.handleSave(e),style:w,"data-test-id":"coupons-self-extraction-primary-btn",tabIndex:0},c.a.createElement(d.FormattedMessage,{id:"deal_card.save",defaultMessage:"Save deal"})),c.a.createElement(p.a,{onClick:e=>this.handleClose(e,{i13nModel:{mKey:y.e.COUPON_SELF_EXTRACTION_MODAL_CANCELLED,sec:y.g.COUPON_SELF_EXTRACTION_MODAL}}),kind:M.a.SECONDARY,style:w,"data-test-id":"coupons-self-extraction-secondary-btn",tabIndex:0},c.a.createElement(d.FormattedMessage,{id:"coupon_self_extraction_modal.cancel",defaultMessage:"Cancel"}))))}}i()(U,"contextTypes",{intl:d.intlShape.isRequired});t.a=Object(P.connect)(null,e=>({selfExtractionModalOpened:({i13nModel:t})=>e(n()({},Object(L.r)(),{i13nModel:t})),selfExtractionModalClosed:({i13nModel:t})=>e(n()({},Object(L.q)(),{i13nModel:t})),extractCouponRequested:({messageId:t,description:s,expiryDate:a,i13nModel:r})=>e(n()({},Object(L.l)(),{messageId:t,description:s,expiryDate:a,i13nModel:r}))}))(U)},function(e,t,s){"use strict";var a=s(1),n=s.n(a),r=s(8),i=s.n(r),o=s(706),c=s.n(o),d=s(6),l=s(5),u=s(20),_=s(22);const m=Object(d.defineMessages)({sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"},search:{id:"contact_card.search",defaultMessage:"Search for emails from {name}"},default_contact_name:{id:"contact.unknown_name",defaultMessage:"# Unknown name"}});var p=s(117),h=s(209);const g=()=>{},E=({name:e,onContactNameClick:t,onContactNameDoubleClick:s=g,email:a,isInRightRail:r,isMobile:i,isEnhancedContactCard:o=!1},d)=>{const E=d.intl.formatMessage,I=Object(_.m)({context:d,includeMedium:!0})&&r,S=d.getCss(c.a,{isEnhancedContactCard:o,darkVariations:I,isMobile:i,defaultName:!e&&!a}),C=e||a||E(m.default_contact_name),f="rtl"===Object(p.getTextDirection)(C)?S.rtlIgnoreDirRTL:S.rtlIgnoreDirLTR;return n.a.createElement("div",{className:S.searchSection,"data-test-id":"contact-card-search"},n.a.createElement("div",{"data-test-id":"contact-card-name","data-id":"contact-card-name",className:S.name+" "+f,title:C,onClick:t,onDoubleClick:s},C),o?(()=>n.a.createElement("span",{className:S.groupedIconsSection,onClick:e=>e.stopPropagation()},n.a.createElement("span",{className:S.iconsSection,onClick:t},n.a.createElement(u.a,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:S.searchIcon,title:E(m.search,{name:C}),kind:i?l.b.SEARCH:l.b.SEARCH_MINI,size:i?l.d.S:l.d.XS,colorState:l.a.INHERITED})),n.a.createElement("span",{className:S.partnerIcon},n.a.createElement(h.a,{isOnDarkBackground:I,size:l.d.XS}))))():n.a.createElement("span",{className:S.iconsSection,onClick:t},n.a.createElement(u.a,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:S.searchIcon,title:E(m.search,{name:C}),kind:i?l.b.SEARCH:l.b.SEARCH_MINI,size:i?l.d.S:l.d.XS,colorState:l.a.INHERITED})))};E.contextTypes={intl:d.intlShape,getCss:i.a.func,getThemeMode:i.a.func,getTheme:i.a.func},E.defaultProps={isInRightRail:!1};t.a=E},function(e,t,s){"use strict";var a=s(4),n=s.n(a),r=s(3),i=s.n(r),o=(s(8),s(1)),c=s.n(o),d=s(6),l=s(13),u=s.n(l),_=s(844),m=s.n(_),p=s(845),h=s.n(p);var g=function({step:e,active:t,onClick:s}){const a=u()(h.a,{active:t});return c.a.createElement("li",{className:a.step,onClick:s},e)},E=s(19),I=s(28),S=s(112),C=s(12);const f={height:`${7.5*C.GRID_UNIT}px`,padding:`0 ${5*C.GRID_UNIT}px`},T=u()(m.a);class A extends c.a.Component{constructor(...e){super(...e),i()(this,"state",{currentStep:this.props.startStep}),i()(this,"getMaxStep",()=>c.a.Children.count(this.props.children)),i()(this,"handleSetStep",e=>{const t=this.getMaxStep();e>-1&&e<t&&this.setState({currentStep:e})}),i()(this,"_isCurrentStepValid",()=>{const e=this.refs.step;return!e||"function"!=typeof e.isStepValid||e.isStepValid()}),i()(this,"_beginNavigateToIndex",e=>{(e<this.state.currentStep||this._isCurrentStepValid())&&this.handleSetStep(e)}),i()(this,"handleGotoNext",()=>{this._beginNavigateToIndex(this.state.currentStep+1)}),i()(this,"handleGoToPrevious",()=>{this._beginNavigateToIndex(this.state.currentStep-1)}),i()(this,"renderStep",e=>{const t=this.props,s=t.onCancel,a=!!(e.type&&e.type.prototype&&e.type.prototype.render);return c.a.cloneElement(e,t.showNavigation?a?{ref:"step"}:{}:n()({},a?{ref:"step"}:{},{onPrevious:this.handleGoToPrevious,onNext:this.handleGotoNext,onCancel:s}))}),i()(this,"renderNavButtons",()=>{const e=this.props.onCancel,t=this.getMaxStep();return this.state.currentStep!==t-1?c.a.createElement("div",{className:T.viewActions},c.a.createElement("span",{className:T.btnPrimary},c.a.createElement(E.a,{style:f,"data-test-id":"next",kind:I.a.SECONDARY,onClick:this.handleGotoNext},c.a.createElement(d.FormattedMessage,{id:"wizard_next_btn_text",defaultMessage:"Next"}))),c.a.createElement("span",null,c.a.createElement(E.a,{className:T.btnLink,"data-test-id":"cancel",kind:I.a.ICON,onClick:e},c.a.createElement(d.FormattedMessage,{id:"wizard_cancel_btn_text",defaultMessage:"Cancel"})))):null})}render(){const e=this.getMaxStep(),t=this.state.currentStep,s=this.props,a=s.children,n=s.showNavigation;return c.a.createElement("div",{className:T.wizardContainer},s.showSteps?c.a.createElement("div",{className:T.stepsContainer},c.a.createElement(d.FormattedMessage,{id:"step_label_text",defaultMessage:"Step"}),c.a.createElement("ol",{className:T.steps},Object(S.d)(e).map(e=>c.a.createElement(g,{key:e,step:e+1,active:e===t,onClick:this._beginNavigateToIndex.bind(this,e)})))):null,c.a.createElement("article",null,this.renderStep(a[t])),n?this.renderNavButtons():null)}}i()(A,"defaultProps",{startStep:0,onCancel:function(){},showSteps:!1,showNavigation:!1});t.a=A},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=(s(8),s(1)),i=s.n(r),o=s(384),c=s(0);class d extends Error{constructor(e="",t=""){super(e),this.name="ReactBoundary",this.message=e,this.stack=t}}var l=s(232);t.a=class extends r.Component{constructor(...e){super(...e),n()(this,"state",{hasError:!1})}componentDidCatch(e){try{const t=e.message,s=e.stack;throw new d(void 0===t?"ReactBoundary Error":t,void 0===s?"":s)}catch(e){Object(l.a)(e.message||"",location.href,0,0,e)}if(this.setState({hasError:!0}),!this.props.errorHandler){const e=document.getElementById("ybar");e&&e.parentNode&&e.parentNode.removeChild(e)}}render(){if(!this.state.hasError)return this.props.children;const e=this.props;return i.a.createElement("div",{"data-test-id":"react-error-handler",className:e.className},i.a.createElement(e.errorHandler||o.a,{appName:window.AppBootstrapData.appName,error:{name:c.pb.REACT_ERROR,message:"REACT_ERROR_OCCURED"},hideLogo:!1,logoUrl:e.logoUrl,useThirdGenerationLogo:e.useThirdGenerationLogo,crumb:window.AppBootstrapData.crumb,isRTL:e.isRTL,mailBrandNameString:window.AppBootstrapData.mailBrandNameString}))}}},function(e,t,s){"use strict";var a=s(3),n=s.n(a),r=s(8),i=s.n(r),o=s(1),c=s.n(o),d=s(106),l=s.n(d),u=s(762),_=s.n(u),m=s(0),p=s(12),h=s(6),g=s(20),E=s(5),I=s(22),S=s(54),C=s(11),f=s(15),T=s(142),A=s(763),b=s.n(A),O=s(16),R=s(7),N=s(296);class M extends c.a.Component{constructor(...e){super(...e),n()(this,"onNewsClick",()=>{const e=this.props,t=e.newsArticle;(0,e.breakingNewsClicked)({i13nModel:{mKey:R.e.BREAKING_NEWS_CLICKED,sec:R.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})}),n()(this,"onClose",()=>{const e=this.props,t=e.newsArticle;(0,e.breakingNewsDismissed)({i13nModel:{mKey:R.e.BREAKING_NEWS_DISMISSED,sec:R.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})})}componentDidMount(){const e=this.props,t=e.newsArticle,s=e.breakingNewsRendered;this._breakingNewsRenderedTimer=setTimeout(()=>{s({i13nModel:{mKey:R.e.BREAKING_NEWS_RENDERED,sec:R.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})},0)}componentWillUnmount(){this._breakingNewsRenderedTimer&&clearTimeout(this._breakingNewsRenderedTimer)}render(){const e=this.props,t=e.newsArticle,s=e.isCompactLayout,a=e.breakingNewsVersion===m.B.VERSION_3&&!s,n=this.context.getCss(b.a,{centerAlign:a});return c.a.createElement("div",{"data-test-id":"breaking-news-container",className:n.container},c.a.createElement("div",{className:n.subContainer},c.a.createElement(N.a,{clickUrl:t.clickUrl,onClick:this.onNewsClick}),c.a.createElement("div",{className:n.content},c.a.createElement("a",{rel:"noopener noreferrer",className:n.link,href:t.clickUrl,onClick:this.onNewsClick,target:"_blank",tabIndex:"-1"},c.a.createElement("div",{"data-test-id":"breaking-news-title",className:n.articleTitle},t.title),a||s?null:c.a.createElement("div",{className:n.popoutIcon},c.a.createElement(O.b,{kind:E.b.POP_OUT,size:E.d.XXS,colorState:E.a.INHERITED}))),c.a.createElement("div",{className:n.close,onClick:this.onClose},c.a.createElement(O.b,{kind:E.b.CLOSE,size:E.d.XXS,colorState:E.a.INHERITED})))))}}M.contextTypes={getCss:i.a.func};var D=M;const y={SECTION:"SECTION",ROW:"ROW",AD:"PENCIL"},L=Object(h.defineMessages)({infinite_scroll_messages:{id:"infinite_scroll.messages",defaultMessage:"Messages"},infinite_scroll_scroll_to_top:{id:"infinite_scroll.scroll_to_top_button_title",defaultMessage:"Scroll to top"}}),v=5;function P(e=0,t=0,s=0){return{transform:`translate3d(${e}px, ${t}px, ${s}px)`}}class F extends c.a.Component{constructor(...e){super(...e),n()(this,"setScrollContainer",e=>{this.scrollContainer=e}),n()(this,"_getMeta",({size:e,getHeightForIndex:t,isSectionHeader:s,hasMoreItems:a,contentInsetTop:n,isInvalidItem:r,getIdForIndex:i})=>{const o=Array(e+(a?1:0)+1);let c=n;const d=[],l=[];let u,_=0;for(let n=0;n<e+(a?1:0);n++){const e=i(n),a=s(n);r(e)||(o[_]=c,a&&(void 0!==u&&_-u==1&&(l.pop(),d.pop(),_--),u=_,l.push(_)),0===_&&a||(c+=t(n)),_++),a&&d.push(n)}return o[_]=c,{sectionIndices:d,sectionPositionIndices:l,positions:o,containerHeight:c}}),n()(this,"_getStartItemForScrollTop",e=>{const t=this.props,s=this._getMeta(t).positions;let a=0;for(let n=0;n<t.size;n++)if(s[n]>e){a=n-1;break}return a=Math.max(a,0)}),n()(this,"_getItemsFitToView",({bufferSize:e,size:t},{positions:s},a)=>{const n=this._rectBox.height;let r=0,i=t;for(let e=0;e<t;e++)if(s[e]>a){r=e-1;break}for(let e=r;e<t;e++){if(s[Math.min(e+1,t-1)]>=a+n){i=e+1;break}}return r=Math.max(r-e,0),i=Math.min(i+e,t),this._maxSpread<i-r&&(this._maxSpread=i-r),{start:r,end:i=r+this._maxSpread}}),n()(this,"_scrollToFitCursor",()=>{this.scroller.scrollTop=Math.max(this.state.positions[this.props.cursorIndex]-this._rectBox.height/2,1)}),n()(this,"_handleResize",()=>{this._maxSpread=0,this._onBoundingRectChange()}),n()(this,"_onBoundingRectChange",()=>{const e=this._rectBox.height;if(this.scrollContainer)if(this._rectBox=this.scrollContainer.getBoundingClientRect(),this.scroller.style.height=`${this._rectBox.height-this._getPinnedSectionHeight()}px`,this._rectBox.height!==e){const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.setState(e,this._loadMoreIfNeeded)}else this._loadMoreIfNeeded()}),n()(this,"_loadMoreIfNeeded",()=>{const e=this.props,t=e.size;(this.state.positions[t-e.loadThreshold]||this.state.positions[t])<this._lastScrollTop+this._rectBox.height&&this._loadMore()}),n()(this,"_createBreakingNewsRefreshTimer",()=>{this.breakingNewsRefreshTimer=setTimeout(()=>{this.props.isBreakingNewsDismissed||this.state.dismissBreakingNews||(this.props.onBreakingNewsRefresh(),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=0),this._createBreakingNewsRefreshTimer())},this.props.newsRefreshInterval)}),n()(this,"focusItem",e=>{if(!this.content||!this.content.children)return!1;const t=this.content.children[e-this.state.start];return!!t&&(this.animationFrameIDs.focusItem=requestAnimationFrame(()=>{t.children[0].focus(),t.children[0].setAttribute("tabindex",this.props.groupTabIndex)}),!0)}),n()(this,"_handleFocusPass",e=>{let t;e.preventDefault(),this.props.cursorIndex<0?(this.scroller.scrollTop=0,t=this.props.initialIndexForTab,this.props.selectFirstItem()):(this._scrollToFitCursor(),t=this.props.cursorIndex,this.animationFrameIDs.focusPass=window.requestAnimationFrame(()=>this.focusItem(t)))}),n()(this,"_handleScroll",e=>{e.stopPropagation(),this.animationRequested||this.scroller&&(this._lastScrollTop=this.scroller.scrollTop,this.animationRequested=!0,this.props.onScroll(),this.animationFrameIDs.scroll=window.requestAnimationFrame(()=>{this.animationRequested=!1;const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);e.pinnedSectionIndex=this._getPinnedSectionIndex(this.state.sectionPositionIndices),this.props.newsArticle.title&&!this.state.dismissBreakingNews&&(e.dismissBreakingNews=this.state.pinnedSectionIndex!==e.pinnedSectionIndex),this.state.start===e.start&&this.state.end===e.end&&this.state.pinnedSectionIndex===e.pinnedSectionIndex||this.setState(e),this._loadMoreIfNeeded(),this._styleItems(),this.props.onScrollTopChange(this._lastScrollTop),clearTimeout(this.scrollTopTimeout),this.scrollTopTimeout=setTimeout(()=>{const e=this._scrollPercent();(e<v&&this.goToTop||e>v&&!this.goToTop)&&this.forceUpdate()},100)}))}),n()(this,"_getPinnedSectionIndex",e=>{const t=this._getSectionIndexStatus(e);return t?t.findIndex(e=>e===m.wd.PINNED):0}),n()(this,"_styleStickyHeader",()=>{if(this._lastScrollTop&&!this._stickyHeaderStyled){const e=Object(I.o)(this.context.getTheme())&&this.context.getThemeMode()===I.h.DARK;this.stickyheader.style.boxShadow=e?p.Shadows.BLACK_MED:p.Shadows.MED,this._stickyHeaderStyled=!0}else this._lastScrollTop||(this.stickyheader.style.boxShadow="none",this._stickyHeaderStyled=!1)}),n()(this,"_styleItems",()=>{const e=this.state,t=e.start,s=e.sectionPositionIndices,a=this._stylesForSections(s);this.content&&Array.prototype.forEach.call(this.content.children,(e,s)=>{const a=this._translateForIndex(s+t);Object.assign(e.style,a)}),this.header&&Array.prototype.forEach.call(this.header.children,(e,t)=>{Object.assign(e.style,a[s[t]])}),this.stickyheader&&this._styleStickyHeader()}),n()(this,"_loadMore",()=>{const e=this.props,t=e.onLoadMore,s=this.state;!t||s.loading||!e.hasMoreItems||e.size-s.end>e.loadThreshold||this.setState({loading:!0},t)}),n()(this,"_translateForIndex",e=>P(0,this.state.positions[e])),n()(this,"_getSectionIndexStatus",e=>{const t=Math.floor(m.vd*this._getPinnedSectionHeight());let s=0;for(let a=e.length-1;a>=0;a--){if(this.state.positions[e[a]]<=this._lastScrollTop-t){s=a;break}}return e.map((e,t)=>s===t?m.wd.PINNED:m.wd.FLOW)}),n()(this,"_stylesForSections",e=>{const t=this._getSectionIndexStatus(e),s=this.state.positions,a={};return e.forEach((e,n)=>{let r;switch(t[n]){case m.wd.FLOW:r=P(0,s[e]);break;case m.wd.PINNED:r={display:"none"}}a[e]=Object.assign({zIndex:1},r)}),a}),n()(this,"getRowClass",e=>e.item),n()(this,"renderRow",(e,t,{type:s,translation:a})=>{const n=this.props,r=n.cursorIndex,i=t===r||r<0&&n.initialIndexForTab===t?n.groupTabIndex:-1,o=(0,n.getElementForIndex)(t);if(o)return c.a.createElement("li",{key:t,role:"rowgroup","data-test-id":`infinite-scroll-${s}`,className:e.item,style:a},c.a.cloneElement(o,{tabIndex:i}))}),n()(this,"_getPinnedSectionHeight",()=>{const e=this.state,t=e.sectionIndices,s=e.pinnedSectionIndex;return s>=0&&s<t.length?(0,this.props.getHeightForIndex)(t[s]):0}),n()(this,"_scrollPercent",()=>this.scroller?Math.floor(this.scroller.scrollTop/this.scroller.scrollHeight*100):0),n()(this,"_scrolToTop",()=>{this.scroller&&(this.scroller.scrollTop=0)}),n()(this,"state",Object.assign(this._getMeta(this.props),{loading:!1,pinnedSectionIndex:0,prevSize:0,dismissBreakingNews:!1})),this._handleResizeDebounced=l()(this._handleResize.bind(this),200)}componentWillReceiveProps(e){const t={};Object.assign(t,this._getMeta(e)),Object.assign(t,this._getItemsFitToView(e,t,this._lastScrollTop)),t.pinnedSectionIndex=this._getPinnedSectionIndex(t.sectionPositionIndices),t.loading=this.state.loading&&this.props.size===e.size&&Array.apply(null,{length:this.props.size}).every((t,s)=>this.props.getIdForIndex(s)===e.getIdForIndex(s)),t.prevSize=this.props.size,this.setState(t)}componentWillMount(){let e=0;const t=this.props,s=t.cursorIndex,a=t.initialScrollTop,n=t.initialRenderCount,r=t.size;this._maxSpread=0,this._rectBox={height:0,top:0},this._lastScrollTop=0,this._stickyHeaderStyled=!1,this.animationFrameIDs={},a>0?(this._lastScrollTop=a,e=this._getStartItemForScrollTop(this._lastScrollTop)):s>n&&(e=Math.max(s-(Math.ceil(n/2)-1),0),this._lastScrollTop=this.state.positions[e]),this.setState({start:e,end:Math.min(e+n,r)})}componentDidMount(){const e=this.props,t=e.cursorIndex,s=e.initialRenderCount,a=e.initialScrollTop;if(this._onBoundingRectChange(),a>0)this.scroller.scrollTop=a;else if(t>s)this._scrollToFitCursor();else{const e=this._getItemsFitToView(this.props,this.state,this._lastScrollTop);this.state.start===e.start&&this.state.end===e.end||this.setState(e,()=>{this._styleItems(),this._loadMoreIfNeeded()})}setTimeout(()=>this.focusItem(this.props.cursorIndex)),window.addEventListener("resize",this._handleResizeDebounced),this.scroller.addEventListener("scroll",this._handleScroll),this.props.isBreakingNewsEnabled&&this.stickyheader&&this._createBreakingNewsRefreshTimer()}componentWillUnmount(){clearTimeout(this.scrollTopTimeout),Object.keys(this.animationFrameIDs).forEach(e=>{window.cancelAnimationFrame(this.animationFrameIDs[e])}),this._handleResizeDebounced.cancel(),window.removeEventListener("resize",this._handleResizeDebounced),this.scroller.removeEventListener("scroll",this._handleScroll),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=0)}componentDidUpdate(e){const t=this.props;this.props.layoutKey!==e.layoutKey?this._handleResizeDebounced():this._loadMoreIfNeeded(),(!document.activeElement||document.activeElement===document.body||!function(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.tagName)>=0||"true"===e.getAttribute("contentEditable"))}(document.activeElement)&&document.activeElement.tabIndex!==p.TabIndices.MESSAGE_LIST_MAIN)&&(function({cursorIndex:e,size:t,bufferSize:s},{start:a,end:n}){return n=n===t-1?n:n-s-1,(a=0===a?a:a+s)<e&&e<n}(this.props,this.state)&&t.cursorIndex!==e.cursorIndex||t.getIdForIndex(t.cursorIndex)!==e.getIdForIndex(e.cursorIndex))&&this.focusItem(t.cursorIndex)}render(){const e=this.context.getTheme(),t=this.context.getCss(_.a,{[`theme-${e}`]:!0}),s=this.context.intl.formatMessage,a=this.props,n=a.hasMoreItems,r=a.getElementForIndex,i=a.size,o=a.cursorIndex,d=a.groupTabIndex,l=a.isSectionHeader,u=a.isPencilAd,m=a.getHeightForIndex,p=a.dir,h=a.isBreakingNewsEnabled,I=a.newsArticle,C=a.breakingNewsVersion,f=a.onBreakingNewsDismissed,T=a.onBreakingNewsClicked,A=a.isCompactLayout,b=a.onBreakingNewsRendered,O=this.state,R=O.loading,N=O.start,M=O.end,P=O.sectionIndices,F=O.pinnedSectionIndex,w=O.sectionPositionIndices,k=[];let x=0,U=null,G=null,j=N;const H=this._stylesForSections(w);for(let e=N;e<M;e++)if(e<i){let s,a;if(l(e)?(s=y.SECTION,a=P.indexOf(e)):s=u(e)?y.AD:y.ROW,a<0)continue;const n=this.renderRow(t,a>=0?P[a]:e,{type:s,translation:a>=0?H[w[a]]:this._translateForIndex(j)});n&&(k.push(n),j++)}else k.push(null);const B=w.map((e,s)=>this.renderRow(t,P[s],{type:y.SECTION,translation:H[e]}));return F>-1&&P.length>0&&(x=m(P[F]),U=c.a.createElement("div",{ref:e=>this.stickyheader=e,className:t.stickyHeader,style:{height:x},"data-test-id":"mail-reader-sticky-header"},h&&!this.state.dismissBreakingNews&&I.title&&!I.isRead?c.a.createElement(D,{newsArticle:I,isCompactLayout:A,breakingNewsVersion:C,breakingNewsDismissed:f,breakingNewsClicked:T,breakingNewsRendered:b}):r(P[F]))),this._scrollPercent()>v&&(G=c.a.createElement("div",{ref:e=>this.goToTop=e,className:this.props.insideIframe?"btn-top":t.scrollToTop,onClick:this._scrolToTop},c.a.createElement(g.a,{kind:E.b.TAP_TO_TOP,size:E.d.XS,colorState:E.a.INVERTED,paddingLess:!0,title:s(L.infinite_scroll_scroll_to_top)}))),c.a.createElement("div",{"data-test-id":"infinite-scroll-container",className:t.main,dir:p,ref:this.setScrollContainer},U,c.a.createElement("div",{role:"navigation",className:t.scroll,"data-name":"scroll-area","data-test-id":"virtual-list",ref:e=>{this.scroller=e,this.props.scrollRef(e)},style:{marginTop:x},"aria-label":s(L.infinite_scroll_messages)},c.a.createElement("div",{"data-test-id":"infinite-scroll-focus-passer",className:t.focusStealer,tabIndex:N>o||M<o?d:-1,onFocus:this._handleFocusPass}),c.a.createElement("div",{className:t.container,"data-name":"infinite-scroll-content","data-test-id":"infinite-scroll-content",style:{height:this.state.containerHeight}},c.a.createElement("ul",{ref:e=>this.content=e,className:t.container,role:"grid","data-test-id":"infinite-scroll-rows","aria-readonly":"true"},k),c.a.createElement("ul",{ref:e=>this.header=e,className:t.container,"aria-hidden":!0},B),R&&n&&c.a.createElement("div",{className:t.loading},c.a.createElement(S.b,null)))),G)}}n()(F,"contextTypes",{getCss:i.a.func,intl:h.intlShape.isRequired,getTheme:i.a.func,getThemeMode:i.a.func}),n()(F,"defaultProps",{contentInsetTop:0,initialRenderCount:15,bufferSize:1,isSectionHeader:()=>!1,isPencilAd:()=>!1,initialIndexForTab:0,cursorIndex:-1,hasMoreItems:!1,loadThreshold:10,selectFirstItem:()=>null,onScrollTopChange:()=>{},onScroll:()=>{},layoutKey:"@DEFAULT",scrollRef:()=>{},isInvalidItem:()=>!1,isBreakingNewsEnabled:!1,isBreakingNewsDismissed:!1,newsArticle:{},newsRefreshInterval:0,breakingNewsVersion:"",isCompactLayout:!1});t.a=Object(f.connect)(e=>{const t=Object(C.b)(e),s=t.isFeatureEnabled,a=t.getSetting,n=t.getBreakingNewsSelectors,r=(0,t.getEnvironmentSelectors)(),i=n().getIsBreakingNewsDismissed(),o=a(m.zd.BREAKING_NEWS_VERSION);return{isBreakingNewsEnabled:s(m.ub.BREAKING_NEWS_ENABLED)&&(o===m.B.VERSION_2||o===m.B.VERSION_3),isBreakingNewsDismissed:i,newsArticle:n().getNewsArticle(),newsRefreshInterval:a(m.zd.BREAKING_NEWS_REFRESH_INTERVAL),breakingNewsVersion:o,isCompactLayout:a(m.zd.PREVIEW_PANE)===m.Rc.RIGHT,dir:r.getPageDirection()}},e=>({onBreakingNewsDismissed:t=>e(Object(T.b)(t)),onBreakingNewsRefresh:t=>e(Object(T.d)(t)),onBreakingNewsClicked:t=>e(Object(T.a)(t)),onBreakingNewsRendered:t=>e(Object(T.e)(t))}))(F)},function(e,t){e.exports={SyntaxError:{description:"Engineers messed up somewhere"},ApiError:{description:"The API layer returned an error"},HttpTransport:{NotOkStatusCode:{description:"Request returned with not-ok status code",requiredData:["statusCode"]},CrossDomainError:{description:"Origin is not allowed by Access-Control-Allow-Origin at Request.crossDomainError"},ContentTypeError:{description:"Return type does not match Request Accept type.",requiredData:["statusCode"]},ConnectionTimedOut:{description:"Request timed out."},ParseError:{description:"Parser is unable to parse the response.",requiredData:["statusCode","responseText"]},OutboundError:{description:"Request fails to go to the server from the client's browser."},ServerNotFound:{description:"DNS lookup failed."},ConnectionRefused:{description:"Client was not able to connect to host."},ConnectionReset:{description:"Connection reset by peer."}},BaseClient:{RequestBlocked:{description:"Request is blocked"},EmptyResponse:{description:"Response is empty"}},RequestQueue:{Rejected:{description:"A write request was issued. Therefore, the RequestQueue is dropping the call"},Timeout:{description:"Request timed out in queue"}},BootcampApiClient:{DeleteRecentSearch:{description:"The BootcampApiClient returned an error for deleting recent search"},SearchError:{description:"The BootcampApiClient returned an error for the search"},SearchChunkError:{description:"The BootcampApiClient returned a chunk error"},SearchAdsError:{description:"The BootcampApiClient returned an error for parsing search ads"},SuggestionError:{description:"The BootcampApiClient returned an error for the suggestions"},LocalStoresError:{description:"The BootcampApiClient returned an error for fetching local stores"},RetailersError:{description:"The BootcampApiClient returned an error for fetching retailers"},RetailerOffersError:{description:"The BootcampApiClient returned an error for fetching offers for a retailer"},RetailerActivatedOffersError:{description:"The BootcampApiClient returned an error for fetching activated offers for a retailer"},TopRetailersError:{description:"The BootcampApiClient returned an error for fetching top retailers"},TopDealCategoriesError:{description:"The BootcampApiClient returned an error for fetching top deal categories"}},LinkEnhancerClient:{InvalidRequestUrl:{description:"Request URL is invalid."},EmptyResponseBody:{description:"Response Body is empty"},NoRootType:{description:"No Root Type"},NoWebSnippet:{description:"No Web Snippet"}},MailApiClient:{SaveAndSend:{description:"Both `Save` and `Send` requests have failed"},EmptyRequestPayload:{description:"Request payload is empty"}},UDBClient:{EmptyKey:{description:"Cannot write empty list of keys to UDB"},LoadTestMode:{description:"Cannot write to UDB in load testing mode"},DevBox:{description:"Cannot write to UDB on MAC devbox"},InvalidYca:{description:"Invalid YCA header"},Forbidden:{description:"Role does not have a permission or cookie is invalid"}},LaunchError:{LaunchApiFailed:{description:"Launch API has failed"},WrongMailboxState:{description:"Mailbox is deleted/disabled or maintainence"},NoScript:{description:"Javascript is disabled"},UnsupportedBrowser:{description:"browser is unsupported"},PageNotFound:{description:"Page not found"},ActiveMailboxNotFound:{description:"Active mailbox not found"}},Authentication:{InvalidCredentials:{description:"The user cookies are not valid anymore.",requiredData:["statusCode","errorCode","refresh"]},MissingCrumb:{description:"Crumb not passed as query parameter.",requiredData:["statusCode","errorCode"]},InvalidCrumb:{description:"No valid crumb found for the given user.",requiredData:["statusCode","errorCode"]},WssidReissue:{description:"Request does not have a valid wssid.",requiredData:["statusCode","errorCode","wssid"]}},GenericError:{description:"A generic error has occurred.",code:"FE-100"},UnknownError:{description:"An unkown error has occurred.",code:"FE-100"},AthenaApiClient:{DataError:{description:"The AthenaApiClient returned an error while parsing response."}},ClassicABClient:{CategoryDataError:{description:"Classic addressbook returned error for categories."},ContactsDataError:{description:"Classic addressbook returned error for contacts list."},ContactsSyncDataError:{description:"Classic addressbook returned error for contacts sync."}},AstraApiClient:{QuotientRetailersError:{description:"The AstraApiClient returned an error while parsing response for quotient retailers."},LinkRetailerError:{description:"The AstraApiClient returned an error while parsing response for link retailer."},ICUserProfileError:{description:"The AstraApiClient returned an error while parsing response for user profile."},CategoryFollowingListError:{description:"The AstraApiClient returned an error while parsing response for category following list."},RetailerOffersError:{description:"The AstraApiClient returned an error for fetching offers for a retailer"},RetailerActivatedOffersError:{description:"The AstraApiClient returned an error for fetching activated offers for a retailer"},AffiliateCouponsError:{description:"The AstraApiClient returned an error for fetching Top Of Message Deals"},HalloweenBannerError:{description:"The AstraApiClient returned an error for fetching halloween banner"}}}},function(e,t){},,,,,,,,function(e,t,s){"use strict";(function(e){var a=s(4),n=s.n(a),r=s(57),i=s.n(r),o=s(26),c=s(21),d=s(453),l=s(9),u=s(61),_=s(631),m=s(854);const p=o.a.GET,h={Transport:o.b,request:e=>{const t=e.sectionId,s=Object.keys(t).map(s=>h._sendRequest(e,t[s]).then(a=>{if(Object(l.a)(a,"body.error")){const r=e.loggerParams||{},i=n()({},a.body,{sectionId:t[s]});return _.a.feature("gemini_no_ads",n()({},r,{loggerInfo:i})).logFailure(),{body:i}}return a}));return Promise.all(s).then(t=>h._constructAdResponses(t,e))},_sendRequest:(e,t)=>{Object(c.a)(e.ymreqid,"ymreqid is required for making requests to Gemini ssi"),Object(c.a)(e.userAgent,"userAgent is required for making requests to Gemini ssi");const s=e.logRequest,a=void 0===s?()=>{}:s,n=e.ymreqid,r=e.rotationActionType,i=e.region,o=new h.Transport(p,u.c+u.n);o.setHeader("Accept","application/json"),o.setHeader("User-Agent",e.userAgent),Object(m.a)()||o.setHeader("X-Forwarded-For",e.remoteAddress),e.cookie&&!e.forceFilter&&o.setHeader("Cookie",e.cookie);const d={apiName:"geminiAd.get",sectionId:t,rotationActionType:r,ymreqid:n,intl:i},l=h._getQueryParams(e,t),_=o.send(l);return a(_,d),_},getForceFilter:t=>{const s=i.a.stringify({useForceFilter:!0,forceFilter:"creative_id:"+t,useSpaceBall:!1,useFrequencyCapping:!1,useBudget:!1,useDeviceTargeting:!1,useBooleanQueries:!1,useSegmentsTargeting:!1,useBudgetCampaignFineThrottling:!1,useCF:!1,honorBlacklistedProperties:!1,dedupOnTitleSummaryHash:!1,"grouping.maxCreativesPerAdvertiser":5});return new e(s).toString("base64")},_getQueryParams:(e,t)=>{const s=e.locale,a=e.region,n=e.ymreqid,r="zh-Hant-HK"===s||"zh-Hant-TW"===s?"zh_TW":s.substr(0,2),i=Object.assign({format:"json",apiVersion:2,size:"3x3",sectionId:u.j,creativeCode:"STRM",propertyName:"mail_norrin",siteLanguage:r,countryCode:a,requestId:`${n}-${t}`,publisherInfo:"||159600001|STRM|",contentInHttps:1},e);i.sectionId=t||u.j,i.adCount=u.b[+t]||1,e.buckets&&e.buckets.length&&(i.bucket=e.buckets.join(",")),+t!==u.m||e.videoMomentEnabled||(i.creativeCode="STRM"),"devbox"===e.environment&&(i.nonRevenue=1),i.forceFilter&&(i.forceFilter=h.getForceFilter(i.forceFilter),i.nonRevenue=2);const o={};for(const e in i)u.f[e]&&(o[u.f[e]]=i[e]);return o},_constructAdResponses:(e,t)=>{const s={};return e.forEach(e=>{if(Object(l.a)(e,"body.ads",null)){const a=Object(l.a)(e,"body.section.id",u.j);a===u.k?s[u.l]=s[u.l]||Object(d.a)(e.body.ads,u.k,t):s[a]=Object(d.a)(e.body.ads,a,t)}else if(Object(l.a)(e,"body.error")){const t=Object(l.a)(e,"body.sectionId");t===u.i.toString()&&(s[t]={pencilAd:{},nativeAd:{},error:Object(l.a)(e,"body.error"),additionalErrorInfo:Object(l.a)(e,"body.additionalErrorInfo"),status:Object(l.a)(e,"body.status")})}}),s}};t.a=h}).call(this,s(545).Buffer)},,function(e,t,s){"use strict";var a=s(74);t.a=s.n(a).a.create("norrin/gemini_client")},,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{icon:"D_X W_6MGW H_6MGW cdPFi_Z281SGl cZW7ROP_n en_0 cvhIH6_T"},allowPointerEvents:{icon:"cZW7ROP_A"},flipRTL:{rtlRawScaleX:"rtlR_h_2gl0WC"},"colorState-FIRST_LEVEL_GRAY":{icon:"cdPFi_Z1VRpVF"},"colorState-THIRD_LEVEL_GRAY":{icon:"cdPFi_ZroviD"},"colorState-NORMAL_LESS_DIM":{icon:"cdPFi_Z26U5qH"},"colorState-DARK":{icon:"cdPFi_Z281SGl"},"colorState-TRANSPARENT":{icon:"cdPFi_T"},"colorState-FAINT":{icon:"cdPFi_ZpQYvz"},"colorState-LESS_IMPORTANT":{icon:"cdPFi_Z1Xxgu0"},"colorState-COOL_FAINT":{icon:"cdPFi_ZvsWfq"},"colorState-INHERITED":{icon:"cdPFi_q"},"colorState-INVERTED":{icon:"cdPFi_52qC"},"colorState-INVERTED_DIM":{icon:"cdPFi_ak5kB"},"colorState-INVERTED_LESS_DIM":{icon:"cdPFi_ak5m8"},"colorState-INVERTED_MORE_DIM":{icon:"cdPFi_ak5jA"},"colorState-SELECTED":{icon:"cdPFi_Z2aVTcY"},"colorState-PRIMARY_HOVER":{icon:"cdPFi_Z29WjXl"},"colorState-SELECTED_DARK_THEME_MODE":{icon:"cdPFi_Z2bg7IA"},"colorState-STARRED":{icon:"cdPFi_ZkhR3R"},"colorState-STARRED_DARK":{icon:"cdPFi_ZkcEUn"},"colorState-DISABLED":{icon:"cdPFi_Z1TsNWR"},"colorState-ADVISORY":{icon:"cdPFi_ZkcEUn"},"colorState-FIRST_LEVEL_ORANGE":{icon:"cdPFi_ZkhR3R"},"colorState-WARNING":{icon:"cdPFi_Znn46r"},"colorState-HEADING":{icon:"cdPFi_Z1XBA33"},"colorState-SMARTVIEW_DARK":{icon:"cdPFi_2sqbQg"},"colorState-IMPROVED_GRAY_DARK":{icon:"cdPFi_Z1YRXYn"},"colorState-SECOND_LEVEL_GRAY":{icon:"cdPFi_Z1TsNWR"},"colorState-YBADGE":{icon:"cdPFi_Z25iliW"},"colorState-YBANG":{icon:"cdPFi_Z21a4NC"},"colorState-SUCCESS":{icon:"cdPFi_Z287E9E"},"colorState-WHITE":{icon:"cdPFi_52qC"},"colorState-ICON_HOVER_BGCOLOR":{icon:"cdPFi_2ieea9"},"colorState-GRAD_BLUE":{icon:"cdPFi_Z2aVTcY"},"colorState-ATTACH_MEDIA":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_CAL":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_EXCEL":{icon:"cdPFi_Zjgrcs"},"colorState-ATTACH_DOC":{icon:"cdPFi_euEfy"},"colorState-ATTACH_SLIDE":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_PDF":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_GENERIC":{icon:"cdPFi_1k4EMl"},"colorState-ATTACH_COMPRESSED":{icon:"cdPFi_1k4EMl"},"colorState-SMARTVIEW_PEOPLE":{icon:"cdPFi_ZkcEUn"},"colorState-SMARTVIEW_SHOPPING":{icon:"cdPFi_Z1tEW3v"},"colorState-WARNING_GRAD_RED":{icon:"cdPFi_Z1rD0qn"},"colorState-TOUCH_PRIMARY":{icon:"cdPFi_Z2aVTcY"},"colorState-FACEBOOK_ENABLED":{icon:"cdPFi_Z269xr6"},"colorState-LINKEDIN_ENABLED":{icon:"cdPFi_Z2dxU8K"},"colorState-TWITTER_ENABLED":{icon:"cdPFi_Z2a87Op"},"colorState-PURPLE":{icon:"cdPFi_Z1WGv5u"},"size-XXXS":{icon:"W_6Eb4 H_6Eb4"},"size-XXS":{icon:"W_6Fd5 H_6Fd5"},"size-XS":{icon:"W_6LEV H_6LEV"},"size-S":{icon:"W_6MGW H_6MGW"},"size-M":{icon:"W_6UbO H_6UbO"},"size-L":{icon:"W_74JI H_74JI"},"size-XL":{icon:"W_7rdk H_7rdk"},"size-XXL":{icon:"W_7Ig6 H_7Ig6"},"size-XXXL":{icon:"W_3n93F H_3n93F"},"size-40":{icon:"W_72FG H_72FG"},"rotate-D45":{icon:"h_1RtVxM"},"rotate-D90":{icon:"h_22ufi4"},"rotate-D180":{icon:"h_ZQwKon"},"rotate-D270":{icon:"h_9u8MW"}},_key:"Z1HACCb"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"P_0 C_Z281SGl r_P y_Z2uhb3X A_6EqO cvhIH6_T ir3_1JO2M7 cZ11XJIl_0"},decorated:{button:"k_w e_dRA D_X M_6LEV o_v p_R V_M t_C cZ1RN91d_n A_6EqO u_e69 i_3qGKe P_1EudUu H_A cn_dBP cg_FJ l_T j_n S_n S4_n"},"kind-PRIMARY":{button:"I_Z2aVTcY C_52qC l_Z2aVTcY I3_Z2bdAhD l3_Z2bdIi1 I0_Z2bdAhD l0_Z2bdIi1"},"kind-CUE":{button:"I_Z2aVTcY C_52qC b_0 P_ZGAgNS E_fq7 i_6FIA u_e69 I3_Z2bdAhD I0_Z2aVTcY I4_Z29WjXl"},"primaryHover-true_false":{button:"I4_Z2bdAhD l4_Z2bdIi1"},"primaryHover-true_true":{button:"I4_Z2aVTcY l4_Z2aVTcY"},"kind-SECONDARY":{button:"I_52qC C_Z2aVTcY l_Z2aVTcY M_0 I4_52qC C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY_BORDERLESS":{button:"I_52qC b_0 C_Z2aVTcY H_q P_1EudUu M_0 I4_2iedUU C4_Z29WjXl"},"kind-DANGER":{button:"I_52qC C_ZnTFMv l_ZnTFMv M_0 I4_v5hft I3_v5hft I0_v5hft"},"kind-ICON":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q q_T O_cMu O4_N I4_2ieea9"},"kind-PILL":{button:"b_Z14vXdP P_1Eu6qC H_6NIX W_A e_6Fd5 C_q q_T I4_2ieea9"},"kind-PARENT_TEXT_COLOR":{":hover":"C_q"},"kind-ICON_HIGHLIGHTED":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q I_7l9bL i_0 O_N"},"kind-CHROMELESS":{button:"q_T C_Z1YRXYn u_e69 b_0 C4_Z2dyg2z C3_Z2aVTcY"},"kind-MENUITEM":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF I3_1I4yPF it3_689y"},"kind-MENUITEM_PARENT_TEXT_COLOR":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_1I4yPF C4_Z2aVTcY I3_1I4yPF it3_689y"},disabled:{button:"O_cMq r_A"},paddingLess:{button:"P_0"},marginLess:{button:"M_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},THEMED_LIKE_COMPSOE_BUTTON_ATT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_FRONTIER:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_ROGERS:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_BT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SKY:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_DEFAULT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SUNRISE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_AQUA_GREEN:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_AQUA_BLUE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_DEEP_PURPLE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_BLUE_NIGHT:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_DARK_GREY:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_NIGHT_LANDSCAPE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_ROADTRIP:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_SUNSET_AUSSIE:{button:"I_ZamTeg C_52qC l_T"},THEMED_LIKE_COMPSOE_BUTTON_LIGHTHOUSE:{button:"I_ZamTeg C_52qC l_T"}},_key:"Z27dPE1"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"c27KHO0_n b_0 M_0 i_0 I_T y_Z2uhb3X A_6EqO r_P C_q cvhIH6_T ir3_1JO2M7",content:"D_F ab_C gl_C W_6D6F",label:"D_X em_N o_h X_eo6 G_e t_l i_N"},"size-XXXS":{button:"P_dBP"},"size-XXS":{button:"P_dRA"},"size-XS":{button:"P_eo6"},"size-S":{button:"P_fq7"},"size-M":{button:"P_fq7"},"size-L":{button:"P_6Eb4"},"size-XL":{button:"P_6Fd5"},"size-XXL":{button:"P_6Fd5"},paddingLess:{button:"P_0"},isOnDarkBackground:{button:"ir3_Z1FS2Mn"},isCompact:{content:"W_72FG ek_BB",label:"A_6DUj X_0"},disabled:{button:"r_BN"}},_key:"Z1UAQih"}},function(e,t,s){"use strict";e.exports={className:{default:{tab:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemefalse:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",darkMode_photoThemetrue:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_52qC cdPFi4_Z281SGl",textSvg:"em_N H_6FIA",text:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x",close:"en_0 O4_N P_2gqvDS",checkmailIcon:"en_0 O4_N P_2gqvDS",decorator:"D_F en_0 Q_eo6 E_eo6",badgeCount:"C_Z281SGl D_F u_e69 I_52qC A_6DUj gl_C P_3gJiI e_3mS2U"},"kind-MENU":{tab:"W_3qYiD P_1Eu7sD C_Z281SGl I_52qC I4_Z1owzy4 N4_6Eb4",text:"C_Z281SGl G_e"},"kind-BAR":{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC"},activeMenu:{text:"u_b"},decoratedMenu:{tab:"X_6Fd5"},decoratedBar:{tab:"P_1MYwXA",darkMode_photoThemefalse:"P_1MYwXA",darkMode_photoThemetrue:"P_1MYwXA"},decoratedSettings:{decorator:"P_eo6"},activeHover:{tab:"r_BN",darkMode_photoThemefalse:"r_BN",darkMode_photoThemetrue:"r_BN",close:"O_N Q_0"},inactiveHover:{close:"O_N Q_0"},animate:{tab:"ah_2wpkLb",darkMode_photoThemefalse:"ah_2wpkLb",darkMode_photoThemetrue:"ah_2wpkLb"},extraIconPadding:{decorator:"X_eo6"},darkModePhotoTheme_NIGHT_LANDSCAPE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_cOYC3 I4_cOYCy",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_ROADTRIP_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_1iaDpX I4_1iaDqt",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_SUNSET_AUSSIE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_2woiXE I4_2woiYa",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_LIGHTHOUSE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_52qC I_t5YJT I4_t5YKp",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_sgPuo I4_sgPuT C_52qC",activeBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO u_e69 E_eo6 em_N en_N o_h J_x C_52qC",text:"C_52qC",close:"Q4_0"},darkModePhotoTheme_NIGHT_LANDSCAPE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_1qHGaS I4_1qHGaS cdPFi4_52qC"},darkModePhotoTheme_ROADTRIP_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zrb5Gc I4_Zrb5Gc cdPFi4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_2bmuGB I4_2bmuGB cdPFi4_52qC"},darkModePhotoTheme_LIGHTHOUSE_activeBar:{tab:"I_52qC cdPFi_Z281SGl I4_52qC",darkMode_photoThemefalse:"I_ZS2fmO I4_ZS2fmO cdPFi4_52qC",darkMode_photoThemetrue:"I_Zsxwsy I4_Zsxwsy cdPFi4_52qC"}},_key:"ZQ1Stz"}},function(e,t,s){"use strict";e.exports={className:{default:{overlay:"p_f D_B T_0 L_0 W_3mS5W H_3mS5H O_0 Z_tT",popover:"p_a Z_d48",popoverAnchor:"D_X",popoverContent:"p_R e_dRA I_52qC j_ZlOSbd"},"bg-DARK":{popoverContent:"C_52qC I_Z281SGl j_n"},"zAltitude-500":{overlay:"Z_dU7",popover:"Z_e69",popoverContent:"j_nWwhY"},"zAltitude-900":{overlay:"Z_eW8",popover:"Z_f8a",popoverContent:"j_ZqTdtW"},"zAltitude-9000":{overlay:"Z_7Ay0",popover:"Z_7G9R",popoverContent:"j_ZqTdtW"},"zAltitude-10000":{overlay:"Z_7Iyn",popover:"Z_3mRud",popoverContent:"j_ZqTdtW"},"zAltitude-11000":{overlay:"Z_3mTSI",popover:"Z_3n0uA",popoverContent:"j_ZqTdtW"},"borderRadius-LOW":{popoverContent:"e_dRA"},"borderRadius-MEDIUM":{popoverContent:"e_eo6"},"borderRadius-HIGH":{popoverContent:"e_eTB"},"borderRadius-MOBILE_DEFAULT":{popoverContent:"e_fq7 o_h"},animate:{popover:"lv_1Ys0hm"},ignorePointerEvents:{popover:"cZW7ROP_n"},highlight:{popover:"b_ZXQDCD e_dRA j_Z1oW7xg",popoverContent:"p_R e_0 j_n"}},_key:"Z2i11EV"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_eTB T_69bz",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_eTB H_eTB M_e8l"},arrowDirectionDown:{pointerWrapper:"T_A B_69bz h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 L_69bz"},arrowDirectionRight:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 R_69bz h_ZQwKon"},"zAltitude-500":{pointer:"j_ZlOSbd"},"zAltitude-900":{pointer:"j_ZlOSbd"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"jAFHx"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6Eb4 T_36JN3",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6Eb4 H_6Eb4 M_eTB"},arrowDirectionDown:{pointerWrapper:"T_A B_36Jxi h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 L_36JN3"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 R_36Jxi h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_nWwhY"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"bg-LIGHTGRAY":{pointer:"I_ZnkeaL"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"6KbDe"}},function(e,t,s){"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6MGW T_36SjV",pointer:"p_R D_X h_1RtVxM I_52qC j_ZlOSbd W_6MGW H_6MGW M_6Eb4"},arrowDirectionDown:{pointerWrapper:"T_A B_36SjV h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 L_36SjV"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 R_36SjV h_ZQwKon"},"zAltitude-500":{pointer:"j_nWwhY"},"zAltitude-900":{pointer:"j_ZqTdtW"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z2aVTcY"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"x3XRo"}},function(e,t,s){"use strict";e.exports={className:{default:{list:"hd_n P_0 H_6D6F M_0 ir3_0 iy_h"},"layout-HORIZONTAL":{list:"D_F"},"layout-GRID":{list:"D_F eo_HB W_6D6F"},disabled:{list:"O_6uB4 cZW7ROP_n"},"kind-TOOLBAR":{list:"D_F ab_C M_0 P_0"},isRestrictedHeight:{list:"iz_A K_3v1qi"}},_key:"ZXlG6m"}},function(e,t,s){"use strict";e.exports={className:{default:{menuContainer:"D_F em_N H_6Nds s_6NIX r_P cj_dRA ck_dRA p_R je_eDQ",menuContentContainer:"P_1HKSdG",menuButtonContainer:"em_N",menuButton:"em_N r_P y_Z2uhb3X A_6EqO b_0 I_T",menuSpan:"p_a L_0 W_6D6F T_0 H_6D6F D_F ab_C gl_C C_52qC A_6EqO o_h",text:"Q_fq7 o_h",chevron:"D_F en_0",rule:"b_Z2A6Uz m_0 M_fQoXz",tabList:"ha_n M_0 P_3Y3Gk",tabItem:"H_6NIX M_Ic8v9",closeAllButton:"y_Z2uhb3X A_6EqO b_0 I_T t_l C_Z1YRXYn P_1Eu7sD H_6VdP W_6D6F r_P I4_Z1owzy4",closeAllText:"D_F ab_C"}},_key:"Z1yrLzI"}},function(e,t,s){"use strict";e.exports={className:{default:{background:"e_6Fd5 P_dRA lv_Z1G1k6c ir_0 D_B W_6UbO H_6Fd5 p_R r_BN I_52qC b_Z1a7UWG",handle:"p_R D_B W_fq7 H_fq7 I_52qC e_6Fd5 lv_Z1G1k6c L_0 b_Z1a7UWG"},"size-L":{background:"W_74JI H_6MGW",handle:"W_6Eb4 H_6Eb4 L_e8l"},isEnabled:{background:"I_Z2aVTcY b_2fAfSG",handle:"L_6Fd5 b_6i9dl"},isEnabledAndLarge:{handle:"L_6MWH"},isClickable:{background:"r_P"}},_key:"Zw2nvR"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F F_n gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1PEzoz",spinner:"W_6MGW H_6MGW ah_Zq6hUs",arc:"cdPFi_n cZ13pKbK_Z2aVTcY cZ1XO2Ji_dRA c2abBOT_EY cZ1vNhDV_rd cZV8aCd_pI ah_14s73"},"size-S":{container:"W_6Fd5 H_6Fd5",spinner:"W_6Fd5 H_6Fd5"},inverted:{arc:"cZ13pKbK_52qC"},flex:{wrapper:"F_N H_6D6F"}},_key:"n3x6k"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"C4_Z2aVTcY"}},_key:"Zt4S9c"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F hd_n P_0 M_0 o_h J_x H_6UbO",item:"H_6D6F E_dRA",svgDefs:"W_0 H_0"}},_key:"2qYHHJ"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C",primaryButton:"A_6EWk C_Z2aVTcY r_P"}},_key:"pbtff"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P",notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO"}},_key:"1xydhh"}},function(e,t,s){"use strict";e.exports={className:{default:{progress:"k_w W_6D6F H_6Fd5 I_52qC p_R",placeholder:"b_Z14vXdP e_fq7 H_6EGz W_dbGOz",value:"p_a T_0 H_6D6F s_6Nds e_fq7 q_Z22jis8 D_F gl_CH N_fq7 lv_ZLoey2",label:"C_52qC A_6DUj u_b i_6Fd5"}},_key:"Z7L78D"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3vhr3 k_w I_52qC D_F el_QDCVj M_1vskfw",messageContainer:"i_6Nds t_l A_6EqO",message:"E_6Eb4",subtitle:"C_Z24Sbth t_l A_6Eb4",cancel:"E_68F4 P_eo6 q_T C_Z2aVTcY A_6EqO y_Z2uhb3X b_0 r_P",bar:"Y_6Eb4"}},_key:"2uBe7N"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F o_h",label:"D_X o_h J_x G_e",count:"X_fq7 D_F en_0",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"}},_key:"Z2hqMtH"}},function(e,t,s){"use strict";e.exports={className:{default:{notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO",button:"C_Z2aVTcY A_6EqO"}},_key:"1zb16t"}},function(e,t,s){"use strict";e.exports={className:{default:{settings:"C_Z2aVTcY r_P"}},_key:"62EcE"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY Q_dRA u_e69 r_P",errorWrapper:"t_l",errorHeader:"u_e69 U_eo6",errorBody:"A_6EqO i_6Fd5",restoreWrapper:"P_ZuGzVr",lineText:"N_6Fd5",option:"r_P",lightLink:"C_Z2aVTcY r_P"}},_key:"Z1DxJc6"}},function(e,t,s){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C P_6Eb4 gl_ZEO9jm m_Z12nDQf m8_n",accountInfo:"Q_6Fd5 D_F ek_BB",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountStatus:"Q_A A_6EqO C_Z2aVTcY t_r",accountStatusInfo:"A_6EqO C_Z1YRXYn D_F i_6EGz Y_eo6"}},_key:"Z2blqBJ"}},function(e,t,s){"use strict";e.exports={className:{default:{avatar:"en_0 M_3gIMd W_6UbO H_6UbO e_dRA ba_6UbO aw_Z1xuchI az_DW ay_22lW9e"},useThirdGenerationLogo:{avatar:"aw_Z25XMB8"},"accountType-yahoo":{avatar:"ay_Z1yLEkG"},"accountType-google":{avatar:"ay_I2Vyf"},"accountType-aol":{avatar:"ay_22iLrE"},"accountType-outlook":{avatar:"ay_22igsa"},"accountType-googleapp":{avatar:"ay_22hKsF"},"accountType-yahoosb":{avatar:"ay_I2qyK"},"accountType-verizonmedia":{avatar:"ay_22Hk7F"},"accountType-office365":{avatar:"ay_22KuOf"},"accountType-Facebook":{avatar:"ay_22mRHn"},"accountType-LinkedIn":{avatar:"ay_22q8OM"},"accountType-Twitter":{avatar:"ay_22qDOh"},"accountType-gdrive":{avatar:"ay_22D8r7"},"accountType-dropbox":{avatar:"ay_22Goyw"}},_key:"2vYnRt"}},function(e,t,s){"use strict";e.exports={className:{default:{button:"C_Z2aVTcY A_6EWk"}},_key:"1iekj1"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY r_P"}},_key:"62EcE"}},function(e,t,s){"use strict";e.exports={className:{default:{grayOverlay:"p_f T_0 R_0 B_0 L_0 Z_3mRud I_Zjpytw D_F ab_C gl_C",container:"j_1doAr4 ir3_0"},"kind-LIGHT":{grayOverlay:"I_ZS20V7"},hideShadow:{container:"j_n"}},_key:"ZrKsXm"}},function(e,t,s){"use strict";e.exports={className:{default:{menu:"I_52qC b_Z14vXdP e_dRA j_Z2jsUnk C_Z281SGl Z_3nxNR p_a ir_0 P_3HLUz"}},_key:"1RO7iY"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:""},active:{buttonContainer:"I_7l9bL"}},_key:"ZTqMOv"}},function(e,t,s){"use strict";e.exports={className:{default:{listItem:"G_e p_R",icon:"i_0"},"kind-WRAP_CONTENT":{listItem:"H_A i_N"},"kind-GRID":{listItem:"P_0 f_l M_dRA ir4_2ivgpk"}},_key:"1fXSHs"}},function(e,t,s){"use strict";e.exports={className:{default:{account:"en_0 E_6MGW ac_C C_52qC",menuButton:"I_T b_0 C_52qC ir3_Z1HO9zT",button:"D_F ab_C y_Z2uhb3X A_6EqO",accountText:"E_eo6",menuName:"u_b D_B J_x o_h G_e",menuAddress:"D_B J_x o_h G_e",menuContainer:"s_3nV5V a_3v1qi H_7iGr D_F ek_BB gl_C X_6Fd5",logoutLink:"H_72FG i_72FG X_6Fd5 D_B I_ZnkeaL ir3_1JO2M7 cZ11XJIl_0"}},_key:"VKE1J"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:"I_52qC D_F M_3gJOe ab_C"}},_key:"Mr5Pj"}},function(e,t,s){"use strict";e.exports={className:{default:{overlay:"Z_7G9R",shim:"Z_7G9R T_0 B_0 L_0 R_0 p_a q_T"}},_key:"1HLIBC"}},function(e,t,s){"use strict";e.exports={className:{default:{dragIcon:"H_6FIA Z_7G9S p_a",counter:"D_X H_6Fd5 W_6Fd5 Z_7G9T p_a L_fFR T_6Fd5 e_e5X t_C q_ZnTFMv C_52qC"}},_key:"1HvlCH"}},function(e,t,s){"use strict";e.exports={className:{default:{suggestionLabelContainer:"D_F ab_C o_h",suggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9 gl_FM",keywordSuggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P q4_2ieea9 cZ1WADfW_2ieea9",suggestionIcon:"W_6FIA H_6EGz E_6FYl D_F ab_C",emailSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h N_6Fd5",emailAddressLabel:"J_x G_e o_h N_6Fd5 C_Z1YFBQc A_6DUj",dateLabel:"C_Z1VRpVF A_6DUj J_x D_F ac_CI"}},_key:"ZmbOtX"}},function(e,t,s){"use strict";e.exports={className:{default:{inputContainer:"p_R D_F W_6D6F",input:"q_T y_Z2uhb3X je_0 jb_0 X_fq7 N_fq7",clearButtonContainer:"p_a T_0 R_0 B_0 W_6VdP D_F gl_C ab_C"},showClear:{rtlRemoveInput:"rtlRM_X_fq7 rtlRM_N_6VdP",rtlRawInput:"rtlR_N_fq7 rtlR_X_6VdP"},"showClear-false":{input:"X_fq7 N_fq7"}},_key:"1Lr5KA"}},function(e,t,s){"use strict";e.exports={className:{default:{buttonContainer:"D_F gl_CH ab_C",searchBtnWrapper:"M_0",resetBtnWrapper:"E_6LEV",resetBtn:"C_Z2aVTcY"}},_key:"ZiAY6r"}},function(e,t,s){"use strict";e.exports={className:{default:{selectWrapper:"r_P p_R A_6EqO",selectTitle:"D_X u_6EqO C_Z281SGl U_fq7",selectPlaceholder:"F_N o_h J_x D_X G_e C_Z1TsNWR",selectLabel:"D_F gl_FL C_Z281SGl m_2w4l8N H_6VdP i_6VdP X_fq7",emptyItem:"C_ZxFlP3 P_1Eu6qC i_6VdP",optionsContainer:"W_6D6F P_3DHIS p_a q_52qC C_Z281SGl e_dRA j_Z2nrtxD",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl",inputWrapper:"em_N D_F o_h gl_FL H_6VdP i_6VdP",selectInput:"O_0 W_dBP H_dBP b_n ir_n p_a D_X",closeBtn:"r_P e_e5X M_8ximD D_X W_6Fd5 H_6Fd5 i_6Fd5",arrowDown:"r_P D_F gl_C ab_C"},isOpen:{selectWrapper:"Z_7G9R"},isFocused:{selectLabel:"m_2fAfSG",arrowDown:"l_B4CaF"},disabled:{selectLabel:"r4_DZ",selectedValue:"C_ZvsWfq"},coloredPlaceholder:{selectPlaceholder:"C_Z2aVTcY"},"type-FITCONTENT":{optionsContainer:"W_CS s_6D6F"},inline:{selectBox:"D_X",selectLabel:"D_F m_n i_6FIA X_0 H_6MGW",selectedValue:"A_6EqO C_Z1VRpVF",inputWrapper:"D_X o_h gl_FL H_A i_q",arrowDown:"r_P D_X o_h gl_FL Q_fq7 p_R"}},_key:"ZKOwWd"}},function(e,t,s){"use strict";e.exports={className:{default:{optionItem:"k_w D_B W_6D6F b_n r_P t_l o_h J_x G_e q_T P_20hyCR i_6VdP A_6EqO q4_2iedUU"},isSelected:{optionItem:"q_2ieeaE"},"hoverStyle-BOLD":{optionItem:"u4_b q4_T"},"hoverStyle-BOLD_SELECTED":{optionItem:"u_b q4_T"},paddingLess:{optionItem:"P_0"}},_key:"nTHD8"}},function(e,t,s){"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R r_P H_6D6F",pillOuter:"D_F ac_C en_0",pillsContainer:"hd_n em_N el_EZ D_F M_0 P_3HLUz ir_0",pillsContainerChild:"em_N o_h D_F",typeahead:"ac_C W_6D6F",typeaheadInput:"A_6EqO y_Z2uhb3X C_Z281SGl k_w b_0 W_6D6F H_6VdP P_3gJOe I_T ir_n p_R Z_N",typeaheadInputContainer:"p_R",suggestionDropdown:"W_6D6F Z_6D6Q I_52qC k_w ha_n L_0 T_6UHk M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",typeaheadInputHint:"A_6EqO y_Z2uhb3X C_ZvsWfq k_w b_0 W_6D6F H_6VdP P_3gJOe I_T ir_n Z_0 p_a q_T L_0"}},_key:"DRigK"}},function(e,t,s){"use strict";e.exports={className:{default:{dateFieldWrapper:"D_F ab_AJ U_6Eb4",dateRangeWrapper:"Y_6Eb4",selectbox:"W_6D6F",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7"}},_key:"q1Lgx"}},function(e,t,s){"use strict";e.exports={className:{default:{dateWrapper:"D_F ab_C gl_FM",datepicker:"W_3niBz"}},_key:"1KKfoQ"}},function(e,t,s){"use strict";e.exports={className:{default:{datepickerCalendar:"k_w q_52qC W_3rfjo e_dRA j_2v1b6D P_Z1stIAm",dayHeaderWrapper:"Y_fq7 U_dRA",monthHeaderWrapper:"D_F A_6EqO H_6LEV m_Z14vXdP P_1Eu7sD",titleWrapper:"D_X W_1BJksS u_b C_Z281SGl",yearTitle:"Q_eo6",daysWrapper:"P_1Eu7sD",arrow:"r_P t_C W_6LEV H_6LEV",dayHeader:"r_P t_C D_X A_6DUj W_6NIX H_6LEV C_ZvsWfq i_6LEV"}},_key:"ZMRiTz"}},function(e,t,s){"use strict";e.exports={className:{default:{weekWrapper:"U_dRA"}},_key:"Z26EX72"}},function(e,t,s){"use strict";e.exports={className:{default:{dayWrapper:"t_C D_X W_6NIX H_6LEV",day:"r_P e_e5X t_C D_X W_6LEV H_6LEV A_6DUj i_6LEV q4_ZpQYvz",emptyDay:"D_X W_6NIX H_6LEV"},isDisabled:{day:"A_6DUj C_Z1TsNWR"},isSelected:{day:"u_b C_Z281SGl q_2ieeaE"},isToday:{day:"q_1I4z5p"}},_key:"Z1htaH"}},function(e,t,s){"use strict";e.exports={className:{default:{searchBoxContainer:"en_0 O_cMq D_F p_R H_74JI",searchButton:"M_0 b_0 C_52qC en_0 W_7GHz D_F u_b cZ1RN91d_n J_x A_6EqO k_w gl_C ck_dRA y_Z2uhb3X bl_dRA H_74JI I_2sqbOJ",searchBoxInput:"M_0 W_6D6F D_F C_Z1AHs3T ab_C I_52qC A_6EWk y_Z2uhb3X P_6Eb4 H_74JI cj_dRA bk_dRA"}},_key:"Z1rzFeh"}},function(e,t,s){"use strict";e.exports={className:{default:{mainBody:"H_6D6F W_6D6F p_R bo_BA cf_0",headerContainer:"H_7zJd cZR3vv9_7ceA P_0",leftRailContainer:"I_ZnIF8Y x_Z14vXdP cZR3vvd_n V_GM W_3o4BO s_3o4BO P_0",contentContainer:"W_6D6F je_6LEV V_GM",rightRailContainer:"I_ZnIF8Y n_Z14vXdP V_GM P_0 a_3vpWV s_3o4BO cZR3vvd_n"}},_key:"1twphr"}},function(e){e.exports={a:"https://s.yimg.com/nq/nr/"}},function(e){e.exports={"/img/12top_brands_logos.png":"/img/12top_brands_logos_pEoN1JXg6k-Emnj2TUvHatZ9h0QVZM0AlrQwXoY2nJ8_v1.png","/img/account_providers_icons_1x.png":"/img/account_providers_icons_1x_J7KGuXZAOn7BT5SD-UfgrHNWntcyL4BLX_rlMrTz_hc_v1.png","/img/account_providers_icons_2x.png":"/img/account_providers_icons_2x_Fgotg33npFW0-urdTLiX7drfeW1TlgmdIVzpOqldevk_v1.png","/img/account_sources_1x.png":"/img/account_sources_1x_Ex9EG2zsWoO1FXKzwpc7wJkdCKqbOQbMlizZRXP2BsI_v1.png","/img/account_sources.png":"/img/account_sources_7z1m0DoroJa8DZ_NjUoRzuBSr5Zq_t6vXueQXSZvy14_v1.png","/img/accounts.png":"/img/accounts_1nd2Eye60wTf2xrCGZbes4un4vItAKHigeEDfu4ulJU_v1.png","/img/ad_format_selection_ad_free_icn_selected.png":"/img/ad_format_selection_ad_free_icn_selected_GuzCTiUSYDllVdnzPjXGVbx-iPmznf8vT87FTCKVUfA_v1.png","/img/ad_format_selection_ad_free_icn.png":"/img/ad_format_selection_ad_free_icn_GyqKHJYnyeJdYQDRExuLbDCar5G2-3uBjKQu7BxSk9Y_v1.png","/img/ad_format_selection_ad_free_phone.png":"/img/ad_format_selection_ad_free_phone_xpFyneoJDD6Rav228pDZGfvyN0ngHNLf3rgjKWSGZ0c_v1.png","/img/ad_format_selection_pencil_ad_icn_selected.png":"/img/ad_format_selection_pencil_ad_icn_selected_FOaFMNvONpzqoU83iK1sLUX3h48d0_Jb_UvfakXN6MY_v1.png","/img/ad_format_selection_pencil_ad_icn.png":"/img/ad_format_selection_pencil_ad_icn_5m1aZM3JxGPyLzPdWsZi0lnukIMPXnJqOHKcvzPmzZg_v1.png","/img/ad_format_selection_pencil_ad_phone.png":"/img/ad_format_selection_pencil_ad_phone_AatTQ76Ik24c-68e4TIxxOSH8GdsW1bme9fn_ceGpXM_v1.png","/img/ad_format_selection_sm_icn_selected.png":"/img/ad_format_selection_sm_icn_selected_CYipwBfLX3gkwMgJtmn77-GmUTuEOC6jH90nXn0Ib5U_v1.png","/img/ad_format_selection_sm_icn.png":"/img/ad_format_selection_sm_icn_OJULoVdzzUYWCjl2vtRhXiSLHAHB_P8dlWQ7zj1Ieyc_v1.png","/img/ad_format_selection_sm_phone.png":"/img/ad_format_selection_sm_phone_wBFf0Qzyb9I9PfgiX5TJkh_d_IRRM1Ft5aq-I4LZo2U_v1.png","/img/adblock_upsell_bg.png":"/img/adblock_upsell_bg_PppZ_B01W7h3CQopBxz8dVaFQxebyaZUhnXMEfm6GRo_v1.png","/img/adblock_upsell_emoji_v6_1.png":"/img/adblock_upsell_emoji_v6_1_vpVm7gxUPFcIILvP_8tLLaHEouOj0XrpnWl3RxkaCmA_v1.png","/img/adblock_upsell_emoji_v6_2.png":"/img/adblock_upsell_emoji_v6_2_cy0WOpnH6NB19yGln-iPlCenkwSMPzaXR-JAqtZ-RAw_v1.png","/img/adblock_upsell_emoji_v6_step2.png":"/img/adblock_upsell_emoji_v6_step2_pyl1XhC-eSM3545nE6nCAcnrh5aktxEZDTJA6v6z6W4_v1.png","/img/adblock_upsell_emoji.png":"/img/adblock_upsell_emoji_3wn8gXgM7jp1wTh4FyGrlWm-Ujl63tHPD6PgiOUjlWY_v1.png","/img/adblocker_examples.png":"/img/adblocker_examples_9q4lcF3b3Mau6jIa3Adz2Mkz6Nqk7VvnCkqfNXkLP_w_v1.png","/img/add_attachment.png":"/img/add_attachment_i_yPX8ujTdenJvUDiHN-OA3sjgNdd4WTEADdBLf638o_v1.png","/img/add_coupon_icon.png":"/img/add_coupon_icon_icqjwiXsXAkfsacocnFSWMBgLaFFHIf6QzVJ-Z1A0Ec_v1.png","/img/animation_adblocker.gif":"/img/animation_adblocker_GOWX9h-awX9lPkuLkfUfrpqcWU5OSmOCOoBuM4vTID4_v1.gif","/img/aol_logo_gen_light_2x.png":"/img/aol_logo_gen_light_2x_Y5HsoyPyCjC7v12OTbNF-obqV1Q0mKpsa-qROZ4J9ls_v1.png","/img/aol_logo_gen_light.png":"/img/aol_logo_gen_light_Q3xHzPB82aBYioa05x9byOt2aUoy1QlzaDfBMMZku7I_v1.png","/img/att_favicon_alert.png":"/img/att_favicon_alert_ucY08XlnropGMsUSwPRhyETgdq3FTQQOLT-3_P6e8uM_v1.png","/img/att_favicon.png":"/img/att_favicon_MfGbnKVgiBjX8NYye-jw69e2dDVTvzS1GHVjgKH6dRM_v1.png","/img/banner_bg.jpg":"/img/banner_bg_qXF28kscVA6dgD37S0WT2ng1GEICc1nd2Mr4wv6bTDw_v1.jpg","/img/basic_mail_icon_sprite_1x.png":"/img/basic_mail_icon_sprite_1x_o_Rta6eITxqm97KlRWU6edOqVsN6G09IKiKPrlU8rPI_v1.png","/img/basic_mail_icon_sprite_2x.png":"/img/basic_mail_icon_sprite_2x_VQkwpbUETdR8KhhoZYwgb7_1ACKXhbQE49MQvUfqI6k_v1.png","/img/basic_mail_icons.gif":"/img/basic_mail_icons_rmxEfE1PL4Ar_qT3TFxjOYpmJFOavl-vuj4gVsrpZCg_v1.gif","/img/basic_mail_separator.png":"/img/basic_mail_separator_O8XJKJPQ6ECdkcPfpzDg8cFp5zEJVuUZmBqifPADbws_v1.png","/img/basic_mail_welcome.png":"/img/basic_mail_welcome_Htivmo1dAcOKgoCiVfz8KCFbOE1DxfOsJQ0DK6LjRrA_v1.png","/img/basic_mobile_spritesheet_2x.png":"/img/basic_mobile_spritesheet_2x_n7Zv-RSIziGq1RDJT-NolgISb1BA7xY58FTyzQOrb80_v1.png","/img/basic_mobile_spritesheet.png":"/img/basic_mobile_spritesheet_8Nn7XZ6nf3GmYT966ZEk21Sa6rMU424EQ3RcyzE9r6c_v1.png","/img/bluetruck_illustration.png":"/img/bluetruck_illustration_dVvQR2GFxZkjfh8F3DKeKCRmjvSKcgtseVCQ_HyDGoc_v1.png","/img/browser_icons.png":"/img/browser_icons_bTR_-p47T4qpLXqkHhhfuKYCKnK1t4kLxPEUrbMBCc4_v1.png","/img/categorization.png":"/img/categorization_5zn0n6_7uerOd1wvNGySUTaNAFUAv2_H6nxw1iwBwQ0_v1.png","/img/cloud_storage_empty_results_2x.png":"/img/cloud_storage_empty_results_2x_4ibjN7Cs8czWmxB537HciSGtKusFgH_8KxcTlrmaDk4_v1.png","/img/cloud_storage_empty_results.png":"/img/cloud_storage_empty_results_aorDbzpiNyp33nh9IoBcKkSDfOzaDtR9kJukjraZJ2g_v1.png","/img/compose_thumbnail.png":"/img/compose_thumbnail_zWbkZgLwqImhmUeIQc3bm8SNrFitPRklzpSlk3RDgqQ_v1.png","/img/coupon_clipper_onboarding.png":"/img/coupon_clipper_onboarding_7kunwyrShFg81vTdaxj3wV0cS5sOvE7fCC1pqUtQmRc_v1.png","/img/coupon_emptystate_dark.png":"/img/coupon_emptystate_dark_2ddSB6JIAMN_8Flo8ABLaGmiHWx4fRGqX9Nex7FJ4fA_v1.png","/img/coupon_emptystate_light.png":"/img/coupon_emptystate_light_57U4--78ByaWDgm7NIQ8NLUV3E4-0myYWlTtcFVOKZg_v1.png","/img/coupons_view_cue.png":"/img/coupons_view_cue_-FGNCM99gd0D3Y2NEGNsiJ9_s4ieXl6Wb9BASIhBojY_v1.png","/img/dialogue_cue_2x.png":"/img/dialogue_cue_2x_s5allvEg4Tju1MnIAyg3cAkP0bV-ZIkihNqKY5KamHw_v1.png","/img/dialogue_cue.png":"/img/dialogue_cue_zd3E04rRFiJTDqi9VBupr-fcuDdlwp8YY3xnKXpzGiQ_v1.png","/img/discount_light.png":"/img/discount_light_RplJIWDR2R9t4uw3SVvYhibFtStByXDouOO1VYgiqR0_v1.png","/img/discount.png":"/img/discount_nXwr_yE1KWPe_xC9QC3Qtt5DB69Hv5rDp3UdFy8Twus_v1.png","/img/dropbox.png":"/img/dropbox_b6qZz5fvLSDZYVbhS1lEMPCrXdYrmvq1_loIjOS1qFs_v1.png","/img/email_organize.jpg":"/img/email_organize_61cSQOgX2BZREDyBzUrNKMSsLFjNiBzD4HjuOJ_T-YI_v1.jpg","/img/emoji_cue_bg.png":"/img/emoji_cue_bg_Z-PQNF4DA6D9x_MKkwqlso9l5PSZ5z5GhkxS6rcG6Zk_v1.png","/img/empty_sent_2x.png":"/img/empty_sent_2x_GjcjchK9s2flIiObavCfvlQPZOhf_6jlecVXonR1Nuk_v1.png","/img/empty_sent_3x.png":"/img/empty_sent_3x_G1uee9qPo939ojt2UWmx1yz0qdzmd3NPYvjZHHD3jZA_v1.png","/img/empty_sent.png":"/img/empty_sent_fbt-M9XWJeAHLNBvMT4hGr3k8agNbKcpBM9eZkTnm5k_v1.png","/img/empty_shopping_list.png":"/img/empty_shopping_list__TkqtbHvXJwYUXEz_qU8Zy5X6_r8Ql2Kh7QciRa_SMU_v1.png","/img/error_state_1x.png":"/img/error_state_1x_PKSn0H8KFmeH0tZRJC6df7xcWtmAEyxWEDkleJx6QB0_v1.png","/img/favicon_alert.ico":"/img/favicon_alert_0wlMxfwHpReP5CbxNQJ83MuDlzpmdOmDKfB3x5Cfm-I_v1.ico","/img/favicon.ico":"/img/favicon_kJCAOFliMOfdwulmDAg-b-Rr1cVzRHU8pkXZ517KhvQ_v1.ico","/img/fbbot_cue.png":"/img/fbbot_cue_UGh-82n1HYQx0jwIRLjAApLfXUCEy6yBQpVywVUQlps_v1.png","/img/festive_graphic.png":"/img/festive_graphic_0uEfHHC7QHfyJ3S3YvpL_po11eQZLr5eyy6tvn0uYP4_v1.png","/img/filters.png":"/img/filters_yHgb1PmhFXeM7dA3NApWU8K4QgGdiHC2UV8JpuWk1TY_v1.png","/img/finish_onboarding_illustration_2x.png":"/img/finish_onboarding_illustration_2x_5_C-n3F0rNI5aIAVOUCHsCHvKcVjftrnZQOyzZHq0Is_v1.png","/img/finish_onboarding_illustration_3x.png":"/img/finish_onboarding_illustration_3x_0UgVFoHZDC6C0RvqjZojIL7mutNuEOr9hw4GweUlJ9A_v1.png","/img/firefox_logo_1x.png":"/img/firefox_logo_1x_xPvCiPmfQZ0mpEJ7_cVKMiVzeS7VxYwDMEqxk8fBLTE_v1.png","/img/firefox_logo_2x.png":"/img/firefox_logo_2x_uysP81r-hlniRJUTXOnANirKUw2PkA1W2lylDWkaE_0_v1.png","/img/flights_past.png":"/img/flights_past_j8zGHhIg_m-qx49p5E0JWMWRNg1GN66V5x84dXZzd-E_v1.png","/img/flights_upcoming.png":"/img/flights_upcoming_RantjpbGBMfbnfwBkbRYj7KH9_tD-FRJC-yHBNPsrKE_v1.png","/img/folder_success.png":"/img/folder_success_nB3DdyVLKalzmbfTl97IKYI6xLfuOF1tFKziAEUcYNU_v1.png","/img/frontier_logo_1x.png":"/img/frontier_logo_1x_kQZ5OZ55PMoarG1BEyE-iu6ttxuSjmHYGxkubuLU0BQ_v1.png","/img/frontier_logo_2x.png":"/img/frontier_logo_2x_66vuA_4liwbo0IjruRNZyMJjYfFng1yHQwp91ki6pRM_v1.png","/img/gemini_pencil_play.gif":"/img/gemini_pencil_play_QlDOpN6VzAygUq52NVG08-jnfkl_E15TlmXnFWrbTVE_v1.gif","/img/gemini_pencil_play.png":"/img/gemini_pencil_play_LEUjFFdlfoXu1AtRyMXjFNHYH-ma_MEiSbW7VHddqhU_v1.png","/img/google_drive.png":"/img/google_drive__ReH6t2f77rrmAzWdWjy9YZjbVSrzMTYnB5brwp0S3Y_v1.png","/img/grocery_background.png":"/img/grocery_background_s5jwgzKlo9VE1tfMTnPaeIwu6kG745MaV6Bf_hhRRqM_v1.png","/img/grocery_empty_state.png":"/img/grocery_empty_state_PJSdQev0lnEzOPxhxA4PWyRuNUPQuUsItWWitYRW3PE_v1.png","/img/grocery.png":"/img/grocery_f9dJsDExPq8ca2ISzd3f8PyGvM9yTbHSvHexQVebzIo_v1.png","/img/halloweeen_text.png":"/img/halloweeen_text_KE-BXGURTpZiCT-MxldphZjbC4WGMQLnzgBLNGJV9gk_v1.png","/img/halloween_article_thumbnail.jpg":"/img/halloween_article_thumbnail_HO6EKErsxhZm6qL21XKMczDrNn5vLwtR3j8vzItxW7Y_v1.jpg","/img/halloween_banner_1.png":"/img/halloween_banner_1_blvYE2X_mvrCGp90ExdHjAJLxG4DAMIdFnIo6CQcILI_v1.png","/img/halloween_categories.png":"/img/halloween_categories_2jwhBcRj0Yw15i2eAUAcDdeD3-7bue5Jt8BF-xt-Ico_v1.png","/img/holiday_card_upsell.png":"/img/holiday_card_upsell_TMnMGn51Dx7PzkOboqdCZSfHbcFCojIz_PDRbBMRkbQ_v1.png","/img/home_screen_3g_android_192.png":"/img/home_screen_3g_android_192_3f9Eq7lB_2dEZL00MPTQkLzCOMXw_NC8qghba98_dWA_v1.png","/img/home_screen_3g_android_512.png":"/img/home_screen_3g_android_512_ShwUvK31GQseOD7c6psuuKD9wj4iW0NPVzL1DhiKSOE_v1.png","/img/home_screen_3g_ios_120.png":"/img/home_screen_3g_ios_120_GyMo66uYkLtSAG5JP8C_Qsi8nbdUTBoWE7MUaTbzkIE_v1.png","/img/home_screen_3g_ios_152.png":"/img/home_screen_3g_ios_152_LoAFEi-cBgwIRvDXubAGDo_01jLytTD0IIccxFFlqtM_v1.png","/img/home_screen_3g_ios_167.png":"/img/home_screen_3g_ios_167_PujhkN14Go1UHzK1b206_u9briZQgWRgKvp8iHJuQso_v1.png","/img/home_screen_3g_ios_180.png":"/img/home_screen_3g_ios_180_pHbes1tBcBiRmL74ZjabHLkLKY36Agcv0sI5wzOGD9w_v1.png","/img/home_screen_android_192.png":"/img/home_screen_android_192_HhDxuHELFPqfjx7sc01pWnI7E2jnc0oQyEIDd7wkg_0_v1.png","/img/home_screen_android_512.png":"/img/home_screen_android_512_xFXDztzgEs_qPk6JYHtS0BkQMlZcRWKszdbwc59_tWE_v1.png","/img/home_screen_ios_120.png":"/img/home_screen_ios_120__QnvRjzKYlIMKPJEqWltmadnpLrJtBeMFtnXmJS6SSk_v1.png","/img/home_screen_ios_152.png":"/img/home_screen_ios_152_-XMniI1egNiZSc2mVlekAVQhLhMg2iJvS8c-oqSC4L8_v1.png","/img/home_screen_ios_167.png":"/img/home_screen_ios_167_hZSKR2GMx1nhmbQn7_YB2OarRP-ojANhV3z0WvpkHiE_v1.png","/img/home_screen_ios_180.png":"/img/home_screen_ios_180_DJ0UEXpXM9v2tssfCohCI08Hn_TVL_dfwqYvGGs7CQE_v1.png","/img/hotel_search_header.png":"/img/hotel_search_header_77deu34EKBWxHgkoee-dLux-d1EcYqo-YFXFCSXP2OY_v1.png","/img/icon_alert.png":"/img/icon_alert_QAOF3wxCVUv2M77-Ou2cD-tiiDm5bK2M4mBRMjqBoVU_v1.png","/img/icon_chrome1x.png":"/img/icon_chrome1x_nMPfEt2mF3tPcpQT15AkBw0yIQe5MRDnBiYsHiSg4tg_v1.png","/img/icon_chrome2x.png":"/img/icon_chrome2x_PjFwQ2xNtXAGL8gx4aKL4tnUDq4kyq74R4Syliu4CYo_v1.png","/img/icon_computer_2x.png":"/img/icon_computer_2x_PHaA5eK8hl5Md77XCzfYVIKVqlCHJv4LnnwuzKsEOY0_v1.png","/img/icon_computer.png":"/img/icon_computer_Ly0sb_a4L92Gc6T3P4r_ROGho9bLjp6ibVEYw4w0ZC4_v1.png","/img/icon_mail.png":"/img/icon_mail__B65oasTtMfqAvhH2Nc9WL_yH-sifCdLFw7UykqE9C4_v1.png","/img/illustration_subscription_empty2.png":"/img/illustration_subscription_empty2_czw_kTEI5fjptAJkOQzY-PDm5pRBV3IG08YPbngmc6g_v1.png","/img/imapin_providers_1x.png":"/img/imapin_providers_1x_koudnHfClor5d4nwE8RFQaAaH6bhKfu_CjJiAo6lKto_v1.png","/img/imapin_providers_2x.png":"/img/imapin_providers_2x_yf9oqKM3EAPKYDokudZP3Wd26uWLBhcPyO24SVR1ZdI_v1.png","/img/imapin_providers.png":"/img/imapin_providers_4kKhxZqnIuXWgSgyC--6UxBFgBg59eQDwozEk4PUW9I_v1.png","/img/landshark_close_v2.png":"/img/landshark_close_v2_iwb8fxruLJwC6JD7xGwBRK-iE9-a3CBaUsPY1TH0Njs_v1.png","/img/landshark_close.png":"/img/landshark_close_U6n9PguTQSJC6JUn4Xeb37kS3i9F5JPY4cqxNyVf13k_v1.png","/img/landshark_coupon_landscape.png":"/img/landshark_coupon_landscape_XYyAgWf3O8u2byo-AYdYv545BcUWS8RoWHSO-FH170k_v1.png","/img/landshark_coupon.png":"/img/landshark_coupon_zhzdRX5MbBQf7-hZ5r-W0yGXBzISAhKsRXPyX8L73s4_v1.png","/img/landshark_gifs_landscape.png":"/img/landshark_gifs_landscape_WQRT9pH-zakCO7_eK4l0S7fIrms_KH-pDj27d7EnoQo_v1.png","/img/landshark_gifs.png":"/img/landshark_gifs_Wfq6fs_5BJ0u2dO-rxCk-hc96aoJe54YiOS6eObaT7k_v1.png","/img/landshark_hdpi.png":"/img/landshark_hdpi_qoRq87zJfv0_LLc9XnQMXtqHhiKjcHpNCjiYwlligOo_v1.png","/img/landshark_illustration.png":"/img/landshark_illustration_KaKnYw4O9lIOgXRswaSygbzgAkEETelPxZ7Rty5UD3c_v1.png","/img/landshark_logo.png":"/img/landshark_logo_ybxxnTqG__IW0zErfX2E5OaDHZbszjW8THOICsh5kRI_v1.png","/img/landshark_mdpi.png":"/img/landshark_mdpi_xCflXY7QXMf_iRTyv6Mrs4e19sYdB1Vul-Y7eUwE7Y4_v1.png","/img/landshark_notification_landscape.png":"/img/landshark_notification_landscape_J7hgOLx9U3lu0lpoEtdn3YU6q-vBniuSRkU5ZYP72n4_v1.png","/img/landshark_notification.png":"/img/landshark_notification_vLVx4zkbEZ5E8HzpAuDX7kaw7ALHS2zMOtPpguFCNY4_v1.png","/img/landshark_star_rating.png":"/img/landshark_star_rating_eCQB0KVowZc7vIwHooY2izBCqwVIUU4lkJDmFNEbL4c_v1.png","/img/landshark_tablet.png":"/img/landshark_tablet_TLEfOpvEk6Vc35620y4j4MfMcgPJMp87tJ4scLSANWI_v1.png","/img/landshark_yahoo_app.png":"/img/landshark_yahoo_app_h5IKZHZsQBYv0Iy-VmaAYe6GkNTyuYrFiyACj6n9jIA_v1.png","/img/lighthouse_bg_pattern.jpg":"/img/lighthouse_bg_pattern_jpjqmQ-nwLBVZ5y8OjrL5-i1heaJ8IWPnJUjf1IUIyk_v1.jpg","/img/lighthouse.jpg":"/img/lighthouse_PUgvxDHl-qtULKc42tNN15lR_dAJgTEZF2_nVB1LpHE_v1.jpg","/img/logo_aol.png":"/img/logo_aol_clxvkBqQO5A4NyDBQL_XUQnYFNgJc6w7wBBB9JK4ZXI_v1.png","/img/logo_bookingcom.png":"/img/logo_bookingcom_SjLhCyprQQMNkJQezGRPDxCPvO_nU4Onk3YUIES8bFI_v1.png","/img/logo_google.png":"/img/logo_google__aTo1DuheYRfWYlCK2bkqqQ8B0MCtpVBqJiEhsZ7N-w_v1.png","/img/logo_hipmunk.png":"/img/logo_hipmunk_fYUTx1uP8id-X4RbsLc4Kpf1ABSkdNuiTYH1RBtWZBE_v1.png","/img/logo_outlook.png":"/img/logo_outlook_3qQfp6WXMHdFhQ_3mEUKenPJSCirJIquWiRKJYiZHaI_v1.png","/img/logo_seatgeek.png":"/img/logo_seatgeek_ImpK17gPzk44uSv8A_WpYoEFJFkJFUK0sWv42VmRMkw_v1.png","/img/logo_yahoo_192x192.png":"/img/logo_yahoo_192x192_vr6aFgo5aAbRZ4r-JZHcykubmdJhqVATpH8mna4wl_Y_v1.png","/img/logo_yahoo.png":"/img/logo_yahoo_NCltWA5ApN7a1rUCdSG8Jly0nlgFTOu5mPPMqYTMOrY_v1.png","/img/mail_att_logo_2x.png":"/img/mail_att_logo_2x_ZIBWVQIP1YytSu5BoVPN5qIGK3MJ153JA27LC6qEswo_v1.png","/img/mail_att_logo_3x.png":"/img/mail_att_logo_3x_RXcEK4_G2B10EDMKFv7Gh279bLFwTZ5XXQEVD5Q0Bro_v1.png","/img/mail_att_logo.png":"/img/mail_att_logo_axTSmk2LC_mgSY1OUwb_Yeqkd5U3UQM6LD2bsb8bkug_v1.png","/img/mail_logo_1_2x.png":"/img/mail_logo_1_2x_B2CE8ywvwV5cBlssyru2x8jZczu-3z-0OCic7iHR7TU_v1.png","/img/mail_logo_1.png":"/img/mail_logo_1_05WibzspZUTzEde6qQorLAqCcGWyEDM57nEXJh3mFcc_v1.png","/img/mail_onboarding.jpg":"/img/mail_onboarding_O6Ucamw93q_XxSSrwFmA2gHcpwZfapblbG2CYKR-FAY_v1.jpg","/img/mail_pro_badge.png":"/img/mail_pro_badge_qyLbrdGnKGfG0HbG1hyOsQ0RTjSSu8z0DgzOTgoLUUs_v1.png","/img/mail_pro_nomoreads.png":"/img/mail_pro_nomoreads_F1MNaI1YIoFU0YFMvbArpNllAp5bputOiQXXpib4V8s_v1.png","/img/mail_pro_support.png":"/img/mail_pro_support_wUBKtvN-m1VwLIBI3Pd0b5zXREVCIhoVtO4qtzIJ8sI_v1.png","/img/mobile_imapin_syncing2x.png":"/img/mobile_imapin_syncing2x_GTe6ObaIxC9MKM9jWdo66fezuMraGMiigrrhLnjM3x4_v1.png","/img/mobile_imapin_syncing3x.png":"/img/mobile_imapin_syncing3x_7r181Lmkfbo6wJKVW7a8IjgEzJ3Alaw65hY7XMAzidw_v1.png","/img/mobile_onboarding_bg_stars.png":"/img/mobile_onboarding_bg_stars__QHV_uZ5TvgKh5VnDeHQ1lHbFKIVzC2d82MhuaxMJ_s_v1.png","/img/mobile_onboarding_compose.png":"/img/mobile_onboarding_compose_LiQHwNkEYsbIuXHZmjSr6_QwdY0ZtNTyjpKwxfhZz_M_v1.png","/img/mobile_onboarding_done.png":"/img/mobile_onboarding_done_2C_rqACUf2j-00rIHfm4yfAGv5rt5H1aAbEzSsFPFPQ_v1.png","/img/mobile_onboarding_folder_list.png":"/img/mobile_onboarding_folder_list_9GwuPfJ_x_aq7855j9zrw6-A8YbVLvNXWJx6UVsOmco_v1.png","/img/mobile_onboarding_mail_orb_2x.png":"/img/mobile_onboarding_mail_orb_2x_ey2-alwPCFLIlIhXuPPY8x02x4j1tavRyt0yZzBBwhg_v1.png","/img/mobile_onboarding_notifications.png":"/img/mobile_onboarding_notifications_WtchBYwcEgpCWdqF7wp_KkOkkvNkdrNzYIj4Ge3LtnU_v1.png","/img/mobile_onboarding_swiping.png":"/img/mobile_onboarding_swiping_JRQWQvb24EWJmZUw-pDVkFC1zAttnkz9131_Yw0TFhI_v1.png","/img/mobile_onboarding_welcome.png":"/img/mobile_onboarding_welcome_fNk3h0ag2KzkQHnP28eiOaA7KI4azVIyAw1U51-QEYo_v1.png","/img/mobile_welcome_illustration_1x.png":"/img/mobile_welcome_illustration_1x_b0Vr_fdtwIoUUUExkylOJGz8Yn3EJ0mb44PKTM82Rm0_v1.png","/img/mobile_welcome_illustration_2x.png":"/img/mobile_welcome_illustration_2x_wK992Trcp1CqKfCxhcGMCIPrgwnrn8tIO6aX-y2MeiU_v1.png","/img/moms_day_upsell.jpg":"/img/moms_day_upsell_0Uptnu1vMNzQ-WnrXzWgU5cJsz-dOmVfh7SfC6abfbA_v1.jpg","/img/money_envelope_and_cc_illustration_2x.png":"/img/money_envelope_and_cc_illustration_2x_5LE_jAA5XRafUrLi40pVK1jsECCh9Fdoj8x1F3bM4aY_v1.png","/img/night_landscape.jpg":"/img/night_landscape_9rgor26l7kpsUIU_xuRZqIsKlx81vItVRrizcEVmK8A_v1.jpg","/img/notification.gif":"/img/notification_-rcyzPQT7KY2ZjtO4OwJRrn-Cjs7DhLJ03HAWS1tLq8_v1.gif","/img/offers_empty_state.png":"/img/offers_empty_state_F_AAtT8EWnRg5l_lrCiBTF1tJ81kyA6j0svkfLr4S5A_v1.png","/img/offline_state_2x.png":"/img/offline_state_2x_ADY9JQ2tMLM6k4voDBmpuFgCX5_oTvfPqDkZJnWfIss_v1.png","/img/onboarding_cue_imap_2x.png":"/img/onboarding_cue_imap_2x_SGlqr9zeZZe0euLWP6vU6XginBQ5CidA2eHXs1uVYc8_v1.png","/img/onboarding_cue_imap.png":"/img/onboarding_cue_imap_yWyhwokr3gKc96RTJzOsJCXJSckhDaQn7Ozza2aZG1o_v1.png","/img/onboarding_cue_notification_2x.png":"/img/onboarding_cue_notification_2x_IXLF85hmnjkTzGgEXbh18hkgs7_v5YON8QAbIwzShwY_v1.png","/img/onboarding_cue_notification.png":"/img/onboarding_cue_notification_rZIMLqk3IcbY_7gSdeaDViuFSnAWJ1NQt2JhoR8pvxw_v1.png","/img/onboarding_cue_themes_2x.png":"/img/onboarding_cue_themes_2x_1d5n5Shc3Xeuk38Dax41tCIhSxnqbUSqhBjMiE0aoVo_v1.png","/img/onboarding_cue_themes.png":"/img/onboarding_cue_themes_Zca6nK62x1zdd_xBVk28jPiGQniKTw0Z574FI8FO_wo_v1.png","/img/onboarding_cue_top_1x.png":"/img/onboarding_cue_top_1x_Fp8snNV_hyx71Q8PYf6GOkQyH2QvB5nBfHO6Mw8PYCE_v1.png","/img/onboarding_cue_top_2x_att.png":"/img/onboarding_cue_top_2x_att_J9iSRWP-q2nJwfLBO-bZV82RmZuMieW07ot0ZsDyJd4_v1.png","/img/onboarding_cue_top_2x_bt.png":"/img/onboarding_cue_top_2x_bt_u7n2bVkuW2BLkFjTe3Tis4WGHDfxxO8j0cFyAM-VXHs_v1.png","/img/onboarding_cue_top_2x_frontier.png":"/img/onboarding_cue_top_2x_frontier_dowLOcdSOr7MgNQNh5C23a6NQJ1j9n7OUA7Z9SOHlvs_v1.png","/img/onboarding_cue_top_2x_rogers.png":"/img/onboarding_cue_top_2x_rogers_6E-Xw1ppVO7dTbF3kk5xdv3Ok-DotLnprfHZbc3SVmI_v1.png","/img/onboarding_cue_top_2x_sky.png":"/img/onboarding_cue_top_2x_sky_oitgn_QcKIk_uq5bxjKK8QPBkUJu9teGmn0EjL3rRWA_v1.png","/img/onboarding_cue_top_2x_verizon.png":"/img/onboarding_cue_top_2x_verizon_u9E1S4gQXLeen1aNyx6X2PGda_A55nzgu1Hlf8qV8VU_v1.png","/img/onboarding_cue_top_2x.png":"/img/onboarding_cue_top_2x_wN2hFRldOka69jNOjBMEgKtEoCEy_27nhPUH2yC_LL4_v1.png","/img/onboarding_cue_top_att.png":"/img/onboarding_cue_top_att_uGpp-MD_riLCAiD8j9w6IPw-q_l-7akw3h4LeOKt7DQ_v1.png","/img/onboarding_cue_top_bt.png":"/img/onboarding_cue_top_bt_9sggAIp0vp_pMQi9PFrIN6koeBxKOSQhcnYzU8_Byf4_v1.png","/img/onboarding_cue_top_frontier.png":"/img/onboarding_cue_top_frontier_V20oRBMHCc_7SVVL1Yz0Kv52hCQcLrmmxY87-MiLbBg_v1.png","/img/onboarding_cue_top_rogers.png":"/img/onboarding_cue_top_rogers_qWeZDyA7DOfOwDK-sdmNy4GBEkDhgcTJMOqNHL1Ov5A_v1.png","/img/onboarding_cue_top_sky.png":"/img/onboarding_cue_top_sky_3kPLrf-AM5bCIDH07dazvweXalNfRq6ZO1YY2Fpi7o8_v1.png","/img/onboarding_cue_top_verizon.png":"/img/onboarding_cue_top_verizon_Bck_qzvAYFG-PsAo4o0uRfABt3P8q9X9bOteSKSg19E_v1.png","/img/onboarding_xavatar_2x.png":"/img/onboarding_xavatar_2x_o7rLmrz4nSL_aMT8zs74EDj3EX6P-k_Agb_tzSWb8tU_v1.png","/img/opt_out_bg.png":"/img/opt_out_bg_PppZ_B01W7h3CQopBxz8dVaFQxebyaZUhnXMEfm6GRo_v1.png","/img/opt_out_chick.png":"/img/opt_out_chick_eEVB-cwUSajdACIrAB8VQ1lAJIqln9L8OaKUtSaJPNY_v1.png","/img/opt_out_sad.png":"/img/opt_out_sad_KqhlmFfpxWIqm0mjPpYWxa7W3XkLvLDU41IlRVA5MbU_v1.png","/img/orbs_2x.png":"/img/orbs_2x_5hs8yr56EA3smA2MDEy4yU6k_0ueMWLwrUHQ2IF_LFg_v1.png","/img/people_smartview_cue_2x.gif":"/img/people_smartview_cue_2x_CoMJr8nicOvYe2f6mMw3zXRumfQlvqbT8FqMaa6SpJY_v1.gif","/img/people_smartview_cue.gif":"/img/people_smartview_cue_i0R2Kka_41sqZMqP_RTYZqbO3WsVtkt9g_yQxASVcnk_v1.gif","/img/personalize_inbox.jpg":"/img/personalize_inbox_7-LGmVnMKvVuTBu0gg6RnHWULPu9o9ifBDe-Xm8BY58_v1.jpg","/img/pumpkin_background.png":"/img/pumpkin_background_uUMdjZrLqhSHUwbC77Dh9K_JWhKXyf7uHPHbN6A6_nM_v1.png","/img/push_notifications_onboarding_2x.png":"/img/push_notifications_onboarding_2x_jr2WrhLbo8ryIvLt20HECkyCcp6hqlTLAughQ6LluzQ_v1.png","/img/receipt_empty_state.png":"/img/receipt_empty_state_NvQLXDbo2xN6pPiIJwVpzb8gS6ewWs__fH2zHOpnhVk_v1.png","/img/recent_attachments_empty_results_2x.png":"/img/recent_attachments_empty_results_2x_G7rl33VziYJVJpLj7691Zmht5OsH2MF8SCRXwq0-H8w_v1.png","/img/recent_attachments_empty_results.png":"/img/recent_attachments_empty_results_y8gvTvEyKoANC8fCrKtWsWtX1BNEi5BhWGtOqxa_fcs_v1.png","/img/related_searches_tag_dark.png":"/img/related_searches_tag_dark_7GlAJLCPBfBnLvkwqwRNSB0khyFthPyLLJb9kQCHky4_v1.png","/img/related_searches_tag.png":"/img/related_searches_tag_Qe4hfsuRE4PXyYWndHPqdweTYG7jiv1KVWw-y9j6598_v1.png","/img/restaurant_search_header.png":"/img/restaurant_search_header_50uLcMJuKl0uDQ8KMLzwaugIagIScHbwmgCxgIk9p7U_v1.png","/img/roadtrip_bg_pattern.jpg":"/img/roadtrip_bg_pattern_GKkcDbxgblfi6EviN4vsxVUOhk1T40pycArKn6wc15c_v1.jpg","/img/roadtrip.jpg":"/img/roadtrip_YRCZDn6VBhz00-3mX5tqRuktIJ-yWKk7fMo1u80pjXw_v1.jpg","/img/sad_folder.png":"/img/sad_folder_7nLfKu3WMz6uv75DD-20GtKeZ1g_xJzr2U0QnKTnHKk_v1.png","/img/search_onboarding.jpg":"/img/search_onboarding_Pdur6X8BSMGE2nB9cxvZlHaIkhBdMylpnJQ-lTrqb9g_v1.jpg","/img/search.png":"/img/search_nxtW6l_NJOwEnio_M7xJDtgKV_HxwgdpuPgJSx4njj0_v1.png","/img/selected.png":"/img/selected_JXzcUlmXnDHG9e5Gs1MpbWwGKUhqG6IpMx02NvcVDpU_v1.png","/img/shoprunner_yahoo_vertical_2x.png":"/img/shoprunner_yahoo_vertical_2x_F_fzWCjkwvu5oueKL1r14y60nhfMsHBuyvwt-ytv9rg_v1.png","/img/shoprunner_yahoo.png":"/img/shoprunner_yahoo_jqd5nsBq6dlucnR6HKiAYJgi0b9_ulXbQ2t0YuuIxMA_v1.png","/img/social_accounts.png":"/img/social_accounts_I1ShhMBBcBxec-IXiM2btQvSprw24-yIWTkFHUYKDpk_v1.png","/img/sr_truck_1x.png":"/img/sr_truck_1x_WD2WQEV7llCc_t1_crntGCP2kOKWuJMQDALghdzL_tQ_v1.png","/img/srlogo.png":"/img/srlogo_vaDyvbBhkvyBKJjeMj9rHEWnujjiMVefbvY4XUNjbsE_v1.png","/img/star_animation_orange.gif":"/img/star_animation_orange__ntVn5lQMPNSdqtjQRSF8UI8xsL_KdGGMH-Azy8I-Hc_v1.gif","/img/star_animation_yellow.gif":"/img/star_animation_yellow_5y9rgBZfln6MoTN2zXCaK9RzSlEqF1q-gET8jsYrRfs_v1.gif","/img/star_burst_colorful.gif":"/img/star_burst_colorful_6dqE9cj8d1lfi2O4CCn751Y0xpSTXt2-3OJ15arJy-c_v1.gif","/img/star_burst_dark_colorful.gif":"/img/star_burst_dark_colorful_XRTSpCp0Srcyo3SYEY_FNRMavqGsk7hf_vAZDS6AHcs_v1.gif","/img/star_jiggle_dark.gif":"/img/star_jiggle_dark_vJjiqRFWWpfeWo1c0EE1OnRM3C3GT-LCj1-IKBaW30g_v1.gif","/img/star_jiggle.gif":"/img/star_jiggle_mHRSWCxuDP22UpMVWUIHksRgw_KP5K_zUbJC_O4xyz8_v1.gif","/img/subscriptions_huffpost.png":"/img/subscriptions_huffpost_EQuPep28iO4Qs8w0z7y1xtvD4kySIn5BPfK5oRQ9fF8_v1.png","/img/sunset_aussie_bg_pattern.jpg":"/img/sunset_aussie_bg_pattern_OtDs9lJ_KqQskm6N5td0qQXWpvzgFeOlL9ca-paHPwI_v1.jpg","/img/sunset_aussie.jpg":"/img/sunset_aussie_lDtSmc_s8KyaEHRdT0D5QTYtMLbMX9NWJaD1E9cKRXI_v1.jpg","/img/switch_off.png":"/img/switch_off_Di1Kgo4KD9j3azS2nLJZ68iXpCAcYA3o1-xNm4blojE_v1.png","/img/switch_on.png":"/img/switch_on_Wlw72K_E_YuckQjBLpAmhqSn5QZWV7W4jjB_UPlvhwU_v1.png","/img/tenor.png":"/img/tenor_oxJhYeiAd8fUcrdVfozpyGSSYmgt7DKIkdiYMrOUFmI_v1.png","/img/themes_cue_v2_bar.jpg":"/img/themes_cue_v2_bar_QpyOioVctDS-i609elkNIIu0ynwzJpCL1cQMjmVQjWw_v1.jpg","/img/themes_cue_v2_bottom.jpg":"/img/themes_cue_v2_bottom_kMvwy2p5JGMeNzp9EmZVXNIVchk9qKR9HlLik_LcG5E_v1.jpg","/img/ticket_search_header.png":"/img/ticket_search_header_5ImyEhQZb87yNx7lNftniOMkqmOGwPao_DDwUWaK198_v1.png","/img/tmr_atos_suspended_panel_dark.svg":"/img/tmr_atos_suspended_panel_dark_nJJjwLOQIp1MGbfSsZYoh56KVK45rwrv3FOgExOw5kM_v1.svg","/img/tmr_atos_suspended_panel_light.svg":"/img/tmr_atos_suspended_panel_light_SzR69AEbmjE2ZmaPwwGYGySka96eaaKINORT5jmRLds_v1.svg","/img/tmr_daily_checkin_icon.svg":"/img/tmr_daily_checkin_icon_h9LwR2qtsqsNOJiivXcZyR93vAZLGEPXYD45q_p_xjI_v1.svg","/img/tmr_hk_atos_signup_cue.svg":"/img/tmr_hk_atos_signup_cue_siJPlOFLXRmIwzw4ph2Q1z8puKe2rDYb3Ckp6INMtzg_v1.svg","/img/tmr_hk_atos_signup_panel_dark.svg":"/img/tmr_hk_atos_signup_panel_dark_248KsNeV5dXCaaIdk19cp3rWDHtuYllKkEUt6QR6Rvo_v1.svg","/img/tmr_hk_atos_signup_panel_light.svg":"/img/tmr_hk_atos_signup_panel_light_UpkjdO18tqQ1FCsvfnm8XuEvG5WGYNRZcfYbmWjQImw_v1.svg","/img/tmr_hk_atos_upgrade_cue.svg":"/img/tmr_hk_atos_upgrade_cue_asZdiB_6Nz45e0kcS4d-ZjFzQRyakOjyo98wn5mlZ7M_v1.svg","/img/tmr_hk_atos_upgrade_panel.svg":"/img/tmr_hk_atos_upgrade_panel_Y0S-IHeTAl3pLsMYs8qsQmrfDE-Fjmn0S81CfGzWDWw_v1.svg","/img/tmr_hk_onboarding_cue.svg":"/img/tmr_hk_onboarding_cue_a-gri8d4VMqiJpXOAlHHOhiXHV34bpAQIB6kqNJE2Mw_v1.svg","/img/tmr_hk_points_icon.svg":"/img/tmr_hk_points_icon_LzW4b9so8HYViendz73THM2Nc4H8jDorMCl5HSuEtw4_v1.svg","/img/tmr_hk_rewards_superapp_qrcode_dark_1x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_1x_WsJKjdLBOXEDi0dmJUHqc6zwki0ME_dJaDX9yyXwVvU_v1.png","/img/tmr_hk_rewards_superapp_qrcode_dark_2x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_2x_G5V7qe8zGBK-kQTbgc5x_hwrShA5rPvC_LmocvY0_58_v1.png","/img/tmr_hk_rewards_superapp_qrcode_dark_3x.png":"/img/tmr_hk_rewards_superapp_qrcode_dark_3x_huROKuylgRLsMsSHnT5b-T9VpuS9NVolUxoYzfnzbP0_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_1x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_1x_ewoEZsNxkGVuD7jSgCReRiYoyTn_WTWBDISq0exQhIo_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_2x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_2x_91D4iHRiDflKFuM44ToQulv8ebq8R_2NhNlN6V__ccg_v1.png","/img/tmr_hk_rewards_superapp_qrcode_light_3x.png":"/img/tmr_hk_rewards_superapp_qrcode_light_3x_xf5C4qUecrjtiT5g1t1PwHljzZAGZNsiOLhH3kTC5T0_v1.png","/img/tmr_hk_task_completed.svg":"/img/tmr_hk_task_completed_S0nx9UDaUVGXZM-cjdPcFaP0kNWyZlMxD26ZZTy4iTI_v1.svg","/img/tmr_hk_task_notify.svg":"/img/tmr_hk_task_notify_xCPzczaksUYM2VsXQkELuZzgFmGMIGc4pGXkRO0uUh8_v1.svg","/img/tmr_hk_tasks_superapp_qrcode_dark_1x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_1x_SrQClsKmIX9_0CIzjzxkmGj9sBSool9rryLWd0ZEaXw_v1.png","/img/tmr_hk_tasks_superapp_qrcode_dark_2x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_2x_uxvqEFcrd2OSWwHKKHBB2GqVnOLRa8-1PKDaijnecVk_v1.png","/img/tmr_hk_tasks_superapp_qrcode_dark_3x.png":"/img/tmr_hk_tasks_superapp_qrcode_dark_3x_9RwocGHKyEtytsvBJwBtCYF_afo3tWnCKQTs7RH8tN0_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_1x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_1x_WIbc85Ew4KDi8Ln0k8FLsPh6dyn8UpzLx3mTdpt_zHA_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_2x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_2x_pqMIvDtqpdQ4Kw3vA-Nc8tjyJQHajaKC1HhlLeGTj28_v1.png","/img/tmr_hk_tasks_superapp_qrcode_light_3x.png":"/img/tmr_hk_tasks_superapp_qrcode_light_3x_Zn3FES1uZSjToqjgy-u78snJJGFdIO80CqefqlV-lX0_v1.png","/img/tmr_icon_appstore_blue.svg":"/img/tmr_icon_appstore_blue_L6O4vGQE7Z7lNpp1sgGoDt4d89RjZBs6JoBlPQRofaw_v1.svg","/img/tmr_icon_appstore_white.svg":"/img/tmr_icon_appstore_white_i9s35KdS1DWJDCBfM6ntvCDiCU-yoQcj3-vIT6YFIfE_v1.svg","/img/tmr_icon_playstore_blue.svg":"/img/tmr_icon_playstore_blue_lK5gw1Jw24KeOMHL3CwzgK2dhSNP68Md610un363hRo_v1.svg","/img/tmr_icon_playstore_white.svg":"/img/tmr_icon_playstore_white_PZjZuD1P-qpMo256MdGgtCIYA29mvy8c4y2_-OIA6JY_v1.svg","/img/tmr_question_mark_dark.svg":"/img/tmr_question_mark_dark_MXHGFy-voIxTfhs3Daa_N_XE-Jq0cnUpvsnKmpQDrMA_v1.svg","/img/tmr_question_mark_light.svg":"/img/tmr_question_mark_light_YpARD4_Cejz2q4-CyGK9lDePzwmrYIQ_TeGU9y24KhI_v1.svg","/img/tmr_rewards_icon.svg":"/img/tmr_rewards_icon_ffHU2TYF1rgeQuUbE_dduJKHYElq7xc9wAesBF6suto_v1.svg","/img/tmr_star.svg":"/img/tmr_star_ez42In8-7U11X6JEKdxe-SBPfZrPta9qNIyrX7dJKCE_v1.svg","/img/tmr_tasks_icon.svg":"/img/tmr_tasks_icon_KP4-B6cRgkamviTI0VdrAAD1mpGl05_n0aOsGnDexrY_v1.svg","/img/tmr_tw_atos_signup_cue.svg":"/img/tmr_tw_atos_signup_cue_rqZxXeUgEMD815CyqVhOJsEGwkj0Hp2kixnW0TCJe-4_v1.svg","/img/tmr_tw_atos_signup_panel_dark.svg":"/img/tmr_tw_atos_signup_panel_dark_fVYqp3Q4QQ95J8s1C7q8JPY-QdiUfd12NcPd067M0Qk_v1.svg","/img/tmr_tw_atos_signup_panel_light.svg":"/img/tmr_tw_atos_signup_panel_light_DU_T9dF5sm2H30KMJVbAUuHPjC-16bITb-p5wD4OR7s_v1.svg","/img/tmr_tw_atos_upgrade_cue.svg":"/img/tmr_tw_atos_upgrade_cue_9qeKrR0SZ5xMQxWTudUfzLKXedyWkmq0uQVktLeKRGU_v1.svg","/img/tmr_tw_atos_upgrade_panel.svg":"/img/tmr_tw_atos_upgrade_panel_6PViAopePRYKLJOJW9ZU0eUx2mffpp-jzwes8fw3q58_v1.svg","/img/tmr_tw_onboarding_cue.svg":"/img/tmr_tw_onboarding_cue_SoCqrV4St2xbzIbevP31xO4IkGlsn0EK_Nr1vvgoR28_v1.svg","/img/tmr_tw_points_icon.svg":"/img/tmr_tw_points_icon_ZMjMh3W6ynW-7une6GV_rBTt43H8q7jEi2gBDsXjwf0_v1.svg","/img/tmr_tw_rewards_superapp_qrcode_dark_1x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_1x_vk7DlQs6Atd9Qc6X0Rez5o0R5OlmCAOiOPL1f7DJd4k_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark_2x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_2x_ZMgABktkv4APnxJqRHelwnAXRppLadtjQMFod6NhvMI_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark_3x.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_3x_d8eFAldMEMAjzhxYJg8YhwYxAKUuCmzwx1uqvmcq6m4_v1.png","/img/tmr_tw_rewards_superapp_qrcode_dark.png":"/img/tmr_tw_rewards_superapp_qrcode_dark_d8eFAldMEMAjzhxYJg8YhwYxAKUuCmzwx1uqvmcq6m4_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_1x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_1x_aoUyJh4vM9V_IYte-1Kvbr-FFbQ_fqC8l8Fo3_4LaDA_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_2x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_2x_jd-jMSeqlp-APpWfn2dHuUyn5AOk2A2FdjPocvc6juw_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light_3x.png":"/img/tmr_tw_rewards_superapp_qrcode_light_3x_28Vv4qfIjB2537y2WOCRMCBo1-8ek8R-hHhh7y8mC4U_v1.png","/img/tmr_tw_rewards_superapp_qrcode_light.png":"/img/tmr_tw_rewards_superapp_qrcode_light_28Vv4qfIjB2537y2WOCRMCBo1-8ek8R-hHhh7y8mC4U_v1.png","/img/tmr_tw_task_completed_bonus.svg":"/img/tmr_tw_task_completed_bonus_5tsAotoQKG3NVU2pvmkrqM8Kl0qKFTSBBOnbzDT8HEU_v1.svg","/img/tmr_tw_task_completed_regular.svg":"/img/tmr_tw_task_completed_regular_ARPe0vrpJinaCApZir1tSlEONnIViojre9R2WDFvBR4_v1.svg","/img/tmr_tw_task_notify.svg":"/img/tmr_tw_task_notify_xnb6bx1i4hfV_xlqJ-vsnGwY67Ng23SHuaMzeFDJI58_v1.svg","/img/tmr_tw_tasks_superapp_qrcode_dark_1x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_1x_vf6xZE3QInFwqNKljGQ7E8ywEj0sh8nOHMsWkxaaOZs_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark_2x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_2x_5RWYZ97CB9IKB1bKooxDM12ptgWXfZbKqsfsJIWVvEI_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark_3x.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_3x_bKEgAZjN6yJacqAT3yfF9EuUAs6msMWj8yF_vBT3_jk_v1.png","/img/tmr_tw_tasks_superapp_qrcode_dark.png":"/img/tmr_tw_tasks_superapp_qrcode_dark_bKEgAZjN6yJacqAT3yfF9EuUAs6msMWj8yF_vBT3_jk_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_1x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_1x_k4ElpMn1QpV2g6S5r-WsAU5oFgdxQIQ2u_ImErzof-M_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_2x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_2x_0K-eF-KkblZ50NzlNDxWR9uNjppiQGsP1TGAir2WEvM_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light_3x.png":"/img/tmr_tw_tasks_superapp_qrcode_light_3x_kf-Xmln0WaNrnLdIG8qIsmeto9TZ_1cHmC0mM6CyhmM_v1.png","/img/tmr_tw_tasks_superapp_qrcode_light.png":"/img/tmr_tw_tasks_superapp_qrcode_light_kf-Xmln0WaNrnLdIG8qIsmeto9TZ_1cHmC0mM6CyhmM_v1.png","/img/tmr_yahoo_super_app_icon.png":"/img/tmr_yahoo_super_app_icon_KsyuyLl9P9rwcY9PZpzEwam-CeD6VouhaQoXix6fWmY_v1.png","/img/trap_page_browser_logos.png":"/img/trap_page_browser_logos_B-79fPQgdrKjQTbGakS6Ob4xuZjSJhzf9yL11Acmqgc_v1.png","/img/unsupported_browser_bigtriangle.png":"/img/unsupported_browser_bigtriangle_rkPMKyG5t8pCl73gZ6IZHu4w46_nJCVX0BupaxCTbGU_v1.png","/img/unsupported_browser_circle.png":"/img/unsupported_browser_circle_WLzOkaj7xTxe9oEHSaZDOJDhTAjKwhCQUfmBqIcT5hA_v1.png","/img/unsupported_browser_maillogo.png":"/img/unsupported_browser_maillogo_I5EKIAwsb8YvZ1PNEfK3yw6QAsLjc8YtmFG3lRCUYQU_v1.png","/img/unsupported_browser_phone.png":"/img/unsupported_browser_phone_writpnVtNgQE3flcPogwDxTQojsUY6Rbt62VkGXdUD8_v1.png","/img/unsupported_browser_smalltriangle.png":"/img/unsupported_browser_smalltriangle_toRjtBcf56AbRF9QNaLi2GQ51e_ff1BN7-cOUvqmnQQ_v1.png","/img/vacation_response.png":"/img/vacation_response_FEynu9gYqFEdlS2AtsCLXUDOS2-oYXqQbBELhcCQJPY_v1.png","/img/viewing_email.png":"/img/viewing_email_wUyyBFfRqELtfdvE28PBha2fq0uwckTwIzjVwfm4tAA_v1.png","/img/welcome_illustration_1x.png":"/img/welcome_illustration_1x_Z8aywhUp45G9siDIJPlD-OTxI-RNYgJRG9VuuLUuNYo_v1.png","/img/welcome_illustration_2x_obsolete.png":"/img/welcome_illustration_2x_obsolete_pA2RvkabgxB3a_mjVe64PKG_Wuw1JrAcKG7o6RMiZFk_v1.png","/img/welcome_illustration_2x.png":"/img/welcome_illustration_2x_TzM047GAfN_YcZmSVpnFZdPEcfeYjaQVy0MANaY6n9I_v1.png","/img/welcome_illustration_3x.png":"/img/welcome_illustration_3x_dtJqgamzfoQffUzaAKwcWy-rGI1UEcY4PPuCR5mJV4w_v1.png","/img/yahoo_badge.png":"/img/yahoo_badge_PIDYkGpMyvCeBI7l6OmFM2o6YMgW4pibk1qXlqxjCRQ_v1.png","/img/yahoo_finance_logo.svg":"/img/yahoo_finance_logo_-QDNG0c8moBlfL-H04Q2IwjbtNsPJiC7OMJ-6dinE14_v1.svg","/img/yahoo_lastpass_logo_left.png":"/img/yahoo_lastpass_logo_left_ZMPO04Cg44aZp9BYj0udya51xLi4UFuC9FCXwCHiJVo_v1.png","/img/yahoo_lastpass_logo_right.png":"/img/yahoo_lastpass_logo_right_kk3fiGURIcYPlMCyTXPEaC42eNQhoACCHjOIooP0oJ8_v1.png","/img/yahoo_logo_transparent_2x.png":"/img/yahoo_logo_transparent_2x_6Vplh78eWxnib9PE3ffwL6N13z9zoYfm6Y3KcrDe6TI_v1.png","/img/yahoo_logo_transparent.png":"/img/yahoo_logo_transparent_vYMpZ4wTKiFAqZedv965GEx8XezjUxXaLAdO9Ntb6rs_v1.png","/img/yahoo_logo.png":"/img/yahoo_logo_4JaSPfbXqohrlxfsISsWeScPI66mhFtttJWcfV3OJFw_v1.png","/img/yahoo_mail_certified_sender_1x.png":"/img/yahoo_mail_certified_sender_1x_TpZZ2ZZDxCtiHiSOgKV2AKfenQkkjlqncrVam3wbsrM_v1.png","/img/yahoo_mail_certified_sender_2x.png":"/img/yahoo_mail_certified_sender_2x_unEvhn6kPeF4JOQ5j2ZGlpGYX2mskoUDCSG-KHzYma0_v1.png","/img/yahoo_mail_global_english_1x.png":"/img/yahoo_mail_global_english_1x_P_K1j3KT0ZdwnJNr5MRNfEDcnIHe_ZQM9mgo8sfaKnA_v1.png","/img/yahoo_mail_global_english_2x.png":"/img/yahoo_mail_global_english_2x_54c8WNPuo0JmIS7nirkjAIf7zoPPA7gFeNGSchM_pfM_v1.png","/img/yahoo_mail_global_english_white_1x.png":"/img/yahoo_mail_global_english_white_1x_jF68qudlzmJAOFEmaXz7x2l3E4Q3xDK4U_IBQ6ZEdug_v1.png","/img/yahoo_mail_global_english_white_2x.png":"/img/yahoo_mail_global_english_white_2x_QQl-fJDudjy06woJ96IBBltmmzuABikjRWrWzxA1_ZE_v1.png","/img/yahoo_mail_pro_global_english_2x.png":"/img/yahoo_mail_pro_global_english_2x_2n8agEHD0WmoIr_hsT09rJTAfsz5DfEAnzSX0kURjkY_v1.png","/img/yahoo_mail_pro_global_english_white_1x.png":"/img/yahoo_mail_pro_global_english_white_1x_eZ39jIyIRfqjoWEQMgT6TixI8RhsyXmfx8hIqriTigQ_v1.png","/img/yahoo_mail_pro_global_english_white_2x.png":"/img/yahoo_mail_pro_global_english_white_2x_e50qEkiZsguESlvS5RSySC2VS3YD5ncvLnXpAnce1zo_v1.png","/img/yahoo_new_logo_transparent_2x.png":"/img/yahoo_new_logo_transparent_2x_wtBm2j4s1h4potwmpnnzrYsY6VWsUtyKKmxBwF2cLmg_v1.png","/img/yahoo_new_logo_transparent.png":"/img/yahoo_new_logo_transparent_32gj3cNIq2NjHmHXiH1Z5zPW8l-E8hHjSieS5xh4-dE_v1.png","/img/yahoo_norton_image.png":"/img/yahoo_norton_image_d3rVXZTmc2Unml4od54n5qWrYJnjkcUS9mxYDegBwZQ_v1.png","/img/yahoo_shopping.png":"/img/yahoo_shopping_fT8xm4OBVXqmg5YG7N21ovsYRDHj-X0VTojUF1LIpgY_v1.png","/img/yahoo_shoprunner_background.png":"/img/yahoo_shoprunner_background_JiQLNwMM_pT0rYGr-OJvjyWI5EFmsowB-nZ_eAiIOgM_v1.png","/img/yahoo_shoprunner.png":"/img/yahoo_shoprunner_C07YljR7GcHfuX0p-MF_wHZelpJxTDqq9WDeTE9o9jI_v1.png","/img/ym6_groceries.png":"/img/ym6_groceries_R1MmciN1hYz8Hx5OPq7GpKc3n4F48sehamfUpNr9Z84_v1.png","/html/status.html":"/html/status_NsIMApfRFdB9nTk9uhk8xFAt08_hm8m9QjmR2g0Vl9Y_v1.html","/json/mobile_manifest_obsolete.json":"/json/mobile_manifest_obsolete_m8yRgPyLx7GIxVkETyKu2nBDZfxje9yPllynmCPrnZE_v1.json","/json/mobile_manifest.json":"/json/mobile_manifest_bVArtW1VEEtLpKDyLs7rrGHQi3OaEeo7Kd9KxRMOaNc_v1.json","/json/web_manifest.json":"/json/web_manifest_zdmVWTe8Hdp05CX3yPbgNMfiiGr4DFZJOp0JdEBS8DM_v1.json"}},function(e,t,s){"use strict";e.exports={className:{default:{logo:"p_a T_6Nds L_7aG4 H_A cZR3vvd_n",head:"H_7zJd cZR3vv9_7ceA",headerText:"D_n cZR3vuu_a cZR3vuW_6Fd5 cZR3vvg_6FIA cZR3vve_52qC cZ1wMhrj_0 cZR3vuB_6MGW cZR3vuq_C cZR3vuT_6D6F cZR3vvd_B",ribbon:"W_6D6F H_7zJd cZR3vv9_7ceA"},useThirdGenerationLogo:{logo:"p_a T_6Mbr L_6LEV H_A cZR3vvd_n"}},_key:"M9e7A"}},function(e,t,s){"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_B je_6Fd5 W_3o4BO",link:"C_52qC O_cMq D_B b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD W_eTL I_Z2aVTcY",moreIcon:"D_B q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD p_R",iconContainer:"p_a T_69rk L_dRf",accountslist:"D_B",list:"Y_0 Q_0 E_0 U_0 D_B hd_n P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 D_B hd_n P_2d6pmo",header:"D_B gl_FM M_BOLti",accountsListItem:"O_cMq u_eBE A_6EWk C_Z2aVTcY P_2d6pmo M_1WjkSr",listItem:"D_B ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_ZroviD D_X",folderNameRight:"M_eo6 H_fq7 e_6LEV I_ZroviD D_X f_r"}},_key:"ZfMI1J"}},function(e,t,s){"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"t_C M_1WSbm8",loginPage:"t_C Y_6LEV",emailInput:"W_3qWeB",header:"P_0 u_b A_6LEV i_6UbO Y_6DEy U_6LEV",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"t_C C_Z1TsNWR",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNWR",providersOption:"Y_6Fd5",switchAccount:"C_Z2aVTcY",accountList:"M_0 P_0 hd_n",listItem:"P_1Eu6qC M_1EAG48 D_X",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",accountItem:"D_B W_3n13i H_73rW M_1EAG48",supportedProviderCaption:"t_C A_6EqO C_Z1Xxgu0 M_6DEy",errorMessage:"C_ZnTFMv M_fq7",primaryButton:"A_6EqO u_e69 W_3nqmc P_Z1E2XDm M_eo6 I_Z2aVTcY b_n e_dRA C_4SSH I4_Z29WjXl b4_n C4_4SSH",providerLogo:"H_7jsH aw_Z1LVuro az_DW ay_1mNcIJ ba_3nhzy",legalText:"A_6DUj a_3z5BY M_hvBM4",note:"C_Z1Xxgu0 A_6DUj M_hDwes a_3z5BY",link:"C_Z2aVTcY Q_dRA u_e69 r_P"},"provider-yahoo":{providerLogo:"ay_1TpaCp"},"provider-google":{providerLogo:"ay_Z1UBbF3"},"provider-aol":{providerLogo:"ay_Z1QQkjl"},"provider-outlook":{providerLogo:"ay_Z1UBQYH"},"provider-office365":{providerLogo:"ay_Z1Uh818"}},_key:"186czO"}},function(e,t,s){"use strict";e.exports={className:{default:{bgContainer:"D_F ek_BB H_6D6F aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd",container:"D_F ek_BB H_6D6F cZ1RN91d_n s_1HCsWR aw_Z22yhkg I_kt4zd az_DW ba_Z2gmOa3 ay_Z1cYiMT c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",inputModeWrapper:"H_6D6F",appHeader:"en_0 cZ1RN91d_n D_F ek_BB gl_FM",tabSpace:"f_l a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",tabWrapper:"I_sgPtS M_1EAG48 W_6D6F",tab:"N_3o4BO cZ1YE9As_ZbJh7p e_1GFLLo",errorContainer:"H_6D6F",ybar:"H_7zJd",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},"ads-false":{tab:"N_0"},"themeMode-LIGHT":{tabWrapper:"I_ajP3z"},wideLogo:{tabSpace:"f_l a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU"},darkModePhotoTheme_NIGHT_LANDSCAPE:{tabWrapper:"I_cOYBx"},darkModePhotoTheme_ROADTRIP:{tabWrapper:"I_1iaDps"},darkModePhotoTheme_SUNSET_AUSSIE:{tabWrapper:"I_2woiX9"},darkModePhotoTheme_LIGHTHOUSE:{tabWrapper:"I_t5YJo"}},_key:"1iHvsz"}},function(e,t,s){"use strict";e.exports={className:{default:{searchContainer:"H_6UbO M_1JP1a2 p_R",input:"W_6D6F H_6D6F k_w li_6UbO y_Z2uhb3X",magnifying:"p_a L_0 T_0 cZW7ROP_n H_6D6F D_F ab_C P_3gJOe"}},_key:"Z1rdFsB"}},function(e,t,s){"use strict";e.exports={className:{default:{header:"D_F ab_C W_6D6F k_w C_52qC aw_Z1Skzn2 P_nzg7u",text:"em_N D_F ek_BB ab_CI",heading:"A_6FsP u_b U_fq7",subheading:"A_6Eb4"},ATT:{header:"aw_ZvJQac"},FRONTIER:{header:"aw_Z21mNgp"},ROGERS:{header:"aw_cqhYR"},BT:{header:"aw_fyCuS"},SKY:{header:"aw_2i3i9C"},DEFAULT:{header:"aw_Z1oGKIG"},SUNRISE:{header:"aw_j5A3N"},AQUA_GREEN:{header:"aw_Z1TaR3H"},AQUA_BLUE:{header:"aw_lYTmB"},DEEP_PURPLE:{header:"aw_Z2r9M2j"},BLUE_NIGHT:{header:"aw_ZhWBiv"},DARK_GREY:{header:"aw_cqhYR"},NIGHT_LANDSCAPE:{header:"aw_1EcdPV"},ROADTRIP:{header:"aw_Z29MWQS"},SUNSET_AUSSIE:{header:"aw_Z1FJaQI"},LIGHTHOUSE:{header:"aw_DHTjP"}},_key:"1JqHIX"}},function(e,t,s){"use strict";e.exports={className:{default:{twoColumnList:"D_F ha_n P_0 gl_FM eo_HB o_h M_1A1TYO",column:"em_N en_N s_3rRhf",spacer:"ej_6LEV en_0",sectionContainer:"U_6TFj",sectionHeading:"A_6EWk C_Z281SGl U_6Fd5",listView:"hd_n X_0"},searching:{twoColumnList:"ek_BB"}},_key:"2iQpu0"}},function(e,t,s){"use strict";e.exports={className:{default:{delimit:"M_3gJOe A_6DUj",keyGroups:"D_F",keyGroup:"D_F ab_C",vertical:"D_F ek_BB ab_CI",key:"A_6DUj i_6DUj I_ZnkeaL j_19EkMo y_2tAGiz H_6FIA P_3gJOe k_w e_dRA J_x D_F ab_C",marginTop:"Y_fq7"}},_key:"Z2kJbF9"}},function(e,t,s){"use strict";e.exports={className:{default:{keyRow:"D_F ab_C M_3Y3Gk em_N",description:"A_6Eb4 C_Z281SGl E_fq7"}},_key:"ZVMVx3"}},function(e,t){function s(e){this.key=e,this.value=null,this.descendantCount=0,this.children={}}s.prototype={insert(e,t){if(!arguments.length)throw new Error("Invalid number of arguments, requires key and value");this._insert(e,t)},_insert(e,t,a){var n=arguments.length;if(a===e.length)return void(null===this.value&&(this.value=t));n<3&&(a=0),this.descendantCount=this.descendantCount+1;const r=e[a];void 0===this.children[r]&&(this.children[r]=new s(r)),this.children[r]._insert(e,t,a+1)},find(e){return!e||e&&0===e.length?[]:this._find(e)},_find(e,t){void 0===t&&(t=0);const s=this.children[e[t]];return s?t===e.length-1?s._getChildrenValues(e):s._find(e,t+1):[]},_getChildrenValues(e){var t=[];e||(e=""),this.value&&t.push(this.value);for(const s in this.children)this.children.hasOwnProperty(s)&&(t=t.concat(this.children[s]._getChildrenValues(e+s)));return t}},e.exports=s},function(e,t,s){"use strict";e.exports={className:{default:{container:"s_3Lic3 H_HMYSt k_w I_52qC D_F ek_BB ab_FT",cheatContent:"P_1EutVf U_72FG D_F ek_BB en_N ej_0 em_N",keysetContainer:"iz_A W_6D6F em_N ej_0",header:"en_0",filterSection:"en_0"}},_key:"ZIdXmv"}},function(e,t,s){"use strict";e.exports={className:{default:{properties:"D_F en_0 gl_FM je_6Fd5 jb_6Fd5 N_6Fd5 X_6Fd5 H_7bcz k_w I_52qC m_Z14vXdP U_67SN",container:"Z_qc"},verticalLayout:{container:"H_6D6F",properties:"ek_BB gl_CI H_6D6F"},"themeMode-DARK":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeMode-MEDIUM":{properties:"I_sgPuT m_ZYfFSw U_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{properties:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{properties:"I_t5YMW"}},_key:"ZVBdTR"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_7jIs W_6D6F P_0 M_0 k_w b_n q_n",content:"D_F ek_BB gl_C F_N A_6EqO i_6MGW C_Z281SGl H_6MGW m_Z12nDQf",orb:"ah_Z1tF3s4 F_n p_R cdPFi_ZpQYvz P_0 M_20hyCR W_1M2iaA H_1M2iaA",name:"ah_Z1tF3s4 W_7rdk H_6DEy q_ZpQYvz e_eDQ",emails:"ah_Z1tF3s4 Y_6Eb4 W_3nH9d H_fq7 q_ZpQYvz e_eo6"},darkVariations:{content:"m_1iPdY0",orb:"cdPFi_Z1Xxgu0",name:"q_Z1Xxgu0",emails:"q_Z1Xxgu0"}},_key:"aXv54"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"F_N",search:"H_72FG k_w m_Z12nDQf",tabs:"H_6UbO m_Z12nDQf",separator:"H_6MWH D_F ab_C P_Z1feoPS",separatorText:"ah_Z1tF3s4 D_X H_fq7 W_7kKt e_eo6 q_ZpQYvz",withBackground:"q_52qC"},includeHeaders:{wrapper:"W_3vpWV"},darkStyles:{withBackground:"q_sgPuT",search:"m_1iPdY0",tabs:"m_1iPdY0",separatorText:"q_Z1Xxgu0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-DARK_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{withBackground:"q_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{withBackground:"q_t5YMW"}},_key:"ZdVGa6"}},function(e,t,s){"use strict";e.exports={className:{default:{rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",container:"D_F ek_BB en_0 I_52qC r_BN W_3v1qi cZ1RN91d_GG X_6Fd5 N_6Fd5",email:"o_h J_x mq_CZ G_e r_P C_Z2aVTcY S4_U ac_CI",phone:"Y_dRA",header:"U_fq7 p_R",rightColElement:"D_F ek_BB i_6EqO Q_6Eb4 o_h gl_C W_3o4BO",contactFlexContainer:"D_F A_6DUj je_6Fd5 U_fq7",contacts:"r_P C_Z2aVTcY S4_U ac_CI Y_eo6"},isInRightRail:{container:"je_6LEV jb_6LEV k_w M_Zm1Iab U_eo6 W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz K_3I1y8 o_A",contactFlexContainer:"je_dm5 U_dm5"},partnerIconEnabled:{container:"je_eo6"},isCompose:{email:"r_BN C_Z281SGl S4_n"},isEnhancedContactCard:{container:"r_P jb_0",contactFlexContainer:"A_6EqO U_0",sharingPanel:"D_F gl_l",header:"U_dRA",phone:"Y_eo6 A_6EqO",openComposeIcon:"P_Z1mVhPY cdPFi_Z1WGv5u",vertical:"n_Z1a7UWG H_6LEV M_1xQvDX",unclickableArea:"r_BN W_CD jb_fq7",contacts:"C4_Z29WjXl S4_n P_Z1mVhPY U_6Eb4"},isEnhancedInRightRail:{contactFlexContainer:"Y_6Eb4",unclickableArea:"jb_6MGW"},darkModeNonPhotoTheme:{container:"I_sgPuT C_ZpQYvz l_T",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_NIGHT_LANDSCAPE:{container:"I_cOYF6 C_ZpQYvz l_T",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_ROADTRIP:{container:"I_1iaDt1 C_ZpQYvz l_T",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{container:"I_2woj1H C_ZpQYvz l_T",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"},darkModePhotoTheme_LIGHTHOUSE:{container:"I_t5YMW C_ZpQYvz l_T",email:"C_Z2bg7IA",openComposeIcon:"cdPFi_2sqbRh cdPFi4_52qC"}},_key:"20BVO4"}},function(e,t,s){"use strict";e.exports={className:{default:{social:"D_F gl_l Y_fq7",socialIcon:"D_F E_6Eb4 cdPFi_ZpQYvz",backyardIcon:"D_F E_6Eb4 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY"},isEnhancedContactCard:{social:"Y_0",socialIcon:"E_eo6 P_IdQyw"},darkVariations:{backyardIcon:"cdPFi_2sqbRh cdPFi4_52qC",socialIcon:"cdPFi_2sqbRh cdPFi4_52qC"}},_key:"ZuAORC"}},function(e,t,s){"use strict";e.exports={className:{default:{containerFooter:"H_A z_Z12nDQf je_eTB jb_6DEy C_Z1YRXYn A_6DUj",footerText:"X_eo6 N_eo6 i_6EqO",footer:"U_fq7"}},_key:"Z1Ow2aJ"}},function(e,t,s){"use strict";e.exports={className:{default:{contactSummary:"gl_C A_6EqO C_Z1YRXYn o_h je_6Fd5",contact:"r_P C_Z2aVTcY"},"themeMode-DARK":{contactSummary:"C_ZvsWfq",contact:"C_Z2bg7IA"},"themeMode-MEDIUM":{contactSummary:"C_ZvsWfq",contact:"C_Z2bg7IA"}},_key:"2pfhwA"}},function(e,t,s){"use strict";e.exports={className:{default:{avatarContainer:"W_A o_v H_tQ r_BN",leftColElement:"D_B gl_C"},websiteLinked:{avatarContainer:"r_P"}},_key:"ZM5zAb"}},function(e,t,s){"use strict";e.exports={className:{default:{rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",name:"C_Z281SGl i_6MGW A_6EWk u_b cZ1RN91d_GG w_AS k_w D_X a_3nHoX o_h",searchSection:"r_P D_F cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY p_R",searchIcon:"Q_dRA cdPFi_q P_Z1nnkYl",iconsSection:"ac_CI"},isMobile:{name:"A_6FIA",searchSection:"gl_FM ab_C",searchIcon:"P_3gJOe"},isEnhancedContactCard:{iconsSection:"cdPFi4_Z2aVTcY",searchSection:"cdPFi4_Z1YRXYn",groupedIconsSection:"r_BN D_F",partnerIcon:"P_Z1jFCVf",searchIcon:"P_xCFNf"},darkVariations:{name:"C_ZpQYvz",searchSection:"cdPFi_ZpQYvz cdPFi4_52qC C4_52qC"},defaultName:{name:"fd_i"}},_key:"2975lR"}},function(e,t,s){"use strict";e.exports={className:{default:{infoIconContainer:"D_F gl_CH cdPFi_Z1TsNWR cdPFi4_Z2aVTcY"},isOnDarkBackground:{infoIconContainer:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z1NjuAv"}},function(e,t,s){"use strict";e.exports={className:{default:{position:"i_6LEV C_Z1VRpVF Y_dRA A_6EqO q_T w_AS"},isMobile:{position:"A_6Fd5"},darkVariations:{position:"C_ZvsWfq"}},_key:"Z1uMvl0"}},function(e,t,s){"use strict";e.exports={className:{default:{website:"o_h J_x mq_CZ G_e r_A Y_dRA i_6EGz C_Z2aVTcY S4_U"},websiteLinked:{website:"r_P"},isEnhancedContactCard:{website:"S4_n C4_Z29WjXl"},"themeMode-DARK":{website:"C_Z2bg7IA"},"themeMode-MEDIUM":{website:"C_Z2bg7IA"}},_key:"I4WWs"}},function(e,t,s){"use strict";e.exports={className:{default:{mainAd:"em_N P_6Fd5 k_w W_3vpWV a_3vpWV iz_A iy_h",adText:"A_6EqO C_Z1VRpVF"},isCompactSize:{mainAd:"a_3o4BO W_3o4BO"},wideRightRail:{lrec:"U_3mS2U"}},_key:"Zde1XQ"}},function(e,t,s){"use strict";e.exports={className:{default:{rightRailContainer:"D_F o_v p_R I_ZnwrMC",rightRail:"D_F ek_BB",panesContainer:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F",attachmentPreview:"em_N",hideAdsChevronWrapper:"x_Z14vXdP W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",activeHideAdsChevronWrapper:"x_2fAfSG W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",hideAdsChevron:"c27KHO0_n I_52qC O_cMp b_0 D_F cdPFi_Z281SGl r_P s_6NIX H_6NIX j_Z197UJe e_VHH8F ab_C X_dRA cZW7ROP_A O4_N aw4_ZBSKJ8 cdPFi4_52qC"},hasAttachmentPreview:{panesContainer:"a_n ek_EZ",rightRail:"ek_FB"},"firstPaneName-RightPaneGroceriesList":{rightRailContainer:"I_52qC"},"themeMode-MEDIUM":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T"},"themeMode-DARK":{hideAdsChevronWrapper:"x_ZYfFSw",rightRailContainer:"I_T",hideAdsChevron:"I_2sqbOJ O_N cdPFi4_Z281SGl"},"theme-ATT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-FRONTIER":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-ROGERS":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-BT":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-SKY":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-DEFAULT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:""},"theme-SUNRISE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-AQUA_GREEN":{activeHideAdsChevronWrapper:"x_2uOeea",hideAdsChevron:"I4_Z1UHURv aw4_n"},"theme-AQUA_BLUE":{activeHideAdsChevronWrapper:"x_2iwbQA",hideAdsChevron:"I4_Z280Xf5 aw4_n"},"theme-DEEP_PURPLE":{activeHideAdsChevronWrapper:"x_Z1aO4GY",hideAdsChevron:"I4_Zwa5YI aw4_n"},"theme-BLUE_NIGHT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:"I4_Z21zYBA aw4_n"},"theme-DARK_GREY":{activeHideAdsChevronWrapper:"x_Z26dtW1",hideAdsChevron:"I4_Z1ryveK aw4_n"},"theme-NIGHT_LANDSCAPE":{activeHideAdsChevronWrapper:"x_2uRWCH",hideAdsChevron:"I4_Z1UEcsX aw4_n"},"theme-ROADTRIP":{activeHideAdsChevronWrapper:"x_Z15YOdY",hideAdsChevron:"I4_ZrkPvI aw4_n"},"theme-SUNSET_AUSSIE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-LIGHTHOUSE":{activeHideAdsChevronWrapper:"x_2tSflE",hideAdsChevron:"I4_Z1VDTK1 aw4_n"}},_key:"Z2b6PDC"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB gl_C W_3vpWV H_6D6F C_Z281SGl I_52qC"},"themeMode-MEDIUM":{container:"I_sgPuT C_ZpQYvz m_ZYfFSw"},"themeMode-DARK":{container:"I_sgPuT C_ZpQYvz m_ZYfFSw"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"1y8oxJ"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA t_C e_3mS2U C_Z1YRXYn I_ZpQYvz",activeContainer:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA t_C e_3mS2U C_52qC I_T u_b"},whiteBackground:{container:"C_2sqbRh I_ajP4A"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_LIGHT":{activeContainer:"I_ZpQYvz"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_MEDIUM":{activeContainer:"I_ajP4A"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_DARK":{activeContainer:"I_ajP4A"},"themeMode-LIGHT":{activeContainer:"C_Z281SGl"},"highlightThemeCombo-true_ATT":{container:"C_52qC I_Z2dxrGx Q_A"},"highlightThemeCombo-true_FRONTIER":{container:"C_52qC I_Z1A0QhA Q_A"},"highlightThemeCombo-true_ROGERS":{container:"C_52qC I_Z21W7Hh Q_A"},"highlightThemeCombo-true_BT":{container:"C_52qC I_Z20SNAa Q_A"},"highlightThemeCombo-true_SKY":{container:"C_52qC I_Z2dycH0 Q_A"},"highlightThemeCombo-true_DEFAULT":{container:"C_52qC I_Z2aVTcY Q_A"},"highlightThemeCombo-true_SUNRISE":{container:"C_52qC I_ZmlXUP Q_A"},"highlightThemeCombo-true_AQUA_GREEN":{container:"C_52qC I_Z1UHURv Q_A"},"highlightThemeCombo-true_AQUA_BLUE":{container:"C_52qC I_Z280Xf5 Q_A"},"highlightThemeCombo-true_DEEP_PURPLE":{container:"C_52qC I_Zwa5YI Q_A"},"highlightThemeCombo-true_BLUE_NIGHT":{container:"C_52qC I_Z21zYBA Q_A"},"highlightThemeCombo-true_DARK_GREY":{container:"C_52qC I_Z21W7Hh Q_A"},"highlightThemeCombo-true_NIGHT_LANDSCAPE":{container:"C_52qC I_Z1UEcsX Q_A"},"highlightThemeCombo-true_ROADTRIP":{container:"C_52qC I_ZrkPvI Q_A"},"highlightThemeCombo-true_SUNSET_AUSSIE":{container:"C_52qC I_ZmlXUP Q_A"},"highlightThemeCombo-true_LIGHTHOUSE":{container:"C_52qC I_Z1VDTK1 Q_A"},"highlightDarkPartnerThemeCombo-true_ATT":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_FRONTIER":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_ROGERS":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_BT":{container:"C_Z281SGl I_52qC Q_A"},"highlightDarkPartnerThemeCombo-true_SKY":{container:"C_Z281SGl I_52qC Q_A"}},_key:"1Xvri1"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F en_0 gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1Ozsbb"},"size-XS":{wrapper:"H_6LEV",container:"W_6LEV H_6LEV"}},_key:"ZjGm2r"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"e_dRA l_T cn_dBP cg_FJ k_w r_P A_6EqO u_e69 p_R S_n C_52qC I_ZamTeg D_F H_6VdP gl_C ab_C en_0 M_1Eu7sD ir3_1JO2M7 it3_dRA",badgeContainer:"p_a h_Z1ffcnk L_0 T_67SN"},"themeMode-MEDIUM":{link:"ir3_Z1FS2Mn"},"themeMode-DARK":{link:"ir3_Z1FS2Mn"}},_key:"qoTwW"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_Qw4gz A_6FsP u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_ZG0ms9 w_AS ix_AS",controls:"P_ZG0ms9"},hideIcon:{header:"P_JMQ5f",message:"P_Z2fgN7g",controls:"P_ZG120x"},showCustomTitle:{header:"u_dPo i_6MGW je_6DEy"},wideContainer:{container:"W_3DpOq"}},_key:"DF9OM"}},function(e,t,s){"use strict";e.exports={className:{default:{divider:"M_ZyFsHm q_ak5k6 r_P cdPFi_Zjpyv3 t_C H_0 p_R P_dRA q4_52qC cdPFi4_Zjpytw",moreButton:"b_n r_P P_dRA p_R H_6Fd5 T_69H5 q_T W_6D6F ir3_1JO2M7",moreIcon:"p_a T_68F4 L_dRK W_6Eb4 H_6Eb4"},"themeMode-MEDIUM":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"},"themeMode-DARK":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"ir3_Z1FS2Mn"}},_key:"1W2w4s"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_6NIX N_fq7 C_Z281SGl I4_2tvNsT",newFolderContainer:"D_F ab_C r_P cdPFi_Z281SGl ir3_1JO2M7 it3_dRA I4_T"},"indentation-INDENTATION_NORMAL":{newFolderContainer:"P_ZmsKgw"},fullWidth:{newFolderContainer:"W_6D6F"},noHoverColor:{container:"I4_T"},useDarkVariations:{container:"C_52qC",newFolderContainer:"cdPFi_2sqbRh ir3_Z1FS2Mn"}},_key:"1pSsLW"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C",closeButton:"en_0",inputContainer:"D_F b_0 em_N",inputSubmitContainer:"D_F em_N ab_C b_2w4l8N",input:"W_6D6F k_w H_6LEV y_Z2uhb3X X_eo6 b_0 I_52qC",okIcon:"I_ZroviD en_0 W_6LEV H_6LEV",popoverContainer:"D_F",popover:"P_eTB C_ZnTFMv W_3nh43 k_w A_6Eb4"},invalidFolderName:{inputSubmitContainer:"b_Z1222NH"},validFolderName:{okIcon:"I_Z2aVTcY"},"indentation-INDENTATION_NORMAL":{container:"P_ZmsKgw"}},_key:"9PAh5"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT",activeContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT n_Z1YKD9t I_1kC8gG",dragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT I_1kC8gG",activeDragoverContainer:"D_F p_R k_w r_P H_6NIX W_6D6F X_6DEy N_fq7 ab_C ir3_1JO2M7 it3_0 I4_2tvNsT n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA p_R o_h G_e J_x",activeLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",folderLabelContainer:"D_F W_6D6F ab_C i_6FIA p_R",label:"G_e J_x o_h H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F cdPFi_Z1YRXYn",folderMenu:"c27KHO0_n I_T b_0 X_fq7 v_h D_F em_N gl_CH je_e8l",folderMenuIcon:"cdPFi_Zjpyu2 r_P E_fq7 cdPFi4_Z281SGl",loader:"E_6Eb4",unreadWrapper:"E_fq7",unreadFadeIn:"ah_ZPQR1p",unreadFadeOut:"ah_Z1DNnWG",navContainer:"W_6D6F C_Z281SGl D_F",activeNavContainer:"W_6D6F C_Z281SGl D_F u_b",trashIconWrapper:"P_3PUiW D_F em_N gl_CH cdPFi_Zjpyu2 r_P cdPFi4_ZkiIcp"},isActive:{labelContainer:"Q_689y",unreadWrapper:"T_eDQ"},"indentation-TOPFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-TOPFOLDER_WITHOUT_ICON":{container:"X_6LEV",activeContainer:"X_6LEV",dragoverContainer:"X_6LEV",activeDragoverContainer:"X_6LEV"},"indentation-SUBFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-SUBFOLDER_WITHOUT_ICON":{container:"X_6EGz",activeContainer:"X_6EGz",dragoverContainer:"X_6EGz",activeDragoverContainer:"X_6EGz"},showFolderMenu:{folderMenu:"v_v"},"themeMode-MEDIUM":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_52qC ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_52qC",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},"themeMode-DARK":{container:"C_2sqbRh ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn",navContainer:"C_52qC ir3_Z1FS2Mn",activeNavContainer:"C_52qC ir3_Z1FS2Mn",dragoverContainer:"C_2sqbRh",activeDragoverContainer:"C_52qC",folderLabelContainer:"C_52qC",chevron:"cdPFi_2sqbRh",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_52qC",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"}},_key:"Zwhend"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"P_3Y3Gk",separator:"m_Z14vXdP M_3HLUz"}},_key:"220Q4E"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z281SGl ir3_1JO2M7 it3_dRA I4_2tvNsT",activeContainer:"D_F k_w W_6D6F H_6NIX X_6DEy N_fq7 ab_C C_Z281SGl ir3_1JO2M7 it3_dRA I4_2tvNsT u_b n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"G_e J_x o_h E_6LEV H_6FIA",smartViewIcon:"c27KHO0_n I_T N_fq7 b_0 D_F em_N gl_CH",badgeContainer:"a_6NIX h_1UBaXG",rtlRawScaleX:"rtlR_h_2gl0WC rtlR_N_fq7 rtlR_X_2vNgMj",starAnimation:"N_fq7 ab_C Q_A i_6FIA W_72FG H_6LEV D_F k_w",sparkleGuidedStarAnimation:"p_a H_6VdP Q_69H5"},"animation-slideUp":{starAnimation:"v_h ah_Z2d532X ai_qM"},isActive:{smartViewIcon:"Q_68F4"},isActiveAndNoIcon:{labelContainer:"Q_689y"},hasIcon:{container:"X_fq7"},"themeMode-MEDIUM":{container:"C_52qC ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"},"themeMode-DARK":{container:"C_52qC ir3_Z1FS2Mn",activeContainer:"C_52qC ir3_Z1FS2Mn"}},_key:"OEsAx"}},function(e,t,s){"use strict";e.exports={className:{default:{smartviewList:"hd_n P_0 M_0",smartviewContainer:"H_6NIX D_F ab_C X_6DEy r_P ir3_1JO2M7 it3_dRA I4_2tvNsT",toggleSmartViews:"N_fq7 A_6EqO C_Z1YRXYn C4_Z1VRpVF",labelContainer:"D_F W_6D6F ab_C i_6FIA",label:"em_N G_e J_x o_h E_fq7 H_6FIA",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{smartviewContainer:"C_52qC ir3_Z1FS2Mn",toggleSmartViews:"C_52qC C4_2sqbRh"},"themeMode-DARK":{smartviewContainer:"C_52qC ir3_Z1FS2Mn",toggleSmartViews:"C_52qC C4_2sqbRh"}},_key:"x0Tlt"}},function(e,t,s){"use strict";e.exports={className:{default:{scrollOuter:"p_R k_w W_6D6F U_3mS2U",listSpacer:"H_6Fd5"}},_key:"Z1AVWxp"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R Z_0 em_N W_6D6F D_F ek_BB",shadow:"O_0 Z_N p_a T_73HH W_6D6F H_eo6 aw_Z1X3J96",folderList:"Y_fq7 P_Z1jXKuU D_B iz_A iy_h it_68UO"},scrollingUnder:{shadow:"O_N"},isRTL:{adRec:"E_36Jhx"},"themeMode-MEDIUM":{container:"C_52qC"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z1DmSjx"}},function(e,t,s){"use strict";e.exports={className:{default:{swatchItem:"D_F ek_BB ab_C M_eo6",swatchContent:"W_7rdk",swatchTitleBase:"J_x U_6Eb4 ac_CI",colorElement:"p_R",color:"D_F gl_C ab_C W_6LEV H_6LEV b_0 P_0 it_689y",colorMenu:"P_6DEy",subColorMenu:"P_Z2aXgbn Q_eTB"}},_key:"2lVS8r"}},function(e,t,s){"use strict";e.exports={className:{default:{itemAddress:"A_6DUj C_Z1Xxgu2",checkmarkWrapper:"W_6LEV H_6LEV D_X",buttonContent:"D_F ab_C i_6LEV",rtlIgnoreDir:"rtlI_dz_sSg",rtlIgnoreMarginR:"rtlI_E_fq7",rtlIgnoreMarginL:"rtlI_Q_fq7"}},_key:"2kABJf"}},function(e,t,s){"use strict";e.exports={className:{default:{select:"C_516e D_F ab_C ir_0 q_T b_0",menuContainer:"D_F",label:"D_F ab_C y_Z2uhb3X A_6EqO",labelName:"a_3He0m",menuLabelEmail:"D_X",menu:"P_3zDxc l_ZufDBK j_20l77p",fromField:"q_T b_0 C3_4N1z"}},_key:"ZHGUtO"}},function(e,t,s){"use strict";e.exports={className:{default:{anchor:"D_F",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"}},_key:"uHY9u"}},function(e,t,s){"use strict";e.exports={className:{default:{input:"D_F ab_CI je_eo6 em_N m_Z1a7UWG"},hasFocus:{input:"bj_Z2aVTcY"}},_key:"2tU4n4"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"en_0",inputDark:"C_Z281SGl",additionalOptionsButtonWrapper:"D_F p_a L_371PO B_dBP P_eo6",additionalOptionsListWrapper:"P_3Y3Gk",ccContainer:"D_F ab_C em_N",subject:"G_e y_Z2uhb3X A_6EqO C_Z281SGl ir_0 P_0 X_0 bj3_Z281SGl b_0 j_n d_72FG em_N",extraRecipientsBtn:"en_0 Q_fq7 E_eo6 Y_6DEy U_6DEy A_6DUj y_Z2uhb3X C_Z1VRpVF P_ZvFAnJ b_n a_3mS2U q_T r_P",composeHeaderTop:"p_R",composeSubject:"p_R",ccButton:"C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",ccButtonNotLast:"x_ZGN9rt C_Z1TsNWR je_0 jb_0 cn_0 q_T en_0 r_P",xButton:"en_0",xButtonWrapper:"p_a R_fq7 T_fq7"},"filled-subject":{subject:"C_Z281SGl"},isSubjectDisabled:{subject:"C_Z1VRpVF I_T"}},_key:"hRSAQ"}},function(e,t,s){"use strict";e.exports={className:{default:{editorWrapper:"p_R em_N D_F ek_BB en_0 d_eik",editorContainer:"p_R cZ1RN91d_GG k_w W_6D6F em_N D_F",rte:"em_N ir_0 iy_A iz_h",placeholder:"p_a T_6LEV L_0 C_Z1TsNWR cZW7ROP_n",button:"b_0 ir_0 P_eo6 I_T y_Z2uhb3X A_6DUj C_Z1TsNWR M_6Fd5",buttonInner:"D_F ab_C r_P"},"kind-MESSAGE":{rte:"k_w P_6Fd5 d_7ALe",placeholder:"T_eTB P_1Eu7sD i_6VdP"},"kind-COMPOSE":{rte:"N_6Fd5"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"k_w P_6Fd5 d_3w6xl",placeholder:"T_eTB P_1Eu7sD i_6VdP"}},_key:"1Ljwbb"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"I_52qC b_Z14vXdP j_ZqTdtW Z_f8a p_a D_F ek_BB P_1iBkeu",button:"q_ZpQYvz e_dRA k_w r_P H_6NIX s_7ceA Y_6Eb4 A_6EqO b_0 C_Z1TsNWR",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",item:"H_6UbO s_3rBgu a_3vXwX jb_fq7 p_R D_F ab_C",testLink:"r_P C_Z2aVTcY q_2uyuKK m_2tEJa0 D_Z1YJkyX ab_C gl_CH J_x P_ZvFCc1 H_6D6F W_6D6F",textInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F W_6D6F A_6EqO bj3_Z2aVTcY",linkInput:"z_0 x_0 n_0 m_2tEJa0 H_6D6F s_3r5Ku N_eo6 A_6EqO bj3_Z2aVTcY",close:"t_r E_36JN3 Q_0"},saveBtnEnabled:{button:"q_Z2aVTcY C_52qC"},focusOnLinkInput:{testLink:"bj_Z2aVTcY"}},_key:"Z80OXA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3zKan k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdQ8b D_F el_Z1mLfFl ab_AJ",icon:"p_a M_6Fd5",title:"em_N u_e69 A_6FsP M_ZlnAYq",close:"Q_6Eb4 ac_C",message:"P_kT94R",controls:"P_kT94R"}},_key:"11hA3I"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_a D_F I_52qC b_Z14vXdP j_ZqTdtW Z_f8a P_Z1E2YFn",linkWrapper:"C_Z1VRpVF",link:"C_Z2aVTcY a_3rdfm J_x o_h G_e D_X f_r",control:"Q_6Eb4 u_b C_Z2aVTcY r_P"}},_key:"hddyh"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N"}},_key:"1Nkogp"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentDragContainer:"em_N D_F ek_BB p_R o_h",dragOverlay:"cZW7ROP_n b_2dWFvS T_fq7 p_a L_0 R_0 B_eo6 D_F gl_C ab_C q_2iedUU",dragDescriptionContainer:"D_F A_6EWk u_b O_cMr ek_BB ab_C C_Z2aVTcY",dragTextDescription:"je_6LEV"}},_key:"Z19Utn2"}},function(e,t,s){"use strict";e.exports={className:{default:{icon:"D_X P_3gIMd O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL e_dRA",sectionDivider:"M_3gIMd",rtlIgnoreDir:"rtlI_dz_sSg rtlI_D_F",rightAlignIcon:"h_2gl0WC",rtlRawScaleX:"rtlR_h_2gl0WC",rtlRawHidden:"rtlR_v_h rtlR_D_ATgVd",rtlRemoveHidden:"rtlRM_v_h rtlRM_D_ATgVd"}},_key:"ZSXmc7"}},function(e,t,s){"use strict";e.exports={className:{default:{menuItem:"C_Z281SGl H_6UbO i_6UbO N_fq7 D_F ab_C",checkmarkWrapper:"D_X E_fq7 i_0"},"selected-false":{checkmarkWrapper:"W_6LEV"},"kind-tiny":{menuItem:"A_6DEy"},"kind-small":{menuItem:"A_6EqO"},"kind-medium":{menuItem:"A_6Fd5"},"kind-large":{menuItem:"A_6MGW"},"kind-xlarge":{menuItem:"H_72FG i_72FG A_6UbO"},"kind-huge":{menuItem:"H_7ceA i_7ceA A_74JI"},"kind-modern":{menuItem:"y_1ACvVU"},"kind-modernwide":{menuItem:"y_ZISf5J"},"kind-classic":{menuItem:"y_ZYqQIR"},"kind-classicwide":{menuItem:"y_ZNDoVU"},"kind-courier":{menuItem:"y_16XJVH"},"kind-garamond":{menuItem:"y_1i8dl0"},"kind-lucida":{menuItem:"y_Z2hYH8W"}},_key:"Cv0SA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"p_R D_F ab_C P_eo6 o_h r_P",input:"p_a T_0 L_0 O_0 r_P o_h W_0 H_0 cZW7ROP_A"},pointerEventsDisabled:{input:"cZW7ROP_n"}},_key:"1Oyb59"}},function(e,t,s){"use strict";e.exports={className:{default:{secondaryPopup:"W_3zLs9 H_3DpOq",topSection:"D_F gl_FM P_Iw9pr",providerLabel:"u_b C_Z1VRpVF i_6MGW",separatorNoMargin:"m_Z14vXdP",bottomSection:"D_F ek_BB ab_C p_a T_e5X R_e5X h_Z1cighw s_3vhWy",connectButton:"q_Z2aVTcY e_dRA k_w r_P H_6Urz s_3np4q P_1Eu6qC en_0 M_1IaimO V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",description:"Y_6Eb4 t_C"}},_key:"Z1QkiUy"}},function(e,t,s){"use strict";e.exports={className:{default:{searchInput:"A_6DUj H_6MGW W_7I0l C_ZvsWfq X_6MGW N_6MGW e_dRA",clearButtonContainer:"W_6MGW"},searchBoxNotEmpty:{searchInput:"A_6EqO H_6MGW W_7I0l X_6MGW N_6MGW C_Z281SGl"}},_key:"Z1gme7g"}},function(e,t,s){"use strict";e.exports={className:{default:{inputContainer:"D_F F_cV1 ek_BB p_R W_6D6F",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1YRXYn",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZkiIcp",inputField:"z_0 n_0 x_0 q_T m_2w4l8N H_6VdP em_N A_6EqO C_Z281SGl ir3_0 m3_2fAfSG"},"kind-DARK_BORDER_BOTTOM":{inputField:"m_2rYSBF"},"kind-LEFT_ICON":{inputField:"q_ptT19 m_0 b_0 je_0 jb_0 X_6MGW N_6MGW m3_0 ir3_0",inputIcon:"B_0 L_eo6 p_a M_A T_0 D_F ab_C"}},_key:"Z1vqgmB"}},function(e,t,s){"use strict";e.exports={className:{default:{listItem:"a_7AfI G_e o_h J_EN",leftHeaderSection:"X_6Eb4 D_F",providerLabel:"u_b C_Z1VRpVF i_6MGW X_6EWk a_3niBz o_h G_e J_x",folderLabel:"u_b C_Z1VRpVF i_6MGW X_eTB a_3niBz o_h G_e J_x",navigationPopoverContainer:"D_F H_6MGW",navigationPopoverContent:"W_3n3n5"}},_key:"1KqGU0"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"K_e5X t_C",emptyResultsText:"je_6NYI",descriptionError:"A_6EqO gl_C t_C C_Z281SGl je_6DEy",tryAgain:"je_6DEy",tryAgainLink:"C_Z2aVTcY A_6EqO r_P",virtualListContainer:"W_6D6F H_3zLco cZ1RN91d_n o_h p_R",loadingContainer:"T_dRK W_6D6F p_R",resultContainer:"H_3zLco"}},_key:"1yCfpK"}},function(e,t,s){"use strict";e.exports={className:{default:{rowContainer:"D_F X_6EGz"}},_key:"3mw3c"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentIcon:"W_6UbO H_6UbO",thumbnailIcon:"W_7rdk H_7rdk",fallback:"u_e69 A_6Fd5 C_ZroviD i_74JI"}},_key:"Z1txtmb"}},function(e,t,s){"use strict";e.exports={className:{default:{scroller:"p_R Z_0 iy_h iz_A H_6D6F W_6D6F k_w em_N c22hqzz_GN",list:"M_0 P_0",item:"H_A hd_n",heightPlaceHolder:"p_a T_0 L_0 W_dBP I_T cZW7ROP_n Z_nF",topHolder:"D_F ek_BC o_h p_R",bottomHolder:"o_h"}},_key:"1F62Rl"}},function(e,t,s){"use strict";e.exports={className:{default:{composeToolbar:"z_Z14vXdP D_F ab_C I_52qC W_6D6F p_R B_0",sendButton:"q_Z2aVTcY e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",status:"Q_fq7 E_fq7 C_Z1TsNWR",spacer:"em_N",sectionDivider:"M_1Eu7sD n_Z14vXdP H_6MGW",formattingTools:"en_N J_x o_h cZ1RN91d_n",icon:"D_X P_3gIMd V_GI O_cMu O4_N I4_2ieea9 O0_N I0_7l9bL ir3_1JO2M7 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",menuIcon:"D_Z1YJkyX gl_C V_GI ir3_1JO2M7 it3_dRA H_6NIX W_6VdP",rtlRawScaleX:"rtlR_h_2gl0WC",deleteButton:"D_Z1YJkyX gl_C en_0 P_0 q_n O4_N I4_2ieea9 ir3_1JO2M7 it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",trashIcon:"cdPFi_Z26U5qH cdPFi4_ZkiIcp"},"kind-MESSAGE":{composeToolbar:"W_A z_n i_N H_72FG",toolbarContainer:"gl_C z_2w4l8N"},"kind-VACATION_RESPONSE_SETTINGS":{composeToolbar:"W_A i_N H_7ceA P_2aKOEx",toolbarContainer:"gl_C z_2w4l8N"},disabled:{composeToolbar:"cZW7ROP_n O_od"},fixed:{composeToolbar:"p_f Z_e69",toolbarPlaceholder:"W_6D6F H_7qGO"}},_key:"tp6Kc"}},function(e,t,s){"use strict";e.exports={className:{default:{compose:"I_52qC j_n k_w W_6D6F D_F ek_BB em_N P_ZzJed p_R",loadingContainer:"je_74JI",editorContainer:"em_N D_F ek_BB iz_A"}},_key:"2d0UNX"}},function(e,t,s){"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F gl_C ab_C P_Z17Hvh7",errorMessage:"A_6FsP Q_fq7",emptyBodyRetry:"r_P C_Z2aVTcY"}},_key:"Z1fhFdm"}},function(e,t,s){"use strict";e.exports={className:{default:{flexSpacer:"em_N en_N"}},_key:"93Fn1"}},function(e,t,s){"use strict";e.exports={className:{default:{loadingContainer:"je_74JI W_6D6F"}},_key:"1LglKj"}},function(e,t,s){"use strict";e.exports={className:{default:{compose:"p_a R_0 T_0 L_0 B_0 D_F"}},_key:"ZyEg8F"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ek_BB r_P P_ZVpSLT I_52qC m_Z14vXdP",buttonGroup:"D_F en_0 u_b C_Z1TsNWR U_7rdk",listItem:"D_I r_BN",button:"r_P u_b C_Z2aVTcY b_0 P_0 M_0 H_6Nds A_6EqO y_Z2uhb3X I_T C4_Z29WjXl ir3_1JO2M7 it3_dBP",comma:"u_b C_Z1TsNWR"}},_key:"ZqflQw"}},function(e,t,s){"use strict";e.exports={className:{default:{tooltip:"s_3rBgu I_Zcn3mu C_52qC t_C P_fQos4 e_eTB p_a dq33_Z1WN6IG p33_a T33_e5X Y33_69rk cn33_fam cg33_FJ"},right:{tooltip:"R33_6D6F L33_A l33_Z1vf50c"},left:{tooltip:"L33_6D6F R33_A l33_9Tjpk"}},_key:"Z1Kvy9o"}},function(e,t,s){"use strict";e.exports={className:{default:{description:"u_dPo C_Z1YRXYn U_6Eb4",list:"Q_69rk K_3o5DP P_dBP iz_A",item:"D_F ab_C u_e69 r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",separator:"m_Z14vXdP M_1HT1B4",checkbox:"P_eo6 D_F",option:"D_F ab_C Q_69bz u_e69 r_P ir3_1JO2M7"}},_key:"uRumm"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"D_F W_6D6F r_BN gl_C",container:"D_F ab_C en_0 b_Z14vXdP e_3mS2U I_52qC P_Z1otBpf",bottomLine:"M_0 P_0 cn_0",label:"X_eo6",toolbarItem:"r_P D_F M_1Eu5U7 cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",moreMenuItem:"r_P D_F M_oRiNT",rtlRawScaleX:"rtlR_h_2gl0WC"}},_key:"Z2jp2F9"}},function(e,t,s){"use strict";e.exports={className:{default:{participants:"o_h G_e J_x em_N"},transparent:{participants:"em_0 v_h"}},_key:"Z1ihYk"}},function(e,t,s){"use strict";e.exports={className:{default:{backToListButton:"y_Z2uhb3X A_6EqO J_x C_q cdPFi_q E_fq7"}},_key:"2dJHJY"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z22Yrri"}},function(e,t,s){"use strict";e.exports={className:{default:{main:"H_6D6F W_6D6F",scroll:"p_R iy_h iz_A H_6D6F W_6D6F X_6Fd5 N_6Fd5 k_w",container:"hd_n P_0 M_0 p_R",item:"p_a T_0 L_0 R_0",newItem:"p_a T_0 L_0 R_0 ah_Z19ro7u",oldItem:"p_a T_0 L_0 R_0 ah_fqorO",maskItem:"cZ1RN91d_n p_a T_0 L_0 R_0",stickyHeader:"p_a T_0 L_0 R_0 X_6Fd5 I_ZD6Uwa Z_N j_n",scrollToTop:"D_F ab_C gl_C p_a B_6Fd5 R_0 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P Z_O",loading:"p_a B_0 L_0 R_0",focusStealer:"H_0"},"theme-ATT":{scrollToTop:"I_Z15BeVd I4_Z2dxrGx"},"theme-FRONTIER":{scrollToTop:"I_2dK1Xc I4_Z1A0QhA"},"theme-ROGERS":{scrollToTop:"I_Z1m994D I4_Z21W7Hh"},"theme-BT":{scrollToTop:"I_Z3iqci I4_Z20SNAa"},"theme-SKY":{scrollToTop:"I_1za5gA I4_Z2dycH0"},"theme-DEFAULT":{scrollToTop:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{scrollToTop:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{scrollToTop:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{scrollToTop:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{scrollToTop:"I_ZMqghf I4_Z21zYBA"},"theme-DARK_GREY":{scrollToTop:"I_Z1m994D I4_Z21W7Hh"},"theme-NIGHT_LANDSCAPE":{scrollToTop:"I_Z1W4Pak I4_Z1UEcsX"},"theme-ROADTRIP":{scrollToTop:"I_ZNsLcW I4_ZrkPvI"},"theme-SUNSET_AUSSIE":{scrollToTop:"I_ZNpR7F I4_ZmlXUP"},"theme-LIGHTHOUSE":{scrollToTop:"I_Zd2nN5 I4_Z1VDTK1"}},_key:"ZR47Hi"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b N_6Fd5",subContainer:"D_F ab_C em_N o_h",content:"D_F em_N gl_FM ab_C o_h",link:"o_h D_F r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY",close:"Q_fq7 D_F r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY",articleTitle:"Q_fq7 u_N J_x o_h G_e",popoutIcon:"D_F Q_eo6"},centerAlign:{container:"gl_C",subContainer:"em_0"},"themeMode-DARK":{container:"I_T C_52qC",link:"C_2sqbRh cdPFi_2sqbRh cdPFi4_52qC C4_52qC",close:"C_2sqbRh cdPFi_2sqbRh cdPFi4_52qC C4_52qC"}},_key:"Z1fVwrY"}},function(e,t,s){"use strict";e.exports={className:{default:{bannerContainer:"p_R Z_0 D_F J_x r_P",bannerText:"D_X P_ZILJ0M p_R C_52qC u_b o_h D33_B dq33_Z1WN6IG p33_a T33_0 L33_0 W33_6D6F H33_6D6F aw33_ZBYItr lt33_1HC8nX h33_ZEmv6m Z33_nF"}},_key:"Z1Vxx4q"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"H_6UbO i_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b",enhancedContainer:"I34_2spJWC D34_F dq34_hP p34_a H34_eo6 W34_6D6F T34_68F4 L34_0 H_6UbO i_6UbO k_w I_52qC X_fq7 C_Z1YRXYn A_6EqO u_b",label:""},"themeMode-DARK":{container:"I_T C_52qC",enhancedContainer:"I34_ajOPR D34_F dq34_hP p34_a H34_eo6 W34_6D6F T34_68F4 L34_0 I_T C_52qC"}},_key:"1bxyiD"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_6TV4 bn_dBP bm_FJ bj_ZpQYvz p_R A_6EqO i_6FIA o_h X_eo6 h_Z1H3PfF ir3_1JO2M7 it3_689y I4_1I4yPF",check:"en_0 i_0 H_6D6F E_689y Z_f8a k_w",checkbox:"H_6D6F",ybadgeIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F Q_6Eb4 E_eo6",emailTypeIcon:"s_6FIA en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0 p_R",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z281SGl",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_3ixhM o_h a_6D6F D_F ab_C",subject:"o_h G_e J_x en_N",snippet:"J_x o_h C_Z1YRXYn",snippetContainer:"J_x o_h Q_fq7 en_qh",messageCount:"en_0 P_3gJiI Q_fq7 e_fFR A_6DUj I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",unusualDiscount:"D_F ab_C je_eDQ W_3naQW H_6Mbr e_6DUj b_0 I_1IJqDA M_Z1kkfxo",nudgeToReply:"C_Z2aVTcY D_F ab_C H_6Mbr e_6DUj b_0 M_Z1kkfxo u_b",unusualDiscountText:"D_F ab_C jb_dRA H_6Eb4 y_Z2uhb3X A_6DUj u_b",unusualDiscountImg:"jb_dRA D_F ab_C je_dRA N_eo6 W_6Eb4 H_6Eb4 im_BE",quotientUpsell:"D_F ab_C r_P je_eDQ W_3nhzy H_6Mbr e_6DUj b_0 M_Z1kkfxo I_1I4yPF I4_1I4z5p",quotientUpsellText:"D_F ab_C jb_e8l H_6Eb4 y_Z2uhb3X A_6DUj u_b C_Z2aVTcY",extractedInfo:"s_CD",draftIndicator:"en_0 J_x C_ZnTFMv s_6NIX A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 Q_fq7",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",highlightedTerm:"I_2ieea9 D_X P_3zDxc",selected:"I_laXMl I4_laXMl",active:"I_1I4z5p",messageDestinationLabel:"M_3gJOe o_h J_x G_e W_7yHc en_0",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_cMr r_n O4_cMu",singleGroupActions:"D_F Q_dRA",singleGroupItem:"D_F cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",rtlRawScaleX:"rtlR_h_2gl0WC"},"layout-1":{container:"H_6Mrc"},"layout-3":{container:"H_73rW"},isCompactLayout:{check:"D_X p_a L_dRA T_dm5",checkbox:"H_A",gridB2:"gl_CH em_U",readIcon:"D_X H_6LEV p_a T_fq7 L_6Eb4",ybadgeIcon:"D_X H_6LEV p_a T_fq7 L_6Eb4",starIcon:"D_X H_6LEV p_a Q_6Eb4 T_6Ntd L_6Eb4",maskStarIconWhenStarred:"D_X H_6LEV p_a Q_6Eb4 T_6Ntd L_6Eb4 O_0",draftIndicator:"D_X",senders:"p_a L_73HH T_fq7 a_e91 J_x G_e",subjectContainer:"D_B p_a T_6NIX L_74JI a_eFx J_x o_h G_e",snippetContainer:"p_a Q_0 T_74JI L_74JI a_eFx",extractedInfoCompact:"p_a Q_69H5 T_74JI L_7ceA a_eFx",emailTypeIcon:"p_a M_0 X_fq7 N_eDQ R_eo6 B_fam",messageCount:"D_X",dateWrapper:"p_a T_fq7 R_eo6 t_r"},isCompactSlimLayout:{check:"T_dm5",readIcon:"T_eo6",ybadgeIcon:"T_eo6",starIcon:"T_6Mbr",senders:"T_eo6",subjectContainer:"T_6Mbr",snippetContainer:"T_72FG",dateWrapper:"T_eo6",emailTypeIcon:"B_eTB",extractedInfoCompact:"T_73cc"},isCompactNormalLayout:{check:"je_e8l",readIcon:"T_fam",ybadgeIcon:"T_fam",starIcon:"T_6Ntd",senders:"T_fam",subjectContainer:"T_6Ntd",snippetContainer:"T_74ed",dateWrapper:"T_fam",emailTypeIcon:"B_fq7"},isCompactRelaxedLayout:{container:"i_6LEV",check:"je_eo6",readIcon:"T_fq7",ybadgeIcon:"T_fq7",starIcon:"T_6NIX",senders:"T_fq7",messageCount:"P_3gJyt",subjectContainer:"T_6NIX",snippetContainer:"T_74JI",dateWrapper:"T_fq7",emailTypeIcon:"B_6DEy",extractedInfoCompact:"T_7bcz"},"layout-4":{container:"H_74tX"},"layout-5":{container:"H_7bXP"},"layout-6":{container:"H_7d0Q"},"layout-7":{container:"H_7jsH"},"layout-8":{container:"H_7qWz"},"layout-9":{container:"H_7t1B"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},"highlightPosition-NONE":{snippet:"G_e"},isNonCompactSlimLayout:{checkbox:"je_Cd90f jb_Cd90f"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},darkThemeMode:{container:"C_ZnIF8Y bj_ajP6C ir3_Z1FS2Mn I4_ZS2gnO",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",selected:"I_ZS2g95 I4_ZS2g95",active:"I_ZS2g95"},borderless:{container:"bm_n"},isCompactHasEmailTypeIcon:{subjectContainer:"a_1C0Rfo",snippetContainer:"a_1C0Rfo"},isCompactHovered:{subjectContainer:"a_ZLhQ7h",snippetContainer:"a_ZLhQ7h",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",gridB1:"p_s",readIcon:"L_6Fd5",ybadgeIcon:"L_6Fd5",senders:"L_74JI",check:"L_eTB"},"themeMode-DARK":{container:"I3_ZFyHXD I4_1YEmYj",active:"I_iJ8JF",selected:"I_iJ8JF I4_iJ8JF",quotientUpsellText:"C_52qC",unusualDiscountText:"C_52qC",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC"},"themeCombo-DARK_ATT":{quotientUpsell:"I_Z15BeWJ I4_Z15BeVd",nudgeToReply:"C_Z15BeUc"},"themeCombo-DARK_FRONTIER":{quotientUpsell:"I_2dK1VF I4_2dK1Xc",nudgeToReply:"C_2dK1Yd"},"themeCombo-DARK_ROGERS":{quotientUpsell:"I_Z1m996a I4_Z1m994D",nudgeToReply:"C_Z1m993C"},"themeCombo-DARK_BT":{quotientUpsell:"I_Z3iqdO I4_Z3iqci",nudgeToReply:"C_Z3iqbh"},"themeCombo-DARK_SKY":{quotientUpsell:"I_1za5f4 I4_1za5gA",nudgeToReply:"C_1za5hB"},"themeCombo-DARK_DEFAULT":{quotientUpsell:"I_Z1owzwx I4_Z1owzv1",nudgeToReply:"C_Z1owzu0"},"themeCombo-DARK_SUNRISE":{quotientUpsell:"I_ZNpR9c I4_ZNpR7F",nudgeToReply:"C_ZNpR6E"},"themeCombo-DARK_AQUA_GREEN":{quotientUpsell:"I_1dThI4 I4_1dThJA",nudgeToReply:"C_1dThKB"},"themeCombo-DARK_AQUA_BLUE":{quotientUpsell:"I_26UHKc I4_26UHLI",nudgeToReply:"C_26UHMJ"},"themeCombo-DARK_DEEP_PURPLE":{quotientUpsell:"I_ZRpDQS I4_ZRpDPm",nudgeToReply:"C_ZRpDOl"},"themeCombo-DARK_BLUE_NIGHT":{quotientUpsell:"I_ZMqgiL I4_ZMqghf",nudgeToReply:"C_ZMqgge"},"themeCombo-DARK_DARK_GREY":{quotientUpsell:"I_Z1m996a I4_Z1m994D",nudgeToReply:"C_Z1m993C"},"themeCombo-DARK_NIGHT_LANDSCAPE":{quotientUpsell:"I_Z1W4PbQ I4_Z1W4Pak",nudgeToReply:"C_Z1W4P9j"},"themeCombo-DARK_ROADTRIP":{quotientUpsell:"I_ZNsLet I4_ZNsLcW",nudgeToReply:"C_ZNsLbV"},"themeCombo-DARK_SUNSET_AUSSIE":{quotientUpsell:"I_ZNpR9c I4_ZNpR7F",nudgeToReply:"C_ZNpR6E"},"themeCombo-DARK_LIGHTHOUSE":{quotientUpsell:"I_Zd2nOB I4_Zd2nN5",nudgeToReply:"C_Zd2nM4"}},_key:"W0tQ1"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F",attachmentsPopover:"D_F",attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"mCSbU"}},function(e,t,s){"use strict";e.exports={className:{default:{carouselContainer:"D_F ir_n em_N",carousel:"D_F o_h p_R em_N s_72FG",list:"D_F ha_n p_a J_x lv_1Ys0hR L_0 B_0 P_0 M_0",prevNavHandleContainer:"D_F",nextNavHandleContainer:"D_F",prevNavHandle:"em_0 en_0",rtlRawScaleX:"rtlR_h_2gl0WC",nextNavHandle:"em_0 en_0"},animationDisabled:{list:"lv_n"},prevDisabled:{prevNavHandle:"r_BN"},nextDisabled:{nextNavHandle:"r_BN"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{prevNavHandleContainer:"jb_74JI",nextNavHandleContainer:"jb_74JI"}},_key:"Z7QRAV"}},,function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",couponIcon:"D_F"}},_key:"OgOlY"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F Q_6Eb4 E_eo6 cdPFi_ZpQYvz cdPFi4_Z1TsNWR",iconContainer:"H_6LEV",indicator:"Q_e8l"},"isRead-false":{readIcon:"cdPFi_Z2aVTcY cdPFi4_Z2aVTcY"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1YAmK7"}},function(e,t,s){"use strict";e.exports={className:{default:{trashIcon:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_eo6 Q_6Fd5 W_7jIs",trashIconAccessible:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_0",trashCenter:"D_F ab_C gl_C H_6D6F",trashIconCompact:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY D_F gl_F W_6D6F P_fq7 M_18qTTf"},isDarkThemeMode:{trashIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli",trashIconCompact:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"}},_key:"1jQ2Sd"}},function(e,t,s){"use strict";e.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY Q_eo6 P_0",iconContainer:"H_6LEV"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"eboP8"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 P_3gIMd E_eo6 H_6D6F cdPFi_ZpQYvz cdPFi4_Z1TsNWR",iconContainer:"H_6LEV"},isDarkThemeMode:{starIcon:"cdPFi_ak5kB cdPFi4_ak5m8"},starredMailEnhanced:{starIcon:"cdPFi_ZvsWfq h_Z13pql2 lv_1IWXzk cdPFi4_ZvsWfq h4_2d9T5e"},darkStarredMailEnhanced:{starIcon:"cdPFi_2sqbQg h_Z13pql2 lv_1IWXzk cdPFi4_2sqbQg h4_2d9T5e"},messageSize:{starIcon:""},"messageSize-S":{starIcon:"W_6MGW H_6MGW P_Z12gc7W Q_689y E_dRA"}},_key:"1cm5XM"}},function(e,t,s){"use strict";e.exports={className:{default:{singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_cMr r_n O4_cMu",singleGroupActions:"D_F Q_dRA",singleGroupItem:"D_F cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",nudgeToReply:"en_0 A_6EqO C_Z2aVTcY D_F ab_C H_6Mbr e_6DUj b_0 M_KQNIW u_b"},"themeMode-DARK":{singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC"},"themeCombo-DARK_ATT":{nudgeToReply:"C_Z15BeUc"},"themeCombo-DARK_FRONTIER":{nudgeToReply:"C_2dK1Yd"},"themeCombo-DARK_ROGERS":{nudgeToReply:"C_Z1m993C"},"themeCombo-DARK_BT":{nudgeToReply:"C_Z3iqbh"},"themeCombo-DARK_SKY":{nudgeToReply:"C_1za5hB"},"themeCombo-DARK_DEFAULT":{nudgeToReply:"C_Z1owzu0"},"themeCombo-DARK_SUNRISE":{nudgeToReply:"C_ZNpR6E"},"themeCombo-DARK_AQUA_GREEN":{nudgeToReply:"C_1dThKB"},"themeCombo-DARK_AQUA_BLUE":{nudgeToReply:"C_26UHMJ"},"themeCombo-DARK_DEEP_PURPLE":{nudgeToReply:"C_ZRpDOl"},"themeCombo-DARK_BLUE_NIGHT":{nudgeToReply:"C_ZMqgge"},"themeCombo-DARK_DARK_GREY":{nudgeToReply:"C_ak5mD"},"themeCombo-DARK_NIGHT_LANDSCAPE":{nudgeToReply:"C_Z1W4P9j"},"themeCombo-DARK_ROADTRIP":{nudgeToReply:"C_ZNsLbV"},"themeCombo-DARK_SUNSET_AUSSIE":{nudgeToReply:"C_ZNpR6E"},"themeCombo-DARK_LIGHTHOUSE":{nudgeToReply:"C_Zd2nM4"}},_key:"c4Dmw"}},function(e,t,s){"use strict";e.exports={className:{default:{ybadgeIcon:"q_T r_P D_F en_0 ab_C W_6LEV k_BF A_0 b_n"}},_key:"ZIMuu5"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"e_eo6 o_h",actionButton:"J_x I_T cg_n u_b A_6EqO C_Z2aVTcY r_P P_fQoXz",link:"e_eo6 H_74JI X_0 o_h A_6EqO ab_C p_R D_ZKxLmw v_g9505 I_ZnIF8Y cdPFi_Z281SGl k_w I4_ZpQYvz",imageContainer:"W_6VJl D_F ab_C k_w en_0 i_0",previewVideo:"W_6MGW H_6MGW ab_C D_F gl_C p_R",previewVideoPlayer:"W_6NIX H_6NIX im_BH",videoOverlay:"p_a W_6NIX H_6NIX",spacer:"D_F en_0 ab_C W_6LEV H_6D6F P_Z1feoPS",sponsoredContainer:"D_F ab_C r_P",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_ZyfvxR C_Z2drWk6 cdPFi_Z2drWk6",advertiserContainer:"D_F ek_EZ gl_C s_0 ab_C",advertiser:"o_h J_x G_e em_N E_fq7 u_b D_B Q_6NIX",message:"D_F o_h H_6D6F E_72FG J_x em_N i_CS k_w ek_EZ ab_C gl_FO",subjectContainer:"en_0 a_6D6F D_F ab_C gl_FM",subject:"o_v G_e J_x a_6D6F en_N u_b",snippetContainer:"D_F ab_C a_6D6F X_fq7 o_h J_x H_6D6F",snippet:"J_x o_h G_e C_Z1VRpVF a_6D6F",adHeadline:"J_x o_h G_e a_6D6F",sponsored:"A_6EqO ab_C D_F C_Z1VRpVF I_T gl_C H_6D6F b_0 r_P p_a T_0 R_fam P_0",mbBeacon:"D_n",adFeedbackContainer:"P_3Y3Gk",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0 E_eo6",gridB2:"D_F ab_C H_6D6F o_h em_sL ej_0",starRatingContainer:"s_7qGO",adContainer:"s_7yHc E_0",iconContainer:"Q_72FG",spacerContainer:"W_6UbO X_dRA",highlightedTerm:"I_2ieea9 D_X P_3zDxc",snippetInnerContainer:"D_X J_x o_h G_e"},isCompactLayout:{link:"H_7rdk X_0",imageContainer:"W_74JI X_6Eb4 ac_CI je_6Eb4",adHeadline:"Q_0 W_6D6F U_eo6 u_b",snippet:"Q_0",spacer:"D_n",iconContainer:"gl_CH W_A H_6LEV",closeIconContainer:"gl_CH W_A",gridB2:"em_qk ej_7kKt",gridB1:"o_v W_74JI em_0 ej_CS a_n E_0",subjectContainer:"W_6D6F U_eo6",snippetContainer:"W_6D6F gl_FM H_3mCHE X_dm5",message:"M_0 N_fFR ek_BB ab_CI gl_C",subject:"Q_0 o_h",sponsored:"E_0 p_s T_A R_A P_3gIgH Q_7bcz",sponsoredContainer:"H_6Fd5",actionButton:"P_3gIgH",sponsoredIcon:"X_dBP",starRatingContainer:"s_7iGr"},secondPencilAd:{link:"I_T cn_3vzlv cg_FJ l_2xr6Y e_0"},adTextAlignment:{message:"N_dm5",subjectContainer:"gl_82XEY",sponsoredContainer:"X_eo6"},timechunkPencilAd:{link:"cm_0"},gradientltr:{link:"I_82XEY aw_Z1hbGih aw4_82XEY I4_ZpQYvz"},gradientrtl:{link:"I_82XEY aw_2o0LGp aw4_82XEY I4_ZpQYvz"},"backgroundId-1":{link:"I_1lAUBh I4_1iaBuV",sponsoredIcon:"C_Z22OMQj cdPFi_Z22OMQj",actionButton:"l_Z22OMQj C_Z22OMQj",filledActionButton:"I_Z25kRrz"},"backgroundId-2":{link:"I_VtmPm I4_Z1igfGE",sponsoredIcon:"C_Z25iliW cdPFi_Z25iliW",actionButton:"l_Z25iliW C_Z25iliW",filledActionButton:"I_1MO3jO"},"backgroundId-3":{link:"I_Z1d6UKc I4_Z247OCM",sponsoredIcon:"C_Z2dxNDU cdPFi_Z2dxNDU",actionButton:"l_Z2dxNDU C_Z2dxNDU",filledActionButton:"I_ZdD4ID"},"backgroundId-4":{link:"I_Z1dTgDQ I4_Z2sGrp7",sponsoredIcon:"C_Z2dyg2z cdPFi_Z2dyg2z",actionButton:"l_Z2dyg2z C_Z2dyg2z",filledActionButton:"I_yno1B"},"backgroundId-5":{link:"I_Z8TpEO I4_y26bi",sponsoredIcon:"C_ZkhR3R cdPFi_ZkhR3R",actionButton:"l_ZkhR3R C_ZkhR3R",filledActionButton:"I_16TCC9"},"backgroundId-6":{link:"I_Z2cHJN6 I4_Z2lDoc8",sponsoredIcon:"C_Z27jPgO cdPFi_Z27jPgO",actionButton:"l_Z27jPgO C_Z27jPgO",filledActionButton:"I_1nby3G"},transparentLink:{link:"bn_dBP bm_FJ bj_2spJWC I_T I4_1I4yPF"},darkModeNonPhotoTheme:{link:"C_ZpQYvz cdPFi_52qC I_sgPuo aw_82XEY I4_sgPuT",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_1YEmYj",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},darkModePhotoTheme_NIGHT_LANDSCAPE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},darkModePhotoTheme_ROADTRIP:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},darkModePhotoTheme_SUNSET_AUSSIE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},darkModePhotoTheme_LIGHTHOUSE:{link:"C_ZpQYvz cdPFi_52qC aw_82XEY I_ajOPR I4_ajP3z",linkWithTransparentBackground:"bj_Z18Bi5B I_T I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_52qC"},"msgListDensity-1":{link:"H_qg",imageContainer:"X_0",actionButton:"b_82XEY cg_82XEY",previewVideo:"W_6MGW H_6MGW",previewVideoPlayer:"W_6MGW H_6MGW",videoOverlay:"W_6LEV H_6LEV",spacer:"Q_eTB",spacerContainer:"W_6TFj P_0",sponsoredIcon:"M_ZBlLjw"},"msgListDensity-2":{link:"H_qJ",previewVideo:"W_6UbO H_6UbO",previewVideoPlayer:"W_6UbO H_6UbO"},"msgListDensity-3":{link:"H_rh",previewVideo:"W_73HH H_73HH o_v",previewVideoPlayer:"W_73HH H_73HH"},"msgListDensity-compact_snippets_1":{link:"H_si",subjectContainer:"U_dRA",adHeadline:"U_dRA u_b",sponsoredIcon:"Y_69bz"},"msgListDensity-compact_snippets_2":{link:"H_sL",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_b",sponsoredIcon:"Y_68F4"},"msgListDensity-compact_snippets_3":{link:"H_tf",subjectContainer:"U_eo6",adHeadline:"U_eo6 u_b"},"msgListDensity-compact_1":{link:"H_rl",subjectContainer:"U_dRA",snippet:"u_b C_82XEY",sponsoredIcon:"Y_68UO"},"msgListDensity-compact_2":{link:"H_rO",subjectContainer:"U_eo6",snippet:"u_b C_82XEY",sponsoredIcon:"Y_689y"},"msgListDensity-compact_3":{link:"H_se",subjectContainer:"U_eo6",snippet:"u_b C_82XEY"},isFlashSaleAd:{adHeadline:"u_b"},compactFlashSaleAd:{subjectContainer:"U_dm5",snippetContainer:"H_3mCHE"},pencilAdVersionV2BackBucket:{imageContainer:"W_7iGr",sponsoredIcon:"M_E8xte"},pencilAdVersionV3Test1:{imageContainer:"W_7jcW"},renderTrashIcon:{actionButtonContainer:"E_7iGr"},renderTrashIconInHover:{actionButtonContainer:"E_dm5"},secondSearchAd:{linkWithTransparentBackground:"I_T",link:"I_T I4_1YEmYj"}},_key:"Z1kpMXH"}},function(e,t,s){"use strict";e.exports={className:{default:{chevronDown:"V_GI P_Z2rzFgL",adFeedbackContainer:"P_3Y3Gk"},isCompactLayout:{chevronDown:"V_ P_0"},hideFeedbackChevron:{chevronDown:"v_h Q_36RhU"}},_key:"B55jU"}},function(e,t,s){"use strict";e.exports={className:{default:{closeIcon:"I_T r_P b_0 P_eo6 Q_fq7 E_6Eb4 W_72FG",closeCenter:"D_F ab_C gl_C H_6D6F",closeIconCompact:"I_T r_P b_0 D_F gl_F W_6D6F P_fq7 M_18qTTf"},isCompact:{closeIcon:"E_eo6"},adHoveredInLightTheme:{closeIcon:"cdPFi_Z9gXaW cdPFi4_Z1rB5pY"},adHoveredInDarkTheme:{closeIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"},adNotHoveredInCompact:{closeIconContainer:"D_n"}},_key:"Z4f6tD"}},function(e,t,s){"use strict";e.exports={className:{default:{flashSaleCountdown:"D_F ab_C C_Z1VRpVF cdPFi_Z1VRpVF",flashSaleCountdownText:"Q_eo6"},flashSaleHighlight:{flashSaleCountdown:"C_Z287E9E cdPFi_Z287E9E"},isDarkTheme:{flashSaleCountdown:"C_ZvsWfq cdPFi_ZvsWfq"}},_key:"Z1bA1sY"}},function(e,t,s){"use strict";e.exports={className:{default:{starElement:"p_R N_dBP o_h D_B f_l A_6DUj",activeFullStar:"p_R D_B f_l C_Z1ryQjN",activeEmptyStar:"p_a D_B Z_N T_0 L_0 C_Z1vPqV0",inActiveEmptyStar:"C_ZpQYvz",halfActiveFullStar:"p_a D_B Z_N W_e5X T_0 L_0 o_h C_Z1ryQjN",halfActiveEmptyStar:"p_R D_B f_l C_ZpQYvz",halfBorderStar:"p_a D_B Z_O W_e5X o_h T_0 L_0 C_Z1vPqV0"}},_key:"1q9cfa"}},function(e,t,s){"use strict";e.exports={className:{default:{fanAdIframe:"W_6D6F"},mobile:{fanAdIframe:"D_B bn_dBP bm_FJ bj_ZpQYvz"},mobileDark:{fanAdIframe:"bj_2spJV6"},msgReadDark:{fanAdIframe:"I_ZnIF8Y bj_ZpQYvz"}},_key:"1H7zH7"}},function(e,t,s){"use strict";e.exports={className:{default:{thankYouContainer:"I_1I4yPF H_74JI D_F gl_FM ab_C X_6DEy e_dRA",textContainer:"o_h K_74JI D_F ek_BB gl_C em_N r_P",header:"K_6VdP u_b o_A",caption:"C_Z1TsNWR K_6VdP A_6DUj",close:"H_72FG N_eTB je_dRA r_P",upgradeNow:"J_x i_6EGz e_dRA M_1GMufD I_T b_2fAfSG p_R C_Z2aVTcY r_P P_fQoXz"},isCompactLayout:{thankYouContainer:"H_7rdk",textContainer:"K_7rdk",caption:"o_A",header:"D_F ek_BB gl_FM jb_eo6 i_6Eb4 w_AS J_EP ix_AS K_7rdk",close:"H_7jIs je_0 N_eo6",upgradeNow:"P_eo6 M_Z1EyLxu",thankYou:"U_eo6"},"themeMode-DARK":{caption:"C_52qC",upgradeNow:"C_52qC",thankYouContainer:"C_52qC"}},_key:"sgAcU"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ac_FT ab_C gl_C em_N",wrapper:"p_R",svgWrapper:"O_cMs",countWrapper:"p_a L_0 T_0 H_3nj85 W_3nj85 D_F gl_C ab_C",count:"C_Z281SGl A_74JI i_74JI u_dzD p_R T_36KP4"},"themeMode-DARK":{count:"C_52qC"}},_key:"Z2wD4bH"}},function(e,t,s){"use strict";e.exports={className:{default:{searchHeader:"P_2iGizO m_Z14vXdP D_F en_0 ek_EZ gl_FM"},"themeMode-DARK":{searchHeader:"m_ZYfFPt"}},_key:"Z2wEO9i"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"M_0 P_0 C_Z281SGl D_F ek_EZ H_6MGW p_R J_x b_ZGN9rt l_ZVhlrG e_dRA"},"themeMode-DARK":{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"},isOnDarkBackground:{container:"C_52qC",inactiveSegment:"C_52qC",activeSegment:"C_52qC"}},_key:"efwid"}},function(e,t,s){"use strict";e.exports={className:{default:{segment:"ce_dBP cd_FJ cc_ZVhlrG C_Z24Sbth r_P D_F u_e69 p_R M_0 I4_IyTRc x8_n",button:"I_T b_n D_X C_q r_q y_q u_q A_6EqO P_1Eu7sD W_6D6F ir3_1JO2M7 it3_dRA D33_B C33_T dq33_Z1WN6IG u33_b H33_0 o33_h v33_h",buttonText:"D_X"},isSelected:{segment:"I_Z2tSq0X C_Z281SGl u_b Z_O I4_Z2tSq0X"},showEllipsis:{buttonText:"W_q G_e o_h J_x"},showWhiteLabels:{segment:"C_52qC"}},_key:"gQubX"}},function(e,t,s){"use strict";e.exports={className:{default:{didYouMean:"A_6EqO C_q u_q i_6UbO J_x a_3Lic3 o_h G_e",didYouMeanKeyword:"S_U kz_ZkiIcp lc_BK D_X A_6EqO u_b",didYouMeanWord:"D_X A_6EqO u_b"},"themeMode-DARK":{didYouMeanKeyword:"C_52qC",didYouMean:"C_52qC",didYouMeanWord:"C_52qC"}},_key:"Z1Rwsh3"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C J_x r_P H_6Nds",labelPadding:"N_eo6"},"themeMode-DARK":{container:"C_52qC"}},_key:"Z2rlRsL"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz",tabs:"P_1g7oPJ M_cFf m_Z14vXdP D_F"},"themeMode-DARK":{heading:"C_52qC m_ZYfqDw",tabs:"m_Z6DFj8"}},_key:"ZnkVPn"}},function(e,t,s){"use strict";e.exports={className:{default:{listContainer:"p_R H_6D6F W_6D6F k_w em_N"}},_key:"28CPJE"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R X_eo6 h_Z1H3PfF I4_1I4yPF",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_2spJWC A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_fq7 E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F a_3nq6r em_pO ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_th ej_0",vendorName:"Q_fq7 o_h G_e J_EN",clippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_Z287E9E C_52qC",unclippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_52qC cdPFi_Z287E9E",description:"J_x Q_6Eb4 o_h G_e em_N",vigLinkDescription:"J_x Q_6Eb4 o_h G_e em_N C4_Z2aVTcY",dateWrapper:"D_F gl_CH en_N A_6DUj Q_6Eb4 J_EN s_3mS2U",unclippedCpnExpiryInfo:"C_Z1VRpVF",openEmailIcon:"cdPFi_Z1VRpVF cdPFi4_Z2aVTcY"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",vigLinkDescription:"C4_Z2bg7IA",subContainer:"bj_ajOPR",unclippedButton:"I_T cdPFi_29F7yW l_29F7yW",clippedButton:"I_29F7yW l_29F7yW",unclippedCpnExpiryInfo:"C_2sqbQg",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW"},hideBottomBorder:{subContainer:"bj_T"}},_key:"Zo6lNQ"}},function(e,t,s){"use strict";e.exports={className:{default:{dialog:"W_3ElT5 k_w I_52qC D_F ek_BB P_Z1sM9Tt e_2ePX5q gl_C",close:"ac_CH",title:"D_F Y_36RhU A_6FsP i_6MGW ab_AJ W_3w6xl u_e69",subtitle:"D_F A_6EqO i_6FsP ab_AJ u_b je_eo6 jb_6FsP",controls:"je_6MGW",inputContainer:"D_F F_N",inputField:"q_T b_Z14vXdP H_74JI em_N A_6EqO C_Z281SGl jw_n V_GM e_dRA y_Z2uhb3X P_ZONthA ir3_0 b3_2pn5i3",calendarContainer:"D_F ek_BB gl_C P_ZXVub9 W_3DHnH H_3npkb",calendarSubcontainer:"D_F ek_EZ ab_C"}},_key:"Ztom5i"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C W_74JI H_3mU6W e_dRA M_ZmsKM2 ir_n b_2fAfSG r_P",disabledContainer:"D_F gl_C ab_C W_74JI H_3mU6W e_dRA M_ZmsKM2 ir_n b_Z11YcS2 I_ZnkeaL"},left:{container:"M_Z1r3vN7",disabledContainer:"M_Z1r3vN7"}},_key:"Z2nwNHM"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C ek_BB W_7bsk H_7jIs e_dRA I_Z1vLePO r_P M_203ASX",selectedContainer:"D_F gl_C ab_C ek_BB W_7jIs H_7rdk e_dRA I_Z21a4NC r_P M_0 q_Z2tgMkg",outerContainer:"D_F gl_C ab_C ek_BB W_3mS2U H_3mU6W e_dRA I_ZnkeaL r_P M_3gJiI b_Z144Pm1",day:"u_e69 A_6EqO C_Z21a4NC",selectedDayOfWeek:"u_e69 A_6EqO C_52qC",selectedDayOfMonth:"u_e69 A_6EWk C_52qC"}},_key:"RSCFc"}},,function(e,t,s){"use strict";e.exports={className:{default:{container:"b_Z163u0T H_3nymz s_3nWDs D_F ek_BB gl_CH ab_C M_fq7 e_dRA I4_1I4yPF r4_P",icon:"H_72FG D_F eo_x W_6D6F ab_C gl_C",image:"W_72FG H_72FG e_e5X",overlayContainer:"W_0",overlay:"W_72FG H_72FG h_ZEcFM9 q_Z1WGv5u O_6uA1 e_e5X",header:"y_Z2uhb3X u_b A_6EqO C_Z281SGl gp_0 t_C U_6LEV Y_fq7 a_3nV5V J_x o_h G_e",actionContainer:"W_6D6F H_750t z_Z14vXdP D_F gl_C ab_C",link:"y_Z2uhb3X A_6EqO C_Z2aVTcY gp_1zlpEt i_6FIA C4_Z29WjXl r4_P"},"themeMode-DARK":{container:"b_1iPdY0 I4_1YEmYj",header:"C_ZpQYvz",link:"C_Z2bg7IA C4_52qC r4_P",actionContainer:"z_1iPdY0"}},_key:"SxHrm"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F Q_6Eb4"}},_key:"1mesQ2"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R h_Z1H3PfF I4_1I4yPF",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_ZnIF8Y A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_6DEy E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F em_3qVd0 ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_3Msdm ej_0",vendorName:"Q_fq7 o_h G_e J_EN",itemName:"J_x Q_6Eb4 o_h G_e",price:"J_x C_Z1TsNWR Q_6Eb4 G_e",dateWrapper:"D_F gl_CH em_N en_N A_6DUj Q_6Eb4 E_fq7 J_EN",date:"C_Z1TsNWR"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",subContainer:"bj_ajOPR",date:"C_2sqbQg"},hideBottomBorder:{subContainer:"bj_T"},noItemName:{price:"Q_0"}},_key:"1UNDYg"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_3Hv38 k_w I_52qC D_F el_QDCVj",header:"M_0 P_Z2bdlcy A_6FsP i_6NIX D_F el_Z1mLfFl ab_1g38K5",heading:"je_6Fd5 em_N H_6NIX D_F ab_C",info:"X_eo6",popoverAnchor:"D_F",tooltip:"W_3qXgC P_6Eb4 cZW7ROP_n",spacing:"P_6Eb4 cZW7ROP_n",popoverContainer:"D_F",close:"M_1r2gWB",title:"X_eTB",content:"P_0",messageContent:"D_F k_w ek_BB H_3rLkT W_3Hv38 P_14vJA9 J_x iz_A iy_h I_Z1syAID",spinner:"D_F ab_C gl_C em_N",subject:"A_6EWk i_6FIA G_e J_x o_h P_1EmYfa",msgHeader:"P_1DLYDz",snippet:"o_h J_x G_e A_6EqO i_6LEV P_EToGE",attachments:"X_6Eb4",viewMessage:"ab_CH r_P C_Z2aVTcY u_e69",icon:"p_a M_6Fd5",message:"P_ZG0ms9 w_AS ix_AS",controls:"D_F ab_C P_2gGPxM",buttonContainer:"em_N"}},_key:"Z21idRV"}},function(e,t,s){"use strict";e.exports={className:{default:{photoGrid:"H_3nx4N W_3nx4N p_R M_eo6 r_BN ir3_1JO2M7",photoItemImg:"W_6D6F H_6D6F ba_BH",photoOverlay:"p_a H_6D6F W_6D6F T_0 q_ZpQYvz O_6uA3 r_P",iconContainer:"D_F gl_FM P_fQq0A p_a B_0 q_Zjpysv k_w W_6D6F H_6VdP",photoActionBtn:"H_6D6F",forwardButton:"h_Z2uKmny",rtlRawScaleX:"rtlR_h_2gl0WC"},isMessageDeleteEnabled:{iconContainer:"P_Z2rzCvT"}},_key:"ZvaXpU"}},function(e,t,s){"use strict";e.exports={className:{default:{menuContainer:"M_0 hd_n s_3mS2U a_3nF5b P_3Y3Gk",separator:"M_3HLUz m_Z14vXdP",menu:"D_F o_h",disabledMenuItem:"F_N s_0 D_F ab_C S_n P_Z1E30bS q4_1I4yPF r_DZ cZW7ROP_n C_Z1TsNWR",menuItem:"F_N s_0 D_F ab_C S_n P_Z1E30bS q4_1I4yPF r_P",menuText:"o_h J_x G_e Q_eo6"}},_key:"12CxVW"}},function(e,t,s){"use strict";e.exports={className:{default:{documentContainer:"I_T W_6D6F D_F k_w ab_C p_R o_h P_Z2rzCvT H_7ceA r_P ir3_1JO2M7 I3_1I4z5p it3_689y I4_1I4yPF",documentInfo:"J_x o_h F_N P_fQoXz",documentTimeStamp:"P_23Qdjg",filename:"A_6EqO C_Z281SGl a_3rlLf J_x o_h G_e",filesize:"P_3gJOe A_6DUj C_Z1TsNWR D_X",messageSubject:"A_6EqO C_Z1TsNWR J_x o_h G_e",documentAction:"r_BN P_fQoXz",documentActionBtn:"D_X P_1Eu5U7 cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY",documentActionLink:"D_X",forwardButton:"D_X P_ZUD9Kb h_Z2uKmny cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY",highlightSearchTerm:"I_2ieea9 D_X P_3zDxc",rtlRawScaleX:"rtlR_h_2gl0WC"},isCompactLayout:{documentContainer:"r_P P_0",filename:"D_X a_6D6F"},isDarkThemeMode:{documentContainer:"C_2sqbRh ir3_Z1FS2Mn I3_1YEmYj I4_ZFyHXD",messageSubject:"C_2sqbQg",highlightSearchTerm:"I_2sqbPK",forwardButton:"cdPFi_2sqbRh cdPFi4_52qC",documentActionBtn:"cdPFi_2sqbRh cdPFi4_52qC",filename:"C_52qC"}},_key:"KcoVO"}},function(e,t,s){"use strict";e.exports={className:{default:{documentsViewHeader:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",documentsViewTitle:"A_6FsP u_dPo D_F gl_C em_N",sortMenuContainer:"E_eo6"},"themeMode-DARK":{documentsViewHeader:"I_T m_ZYfFSw C_52qC cdPFi_52qC"}},_key:"11JDPt"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"o_Z29I5vQ I_52qC",menuContainer:"D_F ek_EZ eo_HB P_1d6dau",retailerContainer:"H_3nb7H W_3nb7H D_F ek_BB gl_C ab_C M_1BOUCu e_eo6 I4_1I4yPF r4_P",icon:"H_74JI W_74JI e_e5X D_F eo_x ab_C gl_C j_Z2rLBDa I_1h2PNq",image:"W_74JI H_74JI e_e5X",header:"W_3nb7H H_6Fd5 je_fq7 A_6EqO u_e69 t_C C_Z281SGl",close:"D_F gl_C ab_C W_7iGr A_6EqO u_e69 t_C C_Z2aVTcY jb_6Fd5 M_A r_P"}},_key:"Zk0b85"}},function(e,t,s){"use strict";e.exports={className:{default:{dialog:"D_F I_52qC e_dRA",svgContainer:"P_Z1hbyol",container:"N_6Fd5",header:"A_6FsP D_F ab_C gl_FM P_28J5sJ",listHeader:"X_6LEV",body:"P_2e6mAW"}},_key:"ZPonhM"}},function(e,t,s){"use strict";e.exports={className:{default:{dialog:"W_3A1b8 I_52qC D_F ek_BB e_eTB gl_C ab_C jb_6UbO",close:"ac_CH M_C04i4",logo:"H_7iGr W_7iGr",header:"A_6FsP u_b P_1mTeP7",body:"ac_CI P_ZJnzKk"}},_key:"Z1udYHO"}},function(e,t,s){"use strict";e.exports={className:{default:{checkmark:"ab_C B_0 D_F A_0 L_fq7 p_a T_0",label:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",selectedLabel:"D_F ab_C C_Z1VRpVF cdPFi_Z1VRpVF y_Z2uhb3X A_6EqO C4_Z2aVTcY cdPFi4_Z2aVTcY"}},_key:"Z1yivYP"}},function(e,t,s){"use strict";e.exports={className:{default:{headerBar:"D_F gl_FM M_Z1VdT10",title:"u_b",expand:"C_Z2aVTcY r_P",imgContainer:"D_F M_1BsbBk",block:"c2wuFny_Ldxq9 ba_3nb7H e_fq7 r_P H_3nb7H E_fq7 p_R s_3nb7H",name:"B_eo6 C_52qC u_b L_eo6 p_a"}},_key:"2oc94q"}},function(e,t,s){"use strict";e.exports={className:{default:{participants:"o_h J_x em_N G_e"},transparent:{participants:"em_0 v_h"}},_key:"ZU5DRF"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 cdPFi_ZpQYvz cdPFi4_Z1TsNWR"},"isRead-false":{readIcon:"cdPFi_Z2aVTcY cdPFi4_Z2aVTcY"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"ZIL0n1"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",replyIcon:"cZ17HJts_0 cZ17HJsU_T cZ17HJta_0 cZ17HJsT_P cZ17HJtE_F cF9SWM_0 cF9SUy_C cZ17HJtH_0 cZ17HJtl_6LEV cNhr4M_ZpQYvz c1Lk3cu_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{replyIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"rmcGT"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",forwardIcon:"cAll3f_0 cAll3M_T cAll3x_0 cAll3N_P cAll33_F cZ1QVRpD_0 cZ1QVRrR_C cAll30_0 cAll3m_6LEV cZ2hFlUN_ZpQYvz cZjAtd1_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{forwardIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"dWqxk"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C A_0 cdPFi_ZpQYvz h_Z13pql2 lv_1IWXzk cdPFi4_ZvsWfq h4_2d9T5e P_ZmsLO3 E_fq7",iconContainer:"H_6LEV"},"size-S":{iconContainer:"H_6MGW"},isDarkThemeMode:{starIcon:"cdPFi_2sqbQg h_Z13pql2 lv_1IWXzk cdPFi4_2sqbQg h4_2d9T5e"}},_key:"mUHod"}},function(e,t,s){"use strict";e.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY Q_eo6 P_0"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"2dNdlX"}},function(e,t,s){"use strict";e.exports={className:{default:{subject:"o_h G_e J_x",highlightedTerm:"I_2ieea9 D_X"}},_key:"1okHkV"}},function(e,t,s){"use strict";e.exports={className:{default:{snippet:"J_x o_h G_e",snippetContainer:"J_x o_h",highlightedTerm:"I_2ieea9 D_X"}},_key:"Z2piR2p"}},function(e,t,s){"use strict";e.exports={className:{default:{messageCount:"e_fFR A_6DUj",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"2bOBil"}},function(e,t,s){"use strict";e.exports={className:{default:{draftIndicator:"J_x A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"RjUyN"}},function(e,t,s){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F"}},_key:"OgOlY"}},function(e,t,s){"use strict";e.exports={className:{default:{attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"vDuNx"}},function(e,t,s){"use strict";e.exports={className:{default:{messageDestinationLabel:"o_h J_x G_e"}},_key:"Z24rH8W"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C p_R A_6EqO i_6FIA o_h X_eo6",check:"en_0 i_0 E_689y Z_f8a k_w",readIcon:"M_SkAgv",ybadgeIcon:"P_0 b_0 M_SkAgv",attachmentIcon:"s_6LEV en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z281SGl",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_3ixhM o_h a_6D6F D_F ab_C",subject:"en_N",snippetContainer:"Q_fq7 en_qh",snippet:"C_Z1YRXYn",highlightedTerm:"P_3zDxc",messageCount:"en_0 P_3gJiI Q_fq7 I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"en_0 s_6NIX Q_fq7 C_ZnTFMv",messageDestinationLabel:"M_3gJOe W_7yHc en_0",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",extractedInfo:"s_CD"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},"themeMode-DARK":{container:"C_ZnIF8Y",highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y"}},_key:"ZliUUE"}},function(e,t,s){"use strict";e.exports={className:{default:{link:"D_B bn_dBP bm_FJ bj_ZpQYvz ir3_1JO2M7 I4_1I4yPF",highlight:"I_1I4z5p",active:"p_R",contextMenuAnchor:"p_a",contextMenuContainer:"s_3qWeB"},"themeMode-DARK":{link:"C_ZpQYvz bj_ajP6C ir3_Z1FS2Mn I4_1YEmYj",highlight:"I_ZFyHXD"}},_key:"18kYLN"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"r_P p_R D_F A_6FIA i_6LEV",check:"k_w D_F ab_CI gl_C P_Pmuoy",checkbox:"P_Z1S5Ugg",starButtonStyle:"P_0",attachmentIcon:"D_F ek_BB gl_CH i_0",gridB1:"H_6D6F P_2v4Pah k_w D_F ek_BB W_6LEV Q_689y",participants:"o_h J_x G_AY",dateWrapper:"s_7jIs M_3gJOe A_6DUj i_6FIA D_F gl_CH C_Z281SGl",message:"em_N D_F ek_BB gl_CI o_h N_eo6",senderRow:"D_F gl_FM je_fq7",groupSection:"D_F o_h a_e91",bottomRight:"D_F J_x a_faw gl_FM",infoGroup:"D_F o_h ek_BB",subject:"A_6EqO i_6FIA J_x",snippet:"A_6EqO i_6FIA C_Z1YRXYn J_x G_e",messageCount:"D_X P_3gJiI Q_fq7 e_fFR A_6DUj i_6FIA I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"J_x C_ZnTFMv s_6NIX A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 Q_fq7",senders:"D_F o_h G_e en_N ab_CI A_6EqO i_6FIA",highlightedTerm:"I_2ieea9 D_X P_3zDxc",trashIconContainer:"D_F gl_C ab_C",ybadgeIcon:"P_0 gl_C",readIcon:"d_6LEV",extractedInfo:"A_6EqO",contactSearchIcon:"Y_67SN"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},hasAttachment:{attachmentIcon:"s_6LEV M_3gJOe"},"themeMode-DARK":{highlightedTerm:"I_ajP6C",messageCount:"C_52qC I_2sqbOe",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",selected:"I_iJ8JF I4_iJ8JF"},useTouchTargets:{check:"Q_eo6 W_6UbO gl_FO I_T",message:"N_74JI",starIcon:"p_a B_dRA R_eo6"},"msgListDensity-1":{gridB1:"je_eo6",check:"je_dm5",senderRow:"H_6FYl je_eo6",bottomRight:"Y_689y",starButtonStyle:"Y_67SN"},"msgListDensity-2":{senderRow:"H_6FYl je_fam"},"msgListDensity-3":{message:"i_6LEV",subject:"i_6LEV",snippet:"i_6LEV",check:"je_eo6",gridB1:"je_fq7",senders:"i_6LEV",messageCount:"P_Z1Felua"},"readDensity-true-1":{subject:"Y_e8l"},"readDensity-false-1":{subject:"Y_dRA"},"readDensity-true-2":{subject:"Y_dRA"},"readDensity-false-2":{subject:"Y_dBP"}},_key:"Z1BdWKA"}},function(e,t,s){"use strict";e.exports={className:{default:{extractedInfoPill:"D_F ab_C H_6Mbr je_eDQ e_6DUj b_0 M_Z1kkfxo",extractedInfoPillText:"D_F ab_C H_6Eb4 y_Z2uhb3X A_6DUj u_b"},showUnusualDiscount:{extractedInfoPill:"W_3naQW I_1IJqDA",extractedInfoPillText:"jb_dRA",unusualDiscountImg:"D_F ab_C P_ZFGa4D W_6Eb4 H_6Eb4 im_BE"},showQuotientUpsellPill:{extractedInfoPill:"r_P W_3nhzy I_1I4yPF I4_1I4z5p",extractedInfoPillText:"jb_e8l C_Z2aVTcY"},"themeMode-DARK":{extractedInfoPillText:"C_52qC"},"themeCombo-DARK_ATT":{extractedInfoPillBgColor:"I_Z15BeWJ I4_Z15BeVd"},"themeCombo-DARK_FRONTIER":{extractedInfoPillBgColor:"I_2dK1VF I4_2dK1Xc"},"themeCombo-DARK_ROGERS":{extractedInfoPillBgColor:"I_Z1m996a I4_Z1m994D"},"themeCombo-DARK_BT":{extractedInfoPillBgColor:"I_Z3iqdO I4_Z3iqci"},"themeCombo-DARK_SKY":{extractedInfoPillBgColor:"I_1za5f4 I4_1za5gA"},"themeCombo-DARK_DEFAULT":{extractedInfoPillBgColor:"I_Z1owzwx I4_Z1owzv1"},"themeCombo-DARK_SUNRISE":{extractedInfoPillBgColor:"I_ZNpR9c I4_ZNpR7F"},"themeCombo-DARK_AQUA_GREEN":{extractedInfoPillBgColor:"I_1dThI4 I4_1dThJA"},"themeCombo-DARK_AQUA_BLUE":{extractedInfoPillBgColor:"I_26UHKc I4_26UHLI"},"themeCombo-DARK_DEEP_PURPLE":{extractedInfoPillBgColor:"I_ZRpDQS I4_ZRpDPm"},"themeCombo-DARK_BLUE_NIGHT":{extractedInfoPillBgColor:"I_ZMqgiL I4_ZMqghf"},"themeCombo-DARK_DARK_GREY":{extractedInfoPillBgColor:"I_Z1m996a I4_Z1m994D"},"themeCombo-DARK_NIGHT_LANDSCAPE":{extractedInfoPillBgColor:"I_Z1W4PbQ I4_Z1W4Pak"},"themeCombo-DARK_ROADTRIP":{extractedInfoPillBgColor:"I_ZNsLet I4_ZNsLcW"},"themeCombo-DARK_SUNSET_AUSSIE":{extractedInfoPillBgColor:"I_ZNpR9c I4_ZNpR7F"},"themeCombo-DARK_LIGHTHOUSE":{extractedInfoPillBgColor:"I_Zd2nOB I4_Zd2nN5"}},_key:"Z1tBey0"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_ZpQYvz p_R o_h X_eo6",check:"W_6EGz H_6EGz q_ZpQYvz M_1F09u0",gridB1:"D_F H_6D6F a_3vhr3 em_pG ej_0",gridB2:"D_F o_h H_6D6F em_tK ej_0 ek_BB Y_6EqO",senderRow:"D_F H_6Eb4 gl_FM W_f7Y",sender:"q_ZpQYvz W_elI H_6Eb4 e_3mS2U D_B",date:"q_ZpQYvz W_djH H_6Eb4 e_3mS2U D_B",subject:"q_ZpQYvz W_f7Y H_6Eb4 e_3mS2U D_B Y_6DEy",snippet:"q_ZpQYvz W_f7Y H_6Eb4 e_3mS2U D_B Y_fq7"},isDarkMode:{container:"bj_ajP6C",check:"q_7l9bL",sender:"q_7l9bL",subject:"q_7l9bL",snippet:"q_7l9bL",date:"q_7l9bL"}},_key:"ZaEokR"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_ZpQYvz p_R o_h X_eo6",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",sender:"q_ZpQYvz W_elI H_6Eb4 e_3mS2U D_B M_1FEVlA",subject:"q_ZpQYvz W_eRe H_6Eb4 e_3mS2U D_B M_1FEOne",date:"q_ZpQYvz W_d3W H_6Eb4 e_3mS2U D_B M_1FEoi4"},isDarkMode:{container:"bj_ajP6C",sender:"q_7l9bL",subject:"q_7l9bL",snippet:"q_7l9bL",date:"q_7l9bL"}},_key:"Z2lUwhw"}},function(e,t,s){"use strict";e.exports={className:{default:{loadingBar:"W_6D6F H_dRA h_2rNL56 Z_qc p_a I_Z2aVTcY ah_5h53M",loadingBarEnd:"W_6D6F h_Zc5EsY H_dRA Z_qc p_a I_Z2aVTcY ah_1MDq3I"},"themeMode-DARK":{loadingBar:"I_ZamTeg",loadingBarEnd:"I_ZamTeg"}},_key:"1xnb7N"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"q_52qC D_F ab_C gl_C H_7ceA"},"themeMode-DARK":{container:"q_T"}},_key:"Z1ACwUA"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z22Yrri"}},function(e,t,s){"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk W_3qWeB",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"pxI9Q"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F Q_6Fd5"}},_key:"fpnOi"}},function(e,t,s){"use strict";e.exports={className:{default:{photosViewHeader:"D_F ek_EZ gl_FM ab_C P_2bJhi m_Z14vXdP",photosViewTitle:"A_6FsP u_dPo D_F gl_C ab_C em_N",sortMenuContainer:"en_0 E_eo6"},"themeMode-DARK":{photosViewHeader:"I_T m_ZYfFSw C_52qC cdPFi_52qC"}},_key:"1M2AT3"}},function(e,t,s){"use strict";e.exports={className:{default:{gridsContainer:"D_F P_3gIMd"}},_key:"Z22opox"}},function(e,t,s){"use strict";e.exports={className:{default:{messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"themeMode-DARK":{blank:"I_T"}},_key:"1r9yYy"}},function(e,t,s){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",container:"P_8secV D_F gl_C",actionContainer:"D_F M_Z2gjVIH",svgStyle:"D_F ab_C Q_6Fd5 E_6Eb4 em_0",listDivider:"H_dRA I_ZpQYvz M_Z2eeeeR"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",listDivider:"I_ajOPR"}},_key:"Z1zXGST"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"H_6UbO k_w je_fq7 X_fq7 C_Z1YRXYn A_6EqO u_b I_52qC D_F ab_C gl_FM",expandButton:"i_6EWk P_Z2rzCvT",iconContainer:"D_F ab_C",partnerAttributionIcon:"Q_eo6",header:"u_b C_Z281SGl A_6EWk"},"themeMode-DARK":{container:"I_T",header:"C_52qC"}},_key:"yonkM"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"D_F ab_C H_sP p_R Q_6Eb4 Y_fq7 h_Z1H3PfF W_6D6F o_h",couponImage:"W_3n93F H_7sfl",descWrapper:"ek_BB A_6Eb4 Q_6Fd5",heading:"C_Z1YRXYn u_b",description:"C_Z1VRpVF"},"themeMode-DARK":{heading:"C_2sqbRh",description:"C_2sqbRh"}},_key:"UKm67"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_n o_h p_R",mailReader:"D_F ab_FT em_N ek_BB W_6D6F",listWrapper:"D_F ab_FT em_N ek_BB iz_A H_6D6F",listContainer:"D_F H_6D6F ab_FT em_N p_R",toolbar:"en_0",listPane:"en_0 ej_dAt p_R o_h D_F ek_BB",fullPane:"D_F ek_BB W_6D6F",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F",swipeableContainer:"F_N D_F ek_BB W_6D6F U_0",swipeableContent:"D_F ek_BB F_N",pullToRefreshContainer:"D_F ek_BB p_R F_N",loadingContainer:"T_dRK W_6D6F p_R",virtualListScroller:"p_a",virtualListUL:"I_52qC",messageScrollToTopContainerStyle:"D_F ab_C gl_C p_a B_6Fd5 R_dm5 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P Z_O",timechunk:"Z_pG p_a T_0 W_6D6F",timeChunkPlaceHolder:"O_N"},hasSelectedItems:{swipeableContainer:"U_7ceA"},stickyTimechunkMounted:{timeChunkPlaceHolder:"O_0"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0",listContainer:"ek_EZ"},"previewpane-2":{listContainer:"ek_BB",listPane:"d_3nV5V o_h",deadResizer:"M_1EtAWD ej_fq7 I_ZpQYvz",resizer:"M_1EtAWD ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z",virtualListUL:"I_Z29dUYT"},previewpaneInPixels:{listPane:"s_3s1zo d_3nV5V en_N",rightPane:"s_3AgFn d_3nV5V"},"theme-ATT":{messageScrollToTopContainerStyle:"I_Z15BeVd I4_Z2dxrGx"},"theme-FRONTIER":{messageScrollToTopContainerStyle:"I_2dK1Xc I4_Z1A0QhA"},"theme-ROGERS":{messageScrollToTopContainerStyle:"I_Z1m994D I4_Z21W7Hh"},"theme-BT":{messageScrollToTopContainerStyle:"I_Z3iqci I4_Z20SNAa"},"theme-SKY":{messageScrollToTopContainerStyle:"I_1za5gA I4_Z2dycH0"},"theme-DEFAULT":{messageScrollToTopContainerStyle:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{messageScrollToTopContainerStyle:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{messageScrollToTopContainerStyle:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{messageScrollToTopContainerStyle:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{messageScrollToTopContainerStyle:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{messageScrollToTopContainerStyle:"I_ZMqghf I4_Z21zYBA"},"theme-DARK_GREY":{messageScrollToTopContainerStyle:"I_Z1m994D I4_Z21W7Hh"},"theme-NIGHT_LANDSCAPE":{messageScrollToTopContainerStyle:"I_Z1W4Pak I4_Z1UEcsX"},"theme-ROADTRIP":{messageScrollToTopContainerStyle:"I_ZNsLcW I4_ZrkPvI"},"theme-SUNSET_AUSSIE":{messageScrollToTopContainerStyle:"I_ZNpR7F I4_ZmlXUP"},"theme-LIGHTHOUSE":{messageScrollToTopContainerStyle:"I_Zd2nN5 I4_Z1VDTK1"}},_key:"Zt8mtp"}},function(e,t,s){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F D_F ab_C gl_C"}},_key:"vwCkd"}},function(e,t,s){"use strict";e.exports={className:{default:{shadedContainer:"I_ZnwrMC D_F em_N o_h W_6D6F H_6D6F",container:"D_F em_N o_h s_1HLnlu",leftRail:"a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU D_F ek_BB em_0",leftRailWide:"a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU D_F ek_BB em_0",mainContent:"em_N gl_C I_52qC j_ZlOSbd o_h p_R D_F s_e5X x_Z14vXdP",widthRestrictor:"D_F em_N ej_eUh o_h",mainNavigation:"em_N je_6Fd5 D_F W_6D6F H_6D6F iz_A"},"verticalPreviewPane-false":{container:"s_1HCsWR"},"themeMode-MEDIUM":{shadedContainer:"I_sgPuT"},darkModeNonPhotoTheme:{shadedContainer:"I_sgPuT",mainContent:"I_29psyX j_n x_ZYfFSw"},darkModePhotoTheme_NIGHT_LANDSCAPE:{shadedContainer:"I_cOYCy",mainContent:"I_cOYF6 j_n x_ZYfFSw"},darkModePhotoTheme_ROADTRIP:{shadedContainer:"I_1iaDqt",mainContent:"I_1iaDt1 j_n x_ZYfFSw"},darkModePhotoTheme_SUNSET_AUSSIE:{shadedContainer:"I_2woiYa",mainContent:"I_2woj1H j_n x_ZYfFSw"},darkModePhotoTheme_LIGHTHOUSE:{shadedContainer:"I_t5YKp",mainContent:"I_t5YMW j_n x_ZYfFSw"}},_key:"Z1r9gOf"}},function(e,t,s){"use strict";e.exports={className:{default:{wrapper:"H_6D6F D_F cZ1RN91d_n ek_BB s_1HCsWR aw_Z1CkV98",shadedContainer:"em_N W_6D6F H_6D6F D_F o_h p_R T_7zJd I_ZnwrMC",container:"em_N D_F o_h s_1HLnlu",mainContent:"em_N D_F s_e5X o_h p_R j_ZlOSbd gl_C I_52qC P_Z2jbO7T",widthRestricter:"em_N D_F ej_eUh",leftRail:"em_0 D_F gl_CH W_3o4BO s_3o4BO a_3rehn cZ10Gnkk_ZM1sUU",rightRail:"em_N D_F a_3vpWV s_3o4BO",titleLabel:"u_e69 A_6EWk M_27m6vR",navWrapper:"D_F ab_C gl_CI H_6TFj M_1MapR8",errorContainer:"D_F W_3vPwA ek_BB",errorWrapper:"D_F ab_CI A_6EqO i_6LEV C_ZkiIcp",errorIcon:"D_F E_fq7"}},_key:"3CGzQ"}},function(e,t,s){"use strict";e.exports={className:{default:{wizardContainer:"D_F em_N ek_BB",stepsContainer:"D_F C_Z1TsNWR U_6UbO",steps:"M_0 P_0 D_F Q_eo6",viewActions:"D_F ab_C gl_CI H_6TFj M_1NXh2I",btnPrimary:"r_P q_T D_X H_6TFj",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_Z2aVTcY H_6TFj i_6TFj P_1EudUu Q_fq7 C4_Z29WjXl I4_2iedUU"}},_key:"1EItG5"}},function(e,t,s){"use strict";e.exports={className:{default:{step:"r_P e_e5X t_C D_X W_6Fd5 H_6Fd5 A_6DUj i_6Fd5 M_3gIMd C4_52qC q4_Z29fFBt"},active:{step:"C_52qC q_Z29fFBt"}},_key:"2sfkOs"}},function(e,t,s){"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"em_N D_F ab_C ek_BB",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6LEV jb_6Eb4",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"D_F gl_C C_Z1TsNWR",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNWR",providersOption:"Y_6Fd5",switchAccount:"C_Z2aVTcY",accountList:"M_0 P_0 em_N D_F hd_n",listItem:"em_N D_F ab_C ek_BB gl_C",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",accountItem:"W_3n13i H_73rW",supportedProviderCaption:"t_C A_6EqO C_Z1Xxgu0 M_6DEy"}},_key:"vFo4A"}},function(e,t,s){"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_F ek_BB je_6Fd5 W_3rehn",link:"C_52qC O_cMq en_0 D_F b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD I_Z2aVTcY",moreIcon:"D_F q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD",iconContainer:"Y_eo6",accountslist:"en_0 D_F ek_BB",list:"Y_0 Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",header:"O_cMo D_F gl_FM M_BOLti",accountsListItem:"u_eBE A_6EWk C_Z2aVTcY P_2d6pmo M_1WjkSr",listItem:"O_cMo D_F ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_Z1YRXYn"}},_key:"Z1aGhS9"}},function(e,t,s){"use strict";e.exports={className:{default:{addConfirmWrapper:"em_N iz_A",addConfirmSection:"W_3vPwA",titleLabel:"A_6EWk M_27msYt D_F u_dPo ab_C i_6LEV",titleTextWrapper:"Q_fq7",hint:"C_Z29dUYT A_6DUj U_72FG i_6Fd5",label:"u_b A_6EqO M_Ic9xa",textInput:"A_6EqO M_27msYt",confirmButton:"r_P D_X H_6TFj Y_6LEV q_Z2aVTcY e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"},isSyncing:{addConfirmWrapper:"P_0",hint:"O_cMq",label:"O_cMq",confirmButton:"O_cMq r_A"}},_key:"IBUSd"}},,,,,,function(e,t,s){"use strict";const a=(()=>"devbox")();(()=>"corp")();function n(){return function(){return"devbox"===a}()||function(){return"openhouse"===a}()}s.d(t,"a",function(){return n})},,,,,,,,,,,,,function(e,t,s){e.exports=s(1146)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";e.exports={className:{default:{container:"d_6FIA i_6FIA D_F eo_HB",email:"C4_Z2aVTcY",separator:"E_fq7",label:"u_b E_eo6 C_Z1TsNWR",button:"Q_eo6 P_3gIMd e_dRA I4_Z2aVTcY C4_52qC r_P y_Z2uhb3X A_6EqO b_0 I_T"}},_key:"Zu64IQ"}},,,,function(e,t,s){s(1077),s(1098)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";s.r(t);var a={};s.r(a),s.d(a,"getBlockPayload",function(){return es}),s.d(a,"transformResponse",function(){return ts});var n={};s.r(n),s.d(n,"getBlockPayload",function(){return ss}),s.d(n,"transformResponse",function(){return as});var r=s(4),i=s.n(r),o=s(447),c=s.n(o),d=s(195),l=s(228),u=s.n(l),_=s(46),m=s.n(_),p=s(57),h=s.n(p),g=s(72),E=s(21),I=s(0),S=s(87),C=s(38),f=s(44),T=s(132),A=s(25),b=s(9),O=s(96),R=s.n(O),N=s(39),M=s.n(N),D=s(119),y=s.n(D),L=s(26);const v=/^[\w\-]+:.+$/gim;var P=function({boundary:e,useBuffer:t=!0,consolidate:s=!1}){let a="";return y()(function(n){t||(a="");const r=(n=a+n).split(new RegExp(`--${e}-{0,2}`,"gm")),i=[];for(;r.length>1;){const e=r.shift().replace(v,"").trim();""!==e&&(s?i.push(e):this.emit("data",e))}s&&i.length>0&&this.emit("data",i),a=r[0]})},F=s(43);const w="Boundary_721950_932302703_1435368466480",k=6e4,x=1e3,U=20,G="BROWSER_TO_BOOTCAMP_STRATEGY",j="BROWSER_TO_NODE_STRATEGY",H="NODE_TO_BOOTCAMP_STRATEGY";Object(b.c)(["searchTenorGifs","searchGifs","getGifCategories","localStores"]);var B=s(31),V=s.n(B),W=s(62),q=s(203);function z(e,{listContentType:t},s){if(!e||!t)throw new C.a("BootcampApiClient.SearchError");const a=e.items,n=void 0===a?[]:a,r=e.extendUrl;return{totalHits:e.totalHits,offset:n.length?e.cursor:"",nextItemsUrl:void 0===r?"":r,queryResponse:e.queryResponse,items:q.a[t]?q.a[t](n,s):n}}const K=e=>e&&e.items&&0===e.items.length&&!!e.extendUrl,Z=e=>"CPN"===e.id,Y=e=>"CRD"===e.id,X=e=>e.reduce((e,t)=>{if("CARDS"!==t.blockType)e.push(t);else{const s={};t.content.items.forEach(e=>{const a=e.messageMetadata.decos;let n=I.Pb.CARDS;a.some(Y)&&a.some(Z)&&(n=I.Pb.COUPON_CARDS),s[n]||(s[n]=i()({},t,{blockType:n,content:i()({},t.content,{items:[]})})),s[n].content.items.push(e)}),e.push(...Object(b.g)(s))}return e},[]);function Q(e,t){const s=e.reduce((e,t={})=>e.concat(Object(b.a)(t,"contentBlocks",[])),[]);return X(s).reduce((e,s={})=>{const a=s.filter,n=void 0===a?I.Qb.WITH_KEYWORD:a,r=s.content,o=s.blockType;if("ADS"===o){const t=r?q.a[o](r.items):{};for(const s in t)t[s].length&&(e[s]={[n]:{suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0,items:t[s]}});return e}if(!I.Qb[n]||K(r))return e;if(e[o]||(e[o]={}),e[o][n]={items:[],suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0},r){const s=r.items,a=void 0===s?[]:s,c=r.suggestedWords,d=void 0===c?[]:c,l=r.extendUrl,u=void 0===l?"":l,_=r.totalHits,m=r.cursor,p=r.queryResponse;e[o][n]=i()({totalHits:_,offset:a.length?m:void 0,nextItemsUrl:u,suggestedWords:d,items:q.a[o]?q.a[o](a,t):a},p&&{lmv3Query:p})}return e},{})}function $(e){if(!e||!e.response)throw new C.a("BootcampApiClient.SuggestionError");return e.response.suggestions}const J={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};var ee=s(180),te=function({boundary:e,headers:t}){const s=Object.keys(t).reduce((e,s)=>`${e}${s}: ${t[s]}\n`,"");return y()(function(t){this.queue(`--${e}\n${s}\n${t}\n\n`)},function(){this.queue(`--${e}--`),this.queue(null)})};const se={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};var ae=class{constructor(e){this.loggerParams=e,this.startTime=Date.now(),this.loggers={}}logLatency(e,t=0,s=0){Object.keys(e||{}).forEach(a=>{Object.keys(e[a]||{}).forEach(e=>{const n=a+"__"+e;this.loggers[n]||(ee.a.feature("bootcamp_client_stream_call",Object.assign({},this.loggerParams,{contentType:a,filterType:e,bootcampRequestTS:t,bootcampResponseTS:s}),this.startTime).logLatency(),this.loggers[n]=!0)})})}};const ne={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"},re="mailsearch",ie=1,oe={[j]:class{constructor({httpRetry:e,appName:t}){this.urlPrefix=(t===I.t.MOBILE_APP?I.gc:I.db)+"/bootcamp_api",this.httpRetry=e}searchStream(e,t){const s=new L.b("GET",this.urlPrefix+"/search",{timeout:k,httpRetry:this.httpRetry});let a=0;s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const n=s.createStream(e),r=n.pipe(P({boundary:w,useBuffer:!1,consolidate:!0})).pipe(y()(function(e){try{const s=e.slice(a);if(a=e.length,0===s.length)return;const n=Object.keys(I.Pb),r=s.reduce((e,s)=>{const a=JSON.parse(s);return t.logLatency(a),Object.keys(a).forEach(t=>{if(-1===n.indexOf(t))return e;e[t]||(e[t]={}),Object.keys(a[t]).forEach(s=>{e[t][s]=a[t][s]})}),e},{});this.emit("data",r)}catch(e){this.emit("data",{status:500,error:C.a.errorify(e)})}}));return n.on("error",e=>r.emit("error",e)),r}itemsApi(e){const t=new L.b("GET",this.urlPrefix+"/items",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}gifsApi(e){const t=new L.b("GET",this.urlPrefix+"/gifs",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}searchSuggestionsStream(e){const t=new L.b("GET",this.urlPrefix+"/suggestions",{httpRetry:this.httpRetry});let s=0;t.setHeader("Accept","multipart/form-data"),t.withCredentials=!0;const a=t.createStream(Object.assign({multipart:!0},e)),n=a.pipe(P({boundary:w,useBuffer:!1,consolidate:!0})).pipe(y()(function(e){let t;try{const a=e.slice(s);if(s=e.length,0===a.length)return;t=a.reduce((e,t)=>e.concat(JSON.parse(t)),[])}catch(e){this.emit("data",{status:500,error:C.a.errorify(e)})}this.emit("data",t)}));return a.on("error",e=>n.emit("error",e)),n}recentSearchesApi(e){const t=new L.b("GET",this.urlPrefix+"/recentSearches",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}localStoresApi(e){const t=new L.b("GET",this.urlPrefix+"/locals",{httpRetry:this.httpRetry});return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}},[H]:class{constructor({bootcampHost:e,cookie:t,headers:s,bootcampYHeaders:a={},httpRetry:n}){this.cookie=t,this.bootcampHost=e,this.headers=Object.assign({},s,a),this.httpRetry=n}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}searchStream(e,t){const s=new L.b("GET",this.bootcampHost+"/v3/srp?",{timeout:k,httpRetry:this.httpRetry}),a=m()(e,["keyword","buckets"]);s.setHeader("Accept","multipart/form-data"),s.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),s.setHeader("User-Agent",e.userAgent),s.setCookieHeader(this.cookie),this._setCustomHeaders(s,this.headers),s.withCredentials=!0,a.query=e.keyword,a.bucketid=(e.buckets||[]).join(",");const n=e.sortOrder;a.order=se[void 0===n?I.Od.DATE_DESC:n];const r=s.createStream(a),i=r.pipe(P({boundary:w})).pipe(function(e){return y()(function(t){try{const s=JSON.parse(t),a=s.status,n=s.response;if(401===a)throw new C.a(f.b,{statusCode:a,errorCode:"AUTH",refresh:!0});if(!n||200!==a)throw new C.a("BootcampApiClient.SearchError");if(n.verticals){const t=Q(n.verticals,e);e.searchStreamLogger.logLatency(t,n.requestTS,n.responseTS),Object(b.b)(t)||this.emit("data",JSON.stringify(t))}}catch(e){return this.emit("data",JSON.stringify({status:500,error:C.a.errorify(e)}))}})}({timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC,parseXML:e.parseXML,searchStreamLogger:t})).pipe(te({boundary:w,headers:{"Content-Type":"application/json"}}));return r.on("error",e=>i.emit("error",e)),i}itemsApi(e){const t=e.timeout,s=e.ymreqid,a=e.listContentType,n=e.timezone,r=e.userAgent,i=e.url+"&wssid="+e.wssid+"&bucketid="+(e.buckets||[]).join(","),o=new L.b("GET",i,{httpRetry:this.httpRetry,timeout:t});return r&&o.setHeader("User-Agent",r),o.setHeader("Accept","application/json"),o.setCookieHeader(this.cookie),this._setCustomHeaders(o,this.headers),o.withCredentials=!0,o.send({ymreqid:s}).then(e=>JSON.stringify(z(JSON.parse(e.text),{listContentType:a},{timezone:n})))}gifsApi(e){const t=e.ymreqid,s=e.timezone,a=this.bootcampHost+function({query:e,mailboxId:t,wssid:s,offset:a,source:n=I.z.TUMBLR}){const r=Object.assign({vertical:"WEB",mimeTypes:"image/gif",source:n,limit:20,appid:"norrin",order:"desc",mailboxId:t,wssid:s,cursor:a},e||n===I.z.TENOR?{query:e}:{});return"/v3/items?"+Object(p.stringify)(r)}(e),n=new L.b("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.setCookieHeader(this.cookie),this._setCustomHeaders(n,this.headers),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>JSON.stringify(z(JSON.parse(e.text),{listContentType:I.Pb.GIFS},{timezone:s})))}searchSuggestionsStream(e){const t=new L.b("GET",this.bootcampHost+"/v3/suggestions?",{httpRetry:this.httpRetry});t.setHeader("Accept","multipart/form-data"),t.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0;const s=t.createStream(e),a=s.pipe(P({boundary:w})).pipe(y()(function(e){try{const t=JSON.parse(e),s=t.status,a=t.response;if(!a||200!==s)throw new C.a("BootcampApiClient.SuggestionError");if(a.suggestions){const e=$(t);Object(b.b)(e)||this.emit("data",JSON.stringify(e))}}catch(e){return this.emit("data",JSON.stringify({status:500,error:C.a.errorify(e)}))}})).pipe(te({boundary:w,headers:{"Content-Type":"application/json"}}));return s.on("error",e=>a.emit("error",e)),a}recentSearchesApi(e){const t=e.ymreqid,s=e.wssid,a=e.appid,n=new L.b("GET",this.bootcampHost+"/v3/recentSearches?",{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.setCookieHeader(this.cookie),n.withCredentials=!0,n.send({ymreqid:t,wssid:s,appid:a}).then(e=>JSON.parse(e.text))}},[G]:class{constructor({httpRetry:e,endpoints:t,useBootcampYCPIProxy:s}){this.endpoints=t,this.httpRetry=e,this.useBootcampYCPIProxy=s}_getPsearchHost(){return this.useBootcampYCPIProxy?"":this.endpoints.BOOTCAMP_HOST}_getDefaultGifUrl({anonid:e,query:t,mailboxId:s,wssid:a,offset:n}){const r=Object.assign({appid:I.Ae,cursor:n,limit:U,mailboxId:s,mimeTypes:"image/gif",order:"desc",query:t,source:I.z.TENOR,vertical:"WEB",wssid:a},e?{anonid:e}:{});return this._getPsearchHost()+"/psearch/v3/items?"+Object(p.stringify)(r)}_getGifCategoriesUrl({wssid:e,locale:t}){const s={wssid:e,appid:I.Ae,limit:U,locale:t};return this._getPsearchHost()+"/psearch/v3/categories/expanded?"+Object(p.stringify)(s)}gifsApi(e){const t=e.ymreqid,s=e.timezone,a=e.nextItemsUrl?function(e,{anonid:t,wssid:s}){const a=Object.assign({wssid:s},t?{anonid:t}:{},-1===e.indexOf(`appid=${I.Ae}`)?{appid:I.Ae}:{});return e+"&"+Object(p.stringify)(a)}(e.nextItemsUrl,e):this._getDefaultGifUrl(e),n=new L.b("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>z(JSON.parse(e.text),{listContentType:I.Pb.GIFS},{timezone:s}))}gifCategoriesApi(e){const t=e.ymreqid,s=e.timezone,a=this._getGifCategoriesUrl(e),n=new L.b("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>(function(e,{listContentType:t},s){if(!e||!t)throw new C.a("BootcampApiClient.gifCategoriesApiError");return{categories:e.categories.map(({gifs:a={},itemsUrl:n="",queryString:r=""},o)=>{const c=a.items,d=void 0===c?[]:c,l=a.extendUrl,u=void 0===l?"":l,_=a.cursor,m=void 0===_?"":_;return i()({},e.categories[o],{gifs:{offset:m,nextItemsUrl:u||n||"",items:q.a[t]?q.a[t](d,[],s):d},itemsUrl:n||"",queryString:r||""})})}})(JSON.parse(e.text),{listContentType:I.Pb.GIFS},{timezone:s}))}getCouponsApi({ymreqid:e,decoId:t,accountIds:s,wssid:a,cursor:n=0,mailboxId:r,limit:i,start:o,end:c,vertical:d,order:l,appid:u,from:_,query:m}){const p=`mailboxId=${r}&limit=${i}&start=${o}&end=${c}&vertical=${d}&order=${l}&appid=${u}${m?`&query=${encodeURIComponent(m)}`:""}${_?`&from=${_}`:""}`,h=`${this._getPsearchHost()}/psearch/v3/items?cursor=${n||0}&decoId=(${t.join(" ")})&accountIds=${s.join(",")}&${p}&wssid=${a}`,g=new L.b("GET",h,{httpRetry:this.httpRetry});return g.setHeader("Accept","application/json"),g.withCredentials=!0,g.send({ymreqid:e}).then(e=>(function({items:e=[],cursor:t=0,totalHits:s=0,extendUrl:a=""}={}){return{cardGroupList:q.a[I.Pb.COUPON_CARDS](e),offset:parseInt(""===t?0:t,10),totalHits:s,hasMoreItems:!!a,nextItemsUrl:a}})(JSON.parse(e.text)))}localStoresApi({wssid:e,senderEmail:t="",latlong:s="",ymreqid:a}){const n=`${this._getPsearchHost()}/psearch/v3/items?appid=${I.Ae}&lcount=1&source=locals&wssid=${e}&sendersmtp=${encodeURIComponent(t)}`+(s?`&latlong=${s}`:""),r=new L.b("GET",n,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:a}).then(e=>(function(e){if(!e)throw new C.a("BootcampApiClient.LocalStoresError");const t=e.items,s=void 0===t?[]:t,a=V()(s,1)[0],n=(void 0===a?{}:a).listing,r=void 0===n?[]:n,i=V()(r,1)[0];return{nearbyListing:void 0===i?{}:i}})(JSON.parse(e.text)))}retailersApi({wssid:e,ymreqid:t,quotientDebugFlag:s}){const a=new L.b("GET",`${this.endpoints.BOOTCAMP_HOST}/digicoupon/retailers?includeAll=${s}&appid=${I.Ae}&wssid=${e}`,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:t}).then(e=>(function(e){if(!e)throw new C.a("BootcampApiClient.RetailersError");const t=e.errorDescription,s=e.retailers,a=e.statusCode,n=void 0===a?0:a;return{errorDescription:void 0===t?"":t,retailers:(void 0===s?[]:s).map(({id:e="",displayName:t="",proxyType:s="",marlonBrandImage:a="",marlonRegistrationUrl:n="",registrationInfo:r="",categories:i=[],loyaltyCardLength:o="",loyaltyCardPrefix:c="",linked:d=!1,loyaltyId:l="",subDomains:u=[],emailIds:_=[]})=>({brandImage:a,categories:i,displayName:t,emailIds:_,id:e,linked:d,loyaltyCardLength:o,loyaltyCardPrefix:c,loyaltyId:l,proxyType:s,registrationInfo:r,registrationUrl:n,subDomains:u})),statusCode:n}})(e.body))}shopRunnerRetailersApi({wssid:e,ymreqid:t}){const s=new L.b("GET",`${this.endpoints.BOOTCAMP_HOST}/callisto/shoprunner/retailers?appid=${I.Ae}&wssid=${e}`,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send({ymreqid:t}).then(e=>e.body)}linkRetailerApi({wssid:e,retailerId:t,loyaltyId:s}){const a={loyalty_id:s,retailer_id:t},n=new L.b("POST",`${this.endpoints.BOOTCAMP_HOST}/digicoupon/retailer/link?appid=${I.Ae}&wssid=${e}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send(a).then(e=>e.body)}unlinkRetailerApi({wssid:e,ymreqid:t,retailerId:s}){const a=new L.b("DELETE",`${this.endpoints.BOOTCAMP_HOST}/digicoupon/retailer/${s}?appid=${I.Ae}&wssid=${e}`,{httpRetry:this.httpRetry});return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:t}).then(e=>e.body)}activateOfferApi({wssid:e,retailerId:t,offerId:s}){const a={offers:[s]},n=new L.b("POST",`${this.endpoints.BOOTCAMP_HOST}/digicoupon/offers/activate?appid=${I.Ae}&wssid=${e}&retailerId=${t}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send(a).then(e=>e.body)}retailerOffersApi({wssid:e,ymreqid:t,retailerId:s,limit:a}){const n=new L.b("POST",`${this.endpoints.BOOTCAMP_HOST}/digicoupon/offers?appid=${I.Ae}&wssid=${e}&retailerId=${s}&limit=${a}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>(function(e={}){if(void 0===e.offer)throw new C.a("BootcampApiClient.RetailerOffersError");const t=e.offer,s=e.statusCode;return{offers:(void 0===t?[]:t).map(e=>{const t=Object(b.a)(e,"offerExpiryDate",""),s=Object(b.a)(e,"requirements",{}),a=Object(b.a)(s,"rewards.discounts",[]),n=Object(b.a)(a[0],"value","0")||"0",r=Object(b.a)(a[0],"amountUnit","USD"),i=Object(b.a)(s,"offerType",I.Xc.AMOUNT),o=Object(b.a)(e,"offerRewards.offerValue"),c=e.hierarchy?Object.keys(e.hierarchy).filter(t=>t.startsWith("categoryLevel")&&e.hierarchy[t]).map(t=>e.hierarchy[t]):[];return 0===c.length&&e.offerRewards&&e.offerRewards.categoryName&&c.push(Object(b.a)(e,"offerRewards.categoryName")),{amountUnit:r,brandName:Object(b.a)(e,"brandName",""),description:Object(b.a)(e,"offerDescription",""),discountType:i,categories:c,expiryTimestamp:new Date(t).getTime(),imageUrl:Object(b.a)(e,"offerImage.offerImage1",""),offerId:Object(b.a)(e,"offerId",""),offerScore:o,value:i===I.Xc.AMOUNT?Number(n).toFixed(2):Number(n).toFixed(0)}}),statusCode:s}})(e.body))}retailerActivatedOffersApi({wssid:e,ymreqid:t,retailerId:s,limit:a}){const n=new L.b("POST",`${this.endpoints.BOOTCAMP_HOST}/digicoupon/offers/activated?appid=${I.Ae}&wssid=${e}&retailerId=${s}&limit=${a}`,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then(e=>(function(e={}){if(void 0===e.offer)throw new C.a("BootcampApiClient.RetailerActivatedOffersError");const t=e.offer,s=void 0===t?[]:t,a=e.statusCode;return{offers:s.map(e=>{const t=Object(b.a)(e,"offerExpiryDate",""),s=Object(b.a)(e,"requirements",{}),a=Object(b.a)(s,"rewards.discounts",[]),n=Object(b.a)(a[0],"value","0")||"0",r=Object(b.a)(a[0],"amountUnit","USD"),i=Object(b.a)(s,"offerType",I.Xc.AMOUNT),o=Object(b.a)(e,"offerRewards.offerValue");return{amountUnit:r,brandName:Object(b.a)(e,"brandName",""),description:Object(b.a)(e,"offerDescription",""),discountType:i,expiryTimestamp:new Date(t).getTime(),imageUrl:Object(b.a)(e,"offerImage.offerImage1",""),offerId:Object(b.a)(e,"offerId",""),offerScore:o,value:i===I.Xc.AMOUNT?Number(n).toFixed(2):Number(n).toFixed(0)}}),numActivatedOffers:s.length||0,statusCode:a}})(e.body))}retailerSavingsApi({wssid:e,ymreqid:t,retailerId:s="",startDate:a=-1,endDate:n=Object(F.n)(new Date)}){const r=new L.b("POST",`${this.endpoints.BOOTCAMP_HOST}/digicoupon/retailer/savings?appid=${I.Ae}&wssid=${e}&retailerId=${s}&startDate=${a}&endDate=${n}`,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:t}).then(e=>e.body)}couponRecommendations(e){const t=e.ymreqid,s=e.limit,a=e.cursor,n=e.mid,r=e.mailboxemail,o={appid:I.Ae,wssid:e.wssid,vertical:"CARDS",decoId:I.nc.CPN,cursor:void 0===a?0:a,limit:void 0===s?5:s,context:n?`mid:${n}`:"view:recommended",mailboxemail:void 0===r?"":r},c=this._getPsearchHost()+"/psearch/v3/items?"+Object(p.stringify)(o),d=new L.b("GET",c,{httpRetry:this.httpRetry});return d.setHeader("Accept","application/json"),d.withCredentials=!0,d.send({ymreqid:t}).then(e=>(function(e){if(!e)throw new C.a("BootcampApiClient.LocalStoresError");return{messageGroupsResponses:[{cardGroupList:e.items.map(e=>({id:e.immutableId,messages:[m()(i()({},e.messageMetadata,{schemaCards:Object(W.n)(e.messageMetadata)}),["schemaOrg"])]})),filter:I.Qb.ALL_COUPON_CARDS,hasMoreItems:!1,offset:""}],parentMessagesMap:{}}})(e.body))}contentProvidersApi(e){const t=e.appid,s=e.wssid,a=e.ymreqid,n=this._getPsearchHost()+"/psearch/v3/contentProviders?allsources=1",r=new L.b("GET",n,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({appid:t,wssid:s,ymreqid:a}).then(e=>(function(e){return e.reduce((e,t)=>{const s=t.name,a=t.isConnected,n=t.additionalProperties,r=((void 0===n?{}:n).additionalStatus||[]).reduce((e,t)=>Object.assign(e,{[t.name]:"connected"===t.status}),{});return Object.assign(e,{[s]:{isConnected:a,connectionDetails:r}})},{})})(JSON.parse(e.text)))}itemsApi(e){const t=e.wssid,s=e.url.replace(this.endpoints.BOOTCAMP_ITEMS_API_HOST,`${this._getPsearchHost()}/psearch`)+"&wssid="+t,a=new L.b("GET",s,{httpRetry:this.httpRetry}),n=e.ymreqid,r=e.listContentType,i=e.timezone;return a.setHeader("Accept","application/json"),a.withCredentials=!0,a.send({ymreqid:n}).then(e=>z(JSON.parse(e.text),{listContentType:r},{timezone:i}))}cloudStorageItemsApi(e){const t=e.wssid,s=e.source,a=e.mailboxid,n=e.ymreqid,r=e.appid,i=e.timezone,o=e.offset,c=e.query,d=e.path,l="0"!==o&&"/"===d?`&cursor=${o}`:"",u=s===I.W.YMAIL?"&mimeTypes=images,docs":"",_=`${this._getPsearchHost()}/psearch/v3/items?`+`source=${s}&wssid=${t}&order=name&mailboxid=${a}&appid=${r}${l}${u}${c?`&query=${encodeURIComponent(c)}`:`&path=${encodeURIComponent(d)}`}`,m=new L.b("GET",_,{httpRetry:this.httpRetry});return m.setHeader("Accept","application/json"),m.withCredentials=!0,m.send({ymreqid:n}).then(e=>z(JSON.parse(e.text),{listContentType:I.Pb.CLOUD_STORAGE_ITEMS},{timezone:i}))}getShareableLink(e){const t=e.itemId,s=e.wssid,a=e.ymreqid,n=e.appid,r=`${this._getPsearchHost()}/psearch/v3/items/`+`${encodeURIComponent(t)}/shareableLink?`+`wssid=${s}&appid=${n}`,i=new L.b("GET",r,{httpRetry:this.httpRetry});return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send({ymreqid:a}).then(e=>JSON.parse(e.text))}recentSearchesApi(e){const t=this._getPsearchHost()+"/psearch/v3/recentSearches?",s=e.ymreqid,a=e.wssid,n=e.appid,r=new L.b("GET",t,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:s,wssid:a,appid:n}).then(e=>(function(e){if(!e)throw new C.a("BootcampApiClient.RecentSearchError");return e})(JSON.parse(e.text)))}topRetailersApi(e){const t=e.ymreqid,s=e.wssid,a=e.appid,n=e.mailboxid,r=e.accountIds,i=this._getPsearchHost()+`/psearch/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${a}&mailboxid=${n}&accountIds=${r.join(",")}`,o=new L.b("POST",i,{httpRetry:this.httpRetry}),c={vertical:"CARDS",decoIds:["CPN"],startTime:Date.now(),endTime:1e3*(Math.round((new Date).getTime()/1e3)+365*F.a),pivotList:[{pivotType:"SENDER",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:1}]}]};return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send(c).then(e=>(function(e){const t=Object(b.a)(e,"pivotInfoList.0.pivotInfoList",null);if(!t)throw new C.a("BootcampApiClient.TopRetailersError");return t.map(({count:e,pivotName:t,contentItems:s})=>({count:e,email:t,nameFromEmail:Object(b.a)(s,"0.internalKVSet.custom.messageMetadata.headers.from.0.name","")}))})(e.body))}topDealCategoriesApi(e){const t=e.ymreqid,s=e.wssid,a=e.appid,n=e.mailboxid,r=this._getPsearchHost()+`/psearch/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${a}&mailboxid=${n}`,i=new L.b("POST",r,{httpRetry:this.httpRetry}),o={vertical:"CARDS",decoIds:["CPN"],endTime:Date.now()+5184e6,pivotList:[{pivotType:"CATEGORY",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:0}]}]};return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(o).then(e=>(function(e){const t=Object(b.a)(e,"pivotInfoList.0.pivotInfoList",null),s={};if(!t)throw new C.a("BootcampApiClient.TopDealCategoriesError");for(const e of t){const t=e.pivotName.split(">")[0];"Other"!==t&&(s[t]=s[t]?s[t]+e.count:e.count)}return Object.keys(s).sort((e,t)=>s[t]-s[e])})(JSON.parse(e.text)))}deleteRecentSearchApi(e){const t=e.wssid,s=e.ymreqid,a=e.appid,n=M()(e,["wssid","ymreqid","appid"]),r=`${this._getPsearchHost()}/psearch/v3/clearSearchHistoryQuery?wssid=${t}&ymreqid=${s}&appid=${a}`,i=new L.b("POST",r);return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(n).catch(()=>{throw new C.a("BootcampApiClient.DeleteRecentSearch")})}searchStream(e,t){const s=this._getPsearchHost()+"/psearch/v3/srp?",a=new L.b("GET",s,{timeout:k,httpRetry:this.httpRetry}),n=m()(e,["keyword"]);a.setHeader("Accept","multipart/form-data"),a.withCredentials=!0,n.query=e.keyword;const r=e.sortOrder;n.order=J[void 0===r?I.Od.DATE_DESC:r];let i=0;const o=a.createStream(n),c=o.pipe(P({boundary:w,useBuffer:!1,consolidate:!0})).pipe(y()(function(s){try{const a=s.slice(i),n=Object.keys(I.Pb);if(i=s.length,0===a.length)return;const r=a.reduce((s,a)=>{const r=JSON.parse(a),i=r.status,o=r.response;if(401===i)throw new C.a(f.b,{statusCode:i,errorCode:"AUTH",refresh:!0});if(!o||200!==i)throw new C.a("BootcampApiClient.SearchError");let c;return o.verticals&&(c=Q(o.verticals,{timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC}),t.logLatency(c,o.requestTS,o.responseTS)),Object(b.b)(c)||Object.keys(c).forEach(e=>{if(-1===n.indexOf(e))return s;s[e]||(s[e]={}),Object.keys(c[e]).forEach(t=>{s[e][t]=c[e][t]})}),s},{});this.emit("data",r)}catch(e){this.emit("data",{status:500,error:C.a.errorify(e)})}}));return o.on("error",e=>c.emit("error",e)),c}searchSuggestionsStream(e){const t=this._getPsearchHost()+"/psearch/v3/suggestions?",s=new L.b("GET",t,{httpRetry:this.httpRetry});s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const a=s.createStream(Object.assign({multipart:!0},e)),n=a.pipe(P({boundary:w,useBuffer:!1})).pipe(y()(function(e){let t;try{t=$(JSON.parse(e))}catch(e){this.emit("data",{status:500,error:C.a.errorify(e)})}this.emit("data",t)}));return a.on("error",e=>n.emit("error",e)),n}linkContentProviderApi(e){const t=e.q,s=e.provider,a=t.wssid,n=t.appid,r=e.unlink?"/remove":"",i=`${this._getPsearchHost()}/psearch/v3/contentProviders/${s}${r}?appid=${n}&wssid=${a}`,o={redirectUrl:`https://${window.location.hostname}/d/oAuth`,errorUrl:`https://${window.location.hostname}/d/oAuth`},c=new L.b("POST",i,{httpRetry:this.httpRetry});return c.setHeader("Accept","application/json"),c.withCredentials=!0,c.send(o).then(e=>JSON.parse(e.text))}}},ce=20;var de=class extends g.a{constructor({appName:e=I.t.MAIL_APP,appId:t=I.Ae,strategy:s=j,bootcampHost:a,executeRequestsSequentially:n=Object(A.b)(),guidHash:r,locale:o,cookie:c,crumb:d,wssid:l,loggerParams:u,region:_,httpRetry:m,requestQueue:p,isOnline:h,headers:g,bootcampYHeaders:C={},parseXML:f,buckets:T,timezone:b={},config:O={},userAgent:N,endpoints:M}){const D=Object(S.b)(O,"bootcampProxy");super({loggerName:I.r.BootcampClient,loggerParams:Object(A.b)()?{}:u,crumb:d,wssid:l,isOnline:h,endpoints:M}),Object(E.a)(s===j||s===H,`Invalid strategy ${s}`),Object(E.a)(M.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints"),this.strategy=Object(A.b)()&&D?G:s,this._getRequest=function(t=this.strategy){return new oe[t](i()({appName:e,headers:g,bootcampYHeaders:C,bootcampHost:a,cookie:c,httpRetry:m,endpoints:this.endpoints},D?{useBootcampYCPIProxy:Object(S.b)(O,"useBootcampYCPIProxy")}:void 0))},this.appName=e,this.appId=t,this.cookie=c,this.headers=Object.assign({},g,C),this.httpRetry=m,this.bootcampHost=a,this.timezone=b.name,this.executeRequestsSequentially=n,this.requestQueue=p,this.region=_,this.parseXML=f,this.locale=o,this.buckets=T,this.userAgent=N,this.suggestionsStrategyOverride=Object(A.b)()&&Object(S.b)(O,"suggestionsNoProxy")?G:void 0,r&&(this.ymreqidGenerator=new R.a(r,I.ze,I.id))}getDefaultUrlParams(){const e=this.strategy===G||this.strategy===j?this.getMailboxParams():null,t=Object.assign({appid:this.appId,wssid:this.wssid,clientId:re,timezone:this.timezone,allowGoogleDocs:1,ymreqid:this.ymreqidGenerator.generate(),timeout:k},e);return this.strategy===j&&(t.crumb=this.crumb),t}getOffsetFromUrl(e){if(e){const t=Object(p.parse)(e);return t&&t.cursor}return"0"}isRetryableError(e,t){return t<ie&&e.name===f.e}searchStream(e,t,s){const a=this.getDefaultUrlParams(),n=this.isOnline(),r=a.ymreqid,o=i()({},this.loggerParams,{apiName:"mailSearch",ymreqid:r,isOnline:n}),c=ee.a.feature(I.r.BootcampClient,o),d=t.expand;Object(E.a)(d,"Bootcamp SRP expand parameter is required"),t=Object.assign({},a,t,{userAgent:this.userAgent}),u()(s)&&s(o);let l=Object.assign({multipart:!0},t);t.emailAddresses&&t.emailAddresses.length>0&&(l.filters=t.listFilter),this.strategy!==H&&this.strategy!==G||(Object.assign(l,{sourceTag:t.sourceTag,market:this.locale}),this.strategy===H&&(l.parseXML=this.parseXML,l.buckets=this.buckets));let _=t.folders,p=void 0===_?[]:_,h=t.accountIds,g=void 0===h?[]:h,S=t.emailAddresses,C=void 0===S?[]:S,f=t.contactIds,A=void 0===f?[]:f;p=[].concat(p),g=[].concat(g),C=[].concat(C),A=[].concat(A),p.length?l.folders=p.join(","):g.length&&(l.accountIds=g.join(","));const b=C.length;b>0?l.contentId=b>ce&&A.length?`x:${A[0]}`:C.slice(0,ce).map(e=>"smtp:"+e).join(","):A.length&&(l.contentId=`x:${A[0]}`),l=m()(l,["referrer","name","listContentType","listFilter","emailAddresses","contactIds"]);const O=new ae(o);let R;return(R=this.executeRequestsSequentially?this.requestQueue.addStream(()=>this._getRequest().searchStream(l,O),"mailSearch"):this._getRequest().searchStream(l,O)).on("end",c.logSuccessAndLatency),R.on("error",e=>{e=this.handleCommonError(e,"mailSearch"),Object(T.a)(ee.a,I.r.BootcampClient,o,e)}),R}searchItems(e,t,s=0){const a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid,retryCount:s};let r;return t.expand&&"AL"===t.expand&&(n.apiName="getSearchAds"),this.strategy===H&&(t.buckets=this.buckets),r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().itemsApi(i()({},a,t)),e):this._getRequest().itemsApi(Object.assign({},a,t)),this.logRequest(r,n),r.catch(a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.searchItems(e,t,++s);throw a})}searchMessages(e,t){this.strategy=H;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),n=a.sortOrder,r=a.cursor,o=a.limit,c=ne[void 0===n?I.Od.DATE_DESC:n],d=`${this.bootcampHost}/v3/items?vertical=MESSAGES&threads=false&mailboxid=${a.mailboxid}&appid=${a.appid}&accountIds=${a.accountIds[0]}&query=${encodeURIComponent(a.keyword)}&order=${c}&limit=${o}&cursor=${r}`;return this.searchItems("searchItem",i()({},t,{url:d}))}getSearchAds(e,t){this.strategy=H;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),n=a.sourceTag,r=a.buckets,o=void 0===r?[]:r,c=`${this.bootcampHost}/v3/items?vertical=${a.expand}&appid=${a.appid}&query=${encodeURIComponent(a.keyword)}&sourceTag=${n}&device=desktop&market=${this.locale}&bucketid=${o.join(",")}&adCount=${t.secondSearchAd?"2":"1"}`;return this.searchItems("searchItem",i()({},t,{url:c,userAgent:this.userAgent,timeout:x})).then(e=>Object(b.a)(Object(A.i)(e),"items.ADS",[]).map(e=>e.pencilAd))}searchGifs(e,t,s=0){const a=G,n=this.getDefaultUrlParams(),r={apiName:e,ymreqid:n.ymreqid,retryCount:s};let o;return t.offset=this.getOffsetFromUrl(t.nextItemsUrl),o=this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest(a).gifsApi(i()({},n,t)),e):this._getRequest(a).gifsApi(Object.assign({},n,t)),this.logRequest(o,r,null,s),o.catch(a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.searchGifs(e,t,++s);throw a})}getGifCategories(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).gifCategoriesApi(Object.assign({locale:this.locale},a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}getAllCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getAllCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getCouponsForSmartView(e,{mailboxId:t="",limit:s=0,decoId:a=[],offset:n=0,nextItemsUrl:r="",start:o,end:c,accountIds:d=[],vertical:l="CARDS",order:u="time",query:_,from:m}={}){const p=G,h=this.getDefaultUrlParams(),g={apiName:e,ymreqid:h.ymreqid},E=i()({mailboxId:t,limit:s,cursor:n,extendUrl:r,start:o,end:c,decoId:a,accountIds:d,vertical:l,order:u,query:_,from:m},h),I=this._getRequest(p).getCouponsApi(E);return this.logRequest(I,g),I.catch(t=>{throw t=this.handleCommonError(t,e)})}getLocalStores(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).localStoresApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}getRetailers(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).retailersApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}getShopRunnerRetailers(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).shopRunnerRetailersApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}linkRetailer(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).linkRetailerApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}unlinkRetailer(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).unlinkRetailerApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(e=>{throw e=this.handleCommonError(e)})}activateOffer(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).activateOfferApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}getOffers(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).retailerOffersApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}getActivatedOffers(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).retailerActivatedOffersApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}getSavings(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).retailerSavingsApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw this.handleCommonError(t,e)})}getCouponRecommendations(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).couponRecommendations(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}searchSuggestionsStream(e,t){const s=this.getDefaultUrlParams(),a=s.ymreqid,n=i()({},this.loggerParams,{apiName:e,ymreqid:a,crumb:this.crumb}),r=ee.a.feature(I.r.BootcampClient,n);let o;return t=Object.assign({},s,t),(o=this.executeRequestsSequentially?this.requestQueue.addStream(()=>this._getRequest(this.suggestionsStrategyOverride).searchSuggestionsStream(t),e):this._getRequest(this.suggestionsStrategyOverride).searchSuggestionsStream(t)).on("end",r.logSuccessAndLatency),o.on("error",t=>{t=this.handleCommonError(t,e),Object(T.a)(ee.a,I.r.BootcampClient,n,t)}),o}recentSearches(e,t){const s=this.getDefaultUrlParams(),a={apiName:e,ymreqid:s.ymreqid,crumb:this.crumb};let n;return n=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest().recentSearchesApi(i()({},s,t)),e):this._getRequest().recentSearchesApi(Object.assign({},s,t)),this.logRequest(n,a),n}getTopRetailers(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).topRetailersApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw this.handleCommonError(t,e)})}getTopDealCategories(e){const t=G,s=this.getDefaultUrlParams(),a={apiName:e,ymreqid:s.ymreqid},n=this._getRequest(t).topDealCategoriesApi(s);return this.logRequest(n,a),n.catch(t=>{throw this.handleCommonError(t,e)})}deleteRecentSearch(e,t){const s=this.getDefaultUrlParams(),a=s.wssid,n=s.ymreqid,r=s.appid,o=Object.assign({},this.loggerParams,{apiName:e,ymreqid:n}),c=this._getRequest(G).deleteRecentSearchApi(i()({},t,{wssid:a,ymreqid:n,appid:r}));return this.logRequest(c,o),c}getContentProviders(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).contentProvidersApi(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}linkContentProvider(e,t={}){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid,crumb:this.crumb};let r;return t.q=Object.assign({},a,t.q),t.unlink=t.unlink||!1,r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(()=>this._getRequest(s).linkContentProviderApi(t),e):this._getRequest(s).linkContentProviderApi(t),this.logRequest(r,n),r.catch(t=>{throw this.handleCommonError(t,e)})}cloudStorageItems(e,t={},s=0){const a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid,retryCount:s};t.offset=this.getOffsetFromUrl(t.nextItemsUrl);const r=this._getRequest(G).cloudStorageItemsApi(Object.assign({},a,t));return this.logRequest(r,n),r.catch(a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.cloudStorageItems(e,t,++s);throw a})}getShareableLink(e,t){const s=G,a=this.getDefaultUrlParams(),n={apiName:e,ymreqid:a.ymreqid},r=this._getRequest(s).getShareableLink(Object.assign(a,t));return this.logRequest(r,n),r.catch(t=>{throw t=this.handleCommonError(t,e)})}createStream(e,t,s=(()=>{})){return this[e](e,t,s)}request(e,t){return this[e](e,t)}handleAuthError(e,t){const s=e.statusCode;return 401!==s||"mailSearch"!==t&&"searchItems"!==t?null:new C.a(f.b,{statusCode:s,errorCode:"AUTH",body:e.getDataByName("body",""),refresh:!0})}handleWssidReissueError(e){const t=e.statusCode;if(403===t){const s=Object(b.a)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const a=Object(b.a)(e,"data.body.wssid","");if(a)return this.wssid=a,new C.a(f.e,{statusCode:t,errorCode:s,wssid:a})}}return null}handleCommonError(e,t=""){let s=null;return e=C.a.errorify(e),s||(s=this.handleAuthError(e,t)),s||(s=this.handleYdodError(e)),s||(s=this.handleWssidReissueError(e)),s||e}};const le=I.xe+"/udb",ue=3e4,_e="udb.write",me="udb.read";class pe extends g.a{constructor({loggerParams:e,crumb:t,isOnline:s,guidHash:a,httpRetry:n,requestQueue:r}){super({loggerName:I.r.UDBClient,loggerParams:e,crumb:t,isOnline:s}),this.httpRetry=n,this.requestQueue=r,a&&(this.ymreqidGenerator=new R.a(a,I.ze,I.id))}_sendRequest(e,t){Object(E.a)("read"===e||"write"===e);const s=this.crumb,a=this.ymreqidGenerator.generate(),n=`${le}?crumb=${s}&ymreqid=${a}`;let r=L.a.GET,i="";"write"===e&&(r=L.a.POST,i=Object.keys(t).join(","));const o={apiName:e,key:i,crumb:s,ymreqid:a},c=new L.b(r,n,{timeout:ue,httpRetry:this.httpRetry,apiName:e}).send(t);return this.logRequest(c,o),c.catch(e=>{throw e=this.handleCommonError(e)})}read(){return this.requestQueue.add(this._sendRequest.bind(this,"read"),me)}write(e){return this.requestQueue.add(this._sendRequest.bind(this,"write",e),_e)}}pe.prototype.handleAuthError=function(e){const t=e.statusCode;return 401===t?new C.a("UDBClient.InvalidYca",{errorCode:"INVALID_YCA",statusCode:t}):403===t?new C.a("UDBClient.Forbidden",{errorCode:"FORBIDDEN",statusCode:t}):null};var he=s(629);const ge=33e3;class Ee{constructor({appName:e}){this.proxyURL=`${e===I.t.MOBILE_APP?I.gc:I.db}/gemini_api/`}request(e){const t=new L.b(L.a.GET,this.proxyURL,{timeout:ge});return t.setHeader("Accept","application/json"),t.send(e).then(e=>e.body)}}const Ie=Object(b.c)(["NODE_TO_GEMINI","BROWSER_TO_NODE"]),Se=1e3;var Ce=class extends g.a{constructor({appName:e=I.t.MAIL_APP,appId:t=I.Ae,loggerParams:s,wssid:a,isOnline:n,guidHash:r,cookie:i,crumb:o,userAgent:c,remoteAddress:d,environment:l,region:u,locale:_,buckets:m,referer:p},h){super({loggerName:I.r.GeminiAPIClient,loggerParams:Object(A.b)()?{}:s,crumb:o,wssid:a,isOnline:n}),this.strategy=h||this.getDefaultStrategy(),this.browserProxy=new Ee({appName:e}),this.REQUESTS={Gemini:he.a.request,BrowserProxy:this.browserProxy.request},this.validateStrategy(this.strategy),this.appId=t,this.cookie=i,this.environment=l,this.buckets=m,this.locale=_,this.region=u,this.remoteAddress=d,this.userAgent=c,this.referer=p,r&&(this.ymreqidGenerator=new R.a(r,I.ze,I.id))}getDefaultStrategy(){return Object(A.b)()?Ie.BROWSER_TO_NODE:Ie.NODE_TO_GEMINI}validateStrategy(e){if("string"!=typeof e||!Ie[e])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(Ie)));if(Object(A.b)()&&e===Ie.NODE_TO_GEMINI)throw new Error(Ie.NODE_TO_GEMINI+" strategy can not be used in the browser");if(!Object(A.b)()&&e===Ie.BROWSER_TO_NODE)throw new Error(Ie.BROWSER_TO_NODE+" strategies can not be used on the server")}request(e){let t;if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated. making a request or initialize GeminiAPIClient with `guidHash`, so that it can generate a new one");const s=this.ymreqidGenerator.generate(),a=this.crumb,n=Object.assign({},e,{ymreqid:s,appId:this.appId,crumb:a,loggerParams:this.loggerParams});switch(this.strategy){case Ie.NODE_TO_GEMINI:Object.assign(n,{userAgent:this.userAgent,remoteAddress:this.remoteAddress,buckets:this.buckets,cookie:this.cookie,environment:this.environment,region:this.region,locale:this.locale,referer:this.referer,logRequest:this.logRequest.bind(this)}),t=this.REQUESTS.Gemini;break;case Ie.BROWSER_TO_NODE:t=this.REQUESTS.BrowserProxy.bind(this.browserProxy)}const r=t(n);return this.strategy===Ie.BROWSER_TO_NODE&&this.logRequest(r,{ymreqid:s,crumb:a,intl:this.region,apiName:"geminiAd.get",sectionIds:e.sectionId,rotationActionType:e.rotationActionType}),r}getSponsoredAsset(e){const t=new L.b(L.a.GET,e.url,{timeout:Se}),s={intl:this.region,apiName:"geminiSponsoredAsset.get",url:e.url};t.setHeader("Accept","text/html");const a=t.send();return this.logRequest(a,s),a}},fe=s(94);const Te=1;var Ae=class extends g.a{constructor({appId:e=I.Ae,guidHash:t,wssid:s,httpRetry:a,isOnline:n,endpoints:r}){super({loggerName:I.r.XobniClient,wssid:s,isOnline:n}),Object(E.a)(r.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints");const i={guidHash:t,httpRetry:a,isOnline:n,wssid:s,host:r.BOOTCAMP_HOST+"/xobni",classicabHost:r.BOOTCAMP_HOST+"/classicab"};Object(E.a)(i.guidHash,"Xobni `guidHash` is a required option"),this.ymreqidGenerator=new R.a(i.guidHash,I.ze,I.id),this.appId=e,this.httpRetry=i.httpRetry,this.instanceOptions=i}transport(e,t=L.a.GET,s={}){const a=new L.b(t,e,{httpRetry:this.httpRetry});return t===L.a.GET&&a.setHeader("Accept","application/json"),Object(b.b)(s)||Object.keys(s).forEach(e=>{a.setHeader(e,s[e])}),a.withCredentials=!0,a}request(e,t,s,a,n={},r=0){const o=n.appendMailboxParams,c=void 0===o||o,d=n.reqHeaders,l=void 0===d?{}:d,u=n.urlParams,_=void 0===u?{}:u,m=a===L.a.POST||a===L.a.DELETE,p=this.getRequestId(),g=this.appId;let E=e;if(m){const t=h.a.stringify(i()({},_,{ymreqid:p,appId:g,wssid:this.wssid}));E=`${e}?${t}`}else t=i()({},t,{ymreqid:p,appId:g});s=i()({},s,{ymreqid:p}),t=c?Object.assign(t||{},this.getMailboxParams()):t;const I=this.transport(E,a,l).send(t).then(e=>e.body);return this.logRequest(I,s,null,r),I.catch(i=>{if(i=this.handleCommonError(i),m&&this.isRetryableError(i,r))return this.request(e,t,s,a,n,++r);throw i})}getRequestId(){return this.ymreqidGenerator.generate()}getSearchQueries(e){return{q:(e=Object.assign({query:"",includeLists:!0,includeTypes:"smtp",contextFrom:"",recipientList:[],identifier:"",limit:6},e)).query,i_l:e.includeLists,i_t:e.includeTypes,c_t:e.recipientList.join(","),c_f:e.contextFrom,k:e.identifier,l:e.limit}}getOptions(e){return{host:Object.assign({},this.instanceOptions,e).host}}isRetryableError(e,t){return t<Te&&e.name===f.e&&(this.wssid=e.data.wssid,!0)}isUserXobnified(e){return e=this.getOptions(e),this.transport(e.host+"/pachinko/v2/xobnified").send({ymreqid:this.getRequestId(),appId:this.appId}).then(Boolean.bind(null,!0),Boolean.bind(null,!1))}normalizeResponse(e){const t={};for(const s in e)e.hasOwnProperty(s)&&void 0!==e[s]&&(t[s]=e[s]);return t}normalizeImportantContactsResponse(e){return(e.endpoint_info_list||[]).map(e=>{const t=(e.endpoint?[e.endpoint]:[]).filter(e=>/^smtp:(\S+)/.test(e)).map(e=>e.match(/^smtp:(\S+)/)[1]);return{emails:t,name:e.c_name,xobniId:e.c_id,id:t[0]}})}triggerProfileImport({provider:e}){return Object(E.a)(e,"`provider` is a required option"),e=e.toLowerCase(),this.request(`${this.instanceOptions.host}/credentials/workflow`,{},{apiName:"triggerProfileImport",provider:e},L.a.POST,{urlParams:{source:e},appendMailboxParams:!1})}blackList({contactInfo:e={}}={}){const t=e.email;return t||Object(E.a)(t,"`email` is a required option to blacklist the email"),this.request(`${this.instanceOptions.host}/v4/endpoints/${t}/blacklist`,{},{apiName:"blacklistEndpoint",blacklistedEmail:t},L.a.POST)}search(e){const t=this.getSearchQueries(e),s=i()({apiName:"searchSimpleEndpoint"},t);return this.request(this.instanceOptions.host+"/v4/endpoints/s",t,s).then(e=>this.normalizeResponse({identifier:e.k,contacts:e.r.map(function(e){return"LIST"===e.i?{id:e.n+e.ct,email:e.n+e.ct,name:e.n,list:e.es.map(e=>({id:e.e,email:e.e,name:e.n}))}:{id:e.c,email:e.e,name:e.n||e.nd||"",filteredResults:{fullName:e.f&&(e.f.FN||e.f.ND)||[],email:e.f&&e.f.E||[]}}})}))}simpleContactsSearch(e){const t=this.getSearchQueries(e),s=i()({apiName:"searchSimpleContact"},t);return this.request(this.instanceOptions.host+"/v4/contacts/alpha/s",t,s).then(e=>Object(fe.k)(e.r))}deleteContacts({editTokenList:e=[]}){e.length||Object(E.a)(e.length,"`editToken` is a required option to delete the contact");const t={sources:e},s={apiName:"deleteContacts",editTokenList:JSON.stringify(e)};return this.request(`${this.instanceOptions.host}/v4/contacts/delete`,t,s,L.a.POST).then(({deleted_contacts:e=[]})=>e.map(e=>Object(fe.a)(e)))}importantContacts(e){return e||Object(E.a)(e,"`email` is a required option to blacklist the email"),this.request(this.instanceOptions.host+"/v4/endpoints/important",{include_types:"smtp",context_from:e,max_count:100},{apiName:"importantEndpoints",context_from:e}).then(e=>this.normalizeImportantContactsResponse(e))}topContacts({email:e,maxCount:t=20}){return e||Object(E.a)(e,"`email` is a required option to specify the context"),this.request(this.instanceOptions.host+"/v4/contacts/important",{exclude_known_entities:!0,context_from:e,max_count:t,no_me_contact:!0,include_favorite:!0},{apiName:"importantContacts",context_from:e,max_count:t}).then(fe.l)}userCuratedEndpoints({endpointTypes:e=[]}){return this.request(this.instanceOptions.host+"/v4/endpoints/userCurated",{i_t:e},{apiName:"userCuratedEndpoints"}).then(e=>Object(fe.p)({response:e}))}contactGroupsList(){return this.request(this.instanceOptions.host+"/v4/groups",{},{apiName:"contactGroupsList"}).then(e=>Object(fe.d)({response:e}))}contactsInGroup({groupId:e}){return Object(E.a)(null!=e,"`Contact Group id` is a required parameter"),this.request(this.instanceOptions.host+`/v4/groups/${e}?include_types=smtp,tel,adr,hidden`,{},{apiName:"contactsInGroup"}).then(e=>Object(fe.e)({response:e}))}editContactGroup({groupId:e,newName:t,addedEndpoints:s,removedEndpoints:a}){Object(E.a)(null!=e,"`Contact Group id` is a required parameter");const n=Object(fe.c)({newName:t,addedEndpoints:s,removedEndpoints:a}),r={apiName:"editContactGroup",newName:n.new_name,addedEndpoints:JSON.stringify(n.added_endpoints),removedEndpoints:JSON.stringify(n.removed_endpoints)};return this.request(this.instanceOptions.host+`/v4/groups/${e}/edit`,n,r,L.a.POST,{appendMailboxParams:!1})}createContactGroup({name:e,endpoints:t}){Object(E.a)(e,"`Contact Group name` is a required parameter");const s=Object(fe.b)({name:e,endpoints:t}),a={apiName:"createContactGroup",name:e,endpoints:JSON.stringify(s.endpoints)};return this.request(this.instanceOptions.host+"/v4/groups",s,a,L.a.POST,{appendMailboxParams:!1}).then(e=>((e||{}).created_group||{}).id)}contactsGroupDelete({groupId:e}){return e||Object(E.a)(e,"`groupId` is a required option to delete contact group"),this.request(this.instanceOptions.host+`/v4/groups/${e}`,{},{apiName:"contactGroupsDelete"},L.a.DELETE).then(e=>Object(fe.d)({response:e}))}alphabeticalContacts({count:e,characters:t=[],type:s=0,group:a}){const n={count:e,type:s,group:a};t.length>0&&(n.categories=t.join(","));const r=i()({apiName:"alphabeticalContacts"},n);return this.request(this.instanceOptions.host+"/v4/contacts/alpha",n,r).then(t=>Object(fe.g)({response:t,type:s,count:e}))}contactDetailsEdit({oldContact:e,newContact:t,skipContactDiffCheck:s}){const a=Object(fe.j)(e,t),n=Object.keys(a.changes).filter(e=>!Array.isArray(a.changes[e])||a.changes[e].length).length;if(!s&&!n)return Promise.resolve(e);if(!a.source)return Promise.reject({error:"no editToken"});const r=a.changes,o=r.removed_endpoints,c=r.added_endpoints,d=M()(r,["removed_endpoints","added_endpoints"]),l=i()({apiName:"contactDetailsEdit",editToken:a.editToken},d,{removed_endpoints:JSON.stringify(o),added_endpoints:JSON.stringify(c)});return this.request(`${this.instanceOptions.host}/v4/contacts/liteEdit`,a,l,L.a.POST,{appendMailboxParams:!1}).then(e=>Object(fe.a)(e.resulting_contacts&&e.resulting_contacts[0]))}createContact({newContact:e,image:t}){if(Object(b.b)(e))return;const s={apiName:"createContact",newContact:JSON.stringify(e),image:t},a=Object(fe.i)({contact:e,image:t});return Object.keys(a.source_contacts).length?this.request(`${this.instanceOptions.host}/v4/contacts/create`,a,s,L.a.POST,{appendMailboxParams:!1}).then(e=>Object(fe.a)(e.resulting_contacts&&e.resulting_contacts[0])):Promise.reject({error:"no changes"})}contactUploadPhoto({image:e,editToken:t}){return t?this.request(`${this.instanceOptions.host}/v4/contacts/uploadPhoto`,{image:e,source:t},{apiName:"contactUploadPhoto",image:e,editToken:t},L.a.POST,{appendMailboxParams:!1}).then(e=>Object(fe.a)(e.resulting_contacts&&e.resulting_contacts[0])):Promise.reject({error:"no editToken"})}contactDetails({email:e,isCompose:t}){e||Object(E.a)(e,"`email` is a required option");const s=`smtp:${e}`;return this.request(`${this.instanceOptions.host}/v4/contacts/by/ep`,{ep:s,is_composing:t,enable_tmp:!0},{apiName:"contactDetailsByEndpoint",email:e,isCompose:t}).then(e=>Object(fe.f)(Object.assign({ep:s},e)))}toggleContactsProviderImporter({provider:e,enable:t=!0,spid:s}){return Object(E.a)(e,"`provider` is a required option"),Object(E.a)(s,"`spid` is a required option"),e=e.toLowerCase(),this.request(`${this.instanceOptions.host}/v4/contacts/import`,{sync:t?"on":"off",src:e,spid:s},{apiName:"toggleContactsProviderImporter",provider:e,enable:t},L.a.POST,{urlParams:{custId:"ymail"}})}contactProvidersStatus(){return this.request(`${this.instanceOptions.host}/v4/contacts/preferences`,{custId:"ymail"},{apiName:"contactProvidersStatus"}).then(e=>Object(fe.h)({response:e}))}formatted(){return this.request(`${this.instanceOptions.host}/v4/util/credentials/formatted`,{},{apiName:"socialAccountStatus"}).then(e=>Object(fe.m)(e))}handleWssidReissueError(e){const t=e.statusCode;if(403===t){const s=Object(b.a)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const a=Object(b.a)(e,"data.body.wssid","");if(a)return this.wssid=a,new C.a(f.e,{statusCode:t,errorCode:s,wssid:a})}}return null}};const be=L.a.GET,Oe=["version","launchtime","ymreqid","crumb"],Re={Transport:L.b,request:e=>Re._sendRequest(e),_sendRequest:e=>{const t=new Re.Transport(be,I.Eb,3e3),s=Oe.reduce((t,s)=>(t[s]=e[s],t),{});return t.setHeader("Accept","application/json"),t.send(s)}};var Ne=Re;var Me=class extends g.a{constructor({heartBeatCheckInterval:e=36e5,buildNumber:t,launchTime:s,guidHash:a,loggerParams:n,crumb:r,isOnline:i}){super({loggerName:I.r.HeartbeatAPIClient,loggerParams:n,crumb:r,isOnline:i}),this.emergencyRefresh=!1,a&&(this.ymreqidGenerator=new R.a(a,I.ze,I.id)),Object(A.b)()&&setInterval(()=>{this.request({version:t,launchtime:s}).then(e=>{this.emergencyRefresh=e},()=>{this.emergencyRefresh=!1})},e)}request(e){const t={apiName:"heartbeat",crumb:this.crumb,ymreqid:this.ymreqidGenerator.generate()},s=Object.assign({},e,t),a=Ne.request(s);return this.logRequest(a,t),a.then(e=>!!e.body.emergencyRefresh).catch(()=>!1)}};const De=I.xe+"/yql";var ye=s(74),Le=s.n(ye),ve=Le.a.create("norrin/yql_client");const Pe=I.xe+"/linkEnhancer",Fe=3500;var we=s(632),ke=s.n(we),xe=s(144),Ue=s.n(xe),Ge=s(633),je=s.n(Ge),He=s(634),Be=s.n(He),Ve=s(635),We=s.n(Ve),qe=s(636),ze=s.n(qe),Ke=(s(637),s(168)),Ze=s.n(Ke);function Ye(e){const t=e.event,s=e.state,a=e.email;return t.startTime&&(t.startTime=Xe(t.startTime)),t.endTime?t.endTime=Xe(t.endTime):t.duration&&t.startTime?t.endTime=function(e,t){let s=1,a=e;return[{unit:"D",addFunction:je.a},{unit:"T",addFunction:e=>e},{unit:"H",addFunction:Be.a},{unit:"M",addFunction:We.a},{unit:"S",addFunction:ze.a}].forEach(({unit:e,addFunction:n})=>{const r=t.indexOf(e,s);if(r>-1){const e=parseInt(t.substring(s,r),10)||0;a=n(a,e),s=r+1}}),a}(t.startTime,t.duration):t.startTime&&(t.endTime=t.startTime),t.email=a||"",t.state=s||"",t.response=t.partStat||"",t.startTime&&t.endTime&&(t.isSameDay=ke()(t.startTime,t.endTime)),t.firstAttendeeStatus=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee[0].partStat}(t.attendees),t.location=t.location||null,t.videoLink=function(e){const t=/https:\/\/plus.google.com\/hangouts\/_\/.*\/.*/.exec(e);return t&&t[0]||null}(t.description),t.attendees=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee.map(e=>e.email)}(t.attendees),t.firstAttendeeEmail=t.attendees[0]||"",t.organizerEmail=t.organizer&&t.organizer.email||"",t}function Xe(e){const t=Ue()(e);return Ze()("Invalid Date"!==t.toString(),"Invalid Date"),t}var Qe=Le.a.create("norrin/calendar");const $e="/cal/ws",Je=1;var et=s(274),tt=s(479);var st=class extends g.a{constructor({appId:e=I.Ae,loggerParams:t,crumb:s,isOnline:a,httpRetry:n,locale:r,environment:i,region:o}){super({loggerName:I.r.LocationAutoSuggestClient,loggerParams:t,crumb:s,isOnline:a}),this.httpRetry=n,this.appid=e,this.locale=r,this.region=o,this.environment=i}getLocationSuggestion(e,t){let s,a;t===tt.h.HIPMUNK?(s=et.b,a={q:e.keyword,product:e.product?e.product:"flights"}):(s=et.c,a={text:e.keyword,language:"en-us"});const n=i()({locale:this.locale,appid:this.appid,region:this.region,environment:this.environment},a),r=new L.b(L.a.GET,s,{timeout:et.d,httpRetry:this.httpRetry});r.setHeader("Accept","application/json");const o=r.send(a);return this.logRequest(o,n),o.then(e=>({suggestions:e.body.result||e.body.results}))}},at=s(157);const nt=I.xe+"/subscription_api";const rt="https://s.yimg.com/yo/m2s/EXP/test.json";var it=s(3),ot=s.n(it);function ct(e){if(!e)throw new C.a("AstraApiClient.CategoryFollowingListError");const t=Object(b.a)(e,"result.shopping.affinity.productCategory",{});let s=Object(b.a)(t,"name=categoryFollow.type=Declared.itemListElement",[]);const a=Object(b.a)(e,"statusCode",-1),n=Object(b.a)(e,"error.code",200===a?"":"Unknown");return{followedCategoryList:s=s.map(e=>(e.id=e["@id"],e.type=e["@type"],Object(b.f)(e,["@id","@type"]))),statusCode:a,errorCode:n}}const dt="https://data.mail.yahoo.com/astra/v1/user",lt="https://stg-astra-serving.assistant.yahoo.com/astra/v1/user";class ut{constructor({httpRetry:e}){ot()(this,"transport",(e,t=L.a.GET)=>{const s=new L.b(t,e,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s}),ot()(this,"checkForAstraWssid",e=>{const t=Object(S.b)(e,"astraWssid");if(t&&this.isItFirstAstraCall){return this.isItFirstAstraCall=!1,this.transport(`${dt}/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared&astraWssid=12345`).send().then(e=>ct(e.body)).catch(e=>{if(400===e.statusCode){"EC-4003"===Object(b.a)(e,"data.body.error.code","")&&(this.astraWssid=Object(b.a)(e,"data.body.error.astraWssid",""))}})}return t?new Promise(e=>{setTimeout(()=>e("done!"),400)}):Promise.resolve()}),ot()(this,"getAstraWssidParam",async e=>(await this.checkForAstraWssid(e),this.astraWssid?`&astraWssid=${this.astraWssid}`:"")),this.httpRetry=e,this.astraWssid="",this.isItFirstAstraCall=!0}async fetchHalloweenBannerApi({astraNonProdFlag:e=!1,config:t={}}){const s=await this.getAstraWssidParam(t);return this.transport(`${e?lt:dt}/cards?accountId=1&q=cardView:ItemList%20AND%20source:editorial%20${s}`).send().then(e=>(function(e={}){if(void 0===e.result)throw new C.a("AstraApiClient.HalloweenBannerError");const t=Object(b.a)(e,"statusCode",0);return{cards:Object(b.a)(e,"result.cards",[]).map(e=>{const t=Object(b.a)(e,"data",{});return{actionName:Object(b.a)(t,"potentialAction.name",""),cardType:Object(b.a)(t,"@id","").split(".")[0],description:Object(b.a)(t,"description",""),items:Object(b.a)(t,"itemListElement",[]).map(e=>({actionName:Object(b.a)(e,"item.potentialAction.name",""),description:Object(b.a)(e,"item.description",""),imgUrl:Object(b.a)(e,"item.mainEntityOfPage.image.contentUrl",""),provider:Object(b.a)(e,"item.mainEntityOfPage.provider.name",""),title:Object(b.a)(e,"item.name",""),url:Object(b.a)(e,"item.potentialAction.url","")})),url:Object(b.a)(t,"potentialAction.url","")}}),statusCode:t}})(e.body))}async retailersApi({quotientDebugFlag:e=!1,config:t={}}){const s=await this.getAstraWssidParam(t);return this.transport(`${dt}/sources/quotient/retailers?accountId=1&q=includeAll:${e}${s}`).send().then(e=>(function(e){if(!e)throw new C.a("AstraApiClient.QuotientRetailersError");const t=e.errorDescription,s=e.result,a=e.statusCode,n=void 0===a?0:a;return{errorDescription:void 0===t?"":t,retailers:(void 0===s?[]:s).map(e=>{const t=Object(b.a)(e,"@id",""),s=Object(b.a)(e,"displayName",""),a="true"===Object(b.a)(e,"accountInfo.isConnected",""),n=Object(b.a)(e,"category",[]),r=Object(b.a)(e,"accountInfo.additionalProperties",[]).reduce((e,t)=>i()({},e,{[t.propertyID]:t.value}),{}),o=r.loyaltyCard,c=void 0===o?"":o,d=r.loyaltyCardLength,l=void 0===d?"":d,u=r.loyaltyCardPrefix,_=void 0===u?"":u,m=r.proxyType,p=void 0===m?"":m,h=r.marlonBrandImage,g=void 0===h?"":h,E=r.marlonRegistrationUrl,I=void 0===E?"":E,S=r.registrationInfo,C=void 0===S?"":S,f=Object(b.a)(e,"subDomains",[]);return{brandImage:g,categories:n,displayName:s,emailIds:Object(b.a)(e,"senderEmailIds",[]),id:t,linked:a,loyaltyCardLength:l,loyaltyCardPrefix:_,loyaltyId:c,proxyType:p,registrationInfo:C,registrationUrl:I,subDomains:f}}),statusCode:n}})(e.body))}async retailersCategoryApi({config:e={}}){const t=await this.getAstraWssidParam(e);return this.transport(`https://data.mail.yahoo.com/astra/v1/sources/quotient/categories?accountId=1${t}`).send().then(e=>(function(e){if(!e)throw new C.a("AstraApiClient.QuotientRetailersError");const t=e.errorDescription,s=e.result,a=e.statusCode,n=void 0===a?0:a;return{errorDescription:void 0===t?"":t,groceryCategories:(void 0===s?[]:s).map(e=>({id:Object(b.a)(e,"@id",""),type:Object(b.a)(e,"@type",""),displayName:Object(b.a)(e,"displayName",""),name:Object(b.a)(e,"name",""),logo:Object(b.a)(e,"image.contentUrl","")})),statusCode:n}})(e.body))}async affiliateCouponsApi({stringOfMessageIds:e,mailboxId:t,ymreqid:s}){return this.transport(`https://stg-astra-serving.assistant.yahoo.com/astra/v1/user/cards?accountId=1&q=cardView:AffiliateDeals+AND+messageId:(${e})&mailboxId=${t}&ymreqid=${s}`).send().then(e=>(function(e={}){if(void 0===e.result)throw new C.a("AstraApiClient.AffiliateCouponsError");const t=e.result;return{statusCode:e.statusCode,affiliateCouponsData:Object(b.a)(t,"cards",[]).map(e=>{const t=Object(b.a)(e,"data",{}),s=Object(b.a)(e,"sources.0.messageId","<mid1>"),a=Object(b.a)(t,"retailer.stores.0.address",""),n=Object(b.a)(t,"relatedCategories",[]),r=Object(b.a)(t,"coupons",[]);return{location:a,msgId:s,coupons:r,categories:n,logo:Object(b.a)(t,"retailer.logo.contentUrl",""),name:Object(b.a)(t,"retailer.name",""),url:Object(b.a)(t,"retailer.url",""),description:Object(b.a)(r,"0.description",""),openingHours:Object(b.a)(t,"retailer.stores.0.openingHours","")}})}})(e.body))}async linkRetailerApi({retailerId:e,loyaltyId:t,config:s={}}){const a=await this.getAstraWssidParam(s),n={"@type":"Retailer","@id":e,accountInfo:{"@type":"PartnerAccount",additionalProperties:[{"@type":"PropertyValue",propertyID:"loyaltyCard",value:t}]}};return this.transport(`${dt}/sources/quotient/retailers?accountId=1${a}`,L.a.POST).send(n).then(e=>(function(e){if(!e)throw new C.a("AstraApiClient.LinkRetailerError");const t=e.error,s=e.statusCode,a=void 0===s?0:s,n=(void 0===t?{}:t).validationErrors;return{errorHint:JSON.parse((void 0===n?[]:n)[0]||'{"errorHint": ""}').errorHint,statusCode:a}})(e.body))}async unlinkRetailerApi({retailerId:e="",config:t={}}){const s=await this.getAstraWssidParam(t);return this.transport(`${dt}/sources/quotient/retailers/${e}?accountId=1${s}`,L.a.DELETE).send().then(e=>e.body)}async retailerOffersApi({retailerId:e,limit:t,config:s={}}){const a=await this.getAstraWssidParam(s);return this.transport(`${dt}/cards?accountId=1&q=cardView:Deal%20AND%20source:Quotient%20AND%20retailer:${e}&limit=${t}${a}`).send().then(e=>(function(e={}){if(void 0===e.result)throw new C.a("AstraApiClient.RetailerOffersError");const t=e.result,s=e.statusCode;return{offers:Object(b.a)(t,"cards",[]).map(e=>{const t=Object(b.a)(e,"data",{}),s=new Date(Object(b.a)(t,"validThrough",null)).getTime(),a=Object(b.a)(t,"discountInfo",{}),n=Object(b.a)(a,"amount","0"),r=Object(b.a)(a,"priceCurrency","USD"),i=Object(b.a)(a,"discountType",I.Xc.AMOUNT),o=Object(b.a)(t,"itemOffered.brand.name",""),c=Object(b.a)(t,"description",""),d=Object(b.a)(t,"images.0.contentUrl",""),l=Object(b.a)(t,"@id",""),u=Object(b.a)(e,"cardId",""),_=i===I.Xc.AMOUNT?Number(n).toFixed(2):Number(n).toFixed(0),m=Object(b.a)(t,"category",[]).filter(e=>!!e.name).map(e=>e.name);return 0===m.length&&t.itemOffered&&t.itemOffered.category&&m.push(Object(b.a)(t,"itemOffered.category")),{amountUnit:r,brandName:o,cardId:u,categories:m,description:c,discountType:i,expiryTimestamp:s,imageUrl:d,offerId:l,value:_}}),statusCode:s}})(e.body))}async retailerActivatedOffersApi({retailerId:e,limit:t,config:s={}}){const a=await this.getAstraWssidParam(s);return this.transport(`${dt}/cards?accountId=1&q=cardView:Deal%20AND%20source:Quotient%20AND%20retailer:${e}%20AND%20data.saved:true&limit=${t}${a}`).send().then(e=>(function(e={}){if(void 0===e.result)throw new C.a("AstraApiClient.RetailerActivatedOffersError");const t=e.result,s=e.statusCode;return{offers:Object(b.a)(t,"cards",[]).map(e=>{const t=Object(b.a)(e,"data",{}),s=new Date(Object(b.a)(t,"validThrough",null)).getTime(),a=Object(b.a)(t,"discountInfo",{}),n=Object(b.a)(a,"amount","0"),r=Object(b.a)(a,"priceCurrency","USD"),i=Object(b.a)(a,"discountType",I.Xc.AMOUNT),o=Object(b.a)(t,"itemOffered.brand.name",""),c=Object(b.a)(t,"description",""),d=Object(b.a)(t,"images.0.contentUrl",""),l=Object(b.a)(t,"@id",""),u=Object(b.a)(e,"cardId",""),_=i===I.Xc.AMOUNT?Number(n).toFixed(2):Number(n).toFixed(0),m=Object(b.a)(t,"category",[]).filter(e=>!!e.name).map(e=>e.name);return 0===m.length&&t.itemOffered&&t.itemOffered.category&&m.push(Object(b.a)(t,"itemOffered.category")),{amountUnit:r,brandName:o,cardId:u,categories:m,description:c,discountType:i,expiryTimestamp:s,imageUrl:d,offerId:l,value:_}}),numActivatedOffers:Object(b.a)(t,"cards.length",0),statusCode:s}})(e.body))}async activateOfferApi({retailerId:e,cardId:t,offerId:s,config:a={}}){const n=await this.getAstraWssidParam(a),r={id:s,action:"save",source:"quotient",retailerId:e};return this.transport(`${dt}/cards/${t}?accountId=1&q=cardView:Deal%20AND%20source:Quotient${n}`,L.a.POST).send(r).then(e=>e.body)}async userProfileApi({queryParams:e="",config:t={}}){const s=await this.getAstraWssidParam(t);return this.transport(`${dt}/profile?accountId=1&attribute=${e}${s}`).send().then(e=>(function(e){if(!e)throw new C.a("AstraApiClient.ICUserProfileError");const t=Object(b.a)(e,"result.shopping.affinity.merchantAffinity",{}),s=Object(b.a)(t,"retailerGroup=quotient.retailers",[]),a=Object(b.a)(t,"retailerGroup=shoprunner.retailers",[]),n=Object(b.a)(e,"statusCode",-1);return{quotientRetailers:s,shopRunnerRetailers:a,statusCode:n,errorCode:Object(b.a)(e,"error.code",200===n?"":"Unknown")}})(e.body))}async categoryFollowingListApi({config:e={}}){const t=await this.getAstraWssidParam(e);return this.transport(`${dt}/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${t}`).send().then(e=>ct(e.body))}async firstCategoryFollowApi({id:e="",name:t="",config:s={}}){const a=await this.getAstraWssidParam(s),n={"shopping.affinity.productCategory.name=categoryFollow.type=Declared":{"@type":"ItemList",itemListElement:[{"@id":e,"@type":"CategoryListItem",name:t}]}};return this.transport(`${dt}/profile?accountId=1${a}`,L.a.POST).send(n).then(e=>e.body)}async categoryFollowApi({id:e="",name:t="",config:s=""}){const a=await this.getAstraWssidParam(s),n=[{op:"add",path:"/itemListElement/-",value:{"@id":e,"@type":"CategoryListItem",name:t}}];return this.transport(`${dt}/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${a}`,L.a.PATCH).send(n).then(e=>e.body)}async categoryUnfollowApi({id:e="",config:t=""}){const s=await this.getAstraWssidParam(t),a=[{op:"remove",path:`/itemListElement/[@id==${e}]`}];return this.transport(`${dt}/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${s}`,L.a.PATCH).send(a).then(e=>e.body)}}const _t=I.xe+"/athena_api";const mt=1250,pt="BROWSER_TO_NODE_STRATEGY",ht="NODE_TO_ATHENA_STRATEGY",gt=["WEB_DESKTOP","WEB_MOBILE","MOBILE_IOS","MOBILE_ANDROID"];const Et="unsubscribemail",It={[pt]:class{unSubscribeApi(e){const t=new L.b("POST",_t+"/unsubscribe?crumb="+e.crumb);return t.setHeader("Accept","application/json"),t.withCredentials=!0,t.send(e).then(e=>JSON.parse(e.text))}},[ht]:class{constructor({athenaHost:e,cookie:t,headers:s}){this.cookie=t,this.athenaHost=e,this.headers=s}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach(s=>{e.setHeader(s,t[s])})}unSubscribeApi(e){const t=e.senders,s=new L.b("POST",this.athenaHost+"/v1/commsdata/getunsubsuggestions?crumb="+e.wssid);return s.setHeader("Accept","application/json"),s.setCookieHeader(this.cookie),this._setCustomHeaders(s,this.headers),s.withCredentials=!0,s.send({senders:t}).then(e=>JSON.stringify(function(e){const t=e&&Object(b.a)(e,"commsDataUnsubscribe.result.0.unsubscribe.unsubscribeList");if(t&&Array.isArray(t))return t;throw new C.a("AthenaApiClient.DataError",e)}(JSON.parse(e.text))))}userSegmentApi(e){const t=new L.b("GET",this.athenaHost+"/v1/commsdata/userprofile?",{timeout:mt});return t.setHeader("Accept","application/json"),t.setCookieHeader(this.cookie),this._setCustomHeaders(t,this.headers),t.withCredentials=!0,t.send(e).then(e=>(function(e){return e&&Array.isArray(Object(b.a)(e,"commsDataUserProfile.result.0.userProfile.attributesList"))?Object(b.a)(e,"commsDataUserProfile.result.0.userProfile.attributesList").filter(e=>!(!e||!e.platform)&&-1!==gt.indexOf(e.platform)).reduce((e,t)=>i()({},e,{[t.platform]:t}),{}):{}})(JSON.parse(e.text)))}}};var St=class extends g.a{constructor({appId:e=I.Ae,strategy:t=pt,guidHash:s,wssid:a,crumb:n,isOnline:r,cookie:i,athenaHost:o,headers:c,timezone:d,loggerParams:l}){super({loggerName:I.r.AthenaClient,loggerParams:l,crumb:n,wssid:a,isOnline:r}),Object(E.a)(t===pt||t===ht,`Invalid strategy ${t}`),this.appId=e,this.cookie=i,this.athenaHost=o,this.timezone=d,this.strategy=t,this._request=new It[t]({headers:c,athenaHost:o,cookie:i}),s&&(this.ymreqidGenerator=new R.a(s,I.ze,I.id))}getDefaultUrlParams(){return{appid:this.appId,crumb:this.crumb,wssid:this.wssid,clientId:Et,timezone:this.timezone,ymreqid:this.ymreqidGenerator.generate()}}request(e,t){return this[e](e,t)}unSubscribeItems(e,t){const s=this.getDefaultUrlParams(),a={apiName:e,wssid:s.wssid,crumb:s.crumb};let n,r;return this.strategy===pt?(n=t.originalSendersInfo.filter(e=>e.name&&e.email).map(e=>({email:e.email,from:e.name})),r=this._request.unSubscribeApi(Object.assign({},s,{senders:n}))):r=this._request.unSubscribeApi(Object.assign({},s,t)),this.logRequest(r,a),r}getUserSegmentData(e,t){const s={apiName:e},a=this._request.userSegmentApi(Object.assign({appId:this.appId},t));return this.logRequest(a,s),a}},Ct=Le.a.create("norrin/video_client");const ft=I.xe+"/video_api";const Tt=I.xe+"/membership_rewards";var At=s(41);const bt="/",Ot={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"GET",payloadType:"embedded"}),transformResponse:e=>{const t=function(e){return e.filter(e=>"DELETE_IN_PROGRESS"!==e.status).map(e=>{let t=!0,s=e.name;return-1!==e.types.indexOf(I.Cb.USER)&&(t=!1),"@B@Bulk"===s&&(s="Spam"),{unread:e.unread,total:e.total,types:e.types,name:s,path:s,id:e.id,isSystem:t,accountId:e.acctId,highestModSeq:e.highestModSeq,uidNext:e.uidNext}})}(e.response.result.folders);return t.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0),function(e){const t=[],s={};return e.forEach(e=>{s[e.accountId]||(s[e.accountId]={}),s[e.accountId][e.name]=e}),e.forEach(e=>{const a=s[e.accountId],n=e.name;let r=!0;-1!==n.indexOf(bt)&&(e.isSystem||!n.startsWith(bt)&&!a[n.substr(0,n.indexOf(bt))])&&(r=!1);const i=Object(At.l)(e,a,r);Object(At.r)(t,e,i,0)}),t}(t)}};const Rt="GetFolders";var Nt={getBatchPayload:({mailboxId:e})=>{return{requests:[Ot.getBlockPayload(Rt,{mailboxId:e})]}},transformResponses:({successMap:e})=>({folders:Ot.transformResponse(e[Rt])})},Mt=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/@.id==${t.folderId}`,method:"DELETE"});const Dt="DeleteFolders";var yt={getBatchPayload:({mailboxId:e,folderId:t})=>{return{requests:[Mt(Dt,{mailboxId:e,folderId:t})]}},transformResponses:()=>1},Lt=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"PUT",payloadType:"embedded",payload:{folder:{types:[I.Cb.USER],acctId:t.accountId,name:t.folderName}}}),vt=e=>{const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,path:t.name,isSystem:!1,accountId:t.acctId,highestModSeq:t.highestModSeq,uidNext:t.uidNext}};const Pt="CreateFolders";var Ft={getBatchPayload:({mailboxId:e,accountId:t,folderName:s})=>{return{requests:[Lt(Pt,{mailboxId:e,accountId:t,folderName:s})]}},transformResponses:({successMap:e})=>({folder:vt(e[Pt])})},wt={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/${t.folderId}`,method:"POST",payloadType:"embedded",payload:{folder:{name:t.folderName}}}),transformResponse(e){const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,isSystem:!1,accountId:t.acctId}}};const kt=Object(b.c)(Object(b.g)(I.fd)),xt=(e,t,s)=>{let a;return a=Object.keys(kt).indexOf(s)<0?`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${s}`:`/ws/v3/mailboxes/@.id==${t}/attributes/@.id==${s}`};var Ut={getBlockPayload:(e,t)=>{const s=t.value,a=xt(t.mailboxId,t.rootMailboxId,e);return{id:e,method:"POST",uri:a,payload:{id:e,link:{type:"RELATIVE",href:a},value:s}}},get getChainedBlockPayload(){return(e,{mailboxId:t,rootMailboxId:s,value:a})=>{const n=this.getSaveBlockPayload;let r;return-1!==[I.ic.DELIVERY_BLOCKED_SENDERS,I.ic.MESSAGE_FILTERS].indexOf(e)?n(e,{mailboxId:t,rootMailboxId:s,value:a}):(r={select:{testAndSet:"$..value.testAndSet"}},{id:"GetMailboxAttribute_"+e,uri:xt(t,s,e),method:"GET",filters:r,requests:[n(e,{mailboxId:t,rootMailboxId:s,value:a})]})}},getSaveBlockPayload:(e,{mailboxId:t,rootMailboxId:s,value:a})=>{const n=xt(t,s,e);let r;return-1===[I.ic.DELIVERY_BLOCKED_SENDERS,I.Bd.VACATION_PREFERENCES,I.ic.MESSAGE_FILTERS].indexOf(e)&&(a.testAndSet="$(testAndSet)"),-1===[I.ic.DELIVERY_BLOCKED_SENDERS,I.Bd.VACATION_PREFERENCES,I.ic.MESSAGE_FILTERS].indexOf(e)&&(r={select:{testAndSet:"$..value.testAndSet"}}),{id:"SetMailboxAttribute_"+e,method:"POST",uri:n,payload:{id:e,link:{type:"RELATIVE",href:n},value:a},filters:r}},get getMultiAttributeChain(){return({mailboxId:e,rootMailboxId:t,attributes:s})=>{const a=this.getChainedBlockPayload,n=this.getSaveBlockPayload,r=s.map(({id:s,value:r},i)=>0===i?a(s,{mailboxId:e,rootMailboxId:t,value:r}):n(s,{mailboxId:e,rootMailboxId:t,value:r})),i=r[0];let o;return r.forEach(e=>{o?o.requests?(o.requests[0].requests=[e],o=e):(o.requests=[e],o=e):o=e}),{requests:[i]}}},transformResponse:()=>1};const Gt="RenameFolders",jt="messageFilters";var Ht={getBatchPayload({mailboxId:e,folderId:t,folderName:s,filters:a,subfolders:n=[]}){const r=wt.getBlockPayload(Gt+t,{mailboxId:e,folderId:t,folderName:s}),o=n.map(({folderId:t,folderName:s})=>wt.getBlockPayload(Gt+t,{mailboxId:e,folderId:t,folderName:s}));return 0===a.length?{requests:[r,...o]}:{requests:[i()({},r,{requests:[Ut.getBlockPayload(jt,{mailboxId:e,value:{filters:a}})]}),...o]}},transformResponses:(e,t)=>({folder:wt.transformResponse(e.successMap[Gt+t.folderId]),subfolders:Object.keys(e.successMap).filter(e=>e!==Gt+t.folderId).map(t=>wt.transformResponse(e.successMap[t]))})},Bt=s(52),Vt={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:a,isAsync:n,deleteDuplicates:r})=>{if(!s&&!a)throw new Error("POST Delete Message requires either a list of ids or a query string.");const i=[];s&&i.push(`id:(${s.join(" ")})`),a&&i.push(a);const o=encodeURIComponent(i.join(" AND ")),c=r?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"DELETE"}]}}(e,t,o):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"DELETE"}}(e,t,o);return n&&(c.uri+="&async=true"),c},getBatchError:({failureMap:e})=>{return"EC-4007"===Object(b.a)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Bt.a(f.j,e):null},transformResponse:()=>1};var Wt={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"GET"}),transformResponse(e){const t=e.response.result;if(!t)return{};const s=t.task;return s?{id:s.id,link:s.link.href,status:s.status,progress:s.progress,expires:s.expiryTime}:{}}};const qt="DeleteList";var zt={getBatchPayload:e=>{return{requests:e.map(({mailboxId:e,query:t,isAsync:s=!0})=>(Object(E.a)(e,"`mailboxId` missing."),Object(E.a)(t,"`query` missing."),Vt.getBlockPayload(qt,{mailboxId:e,query:t,isAsync:s})))}},transformResponses({successMap:e}){const t=e[qt];return t.response?{task:Wt.transformResponse(t)}:Vt.transformResponse(t)}},Kt={getBatchPayload(e){const t=e.map(({mailboxId:e,query:t,isAsync:s})=>(Object(E.a)(e,"`mailboxId` missing."),Object(E.a)(t,"`query` missing."),{mailboxId:e,query:t,isAsync:s}));return zt.getBatchPayload(t)},transformResponses:({successMap:e})=>zt.transformResponses({successMap:e})},Zt={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:a,destinationFolderId:n,flags:r,cardConversationId:i,isAsync:o,payload:c,deleteDuplicates:d})=>{if(!s&&!a)throw new Error("POST Update Message requires either a list of ids or a query string.");const l=[];s&&l.push(`id:(${s.join(" ")})`),a&&l.push(a);const u=encodeURIComponent(l.join(" AND ")),_=d?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"POST",payloadType:"embedded",payload:{message:{}}}]}}(e,t,u):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"POST",payloadType:"embedded",payload:{message:{}}}}(e,t,u),m=d?_.requests[0]:_;if(o&&(_.uri+="&async=true"),!(n||r||i||c))throw new Error("POST Update Message requires either a folder id, flags, cardConversationId or payload");return c?m.payload=c:(n&&(m.payload.message.folder={},m.payload.message.folder.id=n),r&&(m.payload.message.flags=r),i&&(m.payload.message.cardConversationId=i)),_},transformResponse:()=>1};const Yt="UpdateList";var Xt={getBatchPayload:e=>({requests:e.map(({mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n=!0})=>(Object(E.a)(e,"`mailboxId` missing."),Object(E.a)(t,"`query` missing."),Object(E.a)(s||a,"`destinationFolderId` or `flags` required."),Zt.getBlockPayload(Yt,{mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n})))}),transformResponses({successMap:e}){const t=e[Yt];return t.response?{task:Wt.transformResponse(t)}:Zt.transformResponse(t)}},Qt={getBatchPayload(e){const t=e.map(({mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n})=>(Object(E.a)(e,"`mailboxId` missing."),Object(E.a)(t,"`query` missing."),Object(E.a)(s||a,"`destinationFolderId` or `flags` required."),{mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n}));return Xt.getBatchPayload(t)},transformResponses:({successMap:e})=>Xt.transformResponses({successMap:e})},$t=s(35);function Jt(e){const t={id:e.immutableid||e.id,conversationId:e.conversationId,snippet:e.snippet||"",flags:Object.assign(e.flags,{flagged:!!e.flags.flagged}),folder:{id:e.folder.id,types:e.folder.types},headers:{replyTo:e.headers.replyTo||"",subject:e.headers.subject||"",from:e.headers.from||[],to:e.headers.to||[],cc:e.headers.cc||[],bcc:e.headers.bcc||[],date:Number(e.headers.internalDate),messageIdRfc822:e.headers.messageIdRfc822},attachments:[],attachmentCount:0,classification:e.classification&&e.classification.category,verifiedDomains:e.verifiedDomains||[]};e.spame&&(t.spame=e.spame),e.captcha&&(t.captcha=e.captcha),e.csid&&(t.csid=e.csid),e.attachments&&(e.attachments=t.attachments=function(e,t,s,a){return e.map(e=>({id:Object(W.e)(e,s,!1),virus:e.virus||"N",filename:e.filename,size:e.size,partId:e.partId,type:e.type,subtype:e.subtype,disposition:e.disposition,downloadUrl:e.downloadUrl,thumbnailUrl:e.thumbnailUrl,isExternal:!1,creationDate:1e3*t||e.creationDate,textExtractionUrl:e.textExtractionUrl,contentId:e.contentId,dataIds:e.dataIds,documentId:e.documentId,csid:a}))}(e.attachments,t.headers.date,t.id,e.csid)),void 0!==e.attachmentCount&&(t.attachmentCount=e.attachmentCount),e.headers.inReplyTo&&(t.headers.inReplyTo=e.headers.inReplyTo),e.inReplyTo&&(t.inReplyTo=i()({},e.inReplyTo,{messageIdRfc822:e.headers.messageIdRfc822,id:e.immutableid||e.id})),e.downloadAllUrl&&(t.downloadAllUrl=e.downloadAllUrl),e.schemaOrg&&Object(W.h)(e)&&(t.schemaCards=Object(W.n)(e)),e.cardConversationId&&(t.cardConversationId=e.cardConversationId),e.decos&&(t.decos=e.decos);const s=e.filterResult;return s&&s.folderOfDelivery&&(t.folderOfDelivery=s.folderOfDelivery),t}function es(e,{mailboxId:t,offset:s,count:a,folderId:n,sortOrder:r,filter:i,excludeFolderTypes:o=[],ids:c,cidFilter:d,cardConversationIds:l,startCardDate:u,endCardDate:_,accountId:m,encodeCardConversationId:p=!0,query:h={},cursorOffsetId:g}){let S="";switch(Object(E.a)(t,"mailboxId is a required field"),S+=n?"folderId"+$t.c+n:"",S+=i?Object($t.h)(i):"",S+=o.length?$t.e+encodeURIComponent(o.map(e=>`-folderType:(${e})`).join("")):"",S+=g?$t.e+"cursorOffsetId"+$t.c+g:"",S+=$t.e+"count"+$t.c+a,S+=$t.e+"offset"+$t.c+s,S+=c?encodeURIComponent(` id:(${c.join(" ")})`):"",l&&(S+=p?encodeURIComponent(` cardConversationId:(${l.join(" ")})`):`%20cardConversationId%3A(${l.join("%20")})`),S+=d?`%20conversationId%3A(${d})`:"",S+=r===I.jd&&u&&_?`${$t.e}cardDate${$t.c}${$t.d}${u}${$t.e}TO${$t.e}${_}${$t.b}`:"",S+=m&&!n?"%20acctId"+$t.c+m:"",S+=encodeURIComponent(Object.keys(h).reduce((e,t)=>Array.isArray(h[t])?e+h[t].map(e=>" "+t+":"+e):e+" "+t+":"+h[t],"")),r){case I.Od.DATE_ASC:S+=$t.e+"sort"+$t.c+"date";break;case I.Od.DATE_DESC:S+=$t.e+"-sort"+$t.c+"date";break;case I.Od.CARD_DATE_DESC:S+=$t.e+"-sort"+$t.c+"cardDate";break;case I.Od.SENDER:case I.Od.RECIPIENT:case I.Od.SUBJECT:case I.Od.UNREAD:case I.Od.STARRED:case I.Od.ATTACHMENT:case I.jd:S+=$t.e+"sort"+$t.c+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${S}`,method:"GET",payloadType:"embedded"}}function ts(e,t){const s=e.response.result.messages,a={messageGroups:s.map(e=>({id:e.id,messages:[Jt(e)]}))};if(!isNaN(t)){let e=!1;s.length&&(e=s[0].folder.total>t),a.hasMore=e}return a}function ss(e,{mailboxId:t,offset:s,count:a,folderId:n,sortOrder:r,filter:i,excludeFolderTypes:o=[],ids:c,cidFilter:d,startCardDate:l,endCardDate:u,accountId:_,groupBy:m="conversationId"}){let p="";switch(Object(E.a)(t,"mailboxId is a required field"),p+=n?"folderId"+$t.c+n:"",p+=_?$t.e+"acctId"+$t.c+_:"",p+=i?Object($t.h)(i):"",p+=`${$t.e}groupBy${$t.c}${m}`,p+=$t.e+"count"+$t.c+a,p+=$t.e+"offset"+$t.c+s,p+=c?encodeURIComponent(` conversationId:(${c.join(" ")})`):"",p+=d?`%20conversationId%3A(${d})`:"",p+=l&&u?`${$t.e}cardDate${$t.c}${$t.d}${l}${$t.e}TO${$t.e}${u}${$t.b}`:"",p+=o.length?$t.e+encodeURIComponent(o.map(e=>`-folderType:(${e})`).join("")):"",p+=i===I.Qb.PEOPLE?$t.e+encodeURIComponent([I.Cb.USER,I.Cb.INBOX].map(e=>`+folderType:(${e})`).join("")):"",r){case I.Od.DATE_ASC:p+=$t.e+"sort"+$t.c+"date";break;case I.Od.DATE_DESC:p+=$t.e+"-sort"+$t.c+"date";break;case I.Od.CARD_DATE_ASC:p+=$t.e+"sort"+$t.c+"cardDate";break;case I.Od.CARD_DATE_DESC:p+=$t.e+"-sort"+$t.c+"cardDate";break;case I.Od.SENDER:case I.Od.SUBJECT:case I.Od.UNREAD:case I.Od.STARRED:case I.jd:p+=$t.e+"sort"+$t.c+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${p}`,method:"GET",payloadType:"embedded"}}function as(e){const t=e.response.result,s=t.conversations,a=t.messages,n=t.query,r=new Map;a.forEach(e=>r.set(e.id,e));const i={messageGroups:s.filter(({messageIds:e})=>e.some(e=>!!r.get(e))).map(({id:e,messageIds:t})=>({id:e,messages:t.filter(e=>r.get(e)).map(e=>Jt(r.get(e))).reverse()}))};if(i.hasMore=0!==s.length,n&&n.options){const e=Object($t.j)(n);i.hasMore=s.length>=e}return i}var ns=s(107),rs=(e,t)=>{return{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/decos/@.id==FTI`,method:"POST",payload:{id:"FTI",counts:[{accountId:t.accountId,unseen:0}]}}},is=e=>{if(e){const t=e.response;ns.a.feature(I.r.MailAPIClient,{data:{apiName:e.id,errorCode:t&&t.error&&t.error.code,httpCode:e.httpCode}}).logFailure()}return null},os=s(390),cs=s.n(os),ds=s(352),ls=s.n(ds),us=s(231),_s=s.n(us);function ms(e){const t=e.every(e=>e.headers&&e.headers.date);return Object(E.a)(t,"date is missing in the headers"),e.sort((e,t)=>t.headers.date-e.headers.date).slice(1)}function ps(e=[]){const t=_s()(e,({csid:e,folder:t})=>e&&-1!==t.types.indexOf("DRAFT")),s=V()(t,2),a=s[0],n=void 0===a?[]:a,r=s[1],i=void 0===r?[]:r,o=_s()(n,e=>!e.inReplyTo),c=cs()(o[0],"csid"),d=cs()(o[1],"conversationId"),l=Object.keys(c).filter(e=>c[e].length>1).map(e=>ms(c[e]));let u=Object.keys(d).map(e=>cs()(d[e],"csid")).reduce((e,t)=>{const s=Object.keys(t).filter(e=>t[e].length>1).map(e=>ms(t[e]));return s.length&&e.push(...ls()(s)),e},[...ls()(l)]);if(n.length&&i.length){const e=n.filter(e=>i.some(({csid:t,folder:s})=>t===e.csid&&-1!==s.types.indexOf("SENT")));u=u.concat(e)}return u.length?e.filter(({id:e})=>!u.find(({id:t})=>e===t)):e}var hs=s(68),gs=s.n(hs);const Es="GetMessageGroupList";var Is={getBatchPayload({mailboxId:e,folderId:t,count:s,offset:r,sortOrder:i,filter:o,conversationsMode:c,excludeFolderTypes:d=[],ids:l,cardConversationIds:u,query:_}){const m=c&&!u?n:a;return d=gs()([...d,...$t.f]),{requests:[m.getBlockPayload(Es,{mailboxId:e,folderId:t,count:s,offset:r,filter:o,sortOrder:i,excludeFolderTypes:d,ids:l,cardConversationIds:u,query:_})]}},transformResponses({successMap:e},t){const s=t.offset+t.count,r=e[Es].response.result,o=r.messages,c=(t.conversationsMode&&!t.cardConversationIds?n:a).transformResponse({response:{result:i()({},r,{messages:ps(o)})}},s,t.folder);return{messageGroupList:c.messageGroups,hasMoreItems:c.hasMore}}};const Ss="GetMessageGroupList",Cs="UnseenCountReset";var fs={getBatchPayload({accountId:e,mailboxId:t,folderId:s,count:r,offset:i,sortOrder:o,filter:c,conversationsMode:d,excludeFolderTypes:l=[]}){const u=d?n:a;return l=gs()([...l,...$t.f]),{requests:[u.getBlockPayload(Ss,{accountId:e,mailboxId:t,folderId:s,count:r,offset:i,sortOrder:o,filter:c,excludeFolderTypes:l}),rs(Cs,{mailboxId:t,accountId:e})]}},transformResponses:(e,t)=>Is.transformResponses(e,t),getBatchError:({failureMap:e})=>{const t=Object.keys(e).length,s=e[Cs];return s&&1===t?is(s):t?new Bt.a(f.g,e):null}};const Ts={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts`,method:"GET"}),transformResponse:e=>{return Object(b.a)(e,"response.result.accounts")}};var As=s(301);var bs={getBatchPayload:({mailboxId:e,rootMailboxId:t=e,attributes:s=I.Bc})=>({requests:Object.keys(s).map(a=>{const n=s[a];return As.a.getBlockPayload("GetMailboxAttribute_"+n,{mailboxId:e,rootMailboxId:t,attributeId:n})})}),updateFailureMap:e=>{const t=Object.keys(e).filter(e=>0===e.indexOf("GetMailboxAttribute_"));if(t.length>0){const s=t.map(t=>e[t]),a=t.map(e=>e.replace("GetMailboxAttribute_",""));return Object(T.b)({logger:ns.a,apiName:s[0].id,statusCode:s[0].httpCode,errorCode:Object(b.a)(s[0],"response.error.code",""),ymreqid:Object(b.a)(s[0],"response.error.requestId",""),extraStatusCode:s.map(e=>Object(b.a)(e,"httpCode","")).join(","),extraErrorCode:s.map(e=>Object(b.a)(e,"response.error.code","")).join(","),message:`failed to load attribute values ${a.join(",")}.`}),m()(e,t)}return e},transformResponses:({successMap:e},{attributes:t=I.Bc})=>{let s=t;Array.isArray(t)||(s=Object.keys(t).map(e=>t[e]));const a=s.length,n={};let r=!0;for(let t=0;t<a;t++){const a=e["GetMailboxAttribute_"+s[t]];if(a){const e=As.a.transformResponse(a);Object.assign(n,e)}else r=!1}return{responses:n,success:r}}};const Os="GetFolders",Rs="GetAccounts";var Ns={getBatchPayload:({mailboxId:e},{appName:t})=>{const s=Object.assign({},I.Nb,I.P);return{requests:[Ot.getBlockPayload(Os,{mailboxId:e}),Ts.getBlockPayload(Rs,{mailboxId:e})].concat(bs.getBatchPayload({mailboxId:e,attributes:t===I.t.MOBILE_APP?I.tc:s}).requests)}},getBatchError:({failureMap:e})=>{const t=bs.updateFailureMap(e);return Object.keys(t)>0?new Bt.a(f.j,t):null},transformResponses:({successMap:e},{appName:t})=>{const s=Object.assign({},I.Nb,I.P),a=bs.transformResponses({successMap:e},{attributes:t===I.t.MOBILE_APP?I.tc:s});return{folders:Ot.transformResponse(e[Os]),accounts:Ts.transformResponse(e[Rs]),mailboxAttributes:a}}};const Ms="GetFolders",Ds="GetMessageGroupList",ys="GetAccounts";var Ls={getBatchPayload:({folderId:e="null",count:t,offset:s,sortOrder:r,filter:o,conversationsMode:c,excludeFolderTypes:d=[],mailboxId:l},{appName:u})=>{const _=c?n:a;return d=gs()([...d,...$t.f]),{requests:[i()({},Ts.getBlockPayload(ys,{mailboxId:l}),{filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[i()({},Ot.getBlockPayload(Ms,{mailboxId:l}),{filters:{iterator:`$..folders[?((@.id=='${e}' && '${e}' in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && '${e}' nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},requests:[_.getBlockPayload(Ds,{mailboxId:l,folderId:"$(folderId)",sortOrder:r,filter:o,count:t,offset:s,excludeFolderTypes:d})]})]})].concat(bs.getBatchPayload({mailboxId:l,attributes:u===I.t.MOBILE_APP?I.tc:I.Nb}).requests)}},transformResponses({successMap:e},t){const s=t.appName,r=t.offset,o=t.count,c=t.conversationsMode,d=t.ymreqid,l=t.folderId,u=t.mailboxId,_=Ot.transformResponse(e[Ms]),m=Ts.transformResponse(e[ys]),p=r+o,h=c?n:a,g=bs.transformResponses({successMap:e},{attributes:s===I.t.MOBILE_APP?I.tc:I.Nb}),E=e[Ds].response.result.query,S=Object($t.g)(E),C=h.transformResponse(e[Ds],p,S),A={accounts:m,folders:_,messageGroups:C.messageGroups,hasMoreItems:C.hasMore,mailboxAttributes:g,folderId:S};if(l&&S!==l){const t=[...e[Ds].headers];t[2]={key:"Status-Code",value:500};const s={[Ds]:{headers:t,httpCode:500,id:Ds,response:{error:{code:"ET-5006",requestId:d,resource:`/ws/v3/mailboxes/@.id==${u}/messages/@.select==q`}}}};return Object(T.b)({logger:ns.a,apiName:Ds,statusCode:0,errorCode:"",message:"failed to load provided folder id"}),i()({},A,{error:new Bt.a(f.j,s)})}return A},getBatchError:({failureMap:e})=>{const t=bs.updateFailureMap(e);return Object.keys(t).length?new Bt.a(f.g,t):null}},vs=s(18),Ps={getBlockPayload:function(e,{mailboxId:t,messageId:s,secure:a=!1,full:n=!0}){let r=`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/content/simplebody`;return n&&(r+="/full"),a&&(r+="/secure"),{id:e,uri:r,method:"GET",payloadType:"embedded"}},transformResponse:function(e,t){const s=e.response.result,a=s.message,n=s.simpleBody,r=Jt(a),i=r.attachments,o=r.headers,c=r.csid,d=r.id,l=r.inReplyTo,u=r.downloadAllUrl;return a.headers=o,a.inReplyTo=l,a.id=d,a.attachments=i,a.downloadAllUrl=u,{id:d,body:Object(vs.q)(n),message:a,metadata:{attachments:i,headers:o,csid:c,inReplyTo:l,downloadAllUrl:u}}}},Fs={getBlockPayload:(e,{mailboxId:t,messageId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}`,method:"GET"}),transformResponse:(e,t)=>Jt(e.response.result.message)};const ws="GetFolders",ks="GetAccounts",xs="GetSimpleBody",Us="GetMessage";var Gs={getBatchPayload:({messageId:e,mailboxId:t},{appName:s})=>({requests:[Fs.getBlockPayload(Us,{mailboxId:t,messageId:e}),Ps.getBlockPayload(xs,{mailboxId:t,messageId:e,full:!0}),Ot.getBlockPayload(ws,{mailboxId:t}),Ts.getBlockPayload(ks,{mailboxId:t})].concat(bs.getBatchPayload({mailboxId:t,attributes:s===I.t.MOBILE_APP?I.tc:I.Nb}).requests)}),transformResponses:({successMap:e},{appName:t})=>{const s=Ps.transformResponse(e[xs]),a=s.id,n=s.body,r=s.metadata,i=bs.transformResponses({successMap:e},{attributes:t===I.t.MOBILE_APP?I.tc:I.Nb}),o=Object.assign(Fs.transformResponse(e[Us]),{attachments:r.attachments});return{folders:Ot.transformResponse(e[ws]),accounts:Ts.transformResponse(e[ks]),message:o,messageBodiesMap:{[a]:n},messageMetadataMap:{[a]:r},mailboxAttributes:i}}};function js(e,{mailboxId:t,csid:s}){let a=encodeURIComponent(`csid:${s} folderType:DRAFT`);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${a+=`${$t.e}-sort${$t.c}date`}`,method:"GET"}}const Hs={GetFolders:"GetFolders",GetAccounts:"GetAccounts",GetSimpleBody:"GetSimpleBody",GetMessageByCsid:"GetMessageByCsid"};var Bs={getBatchPayload:function({csid:e,mailboxId:t},{appName:s}){const a=Object.assign({},I.Nb,I.P);return{requests:[Object.assign({},js(Hs.GetMessageByCsid,{mailboxId:t,csid:e}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[Ps.getBlockPayload(Hs.GetSimpleBody,{mailboxId:t,messageId:"$(messageId)",full:!0,secure:!1})]}),Ot.getBlockPayload(Hs.GetFolders,{mailboxId:t}),Ts.getBlockPayload(Hs.GetAccounts,{mailboxId:t})].concat(bs.getBatchPayload({mailboxId:t,attributes:s===I.t.MOBILE_APP?I.tc:a}).requests)}},transformResponses:function({successMap:e},{appName:t}){const s=Object.assign({},I.Nb,I.P),a={mailboxAttributes:bs.transformResponses({successMap:e},{attributes:t===I.t.MOBILE_APP?I.tc:s}),folders:Ot.transformResponse(e[Hs.GetFolders]),accounts:Ts.transformResponse(e[Hs.GetAccounts])};if(e[Hs.GetSimpleBody]){const t=Ps.transformResponse(e[Hs.GetSimpleBody]),s=t.id,n=t.body,r=t.message,i=t.metadata;Object.assign(a,{message:r,messageBodiesMap:{[s]:n},messageMetadataMap:{[s]:i}})}return a},getBatchError:function({successMap:e,failureMap:t}){const s=bs.updateFailureMap(t),a=new Bt.a("MailApiClient.LaunchCompose",s);if(s[Hs.GetMessageByCsid])return a;let n=0;const r=e[Hs.GetMessageByCsid];r&&(n=r.response.result.messages.length);if(s[Hs.GetSimpleBody]&&n>0)return a;if(s[Hs.GetFolders]||s[Hs.GetAccounts])return a;return null}};var Vs={getBlockPayload(e,{mailboxId:t,messageGroupId:s,isConversation:a,excludeFolderTypes:n=[]}){Object(E.a)(t,"mailboxId is a required field"),Object(E.a)(s,"messageGroupId is required");const r=encodeURIComponent(s);let i=a?`conversationId:(${r})`:`id:(${r})`;return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${i+=n.length?$t.e+encodeURIComponent(n.map(e=>`-folderType:(${e})`).join("")):""}`,method:"GET",payloadType:"embedded"}},transformResponse(e,t){const s=t.isConversation,a=e.response.result.messages.map(e=>Jt(e)).reverse();return{messageGroup:{id:s?a[0].conversationId:a[0].id,messages:a}}}};const Ws="GetFolders",qs="GetConversationMessageGroup",zs="GetAccounts",Ks="GetSimpleBody",Zs="GetMessage",Ys="GetMessageGroupList",Xs="OnEmpty",Qs="OnEmpty",$s="OnFailure";var Js={getBatchPayload:({isConversation:e,messageGroupId:t,folderId:s,count:r,offset:o,sortOrder:c,filter:d,excludeFolderTypes:l=[],secure:u=!1,bizMboxId:_,mailboxId:m},{appName:p})=>{const h=[],g=((e,t,s,r,o)=>r=>i()({},Ts.getBlockPayload(zs,{mailboxId:o}),{id:zs+r,filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[i()({},Ot.getBlockPayload(Ws,{mailboxId:o}),{filters:{iterator:`$..folders[?((@.id==${e} && ${e} in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && ${e} nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},id:Ws+r,requests:[i()({},(t?n:a).getBlockPayload(Ys,i()({mailboxId:o,folderId:"$(folderId)"},s)),{id:Ys+r})]})]}))(s,e,{sortOrder:c,filter:d,count:r,offset:o,excludeFolderTypes:l=gs()([...l,...$t.f])},0,m);return e?h.push(Object.assign({},Vs.getBlockPayload(qs,{mailboxId:m,messageGroupId:t,isConversation:e,excludeFolderTypes:l}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"},exportResponse:!0},suppressResponse:!1,requests:[Ps.getBlockPayload(Ks+"_$(id)",{mailboxId:m,messageId:"$(id)",full:!0,secure:u})]},{onEmpty:{id:Xs,suppressResponse:!1,applyFilterOn:`$(${qs})`,requests:[g(Qs)]},onFailure:g($s)})):(h.push(Object.assign({},Fs.getBlockPayload(Zs,{mailboxId:m,messageId:t}),{onFailure:g($s)})),h.push(Object.assign({},Ps.getBlockPayload(Ks+"_"+t,{mailboxId:m,messageId:t,full:!0,secure:u})))),{requests:[...h,Ot.getBlockPayload(Ws,{mailboxId:m}),Ts.getBlockPayload(zs,{mailboxId:m})].concat(bs.getBatchPayload({mailboxId:m,attributes:p===I.t.MOBILE_APP?I.tc:I.Nb}).requests)}},transformResponses:({successMap:e,failureMap:t},s)=>{const r=s.isConversation,o=s.messageGroupId,c=s.offset,d=s.count,l=bs.transformResponses({successMap:e},{attributes:s.appName===I.t.MOBILE_APP?I.tc:I.Nb}),u={folders:Ot.transformResponse(e[Ws]),accounts:Ts.transformResponse(e[zs]),mailboxAttributes:l},_=r?n:a,m=e[Ys+Qs]||e[Ys+$s];if(m){const e=c+d,s=m.response.result.query,a=Object($t.g)(s),n=_.transformResponse(m,e,a),r=n.messageGroups,o=n.hasMore;return i()({},u,{messageGroupList:r,hasMoreItems:o,folderId:a,error:new Bt.a(f.j,t)})}const p=r?(e=>Vs.transformResponse(e[qs],{isConversation:!0}).messageGroup)(e):((e,t)=>({id:t,messages:[Fs.transformResponse(e[Zs])]}))(e,o),h={},g={};return p.messages.forEach(t=>{const s=Ps.transformResponse(e[Ks+"_"+t.id]);h[t.id]=s.body,g[t.id]=s.metadata}),i()({},u,{messageGroups:[p],messageBodiesMap:h,messageMetadataMap:g})},getBatchError:({failureMap:e},{isConversation:t})=>{const s=bs.updateFailureMap(e);if(0===Object.keys(s).length)return null;const a=t?s[qs]:s[Zs];if(a&&a.response&&a.response.error){const e=a.response.error.code;if(["EC-4001","ET-5005","ET-5006"].indexOf(e)>=0)return Object(T.b)({logger:ns.a,apiName:a.id,statusCode:a.httpCode,errorCode:e,message:"failed to load provided message/conversation id"}),null}return new Bt.a(f.j,s)}},ea=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts`,method:"GET"}),ta=e=>{if(!e)return[];const t=e.response.result.alerts;let s=[];return Array.isArray(t)&&(s=t.map(e=>({id:e.id,accountId:e.accountId,type:e.type,state:e.state,data:e.data}))),s},sa=e=>{if(e){const t=e.response;ns.a.feature(I.r.MailAPIClient,{data:{apiName:e.id,errorCode:t&&t.error&&t.error.code,httpCode:e.httpCode}}).logFailure()}return null};const aa="UnseenCountReset",na="GetAccountAlerts";var ra={getBatchPayload:({accountId:e,mailboxId:t})=>({requests:[rs(aa,{mailboxId:t,accountId:e}),ea(na,{mailboxId:t})]}),transformResponses:({successMap:e})=>({accountAlerts:ta(e[na])}),getBatchError:({failureMap:e})=>{const t=e[aa],s=e[na];return t&&is(t),s&&sa(s),null}};const ia="GetConversationMessageGroup",oa="GetSimpleBody",ca="GetMessagesByGroup";var da={getBatchPayload:({messageGroupId:e,mailboxId:t,isConversation:s,secure:a,full:n,cardConversationIds:r})=>{const i=[];return i.push(Object.assign({},Vs.getBlockPayload(ia,{mailboxId:t,messageGroupId:e,isConversation:s}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"}},requests:[Ps.getBlockPayload(oa+"_$(id)",{mailboxId:t,messageId:"$(id)",full:n,secure:a})]})),r&&r.length>0&&i.push(Object.assign({},es(ca,{mailboxId:t,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:r}))),{requests:i}},transformResponses:({successMap:e},{isConversation:t})=>{const s={};let a;const n=Vs.transformResponse(e[ia],{isConversation:t}).messageGroup;return n.messages.forEach(t=>{const a=Ps.transformResponse(e[oa+"_"+t.id]);s[t.id]=a.body,Object.assign(t.headers,a.metadata.headers),t.attachments=a.message.attachments||[]}),Object.keys(e).forEach(t=>{if(-1!==t.indexOf(ca)){const s=ts(e[t]).messageGroups.filter(e=>{const t=V()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,a=s.decos.map(e=>e.id).filter(e=>"CPN"===e||"CRD"===e);return s&&a.length>=2}).map(e=>i()({},e,{id:e.messages[0].cardConversationId}));a={[I.Pb.COUPON_CARDS]:{[I.Qb.ALL_COUPON_CARDS]:{items:s}}}}}),{messageGroup:n,messageBodiesMap:s,response:a}}};const la="GetMessageCardsList";var ua={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:a,sortOrder:r,startCardDate:i,endCardDate:o,accountId:c,excludeFolderTypes:d})=>({requests:[n.getBlockPayload(la,{mailboxId:e,count:s,offset:a,filter:t,sortOrder:r,startCardDate:i,endCardDate:o,accountId:c,excludeFolderTypes:d,groupBy:"cardConversationId"})]}),transformResponses({successMap:e},t){const s=as(e[la]),a=s.hasMore;return{cardGroupList:s.messageGroups.filter(({messages:e})=>e.some(({decos:e=[]})=>e.some(({id:e})=>"EML"===e))),hasMoreItems:a}}};var _a={getBatchPayload:({mailboxId:e,cardConversationId:t=""})=>{let s;return""!==t&&(s=es("GetParentMessageByGroup",{mailboxId:e,offset:0,count:1,cardConversationIds:[t]})),{requests:[s]}},transformResponses:e=>{const t=e.successMap;return t.GetParentMessageByGroup?t.GetParentMessageByGroup.response.result.messages.filter(({decos:e=[]}={})=>e.some(({id:e=""})=>e===I.nc.EML)).map(e=>{let t=e.id,s=M()(e,["id"]);return{id:t,messages:[i()({id:t},s)]}}):[]}};const ma="GetConsolidatedCouponsList";var pa={getBatchPayload:({mailboxId:e,filter:t=[],count:s,offset:a=[],sortOrder:n=I.jd,startCardDate:r,endCardDate:i,accountId:o})=>{return{requests:t.map((t,c)=>es(`${ma}_${t}`,{mailboxId:e,count:s,offset:a[c],filter:t,sortOrder:n,startCardDate:r,endCardDate:i,accountId:o}))}},transformResponses:({successMap:e},t)=>{const s=t.offset,a=t.count,n=t.filter,r=[];return Object.keys(e).forEach(t=>{if(-1!==t.indexOf(ma)){const i=ts(e[t]).messageGroups,o=t.replace(`${ma}_`,""),c=n.indexOf(o),d=s[c],l=i.length===a,u=i.length<a?d+i.length:d+a,_=i.filter(({messages:[{headers:{subject:e="",from:[{email:t,name:s}={}]=[]}={}}={}]=[]}={})=>e&&t&&s);r.push({cardGroupList:_,hasMoreItems:l,filter:o,offset:l?u:""})}}),{messageGroupsResponses:r}}};const ha="GetReceiptsList";var ga={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:a,sortOrder:n=I.Od.CARD_DATE_DESC,accountId:r})=>{return{requests:es(ha,{mailboxId:e,count:s,offset:a,filter:t,sortOrder:n,accountId:r})}},transformResponses:({successMap:e},t)=>{const s=t.count,a=t.offset,n=ts(e[ha]),r=n.messageGroups.length<s?a+n.messageGroups.length:a+s,i=n.messageGroups,o=n.messageGroups.filter(({messages:[{headers:{from:[{email:e,name:t}={}]=[]}={}}={}]=[]}={})=>e&&t),c=i.length===s;return{cardGroupList:o,hasMoreItems:c,offset:c?r:""}}},Ea={getNakedRequestUrl:(e,t,s)=>`http://${e}/ws/v3/mailboxes/?appid=${t}&wssid=${s}`,getBlockPayload:e=>({id:e,uri:"/ws/v3/mailboxes",method:"GET",payloadType:"embedded"}),getMailboxFilters:e=>({select:{mailboxId:Object($t.i)(e).jsonPath,rootMailboxId:Object($t.i)(null).jsonPath}}),transformResponse:e=>e.response.result.mailboxes.map(Ia)};function Ia(e){return{id:e.id,email:e.email,isPrimary:e.isPrimary,isSelected:e.isSelected,type:e.type,state:e.state}}const Sa="GetMailboxes";var Ca={getBatchPayload:()=>{return{requests:[Ea.getBlockPayload(Sa)]}},transformResponses:({successMap:e})=>{return Ea.transformResponse(e[Sa])}};const fa="GetFolders";var Ta={getBatchPayload:({mailboxId:e})=>{return{requests:Ot.getBlockPayload(fa,{mailboxId:e})}},transformResponses:({successMap:e})=>({folders:Ot.transformResponse(e[fa])})};const Aa="GetMailboxes",ba="GetAccounts";var Oa={getBatchPayload:({bizMboxId:e})=>({requests:[Object.assign({},Ea.getBlockPayload(Aa),{filters:Ea.getMailboxFilters(e),requests:[i()({},Ts.getBlockPayload(ba,{mailboxId:"$(mailboxId)"}))]})]}),transformResponses:({successMap:e})=>{return{accounts:Ts.transformResponse(e[ba])}}};const Ra="GetMailboxes",Na="GetMessage";var Ma={getBatchPayload:({messageId:e,bizMboxId:t})=>({requests:[Object.assign({},Ea.getBlockPayload(Ra),{filters:Ea.getMailboxFilters(t),requests:[Fs.getBlockPayload(Na,{mailboxId:"$(mailboxId)",messageId:e})]})]}),transformResponses:({successMap:e})=>{return{message:Fs.transformResponse(e[Na])}}};const Da="GetMessagesByGroup";var ya={getBatchPayload:({mailboxId:e,cardConversationIds:t=[],offset:s=0,count:a=200})=>{let n;if(t.length>0){n=es(Da+"_0",{mailboxId:e,offset:s,count:a,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:t})}return{requests:[n]}},transformResponses:e=>{const t=e.successMap;let s=[];return Object.keys(t).forEach(e=>{-1!==e.indexOf("GetMessagesByGroup")&&(s=t[e].response.result.messages)}),{result:{extractedMessagesList:s}}}};const La="GetSimpleBody",va="GetMessageByCsid";var Pa={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[],full:n,secure:r})=>{const i=t.map((t,s)=>{return Ps.getBlockPayload(La+"_"+s,{mailboxId:e,messageId:t,full:n,secure:r})}),o=s.map((s,a)=>{return Ps.getBlockPayload(La+"_"+(a+t.length),{mailboxId:e,messageId:s,full:!0,secure:!1})}),c=a.map((a,n)=>{const r=La+"_"+(n+t.length+s.length);return Object.assign({},js(va+"_"+(n+t.length+s.length),{mailboxId:e,csid:a}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[Ps.getBlockPayload(r,{mailboxId:e,messageId:"$(messageId)",full:!0,secure:!1})]})});return{requests:i.concat(o,c)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[]})=>{const n=e.successMap,r={},i={},o=[],c=t.concat(s,a),d={},l=[];return c.forEach(e=>{d[e]=!1}),Object.keys(n).forEach(e=>{if(0===e.indexOf(La)){const t=Ps.transformResponse(n[e]);r[t.id]=t.body,i[t.id]=t.metadata,d[t.id]=!0,o.push({id:t.id,messages:[t.message]}),t.metadata.csid&&(d[t.metadata.csid]=!0)}}),c.forEach(e=>{d[e]||l.push(e)}),{result:{messageBodiesMap:r,messageMetadataMap:i,messageGroups:o},error:{messageIds:l}}},getBatchError:({failureMap:e},{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[]})=>Object.keys(e).length!==t.concat(s,a).length?null:new Bt.a("All requests in method `getBodies` failed",e)},Fa={getBatchPayload:({mailboxId:e,csid:t,full:s,secure:a})=>Pa.getBatchPayload({mailboxId:e,draftMessageCsids:[t],full:s,secure:a}),transformResponses:(e,{csid:t})=>{const s=Pa.transformResponses(e,{draftMessageCsids:[t]}).result;return{messageBodiesMap:s.messageBodiesMap,messageMetadataMap:s.messageMetadataMap,messageGroup:s.messageGroups[0]}},getBatchError:(e,{csid:t})=>{return Pa.transformResponses(e,{draftMessageCsids:[t]}).error.messageIds.length?new Bt.a("Request for csid failed",e.failureMap):null}};const wa="GetSimpleBody",ka="GetMessagesByGroup";var xa={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],cardConversationIds:a=[],full:n,secure:r})=>{const i=t.map((t,s)=>{return Ps.getBlockPayload(wa+"_"+s,{mailboxId:e,messageId:t,full:n,secure:r})}),o=s.map((s,a)=>{return Ps.getBlockPayload(wa+"_"+(a+t.length),{mailboxId:e,messageId:s,full:!0,secure:!1})}),c=[];if(a.length>0){const t=es(ka+"_0",{mailboxId:e,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:a});c.push(t)}return{requests:i.concat(o).concat(c)}},transformResponses:(e,{messageIds:t=[],draftMessageIds:s=[]})=>{const a=e.successMap,n={},r={},o=t.concat(s);let c=[];const d={},l=[];o.forEach(e=>{d[e]=!1}),Object.keys(a).forEach(e=>{if(-1!==e.indexOf("GetSimpleBody")){const t=Ps.transformResponse(a[e]);n[t.id]=t.body,r[t.id]=t.metadata,d[t.id]=!0}else if(-1!==e.indexOf("GetMessagesByGroup")){const t=ts(a[e]);c=t.messageGroups}});const u=c.filter(e=>{const t=V()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,a=s.decos.map(e=>e.id).filter(e=>"CPN"===e||"CRD"===e);return s&&a.length>=2}).map(e=>i()({},e,{id:e.messages[0].cardConversationId}));o.forEach(e=>{d[e]||l.push(e)});const _=c.filter(e=>{const t=V()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,a=s.decos.filter(({id:e=""})=>"POE"===e||"ORD"===e||"CRD"===e);return s&&a.length>=3}).map(e=>i()({},e,{id:e.messages[0].cardConversationId})),m=c.filter(e=>{const t=V()(e.messages,1)[0],s=void 0===t?{decos:[]}:t,a=s.decos.filter(({id:e=""})=>"ORD"===e||"CRD"===e);return s&&a.length>=2}).map(e=>i()({},e,{id:e.messages[0].cardConversationId}));return{result:{messageBodiesMap:n,messageMetadataMap:r,response:{[I.Pb.COUPON_CARDS]:{[I.Qb.ALL_COUPON_CARDS]:{items:u}},[I.Pb.REFUND_CARDS]:{[I.Qb.ALL_REFUND_CARDS]:{items:_}},[I.Pb.RECEIPT_CARDS]:{[I.Qb.ALL_RECEIPT_CARDS]:{items:m}}}},error:{messageIds:l}}},getBatchError:({failureMap:e},{messageIds:t=[],draftMessageIds:s=[],cardConversationIds:a=[]})=>Object.keys(e).length!==t.concat(s).concat(a).length?null:new Bt.a("All requests in method `getExtractedBodies` failed",e)},Ua=s(77),Ga=s(47);const ja={spam:"false",read:"true"};var Ha={getBlockPayload:(e,{mailboxId:t,csid:s,inReplyTo:a,subject:n,to:r,cc:i,bcc:o,from:c,replyTo:d,html:l,text:u,attachments:_=[],files:m=[],folderId:p})=>{const h={partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{csid:s,newMessage:!a,headers:{subject:n,from:c,replyTo:d||c,to:Wa(r),cc:Wa(i),bcc:Wa(o)},folder:{id:p},flags:ja,inReplyTo:a},simpleBody:{attachments:Va(_.filter(({disposition:e,type:t,contentId:s})=>!(!s&&e===I.w.Dispositions.INLINE&&t===I.w.Types.TEXT)))}}};return l?h.payload.simpleBody.html=l:h.payload.simpleBody.text=u,h.inReplyTo||delete h.inReplyTo,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages?uploadCount=${m.length}&totalAttachments=${_.length}`,method:"POST",payloadType:"multipart",payloadParts:[h].concat(Ba(m))}},transformResponse({response:e}){const t=Object(vs.q)(e.result.simpleBody),s=Jt(e.result.message);return s.attachments=Object(Ga.s)(s,s.attachments,!1),{message:s,simpleBody:m()(t,"attachments")}}};function Ba(e){return e.map(({mimeType:e,name:t})=>({contentType:e,partName:encodeURIComponent(t),payloadReference:`multipart://${encodeURIComponent(t)}`}))}function Va(e){return e.map(({contentId:e,filename:t,disposition:s,messageReference:a})=>{const n={disposition:s,contentId:e};return a?n.messageReference=a:n.multipartName=`multipart://${encodeURIComponent(t)}`,n})}function Wa(e){return(e=Object(Ua.makeArray)(e)).map(function(e){return"string"==typeof e.email&&(e.email=e.email.trim()),e}).filter(function(e){return Object(vs.n)(e.email)})}const qa="SaveMessage";var za={getBatchPayload:e=>({requests:[Object.assign(Ha.getBlockPayload(qa,e),{filters:{select:{cid:"$..message.conversationId"}}})]}),transformResponses:({successMap:e},t)=>{const s=Ha.transformResponse(e[qa],t);return{message:s.message,simpleBody:s.simpleBody}},getBatchError({successMap:e,failureMap:t}){const s=e[qa];if(s){if("ES-2001"===Object(b.a)(s,"response.error.code",null))return new Bt.a("MailApiClient.Save",Object.keys(e).reduce((t,s)=>{const a=e[s],n=a.httpCode,r=a.response.error,o=void 0===r?{}:r;return i()({},t,{[s]:{httpCode:n,response:{error:o}}})},{}),!1)}return Object.keys(t).length>0?new Bt.a("MailApiClient.Save",t):null}},Ka=(e,{mailboxId:t,messageId:s,csid:a,folderId:n})=>{return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/send`,method:"POST",payloadType:"embedded",payload:{csid:a,destinationFolder:{id:n}}}},Za=({response:e})=>e.result.message;const Ya="SaveMessage",Xa="SendMessage",Qa="GetSimpleBody",$a="UpdateMessages";var Ja={getBatchPayload:e=>{const t=e.mailboxId,s=e.sentFolderId,a=e.secure,n=e.inReplyTo,r=void 0===n?{}:n,i=e.messageId,o=e.csid,c=r.messageReference,d=(void 0===c?{}:c).id,l=r.replied,u=r.forwarded,_=i&&o,m=Ka(Xa,_?{mailboxId:t,messageId:i,csid:o,folderId:s}:{mailboxId:t,folderId:s,messageId:"$(messageId)",csid:"$(csid)"});return m.requests=[],(l||u)&&m.requests.push(Zt.getBlockPayload($a,{mailboxId:t,messageIds:[d],flags:{answered:!!l,forwarded:!!u},isAsync:!0})),_?{requests:[m]}:{requests:[Object.assign(Ha.getBlockPayload(Ya,e),{filters:{select:{messageId:"$..message.immutableid",csid:"$..message.csid",cid:"$..message.conversationId"}},requests:[Ps.getBlockPayload(Qa,{mailboxId:t,messageId:"$(messageId)",secure:a,full:!0}),m]})]}},transformResponses:({successMap:e},t={})=>{const s=e[Qa];if(!s)return{message:Za(e[Xa])};const a=Ps.transformResponse(s),n=a.body,r=a.message,i=e[Ya],o=i?Ha.transformResponse(i,t).message:r;if(e[Xa]){const s=Za(e[Xa],t);o.id=s.id}return{message:o,simpleBody:n}},getBatchError:({failureMap:e,successMap:t})=>{const s=t[Ya];if(!Object.keys(e).length&&Object.keys(t).length){if(s){if("ES-2001"===Object(b.a)(s,"response.error.code",null))return new Bt.a("MailApiClient.SaveAndSend",Object.keys(t).reduce((e,s)=>{const a=t[s],n=a.httpCode,r=a.response,o=(void 0===r?{}:r).error,c=void 0===o?{}:o;return i()({},e,{[s]:{httpCode:n,response:{error:c}}})},{}),!1)}return null}if(s){const t=Object(b.a)(s,"response.result.message",null);if(t&&"C"===t.spame)return null;if(t&&"N"===t.spame&&e[Xa])return new Bt.a("MailApiClient.SaveAndSend",e,!1,{spame:!0})}return new Bt.a("MailApiClient.SaveAndSend",e)}},en=(e,t)=>{const s=t.messageId,a=t.mailboxId,n=t.decos;if(Object(b.b)(n)||!s)throw new Error("POST Update Message decos requires a list of non empty messageId and deco attributes.");return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/messages/@.id==${s}`,method:"POST",payload:{message:{decos:n}}}};const tn="UpdateMessageDecos";var sn={getBatchPayload:({mailboxId:e,messageDecosPayloads:t=[]})=>({requests:t.map((t,s)=>{return en(tn+"_"+s,{mailboxId:e,messageId:t.messageId,decos:t.decos})})}),getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Bt.a("All requests in method `messages.updateDecos` failed.",t),transformResponses:()=>1};const an=["sendercompromised","answered","forwarded","notmymail","phished","spam","flagged","read"];class nn{constructor(){this.payload={message:{}}}flag(e,t){Object(E.a)(an.indexOf(e)>=0,"name must be a valid flag"),this.payload.message.flags||(this.payload.message.flags={}),this.payload.message.flags[e]=t}folder(e){this.payload.message.folder||(this.payload.message.folder={}),this.payload.message.folder.id=e}}const rn={UnifiedUpdateMessage:"UnifiedUpdateMessage",UnifiedDeleteMessage:"UnifiedDeleteMessage"},on=(e={})=>{const t=[];return Object.keys(e).forEach(s=>{e[s].batchId===rn.UnifiedDeleteMessage?t.unshift(s):t.push(s)}),t};const cn=({successMap:e,failureMap:t})=>{let s=!0;const a=Object.keys(e).length,n=Object(b.g)(t).reduce((e,t)=>t.id.indexOf(rn.UnifiedDeleteMessage)>=0?Vt.getBatchError({failureMap:{DeleteMessages:t}})?e+1:e:e+1,0),r=Object(b.g)(e).reduce((e,t)=>{const s=Object(b.a)(t,"response.result.task");return s&&e.push(s),e},[]);return r.length>0?s=I.rc.ASYNC:a<=0?s=I.rc.FAIL:a>0&&n>0?s=I.rc.PARTIAL:a>0&&0===n&&(s=I.rc.SUCCESS),{successType:s,tasks:r}};var dn={REQUEST_IDS:rn,getBatchPayload:e=>{const t=e.mailboxId,s=e.messageItemsToSync,a=e.isAsync,n={};for(const e of s){const t=e.messageId,s=e.folder,a=e.accountId,r=e.flags,i=e.permanentDelete,o=e.updateTypes,c=e.messageQuery,d=e.deleteDuplicates,l=i?{permanentDelete:!0}:new nn;if(i)Object(E.a)(o.indexOf(I.sc.DELETE)>=0||o.indexOf(I.sc.MOVE)>=0,"updateTypes DELETE or MOVE is required for permanentDelete");else for(const e of o)switch(e){case I.sc.READ:Object(E.a)(void 0!==r.read,`flags.read is required for operation ${e}`),l.flag("read",r.read);break;case I.sc.STAR:Object(E.a)(void 0!==r.flagged,`flags.flagged is required for operation ${e}`),l.flag("flagged",r.flagged);break;case I.sc.ANSWER:Object(E.a)(void 0!==r.answered,`flags.answered is required for operation ${e}`),l.flag("answered",r.answered);break;case I.sc.FORWARD:Object(E.a)(void 0!==r.forwarded,`flags.forwarded is required for operation ${e}`),l.flag("forwarded",r.forwarded);break;case I.sc.SPAM:case I.sc.HAM:Object(E.a)(s.id,`folder.id is required for operation ${e}`),l.flag("spam",!!r.spam),l.folder(s.id);break;case I.sc.MOVE:case I.sc.DELETE:Object(E.a)(s.id,`folder.id is required for operation ${e}`),l.folder(s.id)}const u=Object(vs.i)(l,a,c,d);n[u]?n[u].messages.push(t):n[u]={payload:i?void 0:l.payload,messages:[t],messageQuery:c,batchId:i?rn.UnifiedDeleteMessage:rn.UnifiedUpdateMessage,getBlockPayload:i?Vt.getBlockPayload:Zt.getBlockPayload,deleteDuplicates:d}}return{requests:function(e,t,s){return on(s).reduce((a,n,r)=>{const o=s[n];return[i()({},o.getBlockPayload(`${o.batchId}_${r}`,{mailboxId:e,messageIds:o.messageQuery?void 0:o.messages,query:o.messageQuery,payload:o.payload,isAsync:t,deleteDuplicates:o.deleteDuplicates}),a.length&&{requests:a})]},[])}(t,a,n)}},transformResponses:({successMap:e,failureMap:t})=>cn({successMap:e,failureMap:t}),getBatchError:({successMap:e,failureMap:t})=>{return cn({successMap:e,failureMap:t}).successType===I.rc.FAIL?new Bt.a("All requests in method `messages.update` failed.",t):null}};const ln={read:!1,spam:!1,ham:!0};var un=(e,t,{mailboxId:s,folderId:a})=>{const n="mimeMsg"+t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${s}/messages`,method:"POST",payloadType:"multipart",payloadParts:[{partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{newMessage:!0,folder:{id:a},flags:ln,headers:null},mimeBody:"multipart://"+n}}].concat({contentType:"application/octet-stream",partName:n,disposition:"form-data",payloadReference:"multipart://"+n})}};const _n="SaveRawMessage";var mn={getBatchPayload:e=>{return{requests:e.map((e,t)=>un(_n+"_"+t,t,e))}},transformResponses:({successMap:e,failureMap:t})=>({result:{successMap:e},error:{failureMap:t}})};const pn="GetFolders",hn="GetMessageGroupList";var gn={getBatchPayload({mailboxId:e,folderId:t,sortOrder:s,filter:r,count:i,conversationsMode:o}){const c=o?n:a,d={};return d.requests=[Ot.getBlockPayload(pn,{mailboxId:e}),c.getBlockPayload(hn,{mailboxId:e,folderId:t,sortOrder:s,filter:r,count:i,offset:0,excludeFolderTypes:$t.f})],d},transformResponses({successMap:e},{folderId:t,conversationsMode:s,count:r}){const i=s?n:a;return{folders:Ot.transformResponse(e[pn]),messageGroupList:i.transformResponse(e[hn],r,t).messageGroups}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Bt.a("`undo.list` failed.",e):null};const En={PAGE_SUCCESS:700,PAGE_CONVERTING:701,PAGE_INVALID:702,PAGE_FAILED:704,PAGE_READ_ERROR:705},In={0:"ON_DEMAND",1:"PRE_CONVERTED"},Sn={802:{message:"Missing App Id"},803:{message:"Missing Document Id"},804:{message:"Missing Document URL"},805:{message:"Missing Fetch Options"},806:{message:"Malformed Download URL"},807:{message:"Inaccessible Download URL"},808:{message:"Invalid Fetch Options"},809:{message:"Document Read Error"},810:{message:"Error Inserting In Queue"},811:{message:"Error Reading Info"},812:{message:"Error Processing Document"},813:{message:"Unsupported File Type"},814:{message:"Document still queued"},816:{message:"Document Password Protected Unviewable"},817:{message:"Missing Request for 1st Page"}},Cn={602:{message:"Document failed due to unknown reasons"},605:{message:"Conversion First page being Processed"},606:{message:"The document url is not accessible"},610:{message:"The document failed to be converted to HTML"},611:{message:"The document failed to convert to PDF"},612:{message:"All Resources are busy"},621:{message:"Conversion Queued"},625:{message:"Zipped file found"},640:{message:"PDF file is malformed"}};var fn=e=>({"docs-document-id":e}),Tn=(e,t,s,a)=>({id:e,uri:"/ws/docpreview/v2/fetch",method:"POST",payload:{start_page:t,end_page:s,retryCount:a},payloadType:"embedded"}),An=({response:e})=>{const t=e.info,s=e.pages,a=e.code;return 815===a?{data:{info:{documentError:{code:a,isRetryable:!1}}}}:t?{statusCode:e.statuscode,code:a,pages:On(s),numPages:t.num_pages,height:t.dimension.h,width:t.dimension.w,exceptions:t.exceptions,sheets:t.sheetInfo||{}}:{statusCode:e.statuscode,code:a,pages:On(s)}},bn=(e,t,s)=>{const a=Object.keys(e).length?e:t,n=a[s],r=n.response,i=void 0===r?{}:r,o=n.httpCode,c=i.code,d=void 0===c?0:c,l=i.statuscode,u=void 0===l?0:l,_=i.handler,m=void 0===_?0:_,p=i.pages;if(Sn.hasOwnProperty(d)||Cn.hasOwnProperty(u)){const e=function(e,t){switch(e){case 807:case 810:case 811:return!0;case 812:return 606===t||612===t;case 814:return 605===t||621===t;default:return!1}}(d,u),t=(Sn[d]||{}).message,n=(Cn[u]||{}).message,r=(t?`[Fetch Error] ${t}`:"")+(n?` [Conversion Error] ${n}`:"");return Object.assign(a[s],{info:{fetchCode:d,conversionCode:u,isRetryable:e,handler:In[m]}}),new Bt.a(r,a,e)}if(600===u&&Object.keys(p).some(e=>p[e].statuscode===En.PAGE_CONVERTING))return Object.assign(a[s],{info:{fetchCode:En.PAGE_CONVERTING,conversionCode:u,isRetryable:!1}}),new Bt.a("Page has not converted even though the document is said to be successfully converted",a,!1);if(t&&o>=400){const e="ET"===Object(b.a)(t[s],"response.error.code","").split("-")[0]||500===o;return Object.assign(a[s],{info:{isRetryable:e}}),new Bt.a("Returned with not-ok status code",t,e)}return null};function On(e){const t={};return Object.keys(e).forEach(s=>{const a=Number(s.slice(4)),n=e[s].statuscode;n!==En.PAGE_INVALID&&(t[a]=n===En.PAGE_SUCCESS?{content:e[s],state:I.bd.LOADED}:{content:null,state:I.bd.ERROR})}),t}const Rn="FetchDocument";var Nn={getHeaders:({documentId:e})=>fn(e),getBatchPayload:({startPage:e,endPage:t,retryCount:s})=>({requests:[Tn(Rn,e,t,s)]}),transformResponses:({successMap:e})=>An(e[Rn]),getBatchError:({successMap:e,failureMap:t})=>{const s=bn(e,t,Rn);if(s){const e=s.isRetryable,t=s.failureMap,a=s.message,n=t[Rn],r=n.response,i=n.info,o=n.info,c=o.fetchCode,d=void 0===c?"":c,l=o.conversionCode,u=void 0===l?"":l,_={};if(i&&(Object.assign(_,{documentError:i}),r&&(d||u))){Object.assign(r,{error:{code:`DOC-${d}`+(u?`_${u}`:"")}})}return new Bt.a(a,t,e,_)}return null}};const Mn="TaskStatus";var Dn={getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[Wt.getBlockPayload(Mn,{mailboxId:e,taskId:t})]}),transformResponses:({successMap:e})=>({task:Wt.transformResponse(e[Mn])})},yn={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"DELETE"}),transformResponse:()=>1};const Ln="TaskAbort";var vn={getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[yn.getBlockPayload(Ln,{mailboxId:e,taskId:t})]}),getBatchError:({failureMap:e})=>e[Ln]?new Bt.a(f.g,e):null,transformResponses:()=>{return{result:yn.transformResponse()}}},Pn={getBatchPayload:({mailboxId:e,primaryAccountDisabled:t=!1},{appName:s})=>{let a=s===I.t.MOBILE_APP?I.zc:I.Bd;return t&&(a=I.Ac),{requests:bs.getBatchPayload({mailboxId:e,attributes:a}).requests}},transformResponses:({successMap:e,primaryAccountDisabled:t=!1},{appName:s})=>{let a=s===I.t.MOBILE_APP?I.zc:I.Bd;return t&&(a=I.Ac),{mailboxAttributes:bs.transformResponses({successMap:e},{attributes:a}).responses}}};const Fn="vacationPreferences";var wn={getBatchPayload:e=>{const t=e.payload;return{requests:[Ut.getBlockPayload(Fn,{mailboxId:e.mailboxId,value:{enabled:t.enabled,startDate:t.startDate,endDate:t.endDate,messageBody:t.messageBody,domainSpecificResponse:{domains:t.domainSpecificResponse.domains,domainMessageBody:t.domainSpecificResponse.domainMessageBody}}})]}},transformResponses:()=>1};const kn="messageFilters";var xn={getBatchPayload:e=>{return{requests:[Ut.getBlockPayload(kn,{mailboxId:e.mailboxId,value:{filters:e.payload}})]}},transformResponses:()=>1};const Un="deliveryBlockedSenders";var Gn={getBatchPayload:e=>({requests:[Ut.getBlockPayload(Un,{mailboxId:e.mailboxId,value:{senders:e.senders}})]}),transformResponses:()=>1};const jn="GetMailboxes";var Hn={getBatchPayload:e=>{const t=e.mailboxId,s=e.rootMailboxId,a=Ut.getMultiAttributeChain({mailboxId:t||"$(mailboxId)",rootMailboxId:s||"$(rootMailboxId)",attributes:e.attributes.map(({id:e,value:t})=>{let s=`${e}`;return e===I.ic.DELIVERY_BLOCKED_SENDERS&&(s="senders"),{id:e,value:e===I.ic.DEA_BASE_NAME?t:{[s]:t}}})});if(t&&s)return a;const n=e.bizMboxId;return{requests:[Object.assign({},Ea.getBlockPayload(jn),{filters:Ea.getMailboxFilters(n),requests:a.requests})]}},transformResponses:()=>1};const Bn="GetMailboxes";var Vn={getBatchPayload:({mailboxId:e=null,rootMailboxId:t=null,attributes:s=I.tb,bizMboxId:a})=>{let n;return{requests:n=e&&t?bs.getBatchPayload({mailboxId:e,rootMailboxId:t,attributes:s}).requests:[Object.assign({},Ea.getBlockPayload(Bn),{filters:Ea.getMailboxFilters(a),requests:bs.getBatchPayload({mailboxId:"$(mailboxId)",rootMailboxId:"$(rootMailboxId)",attributes:s}).requests})]}},getBatchError:()=>null,transformResponses:({successMap:e},{attributes:t=I.tb})=>{const s=bs.transformResponses({successMap:e},{attributes:t}).responses;if(Bn in e){return{mailboxes:Ea.transformResponse(e[Bn]),mailboxAttributes:s}}return{mailboxAttributes:s}}},Wn={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts`,method:"POST",payload:{account:t.account}}),transformResponse:e=>e.response.result};const qn="AddAccount",zn="GetAccounts";var Kn={getBatchPayload:e=>{return{requests:[Object.assign({},Wn.getBlockPayload(qn,{account:e.account,mailboxId:e.mailboxId}),{requests:[Ts.getBlockPayload(zn,e)]})]}},transformResponses:({successMap:e})=>Ts.transformResponse(e[zn]),getBatchError:({failureMap:e})=>{const t=e[qn];return t&&409!==t.httpCode||e[zn]?new Bt.a(f.g,e):null}},Zn=(e,t)=>{const s=t.account,a={type:s.type};return Object.assign(a,t.data),{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${s.id}`,method:"POST",payload:{account:a}}};const Yn="GetAccount",Xn="UpdateAccount";var Qn={getBatchPayload:e=>{const t=e.mailboxId,s=e.account,a=e.data;return{requests:[i()({},Zn(Xn,{account:s,mailboxId:t,data:a}),{requests:[{id:Yn,uri:`/ws/v3/mailboxes/@.id==${t}/accounts/@.id==${s.id}`,method:"GET"}]})]}},transformResponses:({successMap:e})=>e[Yn].response.result},$n=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${t.accountId}`,method:"DELETE"});const Jn="deleteAccount";var er={getBatchPayload:e=>({requests:[$n(Jn,{accountId:e.accountId,mailboxId:e.mailboxId})]}),transformResponses:()=>1};const tr="SetDeaPrefix",sr="GetDeaSuggestion",ar="disposableAddressesPrefix";var nr={getBatchPayload({mailboxId:e,baseName:t,domain:s}){const a=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${ar}`;return{requests:[{id:tr,uri:a,method:"POST",payload:{id:ar,link:{type:"RELATIVE",href:a},value:{deaPrefix:t,deaDomain:s}},onFailure:{id:sr,uri:"/ws/comms/deasuggestion/mail_cascade_yahoo/xml/v1",method:"POST",payload:{value:{ValidateFieldsRequest:{RequestVersion:"$(RequestVersion)",RequestTimestamp:"$(RequestTimestamp)",RequestSignature:"$(RequestSignature)",RequestID:"$(RequestID)",AccountID:t,RemoteIPAddress:"$(RemoteIPAddress)",PartnerName:"$(PartnerName)"}}},suppressResponse:!1},suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=e[sr];return!(!t[tr]||!t[sr]&&Object(b.a)(s,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",!1))&&new Bt.a("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[sr];return t?{suggestions:Object(b.a)(t,"response.result.ValidateFieldsResponse.SuggestedIDList.SuggestedID",[])}:[]}};const rr="SetDeaPrefix",ir="GetDeaSuggestion",or="disposableAddressesPrefix";var cr={getBatchPayload({mailboxId:e,baseName:t,domain:s}){const a=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${or}`;return{requests:[{id:rr,uri:a,method:"POST",payload:{id:or,link:{type:"RELATIVE",href:a},value:{deaPrefix:t,deaDomain:s}},onFailure:{id:ir,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=e[ir];return!(!t[rr]||!t[ir]&&Object(b.a)(s,"response.response.idSuggestionsList",!1))&&new Bt.a("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[ir];return t?{suggestions:Object(b.a)(t,"response.response.idSuggestionsList",[])}:[]}},dr={getBlockPayload(e,t){const s=t.account;return{id:e,uri:s.link.href,method:"POST",payload:{account:{type:s.type,resendVerification:!0}}}},transformResponse:e=>e.response.result};const lr="ResendConfirmEmail";var ur={getBatchPayload:e=>{return{requests:[dr.getBlockPayload(lr,{account:e.account})]}},transformResponses:({successMap:e})=>e[lr].response.result};const _r="AddAccount",mr="IdSuggestions";var pr={getBatchPayload({mailboxId:e,email:t}){const s=`/ws/v3/mailboxes/@.id==${e}/accounts/`,a=-1===t.indexOf("@")?t+"@yahoo.com":t;return{requests:[{id:_r,uri:s,method:"POST",payload:{account:{email:a,type:"ALIAS",description:"Extra email address account"}},onFailure:{id:mr,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError:({failureMap:e})=>{return e[_r]&&e[mr]?new Bt.a("All batch requests failed",e):null},transformResponses({successMap:e}){const t=e[_r],s=e[mr];let a,n;return!t&&s&&s.response&&s.response.response?a=s.response.response.idSuggestionsList:t&&t.response&&t.response.result&&(n=t.response.result),{suggestions:a,newAccount:n}}};const hr="UnseenCountReset";var gr={getBatchPayload:({mailboxId:e,accountId:t})=>({requests:[rs(hr,{mailboxId:e,accountId:t})]}),getBatchError:({failureMap:e})=>{const t=e[hr];return t?is(t):null},transformResponses:()=>1};const Er="GetAccountAlerts";var Ir={getBatchPayload:({mailboxId:e})=>({requests:[ea(Er,{mailboxId:e})]}),transformResponses:({successMap:e})=>{let t=[];return e[Er]&&(t=ta(e[Er])),t},getBatchError:({failureMap:e})=>{const t=e[Er];return t?sa(t):null}},Sr=(e,t)=>{return{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts/@.id==${t.alertId}`,method:"POST",payload:{alert:{state:5e3}}}};const Cr="GetAccountAlerts",fr="UpdateAccountAlerts";var Tr={getBatchPayload:({mailboxId:e,alertId:t})=>({requests:[Object.assign({},Sr(fr,{mailboxId:e,alertId:t}),{requests:[ea(Cr,{mailboxId:e})]})]}),transformResponses:({successMap:e})=>e[Cr]?{accountAlerts:ta(e[Cr])}:{accountAlerts:[]}};const Ar=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches`,method:"GET",payloadType:"embedded"}),br=e=>e.response.result.savedSearches,Or="GetSavedSearches";var Rr={getBatchPayload:({mailboxId:e})=>{return{requests:[Ar(Or,{mailboxId:e})]}},transformResponses:({successMap:e})=>({savedSearches:br(e[Or])})},Nr=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches/@.id==${t.savedSearchId}`,method:"DELETE"});const Mr="DeleteSavedSearches";var Dr={getBatchPayload:({mailboxId:e,savedSearchId:t})=>{return{requests:[Nr(Mr,{mailboxId:e,savedSearchId:t})]}},transformResponses:()=>1},yr=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/savedsearches`,method:"PUT",payloadType:"embedded",payload:{savedSearch:{types:[I.od.USER],name:t.name,decorations:t.decorations,priority:t.priority,query:t.query}}}),Lr=e=>e.response.result;const vr="CreateSavedSearches";var Pr={getBatchPayload:({mailboxId:e,name:t,decorations:s,priority:a,query:n})=>{return{requests:[yr(vr,{mailboxId:e,name:t,decorations:s,priority:a,query:n})]}},transformResponses:({successMap:e})=>({savedSearches:Lr(e[vr])})},Fr=(e,{mailboxId:t,destinationFolderId:s,flags:a,headers:n,decos:r,schemaOrg:i,simpleBody:o,actions:c})=>{const d={id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages`,method:"POST",payloadType:"embedded",payload:{message:{}}};return d.payload.message.newMessage=!0,s&&(d.payload.message.folder={},d.payload.message.folder.id=s),a&&(d.payload.message.flags=a),n&&(d.payload.message.headers=n),r&&(d.payload.message.decos=r),i&&(d.payload.message.schemaOrg=i),o&&(d.payload.simpleBody=o),c&&(d.payload.actions=c),d};const wr="CreateMessage",kr="UpdateMessages",xr="GetMessagesByGroup";var Ur={getBatchPayload:({mailboxId:e,messageId:t,destinationFolderId:s,headers:a=[],decos:n=[],schemaOrg:r={}})=>{return n.some(e=>e&&e.id===I.nc.CRD)||n.push({id:I.nc.CRD,type:I.ib.NORMAL}),{requests:[i()({},Fr(wr,{mailboxId:e,destinationFolderId:s,flags:{read:!0,spam:!1},headers:a,decos:n,schemaOrg:r,simpleBody:{text:""},actions:{responseMessage:!0,responseMessageV2:!1,applyAntispam:!1,generateCardConversationId:!0}}),{filters:{iterator:"$..result",select:{cardConversationId:"$..message.cardConversationId"}},suppressResponse:!0,requests:[i()({},Zt.getBlockPayload(kr,{mailboxId:e,messageIds:[t],cardConversationId:"$(cardConversationId)"}),{suppressResponse:!0,requests:[es(xr,{mailboxId:e,offset:0,count:50,cardConversationIds:["$(cardConversationId)"],encodeCardConversationId:!1})]})]})]}},transformResponses:({successMap:e})=>{const t=ts(e[xr]).messageGroups;return{cardGroupList:t.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===I.nc.CRD))).map(e=>i()({},e,{id:e.messages[0].cardConversationId})),parentMessagesMap:t.filter(e=>e.messages.some(e=>e.decos&&e.decos.some(e=>e&&e.id===I.nc.EML))).reduce((e,t)=>i()({},e,{[t.messages[0].id]:i()({},t.messages[0])}),{})}}};const Gr="https://ws.mobile.mail.yahoo.com/autoReply/batchTrigger/";class jr{constructor({httpRetry:e}){this.httpRetry=e}getReplyScoresForMessages({nudgeToReplySnippetList:e=[]}){const t={snippetList:e},s=new L.b("POST",Gr,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!1,s.send(t).then(e=>e.body)}getReplySuggestionsForMessage({snippet:e=""}){const t={message:e,top_k:3,triggering_threshold:.98},s=new L.b("POST","https://dev-ws.mobile.mail.yahoo.com/autoReply",{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!1,s.send(t).then(e=>e.body)}request(e,t){return this[e](e,t)}}var Hr=class{request(){return Promise.resolve()}};const Br=I.xe+"/smart_reply_api";const Vr="https://ncp-gw-mail.media.yahoo.com/api/v1/gql/stream_view?namespace=mail&id=breakingnews&version=v1",Wr=["high","medium"],qr=3e3;var zr=s(147),Kr=s.n(zr);const Zr=(e,t)=>{const s=Object(b.a)(e,"data.breakingnews.stream",[]).find(e=>{const s=Object(b.a)(e,"editorialContent.severity","");return t||Wr.indexOf(s)>-1});return s?{id:s.id||"",title:Kr()(Object(b.a)(s,"editorialContent.title","")),clickUrl:Kr()(Object(b.a)(s,"editorialContent.linkUrl","")),severity:Kr()(Object(b.a)(s,"editorialContent.severity",""))}:{}};const Yr=e=>{const t=Object(b.a)(e,"data.destination_url","https://www.yahoo.com/?ncid=other_mailntkcue_vsrmqv1pcd0"),s=Object(b.a)(e,"data.ntk.stream",[]);let a=Object(b.a)(s[0],"editorialContent.thumbnail.resolutions",[]);a.length||(a=Object(b.a)(s[0],"editorialContent.content.thumbnail.resolutions",[]));const n=a.find(e=>e.tag===Xr),r=Object(b.a)(n,"url",""),i=[];return s.forEach(e=>{const t=e.editorialContent,s=void 0===t?{}:t,a=s.id,n=s.title;i.push({articleId:void 0===a?"":a,articleTitle:(void 0===n?"":n).trim()})}),{homepageUrl:t,coverImage:r,articles:i}},Xr="221x166",Qr="https://mail-graviton-home-gateway.media.yahoo.com/api/v1/poptart/ntk",$r=5e3;var Jr={apiClientConstructors:{mailAPIClient:d.a,astraClient:class extends g.a{constructor({appId:e=I.Ae,astraHost:t,cookie:s,guidHash:a,headers:n,httpRetry:r,timezone:i={},config:o={}}){super({loggerName:I.r.AstraClient}),this._request=new ut({appId:e,astraHost:t,cookie:s,headers:n,httpRetry:r,config:o}),this.appId=e,this.config=o,this.timezone=i.name,a&&(this.ymreqidGenerator=new R.a(a,I.ze,I.id))}getDefaultUrlParams(){return{appid:this.appId,timezone:this.timezone,config:this.config,ymreqid:this.ymreqidGenerator.generate()}}getRetailers(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.retailersApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}getAffiliateCoupons(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.affiliateCouponsApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}getHalloweenBanner(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.fetchHalloweenBannerApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}getGroceryCategories(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.retailersCategoryApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}linkRetailer(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.linkRetailerApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}unlinkRetailer(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.unlinkRetailerApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(e=>{throw e=this.handleCommonError(e)})}getOffers(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.retailerOffersApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(e=>{throw e=this.handleCommonError(e)})}getActivatedOffers(e,t){const s=this.getDefaultUrlParams(),a={apiName:e,ymreqid:s.ymreqid},n=this._request.retailerActivatedOffersApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}activateOffer(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.activateOfferApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}getICUserProfile(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.userProfileApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}getCategoryFollowingList(e){const t=this.getDefaultUrlParams(),s={apiName:e},a=this._request.categoryFollowingListApi(Object.assign(t));return this.logRequest(a,s),a.catch(t=>{throw t=this.handleCommonError(t,e)})}requestFirstCategoryFollow(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.firstCategoryFollowApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestCategoryFollow(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.categoryFollowApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestCategoryUnfollow(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.categoryUnfollowApi(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}request(e,t){return this[e](e,t)}},athenaClient:St,bootcampClient:de,udbClient:pe,geminiAPIClient:Ce,autoSuggestClient:Ae,credstoreClient:class extends g.a{constructor({appId:e=I.Ae,cookie:t,guid:s,crumb:a,wssid:n,guidHash:r,protocol:i,endpoints:o}={}){Object(E.a)(o.CREDSTORE_HOST,"CREDSTORE_HOST is missing in endpoints"),super({loggerName:I.r.CredstoreClient,crumb:a,wssid:n,endpoints:o}),this.guid=s,this.cookie=t,this.appId=e,this.credstoreHost=i?i+this.endpoints.CREDSTORE_HOST:this.endpoints.CREDSTORE_HOST,this.ymreqidGenerator=new R.a(r,I.ze,I.id)}getRequestId(){return this.ymreqidGenerator.generate()}_isEmptySuccessResponse(e){return!(!e||!e.data)&&200===e.data.statusCode}transport(e,t){t||(t=L.a.GET);const s=new L.b(t,e);return s.withCredentials=!0,s}unlink({provider:e,spid:t}={}){Object(E.a)(t,"`spid` is a required option");const s=this.getRequestId(),a={apiName:"unlinkSocialAccount",provider:e,ymreqid:s},n=this.transport(`${this.endpoints.CREDSTORE_HOST}/progrss/v1/credstore/user/${this.guid}/credential/${t}?ymreqid=${s}&appId=${this.appId}`,L.a.DELETE).send().catch(e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e});return this.logRequest(n,a),n}removeOAuthToken({domain:e,email:t}={}){Object(E.a)(e,"`domain` is a required option"),Object(E.a)(t,"`email` is a required option");const s=this.getRequestId(),a=h.a.stringify({property:"comms",domain:e,email:t,ymreqid:s,appId:this.appId}),n={apiName:"removeOAuthToken",domain:e,email:t,ymreqid:s},r=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/${this.guid}/credential/spid?${a}`,L.a.DELETE).send().catch(e=>{if(this._isEmptySuccessResponse(e))return e.data.responseText;throw e});return this.logRequest(r,n),r}contextualizeRedirectUrl(e,t){const s=h.a.stringify({isCorp:t?"1":null,crumb:this.crumb});return-1!==e.indexOf("?")?`${e}&${s}`:`${e}?${s}`}getAuthorizationURL({provider:e,email:t,redirectUrl:s,isCorpUser:a=!1}={}){Object(E.a)(e,"`provider` is a required option"),Object(E.a)(t,"`email` is a required option"),Object(E.a)(s,"`redirectUrl` is a required option");const n=this.getRequestId(),r=I.Gb[e],i=r.oauthDomain,o=r.scope,c=h.a.stringify({property:"comms",appId:this.appId,wssid:this.wssid,domain:i,email:t,ymreqid:n}),d={apiName:"getAuthorizationURL",domain:i,email:t,scope:o,provider:e,ymreqid:n},l=this.contextualizeRedirectUrl(s,a),u=`.done=${encodeURIComponent(l)}`+(o?`&${o}`:""),_=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/${this.guid}/service/spid/init?${c}`,L.a.POST);this.cookie&&_.setHeader("cookie",this.cookie);const m=_.setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send(u).then(e=>e.body.results);return this.logRequest(m,d),m}link({spid:e,provider:t,redirectUrl:s,isCorpUser:a=!1,scope:n}={}){Object(E.a)(e,"`spid` is a required option"),Object(E.a)(s,"`redirectUrl` is a required option");const r=this.getRequestId(),i={apiName:"linkSocialAccount",provider:t,scope:n,ymreqid:r},o=this.contextualizeRedirectUrl(s,a),c=`.done=${encodeURIComponent(o)}`+(n?`&scope=${encodeURIComponent(n)}`:"")+`&ymreqid=${r}`+`&appId=${this.appId}`,d=this.transport(`${this.credstoreHost}/progrss/v1/credstore/user/me/service/${e}/init`,L.a.POST).setHeader("Content-Type","text/plain").setHeader("Accept","application/json").send(c).then(e=>e.body.results);return this.logRequest(d,i),d}},heartbeatAPIClient:Me,yqlClient:class{constructor({locale:e="en-US"}={}){this.locale=e}request(e,t){Object(E.a)("cities"===e,`Unknown apiName ${e}`);const s=`${De}/${e}`,a=ve.feature("yql_client_call",{apiName:e}),n=new L.b("GET",s).send(t);return n.then(a.logSuccessAndLatency,a.logFailure),n.then(e=>JSON.parse(e.text))}},linkEnhancerClient:class extends g.a{constructor({crumb:e}){super({loggerName:I.r.LinkEnhancerClient,crumb:e})}get(e){const t={apiName:"lucy",crumb:this.crumb},s=`${Pe}?crumb=${this.crumb}&url=${encodeURIComponent(e)}`,a=new L.b(L.a.GET,s,{timeout:Fe});a.setHeader("Accept","application/json");const n=a.send();return this.logRequest(n,t),n}},calendarClient:class{constructor(e){this.mailWssid=e.wssid,this.calendarWssid=e.calendarWssid,this.isYCorp="ycorp"===e.partner}getInviteInfo(e,t=0){const s=e.downloadUrl,a=e.currentOffset,n=`${$e}?inviteUp&crumb=${encodeURIComponent(this.mailWssid)}&url=${encodeURIComponent(s)}&offset=${a}&fullAttendeeList=true`+(this.isYCorp?"&parseIcsOnly=true&supportPublish=true":""),r=new L.b(L.a.GET,n),i=Qe.feature("calendar_get_invite_call",{crumb:this.mailWssid,params:e});r.setHeader("Content-Type","application/json");const o=r.send();return o.then(i.logSuccessAndLatency,i.logFailure),o.then(this._handleInviteResponse(e,t+1))}_handleInviteResponse(e,t){return s=>{const a=s.body;if(!a)return Promise.reject({error:"Empty response"});if("Invalid Crumb"===a.error){if(t<=Je){this.mailWssid=a.crumb;try{return this.getInviteInfo(e,t)}catch(e){return Promise.reject({error:"Bad response",data:e})}}return Promise.reject(a)}return!a.event||null!==a.event.startTime&&null!==a.event.endTime?(a.wssid&&(this.calendarWssid=a.wssid),Ye(a)):Promise.reject(new Error("Invalid data"))}}sendReply(e,t){const s=Date.now(),a=`${$e}/v3/users/calendar/rsvp/${encodeURIComponent(e)}/?format=json&notify=true&wssid=${this.calendarWssid}&rand=${s}&prog=aeon`,n=new L.b(L.a.POST,a),r=Qe.feature("calendar_invite_reply_call",{wssid:this.calendarWssid,uid:e,data:t});n.setHeader("Content-Type","application/json");const i=n.send({rsvp:t});return i.then(r.logSuccessAndLatency,r.logFailure),i.then(e=>e.body).catch(e=>201===e.statusCode?e.data.body:Promise.reject(e))}},locationAutoSuggestClient:st,stormBornClient:class extends g.a{constructor({appId:e=I.Ae,timezone:t={}}){super({loggerName:I.r.StormBornClient}),this._request=new jr({appId:e}),this.appId=e,this.timezone=t.name}getDefaultUrlParams(){return{appid:this.appId,timezone:this.timezone,wssid:this.wssid}}requestReplyScoresForMessages(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.getReplyScoresForMessages(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}requestReplySuggestionsForMessage(e,t){const s=this.getDefaultUrlParams(),a={apiName:e},n=this._request.getReplySuggestionsForMessage(Object.assign(s,t));return this.logRequest(n,a),n.catch(t=>{throw t=this.handleCommonError(t,e)})}request(e,t){return this[e](e,t)}},smartReplyClient:class extends g.a{constructor({loggerParams:e,crumb:t}){super({loggerName:I.r.SmartReplyClient,loggerParams:e,crumb:t})}getReplySuggestions(e){const t=new L.b(L.a.GET,Br+"/getReplySuggestions").send({snippet:e.snippet,crumb:this.crumb});return this.logRequest(t,{snippet:e.snippet,apiName:"smartReply"}),t}},subscriptionAPIClient:class extends g.a{constructor(e){let t=e.loggerParams,s=e.crumb,a=e.isOnline,n=e.appId,r=e.wssid,o=e.guidHash,c=M()(e,["loggerParams","crumb","isOnline","appId","wssid","guidHash"]);super(i()({loggerName:I.r.SubscriptionAPIClient,loggerParams:t,crumb:s,isOnline:a,wssid:r,appId:n,guidHash:o},c)),this.appid=n,this.wssid=r,this.ymreqidGenerator=new R.a(o,I.ze,I.id)}subscribe(e,t){const s=this.crumb;return new L.b("GET",nt+"/subscribe").send({provider:e,options:t,crumb:s})}unsubscribeByEmail({messageId:e,accountId:t,mailboxId:s}){const a=this.wssid,n=this.appid,r=this.ymreqidGenerator.generate(),i=Object(p.stringify)({acctid:t,mboxid:s,wssid:a,appid:n,ymreqid:r}),o=new L.b("POST",`${at.d}/email/unsubscribe/${e}?${i}`);o.setHeader("Accept","application/json"),o.withCredentials=!0;const c=o.send().then(({body:e={}})=>{if("failed"===e.status)throw new C.a("ApiError",e.message,{errorCode:e.code});return e});return this.logRequest(c,{apiName:"unsubscribeByEmail",appId:n,ymreqid:r}),c}unsubscribeByBrand({subscriptions:e,accountId:t,mailboxId:s}){const a=this.wssid,n=this.appid,r=this.ymreqidGenerator.generate(),i=Object(p.stringify)({acctid:t,mboxid:s,wssid:a,appid:n,ymreqid:r}),o=new L.b("POST",`${at.d}/email/unsubscribe?${i}`);o.setHeader("Accept","application/json"),o.withCredentials=!0;const c=o.send({subscriptions:e}).then(({body:e={}})=>{if("failed"===e.status)throw new C.a("ApiError",e.message,{errorCode:e.code});return e});return this.logRequest(c,{apiName:"unsubscribeByBrand",appId:n,ymreqid:r}),c}getSubscriptions({mailboxId:e,accountId:t,email:s,sort:a}){const n=this.wssid,r=this.appid,i=this.ymreqidGenerator.generate(),o=Object(p.stringify)({acctid:t,mboxid:e,wssid:n,appid:r,ymreqid:i,email:s,sort:a}),c=new L.b("GET",`${at.d}/email/brand?${o}`);c.setHeader("Accept","application/json"),c.withCredentials=!0;const d=c.send().then(({body:e={}})=>{if("failed"===e.status)throw new C.a("ApiError",e.message,{errorCode:e.code});return e});return this.logRequest(d,{apiName:"subscriptions",appId:r,ymreqid:i}),d}},relatedSearchesAPIClient:class extends g.a{constructor({appId:e=I.Ae,loggerParams:t,crumb:s,isOnline:a,locale:n,environment:r,region:i}){super({loggerName:I.r.RelatedSearchesAPIClient,loggerParams:t,crumb:s,isOnline:a}),this.appid=e,this.locale=n,this.region=i,this.environment=r}request(){const e={apiName:"relatedSearches",appId:this.appId,locale:this.locale,region:this.region,environment:this.environment},t=new L.b(L.a.GET,rt);t.setHeader("Accept","application/json");const s=t.send();return this.logRequest(s,e),s}},videoAPIClient:class{constructor(e){this.lang=e.locale,this.region=e.region}request(e){const t={region:this.region,lang:this.lang,dev_type:"desktop",site:"mail",sort_by:"recent",channels:e.channel_alias,type:e.type,image_sizes:"175x219"},s=new L.b(L.a.GET,ft+"/getVideos");s.setHeader("Accept","application/json");const a=Ct.feature("video_api_client"),n=s.send(t);return n.then(a.logSuccessAndLatency,a.logFailure),n}},membershipRewardsClient:class extends g.a{constructor({appId:e=I.Ae,loggerParams:t,crumb:s,isOnline:a,locale:n,environment:r,region:i,guidHash:o}){super({loggerName:I.r.MembershipRewardsClient,loggerParams:t,crumb:s,isOnline:a}),this.crumb=s,this.appid=e,this.locale=n,this.region=i,this.environment=r,o&&(this.ymreqidGenerator=new R.a(o,I.ze,I.id))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),a={apiName:e,appId:this.appId,locale:this.locale,region:this.region,environment:this.environment};t=i()({},t,{crumb:this.crumb,ymreqid:s});const n=new L.b(L.a.GET,Tt+"/"+e);n.setHeader("Accept","application/json");const r=n.send(t);return this.logRequest(r,a),r}},breakingNewsClient:class extends g.a{constructor({loggerParams:e,crumb:t,isOnline:s}){super({loggerName:I.r.BreakingNewsClient,loggerParams:e,crumb:t,isOnline:s})}request({testParam:e}){const t=new L.b(L.a.GET,Vr+`${e?"&subsite=test":""}`,{timeout:qr});t.setHeader("Accept","application/json");const s=t.send();return this.logRequest(s,{apiName:"breakingNews"}),s.then(t=>{if(!t.body)throw new Error("BreakingNewsClient.EmptyResponseBody");return Zr(t.body,e)}).catch(e=>{throw e=this.handleCommonError(e)})}},needToKnowNewsClient:class extends g.a{constructor({buckets:e}){super({loggerName:I.r.NeedToKnowNewsClient}),this.buckets=e||[]}requestNeedToKnowNews(e){const t=`${Qr}?${h.a.stringify({appId:"mail",ntkCount:3,ntkImageTags:Xr,subsite:"bucket1"})}`,s=new L.b(L.a.GET,t,{timeout:$r}),a={apiName:e};s.setHeader("Accept","application/json"),s.withCredentials=!0;const n=s.send();return this.logRequest(n,a),n.then(e=>{if(!e.body)throw new Error("NeedToKnowNewsClient.EmptyResponseBody");return Yr(e.body)}).catch(e=>{throw e=this.handleCommonError(e)})}request(e,t){return this[e](e,t)}},darlaAdClient:Hr},batchMethods:{"folders.get":Nt,"folders.delete":yt,"folders.create":Ft,"folders.rename":Ht,"folderList.delete":Kt,"folderList.update":Qt,"folderChange.getList":fs,"launch.skeleton":Ns,"launch.folder":Ls,"launch.message":Gs,"launch.compose":Bs,"launch.messageGroup":Js,"mailbox.getAttributes":bs,"postLaunch.getComposeAttributes":bs,"postLaunch.postSync":ra,"messageGroups.get":da,"messageGroups.getFallback":da,"messageGroups.getList":Is,"messageCards.getList":ua,"couponCards.getParentMessage":_a,"consolidatedCoupons.getList":pa,"refundCards.getList":ga,"mailbox.get":Ca,"mailbox.sync":Ta,"accounts.get":Oa,"mrdMessages.get":Ma,"messages.getExtractions":ya,"messages.getCompose":Fa,"messages.getBodies":Pa,"messages.getBodiesFull":Pa,"messages.getExtractedBodies":xa,"messages.getExtractedBodiesFull":xa,"messages.prefetchGetBodies":Pa,"messages.prefetchGetBodiesFull":Pa,"messages.prefetchGetExtractedBodies":xa,"messages.prefetchGetExtractedBodiesFull":xa,"messages.getBodiesFallback":Pa,"messages.getBodiesFullFallback":Pa,"messages.getExtractedBodiesFallback":xa,"messages.getExtractedBodiesFullFallback":xa,"messages.prefetchGetBodiesFallback":Pa,"messages.prefetchGetBodiesFullFallback":Pa,"messages.prefetchGetExtractedBodieFallback":xa,"messages.prefetchGetExtractedBodiesFullFallback":xa,"messages.saveV3":za,"messages.autoSaveV3":za,"sponsoredMessages.save":za,"messages.saveAndSend":Ja,"messages.saveWithAttachment":za,"messages.saveAndSendWithAttachment":Ja,"messages.send":Ja,"messages.updateDecos":sn,"messages.UnifiedUpdate":dn,"messages.saveRawMessage":mn,"undo.list":gn,"document.fetch":Nn,"task.status":Dn,"task.abort":vn,"settings.get":Pn,"settings.saveVacationPreferences":wn,"settings.saveMessageFilters":xn,"settings.saveBlockedSenders":Gn,"settings.saveMailClientVersionAttributes":Hn,"settings.saveWebMailboxAttributes":Hn,"settings.importExistingSettings":Hn,"settings.migrateUDBSettings":Hn,"settings.setUDBMigrationComplete":Hn,"landshark.updateInterstitial":Hn,"settings.getFeatureAttributes":Vn,"settings.addAccount":Kn,"settings.updateAccount":Qn,"settings.deleteAccount":er,"settings.setBaseName":nr,"settings.setBaseNameJWS":cr,"settings.resendConfirmEmail":ur,"settings.createAlias":pr,"unseenCount.reset":gr,"account.getAlerts":Ir,"account.updateAlerts":Tr,"savedSearches.get":Rr,"savedSearches.delete":Dr,"savedSearches.create":Pr,"cards.create":Ur}};const ei=[];[{app:I.t.MAIL_APP,name:I.t.MAIL_APP,isBasicApp:!1,ssrUnsupportedRoutes:[I.gd.SEARCH,I.gd.SPONSORED_MESSAGE,I.gd.SETTINGS,I.gd.LIST],paths:{[I.gd.BASE]:"/",[I.gd.LIST]:"/list/:serializedListId",[I.gd.FOLDER]:"/folders/:fid",[I.gd.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[I.gd.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[I.gd.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[I.gd.NEW_DRAFT]:"/compose/:csid?",[I.gd.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[I.gd.SEARCH]:"/search/:query",[I.gd.SETTINGS]:"/settings/:settingsGroupId/:accountId?/:openReauth?",[I.gd.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[I.gd.TUTORIAL]:"/tutorial"},actionCreators:{},cssBundles:["mail_app"],jsBundles:["mail_app_vendor","mail_app","mail_app_es6_vendor","mail_app_es6"],ssrBundles:["mail_app"],container:{id:"mail-app-container"}},{app:I.t.MOBILE_APP,name:I.t.MOBILE_APP,appRootPath:"/m",isBasicApp:!1,ssrUnsupportedRoutes:[I.gd.SEARCH,I.gd.SPONSORED_MESSAGE],paths:{[I.gd.BASE]:"/",[I.gd.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId",[I.gd.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[I.gd.FOLDER]:"/folders/:fid",[I.gd.EDIT_FOLDER]:"/folders/:fid/edit",[I.gd.NEW_DRAFT]:"/compose/:csid?",[I.gd.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[I.gd.SETTINGS]:"/settings",[I.gd.SUBSCRIPTION_LIST]:"/subscriptions",[I.gd.CONTACTS]:"/contacts",[I.gd.CREATE_CONTACT]:"/contacts/create",[I.gd.CONTACT_DETAILS]:"/contacts/:id",[I.gd.CONTACT_DETAILS_FROM_SEARCH]:"/search/:query/contacts/:id",[I.gd.EDIT_CONTACT]:"/contacts/:id/edit",[I.gd.EDIT_CONTACT_FROM_SEARCH]:"/search/:query/contacts/:id/edit",[I.gd.THEME_CHOOSER]:"/settings/theme",[I.gd.SEARCH]:"/search/:query",[I.gd.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[I.gd.SIGNATURES_FROM_SETTINGS]:"/settings/signatures",[I.gd.ACCOUNT_LIST_FROM_SETTINGS]:"/settings/accounts",[I.gd.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST]:"/settings/accounts/add",[I.gd.ADD_ACCOUNT_PROVIDER]:"/settings/accounts/add/:provider",[I.gd.BLOCKED_SENDERS]:"/settings/blocked_senders",[I.gd.MESSAGE_PREVIEW]:"/settings/message_preview"},cssBundles:["mobile_app"],jsBundles:["mobile_app_vendor","mobile_app"],container:{id:"mobile-app-container"}},{app:I.t.BASIC_MAIL_APP,name:I.t.BASIC_MAIL_APP,appRootPath:"/b",isBasicApp:!0,ssrUnsupportedRoutes:[],paths:{[I.gd.BASE]:"/",[I.gd.FOLDER]:"/folders/:fid",[I.gd.SEARCH]:"/search/:query",[I.gd.MESSAGE]:"/folders/:fid/messages/:mid",[I.gd.NEW_DRAFT]:"/compose",[I.gd.EDIT_DRAFT]:"/compose/:csid",[I.gd.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[I.gd.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[I.gd.LIST_FOLDERS]:"/listfolders/:serializedListId",[I.gd.CONTACTS]:"/contacts",[I.gd.SETTINGS]:"/settings/:settingsGroup",[I.gd.LOAD_CONTACT]:"/loadcontact",[I.gd.TASK_STATUS]:"/taskstatus"},cssBundles:["basic_mail_app"],jsBundles:[],container:{id:"basic-mail-app-container"}},{app:I.t.BASIC_MOBILE_APP,name:I.t.BASIC_MOBILE_APP,appRootPath:I.y,isBasicApp:!0,ssrUnsupportedRoutes:[],paths:{[I.gd.BASE]:"/",[I.gd.FOLDER]:"/folders/:fid",[I.gd.SEARCH]:"/search/:query",[I.gd.LIST_FOLDERS]:"/listfolders/:serializedListId?",[I.gd.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[I.gd.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[I.gd.NEW_DRAFT]:"/compose",[I.gd.EDIT_DRAFT]:"/compose/:csid",[I.gd.SETTINGS]:"/settings/:settingsGroup",[I.gd.CONTACTS]:"/contacts"},cssBundles:["basic_mobile_app"],jsBundles:[],container:{id:"basic-mobile-app-container"}}].forEach(e=>{ei.push(e);const t=Object.assign({},e,{app:`${e.app}_TEST`,paths:{}});Object.keys(e.paths).forEach(s=>{t.paths[s]=`/test${e.paths[s]}`}),t.jsBundles=e.jsBundles.map(e=>e.indexOf("_app")>-1?e.replace("_app","_app_test"):e),ei.push(t)});const ti={},si={};ei.forEach(e=>{ti[e.app]=e.paths,si[e.app]=e});var ai=s(8),ni=s.n(ai),ri=s(1),ii=s.n(ri),oi=s(15),ci=s(23),di=s.n(ci),li=s(32),ui=s(29),_i=s.n(ui),mi=s(6),pi=s(20),hi=s(16),gi=s(5);const Ei=Object(b.c)(["BAR","MENU"]),Ii=2;var Si=s(641),Ci=s.n(Si),fi=s(22),Ti=s(49);const Ai=Object(mi.defineMessages)({noSubject:{id:"tab.title.no_subject",defaultMessage:"No Subject"},loading:{id:"tab.title.loading",defaultMessage:"Loading"},error:{id:"tab.title.error",defaultMessage:"Error"},newDraft:{id:"tab.title.new_draft",defaultMessage:"New Subject"},closeTab:{id:"tab.label.close",defaultMessage:"Close tab"},checkmail:{id:"tab.label.checkmail",defaultMessage:"Check new messages"},searchDefault:{id:"tab.title.search_default",defaultMessage:"All"},settings:{id:"tab.title.settings",defaultMessage:"Settings"},sponsoredAd:{id:"tab.title.sponsored_ad",defaultMessage:"Sponsored"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class bi extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{hover:!1}),ot()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose(e)}),ot()(this,"checkmail",e=>{this.props.isActive&&e.stopPropagation(),e.preventDefault(),this.props.checkmail()}),ot()(this,"handleHoverChange",e=>{this.setState({hover:e})}),ot()(this,"onCheckmailIconHover",e=>{this.setState({checkMailHover:e})}),ot()(this,"_getCheckmailIconColor",()=>this.context.getThemeMode()===fi.h.DARK?this.state.checkMailHover?gi.a.INVERTED:gi.a.INVERTED_LESS_DIM:this.state.checkMailHover?this.props.isActive?gi.a.BLACK:gi.a.INVERTED:this.props.isActive?gi.a.FIRST_LEVEL_GRAY:gi.a.INVERTED_LESS_DIM)}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.isActive,a=t.isCloseable,n=t.onClick,r=t.url,i=t.titleType,o=t.decorator,c=t.kind,d=t.title,l=t.widthOverride,u=t.animate,_=t.showCheckMailIcon,m=t.badgeCount,p=o!==I.je.NONE,h=c===Ei.BAR&&s,g=this.context.getThemeMode()===fi.h.DARK,E=Object(fi.o)(this.context.getTheme())&&g,S=m>0&&!s&&!this.state.hover,C=this.context.getCss(Ci.a,{kind:c,activeBar:h,decoratedMenu:p&&c===Ei.MENU,decoratedBar:p&&c===Ei.BAR,decoratedSettings:o===I.je.SETTINGS,activeHover:s&&this.state.hover,activeMenu:c===Ei.MENU&&s,inactiveHover:!s&&this.state.hover,animate:u,darkThemeMode:g,["darkModePhotoTheme_"+this.context.getTheme()+"_bar"]:E&&c===Ei.BAR,["darkModePhotoTheme_"+this.context.getTheme()+"_activeBar"]:E&&h,extraIconPadding:[I.je.SMARTVIEW_PEOPLE,I.je.SMARTVIEW_SHOPPING].indexOf(o)>-1});let f,T=d,A=gi.a.DARK,b=gi.d.XS;switch(o){case I.je.SEARCH:f=gi.b.SEARCH_MINI;break;case I.je.SETTINGS:f=gi.b.SETTINGS,b=gi.d.XXXS;break;case I.je.COMPOSE:f=gi.b.COMPOSE;break;case I.je.SMARTVIEW_PEOPLE:f=gi.b.PEOPLE;break;case I.je.SMARTVIEW_SHOPPING:f=gi.b.SHOPPING;break;case I.je.SMARTVIEW_PHOTOS:f=gi.b.TAB_IMAGES;break;case I.je.SMARTVIEW_DOCUMENTS:f=gi.b.DOCUMENTS_S;break;case I.je.SMARTVIEW_COUPONS:f=gi.b.SCISSORS;break;case I.je.SMARTVIEW_GROCERIES:f=gi.b.BASKET;break;case I.je.SMARTVIEW_RECEIPTS:f=gi.b.DRAFTS;break;case I.je.SMARTVIEW_TRAVEL:f=gi.b.TRAVEL;break;case I.je.SMARTVIEW_TUTORIAL:f=gi.b.CAL_MAYBE;break;case I.je.EXCLAMATION_ALT:f=gi.b.EXCLAMATION_ALT,b=gi.d.XXS}switch(i){case I.ke.NO_SUBJECT:T=e(Ai.noSubject);break;case I.ke.LOADING:T=e(Ai.loading);break;case I.ke.ERROR:T=e(Ai.error);break;case I.ke.NEW_DRAFT:T=e(Ai.newDraft);break;case I.ke.SEARCH_DEFAULT:T=e(Ai.searchDefault);break;case I.ke.SETTINGS:T=e(Ai.settings);break;case I.ke.SPONSORED_AD:T=e(Ai.ad_text)}c===Ei.BAR&&(A=s&&!g?gi.a.INHERITED:gi.a.INVERTED),i===I.ke.SMART_VIEW&&s&&gi.a[o]&&(A=gi.a[o]);return ii.a.createElement("a",{"data-test-id":"tab-item","data-test-active":s,href:r,style:{width:l},className:g&&c===Ei.BAR?C["darkMode_photoTheme"+E]:C.tab,onClick:n,onMouseOver:this.handleHoverChange.bind(this,!0),onMouseLeave:this.handleHoverChange.bind(this,!1),title:T,rel:"noopener"},o!==I.je.NONE?ii.a.createElement("span",{className:C.decorator},ii.a.createElement(hi.b,{kind:f,size:b,colorState:(e=>e===I.je.EXCLAMATION_ALT?gi.a.WARNING:A)(o)})):null,ii.a.createElement("span",g?{className:h?C.darkThemeModeActiveBarText:C.text}:{className:h?C.activeBarText:C.text},T),S&&ii.a.createElement("span",{className:C.badgeCount},m),a&&this.state.hover?ii.a.createElement(pi.a,{onClick:this.handleClose,className:C.close,kind:gi.b.CLOSE_MINI,size:gi.d.XS,colorState:A,"aria-label":e(Ai.closeTab),title:e(Ai.closeTab),"data-test-id":"tab-close-button"}):null,_&&this.state.hover&&ii.a.createElement(pi.a,{onClick:this.checkmail,className:C.checkmailIcon,kind:gi.b.REFRESH,size:gi.d.XXS,colorState:this._getCheckmailIconColor(),"aria-label":e(Ai.checkmail),title:e(Ai.checkmail),onMouseOver:this.onCheckmailIconHover.bind(this,!0),onMouseLeave:this.onCheckmailIconHover.bind(this,!1),isOnDarkBackground:g,"data-test-id":"tab-checkmail-button"}))}}ot()(bi,"defaultProps",{animate:!1,isCloseable:!0,showCheckMailIcon:!1,checkmail:()=>{},badgeCount:0}),ot()(bi,"contextTypes",{intl:mi.intlShape,getCss:ni.a.func,getThemeMode:ni.a.func,getTheme:ni.a.func});var Oi=Object(oi.connect)(void 0,e=>({checkmail:()=>{e(Object(Ti.o)({forceSync:!0,userInitiated:!0}))}}))(bi),Ri=s(12),Ni=s(40),Mi=s(55),Di=s(53),yi=s(14),Li=s(19),vi=s(28),Pi=s(59),Fi=s(647),wi=s.n(Fi),ki=s(13),xi=s.n(ki),Ui=s(482),Gi=s(7);const ji=xi()(wi.a);class Hi extends ii.a.Component{constructor(...e){super(...e),ot()(this,"renderTabButtons",(e,t)=>{const s=this.props,a=s.onSelection,n=s.onClose,r=s.smartViews,i=r&&r.length?`${Ri.TAB_MENU_WIDTH_WITH_CATEGORIES}px`:null;return e.map(e=>{const s=e.title,r=e.titleType,o=e.url,c=e.decorator,d=e.active;return ii.a.createElement("li",{className:ji.tabItem,key:o},ii.a.createElement(Oi,{onClick:a.bind(null,t?Ei.BAR:Ei.MENU,e),isCloseable:!0,isActive:d,onClose:n.bind(null,e),title:s,titleType:r,decorator:c,kind:Ei.MENU,url:o,widthOverride:i}))})}),ot()(this,"handleAnchorClick",e=>{const t=this.props,s=t.barTabs,a=t.smartViews,n=void 0===a?[]:a;(0,t.onAnchorClick)({mKey:Gi.e.TABS_MENU_OPEN,sec:Gi.g.TABS_MENU,interactionType:Gi.d.click,actionData:{smartView:!!n.length,addIcon:0===(void 0===s?[]:s).length&&n.length>0}},e)})}render(){const e=this.props,t=e.remainingTabs,s=e.barTabs,a=void 0===s?[]:s,n=e.onCloseAll,r=e.smartViews,i=void 0===r?[]:r,o=e.smartViewCategoriesEnabled,c=o&&i.length,d=a.length>1,l=i.every(e=>e.status),u=o&&0===a.length&&!l?gi.b.ADD:gi.b.CHEVRON_UP,_=Object(mi.defineMessages)({tabsMenu:{id:"tabs_menu.menu_button",defaultMessage:"Tabs menu"}});return ii.a.createElement(Mi.a,{className:ji.menuContainer},ii.a.createElement(Di.a,null,ii.a.createElement("span",{className:ji.menuButtonContainer},ii.a.createElement(Li.a,{"data-test-id":"tabs-menu-button",tabIndex:-1,kind:vi.a.CHROMELESS,className:ji.menuButton,"aria-label":this.context.intl.formatMessage(_.tabsMenu),onClick:this.handleAnchorClick},ii.a.createElement("span",{className:ji.menuSpan},ii.a.createElement("span",{className:ji.chevron},ii.a.createElement(hi.b,{kind:u,size:gi.d.XS,rotate:gi.c.D180,colorState:gi.a.INVERTED})))))),ii.a.createElement(Ni.b,{triggerOn:yi.i.CLICK,offset:3*Ri.GRID_UNIT,align:yi.a.END,permittedArrowDirections:[yi.h.UP],zAltitude:Ri.ZIndices.POPOVER.HIGH,animate:!0},ii.a.createElement("div",{className:ji.menuContentContainer},a.length?ii.a.createElement(Pi.a,{"data-test-id":"tabs-menu",className:ji.tabList,focusOnMount:!0},this.renderTabButtons(t,!1),this.renderTabButtons(a,!0),!c&&d&&ii.a.createElement("li",{className:ji.rule}),d&&ii.a.createElement("li",null,ii.a.createElement(Li.a,{"data-test-id":"tabs-close-all",onClick:n,className:ji.closeAllButton,tabIndex:0},ii.a.createElement("span",{className:ji.closeAllText},ii.a.createElement(mi.FormattedMessage,{id:"tabs.menu_close_all",defaultMessage:"Close all tabs"})))),c&&ii.a.createElement("li",{className:ji.rule})):null,c?ii.a.createElement(Ui.a,{isMenuMode:!0,showToggleState:!0,showHint:!0}):null)))}}ot()(Hi,"contextTypes",{intl:ni.a.object});var Bi=Hi,Vi=s(651),Wi=s.n(Vi),qi=s(27),zi=s(129),Ki=s(127),Zi=s(131),Yi=s(139),Xi=s(37),Qi=s(17),$i=s(11),Ji=s(58),eo=s(10);function to(e){return-1!==[I.gd.MESSAGE_FROM_FOLDER_LIST,I.gd.MESSAGE_FROM_SEARCH_LIST,I.gd.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST,I.gd.MESSAGE_FROM_LIST].indexOf(e.name)}var so=s(114);Object(Zi.b)({group:Yi.c,keys:{naviToLeftTab:{key:"BracketLeft",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.navi_tabs_left",defaultMessage:"Navigate to the left tab"})},naviToRightTab:{key:"BracketRight",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.navi_tabs_right",defaultMessage:"Navigate to the right tab"})}}});const ao=["[","]"],no=Ri.TAB_MIN_WIDTH+Ii,ro=Ri.TAB_MAX_WIDTH+Ii,io=400,oo=xi()(Wi.a);class co extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{boundingWidth:null}),ot()(this,"getBoundingWidth",()=>{this._isMounted&&this.setState({boundingWidth:Object(ui.findDOMNode)(this).getBoundingClientRect().width})}),ot()(this,"closeCue",e=>{this.props.featureCueClosed({name:e})}),ot()(this,"handleSelection",(e,t,s)=>{s.preventDefault(),this.props.showPeopleSmartViewCue&&Object(eo.D)(t.route)===I.Qb.PEOPLE&&this.closeCue(I.ub.PEOPLE_SMARTVIEW_CUE);const a=i()({route:t.route},t.fetchFullBody?{full:!0}:{},{tabRecencyRank:this.getTabRecencyRank(t)});t.active||this.context.navigateTo(e===Ei.MENU?Object.assign(a,{reorderPage:!0}):a)}),ot()(this,"handleTabClose",({route:e},t)=>{t.preventDefault(),this.props.closePage({route:e,i13nModel:{mKey:Gi.e.TABS_MENU_CLOSE,sec:Gi.g.TABS_MENU}})}),ot()(this,"handleTabCloseAll",e=>{e.preventDefault(),this.props.closeAllPages()}),ot()(this,"handleMenuAnchorClick",(e,t)=>{this._categoriesCue&&this.props.showAllTabsPlusCue?(t.stopPropagation(),this.closeCue(I.ub.ALL_TABS_PLUS_CUE)):(this._peopleViewCue&&this.props.showPeopleSmartViewCue&&this.closeCue(I.ub.PEOPLE_SMARTVIEW_CUE),e&&e.actionData&&(e.actionData.multiTaskModeSetting=this.props.multiTaskModeSetting),this.context.executeAction(Ki.g,{i13nModel:e}))}),ot()(this,"handleShortCut",e=>{switch(e.charCode){case Xi.b.BRACKETLEFT:this.tabNaviLeft(e);break;case Xi.b.BRACKETRIGHT:this.tabNaviRight(e)}})}componentDidMount(){this._isMounted=!0,this.getBoundingWidth(),window.addEventListener("resize",this.getBoundingWidth),this.context.bindShortcut(ao,this.handleShortCut)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.getBoundingWidth),this.context.unbindShortcut(ao)}componentWillUpdate(e){const t=e.smartViews.find(e=>this.props.smartViews.find(t=>t.status!==e.status&&t.name===e.name));t&&(this.changedSmartView=t.name===I.Kd.COUPONS?I.je.SMARTVIEW_SHOPPING:I.je[`SMARTVIEW_${t.name}`],setTimeout(()=>{this.props.route.name!==I.gd.SETTINGS&&this.props.onSmartViewChange(t.status?Object(Qi.w)(t.name,{accountIds:this.props.selectedAccountId,excludefolders:this.props.conversationsEnabled?[I.Cb.TRASH,I.Cb.BULK]:[I.Cb.TRASH,I.Cb.BULK,I.Cb.DRAFT,I.Cb.SENT]}):this.props.isCategorySmartViewActive?this.props.selectedFolderRoute:this.props.route)},io))}renderToFit(){const e=this.props.smartViewCategoriesEnabled,t=[];let s,a=[];const n=this.changedSmartView;if(this.state.boundingWidth){let e=Math.floor((this.state.boundingWidth-Ri.TAB_MENU_WIDTH)/ro);if(this.tabContent.length>e){e=Math.floor((this.state.boundingWidth-Ri.TAB_MENU_WIDTH)/no);const t=Math.min(e,this.tabContent.length),a=Math.floor((this.state.boundingWidth-Ri.TAB_MENU_WIDTH)/t);s=`${a-Ii}px`}this.tabContent.forEach(s=>{!s.active&&t.length<this.tabContent.length-e&&s.isCloseable?t.push(s):a.push(s)})}else a=this.tabContent.slice(0,4);const r=a.filter(({isCloseable:e})=>e),i=r.length||t.length||e,o=a.map(e=>{const t=e.title,a=e.titleType,r=e.url,i=e.active,o=e.decorator,c=e.isCloseable,d=e.showCheckMailIcon,l=e.key,u=e.badgeCount,_={className:oo.item};return o===I.je.SMARTVIEW_PEOPLE&&(_.ref=e=>{this._peopleSmartViewTab=e}),ii.a.createElement("li",di()({key:l||r},_),ii.a.createElement(Oi,{onClick:t=>this.handleSelection(Ei.BAR,e,t),isCloseable:c,showCheckMailIcon:d,onClose:t=>this.handleTabClose(e,t),title:t,titleType:a,decorator:o,url:r,kind:Ei.BAR,isActive:i,widthOverride:s,badgeCount:u,animate:n===o}))});return i&&o.push(ii.a.createElement("li",{key:"tabMenu",className:oo.moreMenu,ref:"moreMenu"},ii.a.createElement(Bi,{barTabs:r,remainingTabs:t,onSelection:this.handleSelection,onClose:this.handleTabClose,onCloseAll:this.handleTabCloseAll,onAnchorClick:this.handleMenuAnchorClick,smartViewCategoriesEnabled:e,smartViews:this.props.smartViews}))),o}_allCategorizationsEnabled(){return this.props.smartViews.every(({status:e})=>!!e)}renderCategoriesCue(){return this.props.showAllTabsPlusCue&&this.refs.moreMenu&&!this._allCategorizationsEnabled()?ii.a.createElement(Ni.b,{popoverAnchor:this.refs.moreMenu,align:yi.a.START,triggerOn:yi.i.MOUNT,f:!0,permittedArrowDirections:[yi.h.UP],onHide:()=>this.closeCue(I.ub.ALL_TABS_PLUS_CUE),offset:16,zAltitude:Ri.ZIndices.POPOVER.HIGH,ref:e=>this._categoriesCue=e,hideOnContentClick:!1},ii.a.createElement(qi.a,{import:"../../molecules/categorization/all_tabs_plus_cue",cueName:I.ub.ALL_TABS_PLUS_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1158))},_moduleResolver:function(){return 1158}})):(this._categoriesCue=null,null)}_isInsidePeopleView(){const e=this.tabContent.find(({active:e})=>e);return e&&e.decorator===I.je.SMARTVIEW_PEOPLE}renderPeopleSmartViewCue(){return this.props.showPeopleSmartViewCue&&this._peopleSmartViewTab&&!this._isInsidePeopleView()?ii.a.createElement(Ni.b,{popoverAnchor:this._peopleSmartViewTab,align:yi.a.START,triggerOn:yi.i.MOUNT,permittedArrowDirections:[yi.h.UP],onHide:()=>this.closeCue(I.ub.PEOPLE_SMARTVIEW_CUE),offset:16,zAltitude:Ri.ZIndices.POPOVER.HIGH,ref:e=>this._peopleViewCue=e,highlight:!0,hideOnContentClick:!1},ii.a.createElement(qi.a,{import:"../../molecules/categorization/people_smartview_cue",cueName:I.ub.PEOPLE_SMARTVIEW_CUE,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1159))},_moduleResolver:function(){return 1159}})):(this._peopleViewCue=null,null)}navigateToLeftRail(){this.context.navigateTo({route:this.props.selectedFolderRoute})}getActiveTabIndex(e){return e.findIndex(e=>!0===e.active)}getTabRecencyRank(e){return this.props.limitedMessageTabs.findIndex(t=>Object(Qi.D)(t,e.route))}tabNaviLeft(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(Ei.BAR,this.tabContent[this.tabContent.length-1],e):0===t?this.navigateToLeftRail():this.handleSelection(Ei.BAR,this.tabContent[t-1],e)}tabNaviRight(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(Ei.BAR,this.tabContent[0],e):t===this.tabContent.length-1?this.navigateToLeftRail():this.handleSelection(Ei.BAR,this.tabContent[t+1],e)}render(){return this.tabContent=this.props.getTabContent(this.context),ii.a.createElement("ul",{className:oo.container,"data-test-id":"tab-list","data-test-count":this.tabContent.length},this.renderPeopleSmartViewCue(),this.renderCategoriesCue(),this.renderToFit())}}function lo(e,t,s){const a=s.isFeatureEnabled,n=s.getSmartViewTypeFromRoute,r=s.getSmartViewPosition,i=s.getSmartViewTypeFromListId,o=(0,s.getRoute)(),c=a(I.zd.MAIL_TABS),d=n(t),l=e.intl.formatMessage,u=r(d),_=u===I.Jd.TAB_BAR&&d===I.Kd.COUPONS?I.je.SMARTVIEW_SHOPPING:I.je[`SMARTVIEW_${d}`];return{route:t,url:e.getUrlFromRoute(t),active:c||d===I.Kd.TUTORIAL?Object(Qi.D)(o,t):i(Object(eo.w)(o))===d,title:l(u===I.Jd.TAB_BAR&&d===I.Kd.COUPONS?so.a.smart_view_SHOPPING:so.a[`smart_view_${d}`]),titleType:I.ke.SMART_VIEW,decorator:_,showCheckMailIcon:u===I.Jd.TAB_BAR&&Object(eo.M)(o),isCloseable:u!==I.Jd.TAB_BAR,key:_,fetchFullBody:!1}}ot()(co,"contextTypes",{intl:mi.intlShape.isRequired,getUrlFromRoute:ni.a.func,executeAction:ni.a.func,navigateTo:ni.a.func,bindShortcut:ni.a.func,unbindShortcut:ni.a.func}),ot()(co,"defaultProps",{showAllTabsPlusCue:!1,showPeopleSmartViewCue:!1,smartViews:[],onSmartViewChange:()=>{}});const uo=e=>t=>{const s=Object($i.b)(e),a=s.getTabPages,n=s.getFolderName,r=s.getMessageCsid,i=s.getFolderDisplayTypeByFolderId,o=s.isFeatureEnabled,c=s.getMessageGroupsSelectors,d=s.isMessageGroupLoading,l=s.doesComposeSessionExist,u=s.getDraftMessageId,_=s.getReplyingToMessageId,m=s.doesMessageFullBodyExist,p=s.doesMessageBodyHasError,h=s.getMessageSubject,g=s.doesMessageIdExist,S=s.getRelevantMessageIdFromMessageGroupId,C=s.doesRouteContainFailure,f=s.getForwardAttachmentIds,T=s.getSmartViewTypeFromRoute,A=s.getMessageIdsFromMessageGroupId,b=(0,s.getRoute)(),O=t.intl.formatMessage,R={[I.ob.YAHOO]:O(Ji.a.yahoo_account_description),[I.ob.YAHOO_SB]:O(Ji.a.yahoo_account_description),[I.ob.OUTLOOK]:O(Ji.a.outlook_account_description),[I.ob.AOL]:O(Ji.a.aol_account_description),[I.ob.GOOGLE]:O(Ji.a.gmail_account_description),[I.ob.GOOGLE_APP]:O(Ji.a.gmail_account_description)},N=a(),M=o(I.zd.MAIL_TABS),D=o(I.ub.SMARTVIEW_CATEGORIES_ENABLED),y=[];return N.forEach(e=>{const a=e.params,o=e.name,N=e.query,L={route:e,url:t.getUrlFromRoute(e),active:Object(Qi.D)(b,e),title:"",titleType:I.ke.TEXT,decorator:I.je.NONE,showCheckMailIcon:!1,isCloseable:!0,fetchFullBody:!1};switch(o){case I.gd.LIST:if(!D)return;return void((Object(eo.M)(e)?T(e):null)&&y.push(lo(t,e,s)));case I.gd.TUTORIAL:return void(D&&y.push(lo(t,e,s)));case I.gd.BASE:return;case I.gd.FOLDER:if(D){let t;const s=Object(eo.w)(e),a=Object(eo.o)(s);if(a){const e=i(a);t=Object(At.n)(O,e)||n(a)}y.push(Object.assign({},L,{titleType:I.ke.TEXT,title:t,decorator:I.je.NONE,isCloseable:!1,showCheckMailIcon:b.name===I.gd.FOLDER,active:M?L.active:a===Object(eo.o)(Object(eo.w)(b))}))}return;case I.gd.SETTINGS:L.titleType=I.ke.SETTINGS,L.decorator=I.je.SETTINGS;break;case I.gd.SEARCH:{const a=Object(eo.w)(e);if(Object(eo.H)(a)){if(!D)return;const n=Object(eo.P)(e),r=Object(eo.O)(a);if(!n&&!r)return;if(!n){return void((Object(eo.M)(e)?T(e):null)&&y.push(lo(t,e,s)))}{const e=Object(eo.E)(a);L.title=O(so.a[`smart_view_${e}`]),L.titleType=I.ke.SMARTVIEW,L.active=M?L.active:e===Object(eo.E)(Object(eo.w)(b))}}else L.title=function(e,t,s){const a=e.getFolderName,n=e.getSelectedAccountIdByRoute,r=e.getProviderFromAccount,i=e.getAccountDescriptionByAccountId,o=(0,e.hasMultipleRootAccounts)(),c=Object(eo.w)(t),d=Object(eo.o)(c),l=Object(eo.h)(c),u=l.name,_=l.keyword,m=Object(eo.g)(c),p=n(t),h=r(p),g=i(p);let E;if(d){const e=a(d);E=o?(g||s[h])+"/"+e:e}else 1===m.length&&(E=o?g||s[h]:E);const I=Object(eo.K)(c)?u:_;return E?I?E+" "+I:E:I}(s,e,R),L.titleType=L.title?I.ke.SEARCH_KEYWORD:I.ke.SEARCH_DEFAULT,L.decorator=I.je.SEARCH;break}case I.gd.MESSAGE_FROM_LIST:case I.gd.MESSAGE_FROM_SEARCH_LIST:case I.gd.MESSAGE_FROM_FOLDER_LIST:{if(a.attachmentId&&"1"===N.fullscreen)break;if(!c().doesMessageGroupIdExist(a.groupId)||d(a.groupId)){L.titleType=I.ke.LOADING;break}const t=Object(eo.w)(e),s=S(a.groupId,t);L.badgeCount=A(a.groupId).reduce((e,t)=>{if(g(t)){const s=r(t);return e+(l(s)?f(s).length:0)}return e},0),L.title=h(s,t),L.title||(L.titleType=I.ke.NO_SUBJECT),C(e)&&(L.decorator=I.je.EXCLAMATION_ALT);break}case I.gd.NEW_DRAFT:case I.gd.EDIT_DRAFT:{const t=decodeURIComponent(a.csid),s=l(t);L.decorator=I.je.COMPOSE,t&&s?L.badgeCount=f(t).length:L.titleType=I.ke.LOADING;const n=s&&(u(t)||_(t));if(n)if(m(n))if(p(n))L.titleType=I.ke.ERROR;else{const t=Object(eo.w)(e);L.title=h(n,t)}else L.titleType=I.ke.LOADING;else L.titleType=I.ke.NEW_DRAFT;L.title||(L.titleType=I.ke.NEW_DRAFT),C(e)&&(L.decorator=I.je.EXCLAMATION_ALT);break}case I.gd.SPONSORED_MESSAGE:L.titleType=I.ke.SPONSORED_AD;break;default:Object(E.a)(!1,`We do not know how to get title of the tab for this route: ${o}`)}y.push(L)}),y.filter(Boolean)};var _o=Object(li.compose)(Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getSetting,a=t.getTabPages,n=t.getRoute,r=t.getSelectedAccountId,i=t.getSmartViewTypeFromRoute,o=t.getSmartViewPosition,c=(0,t.getFeaturesSelectors)(),d=c.isEnabled(I.ub.SMARTVIEW_CATEGORIES_ENABLED),l=c.isEnabled(I.ub.ALL_TABS_PLUS_CUE),u=c.isEnabled(I.ub.PEOPLE_SMARTVIEW_CUE),_=s(I.zd.SYSTEM_TABS),m=c.isEnabled(I.zd.MAIL_TABS),p=n(),h=a().find(e=>e.name===I.gd.FOLDER||Object(eo.P)(e)),g=c.isEnabled(I.ub.CONVERSATIONS),E=Object(eo.M)(p)?i(p):null,S=Object(eo.M)(p)&&o(E)===I.Jd.TAB_BAR,C=function(e){const t=Object($i.b)(e),s=t.isDraftGroup;return(0,t.getTabPages)().filter(e=>to(e)&&!s(e.params.groupId)).sort((e,t)=>(t.timestamp||0)-(e.timestamp||0))}(e);return{getTabContent:uo(e),selectedFolderRoute:h,route:p,selectedAccountId:r(),smartViews:_,multiTaskModeSetting:m,smartViewCategoriesEnabled:d,showAllTabsPlusCue:l,showPeopleSmartViewCue:u,isCategorySmartViewActive:S,conversationsEnabled:g,limitedMessageTabs:C}}),Object(oi.connect)(void 0,e=>({featureCueClosed:t=>e(Object(zi.a)(t)),closePage:({route:t,i13nModel:s={}})=>e(Object(Ti.c)({route:t,i13nModel:s})),closeAllPages:t=>e(Object(Ti.b)(t)),onSmartViewChange:t=>e(Object(Ti.j)({route:t}))})))(co),mo=s(548);class po extends ri.Component{constructor(e){super(e)}componentDidMount(){const e=this.props.toast;e&&this.context.toast(e)}componentDidUpdate(e){const t=this.props.toast;t&&t!==e.toast&&this.context.toast(t)}render(){return null}}po.contextTypes={toast:ni.a.func};var ho=Object(oi.connect)((e,{toastMap:t})=>{const s=(0,Object($i.b)(e).getAction)();let a=t[s.type];return"function"==typeof a&&(a=a(s,e)),a?{toast:i()({},a,{data:s})}:{}})(po),go=s(2),Eo=s(340),Io=s(652),So=s.n(Io);const Co=xi()(So.a);class fo extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleChangeAccept",()=>{this.context.navigateTo({route:Object(Qi.v)({settingsGroupId:I.Cd.VIEWING_EMAIL,accountId:this.props.accountId})})}),ot()(this,"handleChangeReject",()=>{this.context.executeAction(Eo.b)})}render(){return ii.a.createElement("span",{className:Co.container},ii.a.createElement(mi.FormattedMessage,{id:"timezone.change_msg",defaultMessage:"New time zone detected."}),"",ii.a.createElement("a",{"data-test-id":"primary-button",className:Co.primaryButton,onClick:e=>{e.preventDefault(),this.handleChangeAccept()}},ii.a.createElement(mi.FormattedMessage,{id:"timezone.change_accept",defaultMessage:"Update my location"})))}}ot()(fo,"contextTypes",{executeAction:ni.a.func,navigateTo:ni.a.func});var To=fo,Ao=s(294),bo=s(71),Oo=s(653),Ro=s.n(Oo),No=s(42);const Mo=xi()(Ro.a);function Do({error:e,sendFailureRoute:t},{navigateTo:s,getUrlFromRoute:a}){const n=e||{},r=n.errorCode,i=n.data,o=(void 0===i?{}:i).info,c=void 0===o?{}:o,d=a(t),l={message:d?ii.a.createElement("a",{href:d,className:Mo.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),s({route:t})}},ii.a.createElement(mi.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):ii.a.createElement(mi.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})};return ii.a.createElement(mi.FormattedMessage,"EC-4017"===r?{id:"compose.temp_send_failure_notification",defaultMessage:"Your message cannot be sent because you are attempting to send too many emails at once. Please try again later"}:"EP-4010"===r&&c.spame?{id:"compose.spam_send_failure_notification",defaultMessage:"Your message cannot be sent because it resembles spam and/or contains only links. Please modify your {message} and try again",values:l}:{id:"compose.send_failure_notification",defaultMessage:"An error occurred while sending the {message}.",values:l})}function yo({route:e,sentFolderId:t,groupId:s},{navigateTo:a,getUrlFromRoute:n}){const r={name:I.gd.MESSAGE_FROM_FOLDER_LIST,params:{fid:t,groupId:s},query:e.query||{}},i=n(r);return ii.a.createElement(mi.FormattedMessage,{id:"compose.send_success_notification_with_link",defaultMessage:"Your {message} has been sent.",values:{message:i?ii.a.createElement("a",{href:i,className:Mo.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),a({route:r})}},ii.a.createElement(mi.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):ii.a.createElement(mi.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})}Do.contextTypes={navigateTo:ni.a.func,getUrlFromRoute:ni.a.func},yo.contextTypes={navigateTo:ni.a.func,getUrlFromRoute:ni.a.func};const Lo=Object(oi.connect)((e,t)=>{const s=t.message;return{groupId:t.conversationsMode?s.conversationId:s.id}})(yo);function vo(){return ii.a.createElement(mi.FormattedMessage,{id:"compose.already_sent_message",defaultMessage:"The message you are trying to save has already been sent using another session. Please check your sent folder."})}function Po({messageGroupId:e,message:t,composeMode:s},{executeAction:a}){const n=ii.a.createElement("span",{onClick:()=>{a(bo.u,{messageGroupId:e,message:t,composeMode:s})},className:Mo.link,"data-test-id":"notification-retry-compose-action"},ii.a.createElement(mi.FormattedMessage,{id:"notification.compose_draft_failed_retry_link",defaultMessage:"Retry"}));return ii.a.createElement(mi.FormattedMessage,s===I.O.Modes.FORWARD?{id:"notification.draft_forward_failed",defaultMessage:"We encountered some issues while forwarding this message. {link}",values:{link:n}}:{id:"notification.draft_reply_or_reply_all_failed",defaultMessage:"We encountered some issues while replying to this message. {link}",values:{link:n}})}Po.contextTypes={executeAction:ni.a.func};var Fo=s(654),wo=s.n(Fo);const ko=xi()(wo.a);var xo=class extends ii.a.Component{render(){const e=this.props.value,t=`${e}%`,s={width:t};return ii.a.createElement("div",{className:ko.progress},ii.a.createElement("div",{className:ko.placeholder}),ii.a.createElement("div",{className:ko.value,style:s,"data-test-id":"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e},ii.a.createElement("span",{className:ko.label,"data-test-id":"progress-value",role:"presentation"},t)))}},Uo=s(655),Go=s.n(Uo);const jo=xi()(Go.a);class Ho extends ii.a.Component{render(){const e=this.props,t=e.subtitle,s=e.progress,a=e.onCancel,n=e.isCancelable;return ii.a.createElement("div",{className:jo.container,"data-test-id":"progress-dialog"},ii.a.createElement("div",{className:jo.messageContainer},ii.a.createElement("span",{className:jo.message,"data-test-id":"progress-dialog-message"},e.message),n&&ii.a.createElement(Li.a,{onClick:a,className:jo.cancel,"data-test-id":"progress-dialog-cancel"},ii.a.createElement(mi.FormattedMessage,{id:"confirm.cancel",defaultMessage:"Cancel"}))),ii.a.createElement("div",{className:jo.subtitle},t),ii.a.createElement("div",{className:jo.bar},ii.a.createElement(xo,{value:s})))}}ot()(Ho,"defaultProps",{isCancelable:!1,onClose:()=>{}});var Bo=Ho,Vo=s(92),Wo=s(219);var qo=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.isAsyncTaskPending,a=t.getAsyncTask,n=(0,t.getFeaturesSelectors)().getSetting(I.zd.ASYNC_TASK_POLL_INTERVAL);if(!s())return{asyncTaskPollInterval:n};const r=a();return{taskId:r.taskId,status:r.status,progress:r.progress,pollCount:r.pollCount,asyncTaskPollInterval:n}},e=>({bulkTaskCancelRequest:t=>e(Object(Wo.b)({taskId:t})),forceSync:()=>e(Object(Ti.o)({forceSync:!0,i13nModel:{}}))}))(class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleCancel",()=>{this.props.bulkTaskCancelRequest({taskId:this.props.taskId})}),ot()(this,"isTaskCancelable",()=>{const e=this.props;return e.taskId&&e.status===I.C.PENDING}),ot()(this,"renderMessage",()=>{const e=this.props,t=e.folderId,s=e.count,a=e.conversations;switch(e.triageActionType){case I.ne.READ_CHANGE_FOLDER_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.mark_read",defaultMessage:"Marking {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                        } in {folderName} as read...\n                    ",values:{emailsNum:s,folderName:ii.a.createElement(Vo.a,{folderId:t})}});case I.ne.DELETE_FOLDER_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.delete",defaultMessage:"Deleting {emailsNum, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{emailsNum:s,folderName:ii.a.createElement(Vo.a,{folderId:t})}});case I.ne.ARCHIVE_FOLDER_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.archive",defaultMessage:"Archiving {count, plural,\n                        =1 {message}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{count:s,folderName:ii.a.createElement(Vo.a,{folderId:t})}});case I.ne.DELETE_SELECTED_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.messages_delete",defaultMessage:"Deleting {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case I.ne.DELETE_ALL_FROM_SENDERS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.messages_delete_from_senders",defaultMessage:"Deleting {conversations, select, true {conversations} false {messages}}",values:{conversations:a}});case I.ne.MOVE_SELECTED_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.messages_move",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case I.ne.DELETE_ALL_ITEMS:case I.ne.MOVE_ALL_ITEMS:case I.ne.UNDO_MOVE:return ii.a.createElement(mi.FormattedMessage,{id:"progress.move_query",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case I.ne.READ_CHANGE_ALL_ITEMS:case I.ne.READ_CHANGE_SELECTED_ITEMS:case I.ne.STAR_CHANGE_ALL_ITEMS:case I.ne.STAR_CHANGE_SELECTED_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.mark_query",defaultMessage:"Updating {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case I.ne.ARCHIVE_ALL_ITEMS:case I.ne.ARCHIVE_SELECTED_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.messages_archive",defaultMessage:"Archiving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:s}});case I.ne.RESTORE_ALL_ITEMS:case I.ne.RESTORE_SELECTED_ITEMS:case I.ne.NOT_SPAM_ALL_ITEMS:case I.ne.NOT_SPAM_SELECTED_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.messages_restore",defaultMessage:"Restoring {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } to Inbox",values:{conversations:a,count:s}});case I.ne.SPAM_ALL_ITEMS:case I.ne.SPAM_SELECTED_ITEMS:return ii.a.createElement(mi.FormattedMessage,{id:"progress.messages_mark_spam",defaultMessage:"Marking {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            other {# messages}\n                        }}\n                    } as Spam",values:{conversations:a,count:s}})}return null}),ot()(this,"renderStatus",()=>{switch(this.props.status){case I.C.ABORTING:return ii.a.createElement(mi.FormattedMessage,{id:"progress.aborting",defaultMessage:"Cancelling"});case I.C.ABORT_FAILED:return ii.a.createElement(mi.FormattedMessage,{id:"progress.abort_failed",defaultMessage:"Failed to cancel. Please Retry"});default:return null}})}componentDidUpdate(){clearTimeout(this.handleProgressTimeout),this.handleProgressTimeout=setTimeout(()=>{this.props.forceSync()},this.props.asyncTaskPollInterval)}componentWillUnmount(){clearTimeout(this.handleProgressTimeout)}render(){const e=this.props.progress,t=void 0===e?0:e;return ii.a.createElement(Bo,{isCancelable:this.isTaskCancelable(),onCancel:this.handleCancel,progress:t,message:this.renderMessage(),subtitle:this.renderStatus()})}});var zo=s(110);const Ko=()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_group_edit_succeeded",defaultMessage:"Contact list updated"}),Zo=()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_group_edit_in_progress",defaultMessage:"Updating contact list"}),Yo="EC-4001";var Xo=s(658),Qo=s.n(Xo),$o=s(95);const Jo=xi()(Qo.a);const ec=Object(oi.connect)(null,e=>({featureCueNotificationClosed:t=>e(Object(zi.d)(t)),toggleAutoOpenSettingsPopover:t=>e(Object($o.D)(t))}))(class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleClick",e=>{e.preventDefault(),this.props.onClose(),this.props.toggleAutoOpenSettingsPopover({status:!0})})}render(){const e=ii.a.createElement("span",{onClick:this.handleClick,className:Jo.settings,"data-test-id":"settings-link"},ii.a.createElement(mi.FormattedMessage,{id:"notification.themes_cue_v3_closed_settings",defaultMessage:"Settings"}));return ii.a.createElement(mi.FormattedMessage,{id:"notification.themes_cue_v3_closed",defaultMessage:"Theme saved. For more ways to personalize, go to {Settings}.",values:{Settings:e}})}componentWillUnmount(){this.props.featureCueNotificationClosed({name:I.ub.THEMES_CUE_V3})}});function tc({folder:e}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.create_success",defaultMessage:"{folderName} folder created",values:{folderName:ii.a.createElement("strong",null,e.name)}})}function sc({folderId:e,progress:t}){const s=ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e}));if(t<100){const e=ii.a.createElement("strong",null,t,"%");return ii.a.createElement(mi.FormattedMessage,{id:"folder.markasread_partial_success",defaultMessage:"{progress} of messages in {folderName} marked as read",values:{folderName:s,progress:e}})}return ii.a.createElement(mi.FormattedMessage,{id:"folder.mark_read_success",defaultMessage:"Folder {folderName} was marked as read",values:{folderName:s}})}function ac({folderId:e}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.mark_read_failure",defaultMessage:"Failed marking folder {folderName} as read",values:{folderName:ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e}))}})}function nc({folderId:e,progress:t}){const s=ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e}));if(t<100){const e=ii.a.createElement("strong",null,t,"%");return ii.a.createElement(mi.FormattedMessage,{id:"folder.archive_partial_success",defaultMessage:"{progress} of messages in {folderName} archived",values:{folderName:s,progress:e}})}return ii.a.createElement(mi.FormattedMessage,{id:"folder.archive_success",defaultMessage:"Messages in folder {folderName} were moved to archive",values:{folderName:s}})}function rc({folderId:e}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.archive_failure",defaultMessage:"Failed moving folder {folderName} messages to archive",values:{folderName:ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e}))}})}function ic({folderId:e,progress:t}){const s=ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e}));if(t<100){const e=ii.a.createElement("strong",null,t,"%");return ii.a.createElement(mi.FormattedMessage,{id:"folder.delete_partial_success",defaultMessage:"{progress} of messages in {folderName} deleted",values:{folderName:s,progress:e}})}return ii.a.createElement(mi.FormattedMessage,{id:"folder.clear_success",defaultMessage:"Folder {folderName} was cleared",values:{folderName:s}})}function oc({folderId:e}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.clear_failure",defaultMessage:"Failed clearing folder {folderName}",values:{folderName:ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e}))}})}function cc(){return ii.a.createElement(mi.FormattedMessage,{id:"folder.access_failure",defaultMessage:"The folder you're trying to access is no longer valid"})}const dc=Object(oi.connect)((e,t)=>{return(0,Object($i.b)(e).isOnline)()&&t.onClose(),{}})(class extends ii.a.Component{render(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.no_internet",defaultMessage:"No internet connection."})}});var lc=s(357),uc=s.n(lc);const _c=xi()(uc.a);class mc extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleClick",e=>{const t={mKey:Gi.e.FIX_IMAP_ACCOUNT,sec:Gi.g.NOTIFICATION_ACTION,interactionType:Object(vs.j)(e)},s=this.props,a=s.accountId,n=s.provider,r=s.autoOpenReauth;r&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`)),this.props.onClose(),this.context.navigateTo({route:Object(Qi.v)({settingsGroupId:I.Cd.ACCOUNTS,accountId:a,provider:n,openReauth:r}),i13nModel:t})})}render(){const e=this.props;let t;return t=ii.a.createElement(mi.FormattedMessage,e.autoOpenReauth&&e.provider===I.ob.GOOGLE?{id:"notifications.signintogoogle",defaultMessage:"Sign in to Google"}:{id:"notifications.gotosettings",defaultMessage:"Go to Settings"}),ii.a.createElement("div",null,ii.a.createElement(mi.FormattedMessage,{id:"mailbox.not_sycning",defaultMessage:"This mailbox is not syncing and needs permission to resume."}),"",ii.a.createElement(Li.a,{"aria-hidden":!0,kind:vi.a.CHROMELESS,onClick:this.handleClick},ii.a.createElement("span",{className:_c.actionLink},t)))}}ot()(mc,"contextTypes",{navigateTo:ni.a.func});const pc=Object(oi.connect)()(mc),hc=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.move_message_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } to the selected folder.",values:{conversations:e,count:t}}),gc=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.markSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation is} other {Conversations are} }} false {{count, plural, =1 {Message is} other {Messages are} }} } successfully marked as Spam",values:{conversations:e,count:t}}),Ec=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.markSpam_failure",defaultMessage:"Unable to mark the {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } as Spam.",values:{conversations:e,count:t}}),Ic=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.notSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation is} other {Conversations are} }} false {{count, plural, =1 {Message is} other {Messages are} }} } moved to Inbox",values:{conversations:e,count:t}}),Sc=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.notSpam_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {conversations} }} false {{count, plural, =1 {message} other {messages} }} } to Inbox",values:{conversations:e,count:t}}),Cc=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.archive_failure",defaultMessage:"Unable to Archive the {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {messages} }} }.",values:{conversations:e,count:t}}),fc=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.restore_inbox_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation} other {# conversations} }} false {{count, plural, =1 {Message} other {# messages} }} } moved to Inbox",values:{conversations:e,count:t}}),Tc=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.restore_inbox_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {messages} }} } to Inbox",values:{conversations:e,count:t}}),Ac=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.delete_failure",defaultMessage:"Unable to delete the {conversations, select, true {{count, plural, =1 {conversation} other {# conversations} }} false {{count, plural, =1 {message} other {# messages} }} }.",values:{conversations:e,count:t}}),bc=()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.undo_success",defaultMessage:"Undo succeeded"}),Oc=()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.undo_failed",defaultMessage:"Undo failed"}),Rc=()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.message_access_failure",defaultMessage:"The message you're trying to access is no longer valid"}),Nc=({conversations:e})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.delete_from_senders_success",defaultMessage:"{conversations, select, true {Conversations} false {Messages} } deleted from selected senders.",values:{conversations:e}}),Mc=({conversations:e})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.delete_from_senders_failure",defaultMessage:"Failed to delete {conversations, select, true {conversations} false {messages} } from selected senders.",values:{conversations:e}}),Dc=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.update_items_success",defaultMessage:"Updated {conversations, select,\n            true {{count, plural,\n                one {conversation}\n                other {# conversations}\n            }}\n            false {{count, plural,\n                one {message}\n                other {# messages}\n            }}\n        } successfully",values:{conversations:e,count:t}}),yc=({conversations:e,count:t})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.update_items_failure",defaultMessage:"Failed to update {conversations, select,\n            true {{count, plural,\n                one {conversation}\n                other {# conversations}\n            }}\n            false {{count, plural,\n                one {message}\n                other {# messages}\n            }}\n        }",values:{conversations:e,count:t}});class Lc extends ii.a.Component{render(){const e=this.props,t=e.conversations;return ii.a.createElement("div",null,ii.a.createElement(mi.FormattedMessage,{id:"folder.move_query_success",defaultMessage:"All {conversations, select, true {conversations} false {messages} } moved to {destinationFolderName}.",values:{destinationFolderName:ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e.folderId})),conversations:t}}))}}function vc(){return ii.a.createElement(mi.FormattedMessage,{id:"folder.move_query_failure",defaultMessage:"Failed moving all items "})}function Pc(){return ii.a.createElement(mi.FormattedMessage,{id:"folder.mark_query_success",defaultMessage:"Items were updated"})}function Fc(){return ii.a.createElement(mi.FormattedMessage,{id:"folder.mark_query_failure",defaultMessage:"Failed updating all items "})}var wc=s(659),kc=s.n(wc),xc=s(48);const Uc=xi()(kc.a);function Gc({showSettingsMessageFiltersLink:e,onClose:t},{navigateTo:s,getUrlFromRoute:a}){if(e){const e=Object(Qi.v)({settingsGroupId:I.Cd.FILTERS}),n=a=>{a.preventDefault(),s({route:e}),t()};return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_filter_added",defaultMessage:"Filter added. {link}",values:{link:ii.a.createElement("a",{href:a(e),className:Uc.link,onClick:n},ii.a.createElement(mi.FormattedMessage,{id:"notifications.settings_manage_filters",defaultMessage:"Manage filters"}))}})}return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_filter_saved",defaultMessage:"Message filter has been saved successfully"})}Gc.contextTypes={navigateTo:ni.a.func,getUrlFromRoute:ni.a.func};const jc=Object(oi.connect)((e,t)=>{return{showSettingsMessageFiltersLink:Object(b.a)(t,"i13nModel.mKey",null)===Gi.e.TOOLBAR_FILTER_MESSAGES_LIKE_THIS}})(Gc);function Hc(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_filter_failed_to_save",defaultMessage:"Message filter has failed to save"})}function Bc(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.user_preference_failed_to_load",defaultMessage:"Your preferences failed to load at this time due to a temporary error."})}function Vc({delta:e}){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_blocked_senders_added",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} added",values:{count:e}})}function Wc({delta:e}){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_blocked_senders_deleted",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} deleted",values:{count:-e}})}function qc({delta:e}){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_blocked_senders_failed_to_add",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to add",values:{count:e}})}function zc({delta:e}){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_blocked_senders_failed_to_delete",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to delete",values:{count:-e}})}function Kc(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_vacation_response_saved",defaultMessage:"Vacation response has been saved."})}function Zc(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_vacation_response_deleted",defaultMessage:"Vacation response has been removed."})}function Yc({error:e,provider:t,email:s},{yahooBrandNameString:a}){switch(e){case 412:return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_cancel_permission",defaultMessage:"Account connection cancelled."});case 403:return ii.a.createElement("div",{className:Uc.errorWrapper},ii.a.createElement("div",{className:Uc.errorHeader},ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_different_id_header",defaultMessage:"{email} could not be added",values:{email:s}})),ii.a.createElement("div",{className:Uc.errorBody},ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:Object(xc.f)(t),nextLine:ii.a.createElement("br",null),sign_out:ii.a.createElement("a",{className:Uc.link,target:"_blank",href:I.Gb[t].providerUrl,rel:"noopener"},ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_sign_out",defaultMessage:"sign out"}))}})));case 503:return ii.a.createElement(mi.FormattedMessage,{id:"notification.provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please try to connect your account later.",values:{yahooBrandNameString:a,provider:Object(xc.f)(t)}});case 409:return ii.a.createElement(mi.FormattedMessage,{id:"notification.account_conflict",defaultMessage:"This account is already connected"});default:return ii.a.createElement(mi.FormattedMessage,{id:"notification.account_general_error",defaultMessage:"Unable to add mailbox. Please try again later."})}}Yc.contextTypes={yahooBrandNameString:ni.a.string};var Xc=s(389);s(549);function Qc(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.unsub_lists_cleaned",defaultMessage:"Enjoy your cleaner Inbox! Glad that was useful. New recommendations tomorrow!"})}function $c(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.unsub_list_cleaned",defaultMessage:"Enjoy your cleaner Inbox! We'll have new recommendations tomorrow."})}function Jc(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.unsub_dialog_closed",defaultMessage:"Great! Glad you still like those emails. We'll have new recommendations tomorrow."})}var ed=s(662),td=s.n(ed);const sd=xi()(td.a);var ad=s(358);class nd extends ii.a.Component{render(){const e=this.props,t=e.undoAction,s=e.permanent,a=e.onClose;return ii.a.createElement("div",null,ii.a.createElement(mi.FormattedMessage,{id:"notification.delete_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } deleted.",values:{conversations:e.conversations,count:e.count}}),"",!s&&t&&ii.a.createElement(ad.a,{undoAction:t,onClose:a}))}}class rd extends ii.a.Component{render(){const e=this.props,t=e.undoAction,s=e.onClose;return ii.a.createElement("div",null,ii.a.createElement(mi.FormattedMessage,{id:"notification.archive_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to Archive.",values:{conversations:e.conversations,count:e.count}}),"",ii.a.createElement(ad.a,{undoAction:t,onClose:s}))}}class id extends ii.a.Component{render(){const e=this.props,t=e.count,s=e.conversations,a=e.undoAction,n=e.onClose;return ii.a.createElement("div",null,ii.a.createElement(mi.FormattedMessage,{id:"notification.move_message_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} other {# conversations} }} false {{count, plural, one {Message} other {# messages} }} } moved to {destinationFolderName}.",values:{destinationFolderName:ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e.destinationFolderId})),conversations:s,count:t}}),"",ii.a.createElement(ad.a,{undoAction:a,onClose:n}))}}var od=s(663),cd=s.n(od);var dd=Object(oi.connect)(void 0,e=>({openPersonalInboxSettings:()=>e(Object(Ti.j)({route:Object(Qi.v)({settingsGroupId:I.Cd.PERSONALIZE_INBOX})}))}))(e=>{const t=xi()(cd.a);return ii.a.createElement(mi.FormattedMessage,{id:"notification.disable.breaking.news",defaultMessage:"Don't want Breaking News in Yahoo Mail? Disable in {settingsLink}",values:{settingsLink:ii.a.createElement("a",{className:t.link,onClick:e.openPersonalInboxSettings,"data-test-id":"settings-link"},ii.a.createElement(mi.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"}))}})});var ld={[go.Fc]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_group_create_new_failure",defaultMessage:"Failed to created contact list"}),type:I.Fc.WARNING},[go.Hc]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_group_create_new_success",defaultMessage:"Contact list created"}),type:I.Fc.NORMAL},[go.Gc]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_group_create_new",defaultMessage:"Creating contact list"}),type:I.Fc.PENDING},[go.Nc]:({doUpdatesExist:e})=>e?{message:Zo,type:I.Fc.PENDING}:{message:Ko,type:I.Fc.NORMAL},[go.Oc]:{message:Ko,type:I.Fc.NORMAL},[go.Mc]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_group_edit_failed",defaultMessage:"Unable to update contact list"}),type:I.Fc.WARNING},[go.Pe]:{message:function(){return ii.a.createElement(mi.FormattedMessage,{id:"contacts_export_notifications.export_to_csv",defaultMessage:"Your export will start shortly"})},type:I.Fc.PENDING},[go.Lj]:{message:function({provider:e}){let t;const s=Object(b.a)(Xc.a,`${e}.displayName`);return t=s?ii.a.createElement(mi.FormattedMessage,s):e,ii.a.createElement(mi.FormattedMessage,{id:"social_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:t}})},type:I.Fc.WARNING},[go.Nj]:{message:function({provider:e}){let t;const s=Object(b.a)(Xc.a,`${e}.displayName`);return t=s?ii.a.createElement(mi.FormattedMessage,s):e,ii.a.createElement(mi.FormattedMessage,{id:"social_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:t}})},type:I.Fc.NORMAL},[go.Jj]:{message:function({provider:e}){let t;const s=Object(b.a)(Xc.a,`${e}.displayName`);return t=s?ii.a.createElement(mi.FormattedMessage,s):e,ii.a.createElement(mi.FormattedMessage,{id:"social_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:t}})},type:I.Fc.WARNING},[go.xi]:{message:function({newFolderName:e,originalFolderName:t}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.rename_success",defaultMessage:"Folder {originalFolderName} renamed to {newFolderName}",values:{newFolderName:ii.a.createElement("strong",null,e),originalFolderName:ii.a.createElement("strong",null,t)}})},type:I.Fc.NORMAL},[go.vi]:{message:function({newFolderName:e,originalFolderName:t}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.rename_failure",defaultMessage:"Failed renaming folder {originalFolderName} to {newFolderName}",values:{newFolderName:ii.a.createElement("strong",null,e),originalFolderName:ii.a.createElement("strong",null,t)}})},type:I.Fc.WARNING},[go.Hd]:({fromModalDialog:e=!1})=>({message:tc,type:I.Fc.NORMAL,alertFromModalDialog:e}),[go.wc]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.list_delete_in_progress",defaultMessage:"Deleting Contacts List"}),type:I.Fc.PENDING},[go.xc]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.list_delete_succeeded",defaultMessage:"Contacts List Deleted"}),type:I.Fc.NORMAL},[go.vc]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.list_delete_failed",defaultMessage:"Unable to delete Contacts List"}),type:I.Fc.WARNING},[go.Rd]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_delete_in_progress",defaultMessage:"Deleting contact"}),type:I.Fc.PENDING},[go.Qd]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_delete_failed",defaultMessage:"Unable to delete contact"}),type:I.Fc.WARNING},[go.Sd]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_delete_succeeded",defaultMessage:"Contact deleted"}),type:I.Fc.NORMAL},[go.fd]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_save_success",defaultMessage:"Contact updated"}),type:I.Fc.NORMAL},[go.dd]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_save_failure",defaultMessage:"Unable to save"}),type:I.Fc.WARNING},[go.ed]:{message:({oldContact:e={}})=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_save_in_progress",defaultMessage:" {option, select, true {Saving contact} false {Creating contact} }",values:{option:!!e.id}}),type:I.Fc.PENDING},[go.Ed]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_create_success",defaultMessage:"Contact created"}),type:I.Fc.NORMAL},[go.Dd]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_create_failure",defaultMessage:"Unable to create contact"}),type:I.Fc.WARNING},[go.ad]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_upload_photo_success",defaultMessage:"Contact photo uploaded"}),type:I.Fc.NORMAL},[go.Zc]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.contact_upload_photo_failure",defaultMessage:"Unable to upload photo"}),type:I.Fc.WARNING},[go.Fd]:{message:function({folderName:e}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.create_failure",defaultMessage:"Failed creating {folderName} folder",values:{folderName:ii.a.createElement("strong",null,e)}})},type:I.Fc.WARNING},[go.ae]:{message:function({folderName:e}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.delete_success",defaultMessage:"{folderName} folder deleted",values:{folderName:ii.a.createElement("strong",null,e)}})},type:I.Fc.NORMAL},[go.Yd]:{message:function({folderName:e}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.delete_failure",defaultMessage:"Failed deleting {folderName} folder",values:{folderName:ii.a.createElement("strong",null,e)}})},type:I.Fc.WARNING},[go.ee]:{message:function({folderId:e}){return ii.a.createElement(mi.FormattedMessage,{id:"folder.delete_nonempty",defaultMessage:"Only empty folders can be deleted. Please delete all contents of the {folderName} folder first.",values:{folderName:ii.a.createElement("strong",null,ii.a.createElement(Vo.a,{folderId:e}))}})},type:I.Fc.WARNING},[go.dh]:{message:Po,type:I.Fc.WARNING,requireInteraction:!0},[go.oc]:{message:zo.f,type:I.Fc.WARNING},[go.pc]:{message:zo.d,type:I.Fc.WARNING},[go.lc]:{message:zo.c,type:I.Fc.WARNING},[go.dj]:{message:zo.j,type:I.Fc.NORMAL,requireInteraction:!0},[go.El]:{message:zo.j,type:I.Fc.PENDING,sticky:!0,requireInteraction:!0},[go.ej]:{message:Do,type:I.Fc.WARNING},[go.Dl]:{message:Do,type:I.Fc.WARNING},[go.eh]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:vo,type:I.Fc.WARNING}:{message:zo.g,type:I.Fc.WARNING,priority:I.Dc.MEDIUM},[go.Al]:({error:e,showNotification:t=!0})=>e&&"ES-2001"===e.errorCode?{message:vo,type:I.Fc.WARNING}:t?{message:zo.g,type:I.Fc.WARNING,priority:I.Dc.MEDIUM}:null,[go.Hg]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:vo,type:I.Fc.WARNING}:null,[go.Zj]:{message:zo.i,type:I.Fc.NORMAL},[go.Xj]:{message:zo.h,type:I.Fc.WARNING},[go.Xd]:{message:zo.b,type:I.Fc.NORMAL},[go.Wd]:{message:zo.a,type:I.Fc.WARNING},[go.Vk]:{message:bc,type:I.Fc.NORMAL},[go.Tk]:{message:Oc,type:I.Fc.WARNING},[go.sf]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.geminiSponsoredAssetFailed",defaultMessage:"Ad asset load failed"}),type:I.Fc.WARNING},[go.uc]:{message:function(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_resend_confirm_succeed",defaultMessage:"Confirmation email sent."})},type:I.Fc.NORMAL},[go.sc]:{message:function(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_resend_confirm_failed",defaultMessage:"Confirmation email sent failed."})},type:I.Fc.WARNING},[go.x]:{message:function(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.settings_account_reauth_succeed",defaultMessage:"Mailbox reauthorized. Sync will begin soon."})},type:I.Fc.NORMAL},[go.v]:{message:Yc,type:I.Fc.WARNING},[go.mj]:({name:e,delta:t})=>{switch(e){case I.zd.MESSAGE_FILTERS:return{message:jc,type:I.Fc.NORMAL};case I.zd.DELIVERY_BLOCKED_SENDERS:return t<0?{message:Wc,type:I.Fc.NORMAL}:{message:Vc,type:I.Fc.NORMAL}}return null},[go.kj]:({name:e,delta:t})=>{switch(e){case I.zd.MESSAGE_FILTERS:return{message:Hc,type:I.Fc.WARNING};case I.zd.DELIVERY_BLOCKED_SENDERS:return t<0?{message:zc,type:I.Fc.WARNING}:{message:qc,type:I.Fc.WARNING}}return null},[go.Ke]:{message:class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleSplunkSearch",()=>{window.open(this.props.splunkUrl,"_blank")})}render(){return ii.a.createElement("div",null,ii.a.createElement(mi.FormattedMessage,{id:"notification.exception_occurred",defaultMessage:"Javascript exception occurred."}),"",ii.a.createElement(Li.a,{kind:vi.a.CHROMELESS,"data-test-id":"search-btn",onClick:this.handleSplunkSearch},ii.a.createElement("span",{className:sd.button},ii.a.createElement(mi.FormattedMessage,{id:"notification.exception_run_diagnostics",defaultMessage:"Run diagnostics"}))))}},type:I.Fc.WARNING,modal:!0},[go.ye]:{message:function(e){const t=e.fileCount,s=void 0===t?1:t,a=e.filename,n=e.error,r=void 0===n?{}:n,i=r.code,o=r.validationErrors,c=(void 0===i?"":i)===Yo&&(void 0===o?[]:o).join("").indexOf("virus")>-1;return ii.a.createElement(mi.FormattedMessage,c?{id:"notification.download_virus_error",defaultMessage:"Virus scan failed. Unable to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:s,filename:a}}:{id:"notification.download_error",defaultMessage:"Failed to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:s,filename:a}})},type:I.Fc.WARNING},[go.bg]:(e,t)=>{switch((0,Object($i.b)(t).getLaunchError)()){case I.Mb.FOLDER_ACCESS_FAILED:return{message:cc,type:I.Fc.ADVISORY,icon:gi.b.ATTENTION};case I.Mb.MESSAGE_ACCESS_FAILED:return{message:Rc,type:I.Fc.ADVISORY,icon:gi.b.ATTENTION};case I.Mb.COMPOSE_ACCESS_FAILED:return{message:zo.e,type:I.Fc.ADVISORY,icon:gi.b.ATTENTION};case I.Mb.SETTINGS_FAILED_TO_LOAD:return{message:Bc,type:I.Fc.ADVISORY,icon:gi.b.ATTENTION}}return null},[go.Yh]:(e,t)=>{const s=Object($i.b)(t),a=s.getMailboxesSelectors,n=s.doesFolderIdExist,r=s.getAccountIdByFolderId,i=(0,s.getRoute)(),o=Object(eo.w)(i),c=Object(eo.o)(o);if(c&&n(c)){const e=a(),t=r(c);if(e.isAccountExpired(t))return{message:pc,type:I.Fc.WARNING}}return null},[go.Bg]:{message:mc,type:I.Fc.WARNING},[go.kl]:{message:Qc,type:I.Fc.NORMAL,priority:I.Dc.MEDIUM},[go.ll]:{message:$c,type:I.Fc.NORMAL,priority:I.Dc.MEDIUM},[go.hl]:{message:Jc,type:I.Fc.NORMAL,priority:I.Dc.MEDIUM},[go.Bk]:{message:To,type:I.Fc.ADVISORY,icon:gi.b.CLOCK,sticky:!1,requireInteraction:!0},[go.fj]:{message:Lo,type:I.Fc.NORMAL},[go.Fl]:{message:Lo,type:I.Fc.NORMAL},[go.zl]:{message:Lo,type:I.Fc.NORMAL},[go.Kh]:({online:e})=>e?null:{message:dc,type:I.Fc.WARNING,requireInteraction:!0,icon:gi.b.NO_INTERNET,sticky:!0,priority:I.Dc.HIGH},[go.We]:({name:e})=>e===I.ub.THEMES_CUE_V3?{message:ec,type:I.Fc.NORMAL}:null,[go.li]:({isAsync:e})=>e?{message:qo,type:I.Fc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[go.bk]:({isAsync:e})=>e?{message:qo,type:I.Fc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[go.ce]:({isAsync:e})=>e?{message:qo,type:I.Fc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[go.jb]:({isAsync:e})=>e?{message:qo,type:I.Fc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[go.ub]:{message:qo,type:I.Fc.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0},[go.sb]:{message:qo,type:I.Fc.ADVISORY,requireInteraction:!1,sticky:!1,modal:!0},[go.zj]:{message:jc,type:I.Fc.NORMAL},[go.Cj]:({actionType:e})=>{switch(e){case Ao.a.SAVE:return{message:Kc,type:I.Fc.NORMAL};case Ao.a.DELETE:return{message:Zc,type:I.Fc.NORMAL};case Ao.a.SWITCH_ON:case Ao.a.SWITCH_OFF:default:return null}},[go.bb]:{message:function({downloadUrl:e}){return ii.a.createElement(mi.FormattedMessage,{id:"attachment_tray.unsupported_files",defaultMessage:"Please {download} to view this file",values:{download:ii.a.createElement("a",{style:{color:Ri.BASE_LINK_COLOR},href:e,rel:"noopener"},ii.a.createElement(mi.FormattedMessage,{id:"attachment_tray.unsupported_file_download_link",defaultMessage:"download"}))}})},type:I.Fc.WARNING},[go.de]:{message:nd,type:I.Fc.NORMAL},[go.be]:{message:Ac,type:I.Fc.WARNING},[go.tl]:e=>{const t=e.messageItemsToSync,s=void 0===t?[]:t,a=e.isAsync,n=void 0!==a&&a,r=(s.length>0?s[s.length-1]:{}).updateTypes,i=void 0===r?[]:r,o=i.length>0?i[i.length-1]:"";switch(e.triageActionType){case I.ne.ARCHIVE_FOLDER_ITEMS:return{message:nc,type:I.Fc.NORMAL};case I.ne.ARCHIVE_ALL_ITEMS:case I.ne.RESTORE_ALL_ITEMS:case I.ne.SPAM_ALL_ITEMS:case I.ne.NOT_SPAM_ALL_ITEMS:case I.ne.MOVE_ALL_ITEMS:return{message:Lc,type:I.Fc.NORMAL};case I.ne.DELETE_FOLDER_ITEMS:case I.ne.DELETE_ALL_ITEMS:return{message:ic,type:I.Fc.NORMAL};case I.ne.READ_CHANGE_FOLDER_ITEMS:case I.ne.READ_CHANGE_ALL_ITEMS:return{message:sc,type:I.Fc.NORMAL};case I.ne.STAR_CHANGE_ALL_ITEMS:return{message:Pc,type:I.Fc.NORMAL};case I.ne.ARCHIVE_SELECTED_ITEMS:return{message:rd,type:I.Fc.NORMAL};case I.ne.RESTORE_SELECTED_ITEMS:return{message:fc,type:I.Fc.NORMAL};case I.ne.SPAM_SELECTED_ITEMS:return{message:gc,type:I.Fc.NORMAL};case I.ne.NOT_SPAM_SELECTED_ITEMS:return{message:Ic,type:I.Fc.NORMAL};case I.ne.MOVE_SELECTED_ITEMS:return{message:id,type:I.Fc.NORMAL};case I.ne.DELETE_SELECTED_ITEMS:return{message:nd,type:I.Fc.NORMAL};case I.ne.DELETE_ALL_FROM_SENDERS:return{message:Nc,type:I.Fc.NORMAL};case I.ne.UNDO_MOVE:return{message:bc,type:I.Fc.NORMAL};case I.ne.DELETE_DRAFT:return{message:zo.b,type:I.Fc.NORMAL}}switch(o){case I.sc.READ:case I.sc.STAR:case I.sc.SPAM:case I.sc.HAM:case I.sc.ANSWER:case I.sc.FORWARD:case I.sc.DECO:return n?{message:Dc,type:I.Fc.NORMAL}:null}},[go.sl]:e=>{const t=e.messageItemsToSync,s=void 0===t?[]:t,a=e.isAsync,n=void 0!==a&&a,r=(s.length>0?s[s.length-1]:{}).updateTypes,i=void 0===r?[]:r,o=i.length>0?i[i.length-1]:"";switch(e.triageActionType){case I.ne.ARCHIVE_FOLDER_ITEMS:return{message:rc,type:I.Fc.WARNING};case I.ne.ARCHIVE_ALL_ITEMS:case I.ne.RESTORE_ALL_ITEMS:case I.ne.SPAM_ALL_ITEMS:case I.ne.NOT_SPAM_ALL_ITEMS:case I.ne.MOVE_ALL_ITEMS:return{message:vc,type:I.Fc.WARNING};case I.ne.DELETE_FOLDER_ITEMS:case I.ne.DELETE_ALL_ITEMS:return{message:oc,type:I.Fc.WARNING};case I.ne.READ_CHANGE_FOLDER_ITEMS:case I.ne.READ_CHANGE_ALL_ITEMS:return{message:ac,type:I.Fc.WARNING};case I.ne.STAR_CHANGE_ALL_ITEMS:return{message:Fc,type:I.Fc.WARNING};case I.ne.ARCHIVE_SELECTED_ITEMS:return{message:Cc,type:I.Fc.WARNING};case I.ne.RESTORE_SELECTED_ITEMS:return{message:Tc,type:I.Fc.WARNING};case I.ne.SPAM_SELECTED_ITEMS:return{message:Ec,type:I.Fc.WARNING};case I.ne.NOT_SPAM_SELECTED_ITEMS:return{message:Sc,type:I.Fc.WARNING};case I.ne.MOVE_SELECTED_ITEMS:return{message:hc,type:I.Fc.WARNING};case I.ne.DELETE_SELECTED_ITEMS:return{message:Ac,type:I.Fc.WARNING};case I.ne.DELETE_ALL_FROM_SENDERS:return{message:Mc,type:I.Fc.WARNING};case I.ne.UNDO_MOVE:return{message:Oc,type:I.Fc.WARNING};case I.ne.DELETE_DRAFT:return{message:zo.a,type:I.Fc.WARNING}}switch(o){case I.sc.READ:case I.sc.STAR:case I.sc.SPAM:case I.sc.HAM:case I.sc.ANSWER:case I.sc.FORWARD:case I.sc.DECO:return n?{message:yc,type:I.Fc.WARNING}:null}},[go.B]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.activate_offer_failure",defaultMessage:"Unable to add now. Try again later."}),type:I.Fc.WARNING},[go.vg]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.link_retailer_success",defaultMessage:"Linked retailer successfully."}),type:I.Fc.NORMAL},[go.Yk]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.unlink_retailer_success",defaultMessage:"Loyalty card has been sucessfully unlinked"}),type:I.Fc.NORMAL},[go.Wk]:{message:()=>ii.a.createElement(mi.FormattedMessage,{id:"notification.unlink_retailer_failure",defaultMessage:"Unable to unlink the card now. Try again later."}),type:I.Fc.WARNING},[go.r]:{message:Yc,type:I.Fc.WARNING},[go.fl]:{message:function(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.unsub_request_succeeded",defaultMessage:"Unsubscribe request sent."})},type:I.Fc.NORMAL},[go.dl]:{message:function(){return ii.a.createElement(mi.FormattedMessage,{id:"notification.unsub_request_failed",defaultMessage:"Unsubscribe failed. Try Again."})},type:I.Fc.WARNING},[go.mb]:{message:dd,type:I.Fc.NORMAL},[go.Vb]:{message:function({provider:e}){let t=e;const s=Object(b.a)(I.R,`${e}.displayName`);return s&&(t=s),ii.a.createElement(mi.FormattedMessage,{id:"cloud_storage_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:t}})},type:I.Fc.WARNING},[go.Xb]:{message:function({provider:e}){let t=e;const s=Object(b.a)(I.R,`${e}.displayName`);return s&&(t=s),ii.a.createElement(mi.FormattedMessage,{id:"cloud_storage_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:t}})},type:I.Fc.WARNING},[go.Zb]:{message:function({provider:e}){let t=e;const s=Object(b.a)(I.R,`${e}.displayName`);return s&&(t=s),ii.a.createElement(mi.FormattedMessage,{id:"cloud_storage_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:t}})},type:I.Fc.NORMAL},[go.ac]:{message:function({provider:e}){let t=e;const s=Object(b.a)(I.R,`${e}.displayName`);return s&&(t=s),ii.a.createElement(mi.FormattedMessage,{id:"cloud_storage_account_notifications.disconnect_failed",defaultMessage:"Unable to disconnect from {provider}",values:{provider:t}})},type:I.Fc.WARNING},[go.cc]:{message:function({provider:e}){let t=e;const s=Object(b.a)(I.R,`${e}.displayName`);return s&&(t=s),ii.a.createElement(mi.FormattedMessage,{id:"cloud_storage_account_notifications.disconnect_successful",defaultMessage:"Successfully disconnected from {provider}",values:{provider:t}})},type:I.Fc.NORMAL},[go.ic]:{message:function(){return ii.a.createElement(mi.FormattedMessage,{id:"cloud_storage_account_link.fetch_failed",defaultMessage:"Unable to fetch shareable link"})},type:I.Fc.WARNING}},ud=s(359),_d=s.n(ud),md=s(54);const pd=Object(mi.defineMessages)({close:{id:"notification.close",defaultMessage:"Close notification"}});class hd extends ii.a.Component{render(){const e=this.props,t=e.type,s=e.icon,a=e.sticky,n=xi()(uc.a,{type:t}),r=this.context.intl.formatMessage(pd.close),i=!s&&t===I.Fc.PENDING;let o=s;if(!o&&t!==I.Fc.ADVISORY)switch(t){case I.Fc.FOWARDING_WARNING:case I.Fc.WARNING:o=gi.b.EXCLAMATION_ALT;break;case I.Fc.PENDING:o=gi.b.REFRESH;break;default:o=gi.b.CHECKMARK}return ii.a.createElement("div",{className:n.container},ii.a.createElement("div",{className:n.innerContainer},o?ii.a.createElement("div",{className:n.icon,role:"presentation"},i?ii.a.createElement(md.b,{size:gi.d.S,inverted:!0}):ii.a.createElement(hi.b,{kind:o,size:gi.d.S,colorState:gi.a.INVERTED})):null,ii.a.createElement("div",{className:n.content},this.props.children),a?null:ii.a.createElement("div",{className:n.close},ii.a.createElement(pi.a,{kind:gi.b.CLOSE_MINI,size:gi.d.XS,colorState:gi.a.NORMAL,title:r,role:"presentation",onClick:this.props.onClose}))))}}ot()(hd,"contextTypes",{intl:mi.intlShape.isRequired}),ot()(hd,"defaultProps",{sticky:!1,requireInteraction:!1,type:I.Fc.NORMAL});var gd=hd;function Ed(e,{i13nModel:t}){e.dispatch(go.Fh,{i13nModel:t})}class Id extends ri.Component{constructor(e){super(e),this.onCloseWrapper=this.onCloseWrapper.bind(this),this.toastContainerNodes={}}onCloseWrapper(){const e=this.props,t=e.toast,s=e.onClose;t.message!==Jc&&t.message!==$c&&t.message!==Qc||this.context.executeAction(Ed,{i13nModel:{mKey:Gi.e.UNSUB_ALL_DONE,sec:Gi.g.UNSUB_PANE}}),t.message===To&&this.context.executeAction(Eo.b),s()}componentDidMount(){const e=document.getElementById("app");Object.keys(I.Ec).forEach(t=>{const s=I.Ec[t],a=document.createElement("div");a.setAttribute("role",s),e.appendChild(a),this.toastContainerNodes[s]=a})}componentDidUpdate({toast:e,role:t}){const s=this.props,a=s.role;if(!s.toast)return _i.a.unmountComponentAtNode(this.toastContainerNodes[a]);e&&t!==a&&_i.a.unmountComponentAtNode(this.toastContainerNodes[t]),this.renderToast()}renderToast(){const e=this.props,t=e.toast,s=e.role,a=e.onPause,n=e.onResume,r=e.conversations,i=t.message,o=t.data,c=t.type,d=void 0===c?I.Fc.WARNING:c,l=t.sticky,u=void 0!==l&&l,_=t.modal,m=void 0!==_&&_,p=t.icon,h=t.bottomAlert,g=t.alertFromModalDialog,E=this.context.getCss(_d.a,{bottomAlert:void 0!==h&&h,multiTask:e.multiTask,alertFromModalDialog:void 0!==g&&g});let S=ii.a.createElement("div",{className:E.alert,onMouseOver:a,onMouseLeave:n,"data-test-id":"notifications"},ii.a.createElement(gd,{icon:p,sticky:u,type:d,onClose:this.onCloseWrapper},ii.a.createElement(i,di()({conversations:r},o,{onClose:this.onCloseWrapper}))));m&&(S=ii.a.createElement("div",{className:E.modal,"data-test-id":"modal",role:"presentation"},S)),_i.a.unstable_renderSubtreeIntoContainer(this,S,this.toastContainerNodes[s])}render(){return null}}Id.contextTypes={getCss:ni.a.func.isRequired,executeAction:ni.a.func.isRequired};var Sd=Object(oi.connect)(e=>{const t=Object($i.b)(e).getFeaturesSelectors().isEnabled;return{multiTask:t(I.zd.MAIL_TABS),conversations:t(I.ub.CONVERSATIONS)}})(Id),Cd=s(173);const fd=Object(mi.defineMessages)({htmlTitle:{id:"html_title",defaultMessage:"{numUnread, plural, =0 {} one {(# unread) - } other {(# unread) - }}{emailAddress} - {yahooBrand}"},htmlTitleNewMessages:{id:"html_title_new_messages",defaultMessage:"{newItemCount, plural, =1 {# New Message} other {# New Messages}}"}});class Td extends ii.a.Component{constructor(...e){super(...e),ot()(this,"updateTitle",()=>{const e=this.props,t=e.newItemCount,s=this.getStandardTitle(e.defaultFolderUnreadCount,e.activeEmailAddress);if(t){const e=this.getNotificationTitle(t);this.flashTitle(e,s,4)}else document.title=s}),ot()(this,"getStandardTitle",(e,t)=>{const s=this.context.intl.formatMessage,a=this.context.mailBrandNameString||s(Cd.a.mailBrandName);return s(fd.htmlTitle,{numUnread:e,emailAddress:t,yahooBrand:a})}),ot()(this,"getNotificationTitle",e=>{return(0,this.context.intl.formatMessage)(fd.htmlTitleNewMessages,{newItemCount:e})}),ot()(this,"flashTitle",(e,t,s)=>{if(0===s)return;const a=this.props,n=a.documentTitleNotificationDuration,r=a.documentTitleStandardDuration,i=s%2==0;document.title=i?e:t,this.flashTitleTimeout=setTimeout(()=>{this.flashTitle(e,t,s-1)},i?n:r)})}componentDidMount(){this.updateTitle()}componentWillUnmount(){clearTimeout(this.flashTitleTimeout)}componentDidUpdate(){clearTimeout(this.flashTitleTimeout),this.updateTitle()}render(){return null}}ot()(Td,"contextTypes",{config:ni.a.object,intl:mi.intlShape,mailBrandNameString:ni.a.string});var Ad=Object(oi.connect)(e=>{const t=(0,Object($i.b)(e).getFeaturesSelectors)();return{documentTitleNotificationDuration:t.getSetting("documentTitleNotificationDuration"),documentTitleStandardDuration:t.getSetting("documentTitleStandardDuration")}})(Td);var bd=class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"updateFavicon",()=>{const e=this.props.newItemCount;try{this.faviconElem.href=0===e?this.faviconDefaultImageUri:this.faviconAlertImageUri,document.head.removeChild(this.faviconElem),document.head.appendChild(this.faviconElem)}catch(e){}})}componentDidMount(){this.faviconElem=document.getElementById("favicon"),this.faviconDefaultImageUri=this.faviconElem.href,this.faviconAlertImageUri=document.getElementById("favicon_alert")&&document.getElementById("favicon_alert").href}shouldComponentUpdate(e){return!(0===e.newItemCount&&this.faviconElem.href===this.faviconDefaultImageUri||e.newItemCount>0&&this.faviconElem.href===this.faviconAlertImageUri)}componentDidUpdate(){this.updateFavicon()}render(){return null}};var Od=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.isAppVisible,a=t.getActionTimeStamp,n=t.getCurrentListId,r=t.getDefaultFolderIdForSelectedAccount,i=t.getEmailOfSelectedAccount,o=t.getApplicationLastVisibleTimeStamp,c=t.getMessageListItemsSinceTimestamp,d=t.doesListExist,l=(0,(0,t.getFoldersSelectors)().getFolderUnreadCount)(r()),u=i(),_=n(),m=s()?a():o();return{defaultFolderUnreadCount:l,activeEmailAddress:u,newItemCount:(d(_)?c(_,m):[]).length}})(class extends ii.a.Component{shouldComponentUpdate({defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}){const a=this.props;return e!==a.defaultFolderUnreadCount||t!==a.activeEmailAddress||s!==a.newItemCount}render(){return ii.a.createElement("div",null,ii.a.createElement(Ad,this.props),ii.a.createElement(bd,this.props))}});var Rd=s(258),Nd=s(102),Md=s(456),Dd=s.n(Md);const yd=["meta+shift+/","ctrl+shift+/","meta+shift+,","ctrl+shift+,"];class Ld extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{shown:!1}),ot()(this,"handleShortcuts",e=>{e.preventDefault(),e.stopPropagation(),!e.shiftKey||!e.ctrlKey&&!e.metaKey||"Comma"!==e.code&&"Slash"!==e.code||this.show(e)}),ot()(this,"show",e=>{e.preventDefault(),e.stopPropagation(),this.state.shown||this.setState({shown:!0})}),ot()(this,"handleDismiss",()=>{this.setState({shown:!1})}),ot()(this,"handleKeyDown",e=>{"Enter"!==e.key&&"Escape"!==e.key||(e.preventDefault(),e.stopPropagation(),this.handleDismiss())}),ot()(this,"renderAdList",e=>{const t=this.props.darlaAdCallResult,s=t.spaceId,a=t.prevSpaceId,n=t.positions,r=void 0===n?[]:n,i=t.prevPositions,o=void 0===i?[]:i,c=xi()(Dd.a),d=e?r:o;if(!d.length)return null;const l=d.map(e=>ii.a.createElement("div",{key:e.position,className:c.positionRow},ii.a.createElement("a",{className:c.link,href:e.debugUrl,target:"_blank",rel:"noopener noreferrer"},"Position: ",e.position),ii.a.createElement("span",{className:c.positionCol},"Booking Id: ",e.bookId)));return ii.a.createElement("div",null,ii.a.createElement("div",{className:c.header},`${e?"Current":"Previous"} ads`),ii.a.createElement("div",{className:c.spaceid},"Space Id: ",e?s:a),l)}),ot()(this,"composePositionList",e=>e.map(e=>`\n                <tr>\n                <td>Position: ${e.position}</td>\n                <td>Url: ${e.debugUrl?`${e.debugUrl}`:"N/A"}</td>   \n                <td>Booking Id: ${e.bookId}</td>\n                </tr>`)),ot()(this,"composeEmailBody",()=>{const e=this.props.darlaAdCallResult,t=e.prevSpaceId,s=e.positions,a=void 0===s?[]:s,n=e.prevPositions,r=void 0===n?[]:n;let i='<p>Comment:</p><br style="line-height: 250px">';if(a.length){i+=`<hr><h4>Current ads</h4><p>Space Id: ${e.spaceId}</p><table><tbody>`,i+=this.composePositionList(a).join(""),i+="</tbody></table>"}if(r.length){i+=`<h4>Previous ads</h4> <p>Space Id: ${t}</p><table><tbody>`,i+=this.composePositionList(r).join(""),i+="</tbody></table>"}return i}),ot()(this,"handleSendToCompose",()=>{this.handleDismiss();(0,this.props.openComposeView)({composeParams:{to:[{email:"yahoomailadsreview@verizonmedia.com"}],subject:"Yahoo Mail Ad Feedback - Ad Details",body:this.composeEmailBody()}})})}componentDidMount(){this.context.bindShortcut(yd,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(yd)}render(){const e=this.state.shown,t=xi()(Dd.a);return e?ii.a.createElement(Nd.a,{onClose:this.handleDismiss,onKeyDown:this.handleKeyDown},ii.a.createElement("div",{className:t.container},ii.a.createElement("div",{className:t.header},"Ad Information"),this.renderAdList(!1),this.renderAdList(!0),this.props.darlaErrorMessage?ii.a.createElement("div",{className:t.spaceid},"Err:",this.props.darlaErrorMessage):null,ii.a.createElement("div",{className:t.buttonContainer},ii.a.createElement("span",null,ii.a.createElement(Li.a,{onClick:this.handleDismiss,className:t.button},"OK"),ii.a.createElement(Li.a,{className:t.button,onClick:this.handleSendToCompose},"Send Feedback"))))):null}}ot()(Ld,"contextTypes",{bindShortcut:ni.a.func,unbindShortcut:ni.a.func});var vd=Object(oi.connect)(e=>{const t=(0,Object($i.b)(e).getAdsSelectors)().getDarlaAdData();return{darlaAdCallResult:t.ads,darlaErrorMessage:t.errorMessage}},e=>({openComposeView:t=>e(Object(Ti.h)(t))}))(Ld),Pd=s(141),Fd=s(155),wd=s(133),kd=s(34),xd=s(98),Ud=s(668),Gd=s.n(Ud);const jd="https://login.yahoo.com/config/login?logout=1&.direct=2&.done="+encodeURIComponent("https://www.yahoo.com"),Hd=Object(mi.defineMessages)({logout:{id:"logout",defaultMessage:"Sign out"}});function Bd(e,{intl:t}){const s=xi()(Gd.a),a=e.primaryAccountAddress,n=e.onLogout;return ii.a.createElement(Fd.a,{className:s.account,onMenuShow:e.onAccountMenuShow},ii.a.createElement(wd.a,{hasText:!0,tabIndex:Ri.TabIndices.APP_HEADER_ACCOUNT_MENU,"data-test-id":"account-menu",className:s.menuButton},ii.a.createElement("span",{className:s.button},ii.a.createElement("span",{className:s.accountText,"data-test-id":"account-first-name"},e.userDisplayName),ii.a.createElement(hi.b,{kind:gi.b.CHEVRON_UP,size:gi.d.XS,rotate:gi.c.D180,colorState:gi.a.INVERTED}))),ii.a.createElement(Pd.a,null,ii.a.createElement(kd.a,{kind:xd.a.WRAP_CONTENT,key:a,name:a,ariaLabel:a},ii.a.createElement("div",{className:s.menuContainer},ii.a.createElement("span",{className:s.menuName,"data-test-id":"account-full-name"},e.userDisplayName),ii.a.createElement("span",{className:s.menuAddress,"data-test-id":"account-address"},a))),ii.a.createElement(kd.a,{name:"logout",key:"logout",ariaLabel:t.formatMessage(Hd.logout),kind:xd.a.WRAP_CONTENT},ii.a.createElement("a",{onClick:n,href:jd,className:s.logoutLink,"data-test-id":"logout-link"},t.formatMessage(Hd.logout)))))}Bd.contextTypes={intl:mi.intlShape};var Vd=s(65),Wd=s(118),qd=s(99),zd=s(457),Kd=s.n(zd);const Zd=Object(mi.defineMessages)({mini_apps:{id:"appheader.mini_apps",defaultMessage:"Apps"},mail_icon:{id:"appheader.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"appheader.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"appheader.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"appheader.notepad_icon",defaultMessage:"Notepad"},messenger_icon:{id:"appheader.messenger_icon_branding",defaultMessage:"Messenger"},news_feed_icon:{id:"appheader.news_feed_icon",defaultMessage:"News Feed"}});class Yd extends ii.a.Component{constructor(...e){super(...e),ot()(this,"_getAltText",(e,t)=>""===t?e:t+" | "+e),ot()(this,"onAccountMenuShow",()=>{this.context.executeAction(Ki.a,{i13nModel:{mKey:Gi.e.ACCOUNT_SETTINGS,sec:Gi.g.HEADER_SETTINGS}})}),ot()(this,"onLogout",e=>{this.context.executeAction(Ki.c,{i13nModel:{mKey:Gi.e.SIGNOUT,sec:Gi.g.HEADER_SETTINGS,interactionType:Object(vs.j)(e)}})}),ot()(this,"onLogoClick",e=>{this.context.executeAction(Ki.b,{i13nModel:{mKey:Gi.e.YMAIL_LOGO,sec:Gi.g.HEADER,interactionType:Object(vs.j)(e)}}),"function"==typeof this.props.onNavClick&&this.props.onNavClick(e)}),ot()(this,"handleAppLinkItemClick",(e,t,s)=>{this.context.executeAction(Ki.b,{i13nModel:{mKey:t,sec:Gi.g.HEADER_NAV,interactionType:Object(vs.j)(e)}}),"function"==typeof s&&s(e)}),ot()(this,"_renderAppLinkItem",({href:e,kind:t,text:s,callback:a,isActive:n,mKey:r},i,o)=>{const c=this.context.intl.formatMessage;let d;return d=n?i?gi.a.NORMAL:gi.a.INVERTED:i?gi.a.DISABLED:gi.a.INVERTED_DIM,ii.a.createElement("li",{key:e,className:i?null:o.iconWrapper},ii.a.createElement("a",{onClick:e=>this.handleAppLinkItemClick(e,r,a),href:e,className:i?o.mailAppsPopoverLink:o.iconNavLink,"aria-label":c(s),title:c(s),target:t,"data-iskeynav":!0,tabIndex:-1},ii.a.createElement(hi.b,{colorState:d,kind:t,size:gi.d.XS}),i?ii.a.createElement("span",{className:o.mailAppsPopoverItemLabel},n?ii.a.createElement("strong",null,c(s)):c(s)):null))}),ot()(this,"_renderAppLinkItems",e=>{const t=xi()(Kd.a,{tabsVisible:this.props.tabsVisible});return[{href:this.props.defaultRouteURL,kind:gi.b.INBOX,text:Zd.mail_icon,callback:this.props.onNavClick,isActive:!0,mKey:Gi.e.MAIL_ICON},{href:"https://mail.yahoo.com/neo/launch?action=contacts",kind:gi.b.CONTACT_CARD,text:Zd.contacts_icon,mKey:Gi.e.CONTACTS_ICON},{href:this.props.calendarURL,kind:gi.b.CALENDAR,text:Zd.calendar_icon,mKey:Gi.e.CALENDAR_ICON},{href:"https://calendar.yahoo.com/?view=notepad",kind:gi.b.NOTEPAD,text:Zd.notepad_icon,mKey:Gi.e.NOTEPAD_ICON},{href:"https://messenger.yahoo.com/",kind:gi.b.MESSENGER,text:Zd.messenger_icon,mKey:Gi.e.MESSENGER_ICON}].map(s=>this._renderAppLinkItem(s,e,t))})}shouldComponentUpdate(e){return this.props.primaryAccountAddress!==e.primaryAccountAddress||this.props.userDisplayName!==e.userDisplayName||this.props.partnerBrand!==e.partnerBrand||this.props.defaultRouteURL!==e.defaultRouteURL||this.props.tabsVisible!==e.tabsVisible||this.props.onNavClick!==e.onNavClick}render(){const e=this.props,t=e.primaryAccountAddress,s=e.userDisplayName,a=e.tabsVisible,n=e.logoUrl,r=this.context.intl.formatMessage,i=this.context.mailBrandNameString||r(Cd.a.mailBrandName),o=xi()(Kd.a,{tabsVisible:a});return ii.a.createElement("header",{className:o.header},ii.a.createElement("div",{className:o.brandSideContainer},ii.a.createElement("div",{className:o.logo},ii.a.createElement("a",{href:this.props.defaultRouteURL,onClick:this.onLogoClick,"aria-label":this._getAltText(i,this.props.partnerBrand),tabIndex:-1},ii.a.createElement("img",{className:o.logoImage,alt:this._getAltText(i,this.props.partnerBrand),src:n}))),ii.a.createElement("div",{className:o.mailAppsCompact},ii.a.createElement(Mi.a,null,ii.a.createElement(Di.a,null,ii.a.createElement(pi.a,{kind:gi.b.APP_HIDDEN,title:r(Zd.mini_apps),colorState:gi.a.INVERTED,tabIndex:Ri.TabIndices.APP_HEADER_MAIL_APPS})),ii.a.createElement(Ni.b,{triggerOn:yi.i.CLICK,permittedArrowDirections:[yi.h.UP],align:yi.a.START,offset:4*Ri.GRID_UNIT,zAltitude:Ri.ZIndices.POPOVER.HIGH,"data-test-id":"mail-apps-popover"},ii.a.createElement("div",{className:o.popoverListWrapper},ii.a.createElement(Pi.a,{kind:qd.a.MENU,focusOnMount:!0},this._renderAppLinkItems(!0)))))),ii.a.createElement(Wd.a,{axis:Wd.b.HORIZONTAL,"data-test-id":"app-header",groupTabIndex:Ri.TabIndices.APP_HEADER_MAIL_APPS},ii.a.createElement("ul",{className:o.mailApps},this._renderAppLinkItems(!1)))),ii.a.createElement("div",{className:o.searchCenterContainer},ii.a.createElement("div",{className:o.searchContainer},this.props.searchComponent)),ii.a.createElement("div",{className:o.accountToolsSideContainer},ii.a.createElement("div",{className:o.avatar},ii.a.createElement(Vd.d,{contact:{email:t},size:Vd.c.M}),ii.a.createElement(Bd,{primaryAccountAddress:t,userDisplayName:s,onAccountMenuShow:this.onAccountMenuShow,onLogout:this.onLogout})),ii.a.createElement("div",{className:o.settingsLink},this.props.settings?this.props.settingsMenuComponent:null)))}}ot()(Yd,"contextTypes",{config:ni.a.object,executeAction:ni.a.func,intl:mi.intlShape.isRequired,mailBrandNameString:ni.a.string});var Xd=Yd,Qd=s(550),$d=s.n(Qd),Jd=s(211);const el=Object(mi.defineMessages)({settingsMenu:{id:"settings_menu_aria_label",defaultMessage:"Settings Menu"}});class tl extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleGearIconClick",()=>{this.props.showSettingsCue&&this.props.featureCueClosed({name:I.ub.SETTINGS_CUE}),this.props.showSettings({i13nModel:{mKey:Gi.e.SETTINGS_GEAR_ICON,sec:Gi.g.HEADER_NAV}})}),ot()(this,"handleSettingsLabelClick",()=>{this.props.showSettings({i13nModel:{mKey:Gi.e.SETTINGS_LABEL,sec:Gi.g.HEADER_NAV}})}),ot()(this,"cueTryNowHandler",()=>{this._container.hide(yi.i.MOUNT),this._container.show(yi.i.CLICK)}),ot()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),ot()(this,"updateContentNTK",e=>{e&&e.updatePosition()}),ot()(this,"renderCue",()=>this.props.showSettingsCue?ii.a.createElement(Ni.a,{triggerOn:yi.i.MOUNT,onClose:this.cueClosed,zAltitude:Ri.ZIndices.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},persistent:!0,permittedArrowDirections:[yi.h.END]},ii.a.createElement(qi.a,{import:"../../atoms/settings_personalize_cue",cueName:I.ub.SETTINGS_CUE,onTryNow:this.cueTryNowHandler,onShow:this.updateContent,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1160))},_moduleResolver:function(){return 1160}})):null),ot()(this,"renderNeedToKnowNewsCue",()=>this.props.showNeedToKnowNewsCue&&this.homeIconRef?ii.a.createElement(Ni.a,{triggerOn:yi.i.MOUNT,zAltitude:Ri.ZIndices.POPOVER.HIGH,popoverAnchor:this.homeIconRef,isRTL:this.props.isRTL,ref:e=>{this.popoverContentNTK=e},align:yi.a.END,offset:0,borderRadius:yi.e.HIGH,persistent:!0,permittedArrowDirections:[yi.h.UP]},ii.a.createElement(qi.a,{defer:!0,import:"../../../../molecules/need_to_know_news_cue",cueName:I.ub.NEED_TO_KNOW_NEWS_CUE,onShow:()=>this.updateContentNTK(this.popoverContentNTK),_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1161))},_moduleResolver:function(){return 1161}})):null),ot()(this,"getFujiIcon",()=>{const e=this.context.intl.formatMessage,t=this.context.getThemeMode()!==fi.h.LIGHT;return ii.a.createElement(pi.a,{onClick:this.handleGearIconClick,"data-iskeynav":!0,paddingLess:!0,size:gi.d.XS,kind:gi.b.SETTINGS,title:e(el.settingsMenu),"aria-label":e(el.settingsMenu),colorState:gi.a.INHERITED,isOnDarkBackground:t})})}componentDidMount(){window.showSettingsPopover&&(this._container.show(yi.i.CLICK),window.showSettingsPopover=void 0),this.props.autoOpenSettingsPopover&&!window.autoOpenSettingsPopover&&(this._container.show(yi.i.CLICK),window.autoOpenSettingsPopover=!0);const e=window.document.getElementsByClassName("ybar-icon-sprite")||[];this.homeIconRef=e[e.length-1]}componentWillReceiveProps(e){!this.props.autoOpenSettingsPopover&&e.autoOpenSettingsPopover&&(this._container.show(yi.i.CLICK),this.props.toggleAutoOpenSettingsPopover({status:!1}))}render(){const e=this.props,t=e.verticalLayout,a=e.windowDimensions,n=e.commsPropertiesSection,r=e.isRTL,i=t?yi.a.START:yi.a.END,o=t?yi.h.END:yi.h.UP,c=(a?a.contentAndRightRailHeight:0)-(t?Jd.g:n?n.clientHeight:Jd.a)-Jd.f,d=this.context.getCss($d.a,{verticalLayout:t,verticalPreviewPane:e.previewPaneSetting===I.Rc.RIGHT&&!e.showContactsPane,hasContactCard:e.hasContactCard});return ii.a.createElement("div",{className:d.settingsLabelIconContainer},ii.a.createElement(Mi.a,{ref:e=>this._container=e},ii.a.createElement(Di.a,null,ii.a.createElement("div",{className:d.settingsGearIcon},t?null:ii.a.createElement("span",{className:d.label,onClick:this.handleSettingsLabelClick,"data-test-id":"settings-link-label"},ii.a.createElement(mi.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"})),this.getFujiIcon())),ii.a.createElement(Ni.a,{offset:8,align:i,arrowSize:yi.b.M,triggerOn:yi.i.CLICK,overflowScroll:!1,permittedArrowDirections:[o],bg:yi.d.LIGHTGRAY,isRTL:r},e=>ii.a.createElement(qi.a,{import:"./settings_menu",onOptOutFeedback:this.props.onOptOutFeedback,availableHeightBelowCommsProps:c,onUpdateCompleted:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1228))},_moduleResolver:function(){return 1228}},ii.a.createElement(qi.b,{loading:!0},ii.a.createElement("div",{className:d.menuContainerLazy},ii.a.createElement(md.b,null))))),this.renderCue()),this.renderNeedToKnowNewsCue())}}ot()(tl,"contextTypes",{intl:mi.intlShape.isRequired,executeAction:ni.a.func,getCss:ni.a.func,getThemeMode:ni.a.func});var sl=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getActionableRightRailPane,a=t.isFeatureEnabled,n=(0,t.getEnvironmentSelectors)(),r=s()===I.ed.ContactsPane;return{isRTL:"rtl"===n.getPageDirection(),showContactsPane:r,showNeedToKnowNewsCue:a(I.ub.NEED_TO_KNOW_NEWS_CUE)}},e=>({featureCueClosed:t=>e(Object(zi.a)(t)),showSettings:t=>e(Object($o.C)(t)),toggleAutoOpenSettingsPopover:t=>e(Object($o.D)(t))}))(tl),al=s(90),nl=s.n(al),rl=s(136),il=s(164),ol=s(669),cl=s.n(ol),dl=s(79);const ll=xi()(cl.a),ul=Object(mi.defineMessages)({chevron_title:{id:"advanced_search.chevron_title",defaultMessage:"Toggle advanced search pane"}});class _l extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleOnClick",e=>{const t={mKey:Gi.e.ADVANCED_SEARCH,interactionType:Object(vs.j)(e)};this.props.onClick({i13nModel:t})})}render(){const e=this.context.intl.formatMessage,t=this.props;return ii.a.createElement("div",{className:ll.buttonContainer,"data-test-id":"advanced-search-button"},ii.a.createElement(dl.a,{tabIndex:t.tabIndex,kind:gi.b.CHEVRON_UP,colorStates:{normal:gi.a.DISABLED,hovered:gi.a.SELECTED},size:gi.d.S,rotate:t.chevronDown?gi.c.D180:null,title:e(ul.chevron_title),"aria-label":e(ul.chevron_title),onClick:this.handleOnClick,paddingLess:!0}))}}ot()(_l,"contextTypes",{intl:mi.intlShape.isRequired}),ot()(_l,"defaultProps",{chevronDown:!0});var ml=_l,pl=s(89),hl=s(314),gl=s(167),El=s(360),Il=s.n(El),Sl=s(250);var Cl=({suggestion:e,inputValue:t=""})=>{const s=e.name,a=e.subject,n=e.type===I.Vd.EMAIL&&a?a.replace(/\^_/g,""):s;return ii.a.createElement(Sl.a,{haystack:n,title:n,needle:t,formatter:e=>ii.a.createElement("strong",null,e)})};const fl=xi()(Il.a),Tl=Object(mi.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),Al=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>{return ii.a.createElement("div",{className:fl.suggestionOption},ii.a.createElement("span",{className:fl.suggestionAvatar},ii.a.createElement(Vd.d,{contact:{id:e.serviceId},size:Vd.c.M})),ii.a.createElement("div",{className:fl.personSuggestionLabel},ii.a.createElement("div",{className:fl.suggestionLabel},ii.a.createElement(Cl,{suggestion:e,inputValue:t})),(()=>{const a=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,a=V()(e,1)[0];return s>0?t(Tl.search_email_addresses,{emailAddress:a,extraEmailCount:s}):a})({emailIds:e.emailIds,formatMessage:s});return ii.a.createElement("div",{className:fl.emailAddressLabel,"data-test-id":"person-item-email-list"},ii.a.createElement(Sl.a,{haystack:a,title:a,needle:t,formatter:e=>ii.a.createElement("strong",null,e)}))})()))};Al.contextTypes={intl:mi.intlShape.isRequired};var bl=Al,Ol=s(672),Rl=s.n(Ol),Nl=s(153);const Ml=xi()(Rl.a),Dl=Object(mi.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),yl=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s},timezone:a})=>{const n=e.date,r=JSON.parse(e.from)[0].email,i=1e3*parseInt(n,10);return ii.a.createElement("div",{className:Ml.suggestionOption},ii.a.createElement("div",{className:Ml.suggestionLabelContainer},ii.a.createElement("span",{className:Ml.suggestionIcon},ii.a.createElement(hi.b,{kind:gi.b.INBOX,size:gi.d.XS,colorState:gi.a.COOL_FAINT})),ii.a.createElement("div",{className:Ml.emailSuggestionLabel},ii.a.createElement("div",{className:Ml.suggestionLabel},ii.a.createElement(Cl,{suggestion:e,inputValue:t})),(()=>{const e=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,a=V()(e,1)[0];return s>0?t(Dl.search_email_addresses,{emailAddress:a,extraEmailCount:s}):a})({emailIds:[r],formatMessage:s});return ii.a.createElement("div",{className:Ml.emailAddressLabel,"data-test-id":"person-item-email-list"},ii.a.createElement(Sl.a,{haystack:e,title:e,needle:t,formatter:e=>ii.a.createElement("strong",null,e)}))})())),ii.a.createElement("div",{className:Ml.dateLabel},ii.a.createElement(Nl.a,{date:new Date(i),timezone:a.name})))};yl.contextTypes={intl:mi.intlShape.isRequired,timezone:No.e};var Ll=yl;const vl=Object(mi.defineMessages)({remove_history:{id:"btn_remove_history",defaultMessage:"Remove"}}),Pl=xi()(Il.a);class Fl extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleDeleteRecent",e=>{e.preventDefault(),e.stopPropagation(),this.props.deleteRecent(this.props.suggestion)})}renderSuggestionWithIcon(e){const t=this.context.intl.formatMessage,s=this.props.suggestion;return ii.a.createElement("div",{className:Pl.keywordSuggestionOption},ii.a.createElement("span",{className:Pl.keywordSuggestionIcon},ii.a.createElement(hi.b,{kind:e,size:gi.d.S,colorState:gi.a.FIRST_LEVEL_GRAY})),ii.a.createElement("div",{className:Pl.keywordSuggestionLabel},ii.a.createElement(Cl,this.props)),s.type===I.Vd.RECENT&&ii.a.createElement("span",{className:Pl.deleteButton},ii.a.createElement(dl.a,{"data-iskeynav":!0,kind:gi.b.CLOSE,size:gi.d.XXS,title:t(vl.remove_history),colorStates:{normal:gi.a.NORMAL,hovered:gi.a.SELECTED},onMouseDown:this.handleDeleteRecent})))}render(){switch(this.props.suggestion.type){case I.Vd.PERSON:return ii.a.createElement(bl,this.props);case I.Vd.RECENT:return this.renderSuggestionWithIcon(gi.b.CLOCK_OUTLINE);case I.Vd.KEYWORD:return this.renderSuggestionWithIcon(gi.b.SEARCH);case I.Vd.EMAIL:return ii.a.createElement(Ll,this.props);default:return null}}}ot()(Fl,"contextTypes",{intl:mi.intlShape.isRequired}),ot()(Fl,"defaultProps",{inputValue:""});var wl=Fl,kl=s(64),xl=s(88),Ul=s(217),Gl=s(126),jl=s.n(Gl),Hl=s(70),Bl=s(120),Vl=s(115),Wl=s(154);const ql=xi()(jl.a),zl=Object(mi.defineMessages)({subject_label:{id:"advanced_search.subject_label",defaultMessage:"Subject"}});class Kl extends ii.a.Component{render(){const e=this.props,t=e.subject,s=e.onChange,a=e.onClear;return ii.a.createElement("div",{className:ql.inputWrapper},ii.a.createElement("span",{className:ql.inputLabel},(0,this.context.intl.formatMessage)(zl.subject_label)),ii.a.createElement(Wl.a,{className:ql.inputField,type:"text",tabIndex:0,id:"adv-search-subject-input","data-test-id":"adv-search-subject-input",value:t,onClear:a,onChange:s,isClearable:!0}))}}ot()(Kl,"contextTypes",{intl:mi.intlShape.isRequired});var Zl=Kl;const Yl=xi()(jl.a),Xl=Object(mi.defineMessages)({keyword_label:{id:"advanced_search.keyword_label",defaultMessage:"Keyword"}});class Ql extends ii.a.Component{render(){const e=this.props,t=e.keyword,s=e.onChange,a=e.onClear;return ii.a.createElement("div",{className:Yl.inputWrapper},ii.a.createElement("span",{className:Yl.inputLabel},(0,this.context.intl.formatMessage)(Xl.keyword_label)),ii.a.createElement(Wl.a,{className:Yl.inputField,type:"text",tabIndex:0,id:"adv-search-keyword-input","data-test-id":"adv-search-keyword-input",value:t,onClear:a,onChange:s,isClearable:!0}))}}ot()(Ql,"contextTypes",{intl:mi.intlShape.isRequired});var $l=Ql,Jl=s(674),eu=s.n(Jl);const tu=xi()(eu.a),su=Object(mi.defineMessages)({reset_btn_title:{id:"advanced_search.reset_btn_title",defaultMessage:"Reset"},reset_btn_label:{id:"advanced_search.reset_btn_label",defaultMessage:"Reset"},search_btn_title:{id:"advanced_search.search_btn_title",defaultMessage:"Search"},search_btn_label:{id:"advanced_search.search_btn_label",defaultMessage:"Search"}});class au extends ii.a.Component{constructor(...e){super(...e),ot()(this,"isSearchButtonFocused",()=>document.activeElement===Object(ui.findDOMNode)(this.searchButton)),ot()(this,"focusSearchButton",()=>{Object(ui.findDOMNode)(this.searchButton).focus()})}render(){const e=this.props,t=e.onSubmit,s=e.disabled,a=this.context.intl.formatMessage;return ii.a.createElement("div",{className:tu.buttonContainer},ii.a.createElement("div",{className:tu.resetBtnWrapper},ii.a.createElement(Li.a,{onClick:e.onReset,"data-test-id":"adv-search-reset-btn",kind:vi.a.CHROMELESS,title:a(su.reset_btn_title),"data-iskeynav":!0,overridingClass:tu.resetBtn,tabIndex:0},a(su.reset_btn_label))),ii.a.createElement("div",{className:tu.searchBtnWrapper},ii.a.createElement(Li.a,{ref:e=>this.searchButton=e,onClick:t,"data-test-id":"adv-search-search-btn",kind:vi.a.SECONDARY,title:a(su.search_btn_title),"data-iskeynav":!0,tabIndex:0,disabled:s},a(su.search_btn_label))))}}ot()(au,"contextTypes",{intl:mi.intlShape.isRequired});var nu=au,ru=s(174),iu=s(308),ou=s.n(iu);const cu=xi()(ou.a),du=Object(mi.defineMessages)({contains_label:{id:"advanced_search.contains_label",defaultMessage:"Contains"},attachment_label:{id:"advanced_search.attachment_label",defaultMessage:"Attachment"},photo_label:{id:"advanced_search.photo_label",defaultMessage:"Photo"},calendar_invite_label:{id:"advanced_search.calendar_invite_label",defaultMessage:"Calendar invite"}});class lu extends ii.a.Component{constructor(...e){super(...e),ot()(this,"renderAttachmentCheckbox",e=>{const t=this.context.intl.formatMessage,s=xi()(ou.a,{checkboxSelected:e});return ii.a.createElement("div",{className:s.checkboxWrapper},ii.a.createElement(ru.a,{isChecked:e,id:"adv-search-attachment-checkbox","data-test-id":"adv-search-attachment-checkbox",onClick:this.props.onCheckboxClick.bind(null,I.p.ATTACHMENT),tabIndex:0,className:s.checkboxButton}),ii.a.createElement("label",{className:s.checkboxLabel,htmlFor:"adv-search-attachment-checkbox"},t(du.attachment_label)))}),ot()(this,"renderPhotoCheckbox",e=>{const t=this.context.intl.formatMessage,s=xi()(ou.a,{checkboxSelected:e});return ii.a.createElement("div",{className:s.checkboxWrapper},ii.a.createElement(ru.a,{isChecked:e,id:"adv-search-photo-checkbox","data-test-id":"adv-search-photo-checkbox",onClick:this.props.onCheckboxClick.bind(null,I.p.PHOTO),tabIndex:0,className:s.checkboxButton}),ii.a.createElement("label",{className:s.checkboxLabel,htmlFor:"adv-search-photo-checkbox"},t(du.photo_label)))}),ot()(this,"renderCalendarInviteCheckbox",e=>{const t=this.context.intl.formatMessage,s=xi()(ou.a,{checkboxSelected:e});return ii.a.createElement("div",{className:s.checkboxWrapper},ii.a.createElement(ru.a,{isChecked:e,id:"adv-search-calendarinvite-checkbox","data-test-id":"adv-search-calendarinvite-checkbox",onClick:this.props.onCheckboxClick.bind(null,I.p.CALENDAR_INVITE),tabIndex:0,className:s.checkboxButton}),ii.a.createElement("label",{className:s.checkboxLabel,htmlFor:"adv-search-calendarinvite-checkbox"},t(du.calendar_invite_label)))})}render(){const e=this.props,t=e.isPhotoChecked,s=e.isCalendarInviteChecked,a=e.isAttachmentChecked;return ii.a.createElement("div",{className:cu.checkboxContainerWrapper},ii.a.createElement("div",{className:cu.checkboxGroupLabelWrapper},ii.a.createElement("span",{className:cu.checkboxGroupLabel},(0,this.context.intl.formatMessage)(du.contains_label))),this.renderAttachmentCheckbox(a),this.renderPhotoCheckbox(t),this.renderCalendarInviteCheckbox(s))}}ot()(lu,"contextTypes",{intl:mi.intlShape.isRequired});var uu=lu,_u=s(240),mu=s(182);var pu=class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{hovered:!1}),ot()(this,"handleHover",e=>{this.setState({hovered:e})})}render(){const e=this.props,t=e.colorStates,s=M()(e,["colorStates"]),a=this.state.hovered?t.hovered:t.normal;return ii.a.createElement(hi.b,di()({},s,{onMouseEnter:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),colorState:a,allowPointerEvents:!0}))}};const hu=xi()(jl.a),gu=Object(b.c)(["ACCOUNT","FOLDER","ALL_MAIL"]);class Eu extends ii.a.Component{constructor(e){super(e),ot()(this,"focus",()=>{_i.a.findDOMNode(this).focus()}),ot()(this,"_getDefaultAccountDescription",e=>{const t=this.context.intl.formatMessage;switch(Object(xc.d)(e)){case I.ob.YAHOO:case I.ob.YAHOO_SB:return t(Ji.a.yahoo_account_description);case I.ob.GOOGLE:case I.ob.GOOGLE_APP:return t(Ji.a.gmail_account_description);case I.ob.OUTLOOK:return t(Ji.a.outlook_account_description);case I.ob.AOL:return t(Ji.a.aol_account_description);default:return t(Ji.a.unknown_account_description)}}),ot()(this,"_buildOptionList",()=>{const e=this.state.expandAccountId;return this.props.accountList.reduce((t,s)=>(t.push({type:gu.ACCOUNT,account:s,label:s.description||this._getDefaultAccountDescription(s)}),s.id===e&&(t=t.concat(this.props.getFoldersForRendering(s.id).map(e=>({type:gu.FOLDER,folder:e,label:e.name})))),t),[{type:gu.ALL_MAIL}])}),ot()(this,"getI10nLabel",(e,t)=>{const s=this.context.intl.formatMessage;let a,n;if(e)if(t){a=ii.a.createElement(Vo.a,{folderId:t.id}),n=s(I.Xd[t.type]?Ji.a.system_folder_label:Ji.a.custom_folder_label)}else a=ii.a.createElement(mi.FormattedMessage,{id:"advanced_search.unknown_folder_label",defaultMessage:"{foldersField}",values:{foldersField:e}}),n=s(Ji.a.unknown_folder_title);else a=ii.a.createElement(mi.FormattedMessage,{id:"advanced_search.all_mail_title",defaultMessage:"All mail"}),n=s(Ji.a.all_mail_title);return{menuLabel:a,menuTitle:n}}),ot()(this,"handleSearchChange",(e,t)=>{const s=this.props,a=s.onFolderChange,n=s.onAccountChange,r=e[t],i=r.type,o=r.account,c=r.folder;let d={};i!==gu.FOLDER?i!==gu.ACCOUNT?i===gu.ALL_MAIL&&(s.activeFolderId?a(d):n(d)):n(d={accountIds:[o.id]}):a(d={folders:[c.id]})}),ot()(this,"handleToggleExpandClick",(e,t)=>{const s=this.state.expandAccountId;t.stopPropagation(),t.preventDefault(),this.setState(e===s?{expandAccountId:null}:{expandAccountId:e})}),ot()(this,"formatSelectInput",(e,t)=>{const s=e[t],a=s.type,n=s.label,r=s.folder;let i;if(a===gu.ALL_MAIL&&(i=this.getI10nLabel(null,null)),a===gu.FOLDER&&(i=this.getI10nLabel(n,r)),i){const e=i.menuTitle;return{optionLabel:ii.a.createElement("span",{className:hu.folderFieldText},i.menuLabel),optionTitle:e}}return{optionLabel:ii.a.createElement("span",{className:hu.folderFieldText},n),optionTitle:n}}),ot()(this,"renderFolderItems",(e,t)=>{const s=this.context.intl.formatMessage,a=e.label,n=e.folder,r=this.props.accountList,i=n.level,o=n.id,c=this.getI10nLabel(a,n).menuLabel,d={paddingLeft:`${6*Ri.GRID_UNIT+4*Ri.GRID_UNIT*(i+(1===r.length?0:1))}px`};return ii.a.createElement(mu.a,{key:o,value:t,title:Object(At.n)(s,n.type)||a},ii.a.createElement("span",{className:hu.accountContainerFolderItem,style:d},c))}),ot()(this,"renderAllMailItem",()=>{const e=(0,this.context.intl.formatMessage)(Ji.a.all_mail_title),t=this.getI10nLabel(null,null);return ii.a.createElement(mu.a,{key:e,value:0,title:t.menuTitle},ii.a.createElement("span",{className:hu.accountContainerAllMail},t.menuLabel))}),ot()(this,"renderAccountHeader",(e,t)=>{const s=e.label,a=e.account.id,n=this.state.expandAccountId===a;return ii.a.createElement(mu.a,{key:s,value:t,title:s},ii.a.createElement("div",{className:hu.accountHeaderContainer},ii.a.createElement("div",{"data-test-id":"toggle-expansion-"+a,onClick:this.handleToggleExpandClick.bind(this,a),className:hu.accountContainerButtonContainer},ii.a.createElement(pu,{kind:gi.b.CHEVRON_UP,colorStates:{normal:gi.a.DISABLED,hovered:gi.a.SELECTED},size:gi.d.XS,rotate:n?gi.c.D180:gi.c.D90})),ii.a.createElement("span",{className:hu.accountContainerAccountHeader},s)))}),ot()(this,"renderMenuItems",e=>{const t=this.props.accountList;return e.reduce((e,s,a)=>{const n=s.type,r=s.folder;return n===gu.ALL_MAIL?e.concat(this.renderAllMailItem()):n===gu.ACCOUNT&&1!==t.length?e.concat(this.renderAccountHeader(s,a)):r?e.concat(this.renderFolderItems(s,a)):e},[])}),this.state={expandAccountId:e.initialExpandedAccountId}}render(){const e=this.props,t=e.activeFolderId,s=e.activeAccountId,a=e.tabIndex,n=this._buildOptionList(),r=this.renderMenuItems(n);let i=0;return s&&(i=n.findIndex(e=>{return e.type===gu.ACCOUNT&&e.account.id===s})),t&&(i=n.findIndex(e=>{return e.type===gu.FOLDER&&e.folder.id===t})),(i<=0||i>=n.length)&&(i=0),ii.a.createElement("div",{tabIndex:a,className:hu.accountContainerSelect,"data-test-id":"folder-menu-drop-down"},ii.a.createElement(_u.a,{selected:i,onChange:this.handleSearchChange.bind(this,n),inputFormatter:this.formatSelectInput.bind(this,n)},r))}}ot()(Eu,"contextTypes",{intl:mi.intlShape.isRequired});var Iu=Object(oi.connect)((e,{activeFolderId:t,activeAccountId:s,defaultAccountId:a})=>{const n=(0,Object($i.b)(e).getFoldersSelectors)();return{getFoldersForRendering:t=>{const s=(0,Object($i.b)(e).getFoldersSelectors)(),a=s.getCustomFolderList;return[...(0,s.getSystemFolderList)(t),...a(t)].filter(({type:e})=>-1===[I.Cb.BULK].indexOf(e)).filter(({disabled:e})=>!e)},initialExpandedAccountId:s||(t?(0,n.getAccountIdByFolderId)(t):a)}})(Eu);const Su=xi()(jl.a),Cu=Object(mi.defineMessages)({search_in_label:{id:"advanced_search.search_in_label",defaultMessage:"Search in"}});class fu extends ii.a.Component{constructor(...e){super(...e),ot()(this,"containsFocusedElement",()=>Object(ui.findDOMNode)(this.refs.folderMenu).contains(document.activeElement)),ot()(this,"focusFolderMenu",()=>{Object(ui.findDOMNode)(this.refs.folderMenu).focus()})}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.folders,a=t.activeAccountId,n=t.accountIds[0],r={tabIndex:0,accountList:t.accountList,onFolderChange:t.onFolderChange,onAccountChange:t.onAccountChange},i=V()(s,1)[0];return n&&Object.assign(r,{activeAccountId:n}),Object.assign(r,{defaultAccountId:a}),i&&Object.assign(r,{activeFolderId:i}),ii.a.createElement("div",{className:Su.inputWrapper},ii.a.createElement("span",{className:Su.inputLabel},e(Cu.search_in_label)),ii.a.createElement("div",{className:Su.selectFieldContainer},ii.a.createElement(Iu,di()({},r,{ref:"folderMenu"}))))}}ot()(fu,"defaultProps",{folders:[],accountIds:[]}),ot()(fu,"contextTypes",{intl:mi.intlShape.isRequired});var Tu=fu,Au=s(677),bu=s.n(Au);const Ou=xi()(bu.a);var Ru={className:Ou.pills,containerClassName:Ou.pillsContainer,containerChildClassName:Ou.pillsContainerChild,pillClassName:Ou.pillOuter,typeaheadClassName:Ou.typeahead,typeaheadInputClassName:Ou.typeaheadInput,typeaheadInputContainerClassName:Ou.typeaheadInputContainer,typeaheadInputHintClassName:Ou.typeaheadInputHint,typeaheadDropDownClassName:Ou.suggestionDropdown,multiple:!1,initialActiveIndex:-1,inputTabIndex:0};const Nu=Object(mi.defineMessages)({from_label:{id:"advanced_search.from_label",defaultMessage:"From"}});class Mu extends ii.a.Component{constructor(...e){super(...e),ot()(this,"mapPropsToPillsInterface",()=>({onInputKeyDown:this.props.onInputKeyDown,onRemove:this.props.onPillRemove,onFocus:this.props.onPillFocus,onBlur:this.props.onPillBlur,onSelect:this.props.onPillSelect,onActiveIndexChange:this.props.onActiveIndexChange})),ot()(this,"renderSuggestion",(e,t,s)=>ii.a.createElement(rl.Option,{key:s,value:s+1},ii.a.createElement(wl,{suggestion:t,inputValue:e}))),ot()(this,"renderPill",(e,t,s,a)=>{const n=e.emailAddresses&&e.emailAddresses[0],r=n||e.name;let i=e.name||"";return n&&i.trim()?i=`${i} <${n}>`:n&&(i=n),ii.a.createElement(gl.a,{value:r,title:i,contactEmail:n,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.props.onPillRemove,dragDropPill:this.props.dragDropPill})}),ot()(this,"focusFromField",()=>{this.input.focus&&this.input.focus()})}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.isFocused,a=t.from,n=t.onInputChange,r=t.contact,i=t.activeSuggestion,o=t.showHint,c=t.suggestions.slice(0,t.maxContactsVisible),d=xi()(jl.a,{pillsInputFocused:s}),l=Object(Bl.h)(r),u=Object(Bl.e)(a,r,c,!!i,o),_=Object(Bl.g)(a);let m=null;return a&&!l&&(m=c.map((e,t)=>this.renderSuggestion(a,e,t))),ii.a.createElement("div",{className:d.inputWrapper,"data-test-id":"adv-search-from-input"},ii.a.createElement("span",{className:d.inputLabel},e(Nu.from_label)),ii.a.createElement("div",{className:d.pillsInputWrapper},ii.a.createElement(rl.Pills,di()({ref:e=>this.input=e},Ru,this.mapPropsToPillsInterface(),{onInputChange:n,inputValue:l?"":_,hintValue:u,selected:Object(Bl.c)(r),renderPill:this.renderPill}),m)))}}ot()(Mu,"contextTypes",{intl:mi.intlShape.isRequired}),ot()(Mu,"defaultProps",{maxContactsVisible:6});var Du=Mu;const yu=Object(mi.defineMessages)({to_label:{id:"advanced_search.to_label",defaultMessage:"To"}});class Lu extends ii.a.Component{constructor(...e){super(...e),ot()(this,"mapPropsToPillsInterface",()=>({onInputKeyDown:this.props.onInputKeyDown,onRemove:this.props.onPillRemove,onFocus:this.props.onPillFocus,onBlur:this.props.onPillBlur,onSelect:this.props.onPillSelect,onActiveIndexChange:this.props.onActiveIndexChange})),ot()(this,"renderSuggestion",(e,t,s)=>ii.a.createElement(rl.Option,{key:s,value:s+1},ii.a.createElement(wl,{suggestion:t,inputValue:e}))),ot()(this,"renderPill",(e,t,s,a)=>{const n=e.emailAddresses&&e.emailAddresses[0],r=n||e.name;let i=e.name||"";return n&&i.trim()?i=`${i} <${n}>`:n&&(i=n),ii.a.createElement(gl.a,{value:r,title:i,contactEmail:n,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.props.onPillRemove,dragDropPill:this.props.dragDropPill})})}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.isFocused,a=t.to,n=t.onInputChange,r=t.contact,i=t.activeSuggestion,o=t.showHint,c=t.suggestions.slice(0,t.maxContactsVisible),d=xi()(jl.a,{pillsInputFocused:s}),l=Object(Bl.h)(r),u=Object(Bl.e)(a,r,c,!!i,o),_=Object(Bl.g)(a);let m=null;return a&&!l&&(m=c.map((e,t)=>this.renderSuggestion(a,e,t))),ii.a.createElement("div",{className:d.inputWrapper,"data-test-id":"adv-search-to-input"},ii.a.createElement("span",{className:d.inputLabel},e(yu.to_label)),ii.a.createElement("div",{className:d.pillsInputWrapper},ii.a.createElement(rl.Pills,di()({},Ru,this.mapPropsToPillsInterface(),{onInputChange:n,inputValue:l?"":_,hintValue:u,selected:Object(Bl.c)(r),renderPill:this.renderPill}),m)))}}ot()(Lu,"contextTypes",{intl:mi.intlShape.isRequired}),ot()(Lu,"defaultProps",{maxContactsVisible:6});var vu=Lu,Pu=s(678),Fu=s.n(Pu),wu=s(556);const ku=nl()(xi()(jl.a),xi()(Fu.a)),xu=Object(mi.defineMessages)({date_label:{id:"advanced_search.date_label",defaultMessage:"Date"},dateError:{id:"advanced_search.date_error",defaultMessage:"The End date should be greater than Start date."},any:{id:"advanced_search.datepicker.any",defaultMessage:"Any"},week:{id:"advanced_search.datepicker.week",defaultMessage:"In the last 7 days"},month:{id:"advanced_search.datepicker.month",defaultMessage:"In the last 30 days"},custom:{id:"advanced_search.datepicker.custom",defaultMessage:"Custom dates"}});class Uu extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleDateRangeChange",e=>{this.props.onChange(Object(Bl.d)(e,new Date))}),ot()(this,"handleDatePickerChange",(e,t)=>{this.props.onChange({startDate:Object(F.m)(e),endDate:Object(F.m)(t)})}),ot()(this,"_renderDatePicker",()=>{const e=this.context.intl.formatMessage,t=Object(Bl.a)(this.props.startDate,this.props.endDate),s=t.startDate,a=t.endDate,n=this.props.showErrors&&s>a?xu.dateError:null;return ii.a.createElement("div",{className:ku.dateRangeWrapper},ii.a.createElement(wu.a,{startDate:s,endDate:a,onChange:this.handleDatePickerChange,disableErrors:this.props.disableErrors,enableErrors:this.props.enableErrors,useISODateFormat:!0}),n&&ii.a.createElement("div",{"data-test-id":"advanced-search-datepicker-error",className:ku.error},e(n)))})}shouldComponentUpdate(e){return this.props.startDate!==e.startDate||this.props.endDate!==e.endDate||this.props.showErrors!==e.showErrors}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.startDate,a=t.endDate,n=Object(Bl.f)(s,a),r=n===Vl.a.CUSTOM;return ii.a.createElement("div",{className:ku.dateFieldWrapper,"data-test-id":"adv-search-date-field"},ii.a.createElement("span",{className:ku.inputLabel},e(xu.date_label)),ii.a.createElement("div",{className:ku.selectbox,"data-test-id":"adv-search-date-option"},ii.a.createElement(_u.a,{selected:n,onChange:this.handleDateRangeChange},Vl.d.map(t=>ii.a.createElement(mu.a,{key:t,value:t},e(xu[t])))),r&&this._renderDatePicker()))}}ot()(Uu,"contextTypes",{intl:mi.intlShape.isRequired});var Gu=Uu;const ju=xi()(jl.a),Hu={FROM:"from",TO:"to"},Bu=!0;class Vu extends ii.a.Component{constructor(e,t){super(e,t),ot()(this,"_getContactName",e=>(this.props.getContactByEmail(e)||{}).name||""),ot()(this,"initializePillContacts",e=>{let t={},s={};const a=this.getAdvancedSearchFieldValues(e),n=a.fromField,r=a.toField;return n&&(s={emailAddresses:[n],name:this._getContactName(n)}),r&&(t={emailAddresses:[r],name:this._getContactName(r)}),{fromPillContact:s,toPillContact:t}}),ot()(this,"hasPillContact",e=>{const t=this.state,s=e===Hu.FROM?t.fromPillContact:t.toPillContact,a=s.emailAddresses;return!(!s.name&&!(void 0===a?[]:a)[0])}),ot()(this,"getPills",e=>{const t=this.state,s=t.fromPillContact,a=t.toPillContact;return this.hasPillContact(e)?e===Hu.FROM?[s]:[a]:[]}),ot()(this,"clearPill",e=>{e===Hu.FROM?(this.setState({fromPillContact:{}}),this.handleFromInputChange("")):(this.setState({toPillContact:{}}),this.handleToInputChange(""))}),ot()(this,"handleSuggestionSelect",(e,t)=>{const s=this.props.suggestions[t-1],a=Object(Bl.j)(s),n=a.emailAddresses,r=a.name;Object(E.a)(n&&n.length>0,"emailAddresses missing for the suggestion");const i={activeSuggestion:null};e===Hu.FROM?(this.handleFromInputChange(n[0]),i.fromPillContact={name:r,emailAddresses:n}):(this.handleToInputChange(n[0]),i.toPillContact={name:r,emailAddresses:n}),this.setState(i)}),ot()(this,"handleClearBtnClick",e=>{const t=this.props.searchInput.inputValue,s=Object.assign({},Object(Hl.e)(t),{[e]:""});this.props.onSearchChange(Object(Hl.b)(s))}),ot()(this,"handlePillsInputFocus",e=>{const t={};e===Hu.FROM?t.fromInputFocused=!0:t.toInputFocused=!0,this.setState(t)}),ot()(this,"handlePillsInputBlur",e=>{const t={};e===Hu.FROM?(t.fromInputFocused=!1,t.showFromInputHint=!1):(t.toInputFocused=!1,t.showToInputHint=!1),this.setState(t)}),ot()(this,"handlePillsInputKeyDown",(e,t)=>{const s=this.props,a=s.suggestions,n=this.getAdvancedSearchFieldValues(s.searchInput.inputValue),r=n.fromField,i=n.toField,o=!this.hasPillContact(e)&&r&&a.length,c=!this.hasPillContact(e)&&i&&a.length;switch(t.key){case"Enter":case"Tab":break;case"Backspace":this.hasPillContact(e)&&this.clearPill(e),this.setState({activeSuggestion:null});break;case"Escape":(e===Hu.FROM&&o||e===Hu.TO&&c)&&t.stopPropagation(),this.setState({activeSuggestion:null});break;default:this.hasPillContact(e)&&t.preventDefault()}}),ot()(this,"handleFolderChange",({folders:e})=>{const t=this.props.searchInput.inputValue,s=void 0===t?"":t,a=Object.assign({},Object(Hl.e)(Object(Hl.c)(Hl.a.FOLDERS,s)),{[I.p.FOLDERS]:""});this.props.onSearchChange(Object(Hl.b)(a),{folders:e||[]})}),ot()(this,"handleAccountChange",({accountIds:e})=>{const t=this.props.searchInput.inputValue,s=void 0===t?"":t,a=Object.assign({},Object(Hl.e)(Object(Hl.c)(Hl.a.FOLDERS,s)),{[I.p.FOLDERS]:""});this.props.onSearchChange(Object(Hl.b)(a),{accountIds:e||[]})}),ot()(this,"handleFromInputChange",e=>{const t=this.props,s=t.onSearchChange,a=t.searchInput.inputValue;e=-1!==e.indexOf('"')?e.replace(/"/g,""):e;const n=Object.assign({},Object(Hl.e)(Object(Hl.c)(Hl.a.FROM,a)),{[I.p.FROM]:-1!==e.indexOf(" ")?`"${e}"`:e});this.setState({showFromInputHint:!0,activeSuggestion:null,fromInputValue:e},()=>{s(Object(Hl.b)(n),{suggestionsKeyword:e})})}),ot()(this,"handleToInputChange",e=>{const t=this.props,s=t.onSearchChange,a=t.searchInput.inputValue;e=-1!==e.indexOf('"')?e.replace(/"/g,""):e;const n=Object.assign({},Object(Hl.e)(Object(Hl.c)(Hl.a.TO,a)),{[I.p.TO]:-1!==e.indexOf(" ")?`"${e}"`:e});this.setState({showToInputHint:!0,activeSuggestion:null,toInputValue:e},()=>{s(Object(Hl.b)(n),{suggestionsKeyword:e})})}),ot()(this,"handleSubjectInputChange",e=>{const t=this.props.searchInput.inputValue,s=e.target.value,a=Object.assign({},Object(Hl.e)(Object(Hl.c)(Hl.a.SUBJECT,t)),{[I.p.SUBJECT]:-1!==s.indexOf(" ")?`"${s}"`:s});this.props.onSearchChange(Object(Hl.b)(a))}),ot()(this,"handleKeywordInputChange",e=>{const t=this.props.searchInput.inputValue,s=Object.assign({},Object(Hl.e)(t,Bu),{[I.p.KEYWORD]:e.target.value});this.props.onSearchChange(Object(Hl.b)(s))}),ot()(this,"handleDateChange",({startDate:e,endDate:t})=>{const s=this.props.searchInput.inputValue,a=Object(Hl.c)(Hl.a.BEFORE,s),n=Object(Hl.c)(Hl.a.AFTER,a),r=Object.assign({},Object(Hl.e)(n),{[I.p.BEFORE]:t,[I.p.AFTER]:e});Object(Bl.f)(e,t)!==Vl.a.CUSTOM&&this.setState({showErrors:!0}),this.props.onSearchChange(Object(Hl.b)(r))}),ot()(this,"handleCheckboxClick",e=>{const t=this.props.searchInput.inputValue,s=Object(Hl.e)(t),a=Object.assign({},s,{[e]:!s[e]});this.props.onSearchChange(Object(Hl.b)(a))}),ot()(this,"trimQuotedFieldValue",e=>{const t=e.match(/^"([^"]*)"$/)||[],s=V()(t,2)[1];return s&&-1!==s.indexOf(" ")?s:e}),ot()(this,"updatedSelectedSuggestion",(e,t)=>{const s=this.props.suggestions;this.hasPillContact(e)||this.setState({activeSuggestion:s[t]})}),ot()(this,"getPillProps",e=>({onInputKeyDown:this.handlePillsInputKeyDown.bind(this,e),onPillRemove:this.clearPill.bind(this,e),onPillFocus:this.handlePillsInputFocus.bind(this,e),onPillBlur:this.handlePillsInputBlur.bind(this,e),onPillSelect:this.handleSuggestionSelect.bind(this,e),onActiveIndexChange:this.updatedSelectedSuggestion.bind(this,e)})),ot()(this,"handleReset",()=>{this.setState({folderMenuActive:!1,showErrors:!0,fromInputValue:"",toInputValue:""}),this.props.onSearchChange("",{folders:[]})}),ot()(this,"handleClick",()=>{this.setState({folderMenuActive:!1})}),ot()(this,"handleKeyDown",e=>{switch(e.key){case"Tab":e.stopPropagation(),this.refs.footer.isSearchButtonFocused()&&!e.shiftKey?(e.preventDefault(),this.refs.folders.focusFolderMenu()):this.refs.folders.containsFocusedElement()&&e.shiftKey&&(e.preventDefault(),this.refs.footer.focusSearchButton())}}),ot()(this,"getAdvancedSearchFieldValues",(e="")=>{const t=Object(Hl.e)(e,Bu);return{foldersField:this.trimQuotedFieldValue(t[I.p.FOLDERS]||""),fromField:this.trimQuotedFieldValue(t[I.p.FROM]||""),toField:this.trimQuotedFieldValue(t[I.p.TO]||""),subjectField:this.trimQuotedFieldValue(t[I.p.SUBJECT]||""),keywordField:t[I.p.KEYWORD]||"",beforeField:t[I.p.BEFORE]||"",afterField:t[I.p.AFTER]||"",attachmentField:t[I.p.ATTACHMENT]||!1,imageField:t[I.p.PHOTO]||!1,calendarInviteField:t[I.p.CALENDAR_INVITE]||!1}});const s=e.searchInput.inputValue,a=this.initializePillContacts(s),n=a.fromPillContact,r=a.toPillContact,i=this.getAdvancedSearchFieldValues(s);this.state={fromPillContact:n,toPillContact:r,fromInputValue:i.fromField,toInputValue:i.toField,activeSuggestion:null,showFromInputHint:!1,showToInputHint:!1,fromInputFocused:!1,toInputFocused:!1,folderMenuActive:!1,showErrors:!0}}componentWillReceiveProps(e){let t={},s={};const a=(e.searchInput||{}).inputValue,n=this.initializePillContacts(void 0===a?"":a),r=n.fromPillContact,i=n.toPillContact;this.hasPillContact(Hu.FROM)&&(s=r),this.hasPillContact(Hu.TO)&&(t=i),this.setState({fromPillContact:s,toPillContact:t})}componentDidMount(){this.fromField.focusFromField()}render(){const e=this.props,t=e.style,s=e.searchInput,a=e.accountList,n=e.activeAccountId,r=this.getAdvancedSearchFieldValues(s.inputValue),i=r.subjectField,o=r.keywordField,c=r.beforeField,d=r.afterField,l=r.attachmentField,u=r.imageField,_=r.calendarInviteField,m=s.accountIds,p=s.folders,h=!this.state.showErrors||new Date(d)>new Date(c);return ii.a.createElement("div",{"data-test-id":"advanced-search-pane",ref:"advancedSearchPane",className:ju.paneContainer,style:t,onClick:this.handleClick,onKeyDown:this.handleKeyDown},ii.a.createElement(Tu,{ref:"folders",accountList:a,activeAccountId:n,folders:p,accountIds:m,onFolderChange:this.handleFolderChange,onAccountChange:this.handleAccountChange}),ii.a.createElement(Du,di()({},this.getPillProps(Hu.FROM),{ref:e=>this.fromField=e,from:this.state.fromInputValue,suggestions:this.props.suggestions,activeSuggestion:this.state.activeSuggestion,isFocused:this.state.fromInputFocused,showHint:this.state.showFromInputHint,contact:this.state.fromPillContact,onInputChange:this.handleFromInputChange,dragDropPill:!0})),ii.a.createElement(vu,di()({},this.getPillProps(Hu.TO),{to:this.state.toInputValue,suggestions:this.props.suggestions,activeSuggestion:this.state.activeSuggestion,isFocused:this.state.toInputFocused,showHint:this.state.showToInputHint,contact:this.state.toPillContact,onInputChange:this.handleToInputChange,dragDropPill:!0})),ii.a.createElement(Zl,{onChange:this.handleSubjectInputChange,onClear:this.handleClearBtnClick.bind(this,I.p.SUBJECT),subject:i}),ii.a.createElement($l,{onChange:this.handleKeywordInputChange,onClear:this.handleClearBtnClick.bind(this,I.p.KEYWORD),keyword:o}),ii.a.createElement(Gu,{startDate:d,endDate:c,onChange:this.handleDateChange,showErrors:this.state.showErrors,enableErrors:()=>this.setState({showErrors:!0}),disableErrors:()=>this.setState({showErrors:!1})}),ii.a.createElement(uu,{isPhotoChecked:u,isAttachmentChecked:l,isCalendarInviteChecked:_,onCheckboxClick:this.handleCheckboxClick}),ii.a.createElement(nu,{ref:"footer",onReset:this.handleReset,onSubmit:this.props.onSearchSubmit,disabled:h}))}}ot()(Vu,"contextTypes",{intl:mi.intlShape.isRequired}),ot()(Vu,"defaultProps",{searchInput:{inputValue:"",accountIds:[],folders:[]},suggestions:[]});var Wu=Vu,qu=s(212),zu=s.n(qu),Ku=s(239),Zu=s.n(Ku);const Yu=xi()(zu.a),Xu=2e3,Qu=Object(mi.defineMessages)({search_button_title:{id:"search.search_button_title",defaultMessage:"Search"},search_placeholder:{id:"search.search_box_placeholder",defaultMessage:"Find messages, documents, photos or people"},search_coupons_placeholder:{id:"search.search_coupons_placeholder",defaultMessage:"Search deals in your inbox"},search_offers_placeholder:{id:"search.search_offers_placeholder",defaultMessage:"Search coupons in {retailerName}"},search_aria_label:{id:"search.search_aria_label",defaultMessage:"Search box. Find messages, documents, photos or people"},search_keyword_placeholder:{id:"search.keyword_placeholder",defaultMessage:"Add keywords"},suggestions_available:{id:"search.suggestions_available",defaultMessage:"{suggestionsNum, plural, =0 {No suggestions are available.} one {# suggestion is available.} other {# suggestions are available. Use up and down arrows to select.}}"}}),$u={[I.Kd.COUPONS]:Qu.search_coupons_placeholder,[I.Kd.GROCERIES]:Qu.search_offers_placeholder,[I.Kd.GROCERIESV2]:Qu.search_offers_placeholder},Ju=Gi.g.HEADER_SEARCH,e_={[I.Vd.PERSON]:"P",[I.Vd.KEYWORD]:"K",[I.Vd.WEB_SEARCH]:"W",[I.Vd.HEADER]:"H",[I.Vd.RECENT]:"R",[I.Vd.EMAIL]:"E"},t_=Object(b.c)(["CONTACT","FOLDER","COUPON_INDICATOR","CATEGORY_INDICATOR"]);class s_ extends ii.a.Component{constructor(e){super(e),ot()(this,"handleSearchFocus",e=>{const t=this.props,s=t.retailerName,a=t.hasCoupons,n=t.smartViewSearch,r=this.state,i=r.showAdvancedSearchPane,o=r.pillCoupon;(0,t.onSearchBarFocus)({i13nModel:[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(n)>-1&&o?{mKey:Gi.e.QTNT_START_SEARCH,sec:Ju,interactionType:Object(vs.j)(e),actionData:{reason:{featurefamily:I.sb.IC,featurename:I.ub.QUOTIENT,retailername:s}}}:{mKey:Gi.e.SEARCH_BAR,sec:Ju,interactionType:Object(vs.j)(e)}}),(n===I.Kd.GROCERIES||n===I.Kd.GROCERIESV2||n===I.Kd.COUPONS&&a)&&!i&&o&&(this.clearCategoryPill(e,{applyFocus:!1}),this.setState({showAdvancedSearchPane:!0}))}),ot()(this,"handleBasicSearchSubmit",(e,t={})=>{const s=this.props,a=s.retailerName,n=s.smartViewSearch,r=this.state.pillCoupon,o="string"==typeof this.state.inputValue?this.state.inputValue.trim():"",c=[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(n)>-1&&r?i()({i13nModel:{mKey:Gi.e.QTNT_SEARCH,interactionType:Object(vs.j)(e),actionData:{reason:{featurefamily:I.sb.IC,featurename:I.ub.QUOTIENT,retailername:a,query:o}}}},t):i()({i13nModel:{mKey:Gi.e.SEARCH_BUTTON,interactionType:Object(vs.j)(e)}},t);this.handleSearchSubmit(c)}),ot()(this,"handleAdvancedSearchSubmit",e=>{this.handleSearchSubmit({i13nModel:{mKey:Gi.e.ADVANCED_SEARCH_BUTTON,interactionType:Object(vs.j)(e)}})}),ot()(this,"handleSearchSubmit",e=>{const t="string"==typeof this.state.inputValue?this.state.inputValue.trim():"",s=this.state,a=s.pillCoupon,n=s.pillContact,r=s.pillFolder,o=e.category||"",c=!1!==e.applyFocus,d=[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(this.props.smartViewSearch)>-1&&a,l=i()({smartViewSearch:a,emailAddresses:n.emailAddresses,name:d?this.props.name:n.name,keyword:t},e.query),u=Object.assign({sec:Ju,mKeyGroup:Gi.f.search},e.i13nModel);this.timer&&(clearTimeout(this.timer),delete this.timer),r.accountId&&Object.assign(l,{accountIds:[r.accountId]}),r.folderId&&Object.assign(l,{folders:[r.folderId]}),this.setState({inputValue:t,showInputHint:!1,showAdvancedSearchPane:!1,pillCategory:o},()=>{this.props.onSearchSubmit({query:l,i13nModel:u})}),c&&document.activeElement&&document.activeElement.blur()}),ot()(this,"handleSearchChange",(e,{suggestionsKeyword:t="",folders:s,accountIds:a}={})=>{const n=this.props,r=n.onSearchChange,i=this.state,o=i.showAdvancedSearchPane,c=i.pillCoupon,d={inputValue:e,showInputHint:!0,showAdvancedSearchPane:!([I.Kd.OFFERS].indexOf(n.smartViewSearch)>-1&&c)&&o};s&&Object.assign(d,{pillFolder:{accountId:"",folderId:s[0]||"",type:t_.FOLDER}}),a&&Object.assign(d,{pillFolder:{accountId:a[0]||"",folderId:"",type:t_.FOLDER}}),this.setState(d,()=>{r(e,{suggestionsKeyword:t})})}),ot()(this,"handleWebSearch",()=>{this.props.onWebSearchSubmit(this.state.inputValue)}),ot()(this,"handleSearchSuggestionSelect",e=>{const t=this.getSuggestions(),s=this.state,a=s.pillCoupon,n=s.pillFolder,r=s.inputValue;if(e===I.Vd.WEB_SEARCH)return void this.handleWebSearch();const o=t[e-1],c=t.map(e=>e_[e.type]),d=t.map(e=>{switch(e.type){case I.Vd.PERSON:return this.suggestionValue(e).name;case I.Vd.HEADER:return"HEADER";case I.Vd.KEYWORD:case I.Vd.RECENT:case I.Vd.EMAIL:return e.name;default:Object(E.a)(!1,"All suggestion type must be handled here.")}});let l;const u=""===r;switch(o.type){case I.Vd.PERSON:l=u?Gi.e.SEARCH_EMPTY_PEOPLE_SUGGEST:Gi.e.SEARCH_PEOPLE_SUGGEST;break;case I.Vd.KEYWORD:l=u?Gi.e.SEARCH_EMPTY_KWRD_SUGGEST:Gi.e.SEARCH_KWRD_SUGGEST;break;case I.Vd.EMAIL:l=u?Gi.e.SEARCH_EMPTY_EMAIL_SUGGEST:Gi.e.SEARCH_EMAIL_SUGGEST;break;default:l=u?Gi.e.SEARCH_EMPTY_RECENT_SUGGEST:Gi.e.SEARCH_RECENT_SUGGEST}const _={mKey:l,sec:Ju,mKeyGroup:Gi.f.search,actionData:{suggPos:e,prefix:r,suggType:c,suggVal:d}};let m={};switch(n.accountId&&(m=i()({},m,{accountIds:[n.accountId]})),n.folderId&&(m=i()({},m,{folders:[n.folderId]})),o.type){case I.Vd.PERSON:{const e=this.suggestionValue(o),t=e.emailAddresses,s=e.name,n=e.contactId;m=i()({},m,{emailAddresses:t,name:s,contactIds:[n]}),this.props.onSearchSubmit({query:m,smartViewSearch:a,i13nModel:_}),this.setState({pillContact:{name:s,emailAddresses:t,type:t_.CONTACT},activeSuggestion:null,inputValue:""});break}case I.Vd.RECENT:case I.Vd.KEYWORD:{const e=o.name;m=i()({},m,{keyword:e}),this.props.onSearchSubmit({query:m,smartViewSearch:a,i13nModel:_}),this.setState({activeSuggestion:null,inputValue:e});break}case I.Vd.HEADER:break;case I.Vd.EMAIL:{const e=o.messageId,t=o.conversationId,s=this.props.conversations?t:e,a=Object(eo.d)({keyword:o.name});this.context.navigateTo({route:Object(Qi.s)({groupId:s,listId:a}),i13nModel:_});break}default:Object(E.a)(!1,"All suggestion type must be handled here.")}}),ot()(this,"deleteRecent",e=>{e&&e.name&&this.props.deleteRecentSearch({query:e.name})}),ot()(this,"handleAdvancedSearchKeyDown",e=>{const t=this.props,s=t.retailerName,a=this.state.pillCoupon,n=[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(t.smartViewSearch)>-1&&a;switch(Object(il.getEventKey)(e)){case"Escape":this.setState({showAdvancedSearchPane:!1});break;case"Enter":(this.state.inputValue||this.state.pillFolder.accountId||this.state.pillFolder.folderId)&&this.handleAdvancedSearchSubmit(e);break;case"Tab":e.preventDefault()}n&&(this.timer&&(clearTimeout(this.timer),delete this.timer),this.timer=setTimeout(function(){const e=this.state.inputValue;if(this.timer&&(delete this.timer,e)){kl.b.sendI13nModel({i13nModel:{mKey:Gi.e.QTNT_SEARCH,sec:Ju,interactionType:Gi.d.keydown,actionData:{reason:{featurefamily:I.sb.IC,featurename:I.ub.QUOTIENT,retailername:s,query:e}}}})}}.bind(this),2e3))}),ot()(this,"isCursorEndOfInput",e=>{return e.target.selectionEnd===this.state.inputValue.length}),ot()(this,"handleKeydown",e=>{let t;const s=this.props.smartViewSearch,a=this.getSuggestions(),n=Object(il.getEventKey)(e);switch(n){case"Enter":this.handleBasicSearchSubmit(e);break;case"ArrowUp":case"ArrowDown":break;case"ArrowRight":this.isCursorEndOfInput(e)&&a&&this.autoFillSearchbox(a,n,()=>{});break;case"Tab":!this.hasPillContact()&&a&&this.state.inputValue&&(this.autoFillSearchbox(a,n,e=>this.handleSearchSuggestionSelect(e+1)),e.preventDefault());break;case"Escape":this.setState({activeSuggestion:null});break;case"Backspace":{const e=this.getPills();if(t={inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null},""===this.state.inputValue&&e.length){switch(e[e.length-1].type){case t_.COUPON_INDICATOR:-1===[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(s)&&(t.pillCoupon=!1);break;case t_.FOLDER:t.pillFolder={};break;case t_.CONTACT:t.pillContact={};break;case t_.CATEGORY_INDICATOR:t.pillCategory="";break;default:Object(E.a)(!1,"all pill types should be handled here")}}this.setState(t);break}default:this.setState({inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null})}}),ot()(this,"renderSuggestionHeader",(e,t)=>{const s=xi()(Zu.a,{firstEntry:e.firstEntry});let a;switch(e.headerType){case I.Td.KEYWORD:a=ii.a.createElement(mi.FormattedMessage,{id:"search.header_search_suggestion",defaultMessage:"Suggested searches"});break;case I.Td.RECENT:a=ii.a.createElement(mi.FormattedMessage,{id:"search.header_recent_searches",defaultMessage:"Recent searches"});break;case I.Td.PERSON:a=ii.a.createElement(mi.FormattedMessage,{id:"search.header_people_suggestions",defaultMessage:"Top contacts"});break;case I.Td.EMAIL:a=ii.a.createElement(mi.FormattedMessage,{id:"search.header_email_suggestions",defaultMessage:"Messages"})}return ii.a.createElement(rl.Option,{key:`header-${e.headerType}`,value:t+1,test:1,disabled:!0},ii.a.createElement("div",{className:s.headerLabel},a))}),ot()(this,"renderSuggestion",(e,t)=>{const s=this.state.inputValue;let a=null;return a=e.type&&e.type===I.Vd.HEADER?this.renderSuggestionHeader(e,t):ii.a.createElement(rl.Option,{key:t,value:t+1},ii.a.createElement(wl,{suggestion:e,inputValue:s,deleteRecent:this.deleteRecent}))}),ot()(this,"getSuggestions",()=>{const e=this.props,t=e.importantContacts,s=e.recentSearches,a=this.state.inputValue,n=this.props.getSearchSuggestions(e.suggestionsQuery),r=Array.isArray(n)?s:[];return Object(Ul.d)(n,t,r,a)}),ot()(this,"renderContactPill",(e,t,s,a)=>{const n=e.emailAddresses&&e.emailAddresses[0],r=e.name||n;if(n)return ii.a.createElement(gl.a,{value:r,title:n?`${r} <${n}>`:r,useEllipsis:!0,maxWidth:Ri.PillMaxWidths.L,contactEmail:n,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.clearContactPill,dragDropPill:this.props.dragDropPill})}),ot()(this,"renderPill",(e,t,s,a)=>e.type===t_.CATEGORY_INDICATOR?this.renderCategoryPill():e.type===t_.COUPON_INDICATOR?this.props.smartViewSearch===I.Kd.GROCERIES||this.props.smartViewSearch===I.Kd.GROCERIESV2?this.renderOffersIndicator():this.renderCouponIndicator():e.type===t_.FOLDER?this.renderFolderPill(e,t,s,a):e.type===t_.CONTACT?this.renderContactPill(e,t,s,a):null),ot()(this,"clearContactPill",()=>{this.setState({pillContact:{}})}),ot()(this,"clearFolderPill",()=>{this.setState({pillFolder:{}})}),ot()(this,"clearCouponIndicator",()=>{this.setState({pillCoupon:!1})}),ot()(this,"clearCategoryPill",(e,t)=>{this.setState({pillCategory:""}),this.handleBasicSearchSubmit(e,t)}),ot()(this,"hasPillContact",()=>{const e=this.state.pillContact,t=e.emailAddresses;return!(!e.name&&!(void 0===t?[]:t)[0])}),ot()(this,"hasPillFolder",()=>{const e=this.state.pillFolder;return!!(e.accountId&&1!==this.props.accountList.length||e.folderId)}),ot()(this,"getAccountDescription",e=>{const t=this.context.intl.formatMessage,s=e.description,a=Object(xc.d)(e);if(s)return s;switch(a){case I.ob.YAHOO:case I.ob.YAHOO_SB:return t(Ji.a.yahoo_account_description);case I.ob.GOOGLE:case I.ob.GOOGLE_APP:return t(Ji.a.gmail_account_description);case I.ob.OUTLOOK:return t(Ji.a.outlook_account_description);case I.ob.AOL:return t(Ji.a.aol_account_description);default:return t(Ji.a.unknown_account_description)}}),ot()(this,"normalizeFolderPill",()=>{const e=this.state.pillFolder,t=e.accountId,s=e.folderId,a=this.props.accountList,n=this.context.intl.formatMessage;let r,i;if(t&&(i=a.find(e=>e.id===t),r=this.getAccountDescription(i)),s){const e=this.props.getFolderName(s),t=this.props.getAccountIdByFolderId(s),o=this.props.getFolderDisplayTypeByFolderId(s),c=Object(At.n)(n,o)||e;i=a.find(e=>e.id===t),r=1===a.length?c:this.getAccountDescription(i)+"/"+c}return{label:r,email:i.email,type:t_.FOLDER}}),ot()(this,"renderFolderPill",(e,t,s,a)=>{const n=e.label;return ii.a.createElement(gl.a,{value:n,title:n,useEllipsis:!0,maxWidth:Ri.PillMaxWidths.L,contactEmail:e.email,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.clearFolderPill,isFolderPill:!0,pillFujiKind:gi.b.FOLDER,pillFujiColorState:gi.a.SECOND_LEVEL_GRAY,pillFujiSize:gi.d.XXS,dragDropPill:this.props.dragDropPill})}),ot()(this,"getPills",()=>{const e=this.state,t=e.pillCategory,s=[];return e.pillCoupon&&s.push({type:t_.COUPON_INDICATOR}),t&&s.push({label:t,type:t_.CATEGORY_INDICATOR}),this.hasPillFolder()&&s.push(this.normalizeFolderPill(this.state.pillFolder)),this.hasPillContact()&&s.push(this.state.pillContact),s}),ot()(this,"renderWebSearchSuggestion",()=>{const e=this.state.inputValue,t=I.Vd.WEB_SEARCH,s=this.getSuggestions(),a=xi()(Zu.a,{showPeopleSuggestion:s.length>0&&!this.hasPillContact()});return ii.a.createElement(rl.Option,{value:t},ii.a.createElement("div",{className:a.suggestionWebOptionBorder}),ii.a.createElement("div",{className:a.suggestionWebOption},ii.a.createElement("span",{className:a.suggestionWebIcon},ii.a.createElement(hi.b,{kind:gi.b.SEARCH_WEB,size:gi.d.S,colorState:gi.a.NORMAL_LESS_DIM})),ii.a.createElement("span",{className:a.suggestionWebLabel},ii.a.createElement(mi.FormattedMessage,{id:"search.search_web_query",defaultMessage:"Search the web for {formattedWebSearchQuery}",values:{formattedWebSearchQuery:ii.a.createElement("span",{className:a.suggestionWebQuery},ii.a.createElement("b",null,ii.a.createElement("q",null,e)))}}))))}),ot()(this,"suggestionValue",e=>{return{name:e.name,emailAddresses:e.emailIds,contactId:e.serviceId}}),ot()(this,"getInputHint",()=>{const e=this.state,t=e.inputValue,s=e.showInputHint,a=e.activeSuggestion,n=e.showAdvancedSearchPane,r=this.getSuggestions().filter(e=>e.type!==I.Vd.HEADER);if(!r||!r[0])return"";const i=this.suggestionValue(r[0]),o=i.name,c=i.emailAddresses,d=(void 0===c?[]:c)[0],l=new RegExp("^"+Object(xl.a)(t),"i");return!t||!s||a||this.hasPillContact()||n?"":o&&l.test(o)?t+o.slice(t.length):d&&l.test(d)?t+d.slice(t.length):""}),ot()(this,"updatedSelectedSuggestion",e=>{const t=this.getSuggestions();this.hasPillContact()||this.setState({activeSuggestion:t[e]})}),ot()(this,"getTypeaheadDisplayText",()=>{const e=this.state,t=e.activeSuggestion,s=e.inputValue;return t&&this.suggestionValue(t).name||s}),ot()(this,"handleAdvancedSearchButtonClick",({i13nModel:e})=>{this.setState({showAdvancedSearchPane:!this.state.showAdvancedSearchPane}),this.props.onSearchBarFocus({i13nModel:e})}),ot()(this,"handleAdvancedSearchPaneClick",({overlayClicked:e})=>{e||this.setState({showAdvancedSearchPane:!1})}),ot()(this,"renderAdvancedSearch",()=>{const e=this.props,t=e.retailerName,a=e.getSearchSuggestions,n=e.suggestionsQuery,r=e.accountList,i=e.activeAccountId,o=e.smartViewSearch,c=e.getContactByEmail,d=[];let l=Object(Ul.b)(a(n));l=Object(Ul.c)(l);const u=this.state,_=u.showAdvancedSearchPane,m=u.searchBoxDimensions,p=u.inputValue,h=u.pillFolder,g=u.pillCoupon,E=h.accountId,I=h.folderId;if(d.push(ii.a.createElement(ml,{tabIndex:Ri.TabIndices.APP_HEADER_SEARCHBOX,key:"advanced-search-button",onClick:this.handleAdvancedSearchButtonClick,chevronDown:!_})),_){const e={inputValue:p,accountIds:E?[E]:[],folders:I?[I]:[]},a={width:m.width};d.push(ii.a.createElement(hl.a,{key:"advanced-search-pane",alignTo:this.refs.searchField,alignmentPoints:[pl.a.TopLeft,pl.a.BottomLeft],useShim:!0,onClick:this.handleAdvancedSearchPaneClick,onKeyDown:this.handleAdvancedSearchKeyDown},g?ii.a.createElement(qi.a,{import:"../search_popup/index.jsx",containerStyle:a,smartViewSearch:o,inputValue:p,retailerName:t,onSearchSubmit:this.handleSearchSubmit,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1227))},_moduleResolver:function(){return 1227}}):ii.a.createElement(Wu,{style:a,accountList:r,searchInput:e,suggestions:l,activeAccountId:i,getContactByEmail:c,onSearchChange:this.handleSearchChange,onSearchSubmit:this.handleAdvancedSearchSubmit})))}return d});const t=e.searchQuery,a=t.keyword,n=void 0===a?"":a,r=t.name,o=void 0===r?"":r,c=t.emailAddresses,d=void 0===c?[]:c,l=t.accountIds,u=void 0===l?[]:l,_=t.folders,m=void 0===_?[]:_,p=e.originalSearchQuery,h=[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(e.smartViewSearch)>-1&&""===n&&p.search?p.search:n,g=u&&1===u.length&&u[0]||"",S=V()(m,1)[0];this.state={inputValue:h,pillCategory:"",pillContact:{name:o,emailAddresses:d,type:t_.CONTACT},pillCoupon:e.smartViewSearch,activeSuggestion:null,showInputHint:!1,showAdvancedSearchPane:!1,searchBoxDimensions:null,pillFolder:{accountId:g,folderId:void 0===S?"":S,type:t_.FOLDER}}}componentDidMount(){const e=this.refs.searchField;if(this.props.setRef&&this.props.setRef(this.refs.input),!e)return;const t=_i.a.findDOMNode(e).getBoundingClientRect();this.setState({searchBoxDimensions:t})}componentWillReceiveProps({searchQuery:e,originalSearchQuery:t,isWindowResizingDone:s,smartViewSearch:a}){const n=this.props,r=n.searchQuery,i=n.originalSearchQuery,o=n.smartViewSearch,c=this.state.pillCoupon,d=Object(eo.d)(r),l=Object(eo.d)(e),u=e.accountIds,_=u&&1===u.length,m=[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(o)>-1&&c,p=t&&m?t.listFilter:"",h=d!==l||(i&&m?i.listFilter:"")!==p;if(o!==a&&this.setState({pillCoupon:a}),h&&this.setState({inputValue:e.keyword,pillContact:{name:e.name,emailAddresses:e.emailAddresses,type:t_.CONTACT},pillFolder:{accountId:_&&u[0]||"",folderId:e.folders&&e.folders[0]||"",type:t_.FOLDER},pillCategory:[I.Qb.RECOMMENDED_OFFER_CARDS,I.Qb.ACTIVATED_OFFER_CARDS].indexOf(p)>-1?this.state.pillCategory:""}),s){const e=_i.a.findDOMNode(this.refs.searchField).getBoundingClientRect();this.setState({showAdvancedSearchPane:!1,searchBoxDimensions:e})}}autoFillSearchbox(e,t,s){const a=e.findIndex(e=>e.type!==I.Vd.HEADER);if(-1!==a){const n=this.suggestionValue(e[a]).name;s(a),"Tab"===t&&e[a].type===I.Vd.PERSON||this.setState({inputValue:n||this.state.inputValue,activeSuggestion:null})}}renderCouponIndicator(){const e=xi()(Zu.a),t=this.context.intl.formatMessage;return ii.a.createElement("div",{className:e.couponIndicator},ii.a.createElement(hi.b,{kind:gi.b.SCISSORS,size:gi.d.XS,colorState:gi.a.SELECTED}),t(so.a.smart_view_COUPONS),ii.a.createElement(dl.a,{kind:gi.b.CLOSE_MINI,size:gi.d.XXS,colorStates:{normal:gi.a.DISABLED,hovered:gi.a.SELECTED},onClick:this.clearCouponIndicator,style:{padding:0}}))}renderOffersIndicator(){const e=this.props.retailerName,t=xi()(Zu.a);return ii.a.createElement("div",{className:t.couponIndicator},ii.a.createElement(hi.b,{kind:gi.b.BASKET,size:gi.d.XS,colorState:gi.a.SELECTED}),"",e,"")}renderCategoryPill(){const e=this.state.pillCategory,t=xi()(Zu.a,{spacedPill:!0});return ii.a.createElement("div",{className:t.couponIndicator},e,ii.a.createElement(dl.a,{kind:gi.b.CLOSE_MINI,size:gi.d.XXS,colorStates:{normal:gi.a.DISABLED,hovered:gi.a.SELECTED},onClick:this.clearCategoryPill,style:{padding:0}}))}render(){const e=this.props,t=e.smartViewSearch,s=e.retailerName,a=e.hasCoupons,n=this.context.intl.formatMessage,r=this.state,i=r.inputValue,o=r.pillCoupon,c=o?$u[t]:null,d=this.hasPillContact()?Qu.search_keyword_placeholder:Qu.search_placeholder,l=n(o?c:d,{retailerName:s}),u=xi()(Zu.a,{hasPill:this.hasPillContact()||this.hasPillFolder()||o,hasContactPill:this.hasPillContact()}),_=this.getSuggestions(),m=this.context.intl.formatMessage(Qu.suggestions_available,{suggestionsNum:_.length}),p=[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(t)>-1&&o,h=!this.hasPillContact()&&!p,g=i&&!p,E=!t||!o||a||p;return ii.a.createElement("div",{className:u.container,"data-test-id":"search-box"},ii.a.createElement("div",{className:u.searchInputContainer,ref:"searchField"},ii.a.createElement(rl.Pills,{ref:"input","data-test-id":"search-box-input",multiple:!1,initialActiveIndex:-1,className:nl()(Yu.pills,u.pills),containerClassName:nl()(Yu.pillsContainer,u.pillsContainer),containerChildClassName:Yu.pillsContainerChild,pillClassName:Yu.pillOuter,ariaLabel:n(Qu.search_aria_label),placeholder:l,typeaheadInputClassName:u.searchInput,typeaheadInputContainerClassName:u.typeaheadInputContainer,typeaheadInputHintClassName:u.searchHint,typeaheadDropDownClassName:u.suggestionDropdown,inputValue:this.getTypeaheadDisplayText(),onFocus:this.handleSearchFocus,onInputKeyDown:this.handleKeydown,onInputChange:this.handleSearchChange,selected:this.getPills(),onSelect:this.handleSearchSuggestionSelect,inputTabIndex:Ri.TabIndices.APP_HEADER_SEARCHBOX,hintValue:this.getInputHint(),onActiveIndexChange:this.updatedSelectedSuggestion,renderPill:this.renderPill,messageForIncomingOptions:m,typeaheadAriaStatusClassName:u.typeaheadAriaStatus,inputMaxLength:Xu},h?_.map(this.renderSuggestion):null,g?this.renderWebSearchSuggestion():null),E?this.renderAdvancedSearch():null),ii.a.createElement(pi.a,{className:u.searchButton,"data-test-id":"search-basic-btn",tabIndex:Ri.TabIndices.APP_HEADER_SEARCHBOX,title:n(Qu.search_button_title),"aria-label":n(Qu.search_button_title),kind:gi.b.SEARCH,size:gi.d.S,onClick:this.handleBasicSearchSubmit,colorState:gi.a.INVERTED,"data-iskeynav":!0,paddingLess:!0}))}}ot()(s_,"contextTypes",{navigateTo:ni.a.func.isRequired,config:ni.a.object,intl:mi.intlShape.isRequired}),ot()(s_,"defaultProps",{importantContacts:[],suggestionsQuery:"",searchQuery:{},onSearchChange:()=>{},onSearchBarFocus:()=>{},dragDropPill:!0});var a_=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getSearchSuggestions,a=t.isFeatureEnabled,n=t.getContactListSelectors,r=(0,t.getFoldersSelectors)(),i=r.getAccountIdByFolderId,o=r.getFolderDisplayTypeByFolderId,c=r.getFolderName,d=a(I.ub.CONVERSATIONS);return{getFolderName:c,getContactByEmail:n().getContactByEmail,getAccountIdByFolderId:i,getFolderDisplayTypeByFolderId:o,getSearchSuggestions:s,conversations:d}})(s_),n_=s(197),r_=s(300),i_=s(235),o_=s(85),c_=s(122);Object(Zi.b)({group:Yi.c,keys:{focusOnSearch:{key:"S,/",description:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.focus_search",defaultMessage:"Search"}))}}});const d_=Gi.g.HEADER_SEARCH;class l_ extends ii.a.Component{constructor(e){super(e),ot()(this,"handleShortcuts",e=>{const t=e.which||e.keyCode,s=String.fromCharCode(t).toLowerCase();e.preventDefault(),e.stopPropagation(),"s"!==s&&t!==Xi.b.SLASH||this.focusOnSearch(e)}),ot()(this,"getSmartViewSearchRoute",e=>{const t=e.smartViewSearch,s=e.name,a=e.keyword,n=e.emailAddresses;if(t===I.Kd.GROCERIES||t===I.Kd.GROCERIESV2)return Object(Qi.n)(s,a);const r=Object(eo.d)(Object(o_.b)(t,i()({},e,{accountIds:this.props.activeAccountId}))),o=Object(eo.Y)(r);return a||s||n&&n.length?{name:I.gd.SEARCH,params:{query:o}}:Object(Qi.w)(I.Kd.COUPONS,{accountIds:this.props.activeAccountId})}),ot()(this,"handleSearchSubmit",({query:e,i13nModel:t})=>{let s;(s=e.smartViewSearch?this.getSmartViewSearchRoute(e):Object(Qi.u)(e))||(s=Object(Qi.u)({accountIds:this.props.accountList.map(e=>e.id)})),this.props.onSearchSubmit({route:s,i13nModel:t})}),ot()(this,"handleSearchChange",(e,{suggestionsKeyword:t=""}={})=>{this.setState({suggestionsQuery:t||e},()=>{this.props.onSuggestionsRequest({query:this.state.suggestionsQuery})})}),ot()(this,"handleWebSearch",e=>{const t=encodeURIComponent(e),s=this.props.webSearchURL;Object(c_.a)(s.replace("%QUERY%",t))}),ot()(this,"focusOnSearch",e=>{e.preventDefault(),this.searchBoxInputRef&&this.searchBoxInputRef.focus()}),ot()(this,"setRef",e=>{this.searchBoxInputRef=e});const t=e.searchQuery.keyword;this.state={suggestionsQuery:void 0===t?"":t}}componentDidMount(){this.context.bindShortcut(["s","/"],this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(["s","/"])}componentWillReceiveProps({searchQuery:e={}}={}){const t=e.keyword||"",s=this.state.suggestionsQuery,a=this.props.searchQuery;Object(eo.d)(a)!==Object(eo.d)(e)&&s!==t&&this.setState({suggestionsQuery:t})}render(){return ii.a.createElement(a_,di()({},this.props,{suggestionsQuery:this.state.suggestionsQuery,onSearchSubmit:this.handleSearchSubmit,onSearchChange:this.handleSearchChange,onWebSearchSubmit:this.handleWebSearch,setRef:this.setRef}))}}ot()(l_,"contextTypes",{getStore:ni.a.func.isRequired,bindShortcut:ni.a.func,unbindShortcut:ni.a.func}),ot()(l_,"defaultProps",{searchQuery:{}});var u_=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.isFeatureEnabled,a=t.getRoute,n=t.getSelectedAccountId,r=t.isWindowResizingDone,o=t.getAccountsForSearch,c=t.getRecentSearchesSelectors,d=t.getSmartViewTypeFromRoute,l=t.getRetailersSelectors,u=t.getSetting,_=(0,t.getCouponsSelectors)().getCoupons,m=l().getRetailersFromRetailerIds,p=s("dragDropPill"),h=n(),g=a(),E=g.name===I.gd.SEARCH,S=(0,c().getRecentSearches)(),C=o(),f=Object(eo.w)(g);let T=f;const A=d(g),O=Object(eo.s)(T)||"",R=Object(eo.y)(T)||"",N=R?m([R]):"",M=Object(b.a)(N,"0.displayName",""),D=s(I.ub.COUPONS_SMART_VIEW_SEARCH)&&[I.Kd.COUPONS].indexOf(A)>-1,y=[I.Kd.GROCERIES,I.Kd.GROCERIESV2].indexOf(A)>-1&&R,L=(D||y)&&A,v=u(I.zd.WEB_SEARCH_URL),P=_();return!Object(eo.H)(T)||L&&E||(T=Object(eo.d)({})),i()({},E?{searchQuery:Object(eo.h)(T)}:{},{originalSearchQuery:Object(eo.h)(f),isWindowResizingDone:r(),accountList:C,activeAccountId:n(),dragDropPill:p,recentSearches:S,accountId:h,smartViewSearch:L,name:R,keyword:O,retailerName:M,webSearchURL:v,hasCoupons:!!Object.keys(P).length})},e=>({onSearchSubmit:t=>e(Object(Ti.k)(t)),onSearchBarFocus:({i13nModel:t})=>e(Object(n_.b)({i13nModel:Object.assign({sec:d_},t)})),onSuggestionsRequest:t=>e(Object(r_.a)(t)),deleteRecentSearch:t=>e(Object(i_.e)(t))}))(l_),__=s(683),m_=s.n(__);const p_=xi()(m_.a);var h_=()=>ii.a.createElement("div",{className:p_.searchBoxContainer},ii.a.createElement("div",{className:p_.searchBoxInput},ii.a.createElement(mi.FormattedMessage,{id:"user_registration_search_box",defaultMessage:"Find messages, documents, photos or people"})),ii.a.createElement(pi.a,{disabled:!0,paddingLess:!0,size:gi.d.S,kind:gi.b.SEARCH,"data-test-id":"search-basic-btn",className:p_.searchButton,colorState:gi.a.INVERTED}));var g_=Object(oi.connect)(function(e){return{userHasRegisteredAccount:(0,Object($i.b)(e).getAccountSelectors)().userHasRegisteredAccount()}})(({userHasRegisteredAccount:e})=>ii.a.createElement(e?u_:h_,null));var E_=Object(oi.connect)(function(e){const t=Object($i.b)(e),s=t.getSelectedAccountId,a=t.getAccountSelectors,n=t.getAccountNameByAccountId,r=(0,t.getFeaturesSelectors)(),i=s();return{primaryAccountAddress:a().getAccountEmailByAccountId(i),userDisplayName:n(i),tabsVisible:r.isEnabled(I.zd.MAIL_TABS),logoUrl:r.getSetting(I.zd.LOGO_URL),defaultRouteURL:r.getSetting(I.zd.MAIL_URL),partnerBrand:r.getSetting("partnerBrand"),calendarURL:r.getSetting(I.zd.CALENDAR_URL),settings:r.isEnabled(I.ub.SETTINGS),settingsMenuComponent:ii.a.createElement(sl,null),searchComponent:ii.a.createElement(g_,null)}})(Xd),I_=s(618),S_=s(690),C_=s.n(S_),f_=s(193),T_=s(128);const A_="windowIds";var b_=s(165),O_=s(691),R_=s.n(O_);const N_=xi()(R_.a);var M_=class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"focus",()=>{this.refs.input.focus()})}render(){const e=this.props;return ii.a.createElement("div",{className:N_.searchContainer},ii.a.createElement("input",di()({},e,{ref:"input",className:N_.input,type:"text"})),ii.a.createElement("span",{className:N_.magnifying},ii.a.createElement(hi.b,{kind:gi.b.SEARCH,size:gi.d.XXS})))}},D_=s(692),y_=s.n(D_);const L_=Object(mi.defineMessages)({close:{id:"shortcut.close",defaultMessage:"Close the keyboard shortcut cheatsheet"}});function v_({onClose:e},t){const s=t.intl.formatMessage,a=xi()(y_.a,{[`${t.getTheme()}`]:!0});return ii.a.createElement("header",{className:a.header},ii.a.createElement("div",{className:a.text},ii.a.createElement("div",{className:a.heading},ii.a.createElement(mi.FormattedMessage,{id:"shortcuts.header",defaultMessage:"Keyboard Shortcuts"})),ii.a.createElement("div",{className:a.subheading},ii.a.createElement(mi.FormattedMessage,{id:"shortcuts.open_close",defaultMessage:"Press '?' to open this window"}))),ii.a.createElement("div",null,ii.a.createElement("div",null,ii.a.createElement(pi.a,{onClick:e,kind:gi.b.CLOSE,size:gi.d.XS,colorState:gi.a.INVERTED,title:s(L_.close)}))))}v_.contextTypes={intl:mi.intlShape,getTheme:ni.a.func};var P_=s(693),F_=s.n(P_),w_=s(694),k_=s.n(w_);const x_=xi()(k_.a),U_={"SHIFT+/":"?"},G_={META:" Command",SHIFT:" Shift",BACKSPACE:" Backspace",SPACE:" Space",DEL:" Del",ENTER:" Enter",UP:" Up",DOWN:" Down",LEFT:" Left",RIGHT:" Right",PERIOD:".",COMMA:","},j_=Object(mi.defineMessages)({or:{id:"shortcut.or",defaultMessage:"or"}});function H_({shortcutString:e},t){const s=t.intl.formatMessage,a={},n=t.os;return e.split(b_.b).forEach(e=>{const t=e.trim();if(U_[t])return void(a[U_[t]]=[]);if(n===I.Hc.MAC&&-1!==t.toLowerCase().indexOf("ctrl")||n!==I.Hc.MAC&&-1!==t.toLowerCase().indexOf("meta"))return;const s=t.split(b_.a),r=(1===s.length?s:s.slice(0,-1)).map(e=>G_[e]||e.toLowerCase()).join(` ${b_.a} `);a[r]||(a[r]=[]),s.length>1&&s.slice(-1).forEach(e=>{a[r].push(G_[e]||e.toLowerCase())})}),ii.a.createElement("span",{className:x_.keyGroups,"data-test-id":"cheat-key"},Object.keys(a).map((e,t)=>{const n=a[e];return ii.a.createElement("span",{key:t,className:x_.keyGroup},t>0&&ii.a.createElement("span",{className:x_.delimit},s(j_.or)),ii.a.createElement("span",{className:x_.key},e),n.length>0&&ii.a.createElement("span",{className:x_.delimit},b_.a),n.length>0&&ii.a.createElement("span",{className:x_.vertical},n.map((e,s)=>{const a=[x_.key,s>0?x_.marginTop:""].join(" ");return ii.a.createElement("span",{key:`${t}-${s}`,className:a},e)})))}))}H_.contextTypes={intl:mi.intlShape,os:ni.a.string.isRequired};var B_=s(695),V_=s.n(B_);const W_=xi()(V_.a);function q_({shortcutKey:e,setSearchableText:t},s){const a=e.id,n=e.description,r=e.key,i=s.intl.formatMessage;let o=n;if(n.type===mi.FormattedMessage)o=ii.a.cloneElement(n,null,function(){const e=Array.prototype.slice.call(arguments).map(z_.bind(null,i)).join("");return t(e,a),ii.a.createElement("span",null,...arguments)});else if(ii.a.isValidElement(n)){const e=z_(i,n);t(e,a)}else{const e=i(n);o=e,t(e,a)}return ii.a.createElement("li",{className:W_.keyRow},ii.a.createElement("span",{className:W_.description},o),ii.a.createElement(H_,{shortcutString:r}))}function z_(e,t){return ii.a.isValidElement(t)?t.type!==mi.FormattedMessage?ii.a.Children.map(t.props.children,t=>z_(e,t)).join(""):(Object(E.a)(0===Object.keys(t.props.values).length,"Cheatsheet translation extraction\n            does not support deeply nested rich text translation.\n            Please make it only two levels deep at maximum."),e(t.props)):"object"==typeof t?e(t):t}function K_(e,t,s){return 0===s.length?null:ii.a.createElement("li",{className:e.column,"data-test-id":"shortcut-group-column"},ii.a.createElement("ul",{className:e.listView},s.map(e=>ii.a.createElement(q_,{key:e.id,shortcutKey:e,setSearchableText:t}))))}function Z_({keyGroup:{group:e,keys:t},searching:s,setSearchableText:a},n){const r=xi()(F_.a,{searching:s}),i=n.intl.formatMessage,o=Math.ceil(t.length/2);return ii.a.createElement("div",{key:e.id,className:r.sectionContainer},ii.a.createElement("div",{className:r.sectionHeading},i(e.description)),ii.a.createElement("ul",{className:r.twoColumnList},K_(r,a,t.slice(0,o)),K_(r,a,t.slice(o))))}q_.contextTypes={intl:mi.intlShape,os:ni.a.string.isRequired},Z_.contextTypes={intl:mi.intlShape,os:ni.a.string.isRequired};var Y_=s(696),X_=s.n(Y_),Q_=s(697),$_=s.n(Q_);const J_=["shift+/"],em=Object(mi.defineMessages)({filterPlaceholder:{id:"shortcut.filter",defaultMessage:"Search shortcuts, e.g. open an email"}});class tm extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{shown:!1,filterQuery:"",coldStart:!0}),ot()(this,"handleShortcuts",e=>{e.preventDefault(),e.stopPropagation(),this.isHelpShortCutTriggered(e)&&this.toggleCheatsheet(e)}),ot()(this,"toggleCheatsheet",e=>{e.preventDefault(),e.stopPropagation(),this.setState({shown:!this.state.shown,filterQuery:""},()=>{this.state.shown&&this.refs.search.focus()})}),ot()(this,"handleDismiss",()=>{this.setState({shown:!1,filterQuery:""})}),ot()(this,"handleModalKeyDown",e=>{this.isHelpShortCutTriggered(e)&&this.handleDismiss()}),ot()(this,"setDictionary",(e,t)=>{this.state.coldStart&&this.descriptionDb.insert(e.toLowerCase(),t)}),ot()(this,"handleFilterChange",e=>{const t=e.target.value.trim();t!==this.state.filterQuery&&this.setState({filterQuery:t})})}componentWillMount(){this.descriptionDb=new X_.a}componentDidUpdate(e,t){const s=this.state;t.shown===s.shown||s.coldStart||this.setState({coldStart:!1})}componentDidMount(){this.context.bindShortcut(J_,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(J_)}isHelpShortCutTriggered(e){return 191===(e.which||e.keyCode||-1)&&e.shiftKey}render(){const e=this.context.intl.formatMessage,t=this.props.allKeys,s=this.state,a=s.shown,n=s.filterQuery,r=xi()($_.a);let i=[];if(n){const e=this.descriptionDb.find(n.toLowerCase());i=Object(b.g)(t).map(({group:t,keys:s})=>({group:t,keys:s.filter(({id:t})=>e.indexOf(t)>=0)})).filter(({keys:e})=>e.length)}else i=Object(b.g)(t);return i=i.sort(({group:e},{group:t})=>e.priority-t.priority),a?ii.a.createElement(Nd.a,{onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown},ii.a.createElement("div",{className:r.container},ii.a.createElement("div",{className:r.header},ii.a.createElement(v_,{onClose:this.handleDismiss})),ii.a.createElement("section",{className:r.cheatContent},ii.a.createElement("div",{className:r.filterSection},ii.a.createElement(M_,{ref:"search",onChange:this.handleFilterChange,placeholder:e(em.filterPlaceholder)})),ii.a.createElement("div",{className:r.keysetContainer},i.map(e=>ii.a.createElement(Z_,{key:e.group.id,keyGroup:e,searching:!!n,setSearchableText:this.setDictionary})))))):null}}ot()(tm,"contextTypes",{intl:mi.intlShape,os:ni.a.string.isRequired,bindShortcut:ni.a.func,unbindShortcut:ni.a.func});var sm=tm;Object(Zi.b)({group:Yi.a,keys:Object.assign({unread:{key:"K",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.unread",defaultMessage:"Mark as {unread}",values:{unread:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.unread_strong",defaultMessage:"Unread"}))}})},read:{key:"SHIFT+K",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.read",defaultMessage:"Mark as {read}",values:{read:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.read_strong",defaultMessage:"Read"}))}})},starred:{key:"L",description:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.starred",defaultMessage:"Star"}))},unstarred:{key:"SHIFT+L",description:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.unstarred",defaultMessage:"Unstar"}))},delete:{key:"BACKSPACE, DEL",description:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))},archiveMessageGroup:{key:"E",description:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.message_group_archive",defaultMessage:"Archive"}))},restoreMessageGroup:{key:"SHIFT+E",description:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.message_group_restore",defaultMessage:"Restore to inbox"}))},openMoveMenu:{key:"D",description:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},openFilterEnabledMoveMenu:{key:"SHIFT+D",description:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},previous:{key:"LEFT",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.previous",defaultMessage:"Go to {previous} message or conversation",values:{previous:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.previous_bold",defaultMessage:"previous"}))}})},next:{key:"RIGHT",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.next",defaultMessage:"Go to {next} message or conversation",values:{next:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.next_bold",defaultMessage:"next"}))}})}},b_.c)}),Object(Zi.b)({group:Yi.b,keys:{openPreview:{key:"SHIFT+P",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.previewr_open",defaultMessage:"Open Preview"})}}});var am=class extends ii.a.Component{componentWillMount(){this.allShortcuts=Object(Zi.a)()}render(){return ii.a.createElement(sm,{allKeys:this.allShortcuts})}};const nm={POINTER:"pointer-mode",KEYBOARD:"keyboard-mode"};var rm=class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{inputMode:nm.POINTER}),ot()(this,"lastMouseCoordinates",[]),ot()(this,"handleKeyUp",e=>{switch(e.key){case"Tab":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":this.handleKeyNav()}switch(e.which){case Xi.b.PERIOD:case Xi.b.COMMA:this.handleKeyNav();break;default:return}}),ot()(this,"handleMouseDown",()=>{this.setState({inputMode:nm.POINTER})}),ot()(this,"handleMouseMove",e=>{this.lastMouseCoordinates[0]===e.screenX&&this.lastMouseCoordinates[1]===e.screenY||(this.lastMouseCoordinates=[e.screenX,e.screenY],this.setState({inputMode:nm.POINTER}))})}handleKeyNav(){this.setState({inputMode:nm.KEYBOARD})}render(){const e=this.state.inputMode+(this.props.className?" "+this.props.className:""),t=this.state.inputMode===nm.KEYBOARD?{onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown}:{onKeyUp:this.handleKeyUp};return ii.a.createElement("div",di()({className:e},t),this.props.children)}},im=s(66),om=s(142);var cm=s(214),dm=s.n(cm);class lm extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{nowObj:new Date}),ot()(this,"onClick",()=>{(0,this.props.openCalendarPane)()})}render(){const e=this.props,t=e.property,s=this.state.nowObj,a=this.context.getCss(dm.a,{verticalLayout:e.verticalLayout}),n=t.propertyClassNames;return ii.a.createElement("div",{className:a.property+" "+(void 0===n?"":n),"data-test-id":t.dataTestId,"data-iskeynav":!0,tabIndex:-1},ii.a.createElement("button",{className:a.calendarIconButton,onClick:this.onClick,"data-test-id":"calendar-right-rail-clickable-btn"},ii.a.createElement(hi.b,{kind:gi.b.CALENDAR_EMPTY,size:gi.d.XS,colorState:gi.a.INHERITED}),ii.a.createElement("div",{className:a.calendarDateText,"data-test-id":"calendar-day-text"},s.getDate())))}}ot()(lm,"contextTypes",{getCss:ni.a.func.isRequired});var um=Object(oi.connect)(null,e=>({openCalendarPane:t=>e((e=>i()({},e,{type:go.Hi,name:I.dd.CALENDAR_PANE}))(t))}))(lm),_m=s(138);class mm extends ii.a.Component{constructor(e){super(e),ot()(this,"state",{mounted:!1}),ot()(this,"onClick",e=>{const t=this.props,s=t.closePreviewOpenPane,a=t.openContactsPane,n=t.closePreviewRoute,r=t.isContactsPaneRendered,i=t.isCueEnabled,o=t.closeFeatureCue,c={mKey:r?Gi.e.CONTACTS_PANE_ICON_OFF:Gi.e.CONTACTS_PANE_ICON_ON,sec:Gi.g.CONTACTS_PANE,interactionType:Object(vs.j)(e)},d=i&&!r;n?s({i13nModel:c,uiContext:{mKey:Gi.e.CONTACTS_PANE_ICON_ON},route:n}):a({i13nModel:c}),d&&o({userAction:"close",i13nModel:{mKey:`cue_${I.ub.CONTACTS_PANE_CUE}_try_it`,sec:Gi.g.FEATURE_CUE,interactionType:Object(vs.j)(e)}})}),ot()(this,"updateContent",()=>{this.popoverRef&&this.popoverRef.current.updatePosition()}),this.iconRef=ii.a.createRef(),this.popoverRef=ii.a.createRef()}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const e=this.props,t=e.kind,a=e.formattedText,n=e.isContactsPaneRendered,r=e.isCueEnabled,i=e.openContactsPane,o=this.context.getCss(dm.a,{verticalLayout:e.verticalLayout});return ii.a.createElement("button",{onClick:this.onClick,className:n?o.selectedProperty:o.property,"aria-label":a,title:a,"data-iskeynav":!0,tabIndex:"0","data-test-id":"contacts-pane-icon"},ii.a.createElement(hi.b,{kind:t,size:gi.d.XS,colorState:gi.a.INHERITED,ref:this.iconRef}),r&&!n&&this.state.mounted&&ii.a.createElement(Ni.a,{triggerOn:yi.i.MOUNT,zAltitude:Ri.ZIndices.POPOVER.HIGH,popoverAnchor:this.iconRef.current,align:yi.a.CENTER,persistent:!0,ref:this.popoverRef,permittedArrowDirections:[yi.h.END,yi.h.UP]},ii.a.createElement(qi.a,{import:"../../contacts_pane_cue",bundleName:"contacts",cueName:I.ub.CONTACTS_PANE_CUE,onShow:this.updateContent,launchContactsPane:i,_moduleLoader:function(){return s.e(1).then(s.bind(null,1181))},_moduleResolver:function(){return 1181}})))}}ot()(mm,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func.isRequired});var pm=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getRoute,a=t.normalizeRoute,n=t.getActionableRightRailPane,r=(0,t.getFeaturesSelectors)().isEnabled,i=s(),o=n()===I.ed.ContactsPane;let c;i&&i.params&&i.query&&(c=r(I.ub.ATTACHMENT_PREVIEW)&&i.params.attachmentId&&"1"!==i.query.fullscreen?a(Object(Qi.q)(Object(eo.w)(i),i.params.groupId)):null);return{isContactsPaneRendered:o,closePreviewRoute:c,isCueEnabled:r(I.ub.CONTACTS_PANE_CUE)}},e=>({openContactsPane:t=>e(Object(_m.B)(t)),closePreviewOpenPane:t=>e(Object(_m.s)(Object(Ti.j)(t))),closeFeatureCue:t=>e(Object(zi.a)(t))}))(mm);const hm={tw:ii.a.createElement("path",{d:"M13.663 13.949c-.816.716-2.664 1.065-3.653 1.051-1.011.014-2.837-.335-3.653-1.051C5.116 12.86 4.981 11 4.981 10.587h10.058c0 .413-.135 2.273-1.376 3.362M7.71 6.563c.509 0 .922.425.922.948a.935.935 0 0 1-.922.947.935.935 0 0 1-.922-.947c0-.523.413-.948.922-.948m4.553 0a.922.922 0 1 1 0 1.845.922.922 0 0 1 0-1.845M9.999 2A8 8 0 1 0 10 17.999 8 8 0 0 0 9.999 2"}),hk:ii.a.createElement("path",{d:"M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16zM7.816 6h-1.49c-.256 0-.412.275-.275.485L8.9 10.93c.034.05.051.109.051.169v3.213a.322.322 0 0 0 .327.317h1.287a.322.322 0 0 0 .326-.317v-3.249c0-.06.018-.12.051-.17l2.847-4.406c.14-.21-.016-.486-.274-.486H12.09a.33.33 0 0 0-.28.152l-1.764 2.659c-.128.205-.094.203-.22-.002l-1.73-2.654A.33.33 0 0 0 7.815 6z"})};class gm extends ii.a.Component{constructor(...e){super(...e),ot()(this,"onClick",()=>{let e;this.props.isMembershipRewardsPaneActive||(e={mKey:Gi.e.REWARDS_ICON,sec:Gi.g.MEMBERSHIP_REWARDS,interactionType:Gi.d.click}),this.props.membershipRewardsIconToggled({name:I.dd.MEMBERSHIP_REWARDS,i13nModel:e})}),ot()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),ot()(this,"renderPopoverContent",e=>this.iconRef?ii.a.createElement(Ni.a,{triggerOn:yi.i.MOUNT,zAltitude:Ri.ZIndices.POPOVER.HIGH,popoverAnchor:this.iconRef,align:yi.a.CENTER,persistent:!0,permittedArrowDirections:[yi.h.END],ref:e=>{this.popoverContent=e}},ii.a.createElement(qi.a,{import:"../../membership_rewards/rewards_icon_popover.jsx",cueName:e,onShow:this.updateContent,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1217))},_moduleResolver:function(){return 1217}})):null)}render(){const e=this.props,t=e.title,s=e.isMembershipRewardsPaneActive,a=e.showTMRIconNotification,n=this.context.getCss(dm.a,{verticalLayout:e.verticalLayout});return ii.a.createElement("button",{"data-test-id":"membership-rewards-icon",onClick:this.onClick,className:s?n.selectedProperty:n.property,title:t,"aria-label":t},ii.a.createElement("svg",{viewBox:"0 0 20 20",className:n.icon,ref:e=>{this.iconRef=e}},hm[this.context.region]||hm.tw),a?this.renderPopoverContent(I.ub.TMR_ICON_NOTIFICATION):null)}}gm.contextTypes={getCss:ni.a.func.isRequired,region:ni.a.string};var Em=gm;const Im=Object(mi.defineMessages)({mail_icon:{id:"properties.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"properties.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"properties.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"properties.notepad_icon",defaultMessage:"Notepad"},news_icon:{id:"properties.news_icon",defaultMessage:"News"},subproperties_nav:{id:"landmark.subproperties_nav",defaultMessage:"Navigate to other Yahoo properties like Messenger, Calendar, Contacts and Notepad"},rewards_icon:{id:"rewards_icon_tooltip",defaultMessage:"Yahoo membership program"}});class Sm extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handle",(e,t)=>{const s=Object(vs.j)(e),a=this.props.onPropertyClick;e.stopPropagation(),t.kind===gi.b.NEWS?this.props.breakingNewsIconToggled({name:I.dd.BREAKING_NEWS,i13nModel:{mKey:Gi.e.BREAKING_NEWS_ICON,sec:Gi.g.BREAKING_NEWS,actionData:{showBreakingNewsPane:!this.props.showBreakingNewsPane}}}):a(s,t)}),ot()(this,"renderProperty",(e,t)=>{const s=e.href,a=e.kind,n=e.text,r=e.propertyClassNames,i=void 0===r?"":r,o=e.dataTestId,c=this.context.intl.formatMessage(n),d=this.props,l=d.verticalLayout,u=d.isMembershipRewardsPaneActive,_=d.membershipRewardsIconToggled,m=d.showTMRIconNotification,p=d.calendarRightRailPaneEnabled;if(a===gi.b.CONTACT_CARD&&d.contactsPaneEnabled)return ii.a.createElement(pm,{kind:a,formattedText:this.context.intl.formatMessage(n),verticalLayout:this.props.verticalLayout,key:n.id});if(a===gi.b.CALENDAR_EMPTY&&p)return ii.a.createElement(um,{verticalLayout:this.props.verticalLayout,key:n.id,property:e});const h=a===gi.b.CALENDAR_EMPTY,g=new Date;return"membershipRewards"===a?ii.a.createElement(Em,{key:n.id,title:c,verticalLayout:l,isMembershipRewardsPaneActive:u,membershipRewardsIconToggled:_,showTMRIconNotification:m}):ii.a.createElement("a",{key:n.id,onClick:t=>this.handle(t,e),href:s,className:t.property+" "+i,"aria-label":c,title:c,"data-test-id":o,target:a,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},h?ii.a.createElement("div",{className:t.calendarIcon},ii.a.createElement(hi.b,{kind:a,size:gi.d.XS,colorState:gi.a.INHERITED}),ii.a.createElement("div",{className:t.calendarDateText,"data-test-id":"calendar-day-text"},g.getDate())):ii.a.createElement(hi.b,{kind:a,size:gi.d.XS,colorState:gi.a.INHERITED}))})}render(){const e=this.props,t=e.calendarTabEnabled,s=e.notepadTabEnabled,a=e.calendarURL,n=e.renderNewsIcon,r=e.showBreakingNewsPane,i=e.showBreakingNewsNotification,o=e.membershipRewardsEnabled,c=this.context.intl.formatMessage,d=this.context.getCss(dm.a,{verticalLayout:e.verticalLayout}),l=[{kind:gi.b.INBOX,text:Im.mail_icon,mKey:Gi.e.MAIL_ICON,hidden:!this.props.showMailIcon,dataTestId:"right-rail-mail-contacts-icon"},{href:"https://mail.yahoo.com/neo/launch?action=contacts",kind:gi.b.CONTACT_CARD,text:Im.contacts_icon,mKey:Gi.e.CONTACTS_ICON,dataTestId:"right-rail-contacts-icon"},{href:a,kind:gi.b.CALENDAR_EMPTY,text:Im.calendar_icon,mKey:Gi.e.CALENDAR_ICON,hidden:!t,dataTestId:"right-rail-calendar-icon"},{href:"https://calendar.yahoo.com/?view=notepad",kind:gi.b.NOTEPAD,text:Im.notepad_icon,mKey:Gi.e.NOTEPAD_ICON,hidden:!s,dataTestId:"right-rail-notepad-icon"}];if(n){let e="";i?e=d.notification:r&&(e=d.selectedProperty),l.push({kind:gi.b.NEWS,text:Im.news_icon,hidden:!1,dataTestId:"right-rail-news-icon",propertyClassNames:e})}return o&&l.push({kind:"membershipRewards",text:Im.rewards_icon,hidden:!1,dataTestId:"right-rail-rewards-icon"}),ii.a.createElement("div",{"data-test-id":"comms-properties",role:"navigation","aria-label":c(Im.subproperties_nav),className:d.properties},l.map(e=>!e.hidden&&this.renderProperty(e,d)))}}ot()(Sm,"contextTypes",{config:ni.a.object,intl:mi.intlShape.isRequired,getCss:ni.a.func});var Cm=Sm,fm=s(698),Tm=s.n(fm),Am=s(392),bm=s.n(Am),Om=s(45);const Rm=Object(mi.defineMessages)({optoutTitle:{id:"optout.title",defaultMessage:"Oh no... We will miss you!"},optoutSubmitTitle:{id:"optout.submit.title",defaultMessage:"Thank you for your feedback."},optoutSubmitMessage:{id:"optout.submit.message",defaultMessage:"Hope you try new Mail again soon!"},optionPlaceHolder:{id:"optout.option.placeholder",defaultMessage:"Tell us why you want to leave"},optionLikeOldMail:{id:"optout.option.oldmail",defaultMessage:"I like the look of classic Mail better"},ghostTextLikeOldMail:{id:"optout.ghost.oldmail",defaultMessage:"What do you like more about classic Mail i.e. inbox spacing, colors, etc.?"},optionConfuse:{id:"optout.option.confuse",defaultMessage:"I dont understand how to use new Mail"},ghostTextConfuse:{id:"optout.ghost.confuse",defaultMessage:"Tell us more about what is difficult to use in new Mail."},optionLater:{id:"optout.option.later",defaultMessage:"Im not ready to switch now but might later"},ghostTextLater:{id:"optout.ghost.later",defaultMessage:"Tell us more."},optionTheme:{id:"optout.option.theme",defaultMessage:"I miss having photo themes"},ghostTextTheme:{id:"optout.ghost.theme",defaultMessage:"What kind of photo themes would you like to have?"},optionSlow:{id:"optout.option.slow",defaultMessage:"I experience slowness or freezing in new Mail"},ghostTextSlow:{id:"optout.ghost.slow",defaultMessage:"Tell us what you are doing when you experience this i.e. deleting an email, reading email, etc."},optionFeatures:{id:"optout.option.features",defaultMessage:"I miss features from classic Mail"},ghostTextFeatures:{id:"optout.ghost.features",defaultMessage:"What specific features are you missing?"},optionOther:{id:"optout.option.other",defaultMessage:"Other"},ghostTextOther:{id:"optout.ghost.other",defaultMessage:"Please provide feedback to help us improve new Mail."},textAreaPlaceHolder:{id:"optout.textarea.placeholder",defaultMessage:"Give us some feedback to help us improve"},confirmButtonText:{id:"optout.basicmail.text",defaultMessage:"Switch to basic Mail"},cancelButtonText:{id:"optout.cancel.text",defaultMessage:"Cancel"},closeButton:{id:"optout.close",defaultMessage:"Close"},textCounter:{id:"optout.text.counter",defaultMessage:"{remainingLength, number} {remainingLength, plural, =0 {character} =1 {character} other {characters}} remaining"}}),Nm=1e3,Mm=3e3,Dm=()=>{};function ym(e,t){const s={};return t.forEach(t=>{s[t]=Rm[e+t]}),s}const Lm=["Theme","LikeOldMail","Confuse","Later","Slow","Features","Other"],vm=ym("option",Lm),Pm=ym("ghostText",Lm),Fm={margin:`0 0 0 ${3*Ri.GRID_UNIT}px`},wm={marginLeft:`${Ri.GRID_UNIT}px`},km={opacity:.8};class xm extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{selectedFeedback:null,feedback:"",isPanelFocus:!1,submit:!1}),ot()(this,"handleDropdownChange",e=>{this.setState({selectedFeedback:e})}),ot()(this,"handleConfirmClick",()=>{const e={},t=this.state,s=t.feedback,a=t.selectedFeedback;null!==a&&(e.feedbackOption=Lm[a]),s.length>0&&(e.optOutFeedbackText=s),this.props.submitOptOutFeedback({actionData:e}),this.setState({submit:!0}),this.redirectTimeout||(this.redirectTimeout=setTimeout(()=>{const e=I.wc+"?crumb="+window.AppBootstrapData.crumb;this.redirectWindow(e)},Mm))}),ot()(this,"redirectWindow",e=>{window.location.href=e}),ot()(this,"handleFeedbackPanelFocus",()=>{this.setState({isPanelFocus:!0})}),ot()(this,"handleFeedbackPanelBlur",()=>{this.setState({isPanelFocus:!1})}),ot()(this,"handleFeedbackChange",e=>{const t=this.state.feedback,s=e.target.value.substr(0,Nm);s!==t&&this.setState({feedback:s})}),ot()(this,"getHeaderText",()=>{const e=this.context.intl.formatMessage;return e(this.state.submit?Rm.optoutSubmitTitle:Rm.optoutTitle)}),ot()(this,"getPanelPlaceholderText",()=>{const e=this.state.selectedFeedback,t=this.context.intl.formatMessage;return t(null===e?Rm.textAreaPlaceHolder:Pm[Lm[e]])}),ot()(this,"getBodySection",()=>{const e=this.state,t=e.isPanelFocus,s=e.selectedFeedback,a=e.feedback,n=e.submit,r=this.context.intl.formatMessage,i=t?"":this.getPanelPlaceholderText(),o=Nm-a.length,c=xi()(bm.a,{isPanelFocus:t});return n?ii.a.createElement("div",{className:c.submitMessage},r(Rm.optoutSubmitMessage)):ii.a.createElement("div",{className:c.bodySection},ii.a.createElement(_u.a,{onChange:this.handleDropdownChange,placeholder:r(Rm.optionPlaceHolder),title:r(Rm.optionPlaceHolder),coloredPlaceholder:!0,selected:s,"data-test-id":"opt-out-select"},Lm.map((e,t)=>ii.a.createElement(mu.a,{key:t,value:t,title:r(vm[e])},r(vm[e])))),ii.a.createElement("textarea",{placeholder:i,className:c.textArea,onFocus:this.handleFeedbackPanelFocus,onBlur:this.handleFeedbackPanelBlur,onChange:this.handleFeedbackChange,value:a,"data-test-id":"opt-out-textarea"}),ii.a.createElement("div",{className:c.messageCounter,"data-test-id":"opt-out-msg-counter"},t?r(Rm.textCounter,{remainingLength:o}):null))}),ot()(this,"renderButtons",()=>{const e=this.props.onCancel,t=this.state.submit,s=this.context.intl.formatMessage,a=xi()(bm.a);return t?null:ii.a.createElement("div",{className:a.buttonWrapper},ii.a.createElement(Li.a,{"data-test-id":"opt-out-confirm",onClick:this.handleConfirmClick,title:s(Rm.confirmButtonText),kind:vi.a.PRIMARY,style:Fm},s(Rm.confirmButtonText)),ii.a.createElement(Li.a,{"data-test-id":"opt-out-cancel",onClick:e,title:s(Rm.cancelButtonText),kind:vi.a.SECONDARY_BORDERLESS,style:wm},s(Rm.cancelButtonText)))})}componentWillUnmount(){this.redirectTimeout=null}render(){const e=this.state.submit,t=this.context.intl.formatMessage,s=this.props.onCancel,a=xi()(bm.a,{submit:e});return ii.a.createElement(Nd.a,{onClose:s,onOuterClick:Dm},ii.a.createElement("div",{className:a.surveyContainer,"data-test-id":"opt-out-container"},ii.a.createElement("div",{className:a.headerSection},e?null:ii.a.createElement("div",{className:a.closeButton},ii.a.createElement(dl.a,{onClick:s,kind:gi.b.CLOSE,size:gi.d.XXS,title:t(Rm.closeButton),"aria-label":t(Rm.closeButton),"data-test-id":"opt-out-close",style:km,colorStates:{normal:gi.a.DARK,hovered:gi.a.SELECTED}})),ii.a.createElement("div",{className:a.imageWrapper},ii.a.createElement("div",{className:a.optOutBackground},ii.a.createElement("img",{className:a.chick,src:Object(Om.a)("/img/opt_out_chick.png")}),ii.a.createElement("img",{className:a.sadFace,src:Object(Om.a)("/img/opt_out_sad.png")}))),ii.a.createElement("div",{className:a.titleText},this.getHeaderText())),this.getBodySection(),this.renderButtons()))}}ot()(xm,"contextTypes",{intl:mi.intlShape.isRequired,executeAction:ni.a.func});var Um=Object(oi.connect)(void 0,e=>({submitOptOutFeedback:t=>e((e=>i()({},e,{type:go.Qh}))({i13nModel:{mKey:Gi.e.OPT_OUT_SUBMIT_FEEDBACK,sec:Gi.g.SETTINGS_POPUP,actionData:t.actionData}}))}))(xm),Gm=s(475);class jm extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{showOptOutSurvey:!1}),ot()(this,"onPropertyClick",(e,t)=>{this.props.handleHeaderNavigation({i13nModel:{mKey:t.mKey,sec:Gi.g.HEADER_NAV,interactionType:e}})}),ot()(this,"onOptOut",e=>{this.props.optOutSurvey&&this.setState({showOptOutSurvey:!0}),this.props.optOut({i13nModel:{mKey:Gi.e.SETTINGS_POPUP_SWITCH_TO_CLASSIC,sec:Gi.g.SETTINGS_POPUP,interactionType:Object(vs.j)(e)}})}),ot()(this,"onOptOutCancel",()=>{this.setState({showOptOutSurvey:!1}),this.props.optOutCancelFeedback({i13nModel:{mKey:Gi.e.OPT_OUT_CANCEL_FEEDBACK,sec:Gi.g.SETTINGS_POPUP}})})}render(){const e=this.props.verticalLayout,t=this.context.getCss(Tm.a,{verticalLayout:e}),s=this.state.showOptOutSurvey;return ii.a.createElement("div",{ref:e=>this.commsPropertiesSection=e,className:t.container},ii.a.createElement(Wd.a,{axis:e?Wd.b.VERTICAL:Wd.b.HORIZONTAL,"data-test-id":"comms-properties-bar",groupTabIndex:Ri.TabIndices.COMMS_PROPERTIES_BAR,className:t.properties},e&&ii.a.createElement(sl,di()({},this.props,{onOptOutFeedback:this.onOptOut})),ii.a.createElement(Cm,di()({},this.props,{onPropertyClick:this.onPropertyClick})),!e&&ii.a.createElement(sl,di()({},this.props,{onOptOutFeedback:this.onOptOut,commsPropertiesSection:this.commsPropertiesSection})),s?ii.a.createElement(Um,{onCancel:this.onOptOutCancel}):null))}}ot()(jm,"contextTypes",{executeAction:ni.a.func,getCss:ni.a.func,config:ni.a.object,getTheme:ni.a.func});const Hm=jm;var Bm=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getQueryParams,a=t.getBreakingNewsSelectors,n=(0,t.getFeaturesSelectors)(),r=n.getSetting(I.zd.PREVIEW_PANE),i="1"===s().openSettingsPopover||n.isEnabled("autoOpenSettingsPopover"),o=n.isEnabled(I.ub.CALENDAR_TAB),c=n.isEnabled(I.ub.NOTEPAD_TAB),d=n.getSetting(I.zd.CALENDAR_URL),l=n.isEnabled(I.ub.BREAKING_NEWS_ENABLED),u=n.getSetting(I.zd.BREAKING_NEWS_VERSION)===I.B.VERSION_5&&l,_=a().getNewsArticle(),m=n.getSetting(I.zd.ACTIONABLE_RIGHT_RAIL_CONTENT),p=m&&m.currentView===I.dd.BREAKING_NEWS,h=!p&&!!_.title&&!_.isRead,g=n.isEnabled(I.ub.MEMBERSHIP_REWARDS),E=m&&m.currentView===I.dd.MEMBERSHIP_REWARDS,S=n.isEnabled(I.ub.TMR_ICON_NOTIFICATION);return{previewPaneSetting:r,autoOpenSettingsPopover:i,calendarTabEnabled:o,notepadTabEnabled:c,calendarURL:d,showSettingsCue:n.isEnabled(I.ub.SETTINGS_CUE),optOutSurvey:n.isEnabled("optOutSurvey"),contactsPaneEnabled:n.isEnabled(I.ub.CONTACTS_PANE_FEATURE),calendarRightRailPaneEnabled:n.isEnabled(I.ub.CALENDAR_RIGHT_RAIL_PANE),renderNewsIcon:u,showBreakingNewsPane:p,showBreakingNewsNotification:h,membershipRewardsEnabled:g,isMembershipRewardsPaneActive:E,showTMRIconNotification:S}},e=>({optOut:t=>e(Object($o.w)(t)),handleHeaderNavigation:t=>e(Object(Ti.e)(t)),optOutCancelFeedback:t=>e(Object($o.x)(t)),breakingNewsIconToggled:t=>e(Object(om.c)(t)),membershipRewardsIconToggled:t=>e(Object(Gm.b)(t))}))(Hm),Vm=s(486),Wm=s(388);var qm=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.isFeatureEnabled,a=t.getCurrentListId,n=t.getParticipantInFocus,r=t.getAffiliateCouponsSelectors,i=t.getGroupId,o=t.getMessageIdsFromMessageGroupId,c=s(I.ub.MESSAGE_READ_CONTACT_CARD),d=s(I.ub.ENABLE_AFFILIATE_COUPONS),l=c?n():{email:Object(eo.m)(a())},u=o(i()),_=l||{},m=_.email,p=_.name,h=r();return{email:m,name:p,hideContactCard:d&&u[0]&&!!(0,h.getCouponInfo)(u[0]),showContactSummary:!c}})(class extends ii.a.Component{render(){const e=this.props,t=e.email;return e.hideContactCard?null:ii.a.createElement(Wm.a,{key:"contactCard"+t,isInRightRail:!0,email:t,name:e.name,isCompose:!1,showContactSummary:e.showContactSummary})}}),zm=s(710),Km=s.n(zm);const Zm={SKY:{yaftName:"norrin_ad_sky",darla:{pos:"SKY",clean:"boxSKY",dest:"tgtSKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC:{yaftName:"norrin_ad_lrec",darla:{pos:"LREC",dest:"tgtLREC",clean:"slot_LREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC4:{yaftName:"norrin_ad_lrec4",darla:{pos:"LREC4",dest:"tgtLREC4",clean:"slot_LREC4",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},MON:{yaftName:"norrin_ad_mon",darla:{pos:"MON",dest:"tgtMON",clean:"slot_MON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBASKY:{yaftName:"norrin_ad_ubasky",darla:{pos:"UBASKY",clean:"boxUBASKY",dest:"tgtUBASKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBAMON:{yaftName:"norrin_ad_ubamon",darla:{pos:"UBAMON",dest:"tgtUBAMON",clean:"slot_UBAMON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBALREC:{yaftName:"norrin_ad_ubalrec",darla:{pos:"UBALREC",dest:"tgtUBALREC",clean:"slot_UBALREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}}},Ym={lang:"en-US",k2Rate:100,k2E2ERate:5,k2ViewRate:100,positions:Object.keys(Zm).reduce((e,t)=>(e[t]=Zm[t].darla,e),{}),auto_render:!0,focusProtection:!0};class Xm extends ii.a.Component{componentDidMount(){this.context.registerAdPosition({darlaPos:this.props.id})}componentWillUnmount(){this.context.removeAdPosition({darlaPos:this.props.id})}shouldComponentUpdate(e){return this.props.className!==e.className}render(){const e=Zm[this.props.id],t=e.darla;return ii.a.createElement("div",{id:t.clean,"data-yaft-module":e.yaftName,className:this.props.className},ii.a.createElement("div",{id:t.dest}))}}ot()(Xm,"contextTypes",{registerAdPosition:ni.a.func,removeAdPosition:ni.a.func,executeAction:ni.a.func});var Qm=Xm;class $m extends ii.a.Component{render(){return ii.a.createElement(Qm,{id:"MON"})}}class Jm extends ii.a.Component{render(){return ii.a.createElement(Qm,{id:"SKY"})}}class ep extends ii.a.Component{render(){return ii.a.createElement(Qm,{id:"LREC"})}}class tp extends ii.a.Component{render(){return ii.a.createElement(Qm,{id:"UBASKY"})}}class sp extends ii.a.Component{render(){return ii.a.createElement(Qm,{id:"UBAMON"})}}class ap extends ii.a.Component{render(){return ii.a.createElement("div",{"data-test-id":"stackedLRECs"},ii.a.createElement(Qm,{id:"LREC",className:this.props.lrecClassName}),ii.a.createElement(Qm,{id:"LREC4"}))}}class np extends ii.a.Component{constructor(...e){super(...e),ot()(this,"insertDarlaConfig",()=>{const e=this.props.darlaAds.darlaData,t=void 0===e?"":e,s=this.context,a=s.locale;return ii.a.createElement("div",null,ii.a.createElement("script",{nonce:s.cspToken,dangerouslySetInnerHTML:{__html:`\n                        window.DARLA_CONFIG = ${JSON.stringify(Object.assign({},Ym,{lang:a&&a.name||"en-US",auto_render:!t}))};\n                    `}}),t?ii.a.createElement("div",{"data-test-id":"darla-data",dangerouslySetInnerHTML:{__html:t}}):null)})}render(){const e=this.props,t=e.disabledPositions,s=void 0===t?{}:t,a=e.lrecMonAdArbitration,n=e.isCompactSize,r=e.darlaPrefetchLaunchSyncer,i=e.ABPStaticAds,o=xi()(Km.a,{isCompactSize:n}),c=[];let d=null,l=null;return i?c.push(n?ii.a.createElement(tp,{key:"uba_sky_ad"}):ii.a.createElement(sp,{key:"uba_mon_ad"})):(!a||s.LREC||s.LREC4?s.LREC4&&!s.LREC?d=ii.a.createElement(ep,{key:"lrec_ad"}):s.LREC4||s.LREC||(d=ii.a.createElement(ap,{key:"stacked_lrec",lrecClassName:o.lrec})):(l=ii.a.createElement($m,{key:"mon_ads"}),d=ii.a.createElement(ap,{key:"stacked_lrec",lrecClassName:o.lrec})),n?c.push(ii.a.createElement(Jm,{key:"sky_ad"})):(c.push(d),c.push(l))),ii.a.createElement("div",{"aria-hidden":!0,className:o.mainAd,"data-test-id":"right-rail-ad"},i?ii.a.createElement("div",{className:o.adText},ii.a.createElement(mi.FormattedMessage,{id:"ad.text",defaultMessage:"AD"})):null,ii.a.createElement("div",null,c),r?this.insertDarlaConfig():null)}}ot()(np,"contextTypes",{config:ni.a.object,executeAction:ni.a.func,locale:ni.a.object,cspToken:ni.a.string});var rp=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.isFeatureEnabled,a=t.isNarrowScreen,n=t.getAdsSelectors,r=s(I.ub.WIDE_RIGHT_RAIL),i=(0,n().getDarlaAdData)(),o=Object(b.a)(i,"prefetchedAds.darlaAds",{}),c=s(I.ub.DARLA_PREFETCH_LAUNCH_SYNCER);return{lrecMonAdArbitration:s(I.ub.LREC_MON_AD_ARBITRATION),isCompactSize:a()&&!r,darlaAds:o,darlaPrefetchLaunchSyncer:c,ABPStaticAds:s(I.ub.ABP_STATIC_ADS)}})(np),ip=s(711),op=s.n(ip),cp=s(712),dp=s.n(cp);const lp=(e,t)=>{const s=t.getCss(dp.a);return ii.a.createElement("div",{className:s.container},ii.a.createElement(md.b,null))};lp.contextTypes={getCss:ni.a.func.isRequired};var up=lp;const _p=Object(mi.defineMessages)({hide_advertisement:{id:"hide_advertisement",defaultMessage:"Hide Advertisement"}});class mp extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{chevronHover:!1}),ot()(this,"handleChevronHover",e=>{this.setState({chevronHover:e})}),ot()(this,"collapseRightRail",()=>{this.setState({chevronHover:!1}),this.props.hideAdsTemporarily()}),ot()(this,"renderPane",e=>{switch(e){case I.ed.AttachmentUi:return ii.a.createElement(qi.a,{import:"./attachment_ui",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1201))},_moduleResolver:function(){return 1201}});case I.ed.ContactsPane:return ii.a.createElement(qi.a,{import:"../../../molecules/contacts_pane",key:e,bundleName:"contacts",_moduleLoader:function(){return s.e(1).then(s.bind(null,1200))},_moduleResolver:function(){return 1200}},ii.a.createElement(qi.b,{loading:!0},ii.a.createElement(Vm.a,{includeHeaders:!0})));case I.ed.CalendarPane:return ii.a.createElement(qi.a,{bundleName:"epochCalendar",key:e,import:"../../../molecules/calendar_pane",_moduleLoader:function(){return Promise.all([s.e(0),s.e(2)]).then(s.bind(null,1215))},_moduleResolver:function(){return 1215}});case I.ed.ContactCard:return ii.a.createElement(qm,{key:e});case I.ed.MessageBrief:return ii.a.createElement(qi.a,{import:"../../../molecules/message_list/brief",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1170))},_moduleResolver:function(){return 1170}});case I.ed.PhotoBrief:return ii.a.createElement(qi.a,{import:"./photo_brief",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1171))},_moduleResolver:function(){return 1171}});case I.ed.DocumentBrief:return ii.a.createElement(qi.a,{import:"./document_brief",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1172))},_moduleResolver:function(){return 1172}});case I.ed.AdBlockCoupons:return ii.a.createElement(qi.a,{import:"../../../molecules/adblock_coupons",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1173))},_moduleResolver:function(){return 1173}});case I.ed.SubscriptionAds:return ii.a.createElement(qi.a,{import:"../../../molecules/ads/subscription_ad",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1174))},_moduleResolver:function(){return 1174}});case I.ed.RightRailNativeAd:return ii.a.createElement(qi.a,{import:"../../../molecules/ads/right_rail_native_ad",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1175))},_moduleResolver:function(){return 1175}});case I.ed.RelatedSearchesCard:return ii.a.createElement(qi.a,{import:"../../../molecules/related_searches_card",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1176))},_moduleResolver:function(){return 1176}});case I.ed.TravelCardsGroup:return ii.a.createElement(qi.a,{import:"../../../molecules/right_rail_travel_card/travel_cards_group",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1204))},_moduleResolver:function(){return 1204}});case I.ed.PlaAds:return ii.a.createElement(qi.a,{import:"../../../molecules/pla_ads",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1216))},_moduleResolver:function(){return 1216}});case I.ed.RightPaneAds:return ii.a.createElement(rp,{key:e,disabledPositions:this.props.disabledAdPositions});case I.ed.EbayWarrantyUpsell:return ii.a.createElement(qi.a,{import:"../../../molecules/ebay_warranty_upsell",position:I.nb.RIGHT,key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,865))},_moduleResolver:function(){return 865}});case I.ed.RetailerFilter:return ii.a.createElement(qi.a,{import:"../../../molecules/deals/retailer_filter",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1177))},_moduleResolver:function(){return 1177}});case I.ed.RightPaneGroceriesList:return this.props.isYM6GroceryEnabled?ii.a.createElement(qi.a,{import:"../molecules/right_pane_groceries_list",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1178))},_moduleResolver:function(){return 1178}}):null;case I.ed.SavedDeals:return ii.a.createElement(qi.a,{import:"../../../molecules/right_rail_saved_deals",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1179))},_moduleResolver:function(){return 1179}});case I.ed.BreakingNews:return ii.a.createElement(qi.a,{import:"../../../atoms/breaking_news/breaking_news_on_right_rail",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1180))},_moduleResolver:function(){return 1180}});case I.ed.MembershipRewards:return ii.a.createElement(qi.a,{import:"../../../molecules/membership_rewards",key:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1202))},_moduleResolver:function(){return 1202}},ii.a.createElement(qi.b,{loading:!0},ii.a.createElement(up,null)));default:return null}}),ot()(this,"_createBreakingNewsRefreshTimer",()=>{this.breakingNewsRefreshTimer=setTimeout(()=>{this.props.isBreakingNewsDismissed||(this.props.onBreakingNewsRefresh(),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=0),this._createBreakingNewsRefreshTimer())},this.props.newsRefreshInterval)})}componentWillUnmount(){this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=0)}componentDidMount(){this.props.isBreakingNewsEnabled&&this._createBreakingNewsRefreshTimer()}render(){const e=this.props,t=e.hasAttachmentPreview,s=e.hideAdsForGrocery,a=e.panes,n=e.showCommsProperties,r=e.windowDimensions,i=this.context,o=i.intl,c=(0,i.getCss)(op.a,{firstPaneName:a.length&&a[0],hasAttachmentPreview:t}),d=o.formatMessage,l=a.map(this.renderPane),u=t||!l.length;return ii.a.createElement("div",{"data-test-id":"mail-right-rail",className:c.rightRailContainer},u||s?null:ii.a.createElement("div",{className:this.state.chevronHover?c.activeHideAdsChevronWrapper:c.hideAdsChevronWrapper},ii.a.createElement("div",{onMouseEnter:()=>this.handleChevronHover(!0),onMouseLeave:()=>this.handleChevronHover(!1),title:d(_p.hide_advertisement),onClick:this.collapseRightRail,className:c.hideAdsChevron,"data-test-id":"right-rail-hidead-btn"},ii.a.createElement(hi.b,{kind:gi.b.CHEVRON_UP,colorState:gi.a.INHERITED,size:gi.d.XS,rotate:gi.c.D90}))),ii.a.createElement("div",{className:c.rightRail},n?ii.a.createElement(Bm,{key:"CommsProperties",verticalLayout:u,windowDimensions:r}):null,l.length?ii.a.createElement("div",{className:c.panesContainer},l):null))}}ot()(mp,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func});var pp=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getRoute,a=t.getRightRailPanes,n=t.isFeatureEnabled,r=t.getSetting,i=t.getBreakingNewsSelectors,o=n(I.ub.SHOW_COMMS_PROPERTIES);let c=[];const d=i().getIsBreakingNewsDismissed(),l=r(I.zd.BREAKING_NEWS_REFRESH_INTERVAL),u=r(I.zd.BREAKING_NEWS_VERSION),_=n(I.ub.BREAKING_NEWS_ENABLED)&&(u===I.B.VERSION_4||u===I.B.VERSION_5),m=s(),p=Object(eo.w)(m),h=Object(eo.t)(p),g=n(I.ub.ENABLE_YM6_GROCERY),E=g&&h===I.Pb.OFFER_CARDS;return n(I.ub.SEATGEEK_CARD)?c=["LREC4","LREC"]:(n(I.ub.HIPMUNK_CARD)||n(I.ub.BOOKING_CARD)||n(I.ub.RELATED_SEARCHES_CARD))&&(c=["LREC4"]),{disabledAdPositions:Object(b.c)(c),hideAdsForGrocery:E,isBreakingNewsDismissed:d,isBreakingNewsEnabled:_,isYM6GroceryEnabled:g,newsRefreshInterval:l,panes:a(),showCommsProperties:o}},e=>({hideAdsTemporarily:()=>e(Object(im.l)()),onBreakingNewsRefresh:t=>e(Object(om.d)(t))}))(mp),hp=s(106),gp=s.n(hp),Ep=s(169),Ip=s(69),Sp=s(159),Cp=s(302),fp=s.n(Cp),Tp=s(341),Ap=s(117),bp=s(561);const Op=Object(mi.defineMessages)({accountSettingsMenu:{id:"accounts_settings_menu_aria_label",defaultMessage:"Account settings"},syncingIndicatorIcon:{id:"syncing_indicator_icon_aria_label",defaultMessage:"Syncing"},notSyncingIndicatorIcon:{id:"not_syncing_indicator_icon_aria_label",defaultMessage:"Not syncing"}});class Rp extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{hoveredAccountId:null}),ot()(this,"handleClick",(e,t)=>{this.props.onClick(t,e,{mKey:Gi.e.ACCOUNT_SWITCH,sec:Gi.g.LEFTRAIL_ACCOUNTS,interactionType:Object(vs.j)(t)})}),ot()(this,"handleMouseOver",e=>{this.setState({hoveredAccountId:e})}),ot()(this,"handleMouseLeave",()=>{this.setState({hoveredAccountId:null})}),ot()(this,"handleGearIconClick",(e,t)=>{this.navigateToSettingsTab(e,t,{mKey:Gi.e.EDIT_IMAP_ACCOUNT,sec:Gi.g.LEFTRAIL_ACCOUNTS,interactionType:Object(vs.j)(t)})}),ot()(this,"handleExpiredIconClick",(e,t)=>{let s=!1;const a=e.id;this.props.autoOpenReauth&&Object(xc.h)(e)&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`),s=!0),this.navigateToSettingsTab(a,t,{mKey:Gi.e.FIX_IMAP_ACCOUNT,sec:Gi.g.LEFTRAIL_ACCOUNTS,interactionType:Object(vs.j)(t)},s)}),ot()(this,"navigateToSettingsTab",(e,t,s,a=!1)=>{t.preventDefault(),t.stopPropagation(),this.context.navigateTo({route:Object(Qi.v)({settingsGroupId:I.Cd.ACCOUNTS,accountId:e,openReauth:a}),i13nModel:s})}),ot()(this,"shouldRenderAccount",e=>{return e.status!==I.h.DELETE_IN_PROGRESS&&e.type!==I.i.POPIN}),ot()(this,"updateContent",e=>{e&&e.updatePosition()}),ot()(this,"renderOffice365Cue",()=>this.accountListRef?ii.a.createElement(Ni.a,{popoverAnchor:this.accountListRef,isRTL:this.props.isRTL,align:yi.a.CENTER,triggerOn:yi.i.MOUNT,permittedArrowDirections:[yi.h.START],zAltitude:Ri.ZIndices.POPOVER.HIGH,ref:e=>{this.imapInPopover=e},borderRadius:yi.e.LOW},ii.a.createElement(qi.a,{import:"../molecules/office365_cue/index.jsx",onShow:()=>this.updateContent(this.imapInPopover),_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1222))},_moduleResolver:function(){return 1222}})):null)}render(){const e=this.props,t=e.rootAccounts,s=e.activeAccountId,a=e.toggleAccountsList,n=e.expiredAccounts,r=e.showOffice365Cue,i=this.context.getCss(fp.a),o=this.context.intl.formatMessage,c=t.map(e=>{const t=e.status,r=e.type,i=e.createTime,c=e.id===s,d=this.context.getCss(fp.a),l=e.defaultFolder,u=e.description||e.email,_=("ltr"===Object(Ap.getTextDirection)(u)?d.rtlIgnoreDirLTR:d.rtlIgnoreDirRTL)+" "+(c?d.activeText:d.text),m=Object(xc.a)({status:t,type:r,createTime:i}),p=this.state.hoveredAccountId===e.id,h=n.find(t=>t.id===e.id);let g;return l&&l.id&&(a||c)&&this.shouldRenderAccount(e)?(g=h?ii.a.createElement("span",{className:d.expiredIcon},ii.a.createElement(pi.a,{kind:gi.b.EXCLAMATION_ALT,size:gi.d.XS,colorState:gi.a.WARNING_GRAD_RED,onClick:this.handleExpiredIconClick.bind(this,e),title:o(Op.notSyncingIndicatorIcon)})):m?ii.a.createElement("div",{className:d.statusIcon},ii.a.createElement(bp.a,{size:gi.d.XS,title:o(Op.syncingIndicatorIcon)})):p?ii.a.createElement("span",{className:d.settingGear},ii.a.createElement(pi.a,{onClick:this.handleGearIconClick.bind(this,e.id),"data-iskeynav":!0,paddingLess:!0,size:gi.d.XXS,kind:gi.b.SETTINGS,title:o(Op.accountSettingsMenu),"aria-label":o(Op.accountSettingsMenu),colorState:gi.a.INHERITED})):ii.a.createElement("span",{className:d.unreadCount},l.unread>0?ii.a.createElement(Tp.a,{contextOfUse:"AccountSwitcher",value:Object(At.h)(l.unread),"data-test-id":"displayed-count",isActive:c,whiteBackground:this.context.getThemeMode()!==fi.h.LIGHT}):null),ii.a.createElement(kd.a,{key:e.email,onMouseOver:this.handleMouseOver.bind(this,e.id),onMouseLeave:this.handleMouseLeave.bind(this,e.id)},ii.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"account-list-item","data-test-account-email":e.email,"data-test-is-active":c,"data-test-unread-count":l.unread,"data-test-is-expired":!!h,className:d.listItem,href:this.context.getUrlFromRoute({name:I.gd.FOLDER,params:{fid:l.id}}),onClick:this.handleClick.bind(this,l.id),tabIndex:"-1",rel:"noopener"},ii.a.createElement("span",{className:_,title:u},u),g))):null});return ii.a.createElement("div",{"data-test-id":"account-list",ref:e=>{this.accountListRef=e}},r&&this.renderOffice365Cue(),ii.a.createElement("ul",{className:i.accountList},c))}}ot()(Rp,"contextTypes",{executeAction:ni.a.func,navigateTo:ni.a.func,getUrlFromRoute:ni.a.func.isRequired,getCss:ni.a.func,getThemeMode:ni.a.func,intl:mi.intlShape.isRequired});var Np=Rp,Mp=s(715),Dp=s.n(Mp);const yp=Object(mi.defineMessages)({compose:{id:"compose_button.compose",defaultMessage:"Compose"}});class Lp extends ii.a.Component{render(){const e=this.props.appRootPath,t=(0,this.context.intl.formatMessage)(yp.compose),s=this.context.getCss(Dp.a);return ii.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"compose-button",href:`${e}/compose/`,className:s.link,onClick:this.props.onClick,onDrop:this.props.handleDrop,onDragOver:this.props.handleDragOver,onDragEnter:this.props.handleDragEnter,role:"button","aria-label":t,rel:"noopener"},t)}}ot()(Lp,"contextTypes",{intl:mi.intlShape,config:ni.a.object,getCss:ni.a.func}),ot()(Lp,"defaultProps",{appRootPath:"/d"});var vp=Lp,Pp=s(105),Fp=s(177);class wp extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{hoveredMailboxId:null}),ot()(this,"handleClick",(e,t)=>{this.props.onClick(t,e,{mKey:Gi.e.MAILBOX_SWITCH,sec:Gi.g.LEFTRAIL_MAILBOXES,interactionType:Object(vs.j)(t)})}),ot()(this,"handleMouseOver",e=>{this.setState({hoveredMailboxId:e})}),ot()(this,"handleMouseLeave",()=>{this.setState({hoveredMailboxId:null})}),ot()(this,"shouldRenderMailbox",e=>{return e.state===I.jc.ENABLED}),ot()(this,"updateContent",e=>{e&&e.updatePosition()}),ot()(this,"renderSmallBizCue",()=>this.mailboxListRef?ii.a.createElement(Ni.a,{popoverAnchor:this.mailboxListRef,isRTL:this.props.isRTL,align:yi.a.CENTER,triggerOn:yi.i.MOUNT,permittedArrowDirections:[yi.h.START],zAltitude:Ri.ZIndices.POPOVER.HIGH,ref:e=>{this.popoverContent=e},bg:yi.d.GRADIENT,borderRadius:yi.e.MEDIUM},ii.a.createElement(qi.a,{import:"../molecules/small_biz_cue/index.jsx",onShow:()=>this.updateContent(this.popoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1182))},_moduleResolver:function(){return 1182}})):null)}render(){const e=this.props,t=e.rootMailBoxes,s=e.selectedMailboxId,a=e.toggleMailboxesList,n=e.showSmallBizCue,r=this.context.getCss(fp.a),i=t.map(e=>{const t=e.id===s;if(!a&&!t)return null;if(!this.shouldRenderMailbox(e))return null;const n=e.email,i=("ltr"===Object(Ap.getTextDirection)(n)?r.rtlIgnoreDirLTR:r.rtlIgnoreDirRTL)+" "+(t?r.activeText:r.text);return ii.a.createElement(kd.a,{key:e.email,onMouseOver:this.handleMouseOver.bind(this,e.id),onMouseLeave:this.handleMouseLeave.bind(this,e.id)},ii.a.createElement("a",{"data-iskeynav":!0,"data-test-id":"mailbox-list-item","data-test-mailbox-email":e.email,"data-test-is-active":t,className:r.listItem,href:"#",onClick:this.handleClick.bind(this,e.id),tabIndex:"-1",rel:"noopener"},ii.a.createElement("span",{className:i,title:n},n)))});return ii.a.createElement("div",{"data-test-id":"mailbox-list",ref:e=>{this.mailboxListRef=e}},n&&this.renderSmallBizCue(),ii.a.createElement("ul",{className:r.accountList},i))}}ot()(wp,"contextTypes",{getCss:ni.a.func,getThemeMode:ni.a.func});var kp=wp,xp=s(717),Up=s.n(xp);class Gp extends ii.a.Component{render(){const e=this.context.getCss(Up.a);return ii.a.createElement("div",{className:e.divider,onClick:this.props.onClick},ii.a.createElement("button",{className:e.moreButton,"data-iskeynav":!0}),ii.a.createElement(hi.b,{kind:gi.b.MORE,colorState:gi.a.INHERITED,className:e.moreIcon}))}}ot()(Gp,"defaultProps",{onClick:()=>{}}),ot()(Gp,"contextTypes",{getCss:ni.a.func});var jp=Gp,Hp=s(112),Bp=s(256);const Vp="bzmbox";class Wp extends Bp.a{constructor(e){super(e,"YM.BZMB",{TTL:null})}setBizMboxId(e){e&&this.set({[Vp]:e})}getBizMboxId(){const e=this.get();return e&&e[Vp]?String(e[Vp]):""}}var qp=s(56),zp=s(562),Kp=s(362),Zp=s.n(Kp),Yp=s(720),Xp=s.n(Yp),Qp=s(260),$p=s(181),Jp=s(721),eh=s.n(Jp);const th=xi()(eh.a),sh={maxWidth:"230px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},ah=Object(mi.defineMessages)({mark_folder_read:{id:"mark_folder_read",defaultMessage:"Mark emails as read"},archive_inbox_messages:{id:"archive_inbox_messages",defaultMessage:"Clean your Inbox"},archive_folder_messages:{id:"archive_folder_messages",defaultMessage:"Archive all emails"},empty_folder_messages:{id:"folder_menu.empty_folder_messages",defaultMessage:"Empty {folderName}"},delete_folder_messages:{id:"delete_folder_messages",defaultMessage:"Delete all emails"},rename_folder:{id:"rename_folder",defaultMessage:"Rename folder"},move_folder:{id:"move_folder",defaultMessage:"Move folder"},delete_folder:{id:"delete_folder",defaultMessage:"Delete folder"},create_subfolder:{id:"create_subfolder",defaultMessage:"Create subfolder"}});function nh(){}class rh extends ii.a.Component{constructor(...e){super(...e),ot()(this,"handleDeleteClick",e=>{e.preventDefault();const t={interactionType:Object(vs.j)(e),actionData:{depth:this.props.depth}};this.props.onDelete({folder:this.props.folder,i13nModel:t,hasSubFolder:this.props.hasChildren})}),ot()(this,"handleRenameClick",e=>{e.preventDefault(),this.props.onRename()}),ot()(this,"handleSubfolderClick",e=>{e.preventDefault(),this.props.onSubfolderCreate()}),ot()(this,"handleMarkReadClick",e=>{e.preventDefault();const t={interactionType:Object(vs.j)(e),actionData:{numMsg:this.props.folder.unread}};this.props.onMarkRead({folder:this.props.folder,i13nModel:t})}),ot()(this,"handleArchiveClick",e=>{e.preventDefault(),this.props.onArchive(this.props.folder)}),ot()(this,"handleClearClick",e=>{e.preventDefault(),this.props.onClear(this.props.folder)}),ot()(this,"getMarkAsReadMenuItem",e=>{const t=this.context.intl.formatMessage;return ii.a.createElement($p.a,{key:e,name:"mark_folder_read",disabled:0===this.props.folder.total||0===this.props.folder.unread,onClick:this.handleMarkReadClick},ii.a.createElement("div",{style:sh,title:t(ah.mark_folder_read)},t(ah.mark_folder_read)))}),ot()(this,"getArchiveMenuItem",e=>{const t=this.context.intl.formatMessage;return ii.a.createElement($p.a,{key:e,name:"archive_folder_messages",disabled:0===this.props.folder.total,onClick:this.handleArchiveClick},this.props.folder.type===I.Cb.INBOX?ii.a.createElement("div",{style:sh,title:t(ah.archive_inbox_messages)},t(ah.archive_inbox_messages)):ii.a.createElement("div",{style:sh,title:t(ah.archive_folder_messages)},t(ah.archive_folder_messages)))}),ot()(this,"getDeleteMenuItem",e=>{const t=this.props.folder.type,s=0===this.props.folder.total,a=this.context.intl.formatMessage,n=I.Cb.BULK||t===I.Cb.TRASH?a(ah.empty_folder_messages,{folderName:Object(At.n)(a,t)}):a(ah.delete_folder_messages);return ii.a.createElement($p.a,{key:e,name:"delete_folder_messages",disabled:s,onClick:this.handleClearClick},ii.a.createElement("div",{style:sh,title:n},n))}),ot()(this,"getRenameFolderMenuItem",e=>{const t=this.context.intl.formatMessage;return ii.a.createElement($p.a,{key:e,name:"rename_folder",disabled:this.props.hasChildren,onClick:this.handleRenameClick},ii.a.createElement("div",{style:sh,title:t(ah.rename_folder)},t(ah.rename_folder)))}),ot()(this,"getMoveFolderMenuItem",e=>{const t=this.context.intl.formatMessage;return ii.a.createElement($p.a,{key:e,disabled:!0,onClick:nh},ii.a.createElement("div",{style:sh,title:t(ah.move_folder)},t(ah.move_folder)))}),ot()(this,"getDeleteFolderMenuItem",e=>{const t=this.context.intl.formatMessage;return ii.a.createElement($p.a,{key:e,name:"delete_folder",onClick:this.handleDeleteClick},ii.a.createElement("div",{style:sh,title:t(ah.delete_folder)},t(ah.delete_folder)))}),ot()(this,"getCreateFolderMenuItem",e=>{const t=this.context.intl.formatMessage;return ii.a.createElement($p.a,{key:e,name:"create_subfolder",onClick:this.handleSubfolderClick,"data-test-id":"create-subfolder"},ii.a.createElement("div",{style:sh,title:t(ah.create_subfolder)},t(ah.create_subfolder)))}),ot()(this,"getSeparatorItem",e=>ii.a.createElement(kd.a,{key:e,className:th.separator})),ot()(this,"renderMenuItems",()=>{const e=Object(At.i)(this.props.folder.type),t=[];return e.map((e,s)=>{switch(e){case I.Bb.MARK_READ:t.push(this.getMarkAsReadMenuItem(s));break;case I.Bb.ARCHIVE:t.push(this.getArchiveMenuItem(s));break;case I.Bb.DELETE:t.push(this.getDeleteMenuItem(s));break;case I.Bb.RENAME_FOLDER:t.push(this.getRenameFolderMenuItem(s));break;case I.Bb.MOVE_FOLDER:t.push(this.getMoveFolderMenuItem(s));break;case I.Bb.DELETE_FOLDER:t.push(this.getDeleteFolderMenuItem(s));break;case I.Bb.CREATE_FOLDER:t.push(this.getCreateFolderMenuItem(s));break;case I.Bb.SEPARATOR:t.push(this.getSeparatorItem(s))}}),t})}render(){return ii.a.createElement("div",{className:th.container},ii.a.createElement(Pi.a,{kind:qd.a.MENU,focusOnMount:!0,onShow:this.props.onShow,onEscape:this.props.onEscape},this.renderMenuItems()))}}ot()(rh,"contextTypes",{intl:mi.intlShape.isRequired}),ot()(rh,"defaultProps",{onEscape:nh});var ih=rh,oh=s(73),ch=s(121),dh=s(187),lh=s(60);const uh=()=>{},_h=Object(mi.defineMessages)({folder_tooltip:{id:"folder_tooltip",defaultMessage:"{folderName}{isSelected} - {totalNum, plural, =0 {{folderType, select, DRAFT {no drafts} other {no emails}}} =1 {{folderType, select, DRAFT {{totalNum, number} draft} other {{totalNum, number} email}}} =-1 {{folderType, select, DRAFT {} other {}}} other {{folderType, select, DRAFT {{totalNum, number} drafts} other {{totalNum, number} emails}}}} {unreadTooltip} {folderStateTooltip}"},unread_tooltip:{id:"unread_tooltip",defaultMessage:"{numUnreads, plural, other {(# unread)}}"},folder_is_open:{id:"folder_is_open",defaultMessage:"Folder is expanded. Collapse its contents using left arrow."},selected_folder:{id:"selected_folder",defaultMessage:", selected"},folder_is_closed:{id:"folder_is_closed",defaultMessage:"Folder is collapsed. Expand its contents using right arrow."},show_folders:{id:"show_folders",defaultMessage:"Click to show folders"},hide_folders:{id:"hide_folders",defaultMessage:"Click to hide folders"},rename_folder_input_aria_label:{id:"rename_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to rename folder]"},rename_folder_dismiss_input:{id:"rename_folder_dismiss_input",defaultMessage:"Dismiss input"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},empty_trash_tooltip:{id:"empty_trash_tooltip",defaultMessage:"Empty Trash folder"},empty_spam_tooltip:{id:"empty_spam_tooltip",defaultMessage:"Empty Spam folder"}});class mh extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{dragover:!1,unreadCount:Object(At.j)(this.props.folder),prevCount:0,showDropDownMenu:!1,showContextMenu:!1}),ot()(this,"_getChevronTitle",()=>{const e=this.context.intl.formatMessage;switch(this.props.chevron){case I.L.LEFT:return e(_h.show_folders);case I.L.DOWN:return e(_h.hide_folders);default:return""}}),ot()(this,"getTitleText",()=>{const e=this.props,t=e.folder,s=this.context.intl.formatMessage;let a="",n="";const r=e.isActive?s(_h.selected_folder):null;switch(this.props.chevron){case I.L.LEFT:n=s(_h.folder_is_closed);break;case I.L.DOWN:n=s(_h.folder_is_open);break;default:n=""}switch(t.type){case I.Cb.DRAFT:case I.Cb.SENT:case I.Cb.BULK:case I.Cb.TRASH:case I.Cb.ARCHIVE:break;default:a=s(_h.unread_tooltip,{numUnreads:Object(At.j)(t)})}return s(_h.folder_tooltip,{folderName:Object(At.n)(s,t.type)||t.name,folderType:t.type,totalNum:t.total,unreadTooltip:a,folderStateTooltip:n,isSelected:r})}),ot()(this,"_getI13nModel",()=>{const e=this.props.folder;return{mKey:Gi.e[`${e.type}_FOLDER`],sec:I.Xd[e.type]?Gi.g.LEFTRAIL_SYSFOLDER:Gi.g.LEFTRAIL_USERFOLDER,actionData:{depth:this.props.depth}}}),ot()(this,"handleKeyDown",e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.handleNavClick(e);break;case"ArrowLeft":case"ArrowRight":e.stopPropagation(),this.props.onToggleExpansion(e);break;default:return}}),ot()(this,"handleNavClick",e=>{if(e.preventDefault(),this.folderMenu&&(e.target===this.folderMenu||this.folderMenu.contains(e.target)))return;const t=this._getI13nModel();t.interactionType=Object(vs.j)(e),this.props.onClick(e,this.props.folder.id,t)}),ot()(this,"handleDoubleClick",e=>{const t=this.props.folder;e.stopPropagation(),I.Xd[t.type]||this.props.hasChildren||this.props.onRenameStart()}),ot()(this,"handleRenameStart",()=>{this.setState({showDropDownMenu:!1,showContextMenu:!1,contextMenuPosition:{x:0,y:0}},()=>this.props.onRenameStart())}),ot()(this,"handleRename",({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:this.props.depth}},t),this.props.onRenameSubmit({originalFolderName:this.props.folder.name,newFolderName:e,folderId:this.props.folder.id,i13nModel:t})}),ot()(this,"renderInput",()=>{const e=this.context.intl.formatMessage,t=this.props.folder.parentFolderId||"";return ii.a.createElement(Qp.a,{onInputSubmit:this.handleRename,onDismiss:this.props.onRenameCancel,initialFolderName:this.props.folder.name,ariaLabel:e(_h.rename_folder_input_aria_label),cancelTitle:e(_h.rename_folder_dismiss_input),activeAccountId:this.props.activeAccountId,parentFolderId:t})}),ot()(this,"renderLabel",e=>{const t=this.props,s=t.folder,a=t.chevron,n=this.props.chevron!==I.L.NONE;return ii.a.createElement("span",{className:e.labelContainer,title:this.getTitleText()},n?ii.a.createElement(Li.a,{title:this._getChevronTitle(),onClick:this.props.onToggleExpansion,className:e.chevron,"data-test-id":"folder-expand-btn"},ii.a.createElement(hi.b,{kind:gi.b.CHEVRON_UP,colorState:gi.a.INHERITED,size:gi.d.XS,rotate:a===I.L.DOWN?gi.c.D180:gi.c.D90})):null,ii.a.createElement("span",{className:e.label},ii.a.createElement(Vo.a,{folderId:s.id,"data-test-id":"folder-label"})))}),ot()(this,"shouldHandleDrag",()=>{return-1===[I.Cb.SENT,I.Cb.DRAFT].indexOf(this.props.folder.type)}),ot()(this,"handleDrop",e=>{if(e.preventDefault(),!this.shouldHandleDrag())return;const t=e.dataTransfer.getData("text");let s;try{s=JSON.parse(t)}catch(e){return}const a=s.listId;a&&(this.props.onFolderDrop((s.doSelectAll?dh.a:dh.b)[lh.c.LIST].move,{destinationFolderId:this.props.folder.id,listId:a,allItemsCount:s.allItemsCount,i13nModel:{interactionType:Object(vs.j)(e),mKey:Gi.e.DRAG_DROP_MOVE,sec:Gi.g.MSG_LIST,mKeyGroup:Gi.f.move}}),this.targets=[],this.setState({dragover:!1}))}),ot()(this,"handleDragEnter",e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.targets||(this.targets=[]),this.targets.push(e.currentTarget),1===this.targets.length&&this.setState({dragover:!0}))}),ot()(this,"handleDragLeave",e=>{e.preventDefault(),this.shouldHandleDrag()&&this.targets&&(this.targets.pop(),0===this.targets.length&&this.setState({dragover:!1}))}),ot()(this,"handleDragOver",e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.state.dragover||this.setState({dragover:!0}))}),ot()(this,"handleContextMenu",e=>{e.preventDefault();const t=this.folderRef.getBoundingClientRect();this.setState({contextMenuPosition:{x:e.clientX-t.left,y:e.clientY-t.top},showContextMenu:!0})}),ot()(this,"shouldRenderTrashCanIcon",()=>{const e=this.props;return!(e.isRefreshing||!e.showFolderMenu||!e.isHovered||-1===[I.Cb.TRASH,I.Cb.BULK].indexOf(e.folder.type))}),ot()(this,"handleEmptyFolder",e=>{e.preventDefault(),this.props.folder.total>0&&this.props.onClear(this.props.folder)}),ot()(this,"shouldRenderUnreadCount",()=>{const e=this.props,t=e.isHovered,s=e.showFolderMenu;return!(e.isRefreshing||-1===[I.Cb.DRAFT,I.Cb.SENT].indexOf(e.folder.type)&&(t||s))}),ot()(this,"getUnreadCountClass",e=>{return this.state.prevCount>=this.state.unreadCount||-1!==[I.Cb.DRAFT,I.Cb.SENT,I.Cb.SPAM,I.Cb.TRASH].indexOf(this.props.folder.type)?e.unreadWrapper:e.unreadFadeIn}),ot()(this,"handleMenuAnchorClick",()=>{this.setState({showDropDownMenu:!this.state.showDropDownMenu})}),ot()(this,"renderFolderStateIcon",e=>{const t=this.props,s=t.isRefreshing,a=t.folder,n=t.isActive,r=t.highlightUnreadCount,i=this.state.unreadCount,o=this.context.intl.formatMessage,c=this.shouldRenderUnreadCount(),d=this.shouldRenderTrashCanIcon();if(s)return ii.a.createElement("span",{className:e.loader},ii.a.createElement(md.b,{size:md.a.S,"data-test-id":"folder-loading-indicator"}));if(c&&i>0)return ii.a.createElement("span",{className:e.unreadWrapper},ii.a.createElement(Tp.a,{contextOfUse:"Folder",value:Object(At.h)(i),"data-test-id":"displayed-count",isActive:n,highlight:r,whiteBackground:this.context.getThemeMode()!==fi.h.LIGHT}));if(d){const t=o(a.type===I.Cb.TRASH?_h.empty_trash_tooltip:_h.empty_spam_tooltip);return ii.a.createElement("span",{className:e.trashIconWrapper,title:t},ii.a.createElement(pi.a,{"data-test-id":"trashcan-icon",kind:gi.b.DELETE,size:gi.d.XXS,colorState:gi.a.INHERITED,onClick:this.handleEmptyFolder,title:t,ariaLabel:t}),this.state.showContextMenu&&this.contextMenuAnchor&&this.renderMenu())}return ii.a.createElement("span",{className:e.folderMenu,ref:e=>this.folderMenu=e},ii.a.createElement("div",{className:e.folderMenuIcon,"data-test-id":"folder-menu-hook",ref:e=>{this.dropDownMenuAnchor=e}},!this.state.showContextMenu&&ii.a.createElement(pi.a,{onClick:this.handleMenuAnchorClick,kind:gi.b.INPUT_ARROW_DOWN,size:gi.d.XS,colorState:gi.a.INHERITED,title:o(_h.show_folder_menu),ariaLabel:o(_h.show_folder_menu)}),(this.state.showDropDownMenu&&this.dropDownMenuAnchor||this.state.showContextMenu&&this.contextMenuAnchor)&&this.renderMenu()))}),ot()(this,"handleMenuHide",()=>{this.setState({showDropDownMenu:!1,showContextMenu:!1,contextMenuPosition:{x:0,y:0}},()=>this.props.handleMenuVisibility(!1))}),ot()(this,"handleMenuShow",()=>{this.props.handleMenuVisibility(!0)}),ot()(this,"renderMenu",()=>{const e=this.state.showDropDownMenu;return ii.a.createElement(Ni.b,{permittedArrowDirections:[yi.h.UP,yi.h.DOWN],triggerOn:yi.i.MOUNT,arrowSize:yi.b.XS,offset:e?4*Ri.GRID_UNIT:0,align:e?yi.a.CENTER:yi.a.START,overflowScroll:!1,onShow:this.handleMenuShow,onHide:this.handleMenuHide,popoverAnchor:e?this.dropDownMenuAnchor:this.contextMenuAnchor,isArrowVisible:e},ii.a.createElement(ih,{"data-test-id":"folder-menu",folder:this.props.folder,onDelete:this.props.onDelete,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,onMarkRead:this.props.onMarkRead,onArchive:this.props.onArchive,onClear:this.props.onClear,onShow:this.props.onFolderMenuShow,onRename:this.handleRenameStart,hasChildren:this.props.hasChildren,depth:this.props.depth,onEscape:this.handleMenuHide}))}),ot()(this,"getContainerClassName",e=>{const t=this.props.isActive;return this.state.dragover?t?e.activeDragoverContainer:e.dragoverContainer:t?e.activeContainer:e.container}),ot()(this,"handleMouseEnter",()=>{this.props.handleHover(!0)}),ot()(this,"handleMouseLeave",()=>{this.props.handleHover(!1)})}componentWillReceiveProps(e){this.props.folder.unread!==e.folder.unread&&e.folder.unread<0&&oh.a.error("The user received a negative folder count."),this.setState({prevCount:this.state.unreadCount,unreadCount:Object(At.j)(e.folder)})}componentWillUnmount(){this.targets=null,clearTimeout(this.timerID)}render(){const e=this.props,t=e.folder,s=e.isActive,a=e.isActualFolder,n=e.sortOrder,r=this.props.chevron!==I.L.NONE,i=this.state.contextMenuPosition;let o;t.isSystem||(o=0===e.depth?r?ch.f:ch.e:r?ch.d:ch.c);const c=this.context.getCss(Xp.a,{indentation:o,showFolderMenu:e.showFolderMenu,isActive:s});return this.props.renamingFolder?this.renderInput():a?ii.a.createElement("div",{className:this.getContainerClassName(c),"data-test-folder-container":t.name,"data-test-id":"folder-item-container",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onContextMenu:this.handleContextMenu,onClick:this.handleNavClick,"data-iskeynav":!0,tabIndex:-1,ref:e=>{this.folderRef=e}},ii.a.createElement("span",{style:{position:"absolute",top:i?i.y+"px":0,left:i?i.x+"px":0},ref:e=>{this.contextMenuAnchor=e}}),ii.a.createElement("a",{href:this.context.getUrlFromRoute({name:I.gd.FOLDER,params:{fid:Object(eo.X)(Object(eo.v)(t.id,n))}}),className:s?c.activeNavContainer:c.navContainer,"data-test-folder-name":t.name,"data-test-id":"folder-list-item",onFocus:this.props.onFocus,onDoubleClick:this.handleDoubleClick,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-unread-count":t.unread,"data-test-total-count":t.total,"data-test-is-active":s,tabIndex:-1,rel:"noopener"},this.renderLabel(c),this.renderFolderStateIcon(c))):ii.a.createElement("div",{className:c.folderLabelContainer},ii.a.createElement("span",{className:c.label},ii.a.createElement(Fp.a,{name:t.name,"data-test-id":"folder-label"})))}}ot()(mh,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func,getThemeMode:ni.a.func,getUrlFromRoute:ni.a.func.isRequired}),ot()(mh,"defaultProps",{onClick:uh,onRenameStart:uh,onRenameSubmit:uh,onRenameCancel:uh,renamingFolder:!1,isActive:!1,isActualFolder:!0,showFolderMenu:!1,depth:0,hasChildren:!1});var ph=mh;const hh=Object(mi.defineMessages)({folders_label:{id:"folders_label",defaultMessage:"Folders"},click_to_show_folders_title:{id:"folder_list.click_to_show_folders_title",defaultMessage:"Click here to Show the Folders"},click_to_hide_folders_title:{id:"folder_list.click_to_hide_folders_title",defaultMessage:"Click here to Hide the Folders"}});class gh extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{expanded:this.props.showCustomFolders}),ot()(this,"expand",()=>{this.state.expanded||this.toggle()}),ot()(this,"collapse",()=>{this.state.expanded&&this.toggle()}),ot()(this,"toggle",()=>{const e=this.state.expanded;this.props.onToggleCustomFolders(!e),this.setState({expanded:!e})}),ot()(this,"handleClick",e=>{e.stopPropagation(),e.preventDefault(),this.toggle()}),ot()(this,"handleKeyDown",e=>{switch(e.preventDefault(),e.key){case" ":case"Enter":this.toggle();break;case"ArrowLeft":this.collapse();break;case"ArrowRight":this.expand();break;default:return}}),ot()(this,"getTitleText",()=>{const e=this.context.intl.formatMessage;return e(this.state.expanded?hh.click_to_hide_folders_title:hh.click_to_show_folders_title)})}render(){const e=this.context.intl.formatMessage,t=this.context.getCss(Zp.a,i()({indentation:ch.a},Object(fi.k)(this.context,!0))),s={id:"-1",type:I.Cb.USER,name:e(hh.folders_label),total:-1};return ii.a.createElement("div",null,ii.a.createElement("div",{"data-test-id":"toggle-folder-tree","data-iskeynav":!0,onKeyDown:this.handleKeyDown,className:t.folderContainer,onClick:this.handleClick},ii.a.createElement(ph,{isActive:!1,folder:s,onToggleExpansion:()=>{},chevron:I.L.NONE,isActualFolder:!1}),ii.a.createElement("span",{"data-test-id":"toggle-folder-tree-label",className:t.toggleFolderTree,title:this.getTitleText(),"aria-label":this.getTitleText()},ii.a.createElement(mi.FormattedMessage,this.state.expanded?{id:"hide_label",defaultMessage:"Hide"}:{id:"show_label",defaultMessage:"Show"}))),this.props.children&&this.state.expanded?ii.a.createElement("ul",{className:t.folderTree,"data-test-id":"custom-folder-list"},ii.a.createElement("li",null,this.props.children)):null)}}ot()(gh,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func,getThemeMode:ni.a.func,getTheme:ni.a.func});var Eh=gh,Ih=s(722),Sh=s.n(Ih);class Ch extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{playAnimation:!1}),ot()(this,"getTitleText",()=>{const e=this.context.intl.formatMessage,t=this.props,s=t.type;return e(t.isActive?so.a["smart_view_selected_"+s]:so.a[s])}),ot()(this,"getFujiIconKind",e=>{switch(e){case"DOCUMENTS":return gi.b.DOCUMENTS_S;case"PHOTOS":return gi.b.TAB_IMAGES;case"TUTORIAL":return gi.b.CAL_MAYBE;case"COUPONS":return gi.b.SCISSORS;case"GROCERIES":case"GROCERIESV2":return gi.b.BASKET;case"RECEIPTS":return gi.b.DRAFTS;case"TRAVEL":return gi.b.TRAVEL;default:return""}}),ot()(this,"handleKeyDown",e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.props.onClick(e,this.props.type);break;default:return}}),ot()(this,"handleNavClick",e=>{this.props.onClick(e,this.props.type)}),ot()(this,"handleContextMenu",e=>{e.preventDefault()}),ot()(this,"handleHover",e=>{this.props.handleHover(e)}),ot()(this,"renderGuidedStarAnimation",(e,t)=>{const s=this.context.getThemeMode(),a=t.gifUrlLight,n=t.gifUrlDark;return t.name===I.md.SLIDEUP?ii.a.createElement("div",{className:e.starAnimation},ii.a.createElement(hi.b,{kind:gi.b.STAR,size:gi.d.S,colorState:s===I.be.LIGHT?gi.a.STARRED:gi.a.STARRED_DARK})):t.name===I.md.GUIDEDSTAR?ii.a.createElement("img",{className:e.sparkleGuidedStarAnimation,src:Object(Om.a)(s===I.be.LIGHT?a:n),"data-test-id":s===I.be.LIGHT?"guided-stars-light":"guided-stars-dark"}):null}),ot()(this,"renderLabel",e=>{const t=this.context.intl.formatMessage(so.a["smart_view_"+this.props.type]),s=ii.a.createElement("span",null,t);return ii.a.createElement("div",{className:e.labelContainer,title:this.getTitleText()},ii.a.createElement("span",{className:e.label},s))}),ot()(this,"getListId",()=>{const e=this.props,t=e.type,s={accountIds:[e.activeAccount.id]},a=Object(o_.b)(t,s);return Object(eo.Y)(Object(eo.d)(a))}),ot()(this,"getIconColor",()=>{let e;return e="LIGHT"===this.context.getThemeMode()?this.props.isActive?gi.a.NORMAL:gi.a.DISABLED:this.props.isActive?gi.a.INVERTED:gi.a.SMARTVIEW_DARK}),ot()(this,"getIcon",(e,t,s,a,n,r)=>t?ii.a.createElement("span",{className:e.smartViewIcon+" "+e.rtlRawScaleX},ii.a.createElement(hi.b,{kind:s,size:a,title:n,colorState:r})):null)}componentWillReceiveProps(e){"STARRED"===e.type&&e.guidedStarAnimation&&e.hasGuidedStarAnimation&&!this.state.playAnimation&&this.setState({playAnimation:!0},()=>setTimeout(()=>{this.setState({playAnimation:!1})},e.guidedStarAnimation.duration))}render(){const e=this.props,t=e.type,s=e.isActive,a=e.guidedStarAnimation,n=void 0===a?{}:a,r=n.name,i=void 0===r?"":r,o=this.getFujiIconKind(t),c=this.getIconColor(),d=!!o,l=this.context.getCss(Sh.a,{isActive:s,isActiveAndNoIcon:!d&&s,hasIcon:d,animation:i}),u=this.getListId();let _,m={query:u};switch(t){case I.Kd.TUTORIAL:_=I.gd.TUTORIAL;break;case I.Kd.RECEIPTS:case I.Kd.COUPONS:case I.Kd.GROCERIES:case I.Kd.GROCERIESV2:case I.Kd.TRAVEL:_=I.gd.LIST,m={serializedListId:u};break;default:_=I.gd.SEARCH}return ii.a.createElement("a",{href:this.context.getUrlFromRoute({name:_,params:m}),onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),className:s?l.activeContainer:l.container,"data-test-smartview-type":t,"data-test-id":"smartview-list-item",onClick:this.handleNavClick,onContextMenu:this.handleContextMenu,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-is-active":s,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},this.getIcon(l,d,o,gi.d.XS,this.getTitleText(),c,t),this.renderLabel(l),this.state.playAnimation?this.renderGuidedStarAnimation(l,n):null)}}ot()(Ch,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func,getThemeMode:ni.a.func,getUrlFromRoute:ni.a.func.isRequired}),ot()(Ch,"defaultProps",{onClick:()=>{},isActive:!1});var fh=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.isFeatureEnabled,a=t.getSetting;return{hasGuidedStarAnimation:s(I.zd.HAS_GUIDED_STAR_ANIMATION),starredMailEnhanced:s(I.ub.STARRED_MAIL_ENHANCED),guidedStarAnimation:a(I.zd.GUIDED_STAR_ANIMATION)}})(Ch);var Th=Object(oi.connect)(function(e){const t=Object($i.b)(e);return{activeAccount:(0,t.getAccountById)((0,t.getSelectedAccountId)())}})(class extends ii.a.Component{render(){return ii.a.createElement(fh,this.props)}});const Ah={},bh=Object(mi.defineMessages)({create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class Oh extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{creatingSubfolder:!1,renamingFolder:!1,isMenuVisible:!1,isHovered:!1}),ot()(this,"handleToggle",e=>{const t=this.props.folder.id;e.stopPropagation(),e.preventDefault(),e.key?"ArrowRight"!==e.key||this.props.expanded?"ArrowLeft"===e.key&&this.props.expanded&&this.props.toggleExpansion(t,!1):this.props.toggleExpansion(t,!0):this.props.toggleExpansion(t,!this.props.expanded)}),ot()(this,"handleCreateSubfolderStart",()=>{this.setState({creatingSubfolder:!0})}),ot()(this,"handleRenameFolderStart",()=>{this.setState({renamingFolder:!0})}),ot()(this,"handleRenameFolderSubmit",({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a})=>{e!==t&&this.props.onRename({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a}),this.setState({renamingFolder:!1})}),ot()(this,"handleRenameFolderCancel",()=>{this.setState({renamingFolder:!1})}),ot()(this,"handleCreateSubfolderDone",({folderName:e,i13nModel:t})=>{this.setState({creatingSubfolder:!1}),t=Object.assign({actionData:{depth:this.props.depth+1}},t),this.props.onSubfolderCreate({folderId:this.props.folder.id,subfolderName:e,i13nModel:t})}),ot()(this,"handleCreateSubfolderDismiss",()=>{this.setState({creatingSubfolder:!1})}),ot()(this,"handleMenuVisibility",e=>{this.setState({isMenuVisible:e})}),ot()(this,"handleHover",e=>{this.setState({isHovered:e})}),ot()(this,"handleFolderOpen",(e,t,s)=>{const a=this.props.folder;Ah[a.id]&&(Ah[a.id]=!1),this.props.onOpen(e,t,s)}),ot()(this,"getChevronState",()=>{let e=I.L.NONE;return this.props.hasChildren&&!this.props.folder.isSystem&&(e=this.props.expanded?I.L.DOWN:I.L.LEFT),e})}static getDerivedStateFromProps(e,t){return e.isScrolling&&t.isMenuVisible?{isMenuVisible:!1}:null}static shouldHighlightUnreadCount(e,t){return t.highlightFolderId!==e.folder.id&&t.unread>0&&e.highestModSeq!==t.highestModSeq&&e.uidNext!==t.uidNext}componentDidUpdate(e){Oh.shouldHighlightUnreadCount(this.props,e)&&(Ah[this.props.folder.id]=!0)}render(){const e=this.context.intl.formatMessage,t=this.props,s=t.folder,a=t.unread,n=t.total,r=t.hasChildren,o=t.parentFolderId;return ii.a.createElement("li",{style:s.isRTL?{padding:`0 ${8*this.props.depth}px 0 0`}:{padding:`0 0 0 ${8*this.props.depth}px`}},"smartview"===s.kind?ii.a.createElement(Th,{onClick:this.props.onSmartViewOpen,type:s.type,total:n,isActive:this.props.highlightFolderId===s.id,handleHover:this.handleHover}):ii.a.createElement(ph,{folder:i()({},s,{unread:a,total:n,hasChildren:r,parentFolderId:o}),sortOrder:this.props.sortOrder,depth:this.props.depth,onClick:this.handleFolderOpen,onRenameStart:this.handleRenameFolderStart,onRenameSubmit:this.handleRenameFolderSubmit,onRenameCancel:this.handleRenameFolderCancel,renamingFolder:this.state.renamingFolder,isActive:this.props.highlightFolderId===s.id,isRefreshing:this.props.highlightFolderId===s.id&&this.props.folderRefreshing,chevron:this.getChevronState(),onToggleExpansion:this.handleToggle,handleMenuVisibility:this.handleMenuVisibility,handleHover:this.handleHover,showFolderMenu:this.state.isHovered||this.state.isMenuVisible,onDelete:this.props.onDelete,onSubfolderCreate:this.handleCreateSubfolderStart,onMarkRead:this.props.onMarkRead,onFolderMenuShow:this.props.onFolderMenuShow,onArchive:this.props.onArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onClear,isHovered:this.state.isHovered,highlightUnreadCount:Ah[s.id]||!1,activeAccountId:this.props.activeAccountId,hasChildren:r}),this.state.creatingSubfolder?ii.a.createElement(Qp.a,{onInputSubmit:this.handleCreateSubfolderDone,onDismiss:this.handleCreateSubfolderDismiss,ariaLabel:e(bh.create_folder_input_aria_label),indentation:ch.b,activeAccountId:this.props.activeAccountId,parentFolderId:s.id}):null)}}ot()(Oh,"contextTypes",{intl:mi.intlShape.isRequired}),ot()(Oh,"defaultProps",{isScrolling:!1});var Rh=Object(oi.connect)((e,{folder:t})=>{const s=t.id,a=Object($i.b)(e),n=a.getFolderHighestModSeq,r=(0,a.getFoldersSelectors)(),i=r.getFolderUidNext,o=r.getFolderUnreadCount,c=r.getFolderTotal,d=r.hasChildren,l=r.getParentFolderId;return"folder"===t.kind?{highestModSeq:n(s),uidNext:i(s),unread:o(s),total:c(s),hasChildren:d(s),parentFolderId:l(s)}:{unread:0,total:0}})(Oh);const Nh=5,Mh=Object(mi.defineMessages)({click_to_show_more_title:{id:"folder_list.click_to_show_more_title",defaultMessage:"Click here to Show Folders"},click_to_show_less_title:{id:"folder_list.click_to_show_less_title",defaultMessage:"Click here to Hide Folders"},less_label:{id:"folder_list.less_label",defaultMessage:"Less"},more_label:{id:"folder_list.more_label",defaultMessage:"More"}});class Dh extends ii.a.Component{constructor(e){super(e),ot()(this,"toggleExpansion",(e,t)=>{const s=this.state.expandedFolders;let a;a=t?Object(Hp.a)(s,e):Object(Hp.e)(s,s.indexOf(e),1),this.setState({expandedFolders:a}),this.props.onFolderExpandToggle(e,t)}),ot()(this,"toggleShowAll",()=>{const e=!this.state.showAllSystemFolders;this.setState({showAllSystemFolders:e}),this.props.handleToggleSystemFolders(e)}),ot()(this,"getFolderTreeNodes",({onOpen:e,onRename:t,onDelete:s,onMarkRead:a,onArchive:n,onFolderDrop:r,onClear:i,onSubfolderCreate:o,onFolderMenuShow:c,highlightFolderId:d,folderRefreshing:l,onSmartViewOpen:u})=>{return this.filterNonExpandedFoldersChildren(this.props.folderNodes,this.state.expandedFolders).map((_,m)=>ii.a.createElement(Rh,{activeAccountId:this.props.activeAccountId,key:_.id,folder:_,onOpen:e,onRename:t,onDelete:s,onMarkRead:a,onArchive:n,onFolderDrop:r,onClear:i,onSubfolderCreate:o,highlightFolderId:d,sortOrder:this.props.sortOrder,folderRefreshing:l,index:m,onSmartViewOpen:u,onFolderMenuShow:c,depth:_.level,toggleExpansion:this.toggleExpansion,expanded:-1!==this.state.expandedFolders.indexOf(_.id),showStarredCue:this.props.showStarredCue,ref:`${_.name.toLowerCase()}Button`,isScrolling:this.props.isScrolling}))}),ot()(this,"filterNonExpandedFoldersChildren",(e,t)=>{const s=[];let a=0;for(let n=0;n<e.length;n++){const r=e[n];if(r.level<a&&(a=r.level),r.level===a){s.push(r),-1!==t.indexOf(r.id)&&(a=r.level+1)}}return s}),ot()(this,"onSubfolderCreate",({folderId:e,subfolderName:t,i13nModel:s})=>{this.toggleExpansion(e,!0),this.props.onSubfolderCreate({folderId:e,subfolderName:t,i13nModel:s})}),ot()(this,"updateContent",()=>{this.popoverContent&&this.popoverContent.updatePosition()}),ot()(this,"renderStarredCue",()=>this.props.showStarredCue&&this.refs.starredButton?ii.a.createElement(Ni.a,{popoverAnchor:this.refs.starredButton,triggerOn:yi.i.MOUNT,permittedArrowDirections:[yi.h.START],isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},zAltitude:Ri.ZIndices.POPOVER.HIGH},ii.a.createElement(qi.a,{import:"../../starred_cue",cueName:I.ub.STARRED_CUE,onShow:this.updateContent,close:this.refs.starredButton.props.folder.id===this.props.highlightFolderId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1183))},_moduleResolver:function(){return 1183}})):null),ot()(this,"getTitleText",()=>{const e=this.context.intl.formatMessage;return e(this.state.showAllSystemFolders?Mh.click_to_show_less_title:Mh.click_to_show_more_title)});const t=Object(Hp.a)(e.expandedFolders);this.state={expandedFolders:t,showAllSystemFolders:!!e.showAllSystemFolders}}render(){const e=this.props,t=e.indentation,s=e.folderNodes,a=e.onOpen,n=e.onRename,r=e.onDelete,o=e.onMarkRead,c=e.onArchive,d=e.onFolderDrop,l=e.onClear,u=e.highlightFolderId,_=e.folderRefreshing,m=e.onFolderMenuShow,p=e.onSmartViewOpen,h=e.collapsible,g=this.context.intl.formatMessage,E=this.context.getCss(Zp.a,i()({indentation:t},Object(fi.k)(this.context,!0))),I=this.getFolderTreeNodes({onOpen:a,onRename:n,onDelete:r,onMarkRead:o,onArchive:c,onFolderDrop:d,onClear:l,onSubfolderCreate:this.onSubfolderCreate,highlightFolderId:u,folderRefreshing:_,onFolderMenuShow:m,onSmartViewOpen:p}),S=this.state.showAllSystemFolders;let C;return s.length?(C=h?S?I:I.slice(0,Nh):I,ii.a.createElement("ul",{className:E.folderTree},C,this.renderStarredCue(),h&&I.length>Nh?ii.a.createElement("li",{onClick:this.toggleShowAll,className:E.collapseFolders,"data-test-id":S?"folder-list-collapse":"folder-list-expand",title:this.getTitleText(),"aria-label":this.getTitleText(),"data-iskeynav":!0,tabIndex:-1},S?ii.a.createElement("span",{className:E.toggle},ii.a.createElement(hi.b,{kind:gi.b.CHEVRON_UP,size:gi.d.XS,colorState:gi.a.INHERITED}),g(Mh.less_label)):ii.a.createElement("span",{className:E.toggle},ii.a.createElement(hi.b,{kind:gi.b.CHEVRON_UP,size:gi.d.XS,rotate:gi.c.D180,colorState:gi.a.INHERITED}),g(Mh.more_label))):null)):null}}ot()(Dh,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func,getThemeMode:ni.a.func,getTheme:ni.a.func});var yh=Object(oi.connect)(e=>{return{isRTL:"rtl"===(0,Object($i.b)(e).getEnvironmentSelectors)().getPageDirection()}})(Dh),Lh=s(723),vh=s.n(Lh);const Ph=Object(mi.defineMessages)({views_label:{id:"views_label",defaultMessage:"Views"},click_to_hide_views_title:{id:"click_to_hide_views_title",defaultMessage:"Click here to Hide the Views"},click_to_show_views_title:{id:"click_to_show_views_title",defaultMessage:"Click here to Show the Views"}});class Fh extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{expanded:this.props.showSmartViews,isHovered:!1}),ot()(this,"expand",()=>{this.state.expanded||this.toggleExpand()}),ot()(this,"collapse",()=>{this.state.expanded&&this.toggleExpand()}),ot()(this,"toggleExpand",()=>{this.props.onToggleSmartViews(!this.state.expanded),this.setState({expanded:!this.state.expanded})}),ot()(this,"handleClick",e=>{e.stopPropagation(),e.preventDefault(),this.toggleExpand()}),ot()(this,"handleKeyDown",e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),e.preventDefault(),this.toggleExpand();break;case"Arrowleft":e.stopPropagation(),e.preventDefault(),this.collapse();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),this.expand();break;default:return}}),ot()(this,"handleHover",e=>{this.setState({isHoverd:e})}),ot()(this,"getTitleText",()=>{const e=this.context.intl.formatMessage;return e(this.state.expanded?Ph.click_to_hide_views_title:Ph.click_to_show_views_title)}),ot()(this,"renderLabel",e=>{const t=(0,this.context.intl.formatMessage)(Ph.views_label),s=ii.a.createElement("span",null,t),a=this.state.expanded;return ii.a.createElement("div",{"data-test-id":"toggle-smartview-list",className:e.labelContainer,title:this.getTitleText(),onClick:this.handleClick,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1)},ii.a.createElement("span",{className:e.label},s),ii.a.createElement("span",{"data-test-id":"toggle-smartview-list-label",className:e.toggleSmartViews,title:this.getTitleText(),"aria-label":this.getTitleText()},ii.a.createElement(mi.FormattedMessage,a?{id:"hide_views_label",defaultMessage:"Hide"}:{id:"show_views_label",defaultMessage:"Show"})))}),ot()(this,"renderSmartviews",()=>{const e=this.props,t=e.onSmartViewOpen,s=e.highlightSmartView,a=e.isYM6GroceryEnabled;return e.smartViews.map(e=>{Object(o_.c)(e.folder)===I.Kd.GROCERIES&&a&&(e=Object(At.e)(I.Kd.GROCERIESV2));const n=e.folder;return ii.a.createElement("li",{key:n.id},ii.a.createElement(Th,{onClick:t,type:Object(o_.c)(n),isActive:s===n.id,handleHover:this.handleHover,total:n.total,ref:`${n.name.toLowerCase()}Button`}),n.name===I.Kd.PHOTOS?this.renderPhotosCue():null,n.name===I.Kd.COUPONS?this.renderCouponsViewCue():null,n.name===I.Kd.RECEIPTS?this.renderShopRunnersViewCue():null,n.name===I.Kd.GROCERIES||n.name===I.Kd.GROCERIESV2?this.renderGroceriesViewCue():null)})}),ot()(this,"updateContent",e=>{e&&e.updatePosition()}),ot()(this,"renderPhotosCue",()=>this.props.showPhotosCue&&this.refs.photosButton?ii.a.createElement(Ni.a,{popoverAnchor:this.refs.photosButton,isRTL:this.props.isRTL,triggerOn:yi.i.MOUNT,permittedArrowDirections:[yi.h.START],ref:e=>{this.popoverContent=e},zAltitude:Ri.ZIndices.POPOVER.HIGH},ii.a.createElement(qi.a,{import:"../../photos_cue",cueName:I.ub.PHOTOS_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.photosButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1184))},_moduleResolver:function(){return 1184}})):null),ot()(this,"renderShopRunnersViewCue",()=>{const e=this.props;return this.refs.receiptsButton&&e.showShopRunnerViewCue?ii.a.createElement(Ni.a,{popoverAnchor:this.refs.receiptsButton,isRTL:e.isRTL,triggerOn:yi.i.MOUNT,permittedArrowDirections:[yi.h.START],ref:e=>{this.popoverContent=e},zAltitude:Ri.ZIndices.POPOVER.HIGH,bg:yi.d.DEFAULT},ii.a.createElement("div",{style:{display:"block",minHeight:e.showPersonalizedShopRunnerUpsell?`${49.5*Ri.GRID_UNIT}px`:`${39.5*Ri.GRID_UNIT}px`}},ii.a.createElement(qi.a,{import:"../../shoprunner/shoprunner_view_cue.jsx",cueName:I.ub.SHOPRUNNER_VIEW_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.receiptsButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1185))},_moduleResolver:function(){return 1185}}))):null}),ot()(this,"renderCouponsViewCue",()=>{const e=this.props,t=e.showCouponsViewCue;return(t||e.showDealsViewCue)&&this.refs.couponsButton?ii.a.createElement(Ni.a,{popoverAnchor:this.refs.couponsButton,isRTL:e.isRTL,triggerOn:yi.i.MOUNT,permittedArrowDirections:[yi.h.START],ref:e=>{this.couponPopoverContent=e},zAltitude:Ri.ZIndices.POPOVER.HIGH,bg:yi.d.GRADIENT,borderRadius:yi.e.MEDIUM},ii.a.createElement("div",{style:t?{display:"block",minHeight:`${54*Ri.GRID_UNIT}px`}:{display:"flex",alignItems:"center"}},ii.a.createElement(qi.a,t?{import:"../../coupons_view_cue",cueName:I.ub.COUPONS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1225))},_moduleResolver:function(){return 1225}}:{import:"../../deals/deals_view_cue",cueName:I.ub.DEALS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1186))},_moduleResolver:function(){return 1186}}))):null}),ot()(this,"renderGroceriesViewCue",()=>{const e=this.props,t=e.retailerId;return e.showGroceriesViewCue&&this.refs.groceriesButton&&""!==t?ii.a.createElement(Ni.a,{popoverAnchor:this.refs.groceriesButton,isRTL:e.isRTL,triggerOn:yi.i.MOUNT,permittedArrowDirections:[yi.h.START],ref:e=>{this.popoverContent=e},zAltitude:Ri.ZIndices.POPOVER.HIGH},ii.a.createElement("div",{style:{display:"block",minHeight:`${44*Ri.GRID_UNIT}px`}},ii.a.createElement(qi.a,{import:"../../grocery_view_cue",cueName:I.ub.QTNT_VIEW_LEFT_RAIL_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.groceriesButton.props.isActive,brandImage:e.brandImage,retailerId:t,retailerName:e.retailerName,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1187))},_moduleResolver:function(){return 1187}}))):null})}render(){const e=this.context.getCss(vh.a,i()({indentation:ch.a},Object(fi.k)(this.context,!0)));return ii.a.createElement("div",null,ii.a.createElement("div",{"data-iskeynav":!0,"data-test-id":"keyboard-toggle-smartview-list",onKeyDown:this.handleKeyDown,className:e.smartviewContainer},this.renderLabel(e)),this.state.expanded?ii.a.createElement("ul",{className:e.smartviewList},this.renderSmartviews()):null)}}ot()(Fh,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func,getThemeMode:ni.a.func,getTheme:ni.a.func});var wh=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getRetailersSelectors,a=t.isFeatureEnabled,n=(0,t.getEnvironmentSelectors)().getPageDirection,r=a(I.ub.SHOPRUNNER_PERSONALIZED_UPSELL),i=a(I.ub.PERSONALIZED_GROCERY_UPSELL),o=a(I.ub.ENABLE_YM6_GROCERY),c=s(),d=c.getTopNPersonalizedStores;let l="",u="",_="";if(i&&0===(0,c.getNumberOfLinkedRetailers)()){const e=d(1);if(e.length){const t=e[0];l=t.brandImage,u=t.id,_=t.displayName}}return{brandImage:l,isRTL:"rtl"===n(),retailerId:u,retailerName:_,showPersonalizedShopRunnerUpsell:r,isYM6GroceryEnabled:o}})(Fh),kh=s(724),xh=s.n(kh);const Uh=xi()(xh.a);class Gh extends ii.a.Component{constructor(...e){super(...e),ot()(this,"getSmartViews",()=>{const e=Object(At.p)(),t=this.props,s=t.showCouponsView,a=t.showGroceriesView,n=t.showReceiptsView;if(!this.props.tutorial){const t=e.findIndex(e=>e.folder.id===I.Kd.TUTORIAL);e.splice(t,1)}if(!s){const t=e.findIndex(e=>e.folder.id===I.Kd.COUPONS);e.splice(t,1)}if(!a){const t=e.findIndex(e=>e.folder.id===I.Kd.GROCERIES);e.splice(t,1)}if(!n){const t=e.findIndex(e=>e.folder.id===I.Kd.RECEIPTS);e.splice(t,1)}if(!this.props.travelView){const t=e.findIndex(e=>e.folder.id===I.Kd.TRAVEL);e.splice(t,1)}return e})}render(){const e=this.props,t=e.customFolderList,s=e.systemFolderListWithSmartView,a=e.isScrolling,n=this.getSmartViews();return ii.a.createElement("div",{className:"folder-list "+Uh.scrollOuter,"data-test-id":"folder-list"},ii.a.createElement(yh,{activeAccountId:this.props.activeAccountId,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:s.map(e=>i()({},e,{isSystem:!0})),onOpen:this.props.onFolderOpen,onSmartViewOpen:this.props.onSmartViewOpen,onRename:this.props.onFolderRename,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:ch.a,showStarredCue:this.props.showStarredCue,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,collapsible:this.props.collapsibleSystemFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.props.handleToggleSystemFolders,isScrolling:a}),ii.a.createElement("div",null,ii.a.createElement("div",{className:Uh.listSpacer}),ii.a.createElement(wh,{smartViews:n,showSmartViews:this.props.showSmartViews,onToggleSmartViews:this.props.onToggleSmartViews,onSmartViewOpen:this.props.onSmartViewOpen,highlightSmartView:this.props.highlightFolderId,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showPurchasesViewCue:this.props.showPurchasesViewCue,showShopRunnerViewCue:this.props.showShopRunnerViewCue,showGroceriesViewCue:this.props.showGroceriesViewCue,showDealsViewCue:this.props.showDealsViewCue})),ii.a.createElement("div",{className:Uh.listSpacer}),ii.a.createElement(Eh,{showCustomFolders:this.props.showCustomFolders,onToggleCustomFolders:this.props.onToggleCustomFolders},ii.a.createElement(zp.a,{onCreate:this.props.onFolderCreate,indentation:ch.a,isScrolling:this.props.isScrolling,activeAccountId:this.props.activeAccountId}),t.length>0?ii.a.createElement(yh,{activeAccountId:this.props.activeAccountId,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:t,onOpen:this.props.onFolderOpen,onRename:this.props.onFolderRename,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:ch.b,collapsible:!1}):null))}}ot()(Gh,"contextTypes",{executeAction:ni.a.func,config:ni.a.object});var jh=Gh,Hh=s(725),Bh=s.n(Hh);const Vh=(e,t,s,a,n=!0)=>{const r=t.top,i=t.bottom,o=t.height,c=o/8;let d=0;return e<=r+c?(s-=d=n?r/e*10:10)<0&&(s=0):e>=i-c&&(d=n?e/i*10:10,s+o!==a&&(s+=d)),Math.floor(s)},Wh=250,qh=Object(mi.defineMessages)({confirm_folder_delete_all_title:{id:"confirm.folder_delete_all_title",defaultMessage:"Delete all emails"},confirm_folder_archive_all_title:{id:"confirm.folder_archive_all_title",defaultMessage:"Archive all emails"},confirm_inbox_archive_all_personalized_title:{id:"confirm.confirm_inbox_archive_all_personalized_title",defaultMessage:"{sendingName}, let's clean your Inbox"},confirm_inbox_archive_all_title:{id:"confirm.inbox_archive_all_title",defaultMessage:"Let's clean your Inbox"},archive_emails_button_label:{id:"confirm.archive_emails_button_label",defaultMessage:"Archive emails"}}),zh=["n","m",";"];Object(Zi.b)({group:Yi.c,keys:{openCompose:{key:"N",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.open_compose",defaultMessage:"Start a {newConvo}",values:{newConvo:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.open_compose_strong",defaultMessage:"New Email Conversation"}))}})},openInbox:{key:"M",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.open_inbox",defaultMessage:"Go to {inbox}",values:{inbox:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.open_box_strong",defaultMessage:"Inbox"}))}})},openSettings:{key:";",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.open_settings",defaultMessage:"Go to {settings}",values:{settings:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"}))}})}}});class Kh extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{scrollingUnder:!1,confirmRequested:!1,isScrolling:!1,toggleAccountsList:!0,toggleMailboxesList:!0}),ot()(this,"handleShortcuts",e=>{const t=String.fromCharCode(e.which).toLowerCase();switch(e.preventDefault(),e.stopPropagation(),t){case"n":this.handleComposeLinkClick(e);break;case"m":this.navigateToInbox(e);break;case";":this.navigateToSettings(e)}}),ot()(this,"navigateToFolder",(e,t,{i13nModel:s={},refresh:a=!1}={})=>{const n=this.props.route,r=n.name===I.gd.FOLDER,i=Object(eo.w)(n),o=Object(eo.o)(i);if(r&&o===t)return void this.context.executeAction(Ki.h,{forceSync:!0,userInitiated:!0,i13nModel:{mKey:Gi.e.NAVIGATE_TO_FOLDER,sec:Gi.g.LEFTRAIL_FOLDER}});const c=Object($i.b)(this.context.store.getState()).getSortOrderForFolderRoute;this.context.navigateTo({route:Object(Qi.l)(t,c()),i13nModel:s,refresh:a})}),ot()(this,"navigateToSettings",e=>{const t=this.props.activeSettingsGroupId,s={mKey:Gi.e.NAVIGATE_TO_SETTINGS,sec:Gi.g.HEADER_NAV,interaction_type:Object(vs.j)(e)};this.context.navigateTo({route:Object(Qi.v)({settingsGroupId:t||I.Cd.PERSONALIZE_INBOX}),i13nModel:s})}),ot()(this,"navigateToNewCompose",({i13nModel:e,files:t,name:s,stationeryTheme:a}={})=>{let n=this.props.route.params.csid;const r=Object($i.b)(this.context.store.getState());if(n&&(0,r.isFreshCompose)(n))return;n=Object(vs.g)();const i={route:Object(Qi.g)(n)};e&&(i.i13nModel=e),t&&(i.files=t),s&&(i.name=s),a&&(i.stationeryTheme=a),this.context.navigateTo(i)}),ot()(this,"handleComposeLinkClick",e=>{e.preventDefault();const t={mKey:Gi.e.COMPOSE_BUTTON,sec:Gi.g.LEFTRAIL_COMPOSE,mKeyGroup:Gi.f.compose,interaction_type:Object(vs.j)(e)};this.navigateToNewCompose({i13nModel:t})}),ot()(this,"handleComposeDrop",e=>{e.preventDefault();const t=e.dataTransfer;Array.prototype.slice.call(t&&t.types||[]).some(e=>"Files"===e)&&this.navigateToNewCompose({files:Array.prototype.slice.call(t.files)})}),ot()(this,"handleDragOver",e=>{e.preventDefault()}),ot()(this,"handleDragScroll",e=>{if(e.preventDefault(),e&&e.clientY){const t=this.folderList,s=t.scrollTop,a=t.scrollHeight,n=Vh(e.clientY,t.getBoundingClientRect(),s,a);s!==n&&(t.scrollTop=n)}}),ot()(this,"handleDragEnter",e=>{e.preventDefault()}),ot()(this,"handleMailboxClick",(e,t,s)=>{const a=this.props,n=a.appRootPath,r=a.route,i=a.onSwitchMailbox;e.preventDefault(),new Wp({window:window}).setBizMboxId(t),i({i13nModel:s}),window.location.href=Object(Qi.B)(`https://${window.location.host}${n}`,r.query)}),ot()(this,"handleFolderClick",(e,t,s)=>{e.preventDefault(),-1===[I.Yd.STARRED,I.Yd.DRAFT,I.Yd.SENT,I.Yd.SPAM,I.Yd.TRASH].indexOf(t)&&t===this.props.activeFolderId&&"folder"===this.props.route.name?this.navigateToFolder(e,t,{i13nModel:s,refresh:!0}):this.navigateToFolder(e,t,{i13nModel:s,refresh:!1})}),ot()(this,"handleSmartViewClick",(e,t)=>{const s=this.props,a=s.activeAccount,n=s.defaultRetailerId;let r;const i=t;e.preventDefault();const o={UNREAD:Gi.e.UNREAD_SMARTVIEW,STARRED:Gi.e.STARRED_SMARTVIEW,PHOTOS:Gi.e.PHOTO_SMARTVIEW,DOCUMENTS:Gi.e.DOCUMENT_SMARTVIEW,TUTORIAL:Gi.e.TUTORIAL_SMARTVIEW,COUPONS:Gi.e.COUPONS_SMARTVIEW,GROCERIES:Gi.e.QTNTVIEW_LEFTRAIL,GROCERIESV2:Gi.e.QTNTVIEW_LEFTRAIL,RECEIPTS:Gi.e.RECEIPTS_SMARTVIEW,TRAVEL:Gi.e.TRAVEL_SMARTVIEW}[i];o&&(r={mKey:o,sec:Gi.g.LEFTRAIL_SMARTVIEW,interactionType:Object(vs.j)(e)},i!==I.Kd.TUTORIAL&&(r.mKeyGroup=Gi.f.search),i!==I.Kd.GROCERIES&&i!==I.Kd.GROCERIESV2||(r.actionData={reason:{featurefamily:I.sb.IC,featurename:I.ub.QUOTIENT,viewtype:"grocerystorelist",origin:"leftrail"}}));const c={accountIds:a.id};i===I.Kd.GROCERIESV2&&(c.name=n),this.context.navigateTo({route:Object(Qi.w)(i,c),i13nModel:r})}),ot()(this,"handleFolderDelete",({folder:e,i13nModel:t,hasSubFolder:s})=>{s||e.total>0?this.context.executeAction(Ep.d,{folderId:e.id,i13nModel:t}):this.deleteFolder({folderId:e.id,folderName:e.name,i13nModel:t})}),ot()(this,"deleteFolder",({folderId:e,folderName:t,i13nModel:s})=>{s=Object.assign({mKey:Gi.e.FOLDER_CONTEXTMENU_DELETE,sec:Gi.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:Gi.f.delete_fldr},s),e===this.props.activeFolderId&&this.navigateToFolder({},this.props.defaultFolderId),this.props.onDeleteFolder({folderId:e,folderName:t,i13nModel:s})}),ot()(this,"handleFolderMenuShow",()=>{this.context.executeAction(Ep.g,{i13nModel:{mKey:Gi.e.FOLDER_CONTEXTMENU,sec:Gi.g.LEFTRAIL_CONTEXTMENU}})}),ot()(this,"handleFolderCreate",({folderName:e,i13nModel:t})=>{const s=this.props.activeAccount;t=Object.assign({mKey:Gi.e.ADD_FOLDER,sec:Gi.g.LEFTRAIL_USERFOLDER,mKeyGroup:Gi.f.create_fldr},t),this.context.executeAction(Ep.b,{folderName:Object(At.k)(e,s),accountId:s.id,i13nModel:t})}),ot()(this,"handleSubfolderCreate",({folderId:e,subfolderName:t,i13nModel:s})=>{const a=this.props.activeAccount,n=(0,Object($i.b)(this.context.store.getState()).getFolderFullName)(e);s=Object.assign({mKey:Gi.e.ADD_FOLDER,sec:Gi.g.LEFTRAIL_USERFOLDER,mKeyGroup:Gi.f.create_fldr},s),this.context.executeAction(Ep.b,{folderName:Object(At.k)(t,a,n),accountId:a.id,i13nModel:s})}),ot()(this,"handleFolderRename",({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a})=>{const n=this.props.activeAccount,r=(0,Object($i.b)(this.context.store.getState()).getFolderFullName)(s),i=r.substr(0,r.lastIndexOf(e)-1)||"";a=Object.assign({mKey:Gi.e.FOLDER_CONTEXTMENU_RENAME,sec:Gi.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:Gi.f.rename_fldr},a),this.props.onRenameFolder({folderName:Object(At.k)(t,n,i),folderId:s,i13nModel:a})}),ot()(this,"handleFolderMarkRead",({folder:e,i13nModel:t})=>{const s=this.props.streamId;t=Object.assign({mKey:Gi.e.FOLDER_CONTEXTMENU_ALL_READ,sec:Gi.g.LEFTRAIL_CONTEXTMENU,mKeyGroup:Gi.f.mark_read},t),this.context.executeAction(Ep.f,{streamId:s,listId:this.props.listId,folderId:e.id,unreadCount:e.unread,i13nModel:t})}),ot()(this,"handleFolderArchive",e=>{const t=this.props.streamId,s=this.state.selectedFolder,a={mKey:Gi.e.FOLDER_CONTEXTMENU_ALL_ARCHIVE,sec:Gi.g.LEFTRAIL_CONTEXTMENU,interactionType:Object(vs.j)(e),mKeyGroup:Gi.f.archive,actionData:{numMsg:s.total}};this.context.executeAction(Ep.a,{streamId:t,folderId:s.id,total:s.total,i13nModel:a}),this.hideConfirm()}),ot()(this,"handleFolderDrop",(e,t)=>{const s=this.props.streamId,a=Object($i.b)(this.context.store.getState()),n=a.getSelectedStreamItems,r=((0,a.doesStreamExist)(s)?n(s):[]).map(({id:e})=>e);r&&r.length>0&&this.context.executeAction(e,i()({streamId:s},t,{messageGroupIds:r},1===r.length?{streamItem:{id:r[0],listId:t.listId}}:{}))}),ot()(this,"handleExpandFolderToggle",(e,t)=>{const s=this.props.expandedFolders;if(!(0===(0,(0,Object($i.b)(this.context.store.getState()).getFoldersSelectors)().getFolderLevelByFolderId)(e)))return;const a=s.indexOf(e),n=-1!==a;let r;if(t&&!n)r=Object(Hp.a)(s,e);else{if(t||!n)return;r=Object(Hp.e)(s,a,1)}this.props.changeSettings({name:I.zd.EXPANDED_FOLDERS,value:r})}),ot()(this,"handleToggleSmartViews",e=>{this.props.changeSettings({name:I.zd.SHOW_SMART_VIEWS,value:e})}),ot()(this,"handleToggleCustomFolders",e=>{this.props.changeSettings({name:I.zd.SHOW_CUSTOM_FOLDERS,value:e})}),ot()(this,"handleToggleMailboxesLinkClick",e=>{e.preventDefault();const t={mKey:this.state.toggleMailboxesList?Gi.e.COLLAPSE_MAILBOX_SWITCHER:Gi.e.EXPAND_MAILBOX_SWITCHER,sec:Gi.g.LEFTRAIL_MAILBOXES,interactionType:Object(vs.j)(e)};this.props.onToggleMailboxesList({i13nModel:t}),this.setState({toggleMailboxesList:!this.state.toggleMailboxesList})}),ot()(this,"handleToggleAccountsLinkClick",e=>{e.preventDefault();const t={mKey:this.state.toggleAccountsList?Gi.e.COLLAPSE_ACCOUNT_SWITCHER:Gi.e.EXPAND_ACCOUNT_SWITCHER,sec:Gi.g.LEFTRAIL_ACCOUNTS,interactionType:Object(vs.j)(e)};this.context.executeAction(Ep.h,{i13nModel:t}),this.setState({toggleAccountsList:!this.state.toggleAccountsList})}),ot()(this,"showConfirmDialog",(e,t)=>{this.setState({confirmRequested:!0,confirmType:e,selectedFolder:t})}),ot()(this,"hideConfirm",()=>{this.setState({confirmRequested:!1,confirmType:null,selectedFolder:null})}),ot()(this,"handleFolderClear",e=>{const t=this.props.streamId,s=this.state.selectedFolder,a={mKey:-1!==[I.Cb.BULK,I.Cb.TRASH].indexOf(s.type)?Gi.e.FOLDER_CONTEXTMENU_EMPTY:Gi.e.FOLDER_CONTEXTMENU_ALL_DELETE,sec:Gi.g.LEFTRAIL_CONTEXTMENU,interactionType:Object(vs.j)(e),mKeyGroup:Gi.f.delete,actionData:{numMsg:s.total}};this.context.executeAction(Ep.c,{streamId:t,folderId:s.id,total:s.total,i13nModel:a}),this.hideConfirm()}),ot()(this,"navigateToInbox",e=>{this.handleFolderClick(e,this.props.defaultFolderId,{mKey:Gi.e.INBOX_FOLDER,sec:Gi.g.LEFTRAIL_SYSFOLDER,interactionType:Object(vs.j)(e)}),this.folderList&&(this.folderList.scrollTop=0)}),ot()(this,"detectScrollStop",()=>{this.setState({isScrolling:!1})}),ot()(this,"handleScroll",()=>{const e=this.folderList.scrollTop;this.state.isScrolling||this.setState({isScrolling:!0}),this.detectScrollStop(),this.state.scrollingUnder&&e<1?this.setState({scrollingUnder:!1}):!this.state.scrollingUnder&&e>0&&this.setState({scrollingUnder:!0})}),ot()(this,"handleToggleSystemFolders",e=>{this.props.changeSettings({name:I.zd.SHOW_ALL_SYSTEM_FOLDERS,value:e,i13nModel:{mKey:!0===e?Gi.e.SETTINGS_EXPAND_SYSTEM_FOLDERS:Gi.e.SETTINGS_COLLAPSE_SYSTEM_FOLDERS,sec:Gi.g.LEFTRAIL_SYSFOLDER,interactionType:Gi.d.click}})}),ot()(this,"renderConfirmDialog",()=>{const e=this.context.intl.formatMessage,t=this.state,s=t.selectedFolder,a=t.confirmType,n=this.props.conversations,r=ii.a.createElement("strong",null,ii.a.createElement(Fp.a,{folderDisplayType:s.type,name:`"${s.name}"`})),i=this.props.isPermDeleteFolderType(s.id);switch(a){case I.Q.CLEAR_FOLDER:return ii.a.createElement(Pp.a,{title:e(qh.confirm_folder_delete_all_title),onConfirm:this.handleFolderClear,onAbort:this.hideConfirm},ii.a.createElement(mi.FormattedMessage,i?{id:"confirm.folder_delete_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                      } from {folderName}?",values:{emailsNum:s.total,folderName:r,conversations:n}}:{id:"confirm.folder_delete_move_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to the Trash?",values:{emailsNum:s.total,folderName:r,conversations:n}}));case I.Q.ARCHIVE_FOLDER:{const t=s.type===I.Cb.INBOX,a=qh.confirm_inbox_archive_all_title,i=qh.confirm_inbox_archive_all_personalized_title,o=qh.confirm_folder_archive_all_title,c=qh.archive_emails_button_label,d=this.props.activeAccount.sendingName;let l;return ii.a.createElement(Pp.a,{title:e(l=t?d?i:a:o,{sendingName:d}),onConfirm:this.handleFolderArchive,onAbort:this.hideConfirm,hideIcon:!0,acceptLabel:c},ii.a.createElement(mi.FormattedMessage,t?{id:"confirm.inbox_archive_all_message",defaultMessage:"You can start with a clean inbox by archiving {emailsNum, plural, one {the} other {all}}\n                                        {conversations, select,\n                                            true {{emailsNum, plural,\n                                                one {conversation}\n                                                other {# conversations}\n                                            }}\n                                            false {{emailsNum, plural,\n                                                one {message}\n                                                other {# messages}\n                                            }}\n                                        } (instead of deleting).\n                                        Don't worry, to find {emailsNum, plural, one {it} other {them}} later, simply go to the Archive folder.",values:{emailsNum:s.total,folderName:r,conversations:n}}:{id:"confirm.folder_archive_all_message",defaultMessage:"Are you sure you want to archive {emailsNum, plural, one {the} other {all}}\n                                    {conversations, select,\n                                      true {{emailsNum, plural,\n                                          one {conversation}\n                                          other {# conversations}\n                                      }}\n                                      false {{emailsNum, plural,\n                                          one {message}\n                                          other {# messages}\n                                      }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to your Archive folder?",values:{emailsNum:s.total,folderName:r,conversations:n}}))}default:return null}})}componentDidMount(){this.detectScrollStop=gp()(this.detectScrollStop,Wh),this.context.bindShortcut(zh,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(zh)}render(){const e=this.props,t=e.appRootPath,a=e.autoOpenReauth,n=e.actionModule,r=e.feedbackURL,i=e.tutorial,o=e.activeAccount,c=e.enabledAccountsCount,d=e.isPrimaryAccountDisabled,l=e.selectedMailboxId,u=e.showMailboxSwitcher,_=e.rootMailBoxes,m=this.context.getCss(Bh.a,{scrollingUnder:this.state.scrollingUnder,isRTL:e.isRTL}),p=_.filter(e=>e.state===I.jc.ENABLED);return ii.a.createElement(Wd.a,{"data-test-id":"navigation",className:m.container+" navigation",circularNavigation:!1,groupTabIndex:Ri.TabIndices.FOLDER_LIST},ii.a.createElement("div",{ref:e=>{this.composeBtn=e}},ii.a.createElement(vp,{appRootPath:t,onClick:this.handleComposeLinkClick,handleDrop:this.handleComposeDrop,handleDragOver:this.handleDragOver,handleDragEnter:this.handleDragEnter})),ii.a.createElement("div",{className:m.shadow}),ii.a.createElement("div",{className:m.folderList,onScroll:this.handleScroll,"data-test-id":"left-rail-scrolling-container",ref:e=>this.folderList=e,onDragOver:this.handleDragScroll,onDrop:e=>e.preventDefault()},u&&p.length>1?ii.a.createElement(kp,{selectedMailboxId:l,rootMailBoxes:this.props.rootMailBoxes,toggleMailboxesList:this.state.toggleMailboxesList,onClick:this.handleMailboxClick,showSmallBizCue:this.props.showSmallBizCue,isRTL:this.props.isRTL}):null,u&&p.length>1?ii.a.createElement(jp,{onClick:this.handleToggleMailboxesLinkClick}):null,c>1||d?ii.a.createElement(Np,{activeAccountId:this.props.activeAccount.id,rootAccounts:this.props.rootAccounts,toggleAccountsList:this.state.toggleAccountsList,expiredAccounts:this.props.expiredAccounts,onClick:this.handleFolderClick,autoOpenReauth:a,showOffice365Cue:this.props.showOffice365Cue,isRTL:this.props.isRTL}):null,c>1||d?ii.a.createElement(jp,{onClick:this.handleToggleAccountsLinkClick}):null,ii.a.createElement(jh,{tutorial:i,travelView:this.props.travelView,activeAccountId:this.props.activeAccount.id,customFolderList:this.props.customFolderList,systemFolderListWithSmartView:this.props.systemFolderListWithSmartView,sortOrder:this.props.folderListSortOrder,mailboxId:this.props.mailboxId,highlightFolderId:this.props.activeFolderId,folderRefreshing:this.props.folderRefreshing,onFolderOpen:this.handleFolderClick,onFolderDelete:this.handleFolderDelete,onFolderCreate:this.handleFolderCreate,onFolderMarkRead:this.handleFolderMarkRead,onFolderArchive:this.showConfirmDialog.bind(this,I.Q.ARCHIVE_FOLDER),onFolderDrop:this.handleFolderDrop,onFolderClear:this.showConfirmDialog.bind(this,I.Q.CLEAR_FOLDER),onSubfolderCreate:this.handleSubfolderCreate,onFolderMenuShow:this.handleFolderMenuShow,onFolderRename:this.handleFolderRename,onSmartViewOpen:this.handleSmartViewClick,onToggleSmartViews:this.handleToggleSmartViews,showSmartViews:this.props.showSmartViews,onFolderExpandToggle:this.handleExpandFolderToggle,onToggleCustomFolders:this.handleToggleCustomFolders,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showGroceriesView:this.props.showGroceriesView,showShopRunnerViewCue:this.props.showShopRunnerViewCue,showGroceriesViewCue:this.props.showGroceriesViewCue,expandedFolders:this.props.expandedFolders,showCustomFolders:this.props.showCustomFolders,isScrolling:this.state.isScrolling,collapsibleSystemFolders:this.props.collapsibleSystemFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.handleToggleSystemFolders,showCouponsView:this.props.showCouponsView,showReceiptsView:this.props.showReceiptsView,showDealsViewCue:this.props.showDealsViewCue}),this.state.confirmRequested?this.renderConfirmDialog():null,ii.a.createElement("div",null,ii.a.createElement(qi.a,n?{defer:!0,import:"../../molecules/panel_stack/index.jsx",feedbackURL:r,accountId:o.id,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1224))},_moduleResolver:function(){return 1224}}:{defer:!0,import:"../../molecules/feedback_panel/index.jsx",feedbackURL:r,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1223))},_moduleResolver:function(){return 1223}}))))}}ot()(Kh,"contextTypes",{executeAction:ni.a.func,navigateTo:ni.a.func.isRequired,getCss:ni.a.func,intl:mi.intlShape.isRequired,config:ni.a.object,bindShortcut:ni.a.func,unbindShortcut:ni.a.func,store:ni.a.object.isRequired});var Zh=Object(oi.connect)((e,{listId:t})=>{const s=Object($i.b)(e),a=s.getRoute,n=s.getSelectedAccountIdByRoute,r=s.getAccountById,i=s.isListStale,o=s.isListRefreshing,c=s.getRootAccountsWithDefaultFolder,d=s.getExpiredAccounts,l=s.getDefaultFolderIdForSelectedAccount,u=s.isPermDeleteFolderType,_=s.getMainStreamListIds,m=s.getCustomFolderList,p=s.getSystemFolderListWithSmartView,h=s.getContentProviders,g=s.getSmartViewTypeFromListId,E=s.getSmartViewPosition,S=s.isFeatureEnabled,C=s.getSetting,f=s.getSettingsPageRoute,T=s.getEnvironmentSelectors,A=s.getCouponsSelectors,b=s.getAccountSelectors,O=s.getMailboxesSelectors,R=s.getRetailersSelectors,N=a(),M=c(),D=O(),y=r(n(N)),L=i(t)&&o(t),v=Object(eo.o)(t),P=C("appRootPath"),F=S(I.ub.CONVERSATIONS),w=(0,A().getCoupons)(),k=D.getAllMailboxes(),x=D.getSelectedMailboxId(),U=k.length>1,G=M.filter(e=>e.status===I.h.ENABLED&&(!U||e.defaultFolder&&e.defaultFolder.id)),j=h(),H=j.doesContentProviderExist,B=j.isContentProviderConnected,V=((0,R().getOrderedRetailers)()[0]||{}).id||"",W=!(H(I.W.SHOPRUNNER)&&B(I.W.SHOPRUNNER));let q,z;N.name===I.gd.FOLDER||N.name===I.gd.MESSAGE_FROM_FOLDER_LIST?q=v:N.name===I.gd.TUTORIAL?q=I.Kd.TUTORIAL:Object(eo.H)(t)&&(q=g(t));const K=f();K&&(z=K.params.settingsGroupId);const Z=Object(qp.a)(_(a()));return{route:N,rootAccounts:M,rootMailBoxes:k,selectedMailboxId:x,conversations:F,showMailboxSwitcher:S(I.ub.MAILBOX_SWITCHER),isPrimaryAccountDisabled:b().isPrimaryAccountDisabled(),enabledAccountsCount:G.length,activeAccount:y,expandedFolders:C(I.zd.EXPANDED_FOLDERS),showCustomFolders:S(I.zd.SHOW_CUSTOM_FOLDERS),showSmartViews:S(I.zd.SHOW_SMART_VIEWS),folderRefreshing:L,activeFolderId:q,activeSettingsGroupId:z,expiredAccounts:d(),collapsibleSystemFolders:S(I.ub.COLLAPSIBLE_SYSTEM_FOLDERS),showAllSystemFolders:S("showAllSystemFolders"),appRootPath:P,autoOpenReauth:S(I.ub.AUTO_OPEN_REAUTH),actionModule:S(I.ub.ACTION_MODULE),feedbackURL:C(I.zd.FEEDBACK_URL),tutorial:S(I.ub.TUTORIAL),travelView:S(I.ub.TRAVEL_VIEW),showCouponsView:S(I.ub.COUPONS_VIEW)&&E(I.Kd.COUPONS)===I.Jd.SIDE_BAR,showGroceriesView:S(I.ub.GROCERIES_VIEW),showReceiptsView:S(I.ub.RECEIPTS_VIEW),showPhotosCue:S(I.ub.PHOTOS_CUE),showStarredCue:S(I.ub.STARRED_CUE),showCouponsViewCue:S(I.ub.COUPONS_VIEW_CUE),showCategoryFollowingCue:S(I.ub.CATEGORY_FOLLOWING_CUE),showShopRunnerViewCue:W&&S(I.ub.SHOPRUNNER_VIEW_CUE),showGroceriesViewCue:S(I.ub.QTNT_VIEW_LEFT_RAIL_CUE),defaultFolderId:l(),streamId:Z,isPermDeleteFolderType:u,customFolderList:m(y.id),systemFolderListWithSmartView:p(y.id),isRTL:"rtl"===T().getPageDirection(),hasCoupons:!!Object.keys(w).length,showDealsViewCue:S(I.ub.DEALS_VIEW_CUE),showSmallBizCue:S(I.ub.SMALL_BIZ_CUE),showOffice365Cue:S(I.ub.OFFICE365_CUE),defaultRetailerId:V}},e=>({onRenameFolder:t=>e(Object(Sp.f)(t)),onDeleteFolder:t=>e(Object(Sp.c)(t)),changeSettings:t=>e(Object(Ip.b)(t)),onToggleMailboxesList:t=>e(Object(Sp.j)(t)),onSwitchMailbox:t=>e(Object(Sp.i)(t))}))(Kh),Yh=s(383),Xh=s(754),Qh=s.n(Xh);const $h=xi()(Qh.a);function Jh({children:e}){return ii.a.createElement("div",{className:$h.compose,"data-test-id":"compose-styler"},e)}var eg=()=>ii.a.createElement(Jh,null,ii.a.createElement(Yh.a,{initialShowSubject:!0})),tg=s(271),sg=s(82),ag=s(490),ng=s(613),rg=s(374),ig=s(63),og=s(51),cg=s(385),dg=s(387),lg=s(345),ug=s.n(lg),_g=s(67),mg=s(255),pg=s(91),hg=s(233),gg=s(108),Eg=s(365),Ig=s(366),Sg=s(367),Cg=s(190),fg=s(76);const Tg=e=>`MessageListUi-${e}`,Ag=xi()(ug.a),bg=["k","shift+k","l","shift+l","del","backspace","p"];let Og=!1,Rg=!1,Ng=!1;var Mg=Object(li.compose)(Object(oi.connect)((e,t)=>{const s=Object($i.b)(e),a=s.getAdsSelectors,n=s.getReconciledUnysncedDataByHash,r=s.doesListExist,i=s.doesListHasMoreItems,o=s.getAccountIdsByFolderId,c=s.getRoute,d=(0,s.getFeaturesSelectors)(),l=a(),u=l.getPencilAdData,_=(0,l.getAdFeedbackStatus)(),m=d.getSetting(I.zd.GEMINI_SECTION_IDS),p=d.isEnabled(I.ub.GEMINI_CONTEXTUAL_ADS),h=d.isEnabled(I.ub.INBOX_COUPONS_CUE),g=d.getSetting("bulkActionDialogThreshold"),E=d.getSetting("messageScrollLoadThreshold"),S=d.isEnabled(I.ub.CONVERSATIONS),C=d.getSetting(I.zd.MESSAGE_INITIAL_RENDER_COUNT),f=Object(eo.o)(t.listId),T=d.isEnabled(I.ub.PENCIL_AD),A=d.isEnabled(I.ub.SECOND_PENCIL_AD)&&u(m[I.Db.MESSAGE_LIST_2]).clickUrl,b=n(Tg(t.listId)),O=d.isEnabled("selectAll"),R=t.allItemsSelected,N=t.allItemsCount,M=Object.keys(t.itemSelection),D=O&&R&&(N>=d.getSetting("bulkActionDialogThreshold")||N>M.length),y=d.getSetting(I.zd.STAR_ANIMATION),L=r(t.listId)?i(t.listId):void 0,v=d.isEnabled(I.ub.TIMECHUNK_PENCIL_AD),P=c().name===I.gd.SEARCH,F=d.getSetting(I.zd.DELETE_DEBOUNCE_TIME),w=d.isEnabled(I.ub.MESSAGE_OP_PERF),k=d.isEnabled(I.ub.FAN_ADS)&&!P,x=d.isEnabled(I.ub.ENABLE_SEARCH_RELEVANCE_CUE)&&P&&!Object(eo.O)(t.listId)&&Object(eo.F)(t.listId)!==I.Od.RELEVANCE;return{hasMoreItems:L,doSelectAll:D,bulkActionDialogThreshold:g,messageScrollLoadThreshold:E,conversations:S,messageInitialRenderCount:C,geminiContextualAds:p,showInboxCouponsCue:h,adFeedbackStatus:_,accountIds:o(f),geminiSectionIds:m,pencilAd:T,secondPencilAd:A,preservedState:b,starAnimation:y,timechunkPencilAd:v,messageOpPerfEnabled:w,deleteDebounceTime:F,fanAds:k,canTriggerSearchRelevanceCue:x}}),Object(oi.connect)(void 0,(e,{actions:t})=>({actions:t,onPreviewMessage:t=>e(Object(pg.i)(t)),onPrint:t=>e(Object(pg.n)(t)),searchRelevanceCueTriggered:t=>e(Object(n_.e)(t)),onContextMenu:t=>e(Object(hg.a)(t)),onSearch:t=>e(Object(Ti.k)(t))})))((()=>{var e,t;let a=0,n=!1;return t=e=class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{showDeleteConfirm:!1,idsToDelete:[],updatedMessages:{},deleting:!1,cursorIndexOffset:0}),ot()(this,"getSavedScrollTop",()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0),ot()(this,"updateMessageListHeight",()=>{const e=document.querySelector("[data-test-id=virtual-list-container]");a=e?e.clientHeight:a}),ot()(this,"getUIState",()=>{const e=this.scrollContainer&&Object(ui.findDOMNode)(this.scrollContainer);return e?{type:I.re.COMPONENT_UI_STATE,hash:Tg(this.props.listId),id:this.props.streamId,uiState:{scrollTop:e.scrollTop}}:{}}),ot()(this,"getCursorPosition",()=>{const e=this.props,t=e.cursorIndex;return e.messageOpPerfEnabled?t+this.state.cursorIndexOffset:t}),ot()(this,"handleShortcuts",e=>{const t=String.fromCharCode(e.which).toLowerCase();e.stopPropagation(),e.preventDefault(),"k"===t?e.shiftKey?this.handleShortcutReadMessages():this.handleShortcutUnreadMessages():"l"===t?e.shiftKey?this.handleShortcutUnflagMessages():this.handleShortcutFlagMessages():"p"!==t||e.shiftKey?(this.context.os===I.Hc.MAC&&e.keyCode===Xi.b.BACKSPACE||e.keyCode===Xi.b.DELETE)&&this.handleShortcutDeleteMessages():this.handleShortcutPrintMessages()}),ot()(this,"getActionCreator",e=>{const t=this.props.actions;switch(e){case og.c:return t.deleteMessageGroups;case og.e:return t.moveMessageGroups;case og.i:return t.markMessageGroupsAsSpam;case og.f:return t.markMessageGroupsAsNotSpam;case og.h:return t.markMessageGroupsAsRead;case og.k:return t.markMessageGroupsAsUnread;case og.d:return t.markMessageGroupsAsFlagged;case og.j:return t.markMessageGroupsAsUnflagged;case og.b:return t.contextMenuShown;case og.m:return t.toggleSelection;case og.l:return t.toggleMultipleSelection;default:throw new TypeError("Unknown interaction type: "+e)}}),ot()(this,"handleMessageGroupInteraction",(e,{messageGroup:t,i13nModel:s})=>{const a={messageGroupIds:[t.id],listId:this.props.listId,streamId:this.props.streamId,streamItem:{listId:this.props.listId,id:t.id}};if(s&&(a.i13nModel=s),e===og.c)return this.handleDelete(a);if(e!==og.a)this.context.executeAction(this.getActionCreator(e),a);else{const e=a.messageGroupIds,s=M()(a,["messageGroupIds"]);this.props.onContextMenu(i()({messageGroupId:t.id,isV2Action:!0,messageGroupIds:e},s))}}),ot()(this,"handleMultipleMessageSelection",(e,{lastMessageGroup:t,multipleStreamItems:s,i13nModel:a})=>{const n={multipleStreamItems:s.map(e=>({listId:this.props.listId,id:e})),listId:this.props.listId,streamId:this.props.streamId,streamItem:{listId:this.props.listId,id:t.id}};a&&(n.i13nModel=a),this.context.executeAction(this.getActionCreator(e),n)}),ot()(this,"_onActionOnSelectedMessages",(e,t)=>{const s=this.context.executeAction,a=this.props,n=a.messageGroups,r=a.itemSelection,i=a.listId,o=a.streamId,c=a.onPrint,d=n[this.getCursorPosition()],l={};n.forEach(({id:e},t)=>l[e]=t);let u=Object.keys(r).map(e=>l[e]).map(e=>n[e]);!u.length&&d&&(u=[d]);const _=u.filter(t=>e(t));if(_.length>0){const e={listId:i,messageGroupIds:_.map(e=>e.id),streamId:o};if(t===og.c)return this.handleDelete(e);if(t===og.g){if(1!==_.length)return;c(e)}else s(this.getActionCreator(t),e)}else this.showCoachTooltip({selectedMessages:u,interaction:t})}),ot()(this,"showCoachTooltip",({selectedMessages:e=[],interaction:t=""})=>{if(!e.length)return;const s=this.props,a=s.messageGroups,n=s.itemSelection,r=this.getCursorPosition(),i=a[r]&&n[a[r].id]?a[r]:a.find(({id:t})=>t===e[0].id),o=(e,t,s=!1)=>{if(!e||!t)return{};const a=e.getBoundingClientRect(),n=a.left,r=a.top,i=a.right,o=t.getBoundingClientRect();return{left:s?"auto":o.right-n,top:o.top-r-2,right:s?i-o.left:"auto"}};let c,d;switch(t){case og.k:d=this.readIconContainer[i.id],c=ii.a.createElement(Ig.a,null);break;case og.d:d=this.starIconContainer[i.id],c=ii.a.createElement(Sg.a,null)}d&&Object(Eg.a)(c,{id:i.id,renderToTheSide:I.me.RIGHT,appendNode:this.messageItemContainer,referenceNode:{parent:this.messageItemContainer,child:d,positionCalculator:o},clearTooltipOn:{scroll:this.scrollContainer}},this.context)}),ot()(this,"updateDeletePayload",(e,{deletedMessageGroups:t,batchRemoveItems:s})=>{e.batchRemoveItems=s,e.messageGroupIds=t,e.streamItem=null,e.batchDelete=!0}),ot()(this,"getDeletedMessagesPayload",e=>{const t=[],s=[];return Object.keys(e).forEach(a=>{e[a]===og.c&&(t.push(a),s.push({listId:this.props.listId,id:a}))}),{deletedMessageGroups:t,batchRemoveItems:s}}),ot()(this,"handleDelete",e=>{const t=this.context.executeAction,s=e.messageGroupIds;if(e.permanent=this.props.permDelete,this.state.showDeleteConfirm||!(this.props.permDelete||s.length>=this.props.bulkActionDialogThreshold))if(this.props.messageOpPerfEnabled){const a=Object.assign({},this.state.updatedMessages),n=this.props,r=n.cursorIndex,i=n.messageGroups;let o=0;if(s.forEach(e=>{a[e]=og.c}),r>=0){for(;r+o<i.length&&a[i[r+o].id]===og.c;)o++;if(r+o===i.length)for(o=0;r+o>=0&&a[i[r+o].id]===og.c;)o--}this.setState({updatedMessages:a,deleting:!0,cursorIndexOffset:o},()=>{this.postponeDelete&&clearTimeout(this.postponeDelete);const s=this.getDeletedMessagesPayload(a),n=s.deletedMessageGroups;if(n.length>=10)return this.updateDeletePayload(e,{deletedMessageGroups:n,batchRemoveItems:s.batchRemoveItems}),this.setState({deleting:!1}),t(this.getActionCreator(og.c),e);this.postponeDelete=setTimeout(()=>{const s=this.getDeletedMessagesPayload(this.state.updatedMessages),a=s.deletedMessageGroups,n=s.batchRemoveItems;this.setState({deleting:!1}),a.length>1&&this.updateDeletePayload(e,{deletedMessageGroups:a,batchRemoveItems:n}),t(this.getActionCreator(og.c),e),this.hideDeleteConfirm()},this.props.deleteDebounceTime)})}else t(this.getActionCreator(og.c),e),this.hideDeleteConfirm();else this.setState({showDeleteConfirm:!0,idsToDelete:s})}),ot()(this,"handleShortcutDeleteMessages",()=>{this._onActionOnSelectedMessages(()=>!0,og.c)}),ot()(this,"handleShortcutReadMessages",()=>{this._onActionOnSelectedMessages(e=>!Object(ig.d)(e).read,og.h)}),ot()(this,"handleShortcutUnreadMessages",()=>{this._onActionOnSelectedMessages(e=>Object(ig.d)(e).read,og.k)}),ot()(this,"handleShortcutFlagMessages",()=>{this._onActionOnSelectedMessages(e=>!Object(ig.d)(e).flagged,og.d)}),ot()(this,"handleShortcutUnflagMessages",()=>{this._onActionOnSelectedMessages(e=>Object(ig.d)(e).flagged,og.j)}),ot()(this,"handleShortcutPrintMessages",()=>{this._onActionOnSelectedMessages(()=>!0,og.g)}),ot()(this,"handleShiftClick",e=>{const t=this.props,s=t.listId;this.context.executeAction(t.actions.selectRange,{listId:s,targetGroupId:e.id,streamId:t.streamId,streamItem:{listId:s,id:e.id}})}),ot()(this,"getMessageGroupIndex",e=>this.props.messageGroups.findIndex(t=>t.id===e.id)),ot()(this,"handleMessageOpen",(e,t)=>{const s=this.props,a=s.previewpane,n=s.listId,r=s.geminiContextualAds,o=s.streamId,c=e.id,d=this.getMessageGroupIndex(e);let l;if(a===I.Rc.NO)this._openMessageGroup(c,{i13nModel:i()({actionData:{pos:d}},t)});else{r&&(l=Object(mg.a)(e));const s=Object.assign({mKey:Gi.e.OPEN_MSG,sec:Gi.g.MSG_LIST_MSG,mKeyGroup:Gi.f.open_msg,actionData:{pos:d}},t);this.props.onPreviewMessage({listId:n,itemId:c,streamId:o,streamItem:{listId:n,id:c},geminiCategories:l,i13nModel:s})}}),ot()(this,"handleOnDoubleClick",(e,t)=>{const s=e.id,a=this.getMessageGroupIndex(e);this._openMessageGroup(s,{i13nModel:i()({},t,{actionData:{pos:a}})})}),ot()(this,"handleCursorOpen",e=>{const t=this.props.messageGroups,s=this.getCursorPosition(),a=t[s];if(!a||-1===e.target.className.indexOf("message-list-item"))return;const n=a.id;e.preventDefault(),this._openMessageGroup(n,{i13nModel:{interactionType:Gi.d.nav,actionData:{pos:s}}})}),ot()(this,"_openMessageGroup",(e,{i13nModel:t})=>{const s=this.props;this.context.navigateTo({route:s.messageGroupRoutes[e],itemId:e,streamId:s.streamId,streamItem:{listId:s.listId,id:e},i13nModel:Object.assign({mKey:Gi.e.OPEN_MSG,sec:Gi.g.MSG_LIST_MSG,mKeyGroup:Gi.f.open_msg},t)})}),ot()(this,"handleItemSelect",()=>{const e=this.props,t=e.actions,s=e.listId,a=e.streamId,n=e.messageGroups[this.getCursorPosition()];n&&this.context.executeAction(t.toggleSelection,{listId:s,streamId:a,streamItem:{listId:s,id:n.id},messageGroupIds:[n.id]})}),ot()(this,"handleItemSelectAll",()=>{const e=this.props;this.context.executeAction(e.actions.selectAll,{listId:e.listId,streamId:e.streamId})}),ot()(this,"handleCheckboxClick",(e,t)=>{this.handleMessageGroupInteraction(og.m,{messageGroup:e,i13nModel:i()({},t,{mKey:Gi.e.SELECT_MSG,sec:Gi.g.MSG_LIST_MSG})})}),ot()(this,"handleContextMenu",(e,t)=>{this.handleMessageGroupInteraction(og.a,{messageGroup:e,i13nModel:i()({},t,{mKey:Gi.e.SELECT_MSG,sec:Gi.g.MSG_LIST_MSG})})}),ot()(this,"handleContextMenuShow",()=>{this.context.executeAction(this.getActionCreator(og.b),{i13nModel:{mKey:Gi.e.MSG_LST_CONTEXT_MENU,sec:Gi.g.MSG_LIST}})}),ot()(this,"handleCtrlClick",(e,t)=>{const s=this.props,a=s.openedGroupId;0===Object.keys(s.itemSelection).length&&a&&a!==e.id?this.handleMultipleMessageSelection(og.l,{multipleStreamItems:[a,e.id],i13nModel:i()({},t,{mKey:Gi.e.SELECT_MSG,sec:Gi.g.MSG_LIST_MSG}),lastMessageGroup:e}):this.handleMessageGroupInteraction(og.m,{messageGroup:e,i13nModel:i()({},t,{mKey:Gi.e.SELECT_MSG,sec:Gi.g.MSG_LIST_MSG})})}),ot()(this,"handleReadClick",(e,t)=>{const s=Object(ig.f)(e,{listId:this.props.listId}).flags;this.handleMessageGroupInteraction(s.read?og.k:og.h,{messageGroup:e,i13nModel:i()({},t,{mKey:s.read?Gi.e.MARK_MSG_UNREAD:Gi.e.MARK_MSG_READ,sec:Gi.g.MSG_LIST_MSG,mKeyGroup:s.read?Gi.f.mark_unread:Gi.f.mark_read})})}),ot()(this,"handleStarClick",(e,t)=>{const s=Object(ig.f)(e,{listId:this.props.listId}).flags;this.handleMessageGroupInteraction(s.flagged?og.j:og.d,{messageGroup:e,i13nModel:i()({},t,{mKey:s.flagged?Gi.e.MARK_MSG_UNSTARRED:Gi.e.MARK_MSG_STARRED,sec:Gi.g.MSG_LIST_MSG,mKeyGroup:s.flagged?Gi.f.mark_unstar:Gi.f.mark_star})})}),ot()(this,"handleTrashClick",(e,t)=>{this.handleMessageGroupInteraction(og.c,{messageGroup:e,i13nModel:i()({},t,{mKey:Gi.e.MSG_LIST_DEL,sec:Gi.g.MSG_LIST_MSG,mKeyGroup:Gi.f.delete})})}),ot()(this,"handleAttachmentPreviewClick",({attachmentId:e,messageGroupId:t,i13nModel:s})=>{this.context.navigateTo({route:Object(Qi.e)(this.props.listId,t,e,{fullscreen:"1"}),i13nModel:s})}),ot()(this,"handleDragStart",(e,t)=>{const s=Object.assign({},this.props.itemSelection,{[e.id]:!0}),a=this.props,n=a.listId,r=a.actions,i=a.doSelectAll,o=a.allItemsCount,c=a.streamId,d=i?o:Object.keys(s).length;this.context.executeAction(r.itemDragStart,{streamId:c,streamItem:{id:e.id,listId:n},listId:n,messageGroupIds:[e.id]}),Object(A.h)()?(this.dragIcon||(this.dragIcon=document.createElement("div"),Object(A.g)(this.dragIcon),document.body.appendChild(this.dragIcon)),this.renderDragIcon(d),t.dataTransfer.setDragImage(this.dragIcon,-10,-10)):(t.target.style.maxWidth="1px",t.target.style.height="1px",this.restoreTargetStyle(t.target)),t.dataTransfer.setData("text",JSON.stringify({listId:n,allItemsCount:o,doSelectAll:i})),t.dataTransfer.effectAllowed="move"}),ot()(this,"handleContactSearchClick",(e,t)=>{const s=Object(ig.f)(e,{listId:this.props.listId}),a=s.participants,n=s.recipients,r=this.props,o=r.folderType,c=r.myAddresses,d=o===I.Cb.SENT||o===I.Cb.DRAFT?Object(W.m)({recipients:n,participants:a,myAddresses:c}):a;let l={};d[0]&&(l={emailAddresses:d[0].email,name:d[0].name||d[0].email}),this.props.onSearch({route:Object(Qi.u)(l),i13nModel:i()({},t,{mKey:Gi.e.CONTACT_SEARCH,sec:Gi.g.MSG_LIST_MSG,mKeyGroup:Gi.f.search})})}),ot()(this,"handleSubjectSearchClick",(e,t)=>{const s={keyword:`subject:"${Object(ig.f)(e,{listId:this.props.listId}).subject}"`};this.props.onSearch({route:Object(Qi.u)(s),i13nModel:i()({},t,{mKey:Gi.e.SUBJECT_SEARCH,sec:Gi.g.MSG_LIST_MSG,mKeyGroup:Gi.f.search})})}),ot()(this,"restoreTargetStyle",e=>{setTimeout(()=>{e.style.maxWidth="",e.style.height=""},0)}),ot()(this,"handleDragEnd",()=>{this.removeDragIcon(),Rg=!1}),ot()(this,"renderDragIcon",e=>{_i.a.render(ii.a.createElement(rg.a,{count:e,formatNumber:this.context.intl.formatNumber}),this.dragIcon)}),ot()(this,"removeDragIcon",()=>{this.dragIcon&&(_i.a.unmountComponentAtNode(this.dragIcon),document.body.removeChild(this.dragIcon),this.dragIcon=null)}),ot()(this,"getLayoutAndMessageItemHeight",()=>{const e=this.isCompactLayout(this.props.previewpane),t=this.props,s=t.msgListDensity;let a,n,r;return r=s===I.pc.SLIM?"SLIM":s===I.pc.RELAXED?"RELAXED":"NORMAL",e?t.snippetsEnabled?(a=I.qc[`COMPACT_SNIPPET_${r}`],n=Ri[`MESSAGE_LIST_ITEM_COMPACT_SNIPPET_${r}_HEIGHT`]):(a=I.qc[`COMPACT_${r}`],n=Ri[`MESSAGE_LIST_ITEM_COMPACT_${r}_HEIGHT`]):(a=I.qc[`${r}`],n=Ri[`MESSAGE_LIST_ITEM_${r}_HEIGHT`]),{layout:a,messageItemHeight:n}}),ot()(this,"isScrolling",()=>Og),ot()(this,"isDragging",()=>Rg),ot()(this,"starIconRef",(e,t)=>{this.starIconContainer[e]=t}),ot()(this,"readIconRef",(e,t)=>{this.readIconContainer[e]=t}),ot()(this,"isInvalidItem",e=>this.state.updatedMessages[e]===og.c),ot()(this,"renderContextMenu",(e,t,a,n)=>n?ii.a.createElement(fg.c,{align:yi.a.START,zAltitude:Ri.ZIndices.POPOVER.HIGH,triggerOn:fg.b.MOUNT,triggerOff:fg.a.CLICK,onShown:this.handleContextMenuShow,onHide:a,isArrowVisible:!1,scrollContainer:this.scrollContainer,contentComfortThreshold:1,permittedArrowDirections:[yi.h.UP,yi.h.DOWN],collapseArrowWrapper:!0},ii.a.createElement("span",{className:Ag.contextMenuAnchor,style:{top:n.y+"px",left:n.x+"px"}}),ii.a.createElement("div",{className:Ag.contextMenuContainer},ii.a.createElement(qi.a,{import:"../more_menu/more_menu_items.jsx",activeGroupId:"",listId:t,streamId:e,onEscape:a,contextMenuMode:!0,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,866))},_moduleResolver:function(){return 866}},ii.a.createElement(qi.b,{loading:!0},ii.a.createElement(md.b,null))))):null),ot()(this,"renderItem",(e,t)=>{const s=this.props,a=s.messageGroupRoutes,n=s.myAddresses,r=s.highlightSearchTerm,i=s.itemSelection,o=s.openedGroupId,c=s.messageDestinationLabel,d=s.listId,l=s.previewpane,u=s.snippetsEnabled,_=s.hideSearchIcon,m=s.windowDimensions,p=s.conversations,h=s.msgListDensity,g=s.messageGroups,E=s.messageOpPerfEnabled;if(this.isInvalidItem(e.id))return null;const I=this.context.getUrlFromRoute(a[e.id]),S=this.getLayoutAndMessageItemHeight().layout,C=this.getCursorPosition(),f=E&&C>=0&&C<g.length?g[C].id:o;let T=!1;return this.props.showInboxCouponsCue&&!Ng&&t<this.props.messageInitialRenderCount&&e.messages&&e.messages.length>0&&e.messages[0].decos&&e.messages[0].decos.some(e=>"CPN"===e.id)&&e.messages[0].cardConversationId&&(Ng=!0,T=!0),this.starIconContainer||(this.starIconContainer={}),this.readIconContainer||(this.readIconContainer={}),ii.a.createElement(ng.a,{key:e.id,listId:d,messageGroupListId:d,messageGroupId:e.id,active:!Object.keys(i).length&&e.id===f,selected:!!i[e.id],hovered:!0,messageURL:I,isScrolling:this.isScrolling,myAddresses:n,highlightSearchTerm:r,messageDestinationLabel:c,layout:S,msgListDensity:h,isCompactLayout:this.isCompactLayout(l),isConversationMode:p,onClick:this.handleMessageOpen,onDoubleClick:this.handleOnDoubleClick,onShiftClick:this.handleShiftClick,snippetsEnabled:u,isDragging:this.isDragging,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onContextMenu:this.handleContextMenu,onContextMenuShow:this.handleContextMenuShow,onCheckboxClick:this.handleCheckboxClick,onCtrlClick:this.handleCtrlClick,onReadClick:this.handleReadClick,onStarClick:this.handleStarClick,onDeleteClick:this.handleTrashClick,onContactSearchClick:this.handleContactSearchClick,onSubjectSearchClick:this.handleSubjectSearchClick,hideSearchIcon:_,onAttachmentPreviewClick:this.handleAttachmentPreviewClick,attachmentTraySize:m.innerWidth>Ri.NARROW_SCREEN_WIDTH?4:3,showInboxCouponsCue:this.props.showInboxCouponsCue&&T,starRef:this.starIconRef,readRef:this.readIconRef,renderContextMenu:this.renderContextMenu})}),ot()(this,"renderAd",e=>{const t=this.props,s=t.adFeedbackStatus,a=t.listId,n=I.m.STARTED,r=I.m.SUBMITTED,i=this.isCompactLayout(t.previewpane);return s[e]===n||s[e]===r?ii.a.createElement(dg.a,{key:"ad-feedback",adFeedbackSubmitted:s[e]===r,isCompactLayout:i,sectionId:e}):ii.a.createElement(cg.a,{key:"pencil",id:"PENCIL",isCompactLayout:i,listId:a,viewabiltyContainerNode:this.messageItemContainer,sectionId:e})}),ot()(this,"isCompactLayout",e=>e===I.Rc.RIGHT),ot()(this,"hideDeleteConfirm",()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1,idsToDelete:[]}),this.context.executeAction(gg.a))}),ot()(this,"renderDeleteConfirm",()=>{if(this.state.showDeleteConfirm){const e=this.context.intl.formatMessage,t=this.state.idsToDelete,s=this.props,a=s.permDelete,n=s.listId,r=s.streamId,i={conversations:s.conversations,count:t.length},o=1===t.length?{id:t[0],listId:n}:void 0;return ii.a.createElement(Pp.a,{title:e(_g.a.confirm_delete_title,i),message:e(a?_g.a.confirm_permanently_delete_messages:_g.a.confirm_delete_messages,i),onConfirm:()=>this.handleDelete({listId:n,messageGroupIds:t,streamId:r,streamItem:o}),onAbort:this.hideDeleteConfirm})}return null}),ot()(this,"onScrollTopChange",e=>{Og=!1,!n&&this.props.canTriggerSearchRelevanceCue&&e&&a&&e>2*a&&setTimeout(()=>{n=!0,this.props.searchRelevanceCueTriggered()},0)}),ot()(this,"renderItemList",()=>{const e=this.props,t=e.hasMoreItems,s=e.previewpane,n=e.listId,r=e.messageGroups,i=e.adFeedbackStatus,o=e.messageScrollLoadThreshold,c=e.messageInitialRenderCount,d=e.fanAds,l=this.isCompactLayout(s),u=this.getLayoutAndMessageItemHeight().messageItemHeight;return ii.a.createElement(Cg.a,{getUnsyncedData:this.getUIState},ii.a.createElement(ag.a,di()({onSelect:this.handleItemSelect,onSelectAll:this.handleItemSelectAll,onOpen:this.handleCursorOpen,initialRenderCount:c,loadThreshold:o,renderItem:(e,t)=>e&&e.listAd?this.renderAd(e.sectionId):this.renderItem(e,t),getHeightForIndex:(e,t)=>{if(e[t]&&e[t].listAd){const s=e[t].sectionId;if(i[s]===I.m.STARTED)return l?Ri.MESSAGE_LIST_COMPACT_FEEDBACK_FORM_HEIGHT:Ri.MESSAGE_LIST_FEEDBACK_FORM_HEIGHT;if(i[s]===I.m.SUBMITTED||d)return l?Ri.MESSAGE_LIST_COMPACT_GEMINI_AD_HEIGHT:Ri.MESSAGE_LIST_GEMINI_AD_HEIGHT_M}return u},getItemListSize:e=>e.length,getItemsForIndex:(e,t)=>e[t],getTimeStampFromItem:e=>1e3*Object(ig.c)(e,{listId:n}),hasMoreItems:t,itemsToFetch:I.Z,items:r,layoutKey:s,Element:()=>{},onScroll:()=>{Og=!0},onScrollTopChange:this.onScrollTopChange,initialScrollTop:this.getSavedScrollTop(),scrollRef:e=>this.scrollContainer=e,messageListContainerNode:this.messageItemContainer,messageListHeight:a,isInvalidItem:this.isInvalidItem},e)))}),ot()(this,"getMessageItemContainer",e=>{this.messageItemContainer=e})}componentDidMount(){this.context.bindShortcut(bg,this.handleShortcuts),this.updateMessageListHeight()}componentWillUnmount(){this.context.unbindShortcut(bg),this.updateMessageListHeight();const e=this.props,t=e.listId,s=e.streamId;if(e.messageOpPerfEnabled){const e=this.getDeletedMessagesPayload(this.state.updatedMessages),a=e.deletedMessageGroups,n=e.batchRemoveItems;if(a.length>=0){const e={listId:t,messageGroupIds:[],streamId:s},r=this.context.executeAction;this.updateDeletePayload(e,{deletedMessageGroups:a,batchRemoveItems:n}),r(this.getActionCreator(og.c),e),clearTimeout(this.postponeDelete)}}}componentDidUpdate(e){e.messageGroups!==this.props.messageGroups&&this.props.messageOpPerfEnabled&&!this.state.deleting&&this.setState({updatedMessages:{},cursorIndexOffset:0})}componentWillMount(){Ng&&(Ng=!1)}componentWillUpdate(){Ng&&(Ng=!1)}render(){return ii.a.createElement("div",{className:Ag.container,"data-test-id":"virtual-list-container",ref:this.getMessageItemContainer},ii.a.createElement(qi.a,{defer:!0,import:"./atoms/loading_bar.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1198))},_moduleResolver:function(){return 1198}}),this.renderItemList(),this.renderDeleteConfirm())}},ot()(e,"contextTypes",{executeAction:ni.a.func,navigateTo:ni.a.func.isRequired,intl:mi.intlShape.isRequired,config:ni.a.object,store:ni.a.object,getUrlFromRoute:ni.a.func.isRequired,bindShortcut:ni.a.func,unbindShortcut:ni.a.func,os:ni.a.oneOf(Object(b.g)(I.Hc))}),ot()(e,"defaultProps",{highlightSearchTerm:!1}),t})());var Dg=Object(oi.connect)((e,t)=>{const s=t.listId,a=t.items,n=Object($i.b)(e),r=n.getRoute,i=n.getFeaturesSelectors,o=n.doesStreamExist,c=n.getCursor,d=n.getAllItemsCountForListId,l=n.getMainStreamListIds,u=n.getSelectedItems,_=Object(qp.a)(l(r())),m=i(),p=u(_),h=a.map(({id:e})=>e),g=Object.keys(p),E=h.length>0&&h.length===g.length,S=d(s),C=m.getSetting(I.zd.ITEM_LIST_PAGE_THRESHOLD),f=m.getSetting(I.zd.BUFFER_SIZE),T=o(_)?c(_):{},A=T.index,b=T.streamItem;return{streamId:_,allItemsCount:S,allItemsSelected:E,openedGroupId:(void 0===b?{}:b).id,itemSelection:p,itemListPageThreshold:C,bufferSize:f,cursorIndex:void 0===A?-1:A,snippetsEnabled:m.isEnabled(I.zd.SNIPPETS),msgListDensity:m.getSetting(I.zd.MSG_LIST_DENSITY)}})(e=>{switch(e.listContentType){case I.Pb.IMAGES:return ii.a.createElement(qi.a,di()({import:"../../../molecules/photo_grid/index.jsx"},e,{key:e.listId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1214))},_moduleResolver:function(){return 1214}}));case I.Pb.DOCUMENTS:return ii.a.createElement(qi.a,di()({import:"../../../molecules/document_list/index.jsx"},e,{key:e.listId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1197))},_moduleResolver:function(){return 1197}}));default:return ii.a.createElement(Mg,di()({messageGroups:e.items},e,{key:e.listId}))}}),yg=s(137);var Lg=Object(oi.connect)((e,t)=>{const s=Object($i.b)(e),a=s.getRoute,n=s.getWindowDimensions,r=s.doesFolderIdExist,i=s.getPrimaryFolderTypeByFolderId,o=s.isAppVisible,c=s.doesListExist,d=s.getTimeZoneName,l=s.__patchV2MyAddresses__,u=s.getRootAccounts,_=s.getListStatus,m=s.getMessageGroupRoutes,p=s.getListItems,h=(0,s.getFeaturesSelectors)(),g=t.listId,E=Object(eo.o)(g),S=E&&r(E)&&i(E),C=l(),f=u(),T=Object(eo.t)(g),A=p(g),b=n(),O=a(),R=Object(eo.K)(g),N=Object(eo.F)(g),M={timezone:d(),offset:0},D=A.length>=sg.c&&(N===I.Od.DATE_DESC||N===I.Od.DATE_ASC),y=h.getSetting(I.zd.MESSAGE_DESTINATION_LABEL_TYPE);return{listId:g,state:c(g)?_(g):I.bd.DOES_NOT_EXIST,permDelete:S===I.Cb.DRAFT||S===I.Cb.TRASH||S===I.Cb.BULK,myAddresses:C,items:A,folderType:S,dateFormattingOption:M,sortOrder:N,messageGroupRoutes:m(g),highlightSearchTerm:!0,messageDestinationLabel:y,accounts:f,windowDimensions:b,listContentType:T,hasTimeChunking:D,actions:yg.a,height:t.height,hideSearchIcon:R,isAppVisible:o(),route:O}})(class extends ii.a.Component{shouldComponentUpdate(e){return!!e.listId}render(){return this.props.listId?ii.a.createElement(Dg,this.props):null}}),vg=s(305),Pg=s.n(vg),Fg=s(376),wg=s(307),kg=s(377),xg=s(234);const Ug=Object(mi.defineMessages)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural, =0 {Message list.} one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.} other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}}"}}),Gg=["shift+v"],jg=I.Sc.H_SLIDER_POS,Hg=I.Sc.V_SLIDER_POS,Bg=I.Sc.H_SLIDER_POS_V2,Vg=I.Sc.V_SLIDER_POS_V2;Object(Zi.b)({group:Yi.c,keys:{togglePreviewPaneSetting:{key:"SHIFT+V",description:ii.a.createElement(mi.FormattedMessage,{id:"shortcut.toggle_preview_pane_setting",defaultMessage:"Show/hide {previewPane}",values:{previewPane:ii.a.createElement("strong",null,ii.a.createElement(mi.FormattedMessage,{id:"shortcut.toggle_preview_pane_setting_strong",defaultMessage:"Preview Pane"}))}})}}});class Wg extends ii.a.Component{constructor(e){super(e),ot()(this,"_readPreviewPaneSetting",e=>this.props.previewpaneInPixels?Object(A.b)()?new xg.a({window:window}).getClientParam(e):this.props.previewpanePositionsFromServer[e]:Object(T_.a)(e)),ot()(this,"getToolbarKind",()=>{const e=this.props.previewpane;let t;return e===I.Rc.RIGHT?t=lh.c.LIST_WITH_PREVIEW_RIGHT:e===I.Rc.BOTTOM&&(t=lh.c.LIST_WITH_PREVIEW_BOTTOM),t}),ot()(this,"handleShortcuts",e=>{const t=String.fromCharCode(e.which||e.keyCode).toLowerCase();e.preventDefault(),e.stopPropagation(),"v"===t&&e.shiftKey&&this.handlePreviewPaneSettingChange(e)}),ot()(this,"handlePreviewPaneSettingChange",e=>{let t;switch(e.preventDefault(),this.props.previewpane){case I.Rc.NO:t=I.Rc.RIGHT;break;case I.Rc.RIGHT:t=I.Rc.BOTTOM;break;case I.Rc.BOTTOM:t=I.Rc.NO}const s={mKey:Gi.e.SETTINGS_PREVIEW_PANE,sec:Gi.g.SETTINGS_INBOX_TAB,interactionType:Object(vs.j)(e)};this.props.changeSettings({name:I.zd.PREVIEW_PANE,value:t,i13nModel:s})}),ot()(this,"handleSlide",(e,t,s)=>{this.setState({[e]:t,size:s})}),ot()(this,"getPreviewPaneStyle",()=>{const e=this.state,t=e.hSliderPos,s=e.vSliderPos,a=e.size,n=this.props,r=n.previewpaneInPixels;let i;return n.previewpane===I.Rc.RIGHT?0!==a&&r?{style:{flexBasis:`${i=t<Ri.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS?Ri.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS:a-t<Ri.PREVIEW_PANE_RIGHT_PANE_MINIMUM_PIXELS?a-Ri.PREVIEW_PANE_RIGHT_PANE_MINIMUM_PIXELS:t}px`},previewPaneOffset:i,showActionLabels:a-t>700}:{style:{flexBasis:`${t}%`},previewPaneOffset:t,showActionLabels:!(t>Ri.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET)}:0===a?{style:{flexBasis:`${s}%`}}:r?{style:{flexBasis:`${i=s<Ri.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS?Ri.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS:a-s<Ri.PREVIEW_PANE_BOTTOM_PANE_MINIMUM_PIXELS?a-Ri.PREVIEW_PANE_BOTTOM_PANE_MINIMUM_PIXELS:s}px`}}:{style:{flexBasis:`${s/100*a}px`}}}),ot()(this,"getPreviewPaneStyleFromCookie",()=>{const e=this.state,t=e.hSliderPos,s=e.vSliderPos,a=e.size,n=this.props.previewpane===I.Rc.RIGHT;let r;return r=n?t<Ri.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS?Ri.PREVIEW_PANE_LEFT_PANE_MINIMUM_PIXELS:t:s<Ri.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS?Ri.PREVIEW_PANE_TOP_PANE_MINIMUM_PIXELS:s,i()({style:{flexBasis:`${r}px`}},n?{previewPaneOffset:t,showActionLabels:!(a>0)||a-t>700}:{})}),ot()(this,"renderReader",()=>{const e=this.state.vSliderPos,t=this.props,a=t.previewpane,n=t.previewpaneInPixels,r=t.ItemList,i=t.ListHeader,o=t.numberOfMessageSelection,c=t.openedGroupId,d=t.csid,l=t.toolbarV3,u=t.isEmpty,_=t.isRTL,m=t.previewpaneCookie,p=this.context.getCss(Pg.a,{previewpane:a,previewpaneInPixels:n}),h=m&&n?this.getPreviewPaneStyleFromCookie():this.getPreviewPaneStyle(),g=h.style,E=h.previewPaneOffset,S=void 0===E?0:E,C=h.showActionLabels,f=void 0===C||C;if(!a){const e=ii.a.createElement(r,di()({},this.props,this.state,{openedMessageId:c}));return ii.a.createElement("div",{className:p.mailReader,"data-test-id":"mail-reader","data-test-preview":a},i?ii.a.createElement(i,this.props):null,ii.a.createElement("div",{className:p.toolbar,"data-test-id":"mail-reader-toolbar"},l?ii.a.createElement(qi.a,di()({import:"../../../../molecules/list/atoms/message_toolbar"},this.props,{_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,446))},_moduleResolver:function(){return 446}})):ii.a.createElement(wg.a,di()({},this.props,{kind:lh.c.LIST,activeGroupId:c}))),ii.a.createElement("div",{className:p.listContainer,"data-test-id":"mail-reader-list-container"},e))}let T;a===I.Rc.BOTTOM&&(T=parseFloat(e));const A=ii.a.createElement(r,di()({},this.props,this.state,{height:T,openedMessageId:c}));return ii.a.createElement("div",{"data-test-id":"mail-reader","data-test-preview":a,className:p.mailReader},i?ii.a.createElement(i,this.props):null,ii.a.createElement("div",{className:p.toolbar},ii.a.createElement(wg.a,di()({},this.props,{kind:this.getToolbarKind(),activeGroupId:c,previewPaneOffset:S,showActionLabels:f}))),ii.a.createElement("div",{className:p.listContainer,ref:"listContainer"},ii.a.createElement("div",{height:T,className:p.leftPane,style:g,ref:"leftPane"},A),ii.a.createElement(kg.a,{isEmpty:u,previewpane:a,previewpaneInPixels:n,previewpaneCookie:m,resize:this.handleSlide,isRTL:_}),ii.a.createElement("div",{className:p.rightPane},0===o&&(c||d)?ii.a.createElement("div",{className:p.messageView},ii.a.createElement(tg.a,di()({},this.props,{hasToolbar:!1,openedMessageId:c,csid:d,widthChanged:this.state.widthChanged}))):ii.a.createElement("div",{className:p.blank},ii.a.createElement(Fg.a,{listId:this.props.listId,streamId:this.props.streamId})))))});let t=jg,a=Hg;e.previewpaneInPixels&&(t=Bg,a=Vg),this.state={hSliderPos:parseFloat(this._readPreviewPaneSetting(t))||Ri.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,vSliderPos:parseFloat(this._readPreviewPaneSetting(a))||Ri.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET,size:0,widthChanged:0}}componentDidMount(){this.context.bindShortcut(Gg,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(Gg)}componentDidUpdate(e,t){t.hSliderPos!==this.state.hSliderPos&&this.setState({widthChanged:t.hSliderPos-this.state.hSliderPos})}shouldComponentUpdate(e,t){const s=this.props,a=this.state;return s.route!==e.route||0===s.numberOfMessageSelection&&e.numberOfMessageSelection>0||s.numberOfMessageSelection>0&&0===e.numberOfMessageSelection||s.openedGroupId!==e.openedGroupId||s.csid!==e.csid||s.isEmpty!==e.isEmpty||s.previewpane!==e.previewpane||a.hSliderPos!==t.hSliderPos||a.vSliderPos!==t.vSliderPos||a.size!==t.size}render(){const e=this.context.intl.formatMessage,t=this.props.previewpane,s=this.context.getCss(Pg.a);return ii.a.createElement("div",{className:s.container,"data-test-id":"mail-reader-container",role:"main","aria-label":e(Ug.message_list,{previewpane:t})},this.renderReader())}}ot()(Wg,"contextTypes",{executeAction:ni.a.func,intl:mi.intlShape.isRequired,getCss:ni.a.func,bindShortcut:ni.a.func,unbindShortcut:ni.a.func});var qg=Wg,zg=s(386),Kg=s(306),Zg=s(378),Yg=s.n(Zg),Xg=s(379),Qg=s(445);const $g=Object(mi.defineMessages)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural, =0 {Message list.} one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.} other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}}"}});class Jg extends ii.a.Component{constructor(...e){super(...e),ot()(this,"getListHeader",()=>{const e=this.props,t=e.listId;return e.shouldIncludeCouponsHeader?Xg.a:e.route.name!==I.gd.SEARCH||Object(eo.H)(t)?Object(o_.d)(t)?Kg.a:null:zg.a})}render(){const e=this.props,t=e.mailReaderV3,s=e.previewpane,a=e.listId,n=e.isRTL,r=e.haveScrollToTop,i=e.showEmptyFolderVideo,o=this.context.intl.formatMessage,c=this.context.getCss(Yg.a);return i?null:t?ii.a.createElement("div",{className:c.container,"data-test-id":"mail-reader-container",role:"main","aria-label":o($g.message_list,{previewpane:s})},ii.a.createElement(Qg.default,{listId:a,haveScrollToTop:r})):ii.a.createElement(qg,di()({key:a},this.props,{ItemList:Lg,ListHeader:this.getListHeader(),isRTL:n}))}}ot()(Jg,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func,config:ni.a.object});var eE=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getFeaturesSelectors,a=t.getRoute,n=t.getRouteParams,r=t.doesMessageGroupIdExist,i=t.isSingleDraftGroup,o=t.getCsidForSingleDraftGroup,c=t.getSelectedStreamItems,d=t.doesStreamExist,l=t.getSmartViewTypeFromRoute,u=t.getSmartViewPosition,_=t.getEnvironmentSelectors,m=t.isFeatureEnabled,p=t.getMainStreamListIds,h=t.getMainStreamItems,g=t.getCursorItem,E=t.listExistsAndIsEmpty,S=t.couldShowEmptyFolderVideo,C=(0,t.getCurrentListId)(),f=a(),T=p(f),A=Object(qp.a)(T),b=d(A)?g(A):void 0,O=s(),R=O.isEnabled(I.ub.TOOLBAR_V3),N=O.isEnabled(I.ub.MAIL_READER_V3),M=(b||{}).id,D=n(),y=M||D.groupId,L=!!r(y)&&i(y),v=d(A)?c(A).length:0,P=Object(eo.M)(f)?l(f):null,F=P===I.Kd.COUPONS&&u(P)===I.Jd.TAB_BAR,w=function(e){const t=Object(eo.t)(e);return t===I.Pb.MESSAGES||t===I.Pb.IMAGES||t===I.Pb.DOCUMENTS}(C);let k=!1;k=Object(eo.t)(C)===I.Pb.MESSAGES?E(C):0===h(f).length;return{previewpane:O.getSetting(I.zd.PREVIEW_PANE),previewpaneInPixels:O.getSetting(I.ub.PREVIEW_PANE_IN_PIXELS),previewpaneCookie:O.getSetting(I.ub.PREVIEW_PANE_COOKIE),previewpanePositionsFromServer:O.getSetting("previewpanePositionsFromServer"),route:f,listId:C,streamId:A,openedGroupId:L||0!==v?void 0:M,csid:L?o(y):void 0,numberOfMessageSelection:v,toolbarV3:R,mailReaderV3:N,isEmpty:k,shouldIncludeCouponsHeader:F,isRTL:"rtl"===_().getPageDirection(),haveScrollToTop:w,showEmptyFolderVideo:m(I.ub.EMPTY_FOLDER_VIDEO)&&S()}},e=>({changeSettings:t=>e(Object(Ip.b)(t))}))(Jg);const tE={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};var sE=class extends ii.a.Component{render(){return ii.a.createElement(qi.a,{import:"../../../../molecules/settings/settings.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1199))},_moduleResolver:function(){return 1199}},ii.a.createElement(qi.b,{loading:!0},ii.a.createElement("div",{style:tE},ii.a.createElement(md.b,null))))}};class aE extends ii.a.Component{constructor(...e){super(...e),ot()(this,"navigateToNewSponsoredCompose",()=>{const e=Object(vs.g)();this.context.navigateTo({route:Object(Qi.g)(e),forwardCreativeId:this.props.creativeId})}),ot()(this,"saveSponsoredMessage",()=>{this.props.saveSponsoredMessage({subject:this.props.subject,asset:this.props.asset}),this.context.navigateTo({route:Object(Qi.o)(this.props.listId)})}),ot()(this,"onClose",({i13nModel:e={}}={})=>{this.props.onClose({listId:this.props.listId,i13nModel:e})}),ot()(this,"getVideoConfig",()=>{const e=this.props,t=e.videoAd;return{site:e.site,expName:e.expName,autoplay:!0,html5:!0,mute:!0,pageSpaceId:e.pageSpaceId,playlist:{mediaItems:[{id:e.geminiVideoAdId,images:{thumbnail:t.thumbnail}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:t.videoMediaAssets,clickUrl:t.clickUrl,landingUrl:e.landingUrl},rules:t.rules,beacons:t.actionUrls}},replayonlyendscreen:!0,ccOnMute:!0,region:this.context.region}})}shouldComponentUpdate(e){const t=Object(b.a)(e,"videoAd.clickUrl"),s=Object(b.a)(this.props,"videoAd.clickUrl");return!!e.asset&&e.asset!==this.props.asset||!!t&&t!==s}render(){const e=this.props.conversations;return this.props.isLoadingGeminiAsset?null:ii.a.createElement(qi.a,{import:"../../../molecules/ads/sponsored_message_read.jsx",asset:this.props.asset,listId:this.props.listId,subject:this.props.subject,actionUrls:this.props.actionUrls,forwardCreative:this.props.videoAd?null:this.navigateToNewSponsoredCompose,saveSponsoredMessage:this.props.videoAd?null:this.saveSponsoredMessage,onClose:this.onClose,videoConfig:this.props.videoAd&&this.getVideoConfig(),source:this.props.source,description:this.props.description,action:Object(b.a)(this.props,"videoAd.callToAction"),emailAddress:this.props.emailAddress,accountName:this.props.accountName,embeddedLandingUrls:this.props.embeddedLandingUrls,conversations:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1206))},_moduleResolver:function(){return 1206}})}}ot()(aE,"displayName","SponsoredMessage"),ot()(aE,"contextTypes",{region:ni.a.string,navigateTo:ni.a.func});var nE=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getAdsSelectors,a=t.getRoute,n=t.getAccountSelectors,r=t.getCurrentSpaceId,i=t.isLoadingGeminiAsset,o=t.getSelectedAccountId,c=(0,t.getFeaturesSelectors)(),d=a(),l=Object(b.a)(d,"params.creativeId"),u=r(),_=Object(eo.w)(d),m=s(),p=c.isEnabled(I.ub.CONVERSATIONS),h=m.getSponsoredAd,g=c.getSetting(I.zd.GEMINI_VIDEO_AD_ID),E=c.getSetting(I.zd.GEMINI_VIDEO_AD_SITE),S=c.getSetting(I.zd.GEMINI_VIDEO_AD_EXP_NAME),C=h(l)||{},f=C.nativeAd,T=void 0===f?{}:f,A=C.pencilAd,O=void 0===A?{}:A,R=C.videoAd,N=Object(b.a)(T,"actionUrls",{}),M=n(),D=M.getAccountNameByAccountId,y=M.getAccountEmailByAccountId,L=o(),v=D(L),P=y(L);return{videoAd:R,pageSpaceId:u,geminiVideoAdId:g,site:E,expName:S,creativeId:l,listId:_,asset:T.geminiSponsoredAsset,subject:O.adHeadline,actionUrls:N,source:O.adSource,description:O.adSummary,accountName:v,emailAddress:P,embeddedLandingUrls:T.embeddedLandingUrls,isLoadingGeminiAsset:i(),landingUrl:O.landingUrl,conversations:p}},e=>({saveSponsoredMessage:t=>e(Object(im.w)(t)),onClose:t=>e(Object(Ti.c)(t))}))(aE),rE=s(841),iE=s.n(rE);const oE=xi()(iE.a);var cE=Object(oi.connect)(e=>{return{newMailVideoId:(0,Object($i.b)(e).getFeaturesSelectors)().getSetting("newMailVideoId")}})(class extends ii.a.Component{render(){return ii.a.createElement(qi.a,{import:"../../../../molecules/tutorial/index.jsx",newMailVideoId:this.props.newMailVideoId,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1211))},_moduleResolver:function(){return 1211}},ii.a.createElement(qi.b,{loading:!0},ii.a.createElement("div",{className:oE.container},ii.a.createElement(md.b,null))))}});const dE=Object(mi.defineMessages)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural, =0 {Message list.} one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.} other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}}"}});class lE extends ii.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props,a=t.listId,n=t.previewpane,r=this.context.getCss(Yg.a);return ii.a.createElement("div",{className:r.container,"data-test-id":"mail-reader-container",role:"main","aria-label":e(dE.message_list,{previewpane:n})},ii.a.createElement(qi.a,{defer:!0,import:"../list/list.jsx",listId:a,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,445))},_moduleResolver:function(){return 445}}))}}ot()(lE,"contextTypes",{intl:mi.intlShape.isRequired,getCss:ni.a.func}),ot()(lE,"defaultProps",{previewpane:0});const uE={[I.Oc.COMPOSE]:eg,[I.Oc.MESSAGE]:tg.a,[I.Oc.V3_MAIL_READER]:lE,[I.Oc.MAIL_READER]:eE,[I.Oc.SETTINGS]:sE,[I.Oc.SPONSORED_MESSAGE]:nE,[I.Oc.TUTORIAL]:cE};const _E={[I.gd.LIST]:uE[I.Oc.MAIL_READER],[I.gd.BASE]:uE[I.Oc.MAIL_READER],[I.gd.FOLDER]:uE[I.Oc.MAIL_READER],[I.gd.SEARCH]:uE[I.Oc.MAIL_READER],[I.gd.MESSAGE_FROM_LIST]:uE[I.Oc.MESSAGE],[I.gd.MESSAGE_FROM_SEARCH_LIST]:uE[I.Oc.MESSAGE],[I.gd.MESSAGE_FROM_FOLDER_LIST]:uE[I.Oc.MESSAGE],[I.gd.NEW_DRAFT]:uE[I.Oc.COMPOSE],[I.gd.EDIT_DRAFT]:uE[I.Oc.COMPOSE],[I.gd.SPONSORED_MESSAGE]:uE[I.Oc.SPONSORED_MESSAGE],[I.gd.SETTINGS]:uE[I.Oc.SETTINGS],[I.gd.TUTORIAL]:uE[I.Oc.TUTORIAL]};var mE=Object(oi.connect)(e=>{return{route:(0,Object($i.b)(e).getRoute)()}},e=>({changeSettings:t=>e(Object(Ip.b)(t))}))(class extends ii.a.Component{render(){return ii.a.createElement(_E[this.props.route.name],this.props)}});function pE(e,t){e.dispatch(go.Rl,t)}function hE(e){e.dispatch(go.Ql)}var gE=s(842),EE=s.n(gE);const IE="norrin-wide",SE=Object(mi.defineMessages)({main_nav:{id:"landmark.folders_nav",defaultMessage:"Folder"}});class CE extends ii.a.Component{constructor(...e){super(...e),ot()(this,"_renderMainNav",e=>{return ii.a.createElement("nav",{className:e.mainNavigation,role:"navigation","aria-label":(0,this.context.intl.formatMessage)(SE.main_nav),"data-yaft-module":"norrin_navigation"},ii.a.createElement(Zh,this.props))}),ot()(this,"_renderLeftRail",e=>ii.a.createElement("div",{className:this.props.hasWideLogo?e.leftRailWide:e.leftRail,"data-test-id":"mail-left-rail"},this._renderMainNav(e))),ot()(this,"_renderRightRail",()=>{const e=this.props;return ii.a.createElement(pp,{hasAttachmentPreview:e.hasAttachmentPreview,windowDimensions:e.windowDimensions})}),ot()(this,"_renderCue",e=>{switch(e){case I.ub.ADBLOCK_UPSELL_CUE:return ii.a.createElement(qi.a,{import:"../adblock_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1162))},_moduleResolver:function(){return 1162}});case I.ub.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return ii.a.createElement(qi.a,{import:"../right_rail_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1219))},_moduleResolver:function(){return 1219}});case I.ub.NEW_USER_ONBOARDING_CUE:return ii.a.createElement(qi.a,{import:"../new_user_onboarding_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,860))},_moduleResolver:function(){return 860}});case I.ub.LINKEDIN_REAUTH_CUE:return ii.a.createElement(qi.a,{import:"../linkedin_upsell",cueName:e,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1163))},_moduleResolver:function(){return 1163}});default:return}}),ot()(this,"_renderUpdateWiderMailCue",()=>ii.a.createElement(qi.a,{import:"../update_wider_mail_cue",cueName:I.ub.UPDATE_WIDER_MAIL_CUE,userDisplayName:this.props.userDisplayName,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1164))},_moduleResolver:function(){return 1164}})),ot()(this,"_renderThemesCueV3",()=>ii.a.createElement(qi.a,{import:"../themes_cue_v3",cueName:I.ub.THEMES_CUE_V3,userDisplayName:this.props.userDisplayName,photoThemes:this.props.photoThemes,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1165))},_moduleResolver:function(){return 1165}})),ot()(this,"_renderNewUserOnboardingCue",()=>ii.a.createElement(qi.a,{import:"../new_user_onboarding_cue",cueName:I.ub.NEW_USER_ONBOARDING_CUE,partnerBrand:this.props.partnerBrand,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,860))},_moduleResolver:function(){return 860}})),ot()(this,"_renderQuotientModal",()=>ii.a.createElement(qi.a,{import:"../card_group/atoms/quotient_modal",retailerId:this.props.retailerId,parentName:this.props.parentName,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,229))},_moduleResolver:function(){return 229}})),ot()(this,"_renderContextualQuotientModal",()=>ii.a.createElement(qi.a,{import:"../card_group/atoms/quotient_link_cue",cueName:I.ub.QUOTIENT_CONTEXTUAL_CUE,retailerId:this.props.retailerId,parentName:"takeover_msgview",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1166))},_moduleResolver:function(){return 1166}})),ot()(this,"_renderPartnerReconsentBanner",()=>ii.a.createElement(qi.a,{import:"../reconsent_cue",cueName:I.ub.PARTNER_RECONSENT_BANNER,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1167))},_moduleResolver:function(){return 1167}})),ot()(this,"_renderLastPassFreeTrialUpsell",()=>ii.a.createElement(qi.a,{import:"../lastpass_freetrial",cueName:I.ub.LASTPASS_FREETRIAL_UPSELL,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1168))},_moduleResolver:function(){return 1168}})),ot()(this,"tmrOnboardingCueActionData",()=>({atosStatus:this.props.tmrAtosStatus})),ot()(this,"_renderMembershipRewardsOnboarding",()=>ii.a.createElement(qi.a,{import:"../membership_rewards/onboarding_cue",cueName:I.ub.TMR_ONBOARDING_CUE,computeActionData:this.tmrOnboardingCueActionData,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1169))},_moduleResolver:function(){return 1169}})),ot()(this,"_executeWindowResizingAction",()=>{this._innerContainer&&this.context.executeAction(pE,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,contentAndRightRailWidth:this._innerContainer.clientWidth,contentAndRightRailHeight:this._innerContainer.clientHeight,ybarHeight:this.ybarHeight})}),ot()(this,"_updateAppMinWidth",e=>{e.hasAttachmentPreview||e.previewPaneSetting===I.Rc.RIGHT?document.body.classList.add(IE):document.body.classList.remove(IE)})}componentWillReceiveProps(e){this.props.hasAttachmentPreview===e.hasAttachmentPreview&&this.props.previewPaneSetting===e.previewPaneSetting||this._updateAppMinWidth(e)}componentDidMount(){const e=document.querySelectorAll("#ybar");this.ybarHeight=e&&e.length&&e[0].clientHeight||0,this._updateAppMinWidth(this.props),this._executeWindowResizingAction(),window.addEventListener("resize",this._executeWindowResizingAction)}componentDidUpdate(){this.props.isWindowResizingDone&&this.context.executeAction(hE)}componentWillUnmount(){this._innerContainer=null,window.removeEventListener("resize",this._executeWindowResizingAction)}render(){const e=this.props,t=e.isSettings,a=e.tmrAtosStatus,n=e.previewPaneSetting===I.Rc.RIGHT,r=this.context.getCss(EE.a,i()({verticalPreviewPane:n},Object(fi.k)(this.context)));return ii.a.createElement("div",{className:r.shadedContainer,"data-test-id":"content-area"},ii.a.createElement("div",{className:r.container,"data-test-id":"content-below-tabs"},t?null:this._renderLeftRail(r),this.props.showLinkedinReauthUpsell&&this._renderCue(I.ub.LINKEDIN_REAUTH_CUE),this.props.showAccountAuthWindow&&ii.a.createElement(qi.a,{import:"../../molecules/account_auth_window",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,549))},_moduleResolver:function(){return 549}}),this.props.showThemesCueV3&&this._renderThemesCueV3(),this.props.showNewUserOnboardingCue&&this._renderNewUserOnboardingCue(),this.props.showAdBlockUpsellCue&&this._renderCue(I.ub.ADBLOCK_UPSELL_CUE),this.props.showRightRailAdFreeUpsellCue&&this._renderCue(I.ub.RIGHT_RAIL_AD_FREE_UPSELL_CUE),this.props.showUpdateWiderMailCue&&this._renderUpdateWiderMailCue(),this.props.showQuotientModal&&this._renderQuotientModal(),this.props.showContextualModal&&this._renderContextualQuotientModal(),this.props.showPartnerReconsentBanner&&this._renderPartnerReconsentBanner(),this.props.showLastPassFreeTrialUpsell&&this._renderLastPassFreeTrialUpsell(),this.props.showMembershipRewardsOnboarding&&a&&a!==I.fe.SUSPENDED&&this._renderMembershipRewardsOnboarding(),ii.a.createElement("div",{className:r.widthRestrictor,ref:e=>{this._innerContainer=e}},ii.a.createElement("div",{className:r.mainContent,"data-yaft-module":"norrin_main","data-test-id":"mail-app-component",id:"mail-app-component"},ii.a.createElement(mE,this.props)),t?null:this._renderRightRail())))}}ot()(CE,"contextTypes",{executeAction:ni.a.func,intl:mi.intlShape.isRequired,getCss:ni.a.func,config:ni.a.object,getThemeMode:ni.a.func,getTheme:ni.a.func});var fE=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.isFeatureEnabled,a=t.getSetting,n=t.getWindowDimensions,r=t.isWindowResizingDone,i=t.getRoute,o=t.getRouteParams,c=t.getLaunchError,d=t.getSortOrderForFolderRoute,l=t.getSelectedAccountId,u=t.getAccountNameByAccountId,_=t.getSocialAccountSelectors,m=t.getRetailersSelectors,p=t.getMembershipRewardsSelectors,h=a(I.zd.PREVIEW_PANE),g=c(),E=i(),S=o(),C=Object(eo.w)(E),f=s(I.zd.HIDE_AD),T=s("attachmentPreview"),A=s("photoThemes"),b=a(I.zd.PARTNER_BRAND),O=T&&S.attachmentId&&"1"!==E.query.fullscreen,R=u(l()),N=a(I.ub.MSG_QUOTIENT_MODAL),M=(0,m().getTopNPersonalizedStores)(1),D=s(I.ub.QUOTIENT_CONTEXTUAL_CUE)&&s(I.ub.MSG_READ_CONTEXTUAL_QUOTIENT_MODAL);let y="",L="";M.length&&(y=M[0].id);return N?(L=N.parentName,y=N.retailerId):D&&(y=a(I.ub.MSG_READ_CONTEXTUAL_QUOTIENT_MODAL)),{listId:C,previewPaneSetting:h,windowDimensions:n(),isWindowResizingDone:r(),folderListSortOrder:d(),isSettings:E.name===I.gd.SETTINGS,hideAdUpsellSetting:f,hasAttachmentPreview:O,photoThemes:A,partnerBrand:b,userDisplayName:R,launchError:g,showNewUserOnboardingCue:s(I.ub.NEW_USER_ONBOARDING_CUE),showThemesCueV3:s(I.ub.THEMES_CUE_V3),showUpdateWiderMailCue:s(I.ub.UPDATE_WIDER_MAIL_CUE),showAdBlockUpsellCue:s(I.ub.ADBLOCK_UPSELL_CUE),showRightRailAdFreeUpsellCue:s(I.ub.RIGHT_RAIL_AD_FREE_UPSELL_CUE),showPartnerReconsentBanner:s(I.ub.PARTNER_RECONSENT_BANNER),showLastPassFreeTrialUpsell:s(I.ub.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)&&s(I.ub.LASTPASS_FREETRIAL_UPSELL),hasAds:s(I.ub.ADS),hasWideLogo:s(I.zd.HAS_WIDE_LOGO),showLinkedinReauthUpsell:s(I.ub.LINKEDIN_REAUTH_CUE),showAccountAuthWindow:_().showAuthWindow(),showQuotientModal:N,retailerId:y,showContextualModal:D,parentName:L,showMembershipRewardsOnboarding:s(I.ub.TMR_ONBOARDING_CUE),tmrAtosStatus:p().getAtosStatus()}})(CE);function TE(e,{listId:t}){e.dispatch(go.rb,{listId:t})}var AE=s(259);function bE(e){return{timestamp:1e3*e.headers.date,id:e.id,folderId:e.folder.id}}function OE(e){return{titleFormatOptions:function(e){return{newMessageCount:e.length}}(e),bodyFormatOptions:function(e){const t=function(e){return gs()(e.map(RE))}(e),s={senderCount:t.length};t.length>=1&&(s.senderOne=t[0]);t.length>=2&&(s.senderTwo=t[1]);t.length>=3&&(s.senderThree=t[2]);t.length>3&&(s.remainingSenderCount=t.length-3);return s}(e)}}function RE(e){const t=e.headers.from[0]||{};return t.name||t.email||""}class NE extends ii.a.Component{constructor(...e){super(...e),ot()(this,"_displayNotification",({title:e,options:t,onClick:s})=>{const a=new window.Notification(e,t);s&&a.addEventListener("click",s)})}componentDidMount(){const e=this.props.notification;this._displayNotification({title:e.title,options:e.options,onClick:e.onClick})}render(){return null}}ot()(NE,"contextTypes",{config:ni.a.object});var ME=NE;const DE="https://s.yimg.com/nq/a/img/desktop-notification-mail-100x100_1.png",yE=Object(mi.defineMessages)({summaryNotificationTitle:{id:"summary_notification_title",defaultMessage:"You have {newMessageCount, number} new messages"},summaryNotificationBody:{id:"summary_notification_body",defaultMessage:"From {senderCount, plural, =1 {{senderOne}} =2 {{senderOne} and {senderTwo}} =3 {{senderOne}, {senderTwo}, and {senderThree}} other {{senderOne}, {senderTwo}, {senderThree}, and {remainingSenderCount} more}}"},singleNotificationMissingSubject:{id:"single_notification_missing_subject",defaultMessage:"No Subject"}});class LE extends ii.a.Component{constructor(...e){super(...e),ot()(this,"_transformMessageGroupsToNotifications",e=>{const t=this._filterSystemFolders(e),s=this._filterMessageGroups(t);return 0===s.length?[]:s.length>1?[this._generateSummaryNotification(s)]:this._generateSingleNotifications(s)}),ot()(this,"_filterMessageGroups",e=>this.props.peopleNotifications?e.filter(e=>(function(e){return"P"===e.classification})(e.messages[e.messages.length-1])):e),ot()(this,"_filterSystemFolders",e=>e.filter(e=>{const t=e.messages[e.messages.length-1];return!t.folder.isSystem||Object(At.o)(t.folder)===I.Cb.INBOX})),ot()(this,"_generateSummaryNotification",e=>{const t=this.context.intl.formatMessage,s=e.map(e=>e.messages[e.messages.length-1]),a=OE(s),n=a.bodyFormatOptions,r=t(yE.summaryNotificationTitle,a.titleFormatOptions),i=t(yE.summaryNotificationBody,n),o=this._getSummaryNotificationIcon(),c=bE(s[0]);return this._transformNotification({title:r,body:i,icon:o,timestamp:c.timestamp,id:c.id,folderId:c.folderId})}),ot()(this,"_generateSingleNotifications",e=>{const t=this.context.intl.formatMessage;return e.map(e=>{const s=e.messages[e.messages.length-1],a=function(e){return RE(e)}(s),n=function(e){return e.headers.subject}(s)||t(yE.singleNotificationMissingSubject),r=this._getSingleNotificationIcon(s),i=bE(s);return this._transformNotification({title:a,body:n,icon:r,timestamp:i.timestamp,id:i.id,folderId:i.folderId,groupId:e.id})})}),ot()(this,"_transformNotification",({title:e,body:t,icon:s,timestamp:a,id:n,folderId:r,groupId:i})=>({title:e,options:{body:t,icon:s,lang:this.context.intl.locale,timestamp:a,tag:n},onClick:this._getClickHandler({folderId:r,groupId:i})})),ot()(this,"_getSummaryNotificationIcon",()=>DE),ot()(this,"_getSingleNotificationIcon",e=>{const t={email:e.headers.from.length?e.headers.from[0].email:""};return Object(AE.a)(t,"160",DE)}),ot()(this,"_getClickHandler",({folderId:e,groupId:t})=>s=>{s.preventDefault(),s.target.close(),window.focus(),this.context.navigateTo({route:t?Object(Qi.q)(Object(eo.v)(e),t):Object(Qi.l)(e)})})}componentDidMount(){this.context.executeAction(TE,{listId:this.props.listId})}render(){const e=this._transformMessageGroupsToNotifications(this.props.messageGroups);return ii.a.createElement("div",null,e.map(e=>ii.a.createElement(ME,{key:e.options.tag,notification:e})))}}ot()(LE,"contextTypes",{intl:mi.intlShape,config:ni.a.object,executeAction:ni.a.func,navigateTo:ni.a.func});var vE=LE;class PE extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{hasPermission:!1}),ot()(this,"requestPersmission",()=>{window.Notification.requestPermission(e=>{"granted"===e&&this.setState({hasPermission:!0})})})}componentDidMount(){this._allItemsNotSeen=[],window.Notification&&this.requestPersmission()}componentDidUpdate(){this.props.isAppVisible&&(this._allItemsNotSeen=[])}render(){const e=this.props,t=e.items,s=e.listContentType,a=e.listId,n=e.peopleNotifications;return 0!==t.length&&this.state.hasPermission&&!e.isAppVisible&&this.context.isLatestWindow()?(s===I.Pb.MESSAGES&&(this._allItemsNotSeen=[...this._allItemsNotSeen,...t]),ii.a.createElement("div",null,s===I.Pb.MESSAGES?ii.a.createElement(vE,{peopleNotifications:n,messageGroups:this._allItemsNotSeen,listId:a}):null)):null}}ot()(PE,"contextTypes",{config:ni.a.object,isLatestWindow:ni.a.func.isRequired}),ot()(PE,"defaultProps",{items:[]});var FE=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getActionTimeStamp,a=t.getApplicationLastVisibleTimeStamp,n=t.isAppVisible,r=t.doesListExist,o=t.getMessageListItemsSinceTimestamp,c=t.__patchV2MessageGroupItem__,d=t.isFeatureEnabled,l=(0,t.getCurrentListId)(),u=Object(eo.t)(l),_=n()?s():a(),m=r(l)?o(l,_):[],p=d("peopleNotifications"),h=m.map(e=>c(e,l));return i()({},h.length?{items:h}:{},{listContentType:u,listId:l,isAppVisible:n(),peopleNotifications:p})})(PE),wE=s(253),kE=s.n(wE),xE=s(104);const UE="SUBSCRIPTION_IDS",GE="SUBSCRIPTION_TIMESTAMP",jE=Object(mi.defineMessages)({mark_as_read:{id:"read_icon_label",defaultMessage:"Mark as read"},delete:{id:"delete_icon_label",defaultMessage:"Delete"}});class HE extends ii.a.Component{constructor(...e){super(...e),ot()(this,"_ensurePushIsSubscribed",()=>{const e=this.props,t=e.forceSync,s=e.subscriptionIds,a=e.subscriptionIdsString,n=e.disablePushNotifications,r=e.onGrantedPermissions,o=Object(T_.a)(UE),c=parseInt(Object(T_.a)(GE),10)||0;let d=c;Object(xE.c)(t);let l="";const u=Object(xE.d)();return Object(xE.f)().then(e=>{if(!(e&&a===o&&kE()(new Date,c)<=15))return e?(l=xE.b.RENEW,d=Date.now(),Object(xE.h)().then(()=>Object(xE.g)(s))):(l=xE.b.SUBSCRIBE,d=Date.now(),Object(xE.g)(s))}).then(()=>Object(T_.b)(UE,a)).then(()=>Object(T_.b)(GE,d.toString())).then(()=>{const e=this.context.intl,t={actionStrings:Object.keys(jE).reduce((t,s)=>i()({},t,{[s]:e.formatMessage(jE[s])}),{})};Object(xE.i)(t),u===xE.a.DEFAULT&&r()}).catch(()=>{const e={scenario:l};Object(xE.d)()===xE.a.DENIED&&(e.i13nModel={mKey:Gi.e.PUSH_NOTIFICATIONS_REQUEST_REJECTED,sec:Gi.g.NOTIFICATION_ACTION}),n(e)})})}componentDidMount(){this.props.notificationsEnabled?this._ensurePushIsSubscribed():Object(xE.h)()}componentDidUpdate(e){const t=this.props,s=t.notificationsEnabled,a=t.subscriptionIdsString;!s&&e.notificationsEnabled?Object(xE.h)():!s||e.notificationsEnabled&&a===e.subscriptionIdsString||this._ensurePushIsSubscribed()}render(){return null}}ot()(HE,"contextTypes",{intl:mi.intlShape.isRequired});var BE=Object(oi.connect)(e=>{const t=(0,Object($i.b)(e).getAccountSelectors)().getAccountSubscriptionIds();return{subscriptionIds:t,subscriptionIdsString:t.sort().join(",")}},e=>({forceSync:()=>e(Object(Ti.o)({forceSync:!0})),disablePushNotifications:t=>e(i()({type:go.ff,name:I.ub.PUSH_NOTIFICATIONS},t)),onGrantedPermissions:()=>e({type:go.hi,i13nModel:{mKey:Gi.e.PUSH_NOTIFICATIONS_REQUEST_GRANTED,sec:Gi.g.NOTIFICATION_ACTION}})}))(HE);var VE=Object(oi.connect)(e=>{const t=(0,Object($i.b)(e).getFeaturesSelectors)();return{notificationsEnabled:t.getSetting(I.zd.NOTIFICATION),notificationMode:t.getSetting(I.zd.NOTIFICATION_MODE)}})(class extends ii.a.Component{render(){const e=this.props,t=e.notificationsEnabled,s=e.notificationMode;return s===I.Cc.PUSH?ii.a.createElement(BE,{notificationsEnabled:t}):s===I.Cc.BROWSER&&t?ii.a.createElement(FE,null):null}});const WE=9e3,qE=Object(Om.a)("/html/status.html");var zE={STATUS_PAGE_URL:qE,ping:function(){return new L.b("HEAD",qE,{timeout:WE}).send()}};const KE=1e4;var ZE=Object(oi.connect)(e=>({isEnabled:Object($i.b)(e).isFeatureEnabled(I.ub.OFFLINE_CHECKING)}),e=>({onChange:t=>e((({online:e})=>(t,s)=>{const a=Object($i.b)(s()),n=a.isFeatureEnabled;(0,a.isOnline)()!==e&&t({type:go.Kh,online:e,rotateAdsOnline:n(I.ub.ROTATE_ADS_ONLINE)})})(t))}))(class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{checking:!1}),ot()(this,"handleOfflineEvent",()=>{this.state.checking&&this.stopChecking(),this.setOffline()}),ot()(this,"handleOnlineEvent",()=>{this.state.checking?this.check():this.startChecking()}),ot()(this,"handleNetworkRequestFailure",e=>{e.url!==zE.STATUS_PAGE_URL&&this.startChecking()}),ot()(this,"handleNetworkRequestSuccess",()=>{this.state.checking&&(this.stopChecking(),this.setOnline())}),ot()(this,"check",()=>{navigator&&void 0!==navigator.onLine&&!1===navigator.onLine||zE.ping().then(()=>{this.stopChecking(),this.setOnline()},()=>{this.state.checking&&(this.setOffline(),setTimeout(this.check,KE))})}),ot()(this,"startChecking",()=>{this.state.checking||(this.setState({checking:!0}),this.check())}),ot()(this,"stopChecking",()=>{this.setState({checking:!1})}),ot()(this,"setOnline",()=>{this.props.onChange({online:!0})}),ot()(this,"setOffline",()=>{this.props.onChange({online:!1})})}componentDidMount(){this.props.isEnabled&&(window.addEventListener("offline",this.handleOfflineEvent),window.addEventListener("online",this.handleOnlineEvent),L.b.on("error",this.handleNetworkRequestFailure),L.b.on("success",this.handleNetworkRequestSuccess))}componentWillUnmount(){window.removeEventListener("offline",this.handleOfflineEvent),window.removeEventListener("online",this.handleOnlineEvent),L.b.off("error",this.handleNetworkRequestFailure),L.b.off("success",this.handleNetworkRequestSuccess)}render(){return null}}),YE=s(292),XE=s(75),QE=s(347);let $E=!1;const JE="https://s.yimg.com/av/curveball/ads/pr/RESIZE/82x82/e0c798d5985f074be65e92bcccdb8456.jpeg",eI="https://mail.yahoo.com/px.gif?ch=1",tI="https://mail.yahoo.com/px.gif?ch=2",sI="http://app-ads-preview.production.omega.gq1.yahoo.com:4080/api/v1/ad-preview?",aI=Le.a.create("norrin/darla"),nI="meta.y.slotData.trusted_custom",rI=["LREC","MON","LREC4"],iI=Object(mi.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},upsell_message_caption:{id:"ad.upsell_message_caption",defaultMessage:"Want an ad-free inbox? Upgrade to {YahooMailProBrand}."}});class oI extends ii.a.Component{constructor(...e){super(...e),ot()(this,"updateAds",(e,t)=>{e.forEach(e=>{const s=document.querySelector(`#slot_${e}`);s&&(-1===t.indexOf(e)?s.classList.add("rail_ad_hidden"):s.classList.remove("rail_ad_hidden"))})}),ot()(this,"fetchCurveBallImage",()=>new L.b("GET",JE).send()),ot()(this,"detectABP",()=>new Promise(e=>{let t=null,s=null;const a=new Image,n=new Image;a.onload=()=>{t=!0,null!==s&&!1===s&&(this.props.abpDetected(),e(!0))},a.onerror=()=>e(!1),n.onload=()=>e(!1),n.onerror=()=>{s=!1,null!==t&&!0===t&&(this.props.abpDetected(),e(!0))},a.src=eI,n.src=tI})),ot()(this,"_onSuccess",(e,t)=>{const s=window.DARLA,a=this.props,n=a.spaceId,r=a.rootSpaceId,i=a.darlaLookAhead,o=a.lrecMonAdArbitration&&t.filter(e=>rI.indexOf(e)>-1);if(o&&o.length&&this.updateAds(rI,o),this.allPosRenderLogger&&this.allPosRenderLogger.logSuccessAndLatency(),this.posRenderLoggers={},this.renderedPositions&&this.renderedPositions.length&&this._executeDarlaAdHandlerAction({spaceId:n.toString(),positions:this.renderedPositions}),i){s.prefetched().length&&s.render(),s.add("prefetch",{name:"prefetch",ps:this.context.getAdPositions().darla.join(","),sp:r,npv:1,ssl:1}),s.prefetch("prefetch")}}),ot()(this,"_onStartParse",()=>{const e=this.context.getAdPositions().darla.join(",");this.parseLogger=aI.feature("darla_ad_parse",{adPositions:e,intl:this.context.region})}),ot()(this,"_onFinishParse",(e,t)=>{if(!t)return this.parseLogger.logFailure(),void this._executeDarlaAdHandlerAction({error:"Missing ad details"});this.parseLogger.logSuccessAndLatency();const s=this.props.lrecMonAdArbitration,a=t.ps();let n=[];s&&a.find(e=>{const s=Object(b.a)(t.item(e),"meta.y.facStatus.exclusionStatus.winners.0.positions","");return s&&(n=s.split(",")),s}),a.forEach(e=>{const a=t.item(e)||{},r=a.bookID,i=a.adID,o=a.creativeID,c=a.placementID,d=a.hasErr;if(s&&d&&n.length&&!n.includes(e))return;const l=aI.feature("darla_ad_call",{adPosition:e,bookId:r,adId:i,creativeId:o,placementId:c,intl:this.context.region});d?l.logFailure():l.logSuccessAndLatency()})}),ot()(this,"_onStartRequest",()=>{const e=this.context.getAdPositions().darla.join(",");this.fetchLogger=aI.feature("darla_ad_fetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region})}),ot()(this,"_onFinishRequest",()=>{this.fetchLogger.logSuccessAndLatency()}),ot()(this,"_onRequestTimeout",()=>{this.fetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:"Request timeout"})}),ot()(this,"_onStartPrefetchRequest",()=>{const e=this.context.getAdPositions().darla.join(",");this.prefetchLogger=aI.feature("darla_ad_prefetch_call",{adPositions:e,rotationActionType:this.props.actionType,intl:this.context.region})}),ot()(this,"_onFinishPrefetchRequest",(e,t)=>{200===t?this.prefetchLogger.logSuccessAndLatency():(this.prefetchLogger.logFailure(),this._executeDarlaAdHandlerAction({error:`Prefetch request error: ${t}`}))}),ot()(this,"_onBeforeStartPosRender",e=>{if(this.props.premiumAdDetection){const t=window.DARLA,s="true"===Object(b.a)(e,nI),a=e.pos,n=t.render.RenderMgr.get(a),r="true"===Object(b.a)(n,nI);if(r&&s)return this.props.adRotationSkipped({i13nModel:{isBeaconEvent:!0,eventName:Gi.a.AD_ROTATION_SKIPPED,pos:a}}),!0;!r&&s?this.props.premiumAdStarted({i13nModel:{isBeaconEvent:!0,eventName:Gi.a.PREMIUM_AD_STARTED,pos:a}}):r&&!s&&this.props.premiumAdStopped({i13nModel:{isBeaconEvent:!0,eventName:Gi.a.PREMIUM_AD_STOPPED,pos:a}})}}),ot()(this,"_onStartPosRender",e=>{const t=e.pos;this.posRenderLoggers[t]=aI.feature("darla_ad_pos_render",{adPosition:t,intl:this.context.region})}),ot()(this,"getAdDebugUrl",(e="")=>{const t={DspId:"adSourceId",SeatId:"buyerId",DspCrId:"buyerCreativeId"};let s=sI;const a=e.match(/Oath SSP BannerAd (.*?) -->/),n=a?a[1]:null,r=[];return n?(n.split(", ").forEach(e=>{const s=e.split(":");t[s[0]]&&r.push(`${t[s[0]]}=${s[1]}`)}),s+=r.join("&")):""}),ot()(this,"_onFinishPosRender",(e,t,s)=>{const a=this.posRenderLoggers[e];this.renderedPositions&&this.renderedPositions.push({bookId:s.bookID,position:s.pos,debugUrl:this.getAdDebugUrl(s.html)}),a&&a.logSuccessAndLatency()}),ot()(this,"_onRenderTimeout",()=>{Object.keys(this.posRenderLoggers).forEach(e=>{this.posRenderLoggers[e].logFailure()})}),ot()(this,"_executeDarlaAdHandlerAction",e=>{this._darlaHandlerTimer=setTimeout(()=>{this.props.darlaAdHandler(e||{spaceId:"",positions:[]})},0)}),ot()(this,"_startMessageReadAdRotation",()=>{if(this.props.ABPStaticAds)return;const e=this.props,t=e.messageReadAdRotationInterval;e.messageReadAdRotationV1&&(this._stopMessageReadAdRotation(),this._messageReadAdRotationTimer=setTimeout(this._messageReadAdRotationCallback,t))}),ot()(this,"_messageReadAdRotationCallback",()=>{const e=this.props,t=e.messageReadAdRotationTimestampV1,s=e.messageReadAdRotationIdleInterval;e.messageReadAdRotationV2?(this._messageReadAdRotationTimeToIdle-=this.props.messageReadAdRotationInterval,this._messageReadAdRotationTimeToIdle>0&&this.props.messageReadAdRotationTimer()):Date.now()<=t+s&&(this.props.messageReadAdRotationTimer(),this._startMessageReadAdRotation())}),ot()(this,"_stopMessageReadAdRotation",()=>{clearTimeout(this._messageReadAdRotationTimer),this._messageReadAdRotationTimer=null}),ot()(this,"_connectToWiderMailExtension",()=>{const e=location.pathname,t=new RegExp(`^(${I.oe})/test`);let s=[];if(t.test(e)||"undefined"==typeof chrome||void 0===chrome.runtime||void 0===chrome.runtime.connect)return;const a=this.props,n=a.disableWiderMailExtension;a.chromeExtensionWhitelist.forEach(e=>{const t=chrome.runtime.connect(e);t&&s.push(t),t.onDisconnect.addListener(e=>{0===(s=s.filter(t=>t!==e)).length&&n()})})}),ot()(this,"updateAdblockUiId",()=>{const e=this.props,t=e.adblockPreviousUi;let s=1;t<I.o.length&&(s=t+1),(0,e.adblockUIUpdate)({uiId:s,i13nModel:{mKey:Gi.e.ADBLOCK_UI_UPDATE,sec:Gi.g.FEATURE_CUE,actionData:{uiId:s}}})}),ot()(this,"dispatchAdBlockDetected",(e="")=>{const t=this.props,s=t.isMailPro,a=t.adblockDetected,n={adBlockCoupons:t.shouldShowAdBlockCoupons};e&&(n.errorCode=e),a({mKey:Gi.e.ADBLOCK_DETECTED,sec:Gi.g.FEATURE_CUE,actionData:n}),this.props.adblockUpsellCue&&!s&&this.updateAdblockUiId()})}componentWillUpdate(e){const t=this.props,s=t.isMessageReadAdRotationActive,a=t.adRotationId,n=t.messageReadAdRotationIdleInterval,r=t.messageReadAdRotationTimestampV1,i=t.messageReadAdRotationV1,o=a!==e.adRotationId&&e.adRotationId-a>t.timeToWaitSinceLastAdCall,c=t.messageReadAdRotationTimestampV2!==e.messageReadAdRotationTimestampV2;t.messageReadAdRotationV2?s&&!e.isMessageReadAdRotationActive?this._stopMessageReadAdRotation():!e.isMessageReadAdRotationActive||s&&!o||(this._messageReadAdRotationTimeToIdle=c?this._messageReadAdRotationTimeToIdle:n,this._startMessageReadAdRotation()):i&&(r&&!e.messageReadAdRotationTimestampV1?this._stopMessageReadAdRotation():r!==e.messageReadAdRotationTimestampV1&&this._startMessageReadAdRotation())}componentDidMount(){const e=this.props.isAdBlocked;this._messageReadAdRotationTimer=null,this.fetchLogger=null,this.prefetchLogger=null,this.parseLogger=null,this.allPosRenderLogger=null,this.reconfigLogger=null,this.posRenderLoggers={},this.renderedPositions=[],this.props.isWiderMailExtnEnabled?this._connectToWiderMailExtension():this.detectABP().then(t=>{e||t||(this._detectAdblockTimer=setTimeout(()=>{!window.DARLA&&this.props.hasGeminiError?this.dispatchAdBlockDetected():this.props.hasGeminiError&&this.fetchCurveBallImage().catch(e=>{this.dispatchAdBlockDetected(e.errorCode)})},2e4))})}componentDidUpdate(e){const t=this.props,s=t.spaceId,a=t.spaceIds,n=t.route,r=t.debugDarla,i=t.darlaLookAhead,o=t.darlaPrefetch,c=t.darlaPrefetchLaunchSyncer,d=t.nukeDisplayAdsOnInactive,l=t.mailProEligible,u=t.timeToWaitSinceLastAdCall,_=t.adFeedbackStarted,m=t.adRotationId,p=t.abortDarlaInProgress,h=t.darlaHostname;if(!this.props.hasAds)return;const g=this.context.getAdPositions();if(d&&!e.nukeDisplayAdsOnInactive&&window.DARLA&&Object(b.a)(window.DARLA,"render.RenderMgr")){const e=window.DARLA,t=g.darla.some(t=>{const s=e.render.RenderMgr.get(t);return s&&"true"===Object(b.a)(s,nI)});e&&"function"==typeof e.inProgress&&!e.inProgress()&&!t&&Object(b.a)(e,"render.RenderMgr.nuke",!1)&&e.render.RenderMgr.nuke()}else if((m!==e.adRotationId&&m-e.adRotationId>u||s!==e.spaceId)&&!_&&0!==g.darla.length&&!this.props.isWiderMailExtnEnabled)if($E){if(window.DARLA){const e=window.DARLA;if(!(e.inProgress&&e.abort&&e.config&&e.addPos&&e.add&&e.render&&e.event))return;if(e.inProgress()){if(!p)return;e.abort()}if(document.activeElement){const e=document.activeElement,t=e.id;if("TEXTAREA"===e.tagName.toUpperCase()&&(-1!==t.indexOf("LREC")||-1!==t.indexOf("SKY")))return}this.renderedPositions=[],e.add("rotate",{name:"rotate",ps:g.darla.join(","),sp:s,npv:1,ssl:1}),this.props.darlaPostRender?setTimeout(this.rotateAds.bind(this,g),0):this.rotateAds(g)}}else{const e=this.context.intl.formatMessage,t={CTTRate:100,upsell:l,upsellMsg:e(iI.upsell_message_caption,{YahooMailProBrand:e(iI.yahoo_mail_pro_branding)}),onStartRequest:this._onStartRequest,onFinishRequest:this._onFinishRequest,onStartPrefetchRequest:this._onStartPrefetchRequest,onFinishPrefetchRequest:this._onFinishPrefetchRequest,onStartParse:this._onStartParse,onFinishParse:this._onFinishParse,onStartPosRender:this._onStartPosRender,onFinishPosRender:this._onFinishPosRender,onRenderTimeout:this._onRenderTimeout,onRequestTimeout:this._onRequestTimeout,onSuccess:this._onSuccess,onBeforeStartPosRender:this._onBeforeStartPosRender,tpbURI:Object(XE.f)(this.context.region),d:r?1:0,debug:r?1:0,servicePath:`https://${h}/sdarla/php/fc.php`,events:{DEFAULT:{ref:Object(XE.c)(window.location.hostname,n)}}};if(window.DARLA){const e=window.DARLA.config,s=e(Object.assign({},e(),t));this._darlaRenderTimer=setTimeout(()=>{window.DARLA.render()},0),this.reconfigLogger=aI.feature("darla_ad_reconfig",{adPositions:g.darla.join(","),intl:this.context.region,darlaLookAhead:i,darlaPrefetch:o,darlaPrefetchLaunchSyncer:c}),"OK"===s?this.reconfigLogger.logSuccess():this.reconfigLogger.logFailure({status:s,actionInProgress:"FAIL--522"===s?window.DARLA.inProgress():null})}else if(window.DARLA_CONFIG&&!1===window.DARLA_CONFIG.auto_render)window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t,{auto_render:!0});else{const e=this.context.locale.name||"en-US";let s=`${`https://${h}/sdarla/php/client.php`}?f=${Object(XE.e)(a,n.name)}&l=${g.darla.join(",")}&npv=1&ssl=1&lang=${e}`;window.DARLA_CONFIG||(window.DARLA_CONFIG=Object.assign({},Ym,{lang:e})),window.DARLA_CONFIG=Object.assign(window.DARLA_CONFIG||{},t);const i=Object(b.a)(window,"DARLA_CONFIG.events.DEFAULT.ref",!1);i&&(s+="&ref="+encodeURIComponent(i)),r&&(s+="&debug=1&d=1"),YE.a.loadScript(s)}$E=!0}}rotateAds(e){const t=window.DARLA,s=this.props.darlaLookAhead,a=t.prefetched(),n=!(!s||!a.length);if(this.allPosRenderLogger=aI.feature("darla_ad_all_pos_render",{adPositions:e.darla.join(","),intl:this.context.region,renderFromCache:n}),n){e.darla.every(e=>-1!==a.indexOf(e))?t.render():t.event("rotate")}else t.event("rotate")}componentWillUnmount(){this._detectAdblockTimer&&clearTimeout(this._detectAdblockTimer),this._darlaRenderTimer&&clearTimeout(this._darlaRenderTimer),this._darlaHandlerTimer&&clearTimeout(this._darlaHandlerTimer)}render(){return null}}ot()(oI,"contextTypes",{getAdPositions:ni.a.func,config:ni.a.object,region:ni.a.string,locale:ni.a.object,intl:mi.intlShape.isRequired});var cI=Object(oi.connect)(e=>{const t=Object($i.b)(e),s=t.getAdsSelectors,a=t.getCurrentSpaceId,n=t.getRoute,r=t.isMessageReadAdRotationActive,i=t.getAction,o=t.shouldShowAdBlockCoupons,c=(0,t.getFeaturesSelectors)(),d=c.getSetting,l=c.isEnabled,u=s(),_=u.getAdRotationId,m=u.getFeedbackStartedSectionIds,p=u.hasGeminiError,h=u.isAdBlocked,g=u.getMessageReadAdRotationTimestampV2;return{messageReadAdRotationTimestampV1:(0,u.getMessageReadAdRotationTimestamp)(),messageReadAdRotationTimestampV2:g(),adRotationId:_(),adFeedbackStarted:m().length>0,hasAds:l(I.ub.ADS),darlaLookAhead:l(I.ub.DARLA_LOOKAHEAD),darlaPrefetch:l(I.ub.DARLA_PREFETCH),darlaPrefetchLaunchSyncer:l(I.ub.DARLA_PREFETCH_LAUNCH_SYNCER),debugDarla:l(I.ub.DEBUG_DARLA),route:n(),spaceId:a(),spaceIds:d(I.zd.SPACE_IDS),rootSpaceId:d(I.zd.SPACE_IDS).root,messageReadAdRotationV1:l(I.ub.MESSAGE_READ_AD_ROTATION),lrecMonAdArbitration:l(I.ub.LREC_MON_AD_ARBITRATION),messageReadAdRotationInterval:d(I.zd.MESSAGE_READ_AD_ROTATION_INTERVAL),messageReadAdRotationIdleInterval:d(I.zd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),isWiderMailExtnEnabled:l(I.ub.IS_WIDER_MAIL_EXTN_ENABLED),nukeDisplayAdsOnInactive:l(I.ub.NUKE_DISPLAY_ADS_ON_INACTIVE),mailProEligible:l(I.ub.MAIL_PRO_ELIGIBLE),premiumAdDetection:l(I.ub.PREMIUM_AD_DETECTION),timeToWaitSinceLastAdCall:d(I.zd.TIME_TO_WAIT_SINCE_LAST_AD_CALL),chromeExtensionWhitelist:d(I.zd.CHROME_EXTENSION_WHITELIST),abortDarlaInProgress:l(I.ub.ABORT_DARLA_IN_PROGRESS),hasGeminiError:p(),isAdBlocked:h(),messageReadAdRotationV2:l(I.ub.MESSAGE_READ_AD_ROTATION_V2),isMessageReadAdRotationActive:r(),actionType:i().type,adblockUpsellCue:l(I.ub.ADBLOCK_UPSELL_CUE),adblockPreviousUi:d(I.zd.AD_BLOCK_FEATURE_CUE_ID),isMailPro:l(I.ub.MAIL_PRO),darlaPostRender:l(I.ub.DARLA_POST_RENDER),shouldShowAdBlockCoupons:o(!0),darlaHostname:d(I.zd.DARLA_HOSTNAME),ABPStaticAds:l(I.ub.ABP_STATIC_ADS)}},e=>({darlaAdHandler:t=>e(Object(im.d)(t)),messageReadAdRotationTimer:()=>e(Object(im.m)()),disableWiderMailExtension:()=>e(Object(im.e)()),adRotationSkipped:t=>e(Object(im.b)(t)),premiumAdStarted:t=>e(Object(im.o)(t)),premiumAdStopped:t=>e(Object(im.p)(t)),adblockDetected:t=>e(Object(QE.b)({i13nModel:t})),adblockUIUpdate:t=>e(Object(QE.c)(t)),abpDetected:t=>e(Object(QE.a)({i13nModel:t}))}))(oI);const dI=Object(mi.defineMessages)({tabs_nav:{id:"landmark.tabs",defaultMessage:"Tabs"},heading_cheatsheet:{id:"keyboardShortcut.heading_cheatsheet",defaultMessage:"Press question mark key to invoke the keyboard shortcuts cheatsheet"}});class lI extends ii.a.Component{constructor(...e){super(...e),ot()(this,"_handleVisibilityChange",e=>{let t;if("blur"===e.type){const e=document.activeElement;if(e&&"iframe"===e.tagName.toLowerCase())return;t=!1}else t="focus"===e.type||"visible"===document.visibilityState;this.context.executeAction(Ki.f,{isVisible:t})}),ot()(this,"getStateFromStores",()=>{const e=Object($i.b)(this.context.store.getState()),t=e.getEnvironmentSelectors,s=e.getAccountById,a=e.getSelectedAccountId,n=(0,e.getFeaturesSelectors)(),r=n.isEnabled("focusBasedVisibilityDetection"),i=n.isEnabled("unsubscribe"),o=n.isEnabled("ybar"),c=n.isEnabled("offlineChecking"),d=n.isEnabled(I.ub.TIMEZONE_CHECK),l=n.isEnabled(I.ub.SMARTVIEW_CATEGORIES_ENABLED),u=n.isEnabled(I.ub.EMPTY_FOLDER_VIDEO),_=n.isEnabled(I.ub.THEMES_CUE_V3),m=n.isEnabled(I.ub.IS_WIDER_MAIL_EXTN_ENABLED),p=n.isEnabled(I.ub.ADS),h=n.isEnabled(I.zd.HAS_WIDE_LOGO),g=n.getSetting("logoUrl"),E="rtl"===t().getPageDirection(),S=s(a()),C=Object(xc.a)(S);return{focusBasedVisibilityDetection:r,unsubscribe:i,ybar:o,offlineChecking:c,timezoneCheck:d,smartViewCategoriesEnabled:l,emptyFolderVideo:u,isThemesCueShown:_,isWiderMailExtnEnabled:m,hasAds:p&&!C,hasWideLogo:h,logoUrl:g,useThirdGenerationLogo:n.isEnabled("useThirdGenerationLogo"),isRTL:E}})}componentDidMount(){const e=this.getStateFromStores().focusBasedVisibilityDetection;window.addEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.addEventListener("blur",this._handleVisibilityChange),window.addEventListener("focus",this._handleVisibilityChange)),this.context.executeAction(Ki.e)}componentWillUnmount(){const e=this.getStateFromStores().focusBasedVisibilityDetection;window.removeEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.removeEventListener("blur",this._handleVisibilityChange),window.removeEventListener("focus",this._handleVisibilityChange))}render(){const e=this.props,t=!!e.multiTaskModeSetting,a=this.context.intl.formatMessage,n=this.getStateFromStores(),r=n.unsubscribe,i=n.ybar,o=n.offlineChecking,c=n.timezoneCheck,d=n.smartViewCategoriesEnabled,l=n.emptyFolderVideo,u=n.isThemesCueShown,_=n.isWiderMailExtnEnabled,m=n.hasAds,p=n.logoUrl,h=n.useThirdGenerationLogo,g=n.isRTL,E=this.context.getCss(C_.a,{tabs:t,ads:m,wideLogo:n.hasWideLogo});return ii.a.createElement(I_.a,{useThirdGenerationLogo:h,logoUrl:p,isRTL:g,className:E.errorContainer},ii.a.createElement(oi.Provider,{store:this.context.store,key:_?"widerMailExtnEnabled":"widerMailExtnDisabled"},ii.a.createElement(rm,{className:E.inputModeWrapper},ii.a.createElement("div",{className:E.bgContainer},ii.a.createElement("div",{id:"app","data-test-id":"mail-app",className:E.container,tabIndex:-1},ii.a.createElement(qi.a,{defer:!0,import:"../../molecules/timezone_check",timezoneCheck:c,_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1156))},_moduleResolver:function(){return 1156}}),m?ii.a.createElement(vd,null):null,ii.a.createElement("section",{className:E.appHeader,role:"banner","data-yaft-module":"norrin_header"},i?ii.a.createElement("div",{className:E.ybar}):ii.a.createElement(E_,null),(t||d)&&ii.a.createElement("div",{className:E.tabWrapper,role:"navigation","aria-label":a(dI.tabs_nav)},ii.a.createElement("div",{className:E.tabSpace},""),ii.a.createElement("div",{className:E.tab},ii.a.createElement(_o,null)))),ii.a.createElement(fE,e),ii.a.createElement(ho,{toastMap:ld}),ii.a.createElement(am,null),ii.a.createElement(mo.a,null),ii.a.createElement(Od,null),ii.a.createElement(VE,null),o&&ii.a.createElement(ZE,null),ii.a.createElement(qi.a,{defer:!0,import:"./controller_views/print.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1207))},_moduleResolver:function(){return 1207}}),ii.a.createElement(qi.a,{defer:!0,import:"./controller_views/heartbeat",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1157))},_moduleResolver:function(){return 1157}}),l&&!u?ii.a.createElement(qi.a,{defer:!0,import:"../../molecules/empty_folder_video",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1212))},_moduleResolver:function(){return 1212}}):null,r&&ii.a.createElement(qi.a,{defer:!0,import:"./controller_views/unsubscribe",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1210))},_moduleResolver:function(){return 1210}}),ii.a.createElement(qi.a,{defer:!0,import:"../../molecules/downloader/index.jsx",_moduleLoader:function(){return Promise.all([s.e(0),s.e(3)]).then(s.bind(null,1220))},_moduleResolver:function(){return 1220}}),m?ii.a.createElement(cI,null):null)),ii.a.createElement("div",{className:E.accessible,role:"heading","aria-label":a(dI.heading_cheatsheet)}))))}}ot()(lI,"contextTypes",{executeAction:ni.a.func,config:ni.a.object,store:ni.a.object,intl:mi.intlShape.isRequired,getCss:ni.a.func});var uI=(e=>(function(e){var t,s;return s=t=class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"_isLatestWindow",()=>{const e=Object(T_.a)(A_);let t=!0;return e&&this._windowId!==parseInt(e.split(",").pop(),10)&&(t=!1),t}),ot()(this,"_getWindowId",()=>this._windowId),ot()(this,"_addNewWindow",()=>{if(this._windowId)return;let e=Object(T_.a)(A_);this._windowId=Math.floor(Date.now()/1e3),e?e+=`,${this._windowId}`:e=this._windowId,Object(T_.b)(A_,e)}),ot()(this,"_removeWindow",()=>{let e=Object(T_.a)(A_);if(!e)return;const t=e.split(",");e=t.filter(e=>this._windowId.toString()!==e).join(","),Object(T_.b)(A_,e)})}getChildContext(){return{getWindowId:this._getWindowId,isLatestWindow:this._isLatestWindow}}componentDidMount(){this._addNewWindow(),window.addEventListener("beforeunload",this._removeWindow)}componentWillUnmount(){this._removeWindow()}render(){return ii.a.createElement(e,this.props)}},ot()(t,"displayName","WindowManager"),ot()(t,"childContextTypes",{getWindowId:ni.a.func,isLatestWindow:ni.a.func}),s})(e))(f_.a(((e,{toastWrapper:t})=>{class s extends ri.Component{constructor(e,t){super(e);const s=(0,Object($i.b)(t.store.getState()).getFeaturesSelectors)();this.showToast=this.showToast.bind(this),this.closeToast=this.closeToast.bind(this),this.clearToastTimeoutHandler=this.clearToastTimeoutHandler.bind(this),this.resumeToast=this.resumeToast.bind(this),this.getRole=this.getRole.bind(this),this.notificationTTL=s.getSetting("notificationTTL")||5e3,this.toastTimeoutHandler=null}getChildContext(){return{toast:this.showToast}}getRole(e){return e.requireInteraction?I.Ec.ALERT_DIALOG:e.type===I.Fc.NORMAL?I.Ec.STATUS:I.Ec.ALERT}renderToastWrapperSubtree({toast:e,role:s}){_i.a.unstable_renderSubtreeIntoContainer(this,ii.a.createElement(t,{toast:e,role:s,onClose:this.closeToast,onPause:this.clearToastTimeoutHandler,onResume:this.resumeToast}),this.toastContainerNode)}showToast(e){Object(A.b)()&&(this.lastToast&&Object(b.a)(e,"priority",I.Dc.LOW)<Object(b.a)(this.lastToast,"priority",I.Dc.LOW)||(this.clearToastTimeoutHandler(),this.lastToast=e,this.renderToastWrapperSubtree({toast:e,role:this.getRole(e)}),e.requireInteraction||(this.toastTimeoutHandler=setTimeout(this.closeToast,this.notificationTTL))))}closeToast(){this.lastToast&&(this.renderToastWrapperSubtree({toast:null,role:this.getRole(this.lastToast)}),delete this.lastToast),this.clearToastTimeoutHandler()}clearToastTimeoutHandler(){this.toastTimeoutHandler&&clearTimeout(this.toastTimeoutHandler)}resumeToast(){this.toastTimeoutHandler=setTimeout(()=>this.closeToast(),this.notificationTTL)}componentDidMount(){this.toastContainerNode=document.createElement("div");const e=document.getElementById("app");e&&(e.appendChild(this.toastContainerNode),this.renderToastWrapperSubtree({toast:null,role:I.Ec.STATUS}))}componentWillUnmount(){this.closeToast()}render(){return ii.a.createElement(e,this.props)}}return s.contextTypes={store:ni.a.object},s.childContextTypes={toast:ni.a.func},s})(function(e){var t,s;return s=t=class extends ii.a.Component{constructor(...e){super(...e),ot()(this,"adPositions",{darla:[],pencil:[]})}getChildContext(){return{registerAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=gs()(this.adPositions.darla.concat(e))),t&&(this.adPositions.pencil=gs()(this.adPositions.pencil.concat(t)))},removeAdPosition:({darlaPos:e,pencilPos:t})=>{e&&(this.adPositions.darla=this.adPositions.darla.filter(t=>t!==e)),t&&(this.adPositions.pencil=this.adPositions.pencil.filter(e=>e!==t))},getAdPositions:()=>this.adPositions}}render(){return ii.a.createElement(e,this.props)}},ot()(t,"childContextTypes",{registerAdPosition:ni.a.func,removeAdPosition:ni.a.func,getAdPositions:ni.a.func}),s}(Object(Rd.a)(lI)),{appName:I.t.MAIL_APP,toastWrapper:Sd})));f_.a(lI);var _I=s(156),mI=s(843),pI=s.n(mI),hI=s(617),gI=s(846),EI=s.n(gI);const II=Object(Om.a)("/img/festive_graphic.png"),SI=xi()(EI.a),CI=[I.ob.GOOGLE,I.ob.OUTLOOK,I.ob.AOL],fI={[I.ob.GOOGLE]:Object(Om.a)("/img/logo_google.png"),[I.ob.OUTLOOK]:Object(Om.a)("/img/logo_outlook.png"),[I.ob.AOL]:Object(Om.a)("/img/logo_aol.png")},TI={padding:0,height:`${9*Ri.GRID_UNIT}px`,width:`${36.25*Ri.GRID_UNIT}px`,margin:`${2*Ri.GRID_UNIT}px 0 0 0`},AI=Object(mi.defineMessages)({header_message:{id:"external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"external_users_switch_account",defaultMessage:"Switch account"}}),bI=({accountType:e,userName:t,onNext:s,onProviderSelect:a},n)=>{const r=n.intl,i=r.locale,o=r.formatMessage,c=n.region,d=Object(xc.e)(t),l=e=>{a(e),s&&s()},u=ii.a.createElement("b",{className:SI.userName},t);return ii.a.createElement("div",{className:SI.upsellPage},ii.a.createElement("img",{className:SI.image,alt:o(AI.header_message),src:II}),ii.a.createElement("h1",{className:SI.header},ii.a.createElement(mi.FormattedMessage,di()({},AI.header_message,{values:{mailBrandNameString:n.mailBrandNameString}}))),ii.a.createElement("div",{className:SI.body},ii.a.createElement("div",{className:SI.description},ii.a.createElement(mi.FormattedMessage,e===I.i.PHONE?{id:"external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:u}}:{id:"external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:u}}),"",ii.a.createElement("a",{className:SI.switchAccount,href:Object(I.Be)(c,i),title:o(AI.switch_account)},ii.a.createElement(mi.FormattedMessage,AI.switch_account))),ii.a.createElement("div",{className:SI.description},ii.a.createElement(mi.FormattedMessage,d?{id:"external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from Yahoo Mail.",values:{name:Object(xc.f)(d)}}:{id:"external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, All from within Yahoo Mail."})),ii.a.createElement("div",{className:SI.providersOption},ii.a.createElement("ol",{className:SI.accountList},CI.filter(e=>!d||d===e).map(e=>ii.a.createElement("li",{key:e,className:SI.listItem,"data-test-id":"supported-imap-providers"},ii.a.createElement("img",{alt:e,src:fI[e],className:SI.accountItem}),ii.a.createElement(Li.a,{style:TI,kind:vi.a.PRIMARY,"data-test-id":`add-account-${e}-btn`,onClick:l.bind(null,e)},ii.a.createElement(mi.FormattedMessage,d?{id:"user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:Object(xc.f)(d)}}:{id:"user_registration_add_account",defaultMessage:"Add account"}))))))),ii.a.createElement("div",{className:SI.footer},!d&&ii.a.createElement(mi.FormattedMessage,{id:"external_supported_providers",defaultMessage:"We only support these providers as of now"})))};bI.contextTypes={intl:mi.intlShape,region:ni.a.string,mailBrandNameString:ni.a.string};var OI=bI,RI=s(847),NI=s.n(RI);const MI=xi()(NI.a);var DI=({provider:e})=>ii.a.createElement("div",{className:MI.leftRailItemsContainer},ii.a.createElement("button",{className:MI.link,disabled:!0},ii.a.createElement(mi.FormattedMessage,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&ii.a.createElement("div",{className:MI.accountslist,"data-test-id":"known-imap-provider"},ii.a.createElement("span",{className:MI.accountsListItem,"data-test-id":"imap-provider-name"},Object(xc.f)(e)),ii.a.createElement("div",{className:MI.moreIcon},ii.a.createElement("span",{className:MI.iconContainer},ii.a.createElement(hi.b,{kind:gi.b.MORE,size:gi.d.XXXS,colorState:gi.a.SECOND_LEVEL_GRAY})))),ii.a.createElement("ul",{className:MI.folderList},Object(Hp.d)(9).map(e=>ii.a.createElement("li",{key:e,className:MI.listItem},ii.a.createElement("div",{className:MI.folderName,style:{width:`${e%3*10+28}px`}})))),ii.a.createElement("div",{className:MI.header},ii.a.createElement("div",{className:MI.folderName,style:{width:"41px"}}),ii.a.createElement("div",{className:MI.folderName,style:{width:"25px"}})),ii.a.createElement("ul",{className:MI.list},[gi.b.TAB_IMAGES,gi.b.DOCUMENTS_S,gi.b.CAL_MAYBE].map((e,t)=>{const s=`${t%3*10+28}px`;return ii.a.createElement("li",{key:e,className:MI.listItem},ii.a.createElement(hi.b,{kind:e,size:gi.d.XS,colorState:gi.a.SECOND_LEVEL_GRAY}),ii.a.createElement("div",{className:MI.folderName,style:{width:s}}))}))),yI=s(103),LI=s(574),vI=s(575),PI=s(576);const FI=()=>{},wI=xi()(pI.a),kI=Object(mi.defineMessages)({back_button_title:{id:"external_users_back_btn_title",defaultMessage:"Back"},sign_in_button_title:{id:"external_users_sign_in_btn_title",defaultMessage:"Sign in"},cancel_button_title:{id:"external_users_cancel_btn_title",defaultMessage:"Cancel"},relaunch_button_title:{id:"external_users_oauth_relaunch_button_title",defaultMessage:"Relaunch window"}});class xI extends ii.a.Component{constructor(...e){super(...e),ot()(this,"state",{email:"",selectedProvider:""}),ot()(this,"handleChange",(e,t)=>{const s=this.props.onEmailProviderSelected;this.state[e]!==t&&("provider"===e?this.setState({email:"",selectedProvider:t},()=>{t&&s({i13nModel:{interactionType:Gi.d.nav,mKey:Gi.e.USERNAME_PHONE_REG_ADD_PROVIDER,sec:Gi.g.USERNAME_PHONE_REG,actionData:{selectedProvider:t}}})}):this.setState({[e]:t}))}),ot()(this,"handleCancelAuthorize",({status:e,provider:t,email:s})=>{this.props.onAuthorizationCanceled({i13nModel:{interactionType:Gi.d.click,mKey:Gi.e.USERNAME_PHONE_REG_CANCEL_AUTHORIZE,sec:Gi.g.USERNAME_PHONE_REG,actionData:{status:e,provider:t,email:s}}})}),ot()(this,"handleCreateAccount",e=>{const t={interactionType:Gi.d.nav,mKey:Gi.e.USERNAME_PHONE_REG_ADD_ACCOUNT,sec:Gi.g.USERNAME_PHONE_REG,actionData:{email:e.email}};(0,this.props.onAddNewAccount)(i()({},Object(xc.g)(e),{i13nModel:t,emailOrPhoneRegAccount:!0}))}),ot()(this,"_renderSignInComponentTitle",()=>ii.a.createElement("h5",{className:wI.titleLabel},ii.a.createElement(mi.FormattedMessage,{id:"external_users_add_mailbox_header",defaultMessage:"You are almost done!"}))),ot()(this,"_resetProvider",(e=FI)=>{this.setState({selectedProvider:""},e)}),ot()(this,"_renderSignInComponentNav",({onPrevious:e,onNext:t,isStepValid:s})=>{const a=this.context.intl.formatMessage;return ii.a.createElement("div",{className:wI.navWrapper},ii.a.createElement(Li.a,{kind:vi.a.SECONDARY,title:a(kI.back_button_title),"data-test-id":"username-phone-reg-back-btn",onClick:this._resetProvider.bind(this,e)},ii.a.createElement(mi.FormattedMessage,kI.back_button_title)),ii.a.createElement(Li.a,{onClick:t,disabled:!s(),kind:vi.a.PRIMARY,"data-test-id":"username-phone-reg-signin-btn",title:a(kI.sign_in_button_title)},ii.a.createElement(mi.FormattedMessage,kI.sign_in_button_title)))}),ot()(this,"_renderOAuthComponentNav",({onPrevious:e,onNext:t})=>{const s=this.context.intl.formatMessage;return ii.a.createElement("div",{className:wI.navWrapper},ii.a.createElement(Li.a,{kind:vi.a.SECONDARY,title:s(kI.back_button_title),onClick:e},ii.a.createElement(mi.FormattedMessage,kI.back_button_title)),ii.a.createElement(Li.a,{onClick:t,kind:vi.a.PRIMARY,"data-test-id":"username-phone-reg-relaunch-btn",title:s(kI.relaunch_button_title)},ii.a.createElement(mi.FormattedMessage,kI.relaunch_button_title)))}),ot()(this,"_renderOAuthComponentTitle",()=>ii.a.createElement("h5",{className:wI.titleLabel},ii.a.createElement(mi.FormattedMessage,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"})))}_doesEmailAlreadyExist(e){return!!this.props.accounts.find(t=>t.email===e)}_getSteps(){const e=this.state,t=e.email,s=e.selectedProvider,a=this.props,n=a.userName,r=a.accountType,i=a.appRootPath,o=a.accounts,c=Object(xc.e)(n),d=[ii.a.createElement(OI,{key:"upsell",userName:n,accountType:r,onProviderSelect:this.handleChange.bind(this,"provider")})];if(this._doesEmailAlreadyExist(n)&&c){return d.push(ii.a.createElement(()=>this._getError(),{key:"external-accounts-error"})),d}return c||d.push(ii.a.createElement(vI.a,{key:"address",email:t,accounts:o,onAuthorizeAccount:FI,provider:s,onChange:this.handleChange,renderNavComponent:this._renderSignInComponentNav,renderTitleComponent:this._renderSignInComponentTitle})),d.push(ii.a.createElement(LI.a,{key:"signin",hideCancelButton:!0,handleAddSuccess:FI,onAuthorizeAccount:FI,appRootPath:i,onAuthorize:this.handleCreateAccount,onCancelAuthorize:this.handleCancelAuthorize,email:c?n:t,provider:c||s,renderNavComponent:this._renderOAuthComponentNav,renderTitleComponent:this._renderOAuthComponentTitle})),d.push(ii.a.createElement(PI.a,{key:"add-confirm",isSyncing:!0})),d}_getError(){const e=this.props.userName;return ii.a.createElement("div",{className:wI.errorContainer,"data-test-id":"external-accounts-error"},this._renderOAuthComponentTitle(),ii.a.createElement("div",{className:wI.errorWrapper},ii.a.createElement("div",{className:wI.errorIcon},ii.a.createElement(hi.b,{size:gi.d.XS,kind:gi.b.EXCLAMATION_ALT,colorState:gi.a.WARNING_GRAD_RED})),ii.a.createElement(mi.FormattedMessage,{id:"unr_error_account_add_failed",defaultMessage:"Your email {email} already exists.\n                        If you deleted the mailbox recently, please wait for a few minutes\n                        until the process is complete and try again",values:{email:ii.a.createElement("strong",null,e)}})),ii.a.createElement("div",{className:wI.navWrapper},ii.a.createElement(Li.a,{kind:vi.a.SECONDARY,onClick:()=>window.location.reload(),title:this.context.intl.formatMessage(kI.back_button_title)},ii.a.createElement(mi.FormattedMessage,kI.back_button_title))))}componentDidMount(){this.props.onLoadComplete({i13nModel:{interactionType:Gi.d.nav,mKey:Gi.e.USERNAME_PHONE_REG_ONBOARDING,sec:Gi.g.USERNAME_PHONE_REG}})}render(){const e=this.props.userName,t=this.state.selectedProvider,s=Object(xc.e)(e);return ii.a.createElement("div",{id:"app",className:wI.wrapper},ii.a.createElement("div",{className:wI.shadedContainer},ii.a.createElement("div",{className:wI.container,"data-test-id":"username-phone-reg-upsell"},ii.a.createElement("nav",{className:wI.leftRail},ii.a.createElement(DI,{provider:s||t})),ii.a.createElement("main",{className:wI.widthRestricter},ii.a.createElement("section",{className:wI.mainContent},ii.a.createElement(hI.a,null,this._getSteps())),ii.a.createElement("aside",{className:wI.rightRail})))))}}ot()(xI,"contextTypes",{intl:mi.intlShape.isRequired});var UI=Object(oi.connect)(function(e){const t=Object($i.b)(e),s=t.getAccountSelectors,a=t.getAllAccounts,n=(0,t.getFeaturesSelectors)().getSetting("appRootPath");return{accountType:(s().getPrimaryAccount()||{}).type,appRootPath:n,accounts:a()}},function(e){return{onLoadComplete:t=>e(i()({type:go.xl},t)),onAuthorizationCanceled:t=>e(i()({type:go.wl},t)),onAddNewAccount:t=>e(Object(yI.a)(t)),onEmailProviderSelected:t=>e(Object(yI.j)(t))}})(xI);let GI=Object(oi.connect)(function(e){const t=Object($i.b)(e),s=t.getFeaturesSelectors,a=(0,t.getAccountSelectors)().userHasRegisteredAccount(),n=s().isEnabled(I.zd.MAIL_TABS);return{userName:s().getSetting(I.zd.LOGIN_NAME),multiTaskModeSetting:n,userHasRegisteredAccount:a}})(function({userHasRegisteredAccount:e,multiTaskModeSetting:t,userName:s,context:a}){return e?ii.a.createElement(uI,{multiTaskModeSetting:t,context:a}):ii.a.createElement(UI,{userName:s})});var jI=GI=Object(_I.provideContext)(GI,{config:ni.a.object,store:ni.a.object,loader:No.c,timezone:No.e,region:ni.a.string,locale:No.d,os:ni.a.string,rapidParams:ni.a.object,usmLogString:ni.a.string,yqlClient:No.f,credstoreClient:No.a,cspToken:ni.a.string,linkEnhancerClient:No.b,partner:ni.a.string,mailBrandNameString:ni.a.string,yahooBrandNameString:ni.a.string,appId:ni.a.string});const HI="__lazyBundles";function BI(e,{bundleMapURL:t}={}){return t?function(e){return new L.b("GET",e).setHeader("Accept","application/json").send().then(e=>JSON.parse(e.text))}(t).then(t=>(window[HI]=t,VI(e,t))):new Promise(t=>t(VI(e,window[HI])))}function VI(e,t){const s=t.urls[t.urlIndexForEntry[e]];if(!s)throw new Error(`Unknown bundle URL for module ${e}`);return s}class WI{constructor({disabled:e}={}){this._cache={},this._disabled=e}locate(e,{bundleMapURL:t}){return BI(e,{bundleMapURL:t})}fetch(e,{cache:t}){if(!t)return YE.a.loadScript(e);const s=this._cache;return s[e]||(s[e]=YE.a.loadScript(e)),s[e]}loadModule(e,{cache:t=!0,bundleMapURL:s}={}){if(this._disabled)return Promise.reject(new Error("Lazy loading disabled"));const a={cache:t,bundleMapURL:s};return this.locate(e,a).then(e=>this.fetch(e,a))}}var qI={name:"MailFluxibleContextPlugin",plugContext(e){let t=e.config,s=e.guidHash,a=e.mailWssid,n=e.mailboxAttributes,r=e.crumb,o=e.signoutCrumb,c=e.guid,d=e.csid,l=e.timezone,u=e.environment,_=e.region,m=e.os,p=e.farm,h=e.partner,g=e.usmLogString,E=e.locale,I=e.localeData,S=e.cspToken,C=e.__initializeFeatures__,f=e.queryStringOverrides,T=e.buildNumber,b=e.launchTime,O=e.loggerParams,R=e.encryptedQueryParams,N=e.mailBrandNameString,M=e.yahooBrandNameString,D=e.appId;return{plugComponentContext(e,a){const n=a.store,i=a.apiClients,c=void 0===i?{}:i;e.crumb=r,e.signoutCrumb=o,e.config=t,e.loader=new WI,e.timezone=l,e.region=_,e.usmLogString=g,e.os=m,e.locale=Object.assign({name:E},I),e.cspToken=S,e.store=n,e.mailAPIClient=c.mailAPIClient,e.yqlClient=c.yqlClient,e.credstoreClient=c.credstoreClient,e.linkEnhancerClient=c.linkEnhancerClient,e.partner=h,e.mailBrandNameString=N,e.yahooBrandNameString=M,e.appId=D,e.guidHash=s},plugActionContext(e,s){const a=s.store;e.encryptedQueryParams=R,e.config=t,e.store=a,e.mailboxAttributes=n,e.timezone=l,e.dispatch=(e,t)=>a.dispatch(i()({},t,{type:e})),Object.assign(e,i()({},s.apiClients,{csid:d}))},plugStoreContext(){},dehydrate:()=>({buildNumber:T,config:t,launchTime:b,guidHash:s,mailWssid:a,guid:c,crumb:r,signoutCrumb:o,mailboxAttributes:n,csid:d,locale:E,localeData:I,timezone:l,region:_,usmLogString:g,cspToken:S,os:m,farm:p,partner:h,environment:u,__initializeFeatures__:C,queryStringOverrides:f,loggerParams:Object(A.b)()?{}:O,encryptedQueryParams:R,mailBrandNameString:N,yahooBrandNameString:M,appId:D}),rehydrate(e){T=e.buildNumber,t=e.config,s=e.guidHash,a=e.mailWssid,r=e.crumb,o=e.signoutCrumb,c=e.guid,d=e.csid,b=e.launchTime,E=e.locale,I=e.localeData,l=e.timezone,_=e.region,g=e.usmLogString,m=e.os,p=e.farm,h=e.partner,u=e.environment,C=e.__initializeFeatures__,f=e.queryStringOverrides,O=e.loggerParams,S=e.cspToken,R=e.encryptedQueryParams,n=e.mailboxAttributes,N=e.mailBrandNameString,M=e.yahooBrandNameString,D=e.appId}}}},zI=s(130),KI=s(220);const ZI=Object(mi.defineMessages)({hasUnsavedMessage:{id:"warning.has_unsaved_message",defaultMessage:"You are about to leave with unsaved data. Continue?"},confirmRouteChangeModalTitle:{id:"warning.confirm_route_change_modal_title",defaultMessage:"Do You Want to Leave This Page?"},confirmRouteChangeModalBody:{id:"warning.confirm_route_change_modal_body",defaultMessage:"Changes you made may not be saved."},confirmRouteChangeModalLeaveButton:{id:"warning.confirm_route_change_modal_leave_button_text",defaultMessage:"Leave"},confirmRouteChangeModalCancelButton:{id:"warning.confirm_route_change_modal_cancel_button_text",defaultMessage:"Cancel"},unloadPromptMessage:{id:"warning.unsaved_data_unload_prompt_message",defaultMessage:"Changes you made may not be saved."}});var YI=s(166),XI=s.n(YI);const QI=Object(b.c)(["mrdparam","search_keyword","to_list","mailboxId"]);Object(b.c)(["YM_MAIL_CONV","MOBILE_CONV","YM_MAIL_THM","YM_TZ","YM_LAST_OBSERVED_TZ","YM_MAIL_TABS","UDB_PREVIEW_PANE","YM_MAIL_SCOUT","YM_FE_PREVIOUS","YM_FE_HISTORY","YMV"]),Object(b.c)(["sky.mail.yahoo.com","rogers.mail.yahoo.com"]);function $I(e,t){if(!t)return[];const s=Object($i.b)(e),a=s.isDraftGroup,n=s.doesGroupHasStaleMessageId,r=(0,s.getMaxTabCounts)(),i=[...e.pages,t];if(i&&i.length<=r)return[];const o=i.reduce((e,t)=>to(t)?e.concat(t):e,[]),c=o.reduce((e,t)=>to(t)&&!a(t.params.groupId)?e.concat(t):e,[]);if(c.length<=r)return[];const d=c.length-r,l=c.sort((e,t)=>(e.timestamp||0)-(t.timestamp||0)).slice(0,d);return[...o.reduce((e,t)=>n(t)?e.concat(t):e,[]),...l]}var JI=(e,t)=>{const s=Object($i.b)(e),a=s.normalizeRoute,n=s.getRoute,r=s.getPreviousRoute,o=s.getSetting,c=s.getFeaturesSelectors,d=s.isSingleDraftGroup,l=s.findUnsyncedDataByCsid,u=s.getLastSaveTimeStampForDraft,_=s.getPages,m=s.doesRouteContainFailure,p=s.getSmartViewPageByType,h=s.getQueryParams,g=s.getStreamsSelectors,E=s.getSelectedAccountId,S=s.getDraftFolderIdByAccountId,C=s.getSmartViewTypeFromRoute,f=s.getSmartViewPosition,T=s.getSettingsPageRoute,A=s.isMobileRoute,O=s.createPageForRoute,R=s.getCurrentHistoryState,N=t.route,M=t.actionTimestamp;switch(t.type){case go.Vf:{const e=n(),s=t.folderId,r=t.launchError,o=t.encryptedQueryParams,c=void 0===o?{}:o,d=h(),l="1"===d.openGIFPicker,u="1"===d.openStationery;let _;if(e.timestamp=M,c[QI.mrdparam]&&Object(b.g)(c[QI.mrdparam]).some(Boolean)&&(_=c[QI.mrdparam]),l&&(_=i()({},_||{},{showGIFPicker:l})),u&&(_=i()({},_||{},{showStationeryPicker:u})),t=i()({},t,{route:e,mrdParams:_}),!s)return t;const m=a(Object(Qi.l)(s));return e.name===I.gd.BASE&&(t=i()({},t,{route:m,listId:Object(eo.v)(s)})),r&&m&&m.name&&(t=i()({},t,{listId:Object(eo.v)(s),route:m})),t}case go.Lh:{const s=n();switch(N.name){case I.gd.NEW_DRAFT:{const e=N.params,n=void 0===e?{}:e,r=s.params,o=void 0===r?{}:r,c=s.name===N.name&&(u(o.csid)||Boolean(l(o.csid)));return i()({},t,{route:i()({},a(N),{timestamp:M}),previousRoute:s,forceNewPage:c,csid:n.csid})}case I.gd.SEARCH:{const e=Object(eo.w)(N),n=Object(eo.M)(N)?C(N):null,r=n?p(n):null,o=n?!!r:s&&s.name===I.gd.SEARCH&&!Object(eo.O)(Object(eo.w)(s));return i()({},t,{route:i()({},a(N),{timestamp:M}),previousRoute:r||s,forceNewPage:!r&&Object(eo.O)(e),replaceRoute:o})}case I.gd.LIST:{const e=Object(eo.M)(N)?C(N):null,n=e?p(e):null;return i()({},t,{route:i()({},a(N),{timestamp:M}),previousRoute:n||s,replaceRoute:!!n})}case I.gd.SETTINGS:{const e=T()||null;return i()({},t,{route:i()({},a(N),{timestamp:M}),previousRoute:e||s,replaceRoute:!!e})}default:{const n=N&&{route:i()({},a(N),{timestamp:M})};return i()({},t,n,{previousRoute:s,tabsToRemove:$I(e,n.route)})}}}case go.vg:{const e=t.previousRoute||r(),s=Object(b.a)(t,"retailers.0.id",""),n=""===s?"":a(Object(Qi.n)(s));return i()({},t,{previousRoute:e,route:n})}case go.Tb:{const e=_().filter(e=>{if(e.name===I.gd.FOLDER)return!1;const t=Object(eo.M)(e)?C(e):null;return!(t&&f(t)===I.Jd.TAB_BAR)});return i()({},t,{pagesToClose:e})}case go.ch:{const e=t.previousRoute||r();if(A(e)){const s=R(),n=Object(Qi.k)(t.listId,t.csid),r=O(n,1,s);return i()({},t,{previousRoute:e,route:i()({},a(n),{timestamp:M}),nextPage:r})}return o(I.ub.CONVERSATIONS)?(0,c().isEnabled)(I.ub.MESSAGE_LIST_CONTEXT_MENU)&&t.triggeredFromContextMenu?i()({},t,{route:a(Object(Qi.q)(t.listId,t.groupId,e.query)),previousRoute:e}):i()({},t,{route:N&&i()({},a(t.route),{timestamp:M})||n(),previousRoute:e}):i()({},t,{previousRoute:e,route:i()({},a(Object(Qi.g)(t.csid,{},e)),{timestamp:M})})}case go.lj:{const e=n(),s=_(),r=()=>s.some(e=>e.name===I.gd.SETTINGS);return e.timestamp=M,t.name===I.zd.MAIL_TABS&&t.value&&e.name!==I.gd.SETTINGS&&!r()?i()({},t,{previousRoute:e,route:e,pages:[...s,a(Object(Qi.v)({settingsGroupId:I.Cd.PERSONALIZE_INBOX}))]}):i()({},t,{previousRoute:e,route:e})}case go.zk:{const e=t.previousRoute||r(),s=N&&a(t.route)||n();return s.timestamp=M,i()({},t,{route:s,previousRoute:e,pages:_()})}case go.Dl:{let e;const s=_(),o=n(),l=c().isEnabled,u=t.csid,p=t.groupId,h=t.listId,C=t.previousRoute||r();o.timestamp=M,s.length||s.push(o);const f=Object(eo.w)(o),T=l(I.ub.CONVERSATIONS),A=Object(qp.a)([f]),b=g(),O=b.getCursorSelectors,R=(0,b.doesStreamExist)(A)&&O(A).getCursorItem()||{},N=R.id,D=R.listId;if(p)if(d(p)||!T){const t=S(E()),s=Object(eo.v)(t);e=Object(Qi.k)(s,u,o.query)}else e=Object(Qi.q)(h,p,o.query);else e=Object(Qi.g)(u,o.query);const y=_s()(s.slice(1),e=>e.params&&p&&e.params.groupId===p||m(e)),L=V()(y,2),v=L[0],P=L[1];return p&&p===N&&D===h?i()({},t,{route:o,previousRoute:C,sendFailureRoute:e,pages:XI()([s[0],...v,...P],"url")}):i()({},t,{route:o,previousRoute:C,pages:XI()([s[0],a(e),...v,...P],"url"),sendFailureRoute:e})}default:{const e=t.previousRoute||r(),s=N||n();return s.timestamp=M,i()({},t,{route:s,previousRoute:e})}}};var eS=(e,t)=>{const s=Object($i.b)(e),a=s.getMainStreamItems,n=s.getRoute,r=t.streamItems;let o=t.streamId;switch(t.type){case go.Ub:{const e=t.route,s=Object(eo.w)(e);return o||(o=Object(qp.b)(s,e.params.groupId)),i()({},t,{streamId:o})}case go.fk:case go.lk:case go.hk:case go.dk:case go.kk:case go.jk:case go.ik:case go.X:case go.zl:case go.Fl:case go.Pb:case go.Lb:case go.Vi:case go.Vk:case go.mh:case go.rh:case go.Ti:case go.Df:case go.jh:case go.ph:case go.oi:case go.Af:case go.td:case go.Te:case go.Rk:case go.qd:case go.th:case go.Yf:case go.vh:case go.ce:case go.jb:case go.li:case go.bk:case go.di:return i()({},t,{streamItems:r||a(n())});case go.Lh:if(t.streamItem)return i()({},t,{streamItems:r||a(n())})}return t};const tS=(e,t,s,a,n,r,i,o,c)=>{const d=Object(eo.t)(e);let l=void 0;if(void 0!==r&&(l=r),l||void 0===s||(l=Boolean(s)),l||void 0===a||(l=Boolean(a)),void 0!==c&&(c===go.zl||c===go.Fl))return{};switch(d){case I.Pb.MESSAGES:case I.Pb.TRAVEL_CARDS:case I.Pb.COUPON_CARDS:case I.Pb.REFUND_CARDS:case I.Pb.RECEIPT_CARDS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:l,lmv3Query:i,suggestedWords:o}};case I.Pb.DOCUMENTS:case I.Pb.IMAGES:return{[e]:{itemIds:t.map(({attachment:e})=>e.id),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:l,lmv3Query:i,suggestedWords:o}};case I.Pb.GIFS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:a,hasMoreItems:l,lmv3Query:i,suggestedWords:o}};case I.Pb.CLOUD_STORAGE_ITEMS:return{[e]:{itemIds:t.map(e=>e.id),nextItemsUrl:s,offset:a,hasMoreItems:l}};case I.Pb.PEOPLE:return{[e]:{itemIds:t.map(({contactDetails:e})=>e.xobniId),nextItemsUrl:s,offset:a,hasMoreItems:l,lmv3Query:i,suggestedWords:o}};case I.Pb.CONTACTS:return{[e]:{itemIds:t.map(({id:e})=>e),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:l,lmv3Query:i,suggestedWords:o}};case I.Pb.GROCERY_STORES:{let r=[];const c=Object(eo.u)(e);return c===I.Qb.RECOMMENDED_GROCERY_STORES?r=t.filter(e=>!e.linked&&"number"==typeof e.affinityScore).map(e=>e.id):c===I.Qb.UNLINKED_GROCERY_STORES?r=t.filter(e=>!e.linked&&"number"!=typeof e.affinityScore).map(e=>e.id):c===I.Qb.LINKED_GROCERY_STORES&&(r=t.filter(e=>e.linked).map(e=>e.id)),{[e]:{itemIds:r,nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:l,lmv3Query:i,suggestedWords:o}}}case I.Pb.OFFER_CARDS:Object(eo.u)(e);return{[e]:{itemIds:t.map(({offerId:e})=>e),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:l,lmv3Query:i,suggestedWords:o}};case I.Pb.SUBSCRIPTIONS:{const r=Object(eo.u)(e),c=Object(eo.F)(e),d=e=>"active"===e.status,u=e=>"active"!==e.status;let _;if(r===I.Qb.ACTIVE)_=t.filter(e=>e.subscriptions.some(d)).map(({id:e})=>e);else{const e=t.filter(e=>e.subscriptions.every(u));c===I.Od.RELEVANCE&&e.sort((e,t)=>e.unsubRequestTs<t.unsubRequestTs?1:e.unsubRequestTs>t.unsubRequestTs?-1:0),_=e.map(({id:e})=>e)}return{[e]:{itemIds:_,nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:l,lmv3Query:i,suggestedWords:o}}}}return{}},sS=(e,t)=>{switch(Object(eo.t)(e)){case I.Pb.GIFS:return t.reduce((e,t)=>i()({},e,{[t.id]:t}),{})}return{}},aS=(e,t)=>{switch(Object(eo.t)(e)){case I.Pb.CLOUD_STORAGE_ITEMS:return t.reduce((e,t)=>i()({},e,{[t.id]:t}),{})}return{}},nS=(e,t,s)=>{switch(Object(eo.t)(t)){case I.Pb.COUPON_CARDS:case I.Pb.TRAVEL_CARDS:case I.Pb.REFUND_CARDS:case I.Pb.RECEIPT_CARDS:return s.reduce((e,t)=>{const s=e[t.id]||[];return i()({},e,{[t.id]:s.concat(t.messages.map(e=>e.id))})},{});case I.Pb.MESSAGES:{const a=(0,e.getFoldersSelectors().getMessageGroupFolderType)(Object(eo.o)(t)||"");return s.reduce((e,t)=>{const s=e[t.id]||{};return i()({},e,{[t.id]:{[a]:(s[a]||[]).concat(t.messages.map(e=>e.id))}})},{})}}return{}},rS=(e,t,s)=>{const a=Object(eo.t)(t),n=e.doesMessageIdExist,r=e.getMessageCsid;switch(a){case I.Pb.MESSAGES:case I.Pb.TRAVEL_CARDS:case I.Pb.COUPON_CARDS:case I.Pb.REFUND_CARDS:case I.Pb.RECEIPT_CARDS:return s.reduce((e,t)=>i()({},e,t.messages.reduce((e,t)=>{let s=null;return s=!s&&n(t.id)?r(t.id):t.csid?t.csid:Object(vs.g)(),i()({},e,{[t.id]:i()({},m()(t,["snippet","attachments","headers","schemaCards"]),{headers:m()(t.headers,["subject"])},s?{csid:s}:{})})},{})),{})}return{}},iS=(e,t,s)=>{const a=Object(eo.t)(t),n=e.getAttachmentsSelectors(),r=n.getContentIdByAttachmentId,o=n.doesAttachmentExistById;switch(a){case I.Pb.MESSAGES:return s.reduce((e,t)=>i()({},e,t.messages.reduce((e,t)=>i()({},e,(t.attachments||[]).reduce((e,s)=>{const a=o(s.id)&&r(s.id)?r(s.id):Object(Ga.c)();return i()({},e,{[s.id]:i()({},s,{conversationId:s.conversationId||t.conversationId,contentId:a,dataId:a})})},{})),{})),{});case I.Pb.DOCUMENTS:case I.Pb.IMAGES:return s.reduce((e,{attachment:t})=>{const s=o(t.id)?r(t.id):Object(Ga.c)();return i()({},e,{[t.id]:i()({},t,{contentId:s,dataId:s})})},{});case I.Pb.CLOUD_STORAGE_ITEMS:return s.reduce((e,t)=>{const s=t.name,a=t.mimeType,n=t.thumbnail,c=t.downloadLink,d=`${t.mid}:${t.partId}`,l=Object(Ga.j)(a),u=l.type,_=l.subtype,m=o(d)?r(d):Object(Ga.c)();return i()({},e,{[d]:i()({},t,{contentId:m,dataId:m,filename:s,id:d,virus:"N",thumbnailUrl:n||"",downloadUrl:c,type:u,subtype:_})})},{})}return{}},oS=(e,t)=>{switch(Object(eo.t)(e)){case I.Pb.MESSAGES:return t.reduce((e,t)=>i()({},e,t.messages.reduce((e,t)=>i()({},e,{[t.id]:(t.attachments||[]).map(e=>e.id)}),{})),{});case I.Pb.DOCUMENTS:case I.Pb.IMAGES:return t.reduce((e,{attachment:t,message:s})=>i()({},e,{[s.id]:[...e[s.id]||[],t.id]}),{});case I.Pb.CLOUD_STORAGE_ITEMS:return t.reduce((e,t)=>i()({},e,{[t.mid]:[...e[t.mid]||[],`${t.mid}:${t.partId}`]}),{})}return{}},cS=(e,t)=>{switch(Object(eo.t)(e)){case I.Pb.MESSAGES:case I.Pb.TRAVEL_CARDS:case I.Pb.COUPON_CARDS:case I.Pb.REFUND_CARDS:case I.Pb.RECEIPT_CARDS:return t.reduce((e,t)=>i()({},e,t.messages.reduce((e,t)=>i()({},e,{[t.id]:(t.schemaCards||[]).map(({id:e,type:t})=>({id:e,type:t}))}),{})),{})}return{}},dS=(e,t)=>{switch(Object(eo.t)(e)){case I.Pb.MESSAGES:case I.Pb.TRAVEL_CARDS:case I.Pb.REFUND_CARDS:case I.Pb.RECEIPT_CARDS:return t.reduce((t,s)=>i()({},t,s.messages.reduce((t,{id:s,headers:a={}})=>i()({},t,{[s]:{[e]:a.subject}}),{})),{});case I.Pb.DOCUMENTS:case I.Pb.IMAGES:return t.reduce((t,s)=>i()({},t,{[s.message.id]:{[e]:s.message.subject}}),{})}return{}},lS=(e,t)=>{switch(Object(eo.t)(e)){case I.Pb.MESSAGES:case I.Pb.TRAVEL_CARDS:return t.reduce((t,s)=>i()({},t,s.messages.reduce((t,s)=>i()({},t,{[s.id]:{[e]:Object(xl.e)(s.snippet)}}),{})),{})}return{}},uS=(e,t)=>{switch(Object(eo.t)(e)){case I.Pb.PEOPLE:return t.reduce((e,t)=>i()({},e,{[t.contactDetails.xobniId]:t.contactDetails}),{})}return{}},_S=(e,t)=>{switch(Object(eo.t)(e)){case I.Pb.MESSAGES:case I.Pb.TRAVEL_CARDS:case I.Pb.COUPON_CARDS:case I.Pb.REFUND_CARDS:case I.Pb.RECEIPT_CARDS:return t.reduce((e,t)=>i()({},e,t.messages.reduce((e,t)=>i()({},e,(t.schemaCards||[]).reduce((e,t={})=>i()({},e,{[t.id]:i()({},t)}),{})),{})),{})}return{}},mS=(e,t,s={})=>{switch(Object(eo.t)(e)){case I.Pb.COUPON_CARDS:return[].concat(Object.keys(s).map(e=>({id:e,messages:[s[e]]})));default:return t.concat(Object.keys(s).map(e=>({id:e,messages:[s[e]]})))}},pS=(e,t,s,a,n,r,i,o={},c,d,l=[],u)=>{const _=e.doesFolderIdExist,m=Object(eo.t)(t),p={};let h=s;return l.forEach(e=>{p[e.folder.id]=!0}),m===I.Pb.MESSAGES&&(h=s.filter(e=>{const t=e.messages.filter(e=>_(e.folder.id)||p[e.folder.id]);return e.messages=t,e.messages.length>0})),{lists:tS(t,h,a,n,r,i,c,d,u),groupIdToMessageIdsMap:nS(e,t,h),messages:rS(e,t,mS(t,h,o)),attachments:iS(e,t,h),attachmentIdToMessageIdMap:oS(t,h),subjects:dS(t,h),snippets:lS(t,h),gifItems:sS(t,h),schemaCards:_S(t,h),messageIdToSchemaIdsMap:cS(t,h),people:uS(t,h),cloudStorageItems:aS(t,h)}},hS=(e={},t,s="",a=[])=>{const n=[];return Object.keys(I.Pb).forEach(r=>{Object.keys(e[r]||{}).forEach(i=>{const o=Object(eo.W)(s,{listContentType:r,listFilter:i}),c=e[r][i];c&&n.push(pS(t,o,c.items,c.nextItemsUrl,c.offset,c.totalHits,c.hasMoreItems,void 0,c.lmv3Query,c.suggestedWords,a))})}),n},gS=(e,t)=>{const s=e.getContentIdByAttachmentId,a=e.doesAttachmentExistById,n=Object.keys(t.messageMetadataMap);return{attachments:n.reduce((e,n)=>{const r=t.messageMetadataMap[n].attachments,o=void 0===r?[]:r;return i()({},e,o.reduce((e,t)=>{const n=a(t.id)?s(t.id):Object(Ga.c)();return i()({},e,{[t.id]:i()({},t,{contentId:n,dataId:n})})},{}))},{}),attachmentIdToMessageIdMap:n.reduce((e,s)=>{const a=t.messageMetadataMap[s].attachments,n=void 0===a?[]:a;return i()({},e,{[s]:n.map(({id:e})=>e)})},{})}},ES=e=>Object.keys(e).reduce((t,s)=>i()({},t,e[s].length?Object.assign.apply({},e[s].map(e=>({[e]:s}))):{}),{}),IS=(e,t,s)=>{const a=s.getMessageCsid,n=s.getMessageIdsFromMessageGroupId,r=s.isFeatureEnabled,o=e.reduce((e,t)=>Object.keys(t).reduce((e,s)=>"attachmentIdToMessageIdMap"===s?i()({},e,{[s]:i()({},e[s],ES(t[s]))}):i()({},e,{[s]:i()({},e[s],t[s])}),e),{});if(r(I.ub.CONVERSATIONS))switch(t.type){case go.zl:case go.Cl:{const e=(0,s.getFoldersSelectors().getMessageGroupFolderType)(Object(eo.o)(t.listId)||"");o.groupIdToMessageIdsMap=Object.keys(o.groupIdToMessageIdsMap||{}).reduce((s,r)=>{const o=(n(r)||[]).filter(e=>a(e)!==t.csid).concat(t.message.id);return i()({},s,{[r]:{[e]:o}})},{})}}if(t.type===go.Pb&&o.lists){const e=t.listId,a=s.getListItemIds,n=(0,s.doesListExist)(e)?a(e):[];o.lists[e].itemIds=Object(eo.Z)(n,o,e)}return o};var SS=(e,t)=>{const s=Object($i.b)(e),a=[];switch(t.type){case go.Lh:{const e=Object(eo.w)(t.route),a=t.attachments,n=void 0===a?[]:a;if(n.length){const a=n[0],r=s.getAttachmentsSelectors().getContentIdByAttachmentId,o=a.contentId,c=void 0===o?r(a.id)||Object(Ga.c)():o;return i()({},t,{listId:e,listData:{attachments:{[a.id]:i()({},a,{contentId:c,dataId:c})}}})}return i()({},t,{listId:e})}case go.Jg:case go.gh:{const e=t.groupId,n=t.message,r=t.listId;e&&n&&r&&a.push(pS(s,t.listId,[{id:e,messages:[n]}]));break}case go.Mg:case go.Lg:if(!Object.keys(t.messageMetadataMap).length)return t;a.push(i()({messageMetadataMap:t.messageMetadataMap},gS(s.getAttachmentsSelectors(),t))),a.push(...hS(t.response,s,t.listId));break;case go.Af:{const e=s.getCurrentListId;t.categories.forEach(({gifs:t,queryString:n})=>{const r=Object(eo.W)(e(),{listContentType:I.Pb.GIFS,keyword:n.toLowerCase(),listFilter:I.Qb.GIFS});a.push(pS(s,r,t.items,t.nextItemsUrl,t.offset,t.totalHits,t.hasMoreItems))});break}case go.Cf:{const e=s.getCurrentListId,a=Object(eo.W)(e(),{listContentType:I.Pb.GIFS,keyword:t.query,listFilter:I.Qb.GIFS});return i()({},t,{listId:a})}case go.gc:{const e=s.getCurrentListId,a=Object(eo.W)(e(),{listContentType:I.Pb.CLOUD_STORAGE_ITEMS,keyword:t.query,name:t.source,folders:[t.path],listFilter:I.Qb.CLOUD_STORAGE_ITEMS});return i()({},t,{listId:a})}case go.Cl:case go.zl:{const e=s.getMessageIdsFromMessageGroupId,n=s.doesMessageGroupIdExist,r=s.getAttachmentIdsByMessageId,o=s.getAttachmentById,c=s.getMessageSubject,d=s.getMessageSnippet,l=s.__getMessageWithFlagsAndFolderId,u=(0,s.getFoldersSelectors)().__get__,_=t.message,m=t.listId,p=t.conversationsMode?_.conversationId:_.id,h={id:p};if(n(p)){const t=e(p),s=[];t.forEach(e=>{const t=l(e),a=r(e).map(o).filter(Boolean);s.push(i()({},t,{id:e,attachments:a,attachmentCount:a.length,folder:u(t.folderId||t.folderOfDelivery),snippet:d(e,m),headers:i()({},t.headers,{subject:c(e,m)})}))}),s.push(_),h.messages=s}else h.messages=[_];a.push(pS(s,Object(eo.W)(t.listId,{listContentType:I.Pb.MESSAGES}),[h],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,void 0,void 0,void 0,t.type));break}case go.Vf:case go.Vk:case go.Pb:case go.Lb:case go.mh:case go.Uh:case go.Ug:if(t.messageGroupList&&a.push(pS(s,t.listId,t.messageGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroup&&a.push(pS(s,Object(eo.W)(t.listId,{listContentType:I.Pb.MESSAGES}),[t.messageGroup],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroups&&a.push(pS(s,Object(eo.W)(t.listId,{listContentType:I.Pb.MESSAGES}),t.messageGroups,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.draftMessage&&a.push(pS(s,t.listId,t.draftMessage,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.response&&a.push(...hS(t.response,s,t.listId,t.folders)),t.message&&t.type===go.Vf){const e=t.message,n=e.csid;if(!Object.keys(t.messageMetadataMap).length)return t;a.push(i()({},gS(s.getAttachmentsSelectors(),t),{messages:{[e.id]:i()({},m()(e,["snippet","attachments","headers","schemaCards"]),{headers:m()(e.headers,["subject"])},n?{csid:n}:{})},subjects:{[e.id]:{[t.listId]:e.headers.subject}},snippets:{[e.id]:{[t.listId]:e.snippet}}})),t.draftMessageId||(t.draftMessageId=t.message.id)}break;case go.td:case go.jh:a.push(pS(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems));break;case go.Te:case go.oi:case go.ph:case go.Rk:case go.th:a.push(pS(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,t.parentMessagesMap));break;case go.rh:{const e=t.listId,n=t.listContentBlock,r=void 0===n?{}:n;e&&r&&a.push(pS(s,e,r.items,r.offset?r.nextItemsUrl:"",r.offset,r.totalHits,r.hasMoreItems&&!!r.offset));break}case go.Tf:{const e=t.listId,s=t.contacts,a=s.reduce((e,t)=>{const s=t.xobniId;return e.contactEmailToId[t.id]=s,void 0!==e.idToContact[t.xobniId]?(e.idToContact[t.xobniId].emails=gs()([...e.idToContact[t.xobniId].emails,...t.emails]),e):(e.contacts=[...e.contacts,t],e.idToContact[s]=t,e)},{contacts:[],idToContact:{},contactEmailToId:{}}),n=s.map(({id:e})=>e);return i()({},t,{listData:{lists:{[e]:{itemIds:n,totalHits:n.length}}},contacts:a.contacts,contactEmailToId:a.contactEmailToId})}case go.Gc:{const e=t.contacts,a=s.getContactListSelectors,n=(0,s.getListsSelectors)().getItemIdsSelectors,r=a().getContactById,o=i()({},t),c=[],d=Object(eo.j)(I.Qb.GROUPS),l=n(d).getItemIds();return o.tempGroupId="temp:"+Object(vs.g)(),o.tempListId=Object(eo.j)(I.Qb.GROUPS,o.tempGroupId),l.push(o.tempGroupId),o.endpoints=[],e.forEach(({itemType:e})=>{c.push(e),o.endpoints.push(i()({},e,{name:r(e.id).name}))}),o.listData={},o.listData.lists={[o.tempListId]:{itemIds:c,totalHits:c.length},[d]:{itemIds:l,totalHits:l.length}},o}case go.Nc:{const e=t.groupId,a=t.newGroup,n=t.oldGroup,r=(0,s.getContactListSelectors)().getContactById,o=i()({},t),c=n.contacts,d=void 0===c?[]:c,l=a.contacts,u=void 0===l?[]:l,_=[],m={},p=d.reduce((e,t)=>(e[t.id]=!0,e),{});return a.name!==n.name&&(o.newName=a.name),o.listId=Object(eo.j)(I.Qb.GROUPS,e),o.addedEndpoints=[],u.forEach(({itemType:e,id:t})=>{_.push(e),m[t]=!0,p[t]||o.addedEndpoints.push(i()({},e,{name:r(e.id).name}))}),o.removedEndpoints=d.reduce((e,{itemType:t,id:s})=>m[s]?e:e.concat(t),[]),o.doUpdatesExist=!!(o.newName||o.addedEndpoints.length||o.removedEndpoints.length),o.listData={},(o.addedEndpoints.length||o.removedEndpoints.length)&&(o.listData.lists={[o.listId]:{itemIds:_,totalHits:_.length}}),o}case go.zc:{const e=t.listId,s=t.contacts,a=(void 0===s?[]:s).map(e=>M()(e,["name"]));return i()({},t,{listData:{lists:{[e]:{itemIds:a,totalHits:a.length}}}})}case go.Bc:{const e=t.contacts,s=t.characters,a=t.groupIds,n=t.selectedGroup,r=(void 0===s?[]:s).length>0,o={};let c={};const d=n?Object(eo.W)(t.listId,{keyword:n}):t.listId;return e&&(c=e.reduce((e,{category:t,contacts:s,remainingCount:a})=>{const n=Object(eo.W)(d,{name:t});return i()({},e,tS(n,s,"",0,s.length+a,a>0))},{})),a&&(o[Object(eo.j)(I.Qb.GROUPS)]={itemIds:a,totalHits:a.length,nextItemsUrl:"",offset:0,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}),r||!e?i()({},t,{listData:{lists:i()({},c,o)}}):i()({},t,{listId:d,listData:{lists:i()({},c,o,{[d]:{itemIds:Object.keys(c),nextItemsUrl:"",offset:0,totalHits:e.length,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}})}})}case go.wc:{const e=t.groupId,a=s.getCustomContactGroups,n=Object(eo.j)(I.Qb.GROUPS),r=a().filter(t=>t!==e);return i()({},t,{listId:n,newGroupId:r[0]?r[0]:null,listData:{lists:{[n]:{itemIds:r,totalHits:r.length}}}})}case go.vc:{const e=t.groupId,a=s.getCustomContactGroups,n=Object(eo.j)(I.Qb.GROUPS),r=a().concat(e);return i()({},t,{listId:n,listData:{lists:{[n]:{itemIds:r,totalHits:r.length}}}})}case go.Ti:case go.Vi:case go.Df:case go.hc:a.push(...hS(t.response,s,t.listId));break;case go.vd:case go.qd:{const e=t.schemaCard,n=t.listId,r=t.messageDecosPayloads.map(({messageId:t})=>({id:t,messages:[{id:t,schemaCards:[e]}]}));a.push(pS(s,n,r));break}case go.Fi:{const e=t.retailers;t.listIds.forEach(t=>a.push(pS(s,t,e)));break}case go.Rf:{const e=t.listIds,n=t.quotientRetailers;if(n){const t=n.map(e=>({id:e.id,affinityScore:e.inferredScore}));a.push(pS(s,e,t,void 0,void 0,void 0,!1))}break}case go.vg:case go.Yk:{const e=t.listIds,n=t.retailers,r=n.map(e=>e.id),o=(0,(0,s.getRetailersSelectors)().getRetailersFromRetailerIds)(r),c=n.map((e,t)=>i()({},o[t],e));e.forEach(e=>a.push(pS(s,e,c)));break}case go.Jh:{const e=t.listId,n=t.offers,r=t.search,i=s.getSetting,o=(0,s.getOffersSelectors)().getFilteredOffers,c=Object(eo.W)(e,{keyword:""});i(I.ub.QUOTIENT_RANK_OFFERS)&&n.sort((e,t)=>t.offerScore-e.offerScore);const d=r?o(n,r):n;a.push(pS(s,c,n)),e!==c&&a.push(pS(s,e,d));break}case go.A:{const e=t.listId,n=t.offers;(0,s.getSetting)(I.ub.QUOTIENT_RANK_OFFERS)&&n.sort((e,t)=>t.offerScore-e.offerScore),a.push(pS(s,e,n));break}case go.D:a.push(pS(s,t.listId,t.offers));break;case go.Ei:t.listIds.forEach(e=>a.push(pS(s,e,[])));break;case go.ok:{const e=t.sortOrder,n=t.accountId,r=(t.subscription.email||{}).brand,o=(void 0===r?[]:r).map(e=>i()({},e,{id:`${e.name}:${n}`,subscriptions:e.subscriptions.filter(e=>"true"===e.isUsb)})),c=[Object(eo.G)(I.Qb.ACTIVE,e),Object(eo.G)(I.Qb.PAST,e===I.Od.RELEVANCE?I.Od.DATE_DESC:e)];t.brand=o,c.forEach(e=>a.push(pS(s,e,o)));break}default:return t}return i()({},t,{listData:IS(a,t,s)})};var CS=(e,t)=>{const s=t.folders,a=void 0===s?[]:s;switch(t.type){case go.wi:{const s=t.folderId,a=t.folderName,n=Object($i.b)(e),r=n.getFoldersSelectors,o=(0,n.getAccountIdByFolderId)(s),c=r(),d=c.getFolderPath,l=(0,c.getFolderIdsByAccountId)(o),u=d(s)+"/",_=a+"/",m=l.filter(e=>-1!==d(e).indexOf(u)&&e!==s).map(e=>({folderId:e,folderName:d(e).replace(u,_)}));return i()({},t,{subfolders:m})}case go.Vf:case go.Vk:case go.Pb:case go.Lb:case go.Ti:case go.Vi:return a.length?i()({},t,{folderMap:Object(At.f)(a)}):t;case go.Hd:case go.xi:{const e=t.folder,s=t.subfolders,a=void 0===s?[]:s;return i()({},t,{folderMap:i()({[e.id]:e},a.reduce((e,t)=>i()({},e,{[t.id]:t}),{}))})}default:return t}};var fS=(e,t)=>{const s=t.streamId,a=Object($i.b)(e),n=a.doesStreamExist,r=a.getSelectedStreamItems,o=a.getCursor;if(!s)return t;switch(t.type){case go.kk:case go.dk:case go.Yf:return i()({},t,{selectionPayload:{oldSelectedItems:n(s)?r(s):[]}});case go.Cl:case go.gh:case go.Jg:case go.fk:case go.lk:case go.hk:case go.zl:case go.Fl:case go.Pb:case go.Lb:case go.Vi:case go.Vk:case go.mh:case go.rh:case go.Ti:case go.Df:case go.hc:case go.jh:case go.ph:case go.oi:case go.Af:case go.td:case go.Te:case go.Rk:case go.qd:case go.th:return i()({},t,{selectionPayload:{oldCursor:n(s)?o(s):void 0,oldSelectedItems:n(s)?r(s):[]}});case go.ce:case go.vh:if(void 0!==t.route&&t.route.params.fid===I.Yd.SPAM&&(t.triageActionType===I.ne.NOT_SPAM_SELECTED_ITEMS||t.triageActionType===I.ne.DELETE_SELECTED_ITEMS))return i()({},t,{streamItems:void 0})}return t};const TS=({state:e,featureName:t,featureCueTimestamps:s})=>{const a=Object($i.b)(e).getFeaturesSelectors(),n=a.isEnabled,r=a.getSetting,i=n(I.ub.PUSH_NOTIFICATIONS),o=!!r(I.zd.NOTIFICATION),c=n("browserNotifications"),d=r(I.zd.PUSH_NOTIFICATIONS_EXPERIMENT),l=s[I.ub.MOBILE_ONBOARDING_CUE]||0;return!!(Object($i.b)(e).isMobileRoute()&&o&&i&&c&&l&&kE()(new Date,1e3*l)>=7&&((e,t)=>{return-1!=={[I.ub.PUSH_NOTIFICATIONS_CUE_LAUNCH]:[I.Vc.DEFAULT,I.Vc.LAUNCHV01],[I.ub.PUSH_NOTIFICATIONS_CUE_PTR]:[I.Vc.PTRV01,I.Vc.PTRV02],[I.ub.PUSH_NOTIFICATIONS_CUE_COMPOSE]:[I.Vc.COMPOSEV01]}[e].indexOf(t)})(t,d)&&Object(xE.d)()===xE.a.DEFAULT)};var AS=s(134);const bS={[I.ub.PUSH_NOTIFICATIONS_CUE_LAUNCH]:TS,[I.ub.PUSH_NOTIFICATIONS_CUE_PTR]:TS,[I.ub.PUSH_NOTIFICATIONS_CUE_COMPOSE]:TS,[I.ub.ADBLOCK_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const s=Object($i.b)(e).getFeaturesSelectors(),a=s.isEnabled,n=(0,s.getSetting)(I.zd.ADBLOCK_UPSELL_CUE_INTERVAL),r=Date.now()-1e3*t[I.ub.ADBLOCK_UPSELL_CUE];return a(I.ub.MAIL_PRO)?!t[I.ub.ADBLOCK_UPSELL_CUE]:r>n},[I.ub.LINKEDIN_REAUTH_CUE]:({action:e})=>{if(!e.response||!e.response[I.Nd.LinkedIn])return!1;const t=e.response[I.Nd.LinkedIn].connectedTimestamp;return!!(t&&t<1535673600)},[I.ub.BLOCK_SENDER_CUE]:({state:e,action:t})=>{const s=Object($i.b)(e),a=s.canDisplayBlockSenderMenuItemForMessageId,n=s.doesMessageGroupIdExist,r=s.getMessageIdsFromMessageGroupId,i=Object(b.a)(t,"route.params.groupId");if(!i)return!1;if(!n(i))return!1;const o=r(i);return 1===o.length&&a(o[0])},[I.ub.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const s=(0,Object($i.b)(e).getSetting)(I.zd.RIGHT_RAIL_UPSELL_CUE_INTERVAL);return Date.now()-1e3*t[I.ub.RIGHT_RAIL_AD_FREE_UPSELL_CUE]>s},[I.ub.PARTNER_RECONSENT_BANNER]:({state:e})=>{const t=Object($i.b)(e),s=t.isDraftRoute;return!(0,t.isComposeRoute)()&&!s()&&(Object(A.b)()&&window.OathReConsent&&window.OathReConsent.hasInlineBanner)},[I.ub.CONVERSATIONS_CUE]:({state:e})=>!!Object($i.b)(e).getFeaturesSelectors().isEnabled(I.ub.CONVERSATIONS),[I.ub.NEED_TO_KNOW_NEWS_CUE]:({state:e})=>{const t=Object($i.b)(e),s=t.isFeatureEnabled,a=t.getSetting,n=(0,t.getQueryParams)();return(!n[".src"]||"fp"!==n[".src"]||!s(I.ub.HIDE_NTK_FOR_HOMEPAGE_USERS))&&(!(s(I.ub.HIDE_NTK_FOR_SMALLER_SCREEN)&&Object(A.b)()&&screen&&screen.width<Ri.APP_MIN_WIDTH_VERTICAL_VIEW)&&!!(()=>{const e=a(I.zd.SCOUT_ONBOARDING);if(e&&0===e.length)return!1;const t=Object(AS.a)(e,I.ub.NEED_TO_KNOW_NEWS_CUE);if(t){const e=Math.floor(Date.now()/1e3),s=a(I.zd.NEED_TO_KNOW_NEWS_CUE_INTERVAL),n=e-parseInt(t,10);return n>0&&n>s}return!0})())},[I.ub.MOBILE_PAC_NOTIFICATION_CUE]:({state:e})=>{return!(0,Object($i.b)(e).getFeatureCueSelectors().isShown)(I.ub.MOBILE_ONBOARDING_CUE)},[I.ub.COUPON_LANDSHARK_CUE]:({state:e,action:t,featureCueTimestamps:s})=>{const a=Object($i.b)(e),n=a.getFeatureCueSelectors,r=a.doesMessageGroupIdExist,i=a.getMessageIdsFromMessageGroupId,o=(0,a.getMessagesSelectors)().getDecos,c=n().isShown,d=s[I.ub.MOBILE_ONBOARDING_CUE]||0,l=new Date,u=Object(b.a)(t,"route.params.groupId");if(!u)return!1;if(!r(u))return!1;const _=i(u),m=o(_[0]),p=Object($t.l)(m,[I.nc.CPN]);return 1===_.length&&p&&!c(I.ub.MOBILE_ONBOARDING_CUE)&&kE()(l,1e3*d)>1},[I.ub.TMR_ICON_NOTIFICATION]:({action:e,featureCueTimestamps:t,featureCueUserResponse:s})=>{switch(e.type){case go.Eg:{const a=Object(b.a)(e,"data.atos.atosStatus","");if(a===I.fe.EXPIRED||a===I.fe.NO_STATE){const e=t[I.ub.TMR_ICON_NOTIFICATION],a=Date.now()-1e3*e;return!e||a>864e5&&s[I.ub.TMR_ICON_NOTIFICATION]<=3}if(a===I.fe.SUSPENDED)return!1;if(a===I.fe.AGREED){const t=Object(b.a)(e,"data.lastRegisteredActions",[]).filter(e=>e.rewardsActionType===I.ee.DAILY_CHECKIN)[0].completedChallenges;return!!t.length&&t.some(e=>e.tag===I.ge.DAILY_CHECKIN)}return!1}case go.Gk:{const t=Object(b.a)(e,"data.completedChallenges");return!!t.length&&t.some(e=>Object.keys(I.ge).indexOf(e.tag)>-1)}default:return!1}}},OS=(e,t={})=>{const s=(e,s="value")=>{return null===s?t[e]:(t[e]||{})[s]},a=t[I.ic.BLOCK_IMAGES]?!t[I.ic.BLOCK_IMAGES].value:void 0;return Object.keys(t).length?{[I.zd.THEME]:s(e?I.ic.MOBILE_THEME:I.ic.THEME),[I.zd.THEME_MODE]:s(e?I.ic.MOBILE_THEME_MODE:I.ic.THEME_MODE),[I.zd.MSG_LIST_DENSITY]:s(I.ic.MSG_LIST_DENSITY),[I.zd.PREVIEW_PANE]:s(I.ic.PREVIEW_PANE),[I.zd.SNIPPETS]:s(e?I.ic.MOBILE_SNIPPETS:I.ic.SNIPPETS),[I.zd.COMPOSE_FONT_FAMILY]:s(I.ic.COMPOSE_FONT_FAMILY),[I.zd.COMPOSE_FONT_SIZE]:s(I.ic.COMPOSE_FONT_SIZE),[I.zd.DESKTOP_NOTIFICATION]:s(I.ic.DESKTOP_NOTIFICATION),[I.zd.MOBILE_NOTIFICATION]:s(I.ic.MOBILE_NOTIFICATION),[I.zd.MARK_AS_READ_INTERVAL]:s(I.ic.MARK_AS_READ_INTERVAL),[I.zd.DELIVERY_BLOCKED_SENDERS]:s(I.ic.DELIVERY_BLOCKED_SENDERS,"senders"),[I.zd.SHOW_IMAGES]:e?s(I.ic.MOBILE_SHOW_IMAGES):a,[I.zd.LINK_ENHANCR]:s(I.ic.LINK_ENHANCER),[I.zd.VACATION_PREFERENCES]:s(I.ic.VACATION_PREFERENCES,null),[I.zd.DEA_BASE_NAME]:s(I.ic.DEA_BASE_NAME,null),[I.zd.MAILBOX_SIZE]:s(I.ic.MAILBOX_SIZE,null),[I.zd.MESSAGE_FILTERS]:s(I.ic.MESSAGE_FILTERS,"filters"),[I.zd.ACTION_AFTER_MSG_MOVE]:s(I.ic.ACTION_AFTER_MSG_MOVE),[I.zd.SHOW_CUSTOM_FOLDERS]:s(I.ic.SHOW_CUSTOM_FOLDERS),[I.zd.SHOW_SMART_VIEWS]:s(I.ic.EXPAND_SMART_VIEWS),[I.zd.MAIL_TABS]:s(I.ic.MAIL_TABS),[I.zd.EMAIL_SUBSCRIPTIONS]:s(I.ic.EMAIL_SUBSCRIPTIONS),[I.zd.HIDE_AD]:s(I.ic.HIDE_AD),[I.zd.EXPANDED_FOLDERS]:s(I.ic.EXPANDED_FOLDERS),[I.zd.STATIONERY_DEFAULT_THEME]:s(I.ic.STATIONERY_DEFAULT_THEME),[I.zd.UNSUBSCRIBE_NOTIFICATION]:s(I.ic.UNSUBSCRIBE_NOTIFICATION),[I.zd.UNSUBSCRIBE_TIMESTAMP]:s(I.ic.UNSUBSCRIBE_TIMESTAMP),[I.zd.NUM_UNSUBSCRIBED_ITEMS]:s(I.ic.NUM_UNSUBSCRIBED_ITEMS),[I.zd.RECENTLY_USED_EMOJIS]:s(I.ic.RECENTLY_USED_EMOJIS),[I.zd.SYSTEM_TABS]:s(I.ic.SYSTEM_TABS),[I.zd.SCOUT_ONBOARDING]:s(I.ic.SCOUT_ONBOARDING),[I.zd.AD_BLOCK_FEATURE_CUE_ID]:s(I.ic.AD_BLOCK_FEATURE_CUE_ID),[I.zd.PREFERRED_AD_FORMAT]:s(I.ic.PREFERRED_AD_FORMAT),[I.zd.SUPPRESSED_UPSELLS]:s(I.ic.SUPPRESSED_UPSELLS),[I.zd.USE_RICH_TEXT]:s(I.ic.USE_RICH_TEXT),[I.zd.BREAKING_NEWS_SETTINGS]:s(I.ic.BREAKING_NEWS)}:{}};var RS=({__initializeFeatures__:e,featureSequence:t={},featureCueTimestamps:s={},featureCueUserResponse:a={},config:n={},queryStringOverrides:r={}})=>(o,c)=>{const d=c.type,l=c.name,u=c.fromFeature,_=c.mailboxAttributes,m=M()(c,["type","name","fromFeature","mailboxAttributes"]),p=t[d]||[],h=(({state:e={},action:t={},initializedFeatures:s={},featureCueTimestamps:a={},featureCueUserResponse:n={}})=>r=>{const i=s[r]||{},o=Object($i.b)(e).getFeaturesSelectors().isEnabled,c=o(I.ub.SCOUT_PREDICATE);if(o(I.ub.SCOUT_RECURRING)&&i.isFeatureCue&&i.recurringInterval&&a[r]&&!i.reShowInSession){const e=Math.floor(Date.now()/1e3)-parseInt(a[r],10);if(e>0&&e<i.recurringInterval)return!1}return!c||"function"!=typeof bS[r]||bS[r]({state:e,action:t,featureName:r,featureCueTimestamps:a,featureCueUserResponse:n})})({state:o,action:c,initializedFeatures:e,featureCueTimestamps:s,featureCueUserResponse:a});switch(d){case go.eg:return i()({},c,{features:i()({},n)});case go.Vf:{const t=p.filter(h),s=V()(t,1)[0],d=(_||{}).responses,l=Object($i.b)(o).isMobileRoute(),u=OS(l,d);return r!=={}&&Object.assign(u,r),i()({},c,{features:Object.assign({},Object.keys(e).reduce((t,a)=>i()({},t,{[a]:(a===s||!!e[a].enabled)&&h(a)}),{}),Object.keys(n).filter(e=>"boolean"!=typeof n[e]&&!(e in u)).reduce((e,t)=>i()({},e,{[t]:n[t]}),u)),nextFeature:s||"",featureCues:Object.keys(e).filter(t=>e[t].isFeatureCue).reduce((t,s)=>i()({},t,{[s]:{isShown:!1,isKeySaved:!1,isPersistent:!!e[s].isPersistent,isUdbOnly:!!e[s].isUdbOnly,subkey:e[s].subkey,userResponse:a[s]||"0",action:e[s].action||"",nextFeatureCues:e[s].nextFeatureCues||{},recurringInterval:e[s].recurringInterval||0,reShowInSession:e[s].reShowInSession||!1,isFeatureCue:!0}}),{})})}case go.ij:case go.oj:case go.Yh:case go.nc:case go.uj:{const e=c.mailboxAttributes,t=Object($i.b)(o).isMobileRoute(),s=OS(t,e);return i()({},c,{features:s})}case go.hf:case go.ff:case go.We:case go.ef:{if(!u&&!l)return c;const t=e[u||l].nextFeatureCues,s=void 0===t?{}:t;return i()({},m,{type:d,nextFeatureCues:[s[d]]},u?{fromFeature:u}:{name:l})}case go.Y:{const e=Object($i.b)(o).isFeatureEnabled;return c.isVisible&&e(I.ub.SHOW_NTK_ON_VISIBILITY_CHANGE)?i()({},c,{showNTK:h(I.ub.NEED_TO_KNOW_NEWS_CUE)}):c}case go.Gk:return i()({},c,{showTMRNotification:h(I.ub.TMR_ICON_NOTIFICATION)});default:{const e=Object($i.b)(o).getFeatureCueSelectors().shownFeatures().filter(Object($i.b)(o).getFeaturesSelectors().isEnabled),t=V()(e,1)[0]?[]:p.filter(e=>!Object($i.b)(o).getFeatureCueSelectors().isShown(e)).filter(h),s=V()(t,1)[0];return s&&(s!==I.ub.TMR_ICON_NOTIFICATION||h(I.ub.TMR_ICON_NOTIFICATION))?i()({},c,{nextFeature:s}):c}}};const NS={isReadMessage:e=>e.flags.read,isUnreadMessage:e=>!e.flags.read,isStarredMessage:e=>e.flags.flagged,isUnstarredMessage:e=>!e.flags.flagged,isRecentlySentMessage:e=>t=>e.isSendRequested(t.csid),isMoveableMessage:(e,t)=>s=>(function(e,t,s){const a=s.isMessageRoute,n=s.getRoute,r=t.folder,i=t.destinationFolder,o=Object(At.o)(i),c=Object(At.o)(r),d=n();let l=function(e){const t={[I.Cb.INBOX]:1,[I.Cb.USER]:1,[I.Cb.ARCHIVE]:1,[I.Cb.BULK]:2,[I.Cb.TRASH]:2,[I.Cb.SENT]:3,[I.Cb.DRAFT]:4};return e.reduce((e,s)=>{const a=t[e]||100,n=t[s]||100;return a<n?a:s},"")}(e);l||(l=MS);if(!function(e,t){return e.accountId===t.accountId}(r,i))return!1;if(r.id===i.id&&o!==I.Cb.TRASH)return!1;switch(l){case I.Cb.INBOX:case I.Cb.USER:case I.Cb.ARCHIVE:if(a()&&!t.isExplicitlySelected)return c!==I.Cb.DRAFT;if(yS(c))return t.isExplicitlySelected;if(DS(c)){const e=t.isExplicitlySelected,s=d.name===I.gd.Search||d.name===I.gd.MESSAGE_FROM_SEARCH_LIST;return e||s}return!LS(c)&&!LS(o);case I.Cb.SENT:if(a()&&!t.isExplicitlySelected)return c!==I.Cb.DRAFT;if(yS(c))return t.isExplicitlySelected;if(!DS(c)){const e=t.isExplicitlySelected,s=d.name===I.gd.Search||d.name===I.gd.MESSAGE_FROM_SEARCH_LIST;return e||s}return!LS(o);case I.Cb.DRAFT:return a()&&!t.isExplicitlySelected?c!==I.Cb.DRAFT:c===I.Cb.DRAFT&&(o===I.Cb.TRASH||o===I.Cb.SENT);case I.Cb.TRASH:case I.Cb.BULK:return!LS(o);case MS:return yS(c)?o===I.Cb.TRASH:DS(c)?o!==I.Cb.DRAFT:!LS(o);default:return!1}})(e,s,t),isFromSenders:e=>t=>(function(e,t){if(t.fromAddresses&&t.fromAddresses.some(t=>-1!==e.indexOf(t.email)))return!0;return!1})(e,t),default:()=>!1},MS="KEYWORD";function DS(e){return e===I.Cb.SENT}function yS(e){return e===I.Cb.DRAFT}function LS(e){return e===I.Cb.DRAFT||e===I.Cb.SENT}var vS=NS;const PS=I.Cb.TRASH,FS=I.Cb.BULK,wS=I.Cb.DRAFT,kS=e=>-1!==[I.ne.READ_CHANGE_FOLDER_ITEMS,I.ne.ARCHIVE_FOLDER_ITEMS,I.ne.DELETE_FOLDER_ITEMS,I.ne.DELETE_ALL_FROM_SENDERS].indexOf(e),xS=({acctId:e,folderId:t,senderEmailIds:s,filterUnread:a=!1})=>{if(s.length>0)return t?`folderId:${t} count:10000`+s.reduce((e,t)=>e+` fromEmail:${t}`,""):`acctId:${e} count:10000`+s.reduce((e,t)=>e+` fromEmail:${t}`,"");let n=`folderId:${t} count:10000`;return a&&(n+=" is:unread"),n};function US(e={},t,s){const a=e.folder,n=e.destinationFolder;if(!a)return!1;if(s===go.li||s===go.bk)return!1;const r=t(a.id),i=n?t(n.id):void 0;return!(Object(eo.t)(e.listId)!==I.Pb.MESSAGES||!e.isAffected)&&((!i||r!==FS||i===PS)&&((s!==go.vh||-1===[PS,FS].indexOf(r))&&-1!==[PS,FS,wS].indexOf(r)))}const GS=e=>-1!==[I.Pb.MESSAGES,I.Pb.IMAGES,I.Pb.DOCUMENTS,I.Pb.COUPON_CARDS,I.Pb.TRAVEL_CARDS,I.Pb.REFUND_CARDS].indexOf(Object(eo.t)(e)),jS=(e,t)=>s=>{const a=t.destinationFolderType,n=t.checkForDuplicates,r=Object($i.b)(e),o=r.doesMessageGroupIdExist,c=r.getMessagesSelectors,d=r.getFeaturesSelectors,l=r.getAttachmentIdsByMessageId,u=r.getMessageCsid,_=r.getMessageFolderId,m=r.getMessageIdsFromMessageGroupId,p=r.getAccountById,h=(0,r.getFoldersSelectors)(),g=h.getAccountIdByFolderId,E=h.getFolderIdsFromFolderType,S=h.getPrimaryFolderTypeByFolderId,C=c(),f=C.getConversationId,T=C.getFromAddresses,A=d().isEnabled,b=((e,t)=>s=>{const a=t.type,n=(0,Object($i.b)(e).getMessageFlags)(s)||{};switch(a){case go.Fl:case go.zl:{const e=t.message,a=(void 0===e?{}:e).inReplyTo,r=void 0===a?{}:a,o=r.messageReference,c=r.replied,d=r.forwarded;if((void 0===o?{}:o).id===s)return i()({},n,c?{answered:!0}:null,d?{forwarded:!0}:null)}}return n})(e,t),O=A(I.ub.CONVERSATIONS);return s.filter(e=>GS(e.listId)&&o(e.id)).map(e=>{const r=m(e.id);return r.map(o=>{const c=_(o),d=g(c),m=p(d),h=a?E(a,d)[0]:t.destinationFolderId,C=h?VS(h,S(h),g(h)):void 0,A=O?f(o):o,R=(e.messageIds||[]).indexOf(o)>=0||1===r.length,N=!e.messageIds&&r.indexOf(o)>=0,M=T(o),D=(({count:e,checkForDuplicates:t=!1,account:s,destinationFolder:a,conversations:n})=>(t||e<=I.bb)&&!!a&&(-1!==a.types.indexOf(I.Cb.TRASH)||-1!==a.types.indexOf(I.Cb.BULK))&&n&&"IMAPIN"===s.type&&-1!==I.a.indexOf(s.serverUri))({count:s.length,checkForDuplicates:n,account:m,destinationFolder:C,conversations:O});return i()({},e,{messageId:o,csid:u(o),isExplicitlySelected:R,isImplicitlySelected:N,groupId:A,folder:VS(c,S(c),d),destinationFolder:C,flags:b(o),attachmentIds:l(o),fromAddresses:M,deleteDuplicates:D})})}).reduce((e,t)=>e.concat(t),[])},HS=(e,t)=>s=>{const a=jS(e,t);return[...s.filter(e=>-1===[I.Pb.MESSAGES,I.Pb.COUPON_CARDS].indexOf(Object(eo.t)(e.listId))),...a(s)]},BS=(e,t)=>{const s=t.streamId,a=t.streamItem,n=Object($i.b)(e),r=n.doesStreamExist,i=n.getSelectedStreamItems,o=n.getCursorItem,c=r(s)?o(s):void 0,d=r(s)?i(s):[];let l=[];return a?l=[a]:t.batchRemoveItems&&t.batchDelete?l=t.batchRemoveItems:t.allSelected?l=t.streamItems.map(({id:e,listId:t})=>({id:e,listId:t})):d.length?l=d:c&&(l=[c]),HS(e,t)(l)};function VS(e,t,s){return{id:e,types:[t],accountId:s}}const WS=(e,t)=>{const s=Object($i.b)(e),a=s.getListsSelectors,n=(0,s.getFoldersSelectors)(),r=n.getFolderIdsByName,i=n.doesFolderIdExist,o=a(),c=o.getListIdsByContentType,d=o.getItemIds;switch(t.type){case go.vd:return c(I.Pb.COUPON_CARDS).map(e=>({listId:e}));case go.Ed:return[{listId:t.streamItem.listId}];case go.fd:return[{listId:t.streamItem.listId},{listId:t.streamItem.oldListId}];case go.Rd:{const s=(0,Object($i.b)(e).getContactListSelectors)().getContactById,a=t.streamItems.reduce((e,{id:t})=>e.concat(s(t).emails),[]);return c(I.Pb.CONTACTS).concat(c(I.Pb.PEOPLE).filter(e=>Object(eo.A)(e)===I.Rb.CONTACT_DETAILS)).reduce((e,s)=>{const n=d(s);let r=!1;const i=Object(eo.u)(s);return i===I.Qb.IMPORTANT_CONTACTS||i===I.Qb.GROUPS?(r=n.some(e=>a.some(t=>t===e)))?e.concat({listId:s,itemsToUpdate:a}):e:(r=n.some(e=>t.streamItems.some(t=>e===t.id)))?e.concat({listId:s}):e},[])}}return c(I.Pb.MESSAGES).map(e=>{const t=Object(eo.p)(e),s=t.folderIds,a=void 0===s?[]:s,n=t.folderNames;return{listId:e,folderIds:(void 0===n?[]:n).reduce((e,t)=>e.concat(r(t)),[]).concat(a).filter(i)}}).concat(c(I.Pb.IMAGES).map(e=>({listId:e}))).concat(c(I.Pb.DOCUMENTS).map(e=>({listId:e})))};function qS(e,t){const s=t.type,a=t.itemToUpdate,n=Object($i.b)(e),r=(0,n.getFoldersSelectors)(),i=r.doesFolderIdExist,o=r.getPrimaryFolderTypeByFolderId,c=r.getFolderIdsByName;switch(s){case go.zl:case go.Fl:return vS.isRecentlySentMessage(n);case go.Uk:case go.vh:case go.ce:{const e=Object(eo.p)(a.listId),t=e.folderIds,s=void 0===t?[]:t,r=e.folderNames,d=(void 0===r?[]:r).reduce((e,t)=>e.concat(c(t)),[]).concat(s).filter(i).map(o);return vS.isMoveableMessage(d,n)}case go.jb:{const e=t.deleteItemsFromSenders;return vS.isFromSenders(void 0===e?[]:e)}case go.li:return Object(E.a)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`),t.isRead?vS.isReadMessage:vS.isUnreadMessage;case go.bk:return Object(E.a)("boolean"==typeof t.isStarred,`Action ${s} does not have isStarred prop.`),t.isStarred?vS.isStarredMessage:vS.isUnstarredMessage;default:Object(E.a)(!1,`Action ${s} does not have an associated rule with it.`)}}var zS=(e,t)=>{const s=t.type,a=t.streamId,n=t.streamItem,r=t.staleFolderIds;let o;if(s===go.Pb&&(void 0===r?[]:r).length)return i()({},t,{listsToUpdate:WS(e,t)});if(s===go.Lh){const s=Object($i.b)(e),a=s.getListStatus,n=t.forceSync,r=void 0!==n&&n,o=t.listId,c=t.i13nModel,d=(void 0===c?{}:c).mKey===Gi.e.SEARCH_BUTTON;if((0,s.doesListExist)(o)&&a(o)===I.bd.ERROR&&(r||d))return i()({},t,{listsToUpdate:[{listId:o}],forceSync:!0})}if(s===go.tl&&kS(t.triageActionType))return i()({},t,{listsToUpdate:WS(e,t),forceSync:!0});if(!a&&s!==go.Rd&&s!==go.fd&&s!==go.Ed)return t;switch(s){case go.Uk:o=t.itemsToUpdate;break;case go.Cl:{const s=Object($i.b)(e),r=s.getCursorItem,c=(0,s.doesStreamExist)(a)?r(a):void 0,d=HS(e,t);if(!(o=c?d([c]):void 0))break;o=o.map(e=>e.csid===t.csid?i()({},e,{newId:n.id,isAffected:!0}):e);break}case go.zl:case go.Fl:case go.vh:case go.ce:case go.jb:case go.li:case go.bk:{const a=(0,Object($i.b)(e).getFoldersSelectors)().getPrimaryFolderTypeByFolderId;if(kS(t.triageActionType)){const n=t.folderId,r=t.flags,c=void 0===r?{}:r,d=t.destinationFolderType,l=t.listId,u=t.permanent,_=void 0!==u&&u,m=((e,t)=>(s,a,n={},r,i,o,c=[])=>{const d=(0,Object($i.b)(e).getFoldersSelectors)(),l=d.getAccountIdByFolderId,u=d.getPrimaryFolderTypeByFolderId,_=d.getFolderIdsFromFolderType,m=a?l(a):s,p=r?_(r,m)[0]:void 0,h=p?VS(p,u(p),l(p)):void 0;return{folder:a?VS(a,u(a),m):void 0,listId:o,messageQuery:xS({acctId:s,folderId:a,senderEmailIds:c,filterUnread:t.triageActionType===I.ne.READ_CHANGE_FOLDER_ITEMS}),isAffected:!0,permanentDelete:i,flags:n,destinationFolder:h}})(e,t),p=Object($i.b)(e).getSelectedAccountId,h=!(!n||-1===[I.Cb.BULK,I.Cb.TRASH].indexOf(a(n)));if(s===go.jb){const r=t.deleteItemsFromSenders,c=void 0===r?[]:r;o=(o=[m(p(),h?n:void 0,{},d,_,l,c)]).concat(BS(e,t).filter(s=>qS(e,i()({},t,{itemToUpdate:s}))(s)).map(e=>{let t=Object.assign({},e,{isAffected:!0});return US(t,a,s)&&(t.permanentDelete=!0,t=Object(b.f)(t,["destinationFolder"])),t}))}else o=[m(void 0,n,c,d,_,l)];break}o=BS(e,t).map(n=>{const r=qS(e,i()({},t,{itemToUpdate:n}));let o=i()({},n,{isAffected:(n.isExplicitlySelected||n.isImplicitlySelected)&&GS(n.listId)&&r(n)});!o.destinationFolder&&(s===go.ce||s===go.vh)||US(o,a,s)?(o.permanentDelete=!0,o=Object(b.f)(o,["destinationFolder"])):o.permanentDelete=!1;const c=Object(b.a)(n,"destinationFolder.types",[]),d=Object(b.a)(n,"folder.types",[]);return o.isSpamMove=!1,o.isHamMove=!1,s!==go.ce&&s!==go.vh||o.permanentDelete||(-1!==c.indexOf(I.Cb.BULK)?o.isSpamMove=!0:-1!==d.indexOf(I.Cb.BULK)&&(o.isHamMove=!0)),o});break}case go.vd:o=t.messageDecosPayloads.map(e=>({id:e.messageId,isAffected:!0}));break;case go.Rd:{const s=Object($i.b)(e),a=s.getContactListSelectors,n=(0,s.getListsSelectors)().getItemIds,r=a(),c=r.getContactById,d=(0,r.getCurrentPaneListId)();t.streamId=d,t.streamItems=t.streamItem?[t.streamItem]:t.streamItems,o=t.streamItems.map(e=>{const t=c(e.id);return i()({},e,{listId:n(d).find(t=>n(t).indexOf(e.id)>=0),editToken:t.editToken,emails:t.emails,isAffected:!0})});break}case go.Ed:{const s=(0,(0,Object($i.b)(e).getContactListSelectors)().getCurrentPaneListId)();t.streamId=s,t.streamItem={streamId:s,id:t.contact.id,listId:Object(eo.W)(Object(eo.j)(I.Qb.USER_CREATED_CONTACTS,""),{name:t.contact.name.charAt(0).toUpperCase()})},o=[i()({},t.streamItem,{isAffected:!0})];break}case go.fd:{const s=(0,Object($i.b)(e).getContactListSelectors)(),a=s.getContactById,n=(0,s.getCurrentPaneListId)(),r=a(t.contact.id),c=r.name.charAt(0).toUpperCase(),d=r.emails?r.emails.filter((e,s)=>e!==t.contact.emails[s]):[],l=Object(eo.W)(Object(eo.j)(I.Qb.USER_CREATED_CONTACTS,""),{name:t.contact.name.charAt(0).toUpperCase()}),u=Object(eo.W)(Object(eo.j)(I.Qb.USER_CREATED_CONTACTS,""),{name:c});t.streamId=n,t.streamItem={streamId:n,id:t.contact.id,listId:l,oldListId:u,changedEmails:d},o=[i()({},t.streamItem,{isAffected:!0})];break}}return o?i()({},t,{itemsToUpdate:o,listsToUpdate:WS(e,t)}):t};var KS=(e,t)=>{const s=t.simpleBody,a=t.messageIds,n=void 0===a?[]:a,r=t.messageBodiesMap,o=void 0===r?{}:r,c=t.messageMetadataMap,d=void 0===c?{}:c,l=t.errorMessageIds,u=void 0===l?[]:l;switch(t.type){case go.Vf:case go.Mg:case go.Ug:case go.Lg:{const e=Object.keys(o);if(!e.length&&!u.length)return t;const s=e.reduce((e,t)=>{const s=(d[t]||{}).csid;return i()({},e,{[t]:{body:o[t]}},s?{[s]:{body:o[t]}}:{})},{}),a=u.reduce((e,t)=>i()({},e,{[t]:{}}),{});return i()({},t,{v3MessageBodiesMap:i()({},s,a)})}case go.Jg:case go.gh:case go.Zj:case go.Cl:case go.zl:return i()({},t,{v3MessageBodiesMap:i()({[t.message.id]:{body:s}},t.csid?{[t.csid]:{body:s}}:{})});case go.Sg:case go.Kg:case go.di:return n.length?i()({},t,{v3MessageBodiesMap:n.reduce((e,t)=>i()({},e,{[t]:{}}),{})}):t;default:return t}};const ZS=I.O.Modes;var YS=(e,t)=>{switch(t.type){case go.El:{const s=Object($i.b)(e).getRoute,a=Object(eo.w)(s());return i()({},t,{listId:a})}case go.ch:return i()({},t,{inReplyToMessageId:t.composeMode===ZS.REPLY?t.message.id:null,inReplyAllToMessageId:t.composeMode===ZS.REPLY_ALL?t.message.id:null,inForwardToMessageId:t.composeMode===ZS.FORWARD?t.message.id:null});default:return t}};var XS=({internal:e=!1})=>(t,s)=>{switch(s.type){case go.Vf:return i()({},s,{internal:e});default:return s}},QS=(e,t)=>{switch(t.type){case go.ce:case go.vh:if(t.fromMessageGroupView){const s=Object($i.b)(e),a=s.getSetting,n=(0,s.getAdsSelectors)(),r=n.getMessageReadAdRotationTimestamp(),o=n.getMessageReadAdRotationActive(),c=a(I.zd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL);return i()({},t,{messageReadAdRotationTimestamp:r,messageReadAdRotationActive:o,messageReadAdRotationIdleInterval:c})}break;case go.ch:case go.Pg:case go.Qg:case go.Y:case go.Lh:{const s=Object($i.b)(e),a=s.getSetting,n=(0,s.getAdsSelectors)(),r=n.getMessageReadAdRotationTimestamp(),o=n.getMessageReadAdRotationActive(),c=a(I.zd.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL);return i()({},t,{messageReadAdRotationTimestamp:r,messageReadAdRotationActive:o,messageReadAdRotationIdleInterval:c})}}return t},$S=(e,t)=>{switch(t.type){case go.Lh:{if(t.route.name===I.gd.SPONSORED_MESSAGE){const s=(0,Object($i.b)(e).getAdsSelectors)(),a=s.getGeminiAdDataFromCreativeId,n=s.getSponsoredAd,r=Object(b.a)(t,"route.params",{}).creativeId;return n(r)?t:i()({},t,{sponsoredAd:a(r)})}if(t.route.name!==I.gd.MESSAGE_FROM_FOLDER_LIST&&t.route.name!==I.gd.MESSAGE_FROM_SEARCH_LIST)return t;const s=Object($i.b)(e),a=s.getMessageFromAddress,n=s.doesMessageIdExist,r=s.getMessageIdsFromMessageGroupId,o=(0,s.getFeaturesSelectors)().isEnabled,c=Object(b.a)(t,"route.params.groupId",null);if(c&&o(I.ub.GEMINI_CONTEXTUAL_ADS)){const e=r(c),s=e&&e[0],o=n(s)&&a(s),d=o&&Object(mg.b)(o);return i()({},t,{geminiCategories:d})}break}}return t},JS=s(33),eC=s.n(JS);var tC=(e,t)=>{switch(t.type){case go.bk:case go.li:{const s=t.streamItem,a=t.streamId,n=Object($i.b)(e),r=n.doesStreamExist,o=n.getCursorItem,c=n.getSetting,d=n.isMessageRoute,l=n.getMessageGroupStreamItemsWithExpansionStates,u=(0,n.getStreamsSelectors)().getSelectedItemsSelectors,_=(r(a)?u(a):{}).isItemSelected,m=r(a)?o(a):{},p=c(I.zd.PREVIEW_PANE);if(s&&(p&&eC()(s,m)&&!_(s)||d())){const e=l(s);return i()({},t,{persistStreamItemExpansionStates:e})}return t}default:return t}};const sC="abcdefghijklmnopqrstuvwxyz0123456789.!#$%&'*+-/=?^_`{|}~".split("");var aC=(e,t)=>{switch(t.type){case go.id:{const s=Object($i.b)(e).getComposeSuggestionsFromImportantsByQuery,a=s({query:t.query,contextEmail:t.contextFrom});return i()({},t,{contacts:a,nextContacts:a.length?sC.reduce((e,a)=>{const n=t.query+a;return e[n]=s({query:n,contextEmail:t.contextFrom}),e},{}):{}})}}return t};var nC=(e,t)=>{switch(t.type){case go.Rh:{const s=(0,Object($i.b)(e).getSetting)(I.zd.SCOUT_ONBOARDING),a=Object(AS.b)(s,I.ub.WEB_PAC_NOTIFICATION_CUE)+1,n=a>=I.te;return i()({},t,{userResponse:a,shownMaxTimes:n})}case go.We:case go.hf:case go.af:{const s=Object($i.b)(e),a=t.name;if(t.userResponse)return t;const n=(0,s.getSetting)(I.zd.SCOUT_ONBOARDING),r=Object(AS.b)(n,a);return i()({},t,{userResponse:r+1})}default:return t}},rC=s(149);var iC=(e,t)=>{const s=t.streamItems,a=t.selectionType;switch(t.type){case go.ik:case go.X:{const n=s.filter(t=>Object(rC.f)(t,a,Object($i.b)(e)));return i()({},t,{selectedItems:n})}default:return t}};var oC=(e,t)=>{switch(t.type){case go.Lh:{const s=Object($i.b)(e),a=s.doesMessageGroupIdExist,n=s.getMessagesSelectors,r=s.getMessageIdsFromMessageGroupId,o=Object(b.a)(t,"route.params.groupId",""),c=a(o)?r(o):[],d=n().getDecos;let l=!1;if(c.length>0){const e=d(c[0]);l=Object($t.l)(e,[I.nc.ORD,I.nc.PKG])}return i()({},t,{isOrdOrShipmentMail:l})}case go.di:{const s=Object($i.b)(e),a=s.doesMessageGroupIdExist,n=s.getMessagesSelectors,r=s.getMessageIdsFromMessageGroupId;let o="";if((0,s.isFeatureEnabled)(I.ub.CONVERSATIONS)){const e=Object(b.a)(t,"itemId","");o=(a(e)?r(e):[])[0]}else o=Object(b.a)(t,"itemId","");const c=n().getDecos;let d=!1;if(o){const e=c(o);d=Object($t.l)(e,[I.nc.ORD,I.nc.PKG])}return i()({},t,{isOrdOrShipmentMail:d})}default:return t}};var cC=(e,t)=>{switch(t.type){case go.Hi:{const s=(0,Object($i.b)(e).getActionableRightRailPane)();return i()({},t,{isPaneVisible:!!s})}default:return t}};var dC=e=>[XS(e),JI,eS,SS,fS,CS,YS,zS,RS(e),KS,QS,$S,tC,iC,cC,aC,nC,oC],lC=s(382);var uC=Object(_I.provideContext)(f_.a(Object(Rd.a)(g_)),{config:ni.a.object,store:ni.a.object,loader:ni.a.object,appId:ni.a.string,partner:ni.a.string,timezone:No.e});const _C=si[I.t.MAIL_APP],mC=_C.paths,pC=_C.container,hC=_C.cssBundles,gC=_C.jsBundles;var EC={name:I.t.MAIL_APP,component:jI,confirmMiddleware:(e,t)=>s=>{Object(A.b)()&&window.addEventListener("beforeunload",e=>{const a=Object($i.b)(s.getState()),n=a.showUnsyncedDataWarning,r=window.AppIntl.messages[ZI.hasUnsavedMessage.id];if((0,a.isFeatureEnabled)("promptToSync")&&(n()||t().some(e=>e.preventRouteChange)))return e.returnValue=r,r});let a=!1;return t=>n=>{const r=Object($i.b)(s.getState()),i=r.isFeatureEnabled;if((0,r.getRoute)().name){if(a)return;if(n.route&&n.previousRoute!==n.route&&i("promptToSync")&&n.unsyncedData.some(e=>e.preventRouteChange))return Object(zI.a)(ii.a.createElement(KI.a,{primaryButtonLabel:ZI.confirmRouteChangeModalLeaveButton,secondaryButtonLabel:ZI.confirmRouteChangeModalCancelButton,customTitle:ii.a.createElement(mi.FormattedMessage,ZI.confirmRouteChangeModalTitle),showCustomTitle:!0,message:ii.a.createElement(mi.FormattedMessage,ZI.confirmRouteChangeModalBody),onPrimaryButtonClick:()=>{a=!1,t(n)},onSecondaryButtonClick:()=>{a=!1},onClose:()=>{a=!1}}),e.getComponentContext()),void(a=!0)}return t(n)}},routes:Object.keys(mC).reduce((e,t)=>i()({},e,{[t]:{method:"GET",path:mC[t]}}),{}),stores:[],plugins:[qI],cssBundles:hC,jsBundles:gC,container:pC,apiClientConstructors:c()(Jr.apiClientConstructors,{}),batchMethods:c()(Jr.batchMethods,{}),rootReducer:$i.a,selectors:$i.b,enhancers:dC,actionSyncers:lC.a,searchComponent:uC},IC=(s(1076),s(1106),s(472)),SC=s(849),CC=s.n(SC),fC=function(e){const t=new CC.a;return e.plugins.forEach(e=>{t.plug(e)}),t},TC=s(850),AC=s.n(TC),bC=s(851),OC=s.n(bC),RC=s(232),NC=s(607),MC=s.n(NC),DC=s(140);const yC=Le.a.create("norrin/actions"),LC=Le.a.create("norrin/action_error");var vC=({crumb:e,loggerParams:t={}})=>()=>s=>a=>{const n=a.error,r=a.type,o=a.route,c=void 0===o?{}:o,d=a.tabRecencyRank;if(n)try{let e=null;e="string"==typeof n?{string:n}:Object.assign({},n.data||{},function(e=null){if(!e)return{};const t=new DC.a(e);return{name:e.name||"",message:Object(xl.c)(e.message||""),stack:t.toString()}}(n));const t=Object.assign({},a,{error:e});LC.fatal(`${r} failed`,t)}catch(e){LC.fatal(`${r} failed`,{message:"actionErrorLogger exception"})}const l=i()({},t,{action:r,crumb:e});r===go.Lh&&(l.routeName=c.name,l.routeUrl=c.url,void 0!==d&&(l.tabRecencyRank=d)),[go.Hg,go.Ig,go.Jg,go.eh,go.fh,go.gh,go.ej,go.dj].indexOf(r)>-1&&(l.csid=a.csid),"undefined"!=typeof performance&&performance.now&&(l.elapsedTime=performance.now());const u=yC.feature("flux_action",l);"undefined"!=typeof window&&window.requestAnimationFrame(u.logLatency);const _=s(a);return u.data.sametickTime=Date.now()-u.startTime,"undefined"==typeof window&&u.logLatency(),_};var PC=(e,{unsyncedDataManager:t,performance:s={},selectors:a})=>{const n=(e=>(t,s)=>e.reduce((e,s)=>s(t,e),s))(e);return e=>r=>o=>{if(o.unsyncedData)throw new Error("RESERVED_ACTION_PAYLOAD_KEY",'"unsyncedData" is reserved key for handling flux work flows in mail. Please use "PreserveDataOnUnmount" component to save data during unmount');const c=Date.now(),d=s.now?s.now():0,l=e.getState(),u=a(l),_=u.getReconciledUnsyncedData,m=u.getRequestHashForUnsyncedDataItem,p=(0,u.getCurrentHistoryState)();return r(n(l,i()({},o,{actionTimestamp:c,elapsedTimeFromSessionStart:d,historyState:p,unsyncedData:[].concat(_()).concat(t.getUnsyncedData()).filter(e=>{if(!e||!e.type)return!1;if(e.isAutoGenerated){const s=m(e);return!t.isUnsyncedDataItemSyncedByRequestHash(s)}return!0}).map(e=>e.timestamp?e:i()({},e,{timestamp:c}))})))}},FC=s(116);const wC="https://sb.scorecardresearch.com/b?";function kC(e,t,s){const a=document.charset||document.defaultCharset||"",n=window.location,r=encodeURI(`${n.origin}/comscore_beacon${n.pathname}/page_view.htm`),i=function(e){const t=e.pageUrl,s=e.charSet,a=e.comScore,n=e.csUcfr,r={c1:2,c2:7241469,ns__t:Date.now()};return t&&(r.c7=t),s&&(r.ns_c=s),a&&-1!==a.LTT&&(r.c14=a.LTT),a&&-1!==a.ageCode&&-1!==a.genderCode&&(r.c15=a.ageCode+"$"+a.genderCode),n&&(r.cs_ucfr=n),wC+h.a.stringify(r)}({spaceId:t,pageUrl:r,charSet:a,comScore:e,csUcfr:s});return Object(FC.a)(r,!1),Object(FC.a)(i,!1)}var xC=s(353),UC=s(608);const GC=(e,t,{selectors:s},a={})=>{const n=s(e),r=n.isFeatureEnabled,i=n.doesListExist,o=n.getListItemIds,c=n.getGroupIdContainingMessageId,d=n.getMessageIdsFromMessageGroupId,l=n.getMessageFlags,u=(0,n.getRoute)(),_=Object(eo.w)(u),m=i(_)?o(_):[],p=r(I.ub.CONVERSATIONS);r(I.ub.MKTG_BEACON)&&(kl.b.sendI13nModel({i13nModel:{mKey:Gi.e.MARKETING_BEACON,sec:Gi.g.LAUNCH}}),function(){const e={src:6589630,type:"nrn",cat:"nrnfsttm",u1:window.AppBootstrapData.userBeaconHash,u2:"",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};Object(FC.b)("https://6589630.fls.doubleclick.net/activityi;"+h.a.stringify(e,";")+"?")}()),(r(I.ub.NEWUSER_MKTG_BEACON)||a.isFirstTimeNobleUser)&&(kl.b.sendI13nModel({i13nModel:{mKey:Gi.e.NEWUSER_MARKETING_BEACON,sec:Gi.g.LAUNCH}}),function(){const e={src:6518610,type:"mbrship",cat:"mshipcfm",u1:window.AppBootstrapData.userBeaconHash,u2:"new",dc_lat:"",dc_rdid:"",tag_for_child_directed_treatment:"",ord:1};Object(FC.b)("https://6518610.fls.doubleclick.net/activityi;"+h.a.stringify(e,";")+"?")}()),u.query&&"ie2edge"===u.query.reason&&kl.b.sendI13nModel({i13nModel:{mKey:Gi.e.IE_TO_EDGE,sec:Gi.g.LAUNCH}}),r(I.ub.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)&&kl.b.sendI13nModel({i13nModel:{mKey:Gi.e.LASTPASS_FREETRIAL_UPSELL_VIEW_ELIGIBLE,sec:Gi.g.LASTPASS_FREETRIAL_UPSELL,interactionType:Gi.d.nav}});const g=[],E=m?m.filter(e=>{const t=e&&(p?e:c(e)),s=e&&-1===g.indexOf(t);return s&&g.push(t),s}).map((e,t)=>{const s=p?e:c(e),a=d(s),n=a.some(e=>l(e).flagged),r=a.every(e=>l(e).read);return{i:t,msgid:s,cnt:a.length,is_star:n?1:0,is_unrd:r?0:1}}).slice(0,20):[],S=r(I.ub.COMMERCIAL_ANALYSIS_OF_CONTENT);kl.b.sendI13nModel({i13nModel:{mKey:Gi.e.LAUNCH,sec:Gi.g.LAUNCH,mKeyGroup:Gi.f.launch,actionData:{pos_info:E,commercialAnalysisOptedIn:S}}})},jC=Object(xC.a)();var HC=(e,t,{AppBootstrapData:s,selectors:a})=>{if(!Object(A.b)())return;const n=jC(e,{browserLoggerParams:window.BrowserLoggerParams}),r=n.spaceId,o=n.pageParams;r&&(e=>{Object(A.b)()&&Object(b.a)(window,"YAHOO.i13n")&&(window.YAHOO.i13n.SPACEID=e)})(r);const c=a(e),d=c.isFeatureEnabled,l=c.isOriginSearchRoute,u=kl.b.getRapidInstance(),_={spaceid:r,test_id:s.usmLogString,keys:o,dwell_on:!0,extendbcookie:!0},m={};if(s.ymvMobile&&(m.isFirstTimeNobleUser=2===s.ymvMobile),!u){if(t.i13nModel){const e=t.i13nModel.actionData,s=void 0===e?{}:e;t.i13nModel=i()({},t.i13nModel,{actionData:i()({},s,{firstLaunch:!0})})}kl.b.init({rapid:_}),GC(e,0,{selectors:a},m)}if(t.i13nModel&&(t.i13nModel.isBeaconEvent?kl.b.sendBeaconEvent(t,e):kl.b.sendI13nModel(t,e,l())),!r)return;u&&u.reInit(_),((e,t)=>{Le.a.set(t),e&&e.beaconPageview()})(kl.b.getRapidInstance(),o),d(I.ub.COM_SCORE_BEACONING)&&(window&&window.__cmp?window.__cmp("getVendorConsents",null,function(e={},t){const a=e.vendorConsents;t&&e.gdprApplies&&a&&"boolean"==typeof a[77]?kC(s.comScore,r,a[77]?"1":"0"):kC(s.comScore,r)}):kC(s.comScore,r));const p=function(e,t){let s={};const a=Object($i.b)(e),n=a.getRoute,r=a.isFeatureEnabled,o=a.getSetting,c=a.couldShowEmptyFolderVideo,d=a.getParticipantInFocus,l=a.getSmartViewTypeFromListId,u=a.listExistsAndIsEmpty,_=a.shouldShowAdBlockCoupons,m=a.shouldShowEbayWarrantyUpsell,p=a.getReceiptFromMessageId,h=a.getPlaAdsSelectors,g=(0,a.getFoldersSelectors)(),E=g.doesFolderIdExist,S=g.getFolderName,C=r(I.ub.EMPTY_FOLDER_VIDEO),f=n(),T=(f.params||{}).fid,A=Object(eo.w)(f),b=r(I.ub.RELATED_SEARCHES_CARD),O=(d()||{}).email,R=void 0===O?"":O,N=Object(eo.t)(A),M=r(I.ub.PLA_ADS_AVAILABLE),D=h().getPlaAdsData(),y=r(I.ub.LASTPASS_UPSELL),L=r(I.ub.YFINANCE_UPSELL);if(!M||t.type!==go.Lh&&t.type!==go.di||(s=i()({},s,{plaAdsDisplay:M,plaAdCount:D.length,route:f})),!y||t.type!==go.Lh&&t.type!==go.di||(s=i()({},s,{showLastpassUpsell:y})),!L||t.type!==go.Lh&&t.type!==go.di||(s=i()({},s,{showYFinanceUpsell:L})),!b||t.type!==go.Lh&&t.type!==go.di||(s=i()({},s,{relatedSearchesCard:b,emailAddress:R,route:f})),c()){const e=Object(eo.O)(A);let t=E(T)?S(T):"";t=!t&&e?l(A).toLowerCase():"string"==typeof t?t.split("/").pop():t,s=i()({},s,{emptyFolderVideo:C,folderName:t,route:f})}if(N===I.Pb.TRAVEL_CARDS&&u(A)){const e=Object(eo.u)(A)===I.Qb.TRAVEL_VIEW_UPCOMING?Gi.b.TRAVEL_UPCOMING:Gi.b.TRAVEL_PAST;s=i()({},s,{eventName:Gi.a.SEARCH_ZERO_RESULTS,etrg:"change",outcome:e})}if(!_()||t.type!==go.Lh&&t.type!==go.Ub||(s=i()({},s,{adBlockCoupons:!0})),m()){const e=o(I.zd.EBAY_WARRANTY_UPSELL_POSITION),t=p().orderedItems,a=Object(UC.a)(t);s=i()({},s,{ebayWarrantyUpsell:!0,warrantyPosition:e,warrantyType:a})}return r(I.ub.RETAILER_FILTER)&&(s=i()({},s,{retailerFilter:!0})),Object.keys(s).length?s:null}(e,t);p&&kl.b.sendI13nModel({i13nModel:{mKey:Gi.e.FEATURE_VIEWED,sec:Gi.g.FEATURE_VIEWABILITY,interactionType:Gi.d.nav,actionData:p}})},BC=s(251),VC=s(86);const WC=Object(A.b)()&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:()=>e=>e,qC=()=>({hash:I.re.POST_LUNCH_TO_SYNC,timestamp:0,type:I.re.POST_LUNCH_TO_SYNC,userInputtedValues:{}});const zC="WAITING",KC="ISSUED",ZC="COMPLETED";function YC(){this.queue=[]}YC.prototype.sync=function(e,t,s=!1,a=!1){if("function"!=typeof e)throw new Error("Mutex.prototype.sync requires a callback function");return new Promise((n,r)=>{this.queue.push({id:t,issueInParallel:s,isSafeToRejectEarly:a,timer:void 0,status:zC,callback:e,resolve:n,reject:r}),oh.a.debug(`Mutex: ${t} was just added to the queue.`),function(e){const t=`[${e.slice(0,10).map(({id:e})=>e).join(", ")}]`;oh.a.debug(`Mutex: The first ten elements of the queue are ${t}`)}(this.queue),this.next()})},YC.prototype.next=function(){if(!this.queue.length)return;let e=!1;this.queue=this.queue.filter(e=>e.status!==ZC);for(let t=0;t<this.queue.length;t++){const s=this.queue[t];switch(s.status){case zC:if(!s.issueInParallel&&e)return;s.status=KC,e=!0;try{this.execute(s)}catch(e){this.reject(s,e)}if(!s.issueInParallel)return;break;case KC:if(e=!0,!s.issueInParallel)return}}},YC.prototype.execute=function(e){const t=this.resolve.bind(this,e),s=this.reject.bind(this,e);e.isSafeToRejectEarly&&(e.timer=setTimeout(()=>{oh.a.debug(`Mutex: clearing ${e.id} from queue because it timed out.`),oh.a.error(`Mutex: clearing ${e.id} from queue because it timed out.`);const t=this.queue.reduce((e,t)=>e.concat(`${t.id}:${t.status}`),[]).join(","),a=new C.a("RequestQueue.Timeout",{errorCode:"REQUEST_QUEUE_TIMEOUT",statusCode:0,qStatus:t});s(a)},12e4));const a=e.callback(t,s);(function(e){return void 0!==e&&(e instanceof Promise||!(!e.then||!e.catch))})(a)&&a.then(t,s)},YC.prototype.resolve=function(e,t){e.resolve(t),e.status=ZC,oh.a.debug(`Mutex: ${e.id} was RESOLVED.`),e.timer&&clearTimeout(e.timer),this.next()},YC.prototype.reject=function(e,t){e.reject(t),e.status=ZC,oh.a.debug(`Mutex: ${e.id} was REJECTED.`),e.timer&&clearTimeout(e.timer),this.next()};var XC=YC;const QC=Object(b.c)(["launch.skeleton","launch.folder","launch.message","launch.compose","launch.messageGroup","postLaunch.getComposeAttributes","postLaunch.postSync","folderChange.getList","folders.get","folders.delete","folders.create","folders.rename","folderList.delete","folderList.update","mailSearch","messages.saveV3","messages.autoSaveV3","sponsoredMessages.save","messages.saveWithAttachment","messages.send","messages.update","messages.updateDecos","messages.updateV3","messages.UnifiedUpdate","messages.delete","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messages.saveAndSend","messages.saveAndSendWithAttachment","messages.saveRawMessage","messages.trashAndDelete","messages.getExtractions","messageGroups.get","messageGroups.getFallback","messageGroups.getList","messageCards.getList","couponCards.getParentMessage","consolidatedCoupons.getList","refundCards.getList","undo.list","checkMail","getReceipts","getMoreReceipts","document.fetch","task.status","task.abort","settings.get","settings.getFeatureAttributes","settings.setBaseName","settings.setBaseNameJWS","settings.saveMessageFilters","settings.saveBlockedSenders","saveArrayAttributes","settings.saveVacationPreferences","settings.saveWebMailboxAttributes","settings.saveWebMailboxMultiAttributes","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","searchSuggestions","searchSuggestionsStream","recentSearches","searchItems","searchGifs","cloudStorageItems","searchTenorGifs","getContentProviders","linkContentProvider","search","unseenCount.reset","udb.read","udb.write","account.getAlerts","account.updateAlerts","savedSearches.get","savedSearches.delete","savedSearches.create","cards.create","accounts.get"]),$C=Object(b.c)(["mailSearch","messages.saveV3","messages.autoSaveV3","messages.saveAndSend","messages.send","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messageGroups.get","document.fetch","searchGifs","cloudStorageItems","searchTenorGifs","localStores","getRetailers","getShopRunnerRetailers","linkRetailer","unlinkRetailer","activateOffer","getOffers","getActivatedOffers","getSavings","getICUserProfile","searchSuggestions","searchSuggestionsStream","recentSearches","settings.get","settings.getFeatureAttributes","settings.saveBlockedSenders","settings.saveVacationPreferences","settings.setBaseName","settings.setBaseNameJWS","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","task.status","unseenCount.reset","account.getAlerts","account.updateAlerts","postLaunch.postSync"]);function JC(){this.checkMailRequestWrappers=[],this.mutex=new XC}JC.prototype.add=function(e,t){return this._isSafeToRejectEarly(t)||this._rejectAndRemoveCheckMailsFromQueue(),this._canGoInParallel(t)?e():this._addToRequestQueue(e,t)},JC.prototype.addStream=function(e,t){return this._canGoInParallel(t)?e():this._addStreamToRequestQueue(e,t)},JC.prototype._canGoInParallel=function(e){if(!QC[e])throw new Error(["Unknown API call name: `"+JSON.stringify(e)+"`","Make sure that all the request of the API client are added to","ALL_REQUESTS list. This is done to make sure all new API requests","are aware of the serialization logic and nothing goes out of sync and","potentially breaks application data integrity. @see","https://docs.google.com/document/d/1yOwsTIcXla6CeIn42W9VKfd9JjJ1ajAtfE6CH6PfjeM","for more info."].join("\n"));return!!$C[e]},JC.prototype._addToRequestQueue=function(e,t){return this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue(),new Promise((s,a)=>(this._isCheckMail(t)&&this.checkMailRequestWrappers.push({reject:a}),this._sync(e,t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)).then(s,a)))},JC.prototype._addStreamToRequestQueue=function(e,t){this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue();const s=y()();return this.mutex.sync((t,a)=>{const n=e();n.pipe(s),n.on("end",t),n.on("error",e=>{s.emit("error",e),a()})},t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)),s},JC.prototype._sync=function(e,t,s,a){return this.mutex.sync(function(){return e()},t,!s,a)},JC.prototype._rejectAndRemoveCheckMailsFromQueue=function(){this.checkMailRequestWrappers.forEach(e=>{e.reject(new C.a("RequestQueue.Rejected",{errorCode:"REQUEST_QUEUE_REJECTED",statusCode:0}))}),this.checkMailRequestWrappers=[]},JC.prototype._isCheckMail=function(e){return"checkMail"===e},JC.prototype._isSafeToRejectEarly=function(e){return"messages.saveV3"!==e&&"messages.autoSaveV3"!==e&&"messages.saveWithAttachment"!==e&&"messages.saveAndSend"!==e&&"messages.send"!==e&&"messages.saveAndSendWithAttachment"!==e},JC.prototype._isWriteToBackend=function(e){return"messages.update"===e||"settings.saveWebMailboxAttributes"===e||"messages.updateDecos"===e||"messages.updateV3"===e||"messages.UnifiedUpdate"===e||"messages.delete"===e||"messages.trashAndDelete"===e||"cards.create"===e||"settings.saveBlockedSenders"===e||"saveArrayAttributes"===e};var ef=JC;const tf={[I.I.YAHOO]:{CREDSTORE_HOST:I.J,JWS_HOST:I.we,INTERNAL_JWS_HOST:I.Ib,GEO_API_HOST:"https://unifiedgeo.geotech.yahoo.com:4443",BOOTCAMP_HOST:"https://data.mail.yahoo.com",BOOTCAMP_ITEMS_API_HOST:"https://prod1psearch.mail.yahoo.com"},[I.I.AOL]:{CREDSTORE_HOST:I.J,JWS_HOST:I.e,INTERNAL_JWS_HOST:I.Hb,GEO_API_HOST:"https://unifiedgeo.geotech.yahoo.com:4443",BOOTCAMP_HOST:"https://data.mail.aol.com",BOOTCAMP_ITEMS_API_HOST:"https://prod1psearch.mail.aol.com"}},sf=e=>tf[e]||tf[I.I.YAHOO];class af{constructor(e,{apiClientConstructors:t,batchMethods:s,isOnline:a}){const n=new ef;Object.keys(t).forEach(r=>{const o=t[r],c=Object(S.a)(e.config,"bootcampHostURL");this[r]=new o(i()({},e,{endpoints:sf(e.userNamespace),wssid:e.mailWssid,bootcampHost:c,isOnline:a,batchMethods:s,requestQueue:n}))})}setMailBoxParams(e,t){const s=()=>{const s=t(e.getState()),a=s.getAccountSelectors,n=s.getSelectedAccountId,r=(0,s.getSelectedMailboxId)();if(!r)return{};const i=a(),o=i.getAccountEmailByAccountId,c=i.getAccountTypeByAccountId,d=n();return{mailboxid:r,mailboxId:r,mailboxemail:o(d),mailboxtype:c(d)}};Object.keys(this).filter(e=>this[e].setMailboxParams).forEach(e=>{this[e].setMailboxParams(s)})}}const nf=(e,t)=>{setTimeout(()=>{e(),nf(e,t)},t)};class rf{constructor(){this.listeners=[],this.syncAttempts={}}_getUnsyncedData(){return this.listeners.map(e=>e())}_registerHandler(e){return this.listeners.push(e),{remove:()=>{this.listeners=this.listeners.filter(t=>t!==e)}}}_isUnsyncedDataItemSyncedByRequestHash(e){return(this.syncAttempts[e]||{}).synced||!1}}function of({store:e,apiClients:t,selectors:s,actionSyncers:a,logger:n,unsyncedDataManager:r}){const o=(o=!0)=>{const c=s(e.getState()),d=c.getAction,l=c.getUnsyncedDataToSync,u=c.getRequestHashForUnsyncedDataItem;if(!(0,c.isOnline)()||Object(A.b)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const _=d(),m=Date.now();r.syncAttempts=Object.keys(r.syncAttempts).reduce((e,t)=>{const s=r.syncAttempts[t]||{};return o&&s.synced&&m-s.timestamp>s.syncDefer&&m-s.timestamp>s.syncThrottle?e:i()({},e,{[t]:s})},{}),[...l()].sort((e,t)=>e.timestamp-t.timestamp).map(e=>{const t=u(e),s=r.syncAttempts[t]||{};return i()({},e,{timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:I.pe,requestHash:t})}).filter(e=>{const t=r.syncAttempts[e.requestHash];return!(e.isAutoGenerated&&!o)&&(t?!t.syncing&&(t.synced&&m-t.timestamp>e.syncDefer&&m-t.timestamp>e.syncThrottle):!r.syncAttempts[e.requestHash]&&m-e.timestamp>=e.syncDefer)}).map(o=>{const c=()=>{const t=s(e.getState()),a=t.getUnsyncedDataToSyncByRequestHash,i=t.getRoute,c=Date.now();r.syncAttempts[o.requestHash].synced=!0,r.syncAttempts[o.requestHash].syncing=!1,r.syncAttempts[o.requestHash].timestamp=c;const d=a(o.requestHash,c);o.isAutoGenerated||!d||d.repeat||(r.syncAttempts[o.requestHash].syncing=!0,n.error("unsyncedData_manager_error",{unsyncedDataType:o.type,requestHash:o.requestHash,actionType:_.type,routeName:i().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};r.syncAttempts[o.requestHash]={synced:!1,syncing:!0,timestamp:_.actionTimestamp,syncDefer:o.syncDefer,syncThrottle:o.syncThrottle};const d=_.type!==go.zk&&a[o.type]?[].concat(a[o.type]):a[go.zk].filter(e=>Object(A.b)()||e.isomorphic).map(e=>e.syncer),l=_.type===go.zk||!a[o.type];((s,a,n=!0)=>Promise.all((s||[]).map(s=>{const r=s(e,a,t);if(n&&(!r||"function"!=typeof r.then))throw new Error(`${s.name} Syncer function should return promise`);return r})).catch(e=>{throw e}))(d,i()({},o.userInputtedValues,{unsyncedDataItemRequestHash:o.requestHash,unsyncedDataType:o.type,syncAttempts:r.syncAttempts[o.requestHash]}),l).then(c,c)})};if(e.subscribe(o),Object(A.b)()){const e=!1;nf(()=>o(e),100)}}var cf=s(135),df=(e,{apiClientConstructors:t,batchMethods:s,confirmMiddleware:a,routes:n,rootReducer:r,storeSubscribers:o,selectors:c,enhancers:d,actionSyncers:l},_,{isOnline:p}={},g)=>{const E=new af(e,{apiClientConstructors:t||{},batchMethods:s||{},isOnline:p}),S=function(){const e=new rf;return e.getUnsyncedData=e._getUnsyncedData.bind(e),e.registerHandler=e._registerHandler.bind(e),e.isUnsyncedDataItemSyncedByRequestHash=e._isUnsyncedDataItemSyncedByRequestHash.bind(e),e}(),C=Object(A.b)()&&window.performance?window.performance:void 0,f=[vC({crumb:e.crumb,loggerParams:Object(A.b)()?{}:e.loggerParams}),MC.a.withExtraArgument(E),PC(d(e),{unsyncedDataManager:S,performance:C,selectors:c})];a&&u()(a)&&f.push(a(g,S.getUnsyncedData));const T=function(e,t,s){const a=Object(li.createStore)(e,Object(A.b)()?i()({},t,{unsyncedData:t&&t.unsyncedData?[...t.unsyncedData,qC()]:[qC()]}):t,Object(li.compose)(Object(li.applyMiddleware)(...s),WC()));a.injectedReducers={};const n=a.dispatch.bind(a);return a.currentActionType=null,a.dispatch=e=>{const t=e.type;try{return a.currentActionType&&VC.a.error("redux_overlapping_dispatch",{curAction:a.currentActionType,action:t}),a.currentActionType=t,n(e)}catch(e){throw Object(A.b)()?(e.name="REDUX_DISPATCH",e.data={action:t}):VC.a.error("redux_server_dispatch_error",{action:t,errorMessage:Object(xl.c)(e.message||"")}),e}finally{a.currentActionType=null}},a}(r,_,f);T.registerUnsyncedDataHandler=S.registerHandler,E.setMailBoxParams(T,c);const b=(si[e.appName]||{}).appRootPath||I.db,O=Object.keys(n).map(e=>({name:e,path:b+n[e].path})),R=Object(Qi.z)({appName:e.appName,routesConfig:O}),N={AppBootstrapData:e,store:T,selectors:c,apiClients:E,unsyncedDataManager:S,actionSyncers:l,i13n:HC,logger:oh.a,routesConfig:O,routesInfo:R,getRouteInfo:e=>{const t=Object(BC.parse)(e),s=t.pathname,a=t.query,n=R.find(e=>e.pattern.match(s));return n?{name:n.name,params:n.pattern.match(s),query:h.a.parse(a),url:e}:{}},navigateToRoute:Ti.j};Object(A.b)()&&((({store:e,selectors:t,AppBootstrapData:s,apiClients:a,i13n:n})=>{e.subscribe(()=>{const r=e.getState(),i=t(r),o=i.isOnline,c=(0,i.getAction)();!o()||Object(A.b)()&&navigator&&!1===navigator.onLine||setTimeout(function(){n(r,c,{AppBootstrapData:s,apiClients:a,selectors:t})},0)})})(N),(({store:e,selectors:t,navigateToRoute:s,routesInfo:a,getRouteInfo:n})=>{const r=t(e.getState()),i=r.getRouteUrl,o=r.getSelectedMailboxId,c=r.getAccountSelectors,d=(0,r.getRoute)(),l=Object(Qi.A)(a,n(location.href));o()&&!Object(Qi.D)(d,l)&&c().userHasRegisteredAccount()&&history.replaceState(0,null,i()),e.subscribe(()=>{const s=t(e.getState()),a=s.getCurrentHistoryState,n=(0,s.getAction)(),r=n.historyState,i=n.type,o=n.popstate;let c=[];r&&(c=r.historyStack);const d=a(),l=d.historyStack,u=d.activePageIndex;if(l===c||!l.length||-1===u)return;const _=l[u].route.url;switch(i){case go.Vf:case go.bg:return void history.replaceState(0,null,_);default:return void(void 0===o&&history.pushState(history.state+1,null,_))}}),window.addEventListener("popstate",r=>{let i,o=Object(Qi.A)(a,n(location.href)),c=r.state,d=!1;const l=t(e.getState()),u=l.getReconciledValidPage,_=(0,l.getHistoryStack)();if(c<0||c>=_.length)c=0,d=!0;else{if(!c&&0!==c)return;Object(Qi.D)(o,_[c].route)||(c=0,d=!0)}const m=u(o,!0);m&&(i=m,o=Object(Qi.A)(a,i.route)),history.replaceState(c,null,o.url),e.dispatch(s({route:o,popstate:c,nextPage:i,startOverStack:d}))})})(N)),o&&o.forEach(e=>{e(N)}),of(N);const M=(({store:e,selectors:t,getRouteInfo:s,routesInfo:a,AppBootstrapData:n,routesConfig:r})=>o=>new Promise((c,d)=>{try{e.subscribe(()=>{const s=(0,t(e.getState()).getAction)(),a=s.error;switch(s.type){case go.Vf:c();break;case go.cg:d(a)}});let l=Object(Qi.A)(a,s(o));l.name===I.gd.NEW_DRAFT&&!l.params.csid&&n.params&&n.params.csid&&(l=Object(Qi.A)(a,Object(Qi.g)(n.params.csid),l.query));const u=m()(n,"cookie");e.dispatch(Object(cf.c)(i()({},u,{route:l,routesConfig:r})))}catch(e){d(e)}}))(N);return{store:T,prepareDataForUrl:M,apiClients:E}},lf=s(384),uf=s(852);function _f(e,t,s){const a=function(e,t){return Object(uf.parse)(e)[t]||""}(e,t);if(a){const e=function(e,t){let s="";return e.split("&").forEach(e=>{const a=e.split("="),n=V()(a,2);n[0]===t&&(s=n[1])}),s}(a,s);if(e)return e}return""}function mf(){return _f(document.cookie,"Y","l").trim()}var pf=e=>(t,{selectors:s})=>{class a extends ii.a.Component{constructor(...e){super(...e),ot()(this,"lastVisited",{})}getChildContext(){return{navigateTo:t=>{let a=t.i13nModel,n=t.route,r=t.hashParams,o=void 0===r?{}:r,c=M()(t,["i13nModel","route","hashParams"]);const d=Date.now(),l=(0,s(e.store.getState()).normalizeRoute)(n),u=i()({},c,{perfHeader:{requestStart:d},cacheControl:{lastVisited:this.lastVisited[l.url]},route:l,hashParams:o});this.lastVisited[l.url]=d,this.props.navigateToRoute(i()({i13nModel:a},u))},getUrlFromRoute:t=>{return(0,s(e.store.getState()).normalizeRoute)(t).url||""}}}render(){return ii.a.createElement(t,m()(this.props,"store"))}}ot()(a,"displayName","RouterProvider"),ot()(a,"childContextTypes",{navigateTo:ni.a.func,getUrlFromRoute:ni.a.func});return Object(oi.connect)(e=>{return{route:(0,s(e).getRoute)()}},e=>({navigateToRoute:t=>e(Object(Ti.j)(t))}),void 0,{areStatePropsEqual:e=>Boolean(e.route)})(a)},hf=s(853),gf=s.n(hf),Ef=Le.a.create("norrin/rum");let If=!1,Sf={},Cf={};function ff(e,t={}){const s=kl.b.getRapidInstance();s&&s.beaconPerformanceData(e);let a={};if(e.perf_commontime&&e.perf_commontime.initialPageLoad){let t={};if(window.performance&&window.performance.timing){const e=window.performance.timing,s=window.appServerTimings;if(t={firstByte:e.responseStart-e.connectEnd,onLoad:e.loadEventStart-e.navigationStart,serverResp:e.responseEnd-e.requestStart,domInt:e.domInteractive-e.navigationStart},Array.isArray(s))for(let e=0;e<s.length;e++){const a=V()(s[e],2);t[a[0]]=a[1]}}a=Object.assign(t,e.perf_commontime.initialPageLoad)}e.perf_usertime&&e.perf_usertime.utm&&Object.assign(a,e.perf_usertime.utm),t.additionalLogData&&"object"==typeof t.additionalLogData&&Object.assign(a,t.additionalLogData),Object(b.b)(a)||Ef.feature("rum_beacon",a).logSuccess()}function Tf(){bf()}function Af(e,t,s){return"common"===e?(Sf.perf_commontime||(Sf.perf_commontime={}),Sf.perf_commontime.initialPageLoad||(Sf.perf_commontime.initialPageLoad={}),Sf.perf_commontime.initialPageLoad[t]=s,!0):"user"===e&&(Sf.perf_usertime||(Sf.perf_usertime={}),Sf.perf_usertime.utm||(Sf.perf_usertime.utm={}),Sf.perf_usertime.utm[t]=s,!0)}function bf(){ff({perf_navigationtime:2},{additionalLogData:Cf}),Sf={},Cf={}}function Of(){ff(Sf,{additionalLogData:Cf}),Sf={},Cf={}}function Rf(e,t,s=!0){const a=window.YAFT,n=window.performance;if(!n||If)return!1;if(If=!0,s&&(n&&n.timing&&n.timing.loadEventEnd?bf():window.addEventListener("load",Tf,!1)),a){const s={modules:e.modules,modulesExclude:[],canShowVisualReport:e.yaftCanShowVisualReport,maxWaitTime:4e3,generateHAR:!0,useNativeStartRender:!0};let r=0;n.getEntriesByName&&n.getEntriesByName("norrinStartRender").length&&(r=n.getEntriesByName("norrinStartRender")[0].startTime,s.customStartRender=function(){return r}),a.init(s,function(e,s){const a=function(e,t){if(t)return!1;const s=Math.round(e.aft),a=Math.round(e.visuallyComplete),n=Math.round(e.startRender);return s&&(Af("common","AFT",s),Af("common","AFT1",s)),a&&Af("common","VIC",a),n&&Af("common","STR",n),!0}(e,s);t?t():a&&Of()}),r&&a.triggerCustomTiming("norrin_main",r,r)}return!0}const Nf=["norrin_"],Mf={MESSAGE_LIST:"message_list",COMPOSE_READY:"MTTC",TIME_TO_INTERACTIVE:"MTTI",CLIENT_RENDER_TIME:"app_client_render",CLIENT_HEAD_TO_END:"app_head_end",MESSAGE_SEND:"message_send",MAIL_SEARCH:"search_latency",COMPOSE_SHOW:"compose_show",MESSAGE_READ:"message_read",FOLDER_SWITCH:"folder_switch",[I.gd.FOLDER]:"folder_switch",[I.gd.LIST]:"search_latency",[I.gd.SEARCH]:"search_latency",[I.gd.EDIT_DRAFT]:"compose_show",[I.gd.NEW_DRAFT]:"compose_show",[I.gd.MESSAGE_FROM_FOLDER_LIST]:"message_read",[I.gd.MESSAGE_FROM_SEARCH_LIST]:"message_read",[I.gd.MESSAGE_FROM_LIST]:"message_read",[I.gd.SETTINGS]:"settings",[I.gd.SPONSORED_MESSAGE]:"message_read",[I.gd.TUTORIAL]:"tutorial"};let Df=!1;const yf=e=>{if(!e)return;let t=0;const s=e.additionalLogData,a=void 0===s?{}:s;"undefined"!=typeof performance&&performance.now&&(t=a.elapsedTime=Math.floor(performance.now())),a&&function(e){Cf=Object.assign({},e)}(i()({},a,{elapsedTime:t}));const n=Math.round(e.latency?e.latency:Date.now()-e.requestedTime);Ef.debug(`UserPerf: ${e.rumMetricKey}:  ${n} : ${JSON.stringify(a)}`),Af("user",e.rumMetricKey,n),Of()},Lf=e=>{let t=[];const s=(()=>{let e,t={};return(s,a)=>{const n=[],r=s.getRoute,o=s.getCursorItem,c=s.doesStreamExist,d=s.getSetting,l=(0,s.getAction)()||{},u=l.type,_=l.csid,m=r()||{};if(!e&&m.name&&(e=m),u!==go.bg||Df){if(u===go.El)n.push({hash:_,rumMetricKey:Mf.MESSAGE_SEND,requestedTime:l.actionTimestamp,csid:_});else if(!Object(Qi.D)(m,e)&&Mf[m.name])e=m,n.push({hash:m.url,rumMetricKey:Mf[m.name],requestedTime:l.actionTimestamp,route:m});else if(l.streamId&&c(l.streamId)&&d(I.zd.PREVIEW_PANE)!==I.Rc.NO&&(m.name===I.gd.FOLDER||m.name===I.gd.SEARCH||m.name===I.gd.LIST)){const e=o(l.streamId);!e||e.id===t.id&&e.listId===t.listId||Object(eo.t)(e.listId)!==I.Pb.MESSAGES||(n.push({hash:`${e.listId}-${e.id}`,rumMetricKey:Mf.MESSAGE_READ,requestedTime:l.actionTimestamp,cursorItem:e}),t=e)}}else{const e=window.performance,t=Date.now(),s=e.now(),r=e.timing.responseStart-e.timing.navigationStart;let i=s;Df=!0,e.getEntriesByName&&e.getEntriesByName("norrinStartRender").length&&(i=e.getEntriesByName("norrinStartRender")[0].startTime),n.push({hash:Mf.MESSAGE_LIST,rumMetricKey:Mf.MESSAGE_LIST,latency:i},{hash:Mf.COMPOSE_READY,rumMetricKey:Mf.COMPOSE_READY,latency:s},{hash:Mf.TIME_TO_INTERACTIVE,rumMetricKey:Mf.TIME_TO_INTERACTIVE,latency:s},{hash:Mf.CLIENT_RENDER_TIME,rumMetricKey:Mf.CLIENT_RENDER_TIME,latency:t-a},{hash:Mf.CLIENT_HEAD_TO_END,rumMetricKey:Mf.CLIENT_HEAD_TO_END,latency:s-r})}return n.map(e=>i()({},e,{requestedActionType:e.requestedActionType||u}))}})();return a=>{const n=Object($i.b)(a),r=n.getRouteName;t=t.concat(s(n,e)),XI()(gf()(t,"requestedTime","desc"),"hash").map(e=>{try{return((e,t)=>{const s=t.doesListExist,a=t.doesMessageGroupIdExist,n=t.getMessageIdsFromMessageGroupId,r=t.doesMessageFullBodyExist,o=t.doesMessageBodyExist,c=t.getDraftMessageId,d=t.getListsSelectors,l=t.doesComposeSessionExist,u=t.isSent,_=t.isMessageRoute,m=t.getSetting,p=t.getAttachmentCountByMessageId,h=t.doesMessageIdExist,g=t.getMessagesSelectors,E=t.getMessageBodiesSelectors,S=t.getPages,C=(0,t.getAction)()||{},f=C.type,T=d().getListStatus,A=E().getMessageBodiesCount,b=g().getMessagesCount,O=(e.route||{}).params,R=void 0===O?{}:O;switch(e.rumMetricKey){case Mf.COMPOSE_SHOW:{const t=R.csid;if(!t||!l(t))return e;const s=c(t);return s?r(s)?i()({},e,{additionalLogData:{isCached:e.requestedActionType===f},requestCompleted:!0}):e:i()({},e,{additionalLogData:{isCached:e.requestedActionType===f},requestCompleted:!0})}case Mf.FOLDER_SWITCH:case Mf.MAIL_SEARCH:{const t=Object(eo.w)(e.route);return s(t)&&T(t)===I.bd.LOADED?i()({},e,{additionalLogData:{metaDataCount:b(),GSBCount:A(),pageCount:S().length,isCached:e.requestedActionType===f},requestCompleted:!0}):e}case Mf.MESSAGE_READ:{let t=R.groupId;const s=e.cursorItem,r=!_()&&m(I.zd.PREVIEW_PANE)!==I.Rc.NO;if(!t&&s&&(t=s.id),!a(t))return e;const c=n(t)||[];return c.some(e=>o(e))?i()({},e,{additionalLogData:{metaDataCount:b(),GSBCount:A(),pageCount:S().length,numberOfMessages:c.length,previewPane:r,isCached:e.requestedActionType===f},requestCompleted:!0}):e}case Mf.MESSAGE_SEND:if(!l(e.csid)||u(e.csid)){const t=(C.message||{}).id,s=h(t)&&p(t)||0;return i()({},e,{additionalLogData:{isCached:e.requestedActionType===f,sendMethod:f,attachmentCount:s},requestCompleted:!0})}return e;case Mf[I.gd.SETTINGS]:case Mf[I.gd.TUTORIAL]:return i()({},e,{additionalLogData:{isCached:e.requestedActionType===f},requestCompleted:!0})}return e})(e,n)}catch(t){return Object(RC.a)("RUM error",t.fileName||location.href,t.lineNumber||"",t.column||"",t),e.errorOccured=!0,e}}).filter(e=>e.requestCompleted||e.latency||e.errorOccured).map(e=>{t=t.filter(t=>t.rumMetricKey!==e.rumMetricKey);const s=Date.now();window.requestAnimationFrame(()=>{e.additionalLogData=Object.assign({},e.additionalLogData||{},{renderFrameTime:Math.round(Date.now()-s),actionType:e.requestedActionType,routeName:r()}),yf(e)})})}};var vf=(e,t={})=>window.performance?(Rf({yaftCanShowVisualReport:t.isInternalIP,modules:Nf}),{recordRUM:Lf(e)}):{recordRUM:()=>{}};const Pf={TEST:"/sw_test.js",PROD:"/sw.js"};let Ff=null;function wf(e,t){if(!e)return;return e.postMessage({type:"cache-config",data:t||[]})}function kf(e){"sw-caching-active"===e.data.type&&Ff&&xf(Ff)}function xf(e){if(window.navigator.serviceWorker)if(navigator.serviceWorker.addEventListener("message",kf.bind(this)),navigator.serviceWorker.controller)wf(navigator.serviceWorker.controller,e);else if(function(e){return Array.isArray(e)&&e.length>0}(e)){const t=window.AppBootstrapData&&("alpha"===window.AppBootstrapData.environment||"beta"===window.AppBootstrapData.environment);navigator.serviceWorker.register(t?Pf.TEST:Pf.PROD).then(t=>{wf(t.active,e)}).catch(e=>(console.log("SW register error",e),Promise.reject(e)))}}function Uf(e){window.navigator.serviceWorker&&(Ff=function(e){const t=Object($i.b)(e.getState());return t.isFeatureEnabled(I.ub.SERVICE_WORKER_CACHING)?t.getSetting(I.zd.SERVICE_WORKER_CACHE_CONFIG):null}(e),"complete"===document.readyState?xf(Ff):window.addEventListener("load",()=>xf(Ff)))}t.default=function(e){Error.stackTraceLimit&&Error.stackTraceLimit<=10&&(Error.stackTraceLimit=20),window.onerror=RC.a,window.YAHOO.i13n.WEBWORKER_FILE=I.Zc,window.initialScrambledLogin=mf(),function(){window.navigator&&window.navigator.sendBeacon?(window.navigator._sendBeacon=window.navigator.sendBeacon,window.navigator.sendBeacon=function(){try{return window.navigator._sendBeacon.apply(this,arguments)}catch(e){const t=new DC.a(e);return VC.a.error("navigator.sendBeacon_exception",{url:arguments[0]||"",name:e.name||"",message:Object(xl.c)(e.message||""),stack:t.toString()}),!1}}):VC.a.error("navigator.sendBeacon_exception",{message:"navigator.sendBeacon is not supported"})}(),function(){if(window.ResizeObserver){const e=window.ResizeObserver;class t extends e{constructor(e){super(t=>{setTimeout(()=>{e.apply(this,[t])},0)})}}window.ResizeObserver=t}}();const t=window,s=t.AppState,a=void 0===s?{}:s,n=t.AppBootstrapData,r=t.ReactIntlLocaleData,o=t.BrowserLoggerParams,c=t.LaunchErrorObj,d=void 0===c?{}:c,l=a.reduxState,u=void 0===l?{}:l,_=u.action,m=u.featureCues,p=void 0===m?{}:m,h=(void 0===_?{}:_).features,g=void 0===h?{}:h,E=Object.keys(g).filter(e=>"boolean"==typeof g[e]).reduce((e,t)=>i()({},e,{[t]:i()({},p[t],{enabled:g[t]})}),{}),S=p;n.config=i()({},g,n.config),n.__initializeFeatures__=i()({},E,S,n.__initializeFeatures__);const T=a.reduxState?function(e){return{context:{plugins:{MailFluxibleContextPlugin:{buildNumber:e.buildNumber,config:e.config,guidHash:e.guidHash,mailWssid:e.mailWssid,crumb:e.crumb,signoutCrumb:e.signoutCrumb,guid:e.guid,csid:e.csid,launchTime:e.launchTime,locale:e.locale,localeData:e.localeData,timezone:e.timezone,region:e.region,usmLogString:e.usmLogString,os:e.os,farm:e.farm,partner:e.partner,environment:e.environment,__initializeFeatures__:e.__initializeFeatures__,queryStringOverrides:e.queryStringOverrides,loggerParams:e.loggerParams,cspToken:e.cspToken,encryptedQueryParams:e.encryptedQueryParams,mailboxAttributes:e.mailboxAttributes,mailBrandNameString:e.mailBrandNameString,yahooBrandNameString:e.yahooBrandNameString,appId:e.appId}}}}}(n):void 0;u&&u.environment&&u.environment.windowDimensions&&(u.environment.windowDimensions=i()({},u.environment.windowDimensions,{clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight,innerWidth:window.innerWidth,innerHeight:window.innerHeight})),window.YAHOO.i13n.SPACEID=n.config.spaceids.root;const O=n&&n.config||T.context.plugins.MailFluxibleContextPlugin.config;let R=location.pathname;const N=location.search,M=new RegExp(`^(${I.oe})/test`),D=M.test(R);D||function(e){const t=e.loggerSettings,s=t.timeout,a=t.interval,n=t.limit;Le.a.set(o),"debug"===e.logLevel&&Le.a.read(OC()()),Le.a.read(AC()({endpoint:e.endpoint,interval:a,timeout:s,limit:n})),Le.a.level(e.logLevel||"error")}(i()({},O,{endpoint:n.appName===I.t.MOBILE_APP?I.ec:I.cb})),"object"==typeof r&&Object.keys(r).forEach(e=>Object(mi.addLocaleData)(r[e]));const y=fC(e),L=n.route?"launch_"+n.route.toLowerCase():"unknown",v=oh.a.feature(L,{ssr:!!T}),P=()=>window.context?(0,(0,e.selectors(window.context.store.getState()).getOnlineSelectors)().isOnline)():()=>!0,F=Object(vs.h)(e);function w(t,s){const a=vf(Date.now(),{isInternalIP:n.internal}).recordRUM;if(!s.store){const t=df(n,e,u,{isOnline:P},s);s.store=t.store,s.apiClients=t.apiClients}if(t)return void k(s,t);window.context=s,Uf(s.store);const r=pf(s.getComponentContext()),i=function(){return n.config.useReactHydrate?_i.a.hydrate.bind(_i.a):_i.a.render.bind(_i.a)}();e.render=t=>{const n=r((t||e).component,e);s.store.subscribe(()=>{const t=s.store.getState(),n=(0,e.selectors(t).getAction)();!function(){if(!Object(A.b)())return;const e=window.initialScrambledLogin,t=mf();if(e&&t&&e!==t){const s={reason:f.f.DIFFERENT_USER,statusCode:401,errorCode:"AUTH",refresh:!0,originalLogin:e,currentLogin:t},a=oh.a.feature("error_handler",s),n=new C.a(f.b,s);a.logFailure(n)}}();const r=n.error||n.err||null;if(r)switch(r.name){case f.d:return Object(A.e)({partner:s.partner||"",reason:"missing_crumb"});case f.c:return Object(A.e)({partner:s.partner||"",reason:"invalid_crumb"});case f.b:if(r.getDataByName("refresh",!1))return Object(A.e)({partner:s.partner||"",reason:"invalid_cred"})}a(t)});let o=null,c=null;try{o=document.getElementById(F);const t=ii.a.createElement(IC.AppContainer,null,ii.a.createElement(mi.IntlProvider,window.AppIntl,ii.a.createElement(_I.FluxibleComponent,{context:s.getComponentContext()},ii.a.createElement(n,{store:s.store}))));if(i(t,o),c=document.getElementById("mail-search"),O.ybar&&c){const t=e.searchComponent?r(e.searchComponent,e):null,a=ii.a.createElement(IC.AppContainer,null,ii.a.createElement(mi.IntlProvider,window.AppIntl,ii.a.createElement(_I.FluxibleComponent,{context:s.getComponentContext()},t?ii.a.createElement(t,{store:s.store}):null)));i(a,c)}v.logSuccessAndLatency()}catch(e){const t=new DC.a(e).getFirstStackInfo(),s=t.source,a=t.lineno,n=t.colno;e.data={rootContainerExist:o?"1":"0",mailSearchExist:c?"1":"0"},Object(RC.a)("Rendering App error",s,a,n,e)}},window.setTimeout(e.render,10)}function k(e,t=null){const s=!!t;t=t||d,window.context=e,_i.a.render(ii.a.createElement(mi.IntlProvider,window.AppIntl,ii.a.createElement(_I.FluxibleComponent,{context:e.getComponentContext()},ii.a.createElement(lf.a,{appName:n.appName,error:t,hideLogo:s,crumb:n.crumb,isRTL:n.config.rtl,showCTAInErrorPage:n.config.showCTAInErrorPage,mailBrandNameString:n.mailBrandNameString}))),document.getElementById(F))}const x=y.createContext(function(){return{appId:n.appId,guidHash:n.guidHash,mailWssid:n.mailWssid,crumb:n.crumb,signoutCrumb:n.signoutCrumb,guid:n.guid,timezone:n.timezone,region:n.region,config:O,os:n.os,queryStringOverrides:n.queryStringOverrides,__initializeFeatures__:n.__initializeFeatures__,csid:Object(vs.g)(),partner:n.partner,localeData:n.localeData,cspToken:n.cspToken,usmLogString:n.usmLogString,encryptedQueryParams:n.encryptedQueryParams,mailboxAttributes:n.mailboxAttributes,mailBrandNameString:n.mailBrandNameString,yahooBrandNameString:n.yahooBrandNameString}}());if(Object(b.b)(d)){if(T)y.rehydrate(T,w);else if(n){D&&(Le.a.disable(),R=R.replace(M,(e,t)=>t),history.replaceState(null,null,R+N));const t=df(n,e,u,{isOnline:P},x),s=t.prepareDataForUrl,a=t.apiClients;x.store=t.store,x.apiClients=a,s(R+N).then(()=>w(void 0,x)).catch(e=>k(x,e))}}else k(x)}(EC)}]);