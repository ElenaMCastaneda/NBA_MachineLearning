(window.webpackJsonp=window.webpackJsonp||[]).push([[3],Array(491).concat([function(e,t,a){"use strict";a.r(t);var n=a(31),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(6),u=a(186),p=a(42),h=a(54),g=a(0),E=a(11),b=a(272),C=a(5);const f=Object(_.defineMessages)({WHEN:{id:"rsvp.when",defaultMessage:"When"},WHERE:{id:"rsvp.where",defaultMessage:"Where"},GOING_MSG:{id:"rsvp.going",defaultMessage:"Yes, I'm going"},EDIT:{id:"rsvp.edit",defaultMessage:"Edit"},MAY_BE_GOING_MSG:{id:"rsvp.maybe",defaultMessage:"I might go"},NOT_GOING_MSG:{id:"rsvp.no",defaultMessage:"No, I'm not going"},WHO:{id:"rsvp.who",defaultMessage:"Who"},VIDEO_CALL:{id:"rsvp.videoCall",defaultMessage:"Video Call"},YES:{id:"rsvp.response.yes",defaultMessage:"Yes"},MAYBE:{id:"rsvp.response.maybe",defaultMessage:"Maybe"},NO:{id:"rsvp.response.no",defaultMessage:"No"},ACCEPTED:{id:"rsvp.response.accepted",defaultMessage:"Accepted"},TENTATIVE:{id:"rsvp.response.tentative",defaultMessage:"tentative"},DECLINED:{id:"rsvp.response.declined",defaultMessage:"Declined"},LOAD_ERROR:{id:"rsvp.error",defaultMessage:"An error occurred retrieving the invite information."},RELOAD:{id:"rsvp.reload",defaultMessage:"Reload"},NUMBER_GUESTS_INVITED:{id:"rsvp.guestsInvited",defaultMessage:"{amount} {amount, plural, one {guest} other {guests}} invited"}}),S={ACCEPT:"ACCEPTED",MAYBE:"TENTATIVE",DECLINE:"DECLINED"};var y=a(25),T=a(16),N=a(147),A=a.n(N),I=a(13),M=a.n(I),v=a(1586),D=a.n(v);function O(e,t){const a=M()(D.a,{compact:e.compact}),n=t.intl,s=n.formatMessage,i=n.formatDate,r=e.inviteInfo,o=r.startTime,l=r.endTime,c=r.location,m=r.summary,u=r.isSameDay,p=r.attendees,h=r.videoLink,g={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},E={hour:"numeric",minute:"numeric"},b=o?i(o,u?E:g):null,S=l?i(l,u?E:g):null,y=p.length<=2?p.join(", "):s(f.NUMBER_GUESTS_INVITED,{amount:p.length}),N=[{shouldRender:b&&S,icon:C.b.CLOCK,heading:s(f.WHEN),description:`${b} - ${S}`},{shouldRender:!!c,icon:C.b.LOCATION_MARKER,heading:s(f.WHERE),description:d.a.createElement("div",{className:a.ellipsisText},A()(c))},{shouldRender:!!y,icon:C.b.GUEST_LIST,heading:s(f.WHO),description:d.a.createElement("div",{className:a.ellipsisText},y)},{shouldRender:!!h,icon:C.b.VIDEO_CALL,heading:s(f.VIDEO_CALL),description:d.a.createElement("a",{className:a.videoLink,href:h,target:"_blank",rel:"noreferrer"},d.a.createElement("div",{className:a.ellipsisText},h))}].filter(e=>e.shouldRender).slice(0,e.compact?2:4),I=N.map(e=>d.a.createElement("div",{key:e.icon,className:N.length>2?a.infoItem:a.infoItemFull},d.a.createElement("div",{className:a.iconContainer},d.a.createElement(T.b,{kind:e.icon,colorState:C.a.SECOND_LEVEL_GRAY})),d.a.createElement("div",{className:a.infoDetails},d.a.createElement("span",{className:a.infoHeading},e.heading),d.a.createElement("div",{className:a.infoDescription},e.description)))),v=e.isValidInvite;return d.a.createElement("div",{className:a.infoTable},d.a.createElement("div",{className:a.headingContainer},d.a.createElement("div",{className:a.title},d.a.createElement("div",{className:a.ellipsisText},A()(m))),v?d.a.createElement("a",{onClick:e.handleCalendarURLClick,className:a.calendarLink,href:e.calendarURL,target:"_blank",rel:"noopener"},d.a.createElement(_.FormattedMessage,{id:"rsvp.calendarLink",defaultMessage:"View on Calendar"})):null),d.a.createElement("div",{className:a.contentContainer},I))}O.contextTypes={intl:_.intlShape};var k=a(1587),R=a.n(k);function w(e,t){const a=e.size,n=e.inviteInfo.startTime,s=t.intl.formatDate,i=t.getTheme,r=M()(R.a,{size:a,[`theme-${i()}`]:!0});if(!n)return null;const o=`${s(n,{weekday:"short"})}, ${s(n,{month:"short"})}`;return d.a.createElement("div",{className:r.container},d.a.createElement(T.b,{kind:C.b.CALENDAR_EMPTY,colorState:C.a.INVERTED,size:e.size}),d.a.createElement("div",{style:{WebkitBackgroundClip:"text"},className:r.dateText},n.getDate()),d.a.createElement("div",{className:r.subText},o.toUpperCase()))}w.contextTypes={getTheme:l.a.func,intl:_.intlShape};var P=a(4),x=a.n(P),F=a(1588),L=a.n(F);const B=M()(L.a);class U extends d.a.Component{constructor(e){super(e),r()(this,"loadChange",()=>{this.setState({load:!this.state.load})}),r()(this,"showEditChange",()=>{this.setState({showEdit:!this.state.showEdit})}),r()(this,"renderResponse",()=>{const e=this.context.intl.formatMessage,t=this.props.inviteInfo;if(!this.state.load)switch((void 0===t?{}:t).response){case S.ACCEPT:return d.a.createElement("div",{className:B.yes},d.a.createElement("span",{className:B.icon},d.a.createElement(T.b,{kind:C.b.CAL_ACCEPT,size:C.d.XS,colorState:C.a.SUCCESS})),e(f.GOING_MSG));case S.MAYBE:return d.a.createElement("div",{className:B.maybe},d.a.createElement("span",{className:B.icon},d.a.createElement(T.b,{kind:C.b.CAL_MAYBE,size:C.d.XS,colorState:C.a.FIRST_LEVEL_ORANGE})),e(f.MAY_BE_GOING_MSG));case S.DECLINE:return d.a.createElement("div",{className:B.no},d.a.createElement("span",{className:B.icon},d.a.createElement(T.b,{kind:C.b.CAL_DECLINE,size:C.d.XS,colorState:C.a.WARNING})),e(f.NOT_GOING_MSG))}}),r()(this,"responseNoReply",()=>{const e=this.context.intl.formatMessage,t=this.props,a=t.inviteInfo,n=(void 0===a?{}:a).response,s=t.respondToInvite,i=t.replyLinks,r=t.calendarURL,o=t.handleCalendarURLClick,l=t.isValidInvite,c=[{replyString:S.ACCEPT,displayMessage:e(f.YES)},{replyString:S.MAYBE,displayMessage:e(f.MAYBE)},{replyString:S.DECLINE,displayMessage:e(f.NO)}].map(e=>(function(e){const t=e.replyString,a=e.displayMessage,n=e.respondToInvite,s=e.replyLinks,i=e.onShowEditChange,r=e.onLoadShow,o=s&&s[t],l=e.inviteResponse===t,c=M()(L.a,{isChecked:l});return d.a.createElement("a",{key:t,onClick:e=>{o?window.open(o,"_blank"):(e.preventDefault(),e.stopPropagation(),l||r(),n(t)),i()},"data-test-id":t,className:c.replyText,href:"#"},a)})(x()({onLoadShow:this.loadChange,onShowEditChange:this.showEditChange,respondToInvite:s,inviteResponse:n,replyLinks:i},e)));return l?d.a.createElement("div",{className:B.confirmationText},d.a.createElement("span",{className:B.text},d.a.createElement(_.FormattedMessage,{id:"rsvp.eventReply",defaultMessage:"Are you going?"})),this.state.load&&d.a.createElement("div",{className:B.loadingContainer,"data-test-id":"rsvp-loader"},d.a.createElement(h.b,{size:h.a.S})),this.state.showEdit?c:d.a.createElement("div",{className:B.showEdit},this.renderResponse(),d.a.createElement("a",{onClick:this.showEditChange,className:B.edit,href:"#"},e(f.EDIT)))):d.a.createElement("div",{className:B.confirmationText},d.a.createElement("a",{onClick:o,className:B.calendarLink,href:r,target:"_blank",rel:"noopener"},d.a.createElement(_.FormattedMessage,{id:"rsvp.goToCalendarLink",defaultMessage:"Go to Calendar"})))}),r()(this,"responseReply",()=>{const e=this.context.intl.formatMessage,t=this.props.inviteInfo,a=void 0===t?{}:t,n=a.firstAttendeeEmail;switch(a.firstAttendeeStatus){case S.ACCEPT:return d.a.createElement("div",{className:B.confirmationText},n,":",d.a.createElement("div",{className:B.yes},d.a.createElement("span",{className:B.icon},d.a.createElement(T.b,{kind:C.b.CAL_ACCEPT,size:C.d.XS,colorState:C.a.SUCCESS})),e(f.ACCEPTED)));case S.MAYBE:return d.a.createElement("div",{className:B.confirmationText},n,":",d.a.createElement("div",{className:B.maybe},d.a.createElement("span",{className:B.icon},d.a.createElement(T.b,{kind:C.b.CAL_MAYBE,size:C.d.XS,colorState:C.a.FIRST_LEVEL_ORANGE})),e(f.TENTATIVE)));case S.DECLINE:return d.a.createElement("div",{className:B.confirmationText},n,":",d.a.createElement("div",{className:B.no},d.a.createElement("span",{className:B.icon},d.a.createElement(T.b,{kind:C.b.CAL_DECLINE,size:C.d.XS,colorState:C.a.WARNING})),e(f.DECLINED)))}});const t=e.inviteInfo;this.state={showEdit:"NEEDS_ACTION"===(void 0===t?{}:t).response,load:!1}}componentWillReceiveProps(e){const t=this.props.inviteInfo,a=e.inviteInfo;(void 0===t?{}:t).response!==(void 0===a?{}:a).response&&this.loadChange()}render(){const e=this.props.inviteInfo;return d.a.createElement("div",{"data-test-id":"container",className:B.container},"REPLY"!==(void 0===e?{}:e).state?this.responseNoReply():this.responseReply())}}r()(U,"contextTypes",{intl:_.intlShape});var H=a(1589),j=a.n(H);a.d(t,"RsvpView",function(){return G});class G extends d.a.Component{constructor(...e){super(...e),r()(this,"getReplyLinks",()=>{const e=this.props.messageBodyHtml,t={};if(e&&Object(y.b)()){const a=Object(u.getInertElement)(e).querySelectorAll("a"),n={[S.ACCEPT]:"Yes",[S.MAYBE]:"Maybe",[S.DECLINE]:"No"};Object.keys(n).forEach(e=>{const s=n[e],i=Array.prototype.find.apply(a,[e=>e.innerHTML.indexOf(s)>=0]);t[e]=i?i.href:null})}return Object.keys(t).every(e=>t[e])?t:null}),r()(this,"renderRsvpReply",()=>{const e=this.props,t=e.inviteInfo,a=e.rsvpResponseEnabled,n=e.senderEmailAddress,s=e.calendarURL,i=e.parseRsvpReplyLinks&&this.getReplyLinks();if(a||i)return d.a.createElement(U,{inviteInfo:t,respondToInvite:e=>this._respondToInvite(e),replyLinks:i||null,senderEmailAddress:n,calendarURL:s,handleCalendarURLClick:this._navigateToCalendar,isValidInvite:this._isValidInvite()})}),r()(this,"_isValidInvite",()=>{const e=this.props,t=e.inviteInfo,a=void 0===t?{}:t,n=a.attendees,s=e.senderEmailAddress;return this.props.inviteInfo&&(a.organizerEmail===s||n&&-1!==n.indexOf(s))}),r()(this,"_getInviteInfo",()=>{const e=this.props;(0,e.getInviteInfo)({messageId:e.messageId,params:{downloadUrl:e.eventAttachment.downloadUrl,timezoneName:this.context.timezone.name}})}),r()(this,"_respondToInvite",e=>{const t=this.props;(0,t.respondToInvite)({response:e,oldResponse:t.inviteInfo.response,uid:t.uid,messageId:t.messageId,email:t.inviteInfo.email})}),r()(this,"_navigateToCalendar",()=>{const e=this.props;(0,e.navigateToCalendar)({messageId:e.messageId})})}componentDidMount(){this.props.inviteStatus||this._getInviteInfo()}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.inviteStatus,n=t.inviteInfo,s=t.compact,i=t.calendarURL,r=M()(j.a,{compact:s}),o={ERROR:d.a.createElement("div",{className:r.errorMessage},e(f.LOAD_ERROR)),LOADING:d.a.createElement("div",{className:r.loadingContainer},d.a.createElement(h.b,{size:h.a.S})),READY:d.a.createElement("div",{className:r.container},d.a.createElement(w,{inviteInfo:n,size:s?C.d.L:C.d.XL}),d.a.createElement("div",{className:r.content},d.a.createElement(O,{inviteInfo:n,compact:s,calendarURL:i,handleCalendarURLClick:this._navigateToCalendar,isValidInvite:this._isValidInvite()}),this.renderRsvpReply()))};return o[a]?d.a.createElement("div",{className:r.wrapper},o[a]):null}}r()(G,"contextTypes",{intl:_.intlShape,timezone:p.e});t.default=Object(m.connect)((e,t)=>{const a=t.messageId,n=Object(E.b)(e),i=n.getFeaturesSelectors,r=n.getMessageBodiesSelectors,o=n.getMessageFromAddress,l=(0,n.getCalendarSelectors)(),c=i(),d=c.isEnabled(g.ub.RSVP_RESPONSE),m=c.isEnabled(g.ub.PARSE_RSVP_REPLY_LINKS),_=r(),u=l.getInviteStatus(a),p="READY"===u?l.getInviteUid(a):null,h=l.getInviteInfo(a),b=c.getSetting(g.zd.CALENDAR_URL),C=_.doesMessageBodyExist(a)&&_.get(a),f=o(a)||[],S=s()(f,1)[0];return{messageBodyHtml:C&&C.html||"",rsvpResponseEnabled:d,parseRsvpReplyLinks:m,inviteStatus:u,inviteInfo:h,uid:p,calendarURL:b,senderEmailAddress:S&&S.email}},e=>({getInviteInfo:t=>e(Object(b.c)(t)),respondToInvite:t=>e(Object(b.e)(t)),navigateToCalendar:t=>e(Object(b.d)(t))}))(G)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"TextOnlyCue",function(){return f});var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=(a(8),a(1)),l=a.n(o),c=a(16),d=a(5),m=a(1563),_=a.n(m),u=a(6),p=a(18),h=(a(42),a(7)),g=a(1232),E=a(13),b=a.n(E);const C={blue:{kind:d.b.CAL_DECLINE,colorState:d.a.INVERTED_MORE_DIM,size:d.d.S},white:{kind:d.b.CLOSE,colorState:d.a.DEFAULT,size:d.d.XS}};class f extends l.a.Component{constructor(...e){super(...e),r()(this,"onClose",e=>{this.props.onCloseNotify&&this.props.onCloseNotify(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:h.g.FEATURE_CUE,interactionType:Object(p.j)(e)}})})}render(){const e=this.props,t=e.appearance,a=e.animate,n=b()(_.a,{appearance:t,animate:a});return l.a.createElement("div",{className:n.container,"data-test-id":this.props.cueName},l.a.createElement("span",{className:n.text},l.a.createElement(u.FormattedMessage,this.props.message)),l.a.createElement("div",{"data-test-id":"text-cue-close-icon",className:n.close,onClick:this.onClose},l.a.createElement(c.b,s()({"data-test-id":"close-cue-button"},C[t]))))}}r()(f,"contextTypes",{intl:u.intlShape.isRequired}),r()(f,"defaultProps",{appearance:"blue",animate:!1}),t.default=Object(g.a)(f)},,,function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(13),l=a.n(o),c=a(29),d=a.n(c),m=a(6),_=a(15),u=a(150),p=a(14),h=a(27),g=a(55),E=a(53),b=a(40),C=(a(76),a(0)),f=a(64),S=a(7),y=a(12),T=a(11),N=a(5),A=a(16),I=a(18),M=a(1597),v=a.n(M);const D=()=>{};class O extends r.a.Component{constructor(...e){super(...e),s()(this,"state",{isFollowing:this.props.following,isExpanded:!1}),s()(this,"handleClick",e=>{const t=this.props,a=t.contextOfUse;if(!t.isCompact)if("category"===a){const t=this.props,a=t.displayContent,n=t.requestCategoryUnfollow,s=t.requestCategoryFollow,i=this.state.isFollowing,r=i?S.e.CATEGORY_UNFOLLOW:S.e.CATEGORY_FOLLOW,o=Object(I.j)(e),l=S.g.MSG_BODY,c={reason:{featurefamily:C.sb.IC,featurename:C.ub.CATEGORY_FOLLOW,viewtype:"msgread"}};i?n({category:a}):s({category:a}),f.b.sendI13nModel({i13nModel:{mKey:r,interactionType:o,sec:l,actionData:c}})}else"expand"===a&&(this.setState({isExpanded:!this.state.isExpanded}),this.props.onPillClick())}),s()(this,"renderIcon",(e,t,a,n)=>{if(n)return null;const s=this.state,i=s.isFollowing;let o,l,c;return t?(o=N.b.EXCLAMATION,l=N.d.XS,c=N.c.D0):a?(o=N.b.ARROW_RIGHT_DOC,l=N.d.XS,c=s.isExpanded?N.c.D270:N.c.D90):(o=i?N.b.CHECKMARK:N.b.ADD,l=i?this.props.isCompact?N.d.XS:N.d.S:N.d.M,c=N.c.D0),r.a.createElement("div",{"data-test-id":"category_pill_icon",className:e.icon},r.a.createElement(A.b,{kind:o,size:l,rotate:c,colorState:i&&!t?N.a.WHITE:N.a.INHERITED}))}),s()(this,"renderDisplayContent",(e,t,a)=>{const n=this.props.displayContent;let s;return r.a.createElement("div",{"data-test-id":"category_pill_name",className:e.categoryText},s=a?`+${n.displayText}`:t?n.displayText:n.name)})}componentDidUpdate(e){e.following!==this.props.following&&this.setState({isFollowing:this.props.following})}render(){const e=this.props,t=e.isCompact,a=e.displayContent,n=e.error,s=e.contextOfUse,i=this.state.isFollowing,o=this.props["data-test-id"]&&(i&&!n?"following ":"")+(n?"error ":"")+this.props["data-test-id"],c="expand"===s,d="overflowNumber"===s,m=l()(v.a,{following:i&&!n,isCompact:t,contextOfUse_error:`${s}_${!!n}`});return r.a.createElement("div",{"data-test-id":o,"data-pill-text":"category"===s?a.name:null,className:m.pillContainer,onClick:this.handleClick},this.renderIcon(m,n,c,d),this.renderDisplayContent(m,c,d))}}s()(O,"defaultProps",{following:!1,isCompact:!1,requestCategoryFollow:D,requestCategoryUnfollow:D,contextOfUse:"category",onPillClick:D});var k=Object(_.connect)((e,{contextOfUse:t="",displayContent:a={},following:n,error:s})=>{const i=(0,Object(T.b)(e).getCategoryFollowingSelectors)(),r=i.isCategoryFollowed,o=i.isCategoryLastError,l=["firstCategory","overflowNumber","popover"].includes(t);return a.id&&(n=r(a.id),s=o(a.id)),{isCompact:l,following:n,error:s}},e=>({requestCategoryFollow:t=>e(Object(u.h)(t)),requestCategoryUnfollow:t=>e(Object(u.i)(t))}))(O),R=a(1598),w=a.n(R);a.d(t,"CategoryFollowing",function(){return U}),a.d(t,"mapStateToProps",function(){return H}),a.d(t,"mapDispatchToProps",function(){return j});const P=80,x="More",F="Less",L=Object(m.defineMessages)({heading_suggested:{id:"category_following.heading_suggested",defaultMessage:"Suggested product categories to watch"},popover_title:{id:"category_following.popover_title",defaultMessage:"Following {categoriesLength} product categories"},onboarding_title:{id:"category_following.onboarding_title",defaultMessage:"Start watching categories like these to get relevant deals."}}),B={messageList:{}};class U extends r.a.Component{constructor(e){super(e),s()(this,"state",{showOverflowCategories:!1,mounted:!1,popoverClosed:!1,dimensions:{}}),s()(this,"getMaxWidth",()=>{if(this.pillContainerRef.current)return this.pillContainerRef.current.offsetWidth}),s()(this,"renderCompactPopover",(e,t)=>{return r.a.createElement(b.b,{align:p.a.END,triggerOn:p.i.HOVER,ignorePointerEvents:!0,isArrowVisible:!0,permittedArrowDirections:[p.h.UP],zAltitude:y.ZIndices.POPOVER.LOW,bg:p.d.DEFAULT,borderRadius:p.e.MEDIUM},r.a.createElement("div",{className:t.popoverTitle},(0,this.context.intl.formatMessage)(L.popover_title,{categoriesLength:e.length})),r.a.createElement("div",{className:t.popoverPillsWrapper},e.map(e=>r.a.createElement("div",{className:t.popoverPill,key:e.id},r.a.createElement(k,{contextOfUse:"popover",displayContent:e,following:!0})))))}),s()(this,"renderCompactPills",e=>{const t=this.props,a=t.messageGroupId,n=t.categoriesFollowed,s=t.isPreviewpane;if(n.length){const t=r.a.createElement(k,{contextOfUse:"firstCategory",displayContent:n[0]}),i=n.length-1,o=i?r.a.createElement(k,{contextOfUse:"overflowNumber",displayContent:{displayText:i},following:!0}):null;return B.messageList[a]||(this.renderTimeout=setTimeout(()=>{if(!B.messageList[a]){f.b.sendI13nModel({i13nModel:{mKey:S.e.CATEGORY_FOLLOWING_SHOW,sec:S.g.MSG_BODY,actionData:{reason:{featurefamily:C.sb.IC,featurename:C.ub.CATEGORY_FOLLOW}}}}),B.messageList[a]=!0}},0)),r.a.createElement("div",{className:e.pillsWrapper},t,i&&s?r.a.createElement("div",null,o):null,i&&!s?r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("div",null,o)),this.renderCompactPopover(n,e)):null)}return null}),s()(this,"toggleExpansion",()=>{this.setState({showOverflowCategories:!this.state.showOverflowCategories})}),s()(this,"renderExpandPill",()=>{const e=this.state.showOverflowCategories;return r.a.createElement(k,{"data-test-id":e?"category_view_less":"category_view_more",contextOfUse:"expand",displayContent:{displayText:e?F:x},onPillClick:this.toggleExpansion})}),s()(this,"renderPopover",()=>this.props.isCueEnabled?r.a.createElement(b.b,{popoverAnchor:this.headContainerRef.current,align:p.a.CENTER,triggerOn:p.i.MOUNT,isArrowVisible:!0,permittedArrowDirections:[p.h.START],zAltitude:y.ZIndices.POPOVER.LOW,bg:p.d.DEFAULT,borderRadius:p.e.MEDIUM},r.a.createElement("div",{ref:"popoverInnerContent"},r.a.createElement(h.a,{import:"../feature_cue/atoms/text_only_cue.jsx",appearance:"white",message:L.onboarding_title,cueName:C.ub.CATEGORY_FOLLOWING_CUE,onCloseNotify:this.onClosePopover,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,856))},_moduleResolver:function(){return 856}}))):null),s()(this,"onClosePopover",()=>{this.setState({popoverClosed:!0})}),s()(this,"renderPills",e=>{const t=this.props,a=t.categoriesList,n=t.containerWidth,s=this.state.dimensions,i=this.context.intl.formatMessage;this.categoriesToShow=this.categoriesToShow&&this.categoriesToShow.length>=2&&this.categoriesToShow.length===a.length?[...a].sort((e,t)=>this.categoriesToShow.findIndex(t=>t.id===e.id)-this.categoriesToShow.findIndex(e=>e.id===t.id)):[...a];let o=this.pillContainerRef.current&&this.pillContainerRef.current.offsetWidth||n;if(o>0){const e=this.categoriesToShow.reduce((e,t)=>e+(s[t.name]&&s[t.name].width||0),0)>(o-=4*y.GRID_UNIT+4*y.GRID_UNIT);o=e?o-P:0,e&&o<=0&&(o=1)}const l=o>0?this.categoriesToShow.reduce((e,t)=>((o-=s[t.name]&&s[t.name].width||0)>=0&&++e,e),0):this.categoriesToShow.length,c=this.categoriesToShow.slice(0,l||1),d=this.categoriesToShow.slice(l||1);return this.renderedMessageReadOnce||(this.renderTimeout=setTimeout(()=>{if(!this.renderedMessageReadOnce){f.b.sendI13nModel({i13nModel:{mKey:S.e.SUGGESTED_CATEGORIES_CARD_SHOW,sec:S.g.MSG_BODY,actionData:{reason:{featurefamily:C.sb.IC,featurename:C.ub.CATEGORY_FOLLOW,viewtype:"msgread"}}}}),this.renderedMessageReadOnce=!0}},0)),r.a.createElement("div",{"data-test-id":"category_following"},r.a.createElement("div",{className:e.separator}),r.a.createElement("div",{ref:this.pillContainerRef,className:e.container},r.a.createElement("div",{ref:this.headContainerRef,className:e.heading},i(L.heading_suggested)),this.renderPopover(),r.a.createElement("div",{className:e.pillsWrapper},c.map((e,t)=>r.a.createElement(k,{"data-test-id":"category_pill",displayContent:e,key:t})),this.state.showOverflowCategories?d.map((e,t)=>r.a.createElement(k,{"data-test-id":"category_pill",displayContent:e,key:t})):null,d.length?this.renderExpandPill():null)))}),this.pillContainerRef=r.a.createRef(),this.headContainerRef=r.a.createRef(),this.renderedMessageReadOnce=!1}componentDidMount(){if(!this.state.mounted&&(this.setState({mounted:!0}),0===this.props.containerWidth)){const e=d.a.findDOMNode(this);if(e instanceof HTMLElement){const t=e.querySelectorAll("[data-pill-text]"),a=Array.from(t).reduce((e,t)=>{return e[t.getAttribute("data-pill-text")]={width:t.offsetWidth+1+y.GRID_UNIT,height:t.offsetHeight},e},{});this.setState({dimensions:a})}}}componentWillUnmount(){"messageRead"===this.props.contextOfUse&&this.props.categoryFollowFailureReset(),this.state.mounted&&this.setState({mounted:!1}),clearTimeout(this.renderTimeout)}render(){const e=this.props,t=e.isProfileAvailable,a="messageList"===e.contextOfUse,n=l()(w.a,{isCompact:a});return t?a?this.renderCompactPills(n):this.renderPills(n):null}}s()(U,"contextTypes",{intl:m.intlShape.isRequired}),s()(U,"defaultProps",{categoriesFollowed:[],contextOfUse:"messageRead",isPreviewpane:!1,containerWidth:0});const H=(e,{categoriesList:t=[]})=>{const a=Object(T.b)(e),n=a.isFeatureEnabled,s=a.getSetting,i=(0,a.getCategoryFollowingSelectors)(),r=i.isProfileLoadedSuccessfully,o=i.isCategoryFollowed;return{isCueEnabled:n(C.ub.CATEGORY_FOLLOWING_CUE),isProfileAvailable:r(),categoriesFollowed:t.filter(e=>o(e.id)),isPreviewpane:!(s(C.zd.PREVIEW_PANE)===C.Rc.NO)}},j=e=>({categoryFollowFailureReset:()=>e(Object(u.b)())});t.default=Object(_.connect)(H,j)(U)},function(e,t,a){"use strict";a.r(t),a.d(t,"NewUserOnboardingCue",function(){return M}),a.d(t,"mapStateToProps",function(){return v});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1246),m=a(1232),_=a(13),u=a.n(_),p=a(1375),h=a.n(p),g=a(19),E=a(28),b=a(20),C=a(5),f=a(474),S=a(18),y=a(0),T=a(17),N=a(11),A=a(15);const I=Object(c.defineMessages)({themesPanel:{id:"new_user_onboarding_cue.themes_panel",defaultMessage:"Pick a color theme"},notificationsPanel:{id:"new_user_onboarding_cue.notifications_panel",defaultMessage:"Enable notifications"},imapPanel:{id:"new_user_onboarding_cue.imap_panel",defaultMessage:"Import emails"},primaryBtn:{id:"new_user_onboarding_cue.primary_btn",defaultMessage:"Let's go!"},skip:{id:"new_user_onboarding_cue.skip_btn",defaultMessage:"Skip for now"},close:{id:"new_user_onboarding_cue.close_icon",defaultMessage:"Close"}});class M extends l.a.Component{constructor(...e){super(...e),s()(this,"getRapidEvent",(e,t)=>({i13nModel:{mKey:e,interactionType:Object(S.j)(t)}})),s()(this,"onTryNow",e=>{this.context.navigateTo({route:Object(T.v)({settingsGroupId:y.Cd.PERSONALIZE_INBOX})}),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_success",e))}),s()(this,"onSkip",e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_skip",e))}),s()(this,"onClose",e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation()})}render(){const e=Object.keys(y.Wd).find(e=>y.Wd[e]===this.props.partnerBrand),t=u()(h.a,{[`partner-${e}`]:!!e,useThirdGenerationLogo:this.props.useThirdGenerationLogo}),a=this.context.intl.formatMessage,n=this.context.mailBrandNameString;return l.a.createElement(d.a,{onClose:this.handleOverlayClick,kind:f.a.DARK,ariaLabelledBy:"new-user-onboarding-title",ariaDescribedBy:"new-user-onboarding-description"},l.a.createElement("div",{"data-test-id":this.props.cueName,className:t.container},l.a.createElement("div",{className:t.close},l.a.createElement(b.a,{onClick:this.onClose,kind:C.b.CLOSE,size:C.d.XS,colorState:C.a.INVERTED,title:a(I.close),"aria-label":a(I.close),"data-test-id":"close-cue-button"})),l.a.createElement("div",{"data-test-id":"header",className:t.header},l.a.createElement("div",{className:t.headerImg})),l.a.createElement("div",{className:t.separator}),l.a.createElement("div",{className:t.heading,id:"new-user-onboarding-title"},l.a.createElement(c.FormattedMessage,{id:"new_user_onboarding_cue.header_text",defaultMessage:"Welcome to {mailBrandNameString}",values:{mailBrandNameString:n}})),l.a.createElement("div",{className:t.description,id:"new-user-onboarding-description"},l.a.createElement(c.FormattedMessage,{id:"new_user_onboarding_cue.body",defaultMessage:"Update your preferences in Settings to make your mailbox your own."})),l.a.createElement("div",{"data-test-id":"task-panel",className:t.taskPanel},l.a.createElement("div",{className:t.task},l.a.createElement("div",{className:t.themeTaskImg}),l.a.createElement("div",{className:t.panelText},l.a.createElement(c.FormattedMessage,I.themesPanel))),l.a.createElement("div",{className:t.task},l.a.createElement("div",{className:t.notificationsTaskImg}),l.a.createElement("div",{className:t.panelText},l.a.createElement(c.FormattedMessage,I.notificationsPanel))),l.a.createElement("div",{className:t.task},l.a.createElement("div",{className:t.imapTaskImg}),l.a.createElement("div",{className:t.panelText},l.a.createElement(c.FormattedMessage,I.imapPanel)))),l.a.createElement(g.a,{style:{height:"42px",width:"220px",fontSize:"16px",fontWeight:"bold",margin:"16px 0px 0px 0px"},onClick:this.onTryNow,title:a(I.primaryBtn),"data-test-id":"primary-cue-button",kind:E.a.PRIMARY,"aria-label":a(I.primaryBtn)},l.a.createElement(c.FormattedMessage,I.primaryBtn)),l.a.createElement("div",{className:t.skipBtn,"data-test-id":"skip-cue-button",onClick:this.onSkip,role:"button"},l.a.createElement(c.FormattedMessage,I.skip))))}}s()(M,"contextTypes",{intl:c.intlShape,executeAction:r.a.func,navigateTo:r.a.func,partner:r.a.string,mailBrandNameString:r.a.string});const v=e=>{return{useThirdGenerationLogo:(0,Object(N.b)(e).isFeatureEnabled)(y.ub.USE_THIRD_GENERATION_LOGO)}};t.default=Object(A.connect)(v,null,null,{withRef:!0})(Object(m.a)(M))},function(e,t,a){"use strict";a.r(t),a.d(t,"CHECK_HOVER_TIME",function(){return v});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(13),m=a.n(d),_=a(1568),u=a.n(_),p=a(79),h=a(16),g=a(19),E=a(28),b=a(34),C=a(76),f=a(14),S=a(59),y=a(12),T=a(99),N=a(30),A=a(189),I=a(5),M=(a(9),a(1254));const v=500,D=200,O=Object(c.defineMessages)({expand_image:{id:"compose.inline_image.resize.large",defaultMessage:"Large"},shrink_image:{id:"compose.inline_image.resize.small",defaultMessage:"Small"},send_as_attachment:{id:"compose.inline_image.send_as_attachment",defaultMessage:"Send as attachment"},remove_image:{id:"compose.inline_image.remove",defaultMessage:"Remove image"},img_overlay_button_title:{id:"compose.inline_image.more_option_button",defaultMessage:"More options"},resize_to_mini_size:{id:"compose.link_enhancer.resize_mini",defaultMessage:"Small"},resize_to_medium_size:{id:"compose.link_enhancer.resize_medium",defaultMessage:"Medium"},resize_to_cover_size:{id:"compose.link_enhancer.resize_cover",defaultMessage:"Large"},move_card_to_bottom:{id:"compose.link_enhancer.move_bottom",defaultMessage:"Move to bottom"},move_card_inline:{id:"compose.link_enhancer.move_inline",defaultMessage:"Move inline"},remove_card:{id:"compose.link_enhancer.remove",defaultMessage:"Remove"}});class k extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{shown:!1,isSelected:!1}),s()(this,"_removeEventListeners",()=>{this.props.editor&&(this.props.editor.element.removeEventListener("click",this.deselectImage),this.props.editor.element.removeEventListener("keydown",this.deselectImage))}),s()(this,"_repositionOverlay",()=>{A.a.fixOverlayPosition({hoveredElement:this._hoveredElement,overlay:this._overlay,scrollableContainer:this.props.scrollableAreaRef,editor:this.props.editor})}),s()(this,"handleMouseOver",()=>{clearTimeout(this.hideTimeout),this.state.shown&&this._hoveredElement===this.props.hoveredElement||(this._hoveredElement=this.props.hoveredElement,this.setState({shown:!0,isSelected:!1},this.hoverCheckTimer))}),s()(this,"hoverCheckTimer",()=>{this.props.editor.element.contains(this._hoveredElement)?(this._repositionOverlay(),this._interval=setTimeout(this.hoverCheckTimer,v)):this._hideOverlay()}),s()(this,"handleMouseOut",e=>{clearTimeout(this.hideTimeout),this.state.isSelected||(this.props.editor.element.contains(e.relatedTarget)&&e.target===this._overlay?this._hideOverlay():this.hideTimeout=setTimeout(this._hideOverlay,D))}),s()(this,"_hideOverlay",()=>{this._overlay&&Object.assign(this._overlay.style,{position:"absolute",left:N.IMAGE_OVERLAY_INITIAL_LEFT,width:0,height:0}),this.setState({shown:!1,isSelected:!1}),this._hoveredElement=null,this._interval=clearTimeout(this._interval)}),s()(this,"selectImage",()=>{if(this._hoveredElement){const e=document.createRange(),t=window.getSelection();if(this._hoveredElement.className.indexOf(N.INLINE_IMAGE_PLUGIN_CLASSES.ONLINE_GIF_CLASS)>=0){const t=A.a.findGifWrapper(this._hoveredElement);if(!t)return;e.selectNode(t)}else e.selectNode(this._hoveredElement);t.removeAllRanges(),t.addRange(e),this.props.editor.element.classList.add(N.HIDE_SELECTION_CLASS),this.props.editor.element.addEventListener("click",this.deselectImage),this.props.editor.element.addEventListener("keydown",this.deselectImage),this.setState({isSelected:!0})}}),s()(this,"removeImg",()=>{this._hoveredElement&&A.a.removeInlineImage(this.props.editor,this._hoveredElement,()=>{this._hoveredElement.hasAttribute("data-id")&&this.props.onImageRemove(this._hoveredElement.getAttribute("data-id")),this._hideOverlay()})}),s()(this,"_sendAsAttachment",()=>{this._hoveredElement&&(this.props.onSendAsAttachment(this._hoveredElement),this._hoveredElement.parentNode.removeChild(this._hoveredElement),this.props.editor.contentChanged({type:N.EDITOR_EVENTS.inline_to_non_inline_attachment}),this._hideOverlay())}),s()(this,"_onImageResize",e=>{this.props.onImageResize(e),this._hideOverlay()}),s()(this,"renderMenu",()=>{const e=this.state.shown,t=this.props,a=t.overlayType,n=t.imageSize,s=t.showSendAsAttachmentBtn,i=t.cardSize,r=m()(u.a,{shown:e}),o=this.context.intl.formatMessage,c=N.CURRENT_IMAGE_SIZE_STATUS.SMALL,d=N.CURRENT_IMAGE_SIZE_STATUS.LARGE;switch(a){case N.RTEHoverOverlayTypes.IMAGE:return l.a.createElement(S.a,{kind:T.a.MENU,focusOnMount:!0},l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:()=>this._onImageResize(c),kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"small"},n===c&&l.a.createElement("div",{className:r.checkmarkIcon},l.a.createElement(h.b,{kind:I.b.CHECKMARK,colorState:I.a.NORMAL,size:I.d.XS})),l.a.createElement("div",{className:r.paddingLeft},o(O.shrink_image)))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:()=>this._onImageResize(d),kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"large"},n===d&&l.a.createElement("div",{className:r.checkmarkIcon},l.a.createElement(h.b,{kind:I.b.CHECKMARK,colorState:I.a.NORMAL,size:I.d.XS})),l.a.createElement("div",{className:r.paddingLeft},o(O.expand_image)))),l.a.createElement("div",{className:r.divider}),s&&l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this._sendAsAttachment,kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"send-as-attachment"},l.a.createElement("div",{className:r.paddingLeft},o(O.send_as_attachment)))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.removeImg,kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"img-hover-remove"},l.a.createElement("div",{className:r.paddingLeft},o(O.remove_image)))));case N.RTEHoverOverlayTypes.LINK_ENHANCER_CARD:return i!==M.b.APPEND?l.a.createElement(S.a,{kind:T.a.MENU,focusOnMount:!0},l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardResize.bind(null,M.b.MINI),kind:E.a.MENUITEM_PARENT_TEXT_COLOR},i===M.b.MINI&&l.a.createElement("div",{className:r.checkmarkIcon},l.a.createElement(h.b,{kind:I.b.CHECKMARK,colorState:I.a.NORMAL,size:I.d.XS})),l.a.createElement("div",{className:r.paddingLeft},this.context.intl.formatMessage(O.resize_to_mini_size)))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardResize.bind(null,M.b.MEDIUM),kind:E.a.MENUITEM_PARENT_TEXT_COLOR},i===M.b.MEDIUM&&l.a.createElement("div",{className:r.checkmarkIcon},l.a.createElement(h.b,{kind:I.b.CHECKMARK,colorState:I.a.NORMAL,size:I.d.XS})),l.a.createElement("div",{className:r.paddingLeft},this.context.intl.formatMessage(O.resize_to_cover_size)))),l.a.createElement("div",{className:r.divider}),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardMove,kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"move-bottom"},l.a.createElement("div",{className:r.paddingLeft},this.context.intl.formatMessage(O.move_card_to_bottom)))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardRemove,kind:E.a.MENUITEM_PARENT_TEXT_COLOR},l.a.createElement("div",{className:r.paddingLeft},this.context.intl.formatMessage(O.remove_card))))):l.a.createElement(S.a,{kind:T.a.MENU,focusOnMount:!0},l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardResize.bind(null,M.b.MEDIUM),kind:E.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"move-inline"},this.context.intl.formatMessage(O.move_card_inline))),l.a.createElement(b.a,{className:r.menuItem},l.a.createElement(g.a,{onClick:this.props.onCardRemove,kind:E.a.MENUITEM_PARENT_TEXT_COLOR},this.context.intl.formatMessage(O.remove_card))));default:return null}})}componentDidMount(){this.deselectImage=()=>{this._removeEventListeners(),this.props.editor.element.classList.remove(N.HIDE_SELECTION_CLASS),this._hideOverlay()},this.props.onload&&this.props.onload()}componentWillUnmount(){this._removeEventListeners(),clearTimeout(this.hideTimeout),clearTimeout(this._interval)}render(){const e=this.state,t=e.shown,a=e.isSelected,n=m()(u.a,{shown:t,isSelected:a});return l.a.createElement("div",{className:n.hoverContainer,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:e=>e.target===this._overlay&&this.selectImage(),"data-test-id":"img-hover-overlay-container",ref:e=>this._overlay=e},t&&l.a.createElement(C.c,{permittedArrowDirections:[f.h.ANY],zAltitude:y.ZIndices.POPOVER.HIGH,align:f.a.END,triggerOn:C.b.CLICK,triggerOff:C.a.CLICK,className:n.popoverContainer,onContentMouseOver:this.handleMouseOver,onContentMouseOut:this.handleMouseOut,isArrowVisible:!1},l.a.createElement("div",{className:n.icon},l.a.createElement(p.a,{kind:I.b.MORE,colorStates:{normal:I.a.COOL_FAINT,hovered:I.a.SELECTED},size:I.d.XXS,title:(0,this.context.intl.formatMessage)(O.img_overlay_button_title)})),l.a.createElement("div",{className:n.menuContainer},this.renderMenu())))}}s()(k,"contextTypes",{intl:c.intlShape.isRequired,bindShortcut:r.a.func,unbindShortcut:r.a.func}),s()(k,"defaultProps",{onImageRemove:()=>{}}),t.default=k},function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return c});a(8);var n=a(1),s=a.n(n),i=a(6),r=a(1257),o=a(0);const l=Object(i.defineMessages)({header:{id:"stationery.cue_header",defaultMessage:"Send your emails with style"},body:{id:"stationery.cue_body",defaultMessage:"Make your emails stand out with artist-designed stationery from Paperless Post."}});function c({onTryNow:e,close:t}){return s.a.createElement(r.a,{headerText:l.header,bodyText:l.body,cueName:o.ub.STATIONERY_CUE,onTryNow:e,close:t,onMayBeLater:()=>{}})}},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(15),d=a(13),m=a.n(d),_=a(6),u=a(11),p=a(59),h=a(99),g=a(1301),E=a.n(g);const b=m()(E.a);var C=e=>{const t=e.renderMarkAsUnread,a=e.renderMarkAsStarred,n=e.renderMarkAsUnstarred,s=e.renderBlockSenders,i=e.renderViewRawMessage,r=e.renderPrint,o=e.renderListSeparator,c=e.renderFilterMessagesLikeThis,d=e.renderUnsubscribe,m=e.renderAddToContacts;return l.a.createElement("div",{"data-test-id":"more-menu-list-container",className:b.container},l.a.createElement(p.a,{kind:h.a.MENU,focusOnMount:!0,"data-test-id":"more-menu",key:"more-menu",circularNavigation:!1},(0,e.renderMarkAsRead)("Shift+K"),t("K"),a("L"),n("Shift+L"),s(),o(),d(),c(),i(),r("P"),m()))};const f=m()(E.a);var S=e=>{const t=e.renderReplyAll,a=e.renderForward,n=e.renderMarkAsRead,s=e.renderMarkAsUnread,i=e.renderMarkAsStarred,r=e.renderMarkAsUnstarred,o=e.renderBlockSenders,c=e.renderViewRawMessage,d=e.renderPrint,m=e.renderListSeparator,_=e.renderArchive,u=e.renderDelete,g=e.renderSpam,E=e.renderFilterMessagesLikeThis,b=e.renderUnsubscribe,C=e.renderAddToContacts;return l.a.createElement("div",{"data-test-id":"contextual-menu-list-container",className:f.container},l.a.createElement(p.a,{kind:h.a.MENU,focusOnMount:!0,"data-test-id":"contextual-menu",key:"contextual-menu",circularNavigation:!1,onEscape:e.onEscape},(0,e.renderReply)(),t(),a(),m(),n(),s(),i(),r(),o(),m(),_(),u(),g(),m(),b(),E(),c(),d(),C()))},y=a(0),T=a(7),N=a(18),A=a(34),I=a(487),M=a(130),v=Object(_.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},blockSenders:{id:"block_messages_from_senders",defaultMessage:"Block senders"},viewRawMessage:{id:"view_raw_message_title",defaultMessage:"View raw message"},viewNewestRawMessage:{id:"view_raw_message_newest",defaultMessage:"View newest raw message"},markedAsRead:{id:"marked_as_read",defaultMessage:"Message is already marked as read"},markedAsUnread:{id:"marked_as_unread",defaultMessage:"Message is already marked as unread"},markedAsStarred:{id:"marked_as_starred",defaultMessage:"Message is already marked as starred"},markedAsUnstarred:{id:"marked_as_unstarred",defaultMessage:"Message is already marked as not starred"},disableBlockSenders:{id:"disable_block_messages_from_senders",defaultMessage:"You may have reached the 1000 limit or the sender cannot be blocked"},disableViewRawMessage:{id:"disable_view_raw_message",defaultMessage:"raw message is not available"},printMessage:{id:"print_message_title",defaultMessage:"Print message"},printNewestMessage:{id:"print_message_newest",defaultMessage:"Print newest"},reply:{id:"message.toolbar.reply",defaultMessage:"Reply"},replyAll:{id:"message.toolbar.replyAll",defaultMessage:"Reply All"},forward:{id:"message.toolbar.forward",defaultMessage:"Forward"},archive:{id:"archive_icon_label",defaultMessage:"Archive"},restore:{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"},delete:{id:"delete_icon_label",defaultMessage:"Delete"},spam:{id:"spam_icon_label",defaultMessage:"Spam"},ham:{id:"not_spam_icon_label",defaultMessage:"Not Spam"},filterMessagesLikeThis:{id:"filter_messages_like_this",defaultMessage:"Filter messages like this..."},addToContacts:{id:"more_menu.add_to_contact",defaultMessage:"Add Sender to Contacts"}}),D=a(60),O=a(489),k=a(95),R=a(1299),w=a(10),P=a(1348),x=a(1349),F=a(1154),L=a(80);a.d(t,"mapStateToProps",function(){return j}),a.d(t,"mapDispatchToProps",function(){return G}),a.d(t,"_ActionMenuItems",function(){return W});const B=m()(E.a),U=y.O.Modes;class H extends o.Component{constructor(e){super(e),this.handleReply=this.handleReply.bind(this),this.handleReplyAll=this.handleReplyAll.bind(this),this.handleForward=this.handleForward.bind(this),this.handleViewRawMessage=this.handleViewRawMessage.bind(this),this.handleMarkAsRead=this.handleMarkAsRead.bind(this),this.handleMarkAsUnread=this.handleMarkAsUnread.bind(this),this.handleMarkAsStarred=this.handleMarkAsStarred.bind(this),this.handleMarkAsUnstarred=this.handleMarkAsUnstarred.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleSpam=this.handleSpam.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.handlePrint=this.handlePrint.bind(this),this.renderBlockSendersDialog=this.renderBlockSendersDialog.bind(this),this.renderConfirmDialog=this.renderConfirmDialog.bind(this),this.renderFilterMessagesLikeThisDialog=this.renderFilterMessagesLikeThisDialog.bind(this),this.handleAddToContacts=this.handleAddToContacts.bind(this),this.componentRenderers={renderMarkAsRead:this.renderMarkAsRead.bind(this),renderMarkAsUnread:this.renderMarkAsUnread.bind(this),renderMarkAsStarred:this.renderMarkAsStarred.bind(this),renderMarkAsUnstarred:this.renderMarkAsUnstarred.bind(this),renderBlockSenders:this.renderBlockSenders.bind(this),renderPrint:this.renderPrint.bind(this),renderViewRawMessage:this.renderViewRawMessage.bind(this),renderListSeparator:this.renderListSeparator.bind(this),renderReply:this.renderReply.bind(this),renderReplyAll:this.renderReplyAll.bind(this),renderForward:this.renderForward.bind(this),renderArchive:this.renderArchive.bind(this),renderDelete:this.renderDelete.bind(this),renderSpam:this.renderSpam.bind(this),renderFilterMessagesLikeThis:this.renderFilterMessagesLikeThis.bind(this),renderUnsubscribe:this.renderUnsubscribe.bind(this),renderAddToContacts:this.renderAddToContacts.bind(this)}}componentDidMount(){const e=this.props,t=e.shouldFetchContactDetails,a=e.getContactDetails,n=e.emailIds;(e.enableBlockSenders||e.enableFilterMessagesLikeThis)&&e.settingsApiCallStatus!==y.bd.LOADED&&(0,e.fetchFiltersAndBlockedSenders)(),t&&a({email:n[0],isCompose:!1})}handleReply(e){e.preventDefault();const t=this.props,a=t.listId,n=t.streamId;(0,t.onReplyForward)({i13nModel:Object.assign({mKey:T.e.TOOLBAR_REPLY,sec:T.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:T.f.reply,interactionType:Object(N.j)(e)}),streamId:n,composeMode:U.REPLY,listId:a,triggeredFromContextMenu:!0})}handleReplyAll(e){e.preventDefault();const t=this.props,a=t.listId,n=t.streamId;(0,t.onReplyForward)({i13nModel:Object.assign({mKey:T.e.TOOLBAR_REPLYALL,sec:T.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:T.f.replyAll,interactionType:Object(N.j)(e)}),streamId:n,composeMode:U.REPLY_ALL,listId:a,triggeredFromContextMenu:!0})}handleForward(e){e.preventDefault();const t=this.props,a=t.listId,n=t.streamId;(0,t.onReplyForward)({i13nModel:Object.assign({mKey:T.e.TOOLBAR_FORWARD,sec:T.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:T.f.forward,interactionType:Object(N.j)(e)}),streamId:n,composeMode:U.FORWARD,listId:a,triggeredFromContextMenu:!0})}handleViewRawMessage(e){e.preventDefault();const t=this.props;(0,t.viewRawMessage)({messageGroupIds:t.selectedGroupIds,i13nModel:{mKey:T.e.TOOLBAR_VIEW_RAW,interactionType:Object(N.j)(e),sec:T.g.MSG_LIST_CONTEXT_MENU}})}handleMarkAsRead(e){e.preventDefault();const t=this.props,a=t.streamId;(0,t.onRead)({i13nModel:{mKey:T.e.TOOLBAR_MARK_READ,interactionType:Object(N.j)(e),mKeyGroup:T.f.mark_read,sec:T.g.MSG_LIST_CONTEXT_MENU},streamId:a,triageActionType:y.ne.READ_CHANGE_SELECTED_ITEMS})}handleMarkAsUnread(e){e.preventDefault();const t=this.props,a=t.streamId;(0,t.onUnread)({i13nModel:{mKey:T.e.TOOLBAR_MARK_UNREAD,interactionType:Object(N.j)(e),mKeyGroup:T.f.mark_unread,sec:T.g.MSG_LIST_CONTEXT_MENU},streamId:a,triageActionType:y.ne.READ_CHANGE_SELECTED_ITEMS})}handleMarkAsStarred(e){e.preventDefault();const t=this.props,a=t.streamId;(0,t.onStar)({i13nModel:{mKey:T.e.TOOLBAR_MARK_STARRED,interactionType:Object(N.j)(e),mKeyGroup:T.f.mark_star,sec:T.g.MSG_LIST_CONTEXT_MENU},streamId:a,triageActionType:y.ne.STAR_CHANGE_SELECTED_ITEMS})}handleMarkAsUnstarred(e){e.preventDefault();const t=this.props,a=t.streamId;(0,t.onUnstar)({i13nModel:{mKey:T.e.TOOLBAR_MARK_UNSTARRED,interactionType:Object(N.j)(e),mKeyGroup:T.f.mark_unstar,sec:T.g.MSG_LIST_CONTEXT_MENU},streamId:a,triageActionType:y.ne.STAR_CHANGE_SELECTED_ITEMS})}handlePrint(e){e.preventDefault();const t=this.props,a=t.streamId,n=t.listId;(0,t.onPrint)({i13nModel:{mKey:T.e.TOOLBAR_PRINT,interactionType:Object(N.j)(e)},streamId:a,listId:n})}handleArchive(e){e.preventDefault();const t=this.props,a=t.onArchive,n=t.moveToInbox,s=t.streamId,i=t.enabledActionsForFolderType,r=!i.archive&&i.restore,o={mKey:r?T.e.TOOLBAR_RESTORE:T.e.TOOLBAR_ARCHIVE,sec:T.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:r?T.f.restore:T.f.archive,interactionType:Object(N.j)(e)};r?n({streamId:s,triageActionType:y.ne.RESTORE_SELECTED_ITEMS,i13nModel:o}):a({streamId:s,triageActionType:y.ne.ARCHIVE_SELECTED_ITEMS,i13nModel:o})}handleDelete(e){e.preventDefault();const t=this.props,a=t.onDelete,n=t.streamId,s=t.enabledActionsForFolderType,i=t.isBulkAction,r=!s.delete&&s.permDelete,o={mKey:T.e.TOOLBAR_DELETE,sec:T.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:T.f.delete,interactionType:Object(N.j)(e)};r||i?this.renderConfirmDialog(r?R.a.PERM_DELETE:R.a.DELETE):a({streamId:n,triageActionType:y.ne.DELETE_SELECTED_ITEMS,i13nModel:o})}handleSpam(e){e.preventDefault();const t=this.props,a=t.onSpam,n=t.moveToInbox,s=t.streamId,i=t.enabledActionsForFolderType.spam,r={mKey:i?T.e.TOOLBAR_SPAM:T.e.TOOLBAR_NOT_SPAM,sec:T.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:i?T.f.mark_spam:T.f.restore,interactionType:Object(N.j)(e)};i?a({streamId:s,triageActionType:y.ne.SPAM_SELECTED_ITEMS,i13nModel:r}):n({streamId:s,triageActionType:y.ne.NOT_SPAM_SELECTED_ITEMS,i13nModel:r})}handleAddToContacts(e){e.preventDefault();const t=this.props;t.enableAddToContacts&&this.props.addToContacts({email:t.emailIds[0],isCompose:!1,name:y.dd.CONTACTS_PANE,id:t.idForSender,i13nModel:{mKey:T.e.TOOLBAR_ADD_TO_CONTACTS,sec:T.g.MSG_LIST_CONTEXT_MENU,interactionType:Object(N.j)(e)}})}handleKeydown(e,t){/^( |Enter)$/.test(t.key)&&(t.preventDefault(),e(t))}renderOption({isEnabled:e,name:t,handler:a,labelId:n,shortcutLabel:s}){const i=(0,this.context.intl.formatMessage)(v[n]);return e?l.a.createElement(A.a,{name:t,"data-test-id":t,title:i},l.a.createElement("a",{tabIndex:-1,onClick:a,onKeyDown:e=>this.handleKeydown(a,e),className:B.button},l.a.createElement("span",{className:B.label,title:i},i),s?l.a.createElement("span",null,s):null)):null}renderReply(e){return this.renderOption({isEnabled:this.props.enableSingleGroupActions,name:"reply-message",handler:this.handleReply,labelId:"reply",shortcutLabel:e})}renderReplyAll(e){return this.renderOption({isEnabled:this.props.enableSingleGroupActions,name:"reply-all-message",handler:this.handleReplyAll,labelId:"replyAll",shortcutLabel:e})}renderForward(e){return this.renderOption({isEnabled:this.props.enableSingleGroupActions,name:"forward-message",handler:this.handleForward,labelId:"forward",shortcutLabel:e})}renderMarkAsRead(e){return this.renderOption({isEnabled:this.props.enableMarkAsRead,name:"mark-as-read",handler:this.handleMarkAsRead,labelId:"markAsRead",shortcutLabel:e})}renderMarkAsUnread(e){return this.renderOption({isEnabled:this.props.enableMarkAsUnread,name:"mark-as-unread",handler:this.handleMarkAsUnread,labelId:"markAsUnread",shortcutLabel:e})}renderMarkAsStarred(e){return this.renderOption({isEnabled:this.props.enableStar,name:"mark-as-starred",handler:this.handleMarkAsStarred,labelId:"markAsStarred",shortcutLabel:e})}renderMarkAsUnstarred(e){return this.renderOption({isEnabled:this.props.enableUnstar,name:"mark-as-unstarred",handler:this.handleMarkAsUnstarred,labelId:"markAsUnstarred",shortcutLabel:e})}renderBlockSenders(){const e=this.props,t=e.enableBlockSenders,a=e.settingsApiCallStatus,n=(0,this.context.intl.formatMessage)(v.blockSenders);return t?l.a.createElement(A.a,{name:"block-senders","data-test-id":"block-senders",title:n},l.a.createElement("a",{tabIndex:-1,onClick:this.renderBlockSendersDialog,onKeyDown:e=>this.handleKeydown(this.renderBlockSendersDialog,e),className:m()(E.a,{disabled:a!==y.bd.LOADED}).button},l.a.createElement("span",{className:B.label,title:n},n))):null}renderBlockSendersDialog(){Object(M.a)(l.a.createElement(I.a,{messageGroupIds:this.props.selectedGroupIds,listId:this.props.listId}),this.context)}renderConfirmDialog(e){const t=this.props,a=t.folderType,n=t.listId,s=t.selectedGroupIds,i=t.streamId,r=t.conversations;Object(M.a)(l.a.createElement(P.a,{selectedGroupIds:s,streamId:i,listId:n,allItemsCount:0,doSelectAll:!1,folderType:a,conversations:r,contextMenuAction:e}),this.context)}renderArchive(e){const t=this.props,a=t.enabledActionsForFolderType,n=a.archive,s=a.restore,i=!n&&s;return this.renderOption({isEnabled:t.enableTriageActions&&(n||s),name:i?"restore-message":"archive-mesage",handler:this.handleArchive,labelId:i?"restore":"archive",shortcutLabel:e})}renderDelete(e){return this.renderOption({isEnabled:this.props.enableTriageActions,name:"delete-message",handler:this.handleDelete,labelId:"delete",shortcutLabel:e})}renderSpam(e){const t=this.props,a=t.enabledActionsForFolderType,n=a.spam;return this.renderOption({isEnabled:t.enableTriageActions&&(n||a.ham),name:n?"mark-as-spam-message":"mark-not-spam-mesage",handler:this.handleSpam,labelId:n?"spam":"ham",shortcutLabel:e})}renderUnsubscribe(){const e=this.props.messageIds;return 1===e.length&&l.a.createElement(A.a,{name:"unsubscribe-message","data-test-id":"unsubscribe-message"},l.a.createElement(F.default,{messageId:e[0],menuMode:!0}))}renderFilterMessagesLikeThis(){const e=this.props,t=e.enableFilterMessagesLikeThis,a=e.settingsApiCallStatus,n=(0,this.context.intl.formatMessage)(v.filterMessagesLikeThis);return t?l.a.createElement(A.a,{name:"filter-messages-like-this","data-test-id":"filter-messages-like-this",title:n},l.a.createElement("a",{tabIndex:-1,onClick:this.renderFilterMessagesLikeThisDialog,onKeyDown:e=>this.handleKeydown(this.renderFilterMessagesLikeThisDialog,e),className:m()(E.a,{disabled:a!==y.bd.LOADED}).button},l.a.createElement("span",{className:B.label,title:n},n))):null}renderFilterMessagesLikeThisDialog(){const e=this.props.messageIds;0!==e.length&&Object(M.a)(l.a.createElement(x.a,{messageId:e[0]}),this.context)}renderAddToContacts(){const e=this.props,t=e.showAddToContacts,a=e.enableAddToContacts,n=(0,this.context.intl.formatMessage)(v.addToContacts);return t?l.a.createElement(o.Fragment,null,l.a.createElement(A.a,{className:B.separator}),l.a.createElement(A.a,{name:"add-to-contacts","data-test-id":"add-to-contacts",title:n},l.a.createElement("a",{tabIndex:-1,onClick:this.handleAddToContacts,onKeyDown:e=>this.handleKeydown(this.handleAddToContacts,e),className:m()(E.a,{disabled:!a}).button},l.a.createElement("span",{className:B.label,title:n},n)))):null}renderPrint(e){const t=this.props;return this.renderOption({isEnabled:t.enableSingleGroupActions,name:"print-message",handler:this.handlePrint,labelId:t.isSingleMessage?"printMessage":"printNewestMessage",shortcutLabel:e})}renderViewRawMessage(){const e=this.props;return this.renderOption({isEnabled:e.enableSingleGroupActions,name:"raw-message",handler:this.handleViewRawMessage,labelId:e.isSingleMessage?"viewRawMessage":"viewNewestRawMessage",shortcutLabel:void 0})}renderListSeparator(){return this.props.enableSingleGroupActions?l.a.createElement(A.a,{className:B.separator}):null}render(){const e=this.props,t=e.onEscape;return e.contextualMenu?l.a.createElement(S,s()({},this.componentRenderers,{onEscape:t})):l.a.createElement(C,this.componentRenderers)}}H.defaultProps={contextualMenu:!1},H.contextTypes={intl:_.intlShape.isRequired,getCss:r.a.func,getTheme:r.a.func,getThemeMode:r.a.func,executeAction:r.a.func,getStore:r.a.func,store:r.a.object,navigateTo:r.a.func};const j=(e,t)=>{const a=Object(u.b)(e),n=a.getFeaturesSelectors,s=a.getMessageFlags,i=a.getMessageIdsFromMessageGroupId,r=a.getSenderEmailIdsFromMessageGroup,o=a.getSettingsSelectors,l=a.isDraftMessage,c=a.doesStreamExist,d=a.getSelectedStreamItems,m=a.getCursorItem,_=a.doesFolderIdExist,p=a.getPrimaryFolderTypeByFolderId,h=a.getParticipant,g=a.getSelectedAccountId,E=a.getPrimaryAccountId,b=a.getContactListSelectors,C=a.doesContactIdExist,f=t.listId,S=t.contextualMenu,T=t.streamId,N=c(T)?d(T):[],A=c(T)?m(T):void 0,I=N.length>0?N:[];A&&0===N.length&&I.push(A);const M=I.map(({id:e})=>e),v=n(),k=r(M),R=v.getSetting(y.zd.DELIVERY_BLOCKED_SENDERS),P=v.isEnabled(y.zd.CONVERSATIONS),x=v.getSetting(y.zd.BULK_ACTION_DIALOG_THRESHOLD),F=M.length>=x,L=1===M.length,B=L?i(M[0]):[],U=1===B.length,H=o().getFiltersAndBlockedSendersApiCallStatus,j=L&&!l(B[0]),G=v.isEnabled(y.ub.BLOCK_SENDERS)&&k.length>0&&R.length<y.Ad.blockedSenders;let W=!1,Z=!1,V=!1,q=!1;const z=b(),Y=z.isUserAddedContact,K=(0,z.getContactIdByEmail)(k[0]);if(v.isEnabled(y.ub.FILTER_MESSAGES_LIKE_THIS)&&j){const e=h(B[0]),t=v.getSetting(y.zd.MESSAGE_FILTERS),a=v.isEnabled(y.ub.ADD_EDIT_FROM_LIST_CARD);if(W=E()===g()&&e&&e.email&&t.length<y.Ad.filters,a){let e=!1,t=!1;void 0===k[0]?e=!0:t=Y(K),q=(V=(Z=U&&!e)&&!t)&&!C(k[0])}}let X,Q=y.bd.LOADING;(G||W)&&(Q=H());let J={};if(S){const e=Object(w.o)(f);e&&_(e)&&(X=p(e)),J=Object(O.a)({kind:D.c.LIST,primaryFolderType:X,listContentType:y.Pb.MESSAGES})}return{isSingleMessage:U,settingsApiCallStatus:Q,selectedGroupIds:M,enableMarkAsRead:!L||B.some(e=>!s(e).read),enableMarkAsUnread:!L||B.some(e=>s(e).read),enableStar:!L||B.some(e=>!s(e).flagged),enableUnstar:!L||B.some(e=>s(e).flagged),enableBlockSenders:G,enableFilterMessagesLikeThis:W,enableSingleGroupActions:j,enableTriageActions:M.length>0,folderType:X,enabledActionsForFolderType:J,isBulkAction:F,conversations:P,messageIds:B,showAddToContacts:Z,enableAddToContacts:V,shouldFetchContactDetails:q,emailIds:k,idForSender:V?K:null}},G=e=>({fetchFiltersAndBlockedSenders:t=>e(Object(k.l)(t)),addToContacts:t=>e(Object(L.a)(t)),getContactDetails:t=>e(Object(L.e)(t))}),W=H;t.default=Object(c.connect)(j,G)(H)},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(29),_=a(6),u=a(15),p=a(11),h=a(344),g=a(69),E=a(0),b=a(1570),C=a.n(b),f=a(13),S=a.n(f);const y=S()(C.a),T=Object(_.defineMessages)({featured:{id:"featured",defaultMessage:"Featured"},everyday:{id:"everyday",defaultMessage:"Everyday"},birthday:{id:"birthday",defaultMessage:"Birthday"},seasonal:{id:"seasonal",defaultMessage:"Seasonal"}});class N extends d.a.Component{constructor(...e){super(...e),r()(this,"handleClick",e=>{e!==this.props.selectedCategory&&this.props.onCategoryChange(e)}),r()(this,"renderCategories",()=>{const e=this.context.intl.formatMessage,t=this.props.selectedCategory;return Object.keys(E.Pd).map(a=>{const n=a===t,s=S()(C.a,{selected:n}),i=e(T[a]);return d.a.createElement("li",{key:a,className:s.category,onClick:this.handleClick.bind(this,a),title:i},d.a.createElement("span",null,i))})})}render(){return d.a.createElement("div",{className:y.categoryContainer},d.a.createElement("ul",{className:y.categoryList},this.renderCategories()))}}r()(N,"contextTypes",{intl:_.intlShape.isRequired});var A=N,I=a(1571),M=a.n(I);const v=S()(M.a),D=Object(_.defineMessages)({default_text:{id:"compose.default_text",defaultMessage:"Default"},clear_text:{id:"compose.clear_text",defaultMessage:"Clear"},none_text:{id:"compose.none_text",defaultMessage:"None"}});var O=class extends d.a.Component{constructor(...e){super(...e),r()(this,"renderThumbnailImage",()=>{const e=this.props.defaultThemeObject;return e.uniqueId?d.a.createElement("img",{"data-test-id":"default-theme-thumbnail",className:v.themeThumbnailImage,src:e.url}):d.a.createElement("div",{className:v.themeThumbnailImage})}),r()(this,"_onDefaultThemeChange",e=>{e.stopPropagation(),this.props.onDefaultThemeChange()})}render(){const e=this.props.defaultThemeObject;return d.a.createElement("div",{className:v.defaultThemeContainer},d.a.createElement("div",{className:v.defaultText},d.a.createElement(_.FormattedMessage,D.default_text)),this.renderThumbnailImage(),e.uniqueId?d.a.createElement("div",{"data-test-id":"clear-default-button",className:v.clearText,onClick:this._onDefaultThemeChange},d.a.createElement(_.FormattedMessage,D.clear_text)):d.a.createElement("div",{className:v.noneText},d.a.createElement(_.FormattedMessage,D.none_text)))}},k=a(1572),R=a.n(k),w=a(1346),P=(a(9),a(30));const x=Object(_.defineMessages)({clear_default:{id:"compose.clear_default",defaultMessage:"Clear Default"},set_as_default:{id:"compose.set_as_default",defaultMessage:"Set as Default"}});class F extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{isHovered:!1}),r()(this,"handleHover",e=>{this.setState({isHovered:e})}),r()(this,"handleItemClick",e=>{this.props.onItemChange(e)})}render(){const e=this.props,t=e.item,a=e.isSelected,n=e.isDefault,s=e.toolbarKind,i=this.context.intl.locale,r="en"!==Object(w.a)(i),o=this.state.isHovered,l=S()(R.a,{selected:a,hideStationeryTitle:r,toolbarKind:s}),c=a&&o&&n,m=this.props.showSetDefault&a&&o&&!n;return d.a.createElement("div",{"data-test-id":"stationery-carousel-item",onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.handleItemClick.bind(this,t.uniqueId),className:l.item},d.a.createElement("div",{className:l.thumbnailContainer},c?d.a.createElement("div",{"data-test-id":"clear-default-button",className:l.selectionOverlay,onClick:e=>{e.stopPropagation(),this.props.onDefaultItemClear()}},d.a.createElement(_.FormattedMessage,x.clear_default)):null,m?d.a.createElement("div",{"data-test-id":"set-default-button",className:l.selectionOverlay,onClick:e=>{e.stopPropagation(),this.props.onDefaultItemChange(t.uniqueId)}},d.a.createElement(_.FormattedMessage,x.set_as_default)):null,d.a.createElement("img",{className:l.itemThumbnailImage,src:t.url})),r?null:d.a.createElement("span",{className:l.itemName,title:t.themeDisplayName},t.themeDisplayName),d.a.createElement("span",{className:l.itemProviderName,title:t.themeProviderName},t.themeProviderName))}}r()(F,"defaultProps",{showSetDefault:!0}),r()(F,"contextTypes",{intl:_.intlShape.isRequired});var L=F,B=a(1573),U=a.n(B),H=a(564),j=a.n(H),G=a(20),W=a(7),Z=a(5),V=a(185),q=a.n(V);a.d(t,"Stationery",function(){return X}),a.d(t,"mapStateToProps",function(){return Q}),a.d(t,"mapDispatchToProps",function(){return J});const z={default:120,vacationResponse:92},Y=Object(_.defineMessages)({close:{id:"stationery_popup.btn_close",defaultMessage:"Close"}}),K=100;class X extends d.a.Component{constructor(e,t){super(e,t),r()(this,"getInitialSelectedCategory",e=>{const t=this.props,a=(0,t.getThemeConfig)(e,t.defaultTheme);if(a){const e=a.categories;return(void 0===e?"":e).split(",")[0]}return Object.keys(E.Pd)[0]}),r()(this,"handleCategoryChange",e=>{this.setState({selectedCategory:e},()=>{this._carousel.setAnimation(!1),this._carousel.setOffset(0)})}),r()(this,"updateTheme",e=>{e!==this.state.selectedTheme&&(this.setState({selectedTheme:e}),this._carousel.setAnimation(!0));const t=this.props.getThemeConfig(e,this.props.defaultTheme);this.props.onThemeChange(e?t:null,this._getI13nModel(t))}),r()(this,"_getI13nModel",e=>e?{mKey:W.e.COMPOSE_ADD_STATIONERY,sec:W.g.RTE_TOOLBAR,actionData:{uniqueThemeName:e.uniqueThemeName}}:{mKey:W.e.COMPOSE_CLEAR_STATIONERY,sec:W.g.RTE_TOOLBAR}),r()(this,"handleClearStationery",()=>{this.updateTheme(null)}),r()(this,"handleClearDefaultStationery",()=>{this.props.defaultTheme===this.state.selectedTheme&&this.props.onThemeChange(this.props.getThemeConfig(this.state.selectedTheme,"")),this.props.handleDefaultThemeChange({nextTheme:"",i13nModel:this._getI13nModel()})}),r()(this,"setDefaultStationery",e=>{const t=this.props.getThemeConfig(this.state.selectedTheme,e);this.props.onThemeChange(t),this.props.handleDefaultThemeChange({nextTheme:t.uniqueThemeName,i13nModel:this._getI13nModel(t)})}),r()(this,"getItems",()=>{const e=this.props;return j.a.getByCategories([this.state.selectedCategory,...e.categoriesToShow],{locale:this.context.intl.locale,showRestrictedThemes:e.stationeryRestrictedThemes,enableThemeDateRange:e.isStationeryThemeDatesEnabled}).map(this._themeObjectMapper)}),r()(this,"getDefaultThemeObject",()=>{for(const e in j.a.config.stationeryThemes){const t=j.a.config.stationeryThemes[e];if(t.uniqueThemeName===this.props.defaultTheme)return this._themeObjectMapper(s()({},t,{themeVersion:j.a.config.themeVersions[e]}))}return{}}),r()(this,"_themeObjectMapper",e=>{const t=e.uniqueThemeName;return{uniqueId:t,url:`${j.a.config.stationeryMobThmPath}${e.themeVersion}/${t}/${e.thmbnailImg}`,themeDisplayName:e.themeDisplayName,themeProviderName:e.themeProviderName}}),r()(this,"getCurrentIndex",e=>{const t=this.state.selectedTheme;return t?e.findIndex(e=>e.uniqueId===t):-1}),r()(this,"navigate",e=>{const t=this.getItems(),a=this.getCurrentIndex(t)+e;a>=0&&a<t.length&&this.updateTheme(t[a].uniqueId)}),r()(this,"handleKeyDown",(e={})=>{switch(e.key){case"ArrowLeft":this.navigate(-1);break;case"ArrowRight":this.navigate(1);break;case"Escape":case"Enter":this.props.onHide();break;default:return}e.stopPropagation(),e.preventDefault()}),r()(this,"_navigateIfElementNotInTheView",(e,t)=>{const a=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=n.left+n.width,i=a.left+a.width;a.left<n.left?this._carousel.navHandle(h.a.PREV,n.width-a.width):s<i&&this._carousel.navHandle(h.a.NEXT,a.left-n.left-a.width)}),r()(this,"_handleSelectedNode",(e,t)=>{e&&this.state.selectedTheme===t.uniqueId&&this.selectedItem!==e&&this._carousel&&this._carousel.carousel&&(this.selectedItem=e,this._navigateIfElementNotInTheView(Object(m.findDOMNode)(this.selectedItem),Object(m.findDOMNode)(this._carousel.carousel)))}),r()(this,"renderItem",e=>{return d.a.createElement(L,{item:e,isDefault:this.props.defaultTheme===e.uniqueId,isSelected:this.state.selectedTheme===e.uniqueId,onDefaultItemClear:this.handleClearDefaultStationery,onDefaultItemChange:this.setDefaultStationery,onItemChange:this.updateTheme,toolbarKind:this.props.toolbarKind,showSetDefault:this.props.showStationerySetDefault,ref:t=>this._handleSelectedNode(t,e)})}),r()(this,"renderItems",()=>this.getItems().map(e=>d.a.createElement("div",{key:e.uniqueId},this.renderItem(e)))),r()(this,"handleXButtonHover",e=>{this.setState({xButtonHovered:"mouseenter"===e.type})}),r()(this,"_setCarouselReference",e=>{e&&e!==this._carousel&&(this._carousel=e)}),r()(this,"_carouselDidMount",()=>{this.forceUpdate()}),r()(this,"stopPropagation",e=>{e.stopPropagation()});const a=e.selectedTheme||e.defaultTheme,n=e.selectedCategory||this.getInitialSelectedCategory(a);this.handleKeyDown=q()(this.handleKeyDown,K),this.state={selectedTheme:a,selectedCategory:n,xButtonHovered:!1}}static getDerivedStateFromProps(e,t){return e.selectedTheme!==t.selectedTheme?{selectedTheme:e.selectedTheme}:null}render(){const e=this.state,t=e.selectedCategory,a=e.selectedTheme,n=this.props,i=n.rtl,r=n.width,o=n.left,l=n.right,c=n.bottom,m=n.showDefaultTheme,u=n.showThemeCategories,p=n.toolbarKind,g=n.isRTL,E=!(!a||a===P.NO_STATIONERY),b=this.context.intl.formatMessage,C=S()(U.a,{toolbarKind:p});return d.a.createElement("section",{ref:e=>(this._stationeryContainer=e)&&this._stationeryContainer.focus(),"data-test-id":"stationery-menu",onClick:this.stopPropagation,className:C.wrapperContainer,tabIndex:0,onKeyDown:this.handleKeyDown,style:s()({width:Math.max(r,P.STATIONERY_MIN_WIDTH)+"px"},!g&&{left:o+"px"},g&&{right:l-r+"px"},{bottom:c+"px"})},m?d.a.createElement(O,{defaultThemeObject:this.getDefaultThemeObject(),onDefaultThemeChange:this.handleClearDefaultStationery}):null,u?d.a.createElement(A,{selectedCategory:t,onCategoryChange:this.handleCategoryChange}):null,d.a.createElement("div",{className:C.stationeryContainer},d.a.createElement("div",{className:C.clearStationeryButtonContainer},E?d.a.createElement("span",{"data-test-id":"clear-stationery",className:C.clearStationeryButton,onClick:this.handleClearStationery},d.a.createElement(_.FormattedMessage,{id:"compose.clear_stationery",defaultMessage:"Clear Stationery"})):null,d.a.createElement("span",{className:C.closeWrapper,onMouseEnter:this.handleXButtonHover,onMouseLeave:this.handleXButtonHover},d.a.createElement(G.a,{"data-iskeynav":!0,"data-test-id":"stationery-close-button",kind:Z.b.CLOSE,size:Z.d.XXS,onClick:this.props.onHide,title:b(Y.close),colorState:this.state.xButtonHovered?Z.a.NORMAL:Z.a.DISABLED}))),d.a.createElement("div",{className:C.carouselContainer},d.a.createElement(h.b,{itemWidth:p===P.ToolbarTypes.VACATION_RESPONSE_SETTINGS?z.vacationResponse:z.default,toolbarKind:p,rtl:i,initialAnimation:!1,ref:this._setCarouselReference,didMount:this._carouselDidMount,isRTL:g},this.renderItems()))))}}r()(X,"contextTypes",{executeAction:l.a.func,config:l.a.object.isRequired,intl:_.intlShape.isRequired}),r()(X,"defaultProps",{left:0,width:0,bottom:0,showDefaultTheme:!0,showThemeCategories:!0,categoriesToShow:[]});const Q=e=>{const t=Object(p.b)(e),a=t.getFeaturesSelectors;return{isRTL:"rtl"===(0,t.getEnvironmentSelectors)().getPageDirection(),isStationeryThemeDatesEnabled:a().isEnabled(E.ub.STATIONERY_THEME_DATES)}},J=e=>({handleDefaultThemeChange:({nextTheme:t,i13nModel:a})=>e(Object(g.b)({name:E.zd.STATIONERY_DEFAULT_THEME,value:t,i13nModel:a}))});t.default=Object(u.connect)(Q,J)(X)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(1),r=a.n(i),o=a(8),l=a.n(o),c=a(1548),d=a.n(c),m=a(12),_=a(11),u=a(15),p=a(6),h=a(65),g=a(4),E=a.n(g),b=a(2);var C=a(7),f=a(0),S=a(339),y=a(608),T=a(22),N=a(122);a.d(t,"EbayWarrantyUpsell",function(){return I}),a.d(t,"mapStateToProps",function(){return M}),a.d(t,"mapDispatchToProps",function(){return v});const A=Object(p.defineMessages)({header:{id:"ebayWarrantyUpsell.header",defaultMessage:"Worry-free shopping"},subHeader:{id:"ebayWarrantyUpsell.subHeader",defaultMessage:"Protect your recent purchases with an eBay warranty"},buttonText:{id:"ebayWarrantyUpsell.buttonText",defaultMessage:"Protect your purchases"}});class I extends i.Component{constructor(...e){super(...e),s()(this,"handleWarrantyClick",()=>{const e=this.props.receipt.orderedItems,t=void 0===e?[]:e;this.props.onWarrantyClick({i13nModel:{mKey:C.e.EBAY_WARRANTY_UPSELL_CLICKED,sec:C.g.EBAY_WARRANTY_UPSELL,actionData:{position:this.props.position,type:Object(y.a)(t)}}}),Object(N.a)(this.constructClickUrl())}),s()(this,"constructClickUrl",()=>{const e=this.props,t=e.position,a=e.receipt.orderedItems,n=void 0===a?[]:a,s=Object(y.a)(n);let i=S.d,r=S.a;if(1===n.length){i=S.e+n[0].productID}return(r+=`&campid=${S.b[t][s]||S.b[f.nb.TOP][S.g.ELECTRONICS]}`)+`&mpre=${i}`})}render(){const e=this.props.position,t=this.context.intl.formatMessage,a=this.context.getThemeMode(),n=e===f.nb.RIGHT,s=(a===T.h.MEDIUM||a===T.h.DARK)&&!n,i={backgroundColor:m.WHITE,margin:0,borderBottom:`4px solid ${m.DEFAULT_BACKGROUND_COLOR}`},o={backgroundColor:m.WHITE,borderBottom:`1px solid ${m.FOURTH_LEVEL_GRAY}`,borderRight:`1px solid ${m.FOURTH_LEVEL_GRAY}`,borderLeft:`1px solid ${m.FOURTH_LEVEL_GRAY}`,color:m.BLACK},l=this.context.getCss(d.a,{rightRail:n});return r.a.createElement("div",{className:l.background,"data-test-id":"ebay-warranty-upsell",style:s?i:{}},r.a.createElement("div",{className:l.container,style:s?o:{}},r.a.createElement("div",{className:l.content},r.a.createElement("div",{className:l.imageContainer},r.a.createElement(h.d,{contact:{email:S.c},size:h.c.MEDIUM_PLUS})),r.a.createElement("div",{className:l.headersContainer},r.a.createElement("span",{className:l.header},t(A.header)),r.a.createElement("span",{className:l.subHeader},t(A.subHeader)))),r.a.createElement("button",{className:l.button,onClick:this.handleWarrantyClick},t(A.buttonText))))}}s()(I,"contextTypes",{intl:p.intlShape.isRequired,getCss:l.a.func,getThemeMode:l.a.func});const M=e=>{return{receipt:(0,Object(_.b)(e).getReceiptFromMessageId)()}},v=e=>({onWarrantyClick:t=>e((e=>E()({type:b.Ce},e))(t))});t.default=Object(u.connect)(M,v)(I)},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(34),u=a(6),p=a(571),h=a.n(p),g=a(13),E=a.n(g),b=a(99),C=a(59),f=a(81),S=a(111),y=a(7),T=a(0),N=a(18),A=a(11),I=a(130),M=a(487),v=Object(u.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},blockSenders:{id:"block_messages_from_senders",defaultMessage:"Block senders"},viewRawMessage:{id:"view_raw_message_title",defaultMessage:"View raw message"},markedAsRead:{id:"marked_as_read",defaultMessage:"Message is already marked as read"},markedAsUnread:{id:"marked_as_unread",defaultMessage:"Message is already marked as unread"},markedAsStarred:{id:"marked_as_starred",defaultMessage:"Message is already marked as starred"},markedAsUnstarred:{id:"marked_as_unstarred",defaultMessage:"Message is already marked as not starred"},printMessage:{id:"print_message_title",defaultMessage:"Print message"},filterMessagesLikeThis:{id:"filter_messages_like_this",defaultMessage:"Filter messages like this..."},addToContacts:{id:"more_menu.add_to_contact",defaultMessage:"Add Sender to Contacts"}}),D=a(95),O=a(489),k=a(60),R=a(10),w=a(1348),P=a(1299),x=a(1349),F=a(91),L=a(1154),B=a(80);a.d(t,"MoreMenuItems",function(){return G}),a.d(t,"mapStateToProps",function(){return W}),a.d(t,"mapDispatchToProps",function(){return Z});const U=E()(h.a),H={[f.j]:S.e,[f.n]:S.h,[f.g]:S.c,[f.m]:S.g},j=()=>{};class G extends d.a.Component{constructor(...e){super(...e),r()(this,"_executeAction",({action:e,stream:t={},permanent:a,i13nModel:n})=>{const i=H[e],r=this.props,o=r.selectedGroupIds,l=r.listId,c=r.allItemsCount,d=r.conversations,m=r.contextMenuMode;i&&r.doSelectAll&&(e=i),this.context.executeAction(e,s()({listId:l},t,{allItemsCount:c,conversations:d,messageGroupIds:o},a&&{permanent:a},{i13nModel:Object.assign({sec:m?y.g.MSG_LIST_CONTEXT_MENU:y.g.MSG_LIST_BULK_ACTION},n)}))}),r()(this,"shouldHandleEvent",e=>(e.preventDefault(),e.key&&e.stopPropagation(),!e.key||e.key&&/^( |Enter)$/.test(e.key))),r()(this,"handleGroupRead",e=>{const t=this.props,a=t.streamId,n=t.streamItem;this.shouldHandleEvent(e)&&this._executeAction({action:f.j,stream:{streamId:a,streamItem:n},i13nModel:{mKey:y.e.TOOLBAR_MARK_READ,interactionType:Object(N.j)(e),mKeyGroup:y.f.mark_read}})}),r()(this,"handleGroupUnread",e=>{const t=this.props,a=t.streamId,n=t.streamItem;this.shouldHandleEvent(e)&&this._executeAction({action:f.n,stream:{streamId:a,streamItem:n},i13nModel:{mKey:y.e.TOOLBAR_MARK_UNREAD,interactionType:Object(N.j)(e),mKeyGroup:y.f.mark_unread}})}),r()(this,"handleGroupStarred",e=>{const t=this.props,a=t.streamId,n=t.streamItem;this.shouldHandleEvent(e)&&this._executeAction({action:f.g,stream:{streamId:a,streamItem:n},i13nModel:{mKey:y.e.TOOLBAR_MARK_STARRED,interactionType:Object(N.j)(e),mKeyGroup:y.f.mark_star}})}),r()(this,"handleGroupUnstarred",e=>{const t=this.props,a=t.streamId,n=t.streamItem;this.shouldHandleEvent(e)&&this._executeAction({action:f.m,stream:{streamId:a,streamItem:n},i13nModel:{mKey:y.e.TOOLBAR_MARK_UNSTARRED,interactionType:Object(N.j)(e),mKeyGroup:y.f.mark_unstar}})}),r()(this,"handleGroupBlockSenders",e=>{this.shouldHandleEvent(e)&&Object(I.a)(d.a.createElement(M.a,{messageGroupIds:this.props.selectedGroupIds,listId:this.props.listId}),this.context)}),r()(this,"handleAddToContacts",e=>{this.shouldHandleEvent(e)&&this.props.addToContacts({email:this.props.emailIds[0],isCompose:!1,name:T.dd.CONTACTS_PANE,id:this.props.idForSender,i13nModel:{mKey:y.e.TOOLBAR_ADD_TO_CONTACTS,sec:this.props.contextMenuMode?y.g.MSG_LIST_CONTEXT_MENU:y.g.MSG_LIST_BULK_ACTION,interactionType:Object(N.j)(e)}})}),r()(this,"handlePrint",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props;this.props.onPrint({listId:t.listId,streamId:t.streamId,groupId:t.activeGroupId,i13nModel:{mKey:y.e.TOOLBAR_PRINT,interactionType:Object(N.j)(e)}})}),r()(this,"handleRawMessage",e=>{this.shouldHandleEvent(e)&&this._executeAction({action:f.v,i13nModel:{mKey:y.e.TOOLBAR_VIEW_RAW,interactionType:Object(N.j)(e)}})}),r()(this,"handleFilterMessagesLikeThis",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props.messageIds;Object(I.a)(d.a.createElement(x.a,{messageId:t[0]}),this.context)}),r()(this,"renderConfirmDialog",e=>{const t=this.props,a=t.allItemsCount,n=t.doSelectAll,s=t.folderType,i=t.listId,r=t.selectedGroupIds,o=t.streamId,l=t.streamItem,c=t.conversations;Object(I.a)(d.a.createElement(w.a,{selectedGroupIds:r,streamId:o,listId:i,streamItem:l,allItemsCount:a,doSelectAll:n,folderType:s,conversations:c,contextMenuAction:e}),this.context)}),r()(this,"handleDelete",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props,a=t.streamId,n=t.streamItem,s=t.enabledActionsForFolderType,i=!s.delete&&s.permDelete;i||t.isBulkAction?this.renderConfirmDialog(i?P.a.PERM_DELETE:P.a.DELETE):this._executeAction({action:f.c,stream:{streamId:a,streamItem:n},permanent:i,i13nModel:{mKey:y.e.TOOLBAR_DELETE,mKeyGroup:y.f.delete,interactionType:Object(N.j)(e)}})}),r()(this,"handleArchive",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props,a=t.doSelectAll,n=t.streamId,s=t.streamItem,i=t.enabledActionsForFolderType,r=!i.archive&&i.restore,o={mKey:r?y.e.TOOLBAR_RESTORE:y.e.TOOLBAR_ARCHIVE,mKeyGroup:y.f.archive,interactionType:Object(N.j)(e)};a?this.renderConfirmDialog(r?P.a.RESTORE:P.a.ARCHIVE):this._executeAction({action:r?f.t:f.a,stream:{streamId:n,streamItem:s},i13nModel:o})}),r()(this,"handleSpam",e=>{if(!this.shouldHandleEvent(e))return;const t=this.props,a=t.doSelectAll,n=t.streamId,s=t.streamItem,i=t.enabledActionsForFolderType,r=!!i.spam||!i.ham,o={mKey:r?y.e.TOOLBAR_SPAM:y.e.TOOLBAR_NOT_SPAM,mKeyGroup:r?y.f.mark_spam:null,interactionType:Object(N.j)(e)};a?this.renderConfirmDialog(r?P.a.MARK_AS_SPAM:P.a.MARK_AS_NOT_SPAM):this._executeAction({action:r?f.k:f.h,stream:{streamId:n,streamItem:s},i13nModel:o})}),r()(this,"handleReply",e=>{const t=this.props.selectedGroupIds;this.shouldHandleEvent(e)&&this.context.executeAction(f.s,{triggeredFromContextMenu:!0,messageGroupId:t[0],i13nModel:Object.assign({mKey:y.e.TOOLBAR_REPLY,sec:y.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:y.f.reply,interactionType:Object(N.j)(e)})})}),r()(this,"handleReplyAll",e=>{const t=this.props.selectedGroupIds;this.shouldHandleEvent(e)&&this.context.executeAction(f.r,{triggeredFromContextMenu:!0,messageGroupId:t[0],i13nModel:Object.assign({mKey:y.e.TOOLBAR_REPLYALL,sec:y.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:y.f.replyAll,interactionType:Object(N.j)(e)})})}),r()(this,"handleForward",e=>{const t=this.props.selectedGroupIds;this.shouldHandleEvent(e)&&this.context.executeAction(f.f,{triggeredFromContextMenu:!0,messageGroupId:t[0],i13nModel:Object.assign({mKey:y.e.TOOLBAR_FORWARD,sec:y.g.MSG_LIST_CONTEXT_MENU,mKeyGroup:y.f.forward,interactionType:Object(N.j)(e)})})}),r()(this,"renderReplyActions",()=>{const e=this.props;return e.contextMenuMode&&e.enableSingleMessageGroupActions?d.a.createElement(c.Fragment,null,d.a.createElement(_.a,{name:"reply-message","data-test-id":"more-menu-reply"},d.a.createElement("a",{tabIndex:-1,onClick:this.handleReply,onKeyDown:this.handleReply,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"message.toolbar.reply",defaultMessage:"Reply"})))),d.a.createElement(_.a,{name:"reply-all-message","data-test-id":"more-menu-reply-all"},d.a.createElement("a",{tabIndex:-1,onClick:this.handleReplyAll,onKeyDown:this.handleReplyAll,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"message.toolbar.replyAll",defaultMessage:"Reply All"})))),d.a.createElement(_.a,{name:"forward-message","data-test-id":"more-menu-forward"},d.a.createElement("a",{tabIndex:-1,onClick:this.handleForward,onKeyDown:this.handleForward,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"message.toolbar.forward",defaultMessage:"Forward"})))),d.a.createElement(_.a,{className:U.separator})):null}),r()(this,"renderArchive",()=>{const e=this.props.enabledActionsForFolderType,t=e.archive;return!t&&e.restore?d.a.createElement(_.a,{name:"restore-message","data-test-id":"more-menu-restore"},d.a.createElement("a",{tabIndex:-1,onClick:this.handleArchive,onKeyDown:this.handleArchive,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"})))):t?d.a.createElement(_.a,{name:"archive-message","data-test-id":"more-menu-archive"},d.a.createElement("a",{tabIndex:-1,onClick:this.handleArchive,onKeyDown:this.handleArchive,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"archive_icon_label",defaultMessage:"Archive"})))):null}),r()(this,"renderSpam",()=>{const e=this.props.enabledActionsForFolderType,t=e.ham;return e.spam?d.a.createElement(_.a,{name:"mark-as-spam-message","data-test-id":"more-menu-mark-as-spam"},d.a.createElement("a",{tabIndex:-1,onClick:this.handleSpam,onKeyDown:this.handleSpam,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"})))):t?d.a.createElement(_.a,{name:"mark-not-spam-message","data-test-id":"more-menu-mark-not-spam"},d.a.createElement("a",{tabIndex:-1,onClick:this.handleSpam,onKeyDown:this.handleSpam,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"})))):null})}componentDidMount(){this.props.enableFilterMessagesLikeThis&&this.props.filtersAndBlockedSendersApiStatus!==T.bd.LOADED?this.props.fetchFiltersAndBlockedSenders():this.props.enableBlockSenders&&this.props.blockedSendersApiStatus!==T.bd.LOADED&&this.props.fetchBlockedSenders(),this.props.shouldFetchContactDetails&&this.props.getContactDetails({email:this.props.emailIds[0],isCompose:!1})}render(){const e=this.props,t=e.enableMarkAsRead,a=e.enableMarkAsUnread,n=e.enableStar,s=e.enableUnstar,i=e.enableBlockSenders,r=e.enableSingleMessageGroupActions,o=e.enableFilterMessagesLikeThis,l=e.messageIds,m=e.contextMenuMode,p=e.showAddToContacts,g=e.enableAddToContacts,f=e.blockedSendersApiStatus!==T.bd.LOADED,S=e.filtersAndBlockedSendersApiStatus!==T.bd.LOADED,y=this.context.intl.formatMessage,N=!m;return d.a.createElement("div",{"data-test-id":"more-menu-list-container",className:U.popoverContent},d.a.createElement(C.a,{kind:b.a.MENU,focusOnMount:!0,"data-test-id":"more-menu",key:"more-menu",circularNavigation:!1,onEscape:e.onEscape},this.renderReplyActions(),t&&d.a.createElement(_.a,{name:"mark-as-read","data-test-id":"mark-as-read",title:y(v.markAsRead)},d.a.createElement("a",{tabIndex:-1,onClick:this.handleGroupRead,onKeyDown:this.handleGroupRead,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"mark_msgs_as_read",defaultMessage:"Mark as read"})),N&&d.a.createElement("span",{"data-test-id":"mark-as-read-shortcut"},"Shift+K"))),a&&d.a.createElement(_.a,{name:"mark-as-unread","data-test-id":"mark-as-unread",title:y(v.markAsUnread)},d.a.createElement("a",{tabIndex:-1,onClick:this.handleGroupUnread,onKeyDown:this.handleGroupUnread,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"mark_msgs_as_unread",defaultMessage:"Mark as unread"})),N&&d.a.createElement("span",{"data-test-id":"mark-as-unread-shortcut"},"K"))),n&&d.a.createElement(_.a,{name:"mark-as-starred","data-test-id":"mark-as-starred",title:y(v.markAsStarred)},d.a.createElement("a",{tabIndex:-1,onClick:this.handleGroupStarred,onKeyDown:this.handleGroupStarred,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"mark_msgs_as_starred",defaultMessage:"Star"})),N&&d.a.createElement("span",{"data-test-id":"mark-as-starred-shortcut"},"L"))),s&&d.a.createElement(_.a,{name:"mark-as-unstarred","data-test-id":"mark-as-unstarred",title:y(v.markAsUnstarred)},d.a.createElement("a",{tabIndex:-1,onClick:this.handleGroupUnstarred,onKeyDown:this.handleGroupUnstarred,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"mark_msgs_as_unstarred",defaultMessage:"Clear star"})),N&&d.a.createElement("span",{"data-test-id":"mark-as-unstarred-shortcut"},"Shift+L"))),i&&d.a.createElement(_.a,{name:"block-senders","data-test-id":"block-senders",title:y(v.blockSenders)},d.a.createElement("a",{tabIndex:-1,onClick:f?j:this.handleGroupBlockSenders,onKeyDown:f?j:this.handleGroupBlockSenders,className:E()(h.a,{disabled:f}).button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"block_senders",defaultMessage:"Block senders"})))),m&&d.a.createElement(c.Fragment,null,d.a.createElement(_.a,{className:U.separator}),this.renderArchive(),d.a.createElement(_.a,{name:"delete-message","data-test-id":"more-menu-delete"},d.a.createElement("a",{tabIndex:-1,onClick:this.handleDelete,onKeyDown:this.handleDelete,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,{id:"delete_icon_label",defaultMessage:"Delete"})))),this.renderSpam()),r&&d.a.createElement(c.Fragment,null,d.a.createElement(_.a,{className:U.separator}),1===l.length&&d.a.createElement(_.a,{name:"unsubscribe-message","data-test-id":"unsubscribe-message"},d.a.createElement(L.default,{messageId:l[0],menuMode:!0})),o&&d.a.createElement(_.a,{name:"filter-messages-like-this","data-test-id":"filter-messages-like-this",title:y(v.filterMessagesLikeThis)},d.a.createElement("a",{tabIndex:-1,onClick:S?j:this.handleFilterMessagesLikeThis,onKeyDown:S?j:this.handleFilterMessagesLikeThis,className:E()(h.a,{disabled:S}).button},d.a.createElement("span",{className:U.label},y(v.filterMessagesLikeThis)))),d.a.createElement(_.a,{name:"raw-message","data-test-id":"raw-message",title:y(v.viewRawMessage)},d.a.createElement("a",{tabIndex:-1,onClick:this.handleRawMessage,onKeyDown:this.handleRawMessage,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,l.length>1?{id:"view_raw_message_newest",defaultMessage:"View newest raw message"}:{id:"view_raw_message",defaultMessage:"View raw message"})))),d.a.createElement(_.a,{name:"print-message","data-test-id":"print-message",title:y(v.printMessage)},d.a.createElement("a",{tabIndex:-1,onClick:this.handlePrint,onKeyDown:this.handlePrint,className:U.button},d.a.createElement("span",{className:U.label},d.a.createElement(u.FormattedMessage,l.length>1?{id:"print_message_newest",defaultMessage:"Print newest"}:{id:"print_message_single",defaultMessage:"Print"})),N&&d.a.createElement("span",{"data-test-id":"print-shortcut"},"P")))),p&&d.a.createElement(c.Fragment,null,d.a.createElement(_.a,{className:U.separator}),d.a.createElement(_.a,{name:"add-to-contacts","data-test-id":"add-to-contacts",title:y(v.addToContacts)},d.a.createElement("a",{className:E()(h.a,{disabled:!g}).button,tabIndex:-1,onClick:g?this.handleAddToContacts:j,onKeyDown:g?this.handleAddToContacts:j},d.a.createElement("span",{className:U.label},y(v.addToContacts)))))))}}r()(G,"contextTypes",{executeAction:l.a.func,intl:u.intlShape.isRequired,store:l.a.object,getTheme:l.a.func,getStore:l.a.func,getCss:l.a.func,getThemeMode:l.a.func,navigateTo:l.a.func}),r()(G,"defaultProps",{onEscape:j,enableMarkAsRead:!0,enableMarkAsUnread:!0,enableStar:!0,enableUnstar:!0,enableBlockSenders:!1,enableFilterMessagesLikeThis:!1,enableSingleMessageGroupActions:!1,enableAddToContacts:!1,showAddToContacts:!1});const W=(e,{activeGroupId:t,streamId:a,listId:n,contextMenuMode:s})=>{const i=Object(A.b)(e),r=i.getMessageIdsFromMessageGroupId,o=i.getSenderEmailIdsFromMessageGroup,l=i.getSettingsSelectors,c=i.getMessageFlags,d=i.isSingleDraftGroup,m=i.doesStreamExist,_=i.doesListExist,u=i.getListItemIds,p=i.getSelectedStreamItems,h=i.getAllItemsCountForListId,g=i.doesFolderIdExist,E=i.getPrimaryFolderTypeByFolderId,b=i.getParticipant,C=i.getSelectedAccountId,f=i.getPrimaryAccountId,S=i.getContactListSelectors,y=i.doesContactIdExist,N=(0,i.getFeaturesSelectors)();let I;if(t)I=[t];else{I=(m(a)?p(a):[]).map(({id:e})=>e)}const M=1===I.length?{id:I[0],listId:n}:void 0,v=N.isEnabled("selectAll"),D=h(n);let w=!1;const P=N.getSetting("bulkActionDialogThreshold"),x=!t&&I.length>=P;if(v){const e=_(n)?u(n):[],a=e.length>0&&e.length===I.length;w=v&&a&&!t&&(D>=P||D>I.length)}const F=N.isEnabled(T.ub.CONVERSATIONS),L=o(I),B=N.isEnabled(T.ub.BLOCK_SENDERS),U=N.getSetting(T.zd.DELIVERY_BLOCKED_SENDERS),H=1===I.length?r(I[0]):[];let j=T.bd.LOADING;const G=B&&L.length>0&&U.length<T.Ad.blockedSenders;if(G){j=(0,l().getBlockedSendersApiCallStatus)()}const W=1===I.length&&!d(I[0]);let Z,V={};if(s){const e=Object(R.o)(n);e&&g(e)&&(Z=E(e)),V=Object(O.a)({kind:k.c.LIST,primaryFolderType:Z,listContentType:T.Pb.MESSAGES})}let q=T.bd.LOADING,z=!1;if(W){const e=b(H[0]),t=N.getSetting(T.zd.MESSAGE_FILTERS);if(z=N.isEnabled(T.ub.FILTER_MESSAGES_LIKE_THIS)&&f()===C()&&e&&e.email&&t.length<T.Ad.filters){q=(0,l().getFiltersAndBlockedSendersApiCallStatus)()}}const Y=N.isEnabled(T.ub.ADD_EDIT_FROM_LIST_CARD),K=S(),X=K.isUserAddedContact;let Q=!1,J=!1,$=!1,ee=!1,te=!1;const ae=(0,K.getContactIdByEmail)(L[0]);return Y&&W&&(void 0===L[0]?Q=!0:J=X(ae),te=(ee=($=H.length<=1&&!Q)&&!J)&&!y(L[0])),{selectedGroupIds:I,streamItem:M,conversations:F,enableMarkAsRead:0===H.length||H.some(e=>!c(e).read),enableMarkAsUnread:0===H.length||H.some(e=>c(e).read),enableStar:0===H.length||H.some(e=>!c(e).flagged),enableUnstar:0===H.length||H.some(e=>c(e).flagged),enableBlockSenders:G,blockedSendersApiStatus:j,enableSingleMessageGroupActions:W,messageIds:H,doSelectAll:w,allItemsCount:D,isBulkAction:x,folderType:Z,enabledActionsForFolderType:V,enableFilterMessagesLikeThis:z,filtersAndBlockedSendersApiStatus:q,showAddToContacts:$,enableAddToContacts:ee,shouldFetchContactDetails:te,emailIds:L,idForSender:ee?ae:null}},Z=e=>({fetchBlockedSenders:t=>e(Object(D.k)(t)),fetchFiltersAndBlockedSenders:t=>e(Object(D.l)(t)),onPrint:t=>e(Object(F.n)(t)),addToContacts:t=>e(Object(B.a)(t)),getContactDetails:t=>e(Object(B.e)(t))});t.default=Object(m.connect)(W,Z)(G)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(8),r=a.n(i),o=a(15),l=a(6),c=a(11),d=a(1580),m=a.n(d),_=a(7),u=a(19),p=a(1581),h=a.n(p),g=a(20),E=a(5),b=a(28),C=a(12),f=a(102),S=a(18),y=a(257),T=a(64);const N=Object(l.defineMessages)({confirm:{id:"unsubscribe_confirm.unsubscribe",defaultMessage:"Unsubscribe"},cancel:{id:"unsubscribe_confirm.cancel",defaultMessage:"Cancel"},ok:{id:"unsubscribe_confirm.ok",defaultMessage:"OK"},close:{id:"unsubscribe_confirm.close",defaultMessage:"close"},explanation:{id:"unsubscribe_confirm.explanation",defaultMessage:"We will send an unsubscribe request to this sender. You may continue to receive emails from this sender until they remove you from the list."}});class A extends s.a.Component{constructor(){super(),this.handleConfirm=this.handleConfirm.bind(this),this.handleDialogDismiss=this.handleDialogDismiss.bind(this)}handleConfirm(e){const t=this.props,a=t.unsubscribeByEmailRequested,n=t.messageId,s={interactionType:Object(S.j)(e),mKey:_.e.UNSUB_CONFIRM,sec:_.g.UNSUB_PANE};e.stopPropagation(),e.preventDefault(),a({i13nModel:s,messageId:n}),this.props.onClose()}handleDialogDismiss(e){const t={interactionType:Object(S.j)(e),mKey:_.e.UNSUB_DISMISS,sec:_.g.UNSUB_PANE};e.stopPropagation(),e.preventDefault(),T.b.sendI13nModel(t),this.props.onClose()}renderMainContent(e){const t=this.context.intl.formatMessage;return s.a.createElement("div",{className:e.mainContent,"data-test-id":"unsubscribe-popup-confirm"},s.a.createElement("div",null,s.a.createElement("div",{className:e.text},s.a.createElement(l.FormattedMessage,{id:"unsubscribe_confirm.text",defaultMessage:"Unsubscribe from {email}?",values:{email:s.a.createElement("span",{style:{fontWeight:C.BOLD}},this.props.fromAddress)}})),s.a.createElement("div",{className:e.explanation},t(N.explanation))),s.a.createElement("div",{className:e.bottom},s.a.createElement(u.a,{onClick:this.handleConfirm,marginLess:!0,"arial-label":t(N.confirm),title:t(N.confirm),"data-test-id":"unsubscribe-popup-confirm-btn",style:{padding:`${1.5*C.GRID_UNIT}px ${5*C.GRID_UNIT}px`}},s.a.createElement("div",{className:e.buttonText},t(N.confirm))),s.a.createElement(u.a,{className:e.cancel,onClick:this.handleDialogDismiss,kind:b.a.SECONDARY_BORDERLESS,"arial-label":t(N.cancel),title:t(N.cancel),"data-test-id":"unsubscribe-popup-cancel-btn"},s.a.createElement("div",{className:e.buttonText},t(N.cancel)))))}render(){const e=(0,this.context.getCss)(h.a),t=this.context.intl.formatMessage;return s.a.createElement(f.a,{onClose:this.handleDialogDismiss},s.a.createElement("div",{className:e.container,"data-test-id":"unsubscribe-popup"},this.renderMainContent(e),s.a.createElement("div",{className:e.close},s.a.createElement(g.a,{kind:E.b.CLOSE,size:E.d.XS,onClick:this.handleDialogDismiss,title:t(N.close),"data-test-id":"unsubscribe-popup-close-btn"}))))}}A.contextTypes={getCss:r.a.func,intl:l.intlShape.isRequired};var I=Object(o.connect)(void 0,e=>({unsubscribeByEmailRequested:t=>e(Object(y.h)(t))}))(A),M=a(130),v=a(0),D=a(35);a.d(t,"UnsubscribeButton",function(){return k}),a.d(t,"mapStateToProps",function(){return R});const O=Object(l.defineMessages)({label:{id:"unsubscribe_button.unsubscribe",defaultMessage:"Unsubscribe"},subject:{id:"unsubscribe_button.subject",defaultMessage:"Unsubscribe"},body:{id:"unsubscribe_button.body",defaultMessage:"Please unsubscribe and remove me from this email list immediately."}});class k extends s.a.Component{constructor(){super(),this.handleClick=this.handleClick.bind(this)}handleClick(e){const t=this.props.menuMode,a=this.renderPopup(),n={interactionType:Object(S.j)(e),mKey:_.e.UNSUB_BUTTON,sec:t?_.g.MSG_READ_TOOLBAR:_.g.MSG_HEADER};e.preventDefault(),e.stopPropagation(),T.b.sendI13nModel(n),Object(M.a)(a,this.context)}renderPopup(){const e=this.props;return s.a.createElement(I,{onClose:()=>{},fromAddress:e.fromAddress.email,messageId:e.messageId})}renderAnchor(e,t){return s.a.createElement("span",{className:e.container},s.a.createElement("a",{className:e.button,onClick:this.handleClick,"aria-label":t,title:t,"data-test-id":"unsubscribe-button"},t))}renderMenuItem(e){return s.a.createElement(u.a,{onClick:this.handleClick,kind:b.a.MENUITEM,title:e,"data-test-id":"unsubscribe-menu-item"},e)}render(){const e=this.props,t=e.showUnsubscribe,a=e.unsubscribeEnabled,n=e.cardExpanded,s=e.menuMode,i=(0,this.context.intl.formatMessage)(O.label);if(a&&t){const e=(0,this.context.getCss)(m.a,{cardExpanded:n,menuMode:s});return s?this.renderMenuItem(i):this.renderAnchor(e,i)}return null}}k.defaultProps={cardExpanded:!0,menuMode:!1},k.contextTypes={getCss:r.a.func,intl:l.intlShape,store:r.a.object.isRequired,executeAction:r.a.func,getStore:r.a.func};const R=(e,t)=>{const a=t.message,n=t.messageId,s=Object(c.b)(e),i=s.getMessagesSelectors,r=(0,s.getFeaturesSelectors)().isEnabled(v.ub.UNSUBSCRIBE_FROM_MESSAGE),o=n||a.id;return{showUnsubscribe:o&&Object(D.l)(i().getDecos(o),v.nc.USB),unsubscribeEnabled:r,fromAddress:o&&i().getFromAddresses(o)[0],messageId:o}};t.default=Object(o.connect)(R,void 0)(k)},,function(e,t,a){"use strict";a.r(t),a.d(t,"TimezoneCheck",function(){return h}),a.d(t,"mapStateToProps",function(){return g}),a.d(t,"resetInitialized",function(){return E});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(340),d=a(42),m=a(15),_=a(11),u=a(0);let p=!1;class h extends l.a.Component{componentDidMount(){const e=this.context.timezone,t=this.props;!t.timezoneCheck||!e||p||t.themeCueShown||t.isAMT||(p=!0,this.context.executeAction(c.a,{geoLocation:e.geoLocation,serverInferredTimezone:e.name,lastObservedTimezone:e.lastObservedTimezone}))}render(){return null}}s()(h,"contextTypes",{config:r.a.object,timezone:d.e,executeAction:r.a.func});const g=e=>{const t=Object(_.b)(e),a=t.getEnvironmentSelectors;return{themeCueShown:(0,t.getFeatureCueSelectors)().shownFeatures().indexOf(u.ub.THEMES_CUE_V3)>=0,isAMT:a().isAMT()}};function E(){p=!1}t.default=Object(m.connect)(g)(h)},function(e,t,a){"use strict";a.r(t),a.d(t,"HeartbeatControllerView",function(){return b}),a.d(t,"mapStateToProps",function(){return C}),a.d(t,"mapDispatchToProps",function(){return f});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(15),d=a(11),m=a(176),_=a(105),u=a(6),p=a(0),h=(a(9),a(7)),g=a(49);const E=Object(u.defineMessages)({title:{id:"confirm.reload_title",defaultMessage:"Please reload your browser"},message:{id:"confirm.force_reload_message",defaultMessage:"A new update of {mailBrandNameString} is available! We fixed some critical bugs and performance issues."},acceptLabel:{id:"confirm.accept_reload",defaultMessage:"Reload"},cancelLabel:{id:"confirm.cancel_try_later",defaultMessage:"Try it later"},forcedAcceptLabel:{id:"confirm.forced_accept_reload",defaultMessage:"Reload now to proceed"}});class b extends l.a.Component{constructor(...e){super(...e),s()(this,"reloadConfirmed",()=>{const e=this.props.refreshType;this.props.reloadApp({i13nModel:{mKey:e===p.s.PERIODIC_REFRESH?h.e.PERIODIC_RELOAD_ACCEPTED:h.e.EMERGENCY_RELOAD_ACCEPTED,sec:e===p.s.PERIODIC_REFRESH?h.g.PERIODIC_RELOAD:h.g.EMERGENCY_RELOAD}}),window.location.reload()}),s()(this,"cancelReload",()=>{this.props.cancelReload({i13nModel:{mKey:h.e.EMERGENCY_RELOAD_CANCELED,sec:h.g.EMERGENCY_RELOAD}})})}shouldComponentUpdate(e){return e.refreshType!==this.props.refreshType}render(){const e=this.props.refreshType,t=this.context.intl.formatMessage,a=this.context.mailBrandNameString;let n=null;if(e===p.s.PERIODIC_REFRESH?n=l.a.createElement("div",null,l.a.createElement(m.a,{title:t(E.title),message:t(E.message,{mailBrandNameString:a}),onAccept:this.reloadConfirmed,hideClose:!0,acceptLabel:E.forcedAcceptLabel})):e===p.s.EMERGENCY_REFRESH&&(n=l.a.createElement("div",null,l.a.createElement(_.a,{title:t(E.title),onConfirm:this.reloadConfirmed,onAbort:this.cancelReload,acceptLabel:E.acceptLabel,cancelLabel:E.cancelLabel},l.a.createElement(u.FormattedMessage,{id:"confirm.reload_message",defaultMessage:"A new version of {mailBrandNameString} is available! We have improved the speed, reliability and security of your mail.",values:{mailBrandNameString:a}})))),n){const t={mKey:e===p.s.PERIODIC_REFRESH?h.e.PERIODIC_RELOAD_SHOWED:h.e.EMERGENCY_RELOAD_SHOWED,sec:e===p.s.PERIODIC_REFRESH?h.g.PERIODIC_RELOAD:h.g.EMERGENCY_RELOAD};setTimeout(()=>this.props.showReload({i13nModel:t}),0)}return n}}function C(e){return{refreshType:(0,Object(d.b)(e).getBuildRefreshStatus)()}}s()(b,"contextTypes",{intl:u.intlShape.isRequired,mailBrandNameString:r.a.string});const f=e=>({showReload:t=>e(Object(g.n)(t)),cancelReload:t=>e(Object(g.a)(t)),reloadApp:t=>e(Object(g.m)(t))});t.default=Object(c.connect)(C,f)(b)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(13),m=a.n(d),_=a(1364),u=a.n(_),p=a(18),h=a(1232),g=a(482),E=a(5),b=a(20);const C=Object(c.defineMessages)({headerText:{id:"all_tabs_plus_cue.header2",defaultMessage:"Want a faster way to read your email?"},bodyText:{id:"all_tabs_plus_cue.body2",defaultMessage:"Turn on People view to see messages from people, not businesses, in one place."},close:{id:"all_tabs_plus_cue.close",defaultMessage:"Close"}});class f extends l.a.Component{constructor(...e){super(...e),s()(this,"onClose",e=>{this.props.onClose({i13nModel:{interactionType:Object(p.j)(e)}})}),s()(this,"onTryNow",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(p.j)(e)}})})}render(){const e=this.context,t=e.getTheme,a=e.intl.formatMessage,n=m()(u.a,{[`${t()}`]:!0});return l.a.createElement("div",{role:"navigation"},l.a.createElement("div",{className:n.container,role:"alert","aria-labelledby":"all-tabs-plus-cue-heading","aria-describedby":"all-tabs-plus-cue-desc",ref:"allTabsPlusCueContent",tabIndex:"-1"},l.a.createElement("div",{className:n.coloredBar}),l.a.createElement("div",{className:n.header},l.a.createElement("span",{id:"all-tabs-plus-cue-heading",className:n.headerText},l.a.createElement(c.FormattedMessage,C.headerText))),l.a.createElement("div",{className:n.body,id:"all-tabs-plus-cue-desc"},l.a.createElement(c.FormattedMessage,C.bodyText)),l.a.createElement(g.a,{isCueMode:!0,useCalloutButton:!0,onTryNow:this.onTryNow})),l.a.createElement("div",{className:n.close},l.a.createElement(b.a,{onClick:this.onClose,kind:E.b.CLOSE_MINI,size:E.d.XS,colorState:E.a.IMPROVED_GRAY_DARK,title:a(C.close),"aria-label":a(C.close),"data-test-id":"all-tabs-plus-cue-close"})))}}s()(f,"contextTypes",{getCss:r.a.func,intl:c.intlShape,getTheme:r.a.func.isRequired}),t.default=Object(h.a)(f)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(13),m=a.n(d),_=a(1365),u=a.n(_),p=a(18),h=a(1232),g=a(20),E=a(5);const b=m()(u.a),C=Object(c.defineMessages)({headerText:{id:"people_smartview_cue.header2",defaultMessage:"Want a faster way to read your email?"},bodyText:{id:"people_smartview_cue.body2",defaultMessage:"See your messages that are from real people, not businesses."},close:{id:"people_smartview_cue.close",defaultMessage:"Close"}});class f extends l.a.Component{constructor(...e){super(...e),s()(this,"onClose",e=>{this.props.onClose({i13nModel:{interactionType:Object(p.j)(e)}})})}render(){const e=this.context.intl.formatMessage;return l.a.createElement("div",{role:"navigation"},l.a.createElement("div",{className:b.container,role:"alert","aria-labelledby":"people-smartview-cue-heading","aria-describedby":"people-smartview-cue-desc",tabIndex:"-1"},l.a.createElement("div",{className:b.animation}),l.a.createElement("div",{className:b.header},l.a.createElement("div",{id:"people-smartview-cue-heading",className:b.headerText},l.a.createElement(c.FormattedMessage,C.headerText)),l.a.createElement("div",{className:b.bodyText,id:"people-smartview-cue-desc"},l.a.createElement(c.FormattedMessage,C.bodyText))),l.a.createElement("div",{className:b.close},l.a.createElement(g.a,{onClick:this.onClose,kind:E.b.CLOSE_MINI,size:E.d.XS,colorState:E.a.IMPROVED_GRAY_DARK,title:e(C.close),"aria-label":e(C.close),"data-test-id":"people-smartview-cue-close"}))))}}s()(f,"contextTypes",{getCss:r.a.func,intl:c.intlShape}),t.default=Object(h.a)(f)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return c});a(8);var n=a(1),s=a.n(n),i=a(6),r=a(1257),o=a(0);const l=Object(i.defineMessages)({header:{id:"settings.cue_header",defaultMessage:"Customize the look of your inbox"},body:{id:"settings.cue_body",defaultMessage:"Open Settings to see email previews, change email spacing, turn on tabs and more."}});function c({onTryNow:e,onShow:t}){return s.a.createElement(r.a,{headerText:l.header,bodyText:l.body,cueName:o.ub.SETTINGS_CUE,onTryNow:e,onShow:t,onMayBeLater:()=>{}})}},function(e,t,a){"use strict";a.r(t),a.d(t,"NeedToKnowNewsCue",function(){return N}),a.d(t,"mapStateToProps",function(){return A}),a.d(t,"mapDispatchToProps",function(){return I});var n=a(4),s=a.n(n),i=a(31),r=a.n(i),o=a(3),l=a.n(o),c=(a(8),a(1)),d=a.n(c),m=a(6),_=a(15),u=a(11),p=a(1271),h=a(0),g=a(437),E=a(129),b=a(2),C=a(7),f=a(264),S=a(122);const y=3,T=Object(m.defineMessages)({header_text:{id:"need_to_know_news_cue.header_text",defaultMessage:"Trending on Yahoo Homepage"},primary_button_text:{id:"need_to_know_news_cue.primary_button_text",defaultMessage:"Catch up now"},body_text:{id:"need_to_know_news_cue.body_text",defaultMessage:'<ul class="{listStyle}"><li class="{listItemStyle}">{firstItem}</li><li class="{listItemStyle}">{secondItem}</li><li class="{listItemStyle}">{thirdItem}</li></ul>'}});class N extends d.a.Component{constructor(...e){super(...e),l()(this,"onTryButton",()=>{const e=this.props.homepageUrl;Object(S.a)(e)}),l()(this,"onCueBodyClick",()=>{const e=this.props;(0,e.needToKnowNewsCueClicked)({mKey:`cue_${e.cueName}_body_clicked`,sec:C.g.FEATURE_CUE}),this.onTryButton()}),l()(this,"onExternalClick",()=>{const e=this.props,t=e.cueName,a=e.closeFeatureCue;if(e.closeOnExternalLink&&e.isCueActive){const e="ignored",n={name:t,i13nModel:{mKey:`cue_${t}_${e}`,sec:C.g.FEATURE_CUE},userAction:e};window.removeEventListener("click",this.onExternalClick,!1),setTimeout(()=>{a(n)},0)}})}componentDidUpdate(){this.props.userInteractedWithMail&&this.onExternalClick()}componentDidMount(){window.addEventListener("click",this.onExternalClick,!1)}componentWillUnmount(){window.removeEventListener("click",this.onExternalClick,!1)}render(){const e=this.props,t=e.cueName,a=e.coverImage,n=e.articleTitles,i=e.onShow;if(n.length<y||!a)return null;const o=r()(n,3),l=o[0],c=o[1],m=o[2];return d.a.createElement("div",{onClick:this.onCueBodyClick},d.a.createElement(p.a,{bodyText:s()({},T.body_text,{values:{firstItem:Object(f.b)(l),secondItem:Object(f.b)(c),thirdItem:Object(f.b)(m)}}),cueName:t,headerText:T.header_text,mayBeLaterButtonText:T.secondary_button_text,onTryButton:this.onTryButton,pngImageUrl:a,tryButtonText:T.primary_button_text,cueVariant:h.yc,onShow:i}))}}const A=e=>{const t=Object(u.b)(e),a=t.getAction,n=t.isFeatureEnabled,s=(0,t.getNeedToKnowNewsSelectors)(),i=s.getCoverImageUrl,r=s.getNewsArticles,o=(0,s.getHomePageUrl)();return{coverImage:i(),homepageUrl:o,articleTitles:r().map(e=>e.articleTitle),userInteractedWithMail:[b.Lh,b.di,b.Ub].indexOf(a().type)>=0,closeOnExternalLink:n(h.ub.NTK_CLOSE_ON_EXTERNAL_CLICK),isCueActive:n(h.ub.NEED_TO_KNOW_NEWS_CUE)}},I=e=>({needToKnowNewsCueClicked:t=>e(Object(g.a)(t)),closeFeatureCue:t=>e(Object(E.a)(t))});t.default=Object(_.connect)(A,I)(N)},function(e,t,a){"use strict";a.r(t),a.d(t,"AdBlockUpsellCue",function(){return H}),a.d(t,"mapStateToProps",function(){return j}),a.d(t,"mapDispatchToProps",function(){return G});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1246),m=a(1232),_=a(13),u=a.n(_),p=a(1373),h=a.n(p),g=a(28),E=a(20),b=a(5),C=a(474),f=a(18),S=a(11),y=a(15),T=a(45),N=a(19),A=a(0),I=a(347),M=a(7),v=a(12),D=a(129),O=a(9),k=a(310),R=a(122);const w=Object(c.defineMessages)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooWiderMailExtensionBranding:{id:"mail.yahoo_wider_mail_extension_branding",defaultMessage:"{widerMail} extension"},yahooWiderMailBranding:{id:"mail.yahoo_wider_mail_upsell_branding",defaultMessage:"Wider Mail"},close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},adBlockUpsellUserName:{id:"adBlock_upsell_user_name",defaultMessage:"Hi {accountName}!"},adBlockUpsellMessage1:{id:"adBlock_upsell_v6_welcome_message_1",defaultMessage:"Your ad blocker may be interfering with Mail features"},adBlockUpsellMessage2:{id:"adBlock_upsell_v6_welcome_message_2",defaultMessage:"Help us provide you with the best free email!"},adBlockUpsellMessage3:{id:"adBlock_upsell_v6_welcome_message_3",defaultMessage:"We noticed you are using an ad blocker. Please consider whitelisting {mailBrandNameString}"},adBlockUpsellMessage4:{id:"adBlock_upsell_v6_welcome_message_4",defaultMessage:"Havent turned off your ad blocker?"},adBlockUpsellDescription1:{id:"adBlock_upsell_v6_description_1",defaultMessage:"Ad blockers insert code into your inbox to block ads, which can negatively impact email performance and make some features stop working. We recommend whitelisting {mailBrandNameString} to avoid these issues and get the best experience."},adBlockUpsellDescription2:{id:"adBlock_upsell_v6_description_2",defaultMessage:"Our world-class email service is provided to you for free in part due to advertising. Please help us by whitelisting {mailBrandNameString}."},adBlockUpsellDescription3:{id:"adBlock_upsell_v6_description_3",defaultMessage:"It only takes a minute!"},feedback:{id:"adblock_upsell_v6_feedback",defaultMessage:"Have feedback?"},adblockUpsellV6LetDoText:{id:"adblock_upsell_v6_let_do_text",defaultMessage:"Lets do it!"},adblockUpsellV6BackBtnText:{id:"adblock_upsell_v6_back_btn_text",defaultMessage:"Back"},adblockUpsellV6WhitelistBtnText:{id:"adblock_upsell_v6_whitelist_btn_text",defaultMessage:"Whitelist Us!"},adblockUpsellV6Page2Msg:{id:"adblock_upsell_v6_page2_msg",defaultMessage:"How to whitelist {mailBrandNameString}"},adblockUpsellV6DoneBtnText:{id:"adblock_upsell_v6_done_btn_text",defaultMessage:"I'm done"},adblockUpsellWhitelistStep1:{id:"adblock_upsell_v6_whitelist_step_1",defaultMessage:"Step 1"},adblockUpsellWhitelistStep2:{id:"adblock_upsell_v6_whitelist_step_2",defaultMessage:"Step 2"},adblockUpsellWhitelistStep3:{id:"adblock_upsell_v6_whitelist_step_3",defaultMessage:"Step 3"},adblockUpsellWhitelistStep1Des:{id:"adblock_upsell_v6_whitelist_step_1_Des",defaultMessage:"Click on an icon like the ones below in your browser."},adblockUpsellWhitelistStep3Des:{id:"adblock_upsell_v6_whitelist_step_3_Des",defaultMessage:"Refresh {mailBrandNameString}."},adblockUpsellV6WhitelistStep2Des:{id:"adblock_upsell_v6_whitelist_step_2_Des",defaultMessage:'Select the option to display ads for mail.yahoo.com by clicking either "<span class="{boldTextStyle}">Dont run on pages on this domain</span>",  "<span class="{boldTextStyle}">Enabled on this site</span>", "<span class="{boldTextStyle}">Trust Site</span>" or similar. The exact text will differ depending on the ad blocker you are using.'},adblockUpsellSubDescription:{id:"adblock_upsell_sub_description",defaultMessage:"If you prefer an ad-free experience, consider upgrading to {mailProLink} or getting our {installWiderMailLink}, which hides ads on the right side."},adblockUpsellSubDescriptionMailproOnly:{id:"adblock_upsell_sub_description_mailpro_only",defaultMessage:"If you prefer an ad-free experience, consider upgrading to {mailProLink}"},adblockUpsellSubDescriptionWiderMailOnly:{id:"adblock_upsell_sub_description_wider_mail_only",defaultMessage:"If you prefer an ad-free experience, consider getting our {installWiderMailLink}, which hides ads on the right side."},adblockUpsellV6FooterText:{id:"adblock_upsell_v6_footer_text",defaultMessage:'For more detailed instructions, visit our <a class="{upsellOptionLinkStyle}" target="_blank" rel="noreferrer" href="{adBlockPayupHelpUrl}">help page</a>.'}}),P="https://chrome.google.com/webstore/detail/",x="https://addons.mozilla.org/firefox/downloads/latest/yahoo-wider-mail/addon-727603-latest.xpi?src=ymail",F="/img/adblock_upsell_emoji_v6_1.png",L="/img/adblock_upsell_emoji_v6_2.png",B="/img/adblock_upsell_emoji_v6_step2.png",U="/img/adblocker_examples.png";class H extends l.a.Component{constructor(){super(),s()(this,"getRapidEvent",(e,t)=>({i13nModel:{mKey:e,interactionType:Object(f.j)(t)}})),s()(this,"statOptionClick",(e,t)=>{(0,this.props.onAdblockUpsellOptionClick)({mKey:e,sec:M.g.FEATURE_CUE,interactionType:Object(f.j)(t)})}),s()(this,"onClose",e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleGetExtension",e=>{let t=Object(O.a)(window,"AppBootstrapData.browserName","");if("chrome"===(t=t.toLowerCase())){const e=this.props.extensionSetting;Object(R.a)(P+e.chromeExtensionId)}else"firefox"===t&&(location.href=x,this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e)))}),s()(this,"getWhitelistStep2Description",e=>{return(0,this.context.intl.formatMessage)(w.adblockUpsellV6WhitelistStep2Des,{boldTextStyle:e.boldText})}),s()(this,"adBlockUpsellMessage",()=>{const e=this.context.intl.formatMessage,t=this.context.mailBrandNameString;switch(this.props.adblockCurrentUi){case A.n.UI_1:return e(w.adBlockUpsellMessage1);case A.n.UI_3:return e(w.adBlockUpsellMessage3,{mailBrandNameString:t});case A.n.UI_4:return e(w.adBlockUpsellMessage4)}}),s()(this,"getDescriptionText",()=>{const e=this.context.intl.formatMessage,t=this.context.mailBrandNameString;switch(this.props.adblockCurrentUi){case A.n.UI_1:return e(w.adBlockUpsellDescription1,{mailBrandNameString:t});case A.n.UI_3:return e(w.adBlockUpsellDescription2,{mailBrandNameString:t});case A.n.UI_4:return e(w.adBlockUpsellDescription3)}}),s()(this,"getFooterText",e=>{const t=this.context,a=t.intl,n=a.formatMessage,s=a.locale,i=t.partner,r=Object(k.g)("SLN28635")(s,i);return n(w.adblockUpsellV6FooterText,{upsellOptionLinkStyle:e.upsellOptionLink,adBlockPayupHelpUrl:r})}),s()(this,"togglePage",e=>{this.setState({page:e})}),s()(this,"handleClick",(e,t)=>{let a;switch(e){case"goToMailPro":a="cue_"+this.props.cueName+"_mailPro";break;case"goToAdBlockHelp":a="cue_"+this.props.cueName+"_whitelist";break;case"getExtension":a="cue_"+this.props.cueName+"_getExtension",this.handleGetExtension(t);break;case"changeUi":1===this.state.page?(a="cue_"+this.props.cueName+"_page_navigate_2",this.togglePage(2)):(a="cue_"+this.props.cueName+"_page_navigate_1",this.togglePage(1));break;default:a="cue_"+this.props.cueName+"_success"}this.statOptionClick(a,t)}),s()(this,"getUpsellImage",()=>{if(1===this.state.page){switch(this.props.adblockCurrentUi){case A.n.UI_1:return F;case A.n.UI_3:case A.n.UI_4:return L}return F}return B}),s()(this,"onDoneClick",()=>{this.props.onFeatureCueClosed({mKey:"cue_"+this.props.cueName+"_whitelist_done",sec:M.g.FEATURE_CUE,interactionType:M.d.click}),window.location.reload()}),s()(this,"getSubDecriptiontext",e=>{const t=this.props,a=t.isMailPro,n=t.isMailProEligible,s=t.widerMailExtnEnabled,i=t.isWiderMailEligible,r=this.context.intl.formatMessage,o=`<a data-button-id="goToMailPro" class="${e.upsellOptionLink}" target="_blank" rel="noreferrer" href="${this.props.adFreeMailUrl}">${r(w.yahooMailProBranding)}</a>`,c=`<a data-button-id="getExtension" class="${e.upsellOptionLink}">${r(w.yahooWiderMailExtensionBranding,{widerMail:r(w.yahooWiderMailBranding)})}</a>`;let d=null;return!a&&n&&!s&&i?d=l.a.createElement("span",{className:e.subDescription},l.a.createElement("span",{"data-test-id":"mailpro-widermail-text",onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:r(w.adblockUpsellSubDescription,{mailProLink:o,installWiderMailLink:c})}})):!a&&n?d=l.a.createElement("span",{className:e.subDescription},l.a.createElement("span",{"data-test-id":"mailpro-text",onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:r(w.adblockUpsellSubDescriptionMailproOnly,{mailProLink:o})}})):!s&&i&&(d=l.a.createElement("span",{className:e.subDescription},l.a.createElement("span",{"data-test-id":"widermail-text",onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:r(w.adblockUpsellSubDescriptionWiderMailOnly,{installWiderMailLink:c})}}))),d}),this.state={page:1}}render(){const e=this.context.intl.formatMessage,t=this.context.mailBrandNameString,a=this.onClose,n=this.props,s=n.accountName,i=n.isMailProEligible,r=n.isWiderMailEligible,o=n.isMailPro,c=n.widerMailExtnEnabled,m=n.cueName,_=n.adblockCurrentUi,p=u()(h.a,{pageTwoUi:2===this.state.page,centerDescriptionText:_===A.n.UI_4});return l.a.createElement(d.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:C.a.DARK,ariaLabelledBy:"adBlock-upsell-welcome-message",ariaDescribedBy:"adblock-upsell-description"},l.a.createElement("div",{"data-test-id":m,className:p.container},l.a.createElement("div",{className:p.close},l.a.createElement(E.a,{onClick:a,kind:b.b.CLOSE,size:b.d.XS,colorState:b.a.NORMAL,title:e(w.close),"aria-label":e(w.close),"data-test-id":"close-cue-button"})),l.a.createElement("div",{"data-test-id":"header",className:p.headerSection},l.a.createElement("img",{src:Object(T.a)(this.getUpsellImage())})),l.a.createElement("div",{className:p.heading},1===this.state.page?l.a.createElement("div",null,l.a.createElement("span",null,e(w.adBlockUpsellUserName,{accountName:s})),l.a.createElement("span",{className:p.subHeadingText},this.adBlockUpsellMessage())):l.a.createElement("span",null,e(w.adblockUpsellV6Page2Msg,{mailBrandNameString:t}))),l.a.createElement("div",{className:p.description,"data-test-id":"adblock-upsell-description"},1===this.state.page?l.a.createElement("div",null,this.getDescriptionText(),(r&&!c||i&&!o)&&!(_===A.n.UI_4)&&l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("br",null)),this.getSubDecriptiontext(p))):l.a.createElement("div",null,l.a.createElement("div",{className:p.whitelistStepContainer},l.a.createElement("div",{className:p.stepCountContainer},e(w.adblockUpsellWhitelistStep1)),l.a.createElement("div",{className:p.stepDetailContainer},e(w.adblockUpsellWhitelistStep1Des),l.a.createElement("img",{src:Object(T.a)(U)}))),l.a.createElement("div",{className:p.whitelistStepContainer},l.a.createElement("div",{className:p.stepCountContainer},e(w.adblockUpsellWhitelistStep2)),l.a.createElement("div",{className:p.stepDetailContainer},l.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.getWhitelistStep2Description(p)}}))),l.a.createElement("div",{className:p.whitelistStepContainer},l.a.createElement("div",{className:p.stepCountContainer},e(w.adblockUpsellWhitelistStep3)),l.a.createElement("div",{className:p.stepDetailContainer},e(w.adblockUpsellWhitelistStep3Des,{mailBrandNameString:t}))))),l.a.createElement("div",{className:p.adblockUpsellBtnContainer,"data-test-id":"adblock-upsell-btn-container"},1===this.state.page&&l.a.createElement("a",{className:p.optionButtonContainer},l.a.createElement(N.a,{"data-test-id":"navigate-to-page-2",onClick:this.handleClick.bind(this,"changeUi"),kind:g.a.PRIMARY,marginLess:!0},l.a.createElement("span",{className:p.optionButton},e(_===A.n.UI_4?w.adblockUpsellV6LetDoText:w.adblockUpsellV6WhitelistBtnText)))),2===this.state.page&&l.a.createElement("span",null,l.a.createElement("a",{className:p.optionButtonContainer},l.a.createElement(N.a,{"data-test-id":"navigate-to-page-1",onClick:this.handleClick.bind(this,"changeUi"),kind:g.a.SECONDARY,marginLess:!0,style:{width:`${32*v.GRID_UNIT}px`}},l.a.createElement("span",{className:p.optionButton},e(w.adblockUpsellV6BackBtnText)))),l.a.createElement("a",{className:p.optionButtonContainer},l.a.createElement(N.a,{"data-test-id":"whitelist-done",onClick:this.onDoneClick,kind:g.a.PRIMARY,marginLess:!0,style:{width:`${32*v.GRID_UNIT}px`,marginLeft:`${4*v.GRID_UNIT}px`}},l.a.createElement("span",{className:p.optionButton},e(w.adblockUpsellV6DoneBtnText)))))),l.a.createElement("div",null,2===this.state.page&&l.a.createElement("div",{className:p.footerText,onClick:this.handleClick.bind(this,"goToAdBlockHelp"),dangerouslySetInnerHTML:{__html:this.getFooterText(p)}}))))}}s()(H,"contextTypes",{intl:c.intlShape,mailBrandNameString:r.a.string});const j=e=>{const t=Object(S.b)(e),a=t.getAccountSelectors,n=t.getSelectedAccountId,s=(0,t.getFeaturesSelectors)(),i=(0,a().getAccountNameByAccountId)(n()),r=s.isEnabled(A.ub.MAIL_PRO_ELIGIBLE),o=s.getSetting(A.zd.AD_FREE_MAIL_URL),l=s.getSetting(A.zd.WIDER_MAIL_EXTENSION),c=s.isEnabled(A.ub.WIDER_MAIL_ELIGIBLE),d=s.isEnabled(A.ub.MAIL_PRO),m=s.isEnabled(A.ub.IS_WIDER_MAIL_EXTN_ENABLED),_=s.getSetting(A.zd.FEEDBACK_URL),u=s.getSetting(A.zd.AD_BLOCK_FEATURE_CUE_ID);return{isMailProEligible:r,accountName:i,adFreeMailUrl:o,isWiderMailEligible:c,extensionSetting:l,isMailPro:d,widerMailExtnEnabled:m,feedbackURL:_,adblockCurrentUi:A.o[u-1]}},G=e=>({onAdblockUpsellOptionClick:t=>e(Object(I.d)({i13nModel:t})),onFeatureCueClosed:t=>e(Object(D.a)({i13nModel:t}))});t.default=Object(m.a)(Object(y.connect)(j,G)(H))},function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",function(){return A});var n=a(3),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(6),l=a(1376),c=a.n(l),d=a(1232),m=a(19),_=a(28),u=a(18),p=a(1246),h=a(474),g=a(13),E=a.n(g),b=a(15),C=a(11),f=a(20),S=a(5);const y=Object(o.defineMessages)({close:{id:"linkedin_cue.close_icon",defaultMessage:"Close"}}),T=E()(c.a);class N extends r.a.Component{constructor(...e){super(...e),s()(this,"onClickClose",()=>this.props.onClose({})),s()(this,"onClickNotNow",e=>{this.props.onClose({i13nModel:{mKey:`cue_${this.props.cueName}_not_now`,interactionType:Object(u.j)(e)}})}),s()(this,"onClickReconnect",e=>{this.props.onClose({i13nModel:{mKey:`cue_${this.props.cueName}_reconnect`,interactionType:Object(u.j)(e)}})})}render(){const e=this.props.name;return r.a.createElement(p.a,{onClose:this.onClickClose,onOuterClick:()=>{},kind:h.a.DARK},r.a.createElement("div",{role:"alert","data-test-id":"linkedin-upsell",className:T.wrapper},r.a.createElement("div",{className:T.close,"data-test-id":"linkedin-upsell-close-button",onClick:this.onClickClose},r.a.createElement(f.a,{kind:S.b.CLOSE,size:S.d.XS,title:(0,this.context.intl.formatMessage)(y.close)})),r.a.createElement("span",{className:T.image,"aria-hidden":!0}),r.a.createElement("h2",{className:T.header},r.a.createElement(o.FormattedMessage,{id:"linkedin_cue.welcome_text",defaultMessage:"Hi, {name}!",values:{name:e}}),r.a.createElement(o.FormattedMessage,{id:"linkedin_cue.header_text",defaultMessage:"Reconnect your LinkedIn Account"})),r.a.createElement("span",{className:T.description},r.a.createElement(o.FormattedMessage,{id:"linkedin_cue.description",defaultMessage:"Please reconnect your LinkedIn account to retain photos, job titles and other LinkedIn profile information in your Yahoo Mail contacts."})),r.a.createElement(m.a,{overridingClass:T.tryButton,onClick:this.onClickReconnect,kind:_.a.CUE,"data-test-id":"reconnect-button"},r.a.createElement(o.FormattedMessage,{id:"linkedin_cue.reconnect",defaultMessage:"Reconnect to LinkedIn"})),r.a.createElement(m.a,{overridingClass:T.cancelButton,onClick:this.onClickNotNow,kind:_.a.CHROMELESS,"data-test-id":"not-now-button"},r.a.createElement(o.FormattedMessage,{id:"linkedin_cue.not_right_now",defaultMessage:"Not right now"}))))}}s()(N,"contextTypes",{intl:o.intlShape});const A=e=>{const t=Object(C.b)(e);return{name:(0,t.getAccountNameByAccountId)((0,t.getSelectedAccountId)())}};t.default=Object(b.connect)(A)(Object(d.a)(N))},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(314),_=a(19),u=a(13),p=a.n(u),h=a(1377),g=a.n(h),E=a(6),b=a(28),C=a(5),f=a(1232),S=a(18),y=a(79),T=a(122);const N=p()(g.a),A=Object(E.defineMessages)({bodyWithUserName:{id:"update_wider_mail_cue.bodyWithUserName",defaultMessage:"{firstName}, update your extension to remove the ad on the right and keep Yahoo as your default search."},getExtension:{id:"update_wider_mail_cue.btn_get_extension",defaultMessage:"Get Extension"},maybeLater:{id:"update_wider_mail_cue.btn_maybe_later",defaultMessage:"Maybe later"},close:{id:"update_wider_mail_cue.btn_close",defaultMessage:"Close"}}),I={chromeExtensionUrl:"https://chrome.google.com/webstore/detail/njajpefejmjnhcddhaleakkcehiilppa",widerMailImage:"https://s.yimg.com/nq/wider-mail/1/wider-mail/callout-asset.gif"};class M extends d.a.Component{constructor(...e){super(...e),r()(this,"showChromeExtInstallDialog",()=>{Object(T.a)(I.chromeExtensionUrl)}),r()(this,"onGetExtension",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_get_extension",interactionType:Object(S.j)(e)}}),this.showChromeExtInstallDialog(e)}),r()(this,"onTimeout",()=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_timeout",interactionType:"timeout"}})}),r()(this,"onMaybeLater",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(S.j)(e)}})}),r()(this,"onClose",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:Object(S.j)(e)}})})}componentDidMount(){this.timeout=setTimeout(()=>this.onTimeout(),4e4),this.browserName=window.AppBootstrapData.loggerParams.browser.split(" ")[0].toLowerCase()}componentWillUnmount(){clearInterval(this.timeout)}render(){const e=this.context.intl.formatMessage,t=I.widerMailImage,a=this.props.userDisplayName.split(" ")[0];return d.a.createElement(m.a,null,d.a.createElement("div",{"data-test-id":"cue-update-wider-mail-extension",className:N.container},d.a.createElement("div",{"data-test-id":"close-wrapper",className:N.closeWrapper},d.a.createElement(y.a,{"data-iskeynav":!0,"data-test-id":"cue-close-button",kind:C.b.CLOSE,size:C.d.XS,onClick:this.onClose,title:e(A.close),colorStates:{normal:C.a.DISABLED,hovered:C.a.SELECTED}})),d.a.createElement("div",{className:N.imageContainer,"data-test-id":"cue-image-container"},d.a.createElement("img",{src:t})),d.a.createElement("div",{className:N.infoContainer,"data-test-id":"cue-info-container"},d.a.createElement("div",{className:N.messageContainer},d.a.createElement("div",{className:N.body},d.a.createElement(E.FormattedMessage,s()({},A.bodyWithUserName,{values:{firstName:a}})))),d.a.createElement("div",null,d.a.createElement(_.a,{onClick:this.onGetExtension,kind:b.a.PRIMARY,"data-test-id":"cue-get-extension-button",title:e(A.getExtension)},d.a.createElement(E.FormattedMessage,A.getExtension)),d.a.createElement(_.a,{onClick:this.onMaybeLater,kind:b.a.CHROMELESS,"data-test-id":"cue-maybe-later-button",title:e(A.maybeLater)},d.a.createElement(E.FormattedMessage,A.maybeLater))))))}}r()(M,"contextTypes",{intl:E.intlShape.isRequired,config:l.a.object}),t.default=Object(f.a)(M)},function(e,t,a){"use strict";a.r(t),a.d(t,"ANIMATION_INTERVAL",function(){return x}),a.d(t,"resetThemeLocalDefaults",function(){return L}),a.d(t,"mapStateToProps",function(){return H}),a.d(t,"mapDispatchToProps",function(){return j}),a.d(t,"DisconnectedThemesCueV3",function(){return G});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1246),m=a(1232),_=a(13),u=a.n(_),p=a(1378),h=a.n(p),g=a(19),E=a(28),b=a(20),C=a(5),f=a(474),S=a(18),y=a(69),T=a(1308),N=a(1309),A=a(7),I=a(0),M=a(11),v=a(15),D=a(185),O=a.n(D),k=a(1357),R=a(64);let w=null,P=null;const x=1e3,F=1e3;function L(){w=null,P=null}const B=Object(c.defineMessages)({done:{id:"themes_cue.done",defaultMessage:"Done"},close:{id:"themes_cue.close",defaultMessage:"Close"},tryNow:{id:"themes_cue.trynow",defaultMessage:"Try now"},pickTheme:{id:"themes_cue.picktheme",defaultMessage:"Make your inbox your own by picking a theme."}});class U extends l.a.Component{constructor(e,t){super(e,t),s()(this,"updateThemeAndThemeMode",(e,t)=>{this.props.updateThemeAndThemeMode({updatedSettingAttributes:[{name:I.zd.THEME,value:e},{name:I.zd.THEME_MODE,value:t}]})}),s()(this,"updateTheme",e=>{if(w===e.currentTarget.value)return;w=e.currentTarget.value;const t={mKey:"cue_themesCueV3_updateThm",sec:A.g.FEATURE_CUE,interactionType:Object(S.j)(e)};this.setState({theme:w},()=>{this.updateThemeVariableStyles(w,this.state.themeMode),R.b.sendI13nModel(t)})}),s()(this,"updateThemeMode",e=>{if(P===e.currentTarget.value)return;P=e.currentTarget.value;const t={mKey:"cue_themesCueV3_updateThmMode",sec:A.g.FEATURE_CUE,interactionType:Object(S.j)(e)};this.setState({themeMode:P},()=>{this.updateThemeVariableStyles(this.state.theme,P),this.props.changeSettings({name:I.zd.THEME_MODE,value:P,i13nModel:t})})}),s()(this,"handleOuterScroll",()=>{this.handleOuterAction()}),s()(this,"handleOuterAction",()=>{this.setState({animated:!0}),this.timeout=setTimeout(()=>{this.setState({animated:!1})},x)}),s()(this,"onDone",e=>{const t=this.props,a=t.isReturningUser,n=t.hasMappedTheme;this.updateThemeAndThemeMode(w,P),setTimeout(()=>{this.props.onClose({i13nModel:{mKey:"cue_themesCueV3_success",interactionType:Object(S.j)(e),actionData:{isReturningUser:a,hasMappedTheme:n,finalThemeSelection:w}}})},0)}),s()(this,"onClose",e=>{const t=this.props,a=t.isReturningUser,n=t.hasMappedTheme;this.updateThemeAndThemeMode(w,P),setTimeout(()=>{this.props.onClose({i13nModel:{mKey:"cue_themesCueV3_close",interactionType:Object(S.j)(e),actionData:{isReturningUser:a,hasMappedTheme:n,finalThemeSelection:w}}})},0)}),w=w||t.getTheme(),P=P||t.getThemeMode(),this.state={animated:!1,theme:w,themeMode:P}}componentDidMount(){this.handleOuterScroll=O()(this.handleOuterScroll,F),window.addEventListener("wheel",this.handleOuterScroll)}updateThemeVariableStyles(e,t){document.getElementById("themer").innerHTML=Object(k.a)(e,t)}render(){const e=this.context.intl.formatMessage,t=this.onClose,a=this.updateTheme,n=this.updateThemeMode,s=this.onDone,i=this.handleOuterAction,r=this.props,o=r.userDisplayName,m=r.isReturningUser,_=r.hasMappedTheme,p=r.photoThemes,S=r.partnerBrand,y=this.state,A=y.animated,I=y.theme,M=y.themeMode,v=u()(h.a,{animated:A});return l.a.createElement(d.a,{onClose:t,onOuterClick:i,kind:f.a.LIGHT,ariaLabelledBy:"themes-cue-title",ariaDescribedBy:"themes-cue-description"},l.a.createElement("div",{className:v.container,"data-test-id":"themes-cue"},l.a.createElement("div",{className:v.separator}),l.a.createElement("div",{className:v.close},l.a.createElement(b.a,{onClick:t,kind:C.b.CLOSE,size:C.d.XS,title:e(B.close),"aria-label":e(B.close),"data-test-id":"themes-cue-close"})),l.a.createElement("div",{"data-test-id":"content",className:v.content},l.a.createElement("div",{className:v.heading,id:"themes-cue-title"},l.a.createElement(c.FormattedMessage,{id:"themes.cue_welcome_new_user",defaultMessage:"Welcome, {userDisplayName}!",values:{userDisplayName:o}})),l.a.createElement("div",{className:v.description,id:"themes-cue-description"},l.a.createElement(c.FormattedMessage,m?B.pickTheme:_?{id:"themes.cue_mapped_theme_msg",defaultMessage:"Based on your prior mailbox, we picked this theme just for you. We think youll love it."}:B.pickTheme)),l.a.createElement("div",{className:v.settingCover},l.a.createElement(T.a,{themeSetting:I,onChange:a,cueMode:!0,photoThemes:p,partnerBrand:S,liteVersion:!0})),l.a.createElement("div",{className:v.settingCover},l.a.createElement("div",{className:v.settings},l.a.createElement(N.a,{themeSetting:I,themeModeSetting:M,onChange:n,cueMode:!0,liteVersion:!0}))),l.a.createElement("div",{className:v.buttonContainer},l.a.createElement(g.a,{style:{height:"30px",lineHeight:"22px",width:"128px"},onClick:s,title:e(B.done),"data-test-id":"themes-cue-done",kind:E.a.SECONDARY,"aria-label":e(B.done),paddingLess:!0},l.a.createElement(c.FormattedMessage,B.done))))))}componentWillUnmount(){window.removeEventListener("wheel",this.handleOuterScroll),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}}s()(U,"contextTypes",{intl:c.intlShape,executeAction:r.a.func,getTheme:r.a.func,getThemeMode:r.a.func,config:r.a.object.isRequired,mailBrandNameString:r.a.string});const H=e=>{const t=(0,Object(M.b)(e).getFeaturesSelectors)();return{isReturningUser:t.isEnabled(I.ub.IS_RETURNING_USER),hasMappedTheme:t.isEnabled(I.ub.HAS_MAPPED_THEME),partnerBrand:t.getSetting(I.zd.PARTNER_BRAND)}},j=e=>({updateThemeAndThemeMode:t=>e(Object(y.n)(t)),changeSettings:t=>e(Object(y.b)(t))}),G=Object(m.a)(U);t.default=Object(m.a)(Object(v.connect)(H,j)(U))},function(e,t,a){"use strict";a.r(t);var n=a(1232),s=a(229);t.default=Object(n.a)(s.default)},function(e,t,a){"use strict";a.r(t),a.d(t,"ReConsentCue",function(){return o});a(8);var n=a(1),s=a.n(n),i=a(1232),r=a(7);class o extends s.a.Component{componentDidMount(){this.bannerIntervalId=setInterval(()=>{window.OathReConsent&&!1===window.OathReConsent.isActive&&this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:r.g.FEATURE_CUE,interactionType:r.d.click}})},1e3)}componentWillUnmount(){this.bannerIntervalId&&(this.bannerIntervalId=clearInterval(this.bannerIntervalId))}render(){return window.OathReConsent&&"function"==typeof window.OathReConsent.showBanner&&window.OathReConsent.showBanner(),null}}t.default=Object(i.a)(o)},function(e,t,a){"use strict";a.r(t),a.d(t,"LastPassFreeTrialUpsell",function(){return I}),a.d(t,"mapStateToProps",function(){return M});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(1379),d=a.n(c),m=a(11),_=a(15),u=a(6),p=a(0),h=a(19),g=a(28),E=a(116),b=a(314),C=a(1232),f=a(79),S=a(5),y=a(18),T=a(2),N=a(122);const A=Object(u.defineMessages)({header:{id:"lastpass_freetrial_header_text",defaultMessage:"Password overload?"},subheader:{id:"lastpass_freetrial_subheader_text",defaultMessage:"Let us help."},body:{id:"lastpass_freetrial_body_text",defaultMessage:"Never forget or mistype another password. As a part of the Yahoo family you get a free 30-day trial* of LastPass."},ctaText:{id:"lastpass_freetrial_cta_text",defaultMessage:"Try LastPass free*"},close:{id:"lastpass_freetrial_close",defaultMessage:"Close"}});class I extends l.a.Component{constructor(...e){super(...e),s()(this,"onExternalClick",()=>{const e=this.props;e.isCueActive&&this.props.onClose({i13nModel:{mKey:"cue_"+e.cueName+"_outerclick_close",interactionType:Object(y.j)(event)}})}),s()(this,"onClose",e=>{this.sendExternalClickEventOnUnmount=!1,this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:Object(y.j)(e)}})}),s()(this,"onTryNow",(e,t)=>{this.sendExternalClickEventOnUnmount=!1,this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(y.j)(t)}}),Object(N.a)(e)})}componentDidMount(){const e=this.props.lastpassFreeTrialUpsellSettings.impressionTracker;Object(E.a)(e,!1),this.sendExternalClickEventOnUnmount=!0}componentDidUpdate(){this.props.userInteractedWithMail&&(this.sendExternalClickEventOnUnmount=!1,this.onExternalClick())}componentWillUnmount(){this.sendExternalClickEventOnUnmount&&this.onExternalClick()}render(){const e=this.props.lastpassFreeTrialUpsellSettings,t=e.version,a=e.redirectUrl,n=this.context.intl.formatMessage,s=this.context.getCss(d.a,{version3:"VERSION_3"===t});return"VERSION_1"===t?null:l.a.createElement(b.a,null,l.a.createElement("div",{className:s.lastPassContainer},l.a.createElement("div",{className:s.purpleHeader},l.a.createElement("img",{className:s.logo}),l.a.createElement("div",{"data-test-id":"close-wrapper",className:s.closeWrapper},l.a.createElement(f.a,{"data-iskeynav":!0,"data-test-id":"cue-close-button",kind:S.b.CLOSE,size:S.d.XS,onClick:this.onClose,title:n(A.close),colorStates:{normal:S.a.WHITE,hovered:S.a.INVERTED_DIM}}))),l.a.createElement("div",{className:s.lastPassContent},l.a.createElement("div",{className:s.lastPassTextContainer},l.a.createElement("div",{className:s.textContainer},l.a.createElement("span",{className:s.text},n(A.header),""),l.a.createElement("span",{className:s.text},n(A.subheader))),"VERSION_3"===t?l.a.createElement("span",{className:s.bodyTextContainer},n(A.body)):null,l.a.createElement(h.a,{title:n(A.ctaText),"data-test-id":"try-it-button",kind:g.a.PRIMARY,"aria-label":n(A.ctaText),marginLess:!0,overridingClass:s.ctaButton,onClick:this.onTryNow.bind(null,a)},n(A.ctaText))),"VERSION_3"===t?null:l.a.createElement("img",{className:s.image}))))}}I.contextTypes={intl:u.intlShape.isRequired,getCss:r.a.func};const M=e=>{const t=Object(m.b)(e),a=t.getAction,n=t.isFeatureEnabled;return{lastpassFreeTrialUpsellSettings:(0,t.getSetting)(p.zd.LASTPASS_FREETRIAL_UPSELL_SETTINGS),userInteractedWithMail:[T.Lh,T.di,T.Ub].indexOf(a().type)>=0,isCueActive:n(p.ub.LASTPASS_FREETRIAL_UPSELL)}};t.default=Object(C.a)(Object(_.connect)(M,null)(I))},function(e,t,a){"use strict";a.r(t),a.d(t,"OnboardingCue",function(){return D}),a.d(t,"mapStateToProps",function(){return O}),a.d(t,"mapDispatchToProps",function(){return k});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(15),d=a(6),m=a(1246),_=a(474),u=a(1232),p=a(18),h=a(1380),g=a.n(h),E=a(45),b=a(11),C=a(19),f=a(28),S=a(16),y=a(5),T=a(1251),N=a(0),A=a(173),I=a(475),M=a(7);const v=Object(d.defineMessages)({rewards_onboarding_username:{id:"rewards_onboarding_username",defaultMessage:"Hi {accountName}!"},rewards_onboarding_subtitle:{id:"rewards_onboarding_subtitle",defaultMessage:"Wanna earn points and redeem rewards for free?"},rewards_onboarding_title:{id:"rewards_onboarding_title",defaultMessage:"Hi! Wanna earn points and redeem rewards for free?"},rewards_onboarding_description:{id:"rewards_onboarding_description",defaultMessage:"{mailBrandingString} now launch Yahoo Rewards Program, check your mailbox every day and earn YPoints to redeem rewards."},rewards_cta_join_now:{id:"rewards_cta_join_now",defaultMessage:"Join Now"},rewards_cta_get_started:{id:"rewards_cta_get_started",defaultMessage:"Get Started"}});class D extends l.a.Component{constructor(...e){super(...e),s()(this,"getRapidEvent",(e,t)=>{const a=this.props.atosInfo.atosStatus;return{i13nModel:{mKey:e,interactionType:Object(p.j)(t),actionData:{atosStatus:a}}}}),s()(this,"onClose",e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_escape",e))}),s()(this,"buttonClick",e=>{const t=this.props,a=t.atosInfo,n=a.atosStatus,s=a.url,i=t.membershipRewardsIconToggled,r=t.tmrNavigateToAtos,o=t.cueName;n===N.fe.AGREED?((0,t.onClose)(this.getRapidEvent("cue_"+o+"_success",e)),i({name:N.dd.MEMBERSHIP_REWARDS})):(r({i13nModel:{mKey:M.e.TMR_NAVIGATE_TO_ATOS,sec:M.g.MEMBERSHIP_REWARDS,interactionType:M.d.click,actionData:{atosStatus:n,cueName:o}}}),window.open(s+`?.done=${encodeURIComponent(T.c)}&.src=${T.a[this.context.region]||"media-tw"}`,"_self"))})}render(){const e=this.props,t=e.accountName,a=e.atosInfo.atosStatus,n=this.context.getCss(g.a),s=this.context.intl.formatMessage,i=s(a===N.fe.AGREED?v.rewards_cta_get_started:v.rewards_cta_join_now),r="hk"===this.context.region?"/img/tmr_hk_onboarding_cue.svg":"/img/tmr_tw_onboarding_cue.svg";return l.a.createElement(m.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:_.a.DARK,ariaLabelledBy:"tmr-onboarding-cue",ariaDescribedBy:"tmr-onboarding-cue"},l.a.createElement("div",{"data-test-id":this.props.cueName,className:n.container},l.a.createElement("div",{className:n.close,onClick:this.onClose},l.a.createElement(S.b,{kind:y.b.CLOSE,size:y.d.XS,colorState:y.a.INHERITED})),l.a.createElement("img",{className:n.cueImg,src:Object(E.a)(r)}),l.a.createElement("div",{className:n.containerText},t?l.a.createElement("div",{className:n.containerTitle},l.a.createElement("span",{className:n.titleText},s(v.rewards_onboarding_username,{accountName:t})),l.a.createElement("span",null,s(v.rewards_onboarding_subtitle))):l.a.createElement("div",{className:n.containerTitle},s(v.rewards_onboarding_title)),l.a.createElement("div",{className:n.containerDescription},s(v.rewards_onboarding_description,{mailBrandingString:s(A.a.mailBrandName)})),l.a.createElement(C.a,{title:i,"data-test-id":"tmr-onboarding-cue-cta",kind:f.a.PRIMARY,"aria-label":i,marginLess:!0,overridingClass:n.ctaButton,onClick:this.buttonClick},i))))}}D.contextTypes={getCss:r.a.func,intl:d.intlShape,region:r.a.string};const O=e=>{const t=Object(b.b)(e),a=t.getSelectedAccountId,n=t.getMembershipRewardsSelectors;return{accountName:(0,(0,t.getAccountSelectors)().getAccountNameByAccountId)(a()),atosInfo:n().getAtosInfo()}},k=e=>({membershipRewardsIconToggled:t=>e(Object(I.b)(t)),tmrNavigateToAtos:t=>e(Object(I.d)(t))});t.default=Object(u.a)(Object(c.connect)(O,k)(D))},function(e,t,a){"use strict";a.r(t),a.d(t,"MessageBrief",function(){return f});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(15),d=a(6),m=a(613),_=a(345),u=a.n(_),p=a(7),h=a(10),g=a(0),E=a(17),b=a(11);const C=Object(d.defineMessages)({briefHeader:{id:"search.messages_brief_header",defaultMessage:"Messages"},openAll:{id:"search.open_all_messages",defaultMessage:"Open all messages"}});class f extends l.a.Component{constructor(...e){super(...e),s()(this,"handleMessageOpen",(e,{i13nModel:t})=>{t=Object.assign({mKey:p.e.RIGHT_RAIL_MSG_OPEN,sec:p.g.RIGHT_RAIL,mKeyGroup:p.f.open_msg},t),this.context.navigateTo({route:this.props.messageGroupRoutes[e.id],i13nModel:t})}),s()(this,"handleOpenAll",e=>{e.preventDefault(),this.context.navigateTo({route:this.props.route,i13nModel:{mKey:p.e.RIGHT_RAIL_MSG_OPEN_ALL,sec:p.g.RIGHT_RAIL,interactionType:p.d.click}})}),s()(this,"renderItem",e=>{const t=this.props;return l.a.createElement(m.a,{key:e,listId:t.listId,messageGroupId:e,route:t.messageGroupRoutes[e],isBriefView:!0,hideDateTime:!0,onDoubleClick:this.handleMessageOpen,onClick:this.handleMessageOpen,highlightSearchTerm:!0})}),s()(this,"renderList",()=>l.a.createElement("div",null,this.props.items.map(this.renderItem)))}render(){const e=this.props.route,t=this.context.intl.formatMessage,a=this.context.getCss(u.a,{isBriefView:!0});return l.a.createElement("div",{className:a.container,"data-test-id":"message-brief"},l.a.createElement("div",{className:a.list,"data-test-id":"message-brief-list"},l.a.createElement("div",{className:a.briefHeader},l.a.createElement("span",null,t(C.briefHeader))),l.a.createElement("div",{className:a.briefContent},this.renderList()),l.a.createElement("a",{className:a.briefFooter,href:this.context.getUrlFromRoute(e),"data-test-id":"btn-open-all-messages",title:t(C.openAll),onClick:this.handleOpenAll},l.a.createElement("span",{className:a.link},t(C.openAll)))))}}s()(f,"contextTypes",{navigateTo:r.a.func,executeAction:r.a.func,intl:d.intlShape.isRequired,getCss:r.a.func,getUrlFromRoute:r.a.func.isRequired});t.default=Object(c.connect)(e=>{const t=Object(b.b)(e),a=t.doesListExist,n=t.getFeaturesSelectors,s=t.getListItemIds,i=t.__patchV2MessageGroupItemId__,r=(0,t.getRoute)(),o=Object(h.w)(r),l=g.Pb.MESSAGES,c=Object(h.W)(o,{listContentType:l}),d=a(c)?s(c).slice(0,3):[],m={name:r.name,params:Object.assign({},r.params,{query:Object(h.Y)(c)})},_={},u=n().isEnabled(g.ub.CONVERSATIONS);return d.forEach(e=>{_[e]=Object(E.r)({item:i(e,c),listId:c,isConversationMode:u})}),{listId:c,messageGroupRoutes:_,route:m,items:d}})(f)},function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",function(){return c});var n=a(1),s=a.n(n),i=a(15),r=a(10),o=a(1284),l=a(11);const c=e=>{const t=(0,Object(l.b)(e).getRoute)();return{listId:Object(r.w)(t)}};t.default=Object(i.connect)(c)(e=>s.a.createElement(o.a,e))},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(15),r=a(10),o=a(1282),l=a(11);t.default=Object(i.connect)(e=>{const t=(0,Object(l.b)(e).getRoute)();return{listId:Object(r.w)(t)}})(e=>s.a.createElement(o.a,e))},function(e,t,a){"use strict";a.r(t),a.d(t,"AdBlockCoupons",function(){return S}),a.d(t,"mapStateToProps",function(){return y}),a.d(t,"mapDispatchToProps",function(){return T});var n=a(3),s=a.n(n),i=a(1),r=a.n(i),o=a(8),l=a.n(o),c=a(1538),d=a.n(c),m=a(11),_=a(15),u=a(6),p=a(65),h=a(66),g=a(7),E=a(0),b=a(42),C=a(204);const f=Object(u.defineMessages)({header:{id:"adBlockCoupons.header",defaultMessage:"Top deals from your inbox"}});class S extends i.Component{constructor(...e){super(...e),s()(this,"handleCouponClick",e=>{this.props.adBlockCouponClicked({i13nModel:{mKey:g.e.AD_BLOCK_COUPON_CLICKED,sec:g.g.RIGHT_RAIL,actionData:{domain:e.domain,email:e.email,url:e.originalLink}}})})}shouldComponentUpdate({coupons:e=[],isCompactSize:t}){const a=this.props,n=a.coupons;return!(void 0===n?[]:n).length&&e.length||a.isCompactSize!==t}renderCouponList(e){const t=this.props,a=t.isCompactSize;return t.coupons.map(t=>{const n=t.dealLink,s=t.domain,i=t.description,o=t.expirationTime,l=void 0===o?{}:o;return!n||l.dateDiff<0?null:r.a.createElement("a",{className:e.coupon,rel:"noreferrer",target:"_blank",href:n,"aria-hidden":!0,key:i,onClick:()=>this.handleCouponClick(t)},r.a.createElement("div",{className:e.image},r.a.createElement(p.d,{contact:{email:t.email},size:p.c.C}),a?r.a.createElement("span",{className:e.name},s):null),r.a.createElement("div",{className:e.content},a?null:r.a.createElement("span",{className:e.name},s),r.a.createElement("span",{className:e.description},i),r.a.createElement("span",{className:e.expiration},r.a.createElement(C.a,{daysUntilExpiry:l.dateDiff,isInferred:l.isInferred}))))})}render(){const e=this.context.intl.formatMessage,t=this.context.getCss(d.a,{isCompactSize:this.props.isCompactSize});return this.props.coupons&&this.props.coupons.length?r.a.createElement("div",{className:t.container,"data-test-id":"adblock-coupons"},r.a.createElement("h3",{className:t.header},e(f.header)),r.a.createElement("ul",{className:t.couponList},this.renderCouponList(t))):null}}S.contextTypes={intl:u.intlShape.isRequired,getCss:l.a.func,timezone:b.e};const y=e=>{const t=Object(m.b)(e),a=t.isNarrowScreen,n=t.isFeatureEnabled;return{coupons:(0,(0,t.getCouponsSelectors)().getAdBlockCoupons)(),isCompactSize:a()&&!n(E.ub.WIDE_RIGHT_RAIL)}},T=e=>({adBlockCouponClicked:t=>e(Object(h.a)(t))});t.default=Object(_.connect)(y,T)(S)},function(e,t,a){"use strict";a.r(t),a.d(t,"SubscriptionAd",function(){return C}),a.d(t,"mapStateToProps",function(){return f});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(11),m=a(0),_=a(15),u=a(65),p=a(19),h=a(1539),g=a.n(h),E=a(481);const b=Object(c.defineMessages)({header:{id:"subscriptionAd.defaultHeader",defaultMessage:"Other subscriptions you might like"}});class C extends l.a.Component{constructor(...e){super(...e),s()(this,"renderSubscriptionAdItem",e=>{if(!e||!e.pencilAd)return null;const t=this.context.getCss(g.a),a=e.pencilAd;return l.a.createElement("a",{className:t.item,key:a.clickUrl,href:a.clickUrl,rel:"noreferrer",target:"_blank"},l.a.createElement("div",{className:t.avator},l.a.createElement(E.a,{size:u.c.M,imageSrc:a.adImg})),l.a.createElement("div",null,l.a.createElement("div",{className:t.headline},a.adSource),l.a.createElement("div",{className:t.summary},a.adSummary),l.a.createElement(p.a,{marginLess:!0},a.callToAction)))})}render(){const e=this.context.intl.formatMessage,t=this.context.getCss(g.a),a=this.props.subscriptionAdData;return a.length?l.a.createElement("div",{className:t.container},l.a.createElement("div",{className:t.header},e(b.header)),a.map(e=>this.renderSubscriptionAdItem(e))):null}}s()(C,"contextTypes",{intl:c.intlShape.isRequired,getCss:r.a.func});const f=e=>{const t=Object(d.b)(e),a=t.getSetting;return{subscriptionAdData:(0,(0,t.getAdsSelectors)().getGeminiAdDataInArray)(a(m.zd.GEMINI_SECTION_IDS)[m.Db.SUBSCRIPTION])}};t.default=Object(_.connect)(f)(C)},function(e,t,a){"use strict";a.r(t),a.d(t,"RightRailNativeAd",function(){return p}),a.d(t,"mapStateToProps",function(){return h});var n=a(8),s=a.n(n),i=a(1),r=a.n(i),o=a(15),l=a(9),c=(a(42),a(11)),d=a(65),m=a(1540),_=a.n(m),u=a(481);class p extends i.Component{render(){const e=this.props.pencilAdData,t=e.adHeadline,a=e.adImg,n=e.adSummary,s=e.clickUrl,i=e.adSource,o=this.context.getCss(_.a,{narrowScreen:this.props.isNarrowScreen});return r.a.createElement("div",{className:o.container},r.a.createElement("a",{href:s,rel:"noreferrer",target:"_blank",className:o.header},r.a.createElement("div",{className:o.avator},a&&r.a.createElement(u.a,{size:d.c.M,imageSrc:a})),r.a.createElement("div",{className:o.headline},t)),r.a.createElement("div",{className:o.summary},n),r.a.createElement("a",{href:s,rel:"noreferrer",target:"_blank",className:o.source},i))}}const h=e=>{const t=Object(c.b)(e),a=t.getAdsSelectors,n=t.isNarrowScreen,s=(0,t.getRoute)(),i=Object(l.a)(s,"params.creativeId"),r=((0,a().getSponsoredAd)(i)||{}).pencilAd;return{isNarrowScreen:n(),pencilAdData:r}};p.contextTypes={getCss:s.a.func},t.default=Object(o.connect)(h)(p)},function(e,t,a){"use strict";a.r(t),a.d(t,"RelatedSearchesCard",function(){return T}),a.d(t,"mapStateToProps",function(){return N}),a.d(t,"mapDispatchToProps",function(){return A});var n=a(8),s=a.n(n),i=a(1),r=a.n(i),o=a(15),l=a(6),c=a(439),d=a(11),m=a(541),_=a(1541),u=a.n(_),p=a(7),h=a(0),g=a(22),E=a(122),b=a(16),C=a(5),f=a(24);const S=Object(l.defineMessages)({header:{id:"relatedSearchesCard.header",defaultMessage:"Learn more about {domainName}"},fallbackHeader:{id:"relatedSearchesCard.fallbackHeader",defaultMessage:"Learn more"}}),y={default:1,numberList:2,tagCard:3,hoverRow:4,cornerFold:5};class T extends i.Component{constructor(){super(),this.state={hoveredQuery:null}}onQueryClick(e,t){const a=this.props,n=a.handleRelatedSearchesCardClicked,s=a.styleVariation,i=a.emailAddress,r=a.addAdvertiserToQuery,o=a.contactName,l=-1===t.indexOf(o)&&r?`${o} ${t}`:t;e.preventDefault(),n({i13nModel:{mKey:p.e.RELATED_SEARCHES_CARD_CLICKED,sec:p.g.RIGHT_RAIL_RELATED_SEARCHES_CARD,interactionType:p.d.click,actionData:{query:l,emailAddress:i}}}),Object(E.a)(`https://search.yahoo.com/search?p=${encodeURIComponent(l)}&fr=amplify_m2s_rr&type=norrin_rr${y[s]}`)}renderQueryList(e,t){const a=this.props,n=a.relatedSearchesForDomain,s=a.styleVariation,i=this.state.hoveredQuery,o=this.context.getTheme(),l=g.j[o].COMPOSE_BUTTON_COLOR,c=t?"#188fff":l,d={backgroundColor:Object(f.a)(l,.4)},m={borderBottomColor:c},_={backgroundColor:Object(f.a)(l,.4)},u={display:"flex"};return t||(m.borderLeftColor=Object(f.a)(l,.4)),this.randomQueries=this.randomQueries||n.slice().sort(()=>.5-Math.random()).slice(0,5),this.randomQueries.map(a=>{const n=i===a.query;return r.a.createElement("li",{className:e.query,key:a.query,onClick:e=>this.onQueryClick(e,a.query),onMouseEnter:()=>this.setState({hoveredQuery:a.query}),onMouseLeave:()=>this.setState({hoveredQuery:null}),style:n&&!t&&"cornerFold"===s?_:{}},a.query,r.a.createElement("span",{className:e.searchIcon,style:n&&"tagCard"!==s&&"numberList"!==s?u:{}},r.a.createElement(b.b,{kind:C.b.SEARCH_MINI,size:C.d.XS,colorState:C.a.INHERITED})),r.a.createElement("span",{className:e.square,style:n&&!t?d:{}}),r.a.createElement("span",{className:e.corner,style:n?m:{}}))})}render(){const e=this.props,t=e.relatedSearchesForDomain,a=e.contactName,n=this.context.intl.formatMessage,s=a?n(S.header,{domainName:a}):n(S.fallbackHeader),i=this.context.getThemeMode()===g.h.LIGHT,o=this.context.getCss(u.a,{[i?this.props.styleVariation:`darkTheme_${this.props.styleVariation}`]:!0});return t&&t.length?r.a.createElement("div",{"data-test-id":"related-searches-card",className:o.container},r.a.createElement("h1",{className:o.header},s),r.a.createElement("ul",{className:o.queryList},r.a.createElement("span",{className:o.circle}),r.a.createElement("span",{className:o.webSearchIcon},r.a.createElement(b.b,{kind:C.b.SEARCH_WEB,size:C.d.XXXL,colorState:C.a.ICON_HOVER_BGCOLOR})),this.renderQueryList(o,i))):null}}T.contextTypes={getCss:s.a.func,intl:l.intlShape,getThemeMode:s.a.func,getTheme:s.a.func};const N=e=>{const t=Object(d.b)(e),a=t.getAdsSelectors,n=t.getContactSelectors,s=t.getSetting,i=t.isFeatureEnabled,r=((0,t.getParticipantInFocus)()||{}).email,o=a().getRelatedSearches,l=n().getContacts,c=o(),_=Object(m.a)(c,r),u=s(h.zd.RELATED_SEARCHES_CARD_STYLE),p=l();let g="";for(const e in p){const t=p[e],a=t.emails,n=t.name,s=void 0===n?"":n;if((void 0===a?[]:a).indexOf(r)>-1){g=s;break}}return{relatedSearchesForDomain:_,emailAddress:r,contactName:g,styleVariation:u,addAdvertiserToQuery:i(h.ub.ADVERTISER_RELATED_SEARCHES)}},A=e=>({handleRelatedSearchesCardClicked:t=>e(Object(c.a)(t))});t.default=Object(o.connect)(N,A)(T)},function(e,t,a){"use strict";a.r(t),a.d(t,"RetailerFilter",function(){return T});var n=a(3),s=a.n(n),i=a(1),r=a.n(i),o=a(8),l=a.n(o),c=a(15),d=a(11),m=a(6),_=a(65),u=a(1549),p=a.n(u),h=a(10),g=a(85),E=a(0),b=a(7),C=a(17),f=a(16),S=a(5);const y=Object(m.defineMessages)({header:{id:"retailer_filter.header",defaultMessage:"Filter by sender"},viewAll:{id:"retailer_filter.viewAll",defaultMessage:"View all"},viewLess:{id:"retailer_filter.viewLess",defaultMessage:"View less"},allRetailers:{id:"retailer_filter.allRetailers",defaultMessage:"All retailers"}});class T extends i.Component{constructor(){super(),this.handleRetailerClick=this.handleRetailerClick.bind(this)}handleRetailerClick({name:e,email:t,allRetailers:a}){const n=this.props,s=n.activeAccountId,i={mKey:b.e.RETAILER_FILTER_CLICKED,sec:b.g.RIGHT_RAIL,actionData:{retailer:e}};if(n.selectedRetailer===e||a)this.context.navigateTo({route:Object(C.w)(E.Kd.COUPONS,{accountIds:s}),i13nModel:i});else{const a={name:e,emailAddresses:[t],accountIds:s},n=Object(h.d)(Object(g.b)(E.Kd.COUPONS,a)),r=Object(h.Y)(n);this.context.navigateTo({route:{name:E.gd.SEARCH,params:{query:r}},i13nModel:i})}}renderRetailerList(e){const t=this.props,a=t.selectedRetailer,n=this.context.intl.formatMessage,s=[...t.retailers];return s.unshift({allRetailers:!0}),s.map(({name:t="",email:s="",allRetailers:i=!1})=>r.a.createElement("li",{className:!a&&i||t===a?e.retailerSelected:e.retailer,key:t,onClick:()=>this.handleRetailerClick({name:t,email:s,allRetailers:i})},r.a.createElement("div",{className:i?e.tagContainer:null},i?r.a.createElement("div",{className:e.tag},r.a.createElement(f.b,{kind:S.b.TAG_FILL,size:S.d.S,colorState:S.a.PURPLE})):r.a.createElement(_.d,{contact:{email:s},size:_.c.M})),r.a.createElement("span",{className:e.retailerName},i?n(y.allRetailers):t)))}render(){const e=this.context.getCss(p.a);return this.props.retailers&&this.props.retailers.length?r.a.createElement("div",{className:e.container,"data-test-id":"retailer-filter"},r.a.createElement("h2",{className:e.header},(0,this.context.intl.formatMessage)(y.header)),r.a.createElement("ul",{className:e.retailers},this.renderRetailerList(e))):null}}s()(T,"contextTypes",{getCss:l.a.func,intl:m.intlShape.isRequired,navigateTo:l.a.func.isRequired});t.default=Object(c.connect)(e=>{const t=Object(d.b)(e),a=t.getFormattedTopRetailers,n=t.getSelectedAccountId,s=(0,t.getRoute)(),i=s.params;let r="";if(s.name===E.gd.SEARCH&&i.query){const e=Object(h.x)(i.query);r=Object(h.y)(e)}return{retailers:a(),activeAccountId:n(),selectedRetailer:r}})(T)},function(e,t,a){"use strict";a.r(t),a.d(t,"RightPaneGroceriesList",function(){return R}),a.d(t,"mapDispatchToProps",function(){return w}),a.d(t,"mapStateToProps",function(){return P});var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(13),_=a.n(m),u=a(15),p=a(6),h=a(5),g=a(16),E=a(20),b=a(0),C=a(22),f=a(163),S=a(10),y=a(204),T=a(78),N=a(45),A=a(11),I=a(1550),M=a.n(I);const v=Object(N.a)("/img/empty_shopping_list.png"),D=Object(N.a)("/img/grocery_background.png"),O=Object(N.a)("/img/add_attachment.png"),k=Object(p.defineMessages)({header:{id:"right_pane_groceries_list.header",defaultMessage:"Shopping list"},print:{id:"right_pane_groceries_list.print",defaultMessage:"Print shopping list"},coupon:{id:"right_pane_groceries_list.coupon",defaultMessage:"Coupon"},save:{id:"right_pane_groceries_list.save",defaultMessage:"Save {info}"},empty_shopping_list_desc:{id:"right_pane_groceries_list.empty_shopping_list_decs",defaultMessage:'Your shopping list is empty. Click <img src="{urlPath}" width="18" class="{addImageClass}"/> to add your first item.'}});class R extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{expandOfferCardState:0,selectedItems:{}}),r()(this,"handlePrint",()=>{const e=this.props;(0,e.printOffers)({retailerId:e.retailerId})}),r()(this,"toggleOfferCardState",e=>{const t=this.state,a=t.expandOfferCardState,n=t.selectedItems;let s;n[e]?(s=a-1,n[e]=!1):(s=a+1,n[e]=!0),this.setState({selectedItems:n,expandOfferCardState:s})})}render(){const e=this.props,t=e.activatedOffers,a=e.linked,n=e.listContentType,i=this.state,r=i.expandOfferCardState,o=i.selectedItems,l=this.context.intl.formatMessage,c=this.context.getThemeMode()!==C.h.LIGHT,m=!t.length||!a,u=_()(M.a,{expandedCardState:!!r,emptyShoppingList:m,darkThemeMode:c});return d.a.createElement("div",{"aria-hidden":!0,className:u.cart,"data-test-id":"right-rail-groceries-cart"},d.a.createElement("div",{className:u.titleContainer},d.a.createElement("div",{className:u.title},l(k.header)),m?null:d.a.createElement("div",{className:u.print,onClick:this.handlePrint},d.a.createElement(E.a,{ariaLabel:l(k.print),colorState:h.a.FIRST_LEVEL_GRAY,kind:h.b.PRINTER,paddingLess:!0,size:h.d.XXS,title:l(k.print)}))),d.a.createElement("div",{className:u.thumbnailsContainer},m?d.a.createElement("div",null,d.a.createElement("div",{className:u.emptyImageContainer},d.a.createElement("img",{src:v,className:u.emptyImage}),d.a.createElement("img",{src:D,className:u.groceryBackgroundImage})),d.a.createElement("div",{className:u.emptyText},d.a.createElement(p.FormattedHTMLMessage,s()({},k.empty_shopping_list_desc,{values:{urlPath:O,addImageClass:u.addImage}})))):null,a?t.map((e,t)=>d.a.createElement("div",{key:t,className:u.item,onClick:()=>this.toggleOfferCardState(e.offerId)},d.a.createElement("div",{className:u.left},d.a.createElement("img",{className:u.itemImage,"data-test-id":"thumbnail",onError:e=>Object(f.a)(e,b.Wc),src:e.imageUrl}),d.a.createElement("div",{className:u.overlayContainer},d.a.createElement("div",{className:u.overlay}))),d.a.createElement("div",{className:u.right},d.a.createElement("div",{className:u.saveContainer},d.a.createElement("div",{className:u.save},e.discountType===b.Xc.GETXFREE?e.offerValue:l(k.save,{info:e.offerValue})),d.a.createElement(g.b,{kind:h.b.CIRCLE,size:h.d.XXXS,colorState:h.a.FIRST_LEVEL_GRAY}),d.a.createElement("div",{className:u.coupon},l(k.coupon))),d.a.createElement("div",{className:u.brandName},e.brandName),o[e.offerId]?d.a.createElement("div",{className:u.cardDescription},e.description):null,d.a.createElement("div",{className:e.dateDiff<=1?u.redExpires:u.expires},d.a.createElement(y.a,{type:n,daysUntilExpiry:e.dateDiff}))))):null))}}r()(R,"contextTypes",{getThemeMode:l.a.func,intl:p.intlShape.isRequired});const w=e=>({printOffers:t=>e(Object(T.h)(t))}),P=e=>{const t=Object(A.b)(e),a=t.getActivatedOffersSelectors,n=t.getRetailersSelectors,s=t.getRoute,i=Object(S.w)(s()),r=n().isLinkedRetailer,o=Object(S.t)(i),l=Object(S.y)(i),c=r(l),d=Object(S.W)(i,{listFilter:b.Qb.ACTIVATED_OFFER_CARDS});return{activatedOffers:(0,a().getActivatedOfferStreamItems)(d).reverse(),linked:c,listContentType:o,retailerId:l}};t.default=Object(u.connect)(P,w)(R)},function(e,t,a){"use strict";a.r(t),a.d(t,"RightRailSavedDeals",function(){return T});var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(15),u=a(5),p=a(16),h=a(0),g=a(10),E=a(11),b=a(1286),C=a(1551),f=a.n(C),S=a(19);const y=Object(m.defineMessages)({header:{id:"coupon_separator_saved",defaultMessage:"Saved deals"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"},onboarding:{id:"saved_deals.onboarding",defaultMessage:"Find your saved deals here"}});class T extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{expanded:!1}),r()(this,"toggleView",()=>{this.setState({expanded:!this.state.expanded})}),r()(this,"renderCouponList",e=>{const t=this.state.expanded?this.props.savedDeals:this.props.savedDeals.slice(0,3);return d.a.createElement("div",{className:e.list},t.map(t=>d.a.createElement(b.a,s()({overrideClassNames:{container:e.item},key:t.id},t))))}),r()(this,"renderDealPlaceholder",e=>d.a.createElement("div",{className:e.item},d.a.createElement("div",{className:e.link},d.a.createElement("div",{className:e.avatar}),d.a.createElement("span",{className:e.content},d.a.createElement("span",{className:e.fromName}),d.a.createElement("span",{className:e.description}),d.a.createElement("span",{className:e.expiration}))),d.a.createElement(S.a,{className:e.clippedButton},d.a.createElement(p.b,{"aria-hidden":!0,kind:u.b.SCISSORS,size:u.d.XS,colorState:u.a.INVERTED})))),r()(this,"renderOnboarding",e=>d.a.createElement("div",{"data-test-id":"saved-deals-onboarding"},d.a.createElement("div",{className:e.onboarding},this.context.intl.formatMessage(y.onboarding)),d.a.createElement("div",{className:e.arrowContainer},d.a.createElement("div",{className:e.arrow})),this.renderDealPlaceholder(e))),r()(this,"renderExpandButton",e=>{return d.a.createElement("div",{onClick:this.toggleView,className:e.expandButton},(0,this.context.intl.formatMessage)(this.state.expanded?y.viewLess:y.viewMore),d.a.createElement(p.b,{kind:u.b.CHEVRON_UP,size:u.d.XS,rotate:this.state.expanded?u.c.D0:u.c.D180,colorState:u.a.INHERITED}))})}render(){const e=this.context.intl.formatMessage,t=this.context.getCss(f.a);return d.a.createElement("div",{className:t.container},d.a.createElement("div",{className:t.header},e(y.header)),this.props.savedDeals.length?this.renderCouponList(t):this.renderOnboarding(t),this.props.savedDeals.length>3?this.renderExpandButton(t):null)}}T.contextTypes={intl:m.intlShape.isRequired,getCss:l.a.func};t.default=Object(_.connect)(e=>{const t=Object(E.b)(e),a=t.getSelectedAccountId;return{savedDeals:(0,(0,t.getCouponsSelectors)().getCouponCardStreamItems)(Object(g.e)({listFilter:h.Qb.SAVED_COUPON_CARDS,referrer:h.Id.COUPONS,accountIds:[a()]}))}})(T)},function(e,t,a){"use strict";a.r(t),a.d(t,"BreakingNewsOnRightRail",function(){return y}),a.d(t,"mapStateToProps",function(){return T}),a.d(t,"mapDispatchToProps",function(){return N});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(1552),d=a.n(c),m=a(16),_=a(5),u=a(7),p=a(15),h=a(11),g=a(0),E=a(142),b=a(296),C=a(6);const f=Object(C.defineMessages)({latestNewsTitle:{id:"latest.news.title",defaultMessage:"Read the latest news on Yahoo! News"}}),S="https://news.yahoo.com/";class y extends l.a.Component{constructor(...e){super(...e),s()(this,"onNewsClick",()=>{const e=this.props,t=e.newsArticle;let a={};(0,e.breakingNewsClicked)({i13nModel:a=e.breakingNewsVersion===g.B.VERSION_5&&!t.title?{mKey:u.e.LATEST_NEWS_CLICKED,sec:u.g.BREAKING_NEWS}:{mKey:u.e.BREAKING_NEWS_CLICKED,sec:u.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})}),s()(this,"onClose",()=>{const e=this.props,t=e.newsArticle;(0,e.breakingNewsDismissed)({i13nModel:{mKey:u.e.BREAKING_NEWS_DISMISSED,sec:u.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})}),s()(this,"getTitle",()=>{const e=this.props,t=e.newsArticle;return e.breakingNewsVersion===g.B.VERSION_4?t.title:t.title||(0,this.context.intl.formatMessage)(f.latestNewsTitle)})}componentDidMount(){const e=this.props,t=e.newsArticle,a=e.breakingNewsRendered;this._breakingNewsRenderedTimer=setTimeout(()=>{a({i13nModel:{mKey:u.e.BREAKING_NEWS_RENDERED,sec:u.g.BREAKING_NEWS,actionData:{id:t.id,title:t.title,severity:t.severity}}})},0)}componentWillUnmount(){this._breakingNewsRenderedTimer&&clearTimeout(this._breakingNewsRenderedTimer)}render(){const e=this.props,t=e.newsArticle,a=e.breakingNewsVersion,n=this.context.getCss(d.a),s=a===g.B.VERSION_5&&!t.title,i=this.getTitle();return l.a.createElement("div",{"data-test-id":"breaking-news-container",className:n.container},a===g.B.VERSION_4?l.a.createElement("div",{className:n.close,onClick:this.onClose},l.a.createElement(m.b,{kind:_.b.CLOSE,size:_.d.XXS,colorState:_.a.INHERITED})):null,l.a.createElement("div",{className:n.subContainer},l.a.createElement(b.a,{lastestNews:s,clickUrl:t.clickUrl,onClick:this.onNewsClick}),l.a.createElement("a",{rel:"noopener noreferrer",className:n.content,href:s?S:t.clickUrl,onClick:this.onNewsClick,target:"_blank",tabIndex:"-1","aria-label":i,title:i},l.a.createElement("div",{"data-test-id":"breaking-news-title",className:n.articleTitle},i),l.a.createElement(m.b,{kind:_.b.ARROW_UP,rotate:_.c.D90,size:_.d.XS,colorState:_.a.INHERITED}))),l.a.createElement("div",{className:n.footer}))}}y.contextTypes={getCss:r.a.func,intl:C.intlShape.isRequired};const T=e=>{const t=Object(h.b)(e),a=t.getSetting;return{newsArticle:(0,t.getBreakingNewsSelectors)().getNewsArticle(),breakingNewsVersion:a(g.zd.BREAKING_NEWS_VERSION)}},N=e=>({breakingNewsDismissed:t=>e(Object(E.b)(t)),breakingNewsClicked:t=>e(Object(E.a)(t)),breakingNewsRendered:t=>e(Object(E.e)(t))});t.default=Object(p.connect)(T,N)(y)},,function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return c});var n=a(1),s=a.n(n),i=a(6),r=a(856),o=a(0);const l=Object(i.defineMessages)({body:{id:"small_biz.cue_body",defaultMessage:"Your mailboxes are now available here."}});function c(){return s.a.createElement(r.default,{message:l.body,cueName:o.ub.SMALL_BIZ_CUE})}},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1257),m=a(0),_=a(17);const u=Object(c.defineMessages)({header:{id:"starred.cue_header",defaultMessage:"Star an email and easily come back to it later"},body:{id:"starred.cue_body",defaultMessage:"Keep track of your most important emails. View starred emails here."}});class p extends l.a.Component{constructor(...e){super(...e),s()(this,"openStarredSmartView",()=>{this.context.navigateTo({route:Object(_.w)(m.Kd.STARRED)})})}render(){return l.a.createElement(d.a,{headerText:u.header,bodyText:u.body,cueName:m.ub.STARRED_CUE,onTryNow:this.openStarredSmartView,onMayBeLater:()=>{},onShow:this.props.onShow,close:this.props.close})}}s()(p,"contextTypes",{navigateTo:r.a.func}),t.default=p},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1257),m=a(0),_=a(17);const u=Object(c.defineMessages)({header:{id:"photos.cue_header",defaultMessage:"View all the photos in your inbox in one place"},body:{id:"photos.cue_body",defaultMessage:"Click here to see every photo you've sent or received in this inbox."}});class p extends l.a.Component{constructor(...e){super(...e),s()(this,"openPhotosSmartView",()=>{this.context.navigateTo({route:Object(_.w)(m.Kd.PHOTOS)})})}render(){return l.a.createElement(d.a,{headerText:u.header,bodyText:u.body,cueName:m.ub.PHOTOS_CUE,onTryNow:this.openPhotosSmartView,onMayBeLater:()=>{},onShow:this.props.onShow,close:this.props.close})}}s()(p,"contextTypes",{navigateTo:r.a.func}),t.default=p},function(e,t,a){"use strict";a.r(t),a.d(t,"ShopRunnerViewCue",function(){return T}),a.d(t,"mapStateToProps",function(){return N});var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(15),u=a(45),p=a(122),h=a(0),g=a(12),E=a(11),b=a(1271);const C=`${Date.now()}_leftRail`,f=`https://www.shoprunner.com/oidc/yahoo?yh_affjid=${C}`,S={color:g.FIRST_LEVEL_GRAY,fontWeight:g.BOLD},y=Object(m.defineMessages)({header:{id:"shoprunner_cue.header",defaultMessage:"Did you pay for shipping?"},body:{id:"shoprunner_cue.body",defaultMessage:"{mailBrandNameString} users get free 2-day shipping and free returns at 100+ retailers through ShopRunner."},personalized_body:{id:"shoprunner_cue.personalized_body",defaultMessage:"Enjoy <b>free 2-day shipping</b> and <b>returns</b> at <b>{personalizedStores}</b> and <b>100+ other retailers</b>."},primary_button:{id:"shoprunner_cue.primary_button",defaultMessage:"Activate free shipping"},secondary_button:{id:"shoprunner_cue.secondary_button",defaultMessage:"Not now"},privacy_policy_terms:{id:"shoprunner_cue.privacy_policy_terms",defaultMessage:"By activating, you agree to ShopRunner's {terms} and {privacyPolicyText}."},privacy_policy:{id:"shoprunner_cue.privacy_policy",defaultMessage:"Privacy policy"},terms:{id:"shoprunner_cue.terms",defaultMessage:"Terms"}});class T extends d.a.Component{constructor(...e){super(...e),r()(this,"onTryButton",()=>{Object(p.a)(f)}),r()(this,"computeActionData",()=>({reason:{featurefamily:h.sb.IC,featurename:h.ub.SHOPRUNNER,upselltype:h.Dd.PURCHASES_VIEW,yh_affjid:C}}))}render(){const e=this.props,t=e.cueName,a=e.close,n=e.personalizedStores,i=e.showPersonalizedUpsell,r=e.useThirdGenerationLogo,o=this.context.mailBrandNameString,l={displayAccountName:e.accountName.split(" ").map(e=>e.charAt(0).toUpperCase()+e.substring(1))[0],mailBrandNameString:o,personalizedStores:n.join(", "),terms:d.a.createElement("a",{href:h.ae,style:S,target:"_blank"},d.a.createElement(m.FormattedMessage,y.terms)),privacyPolicyText:d.a.createElement("a",{href:h.Nc,style:S,target:"_blank"},d.a.createElement(m.FormattedMessage,y.privacy_policy))},c=s()({},i&&n.length>0?y.personalized_body:y.body,{values:l}),_=s()({},y.privacy_policy_terms,{values:l}),p=r?Object(u.a)("/img/shoprunner_yahoo_vertical_2x.png"):Object(u.a)("/img/shoprunner_yahoo.png");return d.a.createElement(b.a,{bodyText:c,cueName:t,headerText:y.header,onTryButton:this.onTryButton,mayBeLaterButtonText:y.secondary_button,close:a,extraText:_,cueVariant:h.ub.SHOPRUNNER_VIEW_CUE,tryButtonText:y.primary_button,pngImageUrl:p,smartViewCue:!1,computeActionData:this.computeActionData})}}r()(T,"contextTypes",{mailBrandNameString:l.a.string}),r()(T,"defaultProps",{personalizedStores:[]});const N=e=>{const t=Object(E.b)(e),a=t.getSelectedAccountId,n=t.getShopRunnerRetailersSelectors,s=t.isFeatureEnabled,i=(0,(0,t.getAccountSelectors)().getAccountNameByAccountId)(a()),r=n().getTopNPersonalizedStores,o=s(h.ub.SHOPRUNNER_PERSONALIZED_UPSELL),l=s(h.ub.USE_THIRD_GENERATION_LOGO);return{accountName:i,personalizedStores:r(3),showPersonalizedUpsell:o,useThirdGenerationLogo:l}};t.default=Object(_.connect)(N)(T)},function(e,t,a){"use strict";a.r(t),a.d(t,"DealsViewCue",function(){return m});var n=a(1),s=a.n(n),i=a(6),r=a(856),o=(a(8),a(15)),l=a(11),c=a(0);const d=Object(i.defineMessages)({new:{id:"dealsview_cue.new",defaultMessage:"New!"}});class m extends n.Component{render(){const e=this.props;return s.a.createElement(r.default,{cueName:e.cueName,message:d.new,onShow:e.onShow,close:e.isCouponsViewRoute})}}t.default=Object(o.connect)(e=>{const t=Object(l.b)(e);return{isCouponsViewRoute:(0,t.getSmartViewTypeFromRoute)((0,t.getRoute)())===c.Kd.COUPONS}})(m)},function(e,t,a){"use strict";a.r(t),a.d(t,"GroceryViewCue",function(){return C}),a.d(t,"mapStateToProps",function(){return f}),a.d(t,"mapDispatchToProps",function(){return S});var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(15),u=a(210),p=a(0),h=a(17),g=a(11),E=a(1271);const b=Object(m.defineMessages)({header_text:{id:"grocery_view_cue.header_text",defaultMessage:"Shop at {retailerName}?"},body_text:{id:"grocery_view_cue.body_text",defaultMessage:"Get <b>discounts at the {retailerName} store</b> by adding coupons in Yahoo Mail"},primary_button_text:{id:"grocery_view_cue.primary_button_text",defaultMessage:"Get started"},secondary_button_text:{id:"grocery_view_cue.secondary_button_text",defaultMessage:"View other stores"}});class C extends d.a.Component{constructor(...e){super(...e),r()(this,"onMayBeLater",()=>{const e=this.props,t=e.accountIds,a=e.retailerId;this.context.navigateTo({route:e.isYM6GroceryEnabled?Object(h.w)(p.Kd.GROCERIESV2,{accountIds:t,name:a}):Object(h.w)(p.Kd.GROCERIES,{accountIds:t})})}),r()(this,"onTryButton",()=>{this.props.openLinkModal({retailerId:this.props.retailerId,parentName:"leftrailcue"})}),r()(this,"computeActionData",e=>{const t={reason:{featurefamily:p.sb.IC,featurename:p.ub.QUOTIENT,retailername:this.props.retailerName,upselltype:"sidebar",origin:"leftrailcue"}};return-1!==e.indexOf("click")&&(t.reason.actiontype="success"),-1!==e.indexOf("later")&&(t.reason.actiontype="reject"),-1!==e.indexOf("success_sec")&&(t.reason.actiontype="success_sec"),t})}render(){const e=this.props,t=e.brandImage,a=e.cueName,n={retailerName:e.retailerName};return d.a.createElement(E.a,{bodyText:s()({},b.body_text,{values:n}),computeActionData:this.computeActionData,cueName:a,groceriesSmartView:!0,headerText:s()({},b.header_text,{values:n}),mayBeLaterButtonText:b.secondary_button_text,onMayBeLater:this.onMayBeLater,onTryButton:this.onTryButton,pngImageUrl:t,tryButtonText:b.primary_button_text})}}r()(C,"contextTypes",{navigateTo:l.a.func});const f=e=>{const t=Object(g.b)(e),a=t.isFeatureEnabled;return{accountIds:[(0,t.getSelectedAccountId)()],isYM6GroceryEnabled:a(p.ub.ENABLE_YM6_GROCERY)}},S=e=>({openLinkModal:t=>e(Object(u.b)(t))});t.default=Object(_.connect)(f,S)(C)},,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"AttachFilesMenu",function(){return S});var n=a(3),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(1569),l=a.n(o),c=a(13),d=a.n(c),m=a(99),_=a(59),u=a(34),p=a(28),h=a(19),g=a(16),E=a(6),b=a(5);const C=d()(l.a),f=Object(E.defineMessages)({attachFromGDrive:{id:"compose.attach_file_from_gdrive",defaultMessage:"Share files from Google Drive"},attachFromDropbox:{id:"compose.attach_file_from_dropbox",defaultMessage:"Share files from Dropbox"},attachFromRecentEmails:{id:"compose.attach_file_from_recent_emails",defaultMessage:"Attach files from recent emails"},attachFromComputer:{id:"compose.attach_file_from_computer",defaultMessage:"Attach files from computer"}});class S extends r.a.Component{render(){const e=this.props,t=e.handleEscape,a=e.handleAttachFromGDrive,n=e.handleAttachFromDropbox,s=e.handleAttachFromRecentEmails,i=e.handleAttachFromComputer,o=this.context.intl.formatMessage,l=o(f.attachFromGDrive),c=o(f.attachFromDropbox),d=o(f.attachFromRecentEmails),E=o(f.attachFromComputer);return r.a.createElement("div",{className:C.popoverContent},r.a.createElement(_.a,{kind:m.a.MENU,focusOnMount:!0,"data-test-id":"attach-files-menu",key:"attach-files-menu",circularNavigation:!0,onEscape:t},r.a.createElement(u.a,{name:"attach-from-gdrive","data-test-id":"attach-from-gdrive",title:l,onClick:a},r.a.createElement(h.a,{overridingClass:C.listItem,kind:p.a.MENUITEM},r.a.createElement(g.b,{kind:b.b.DRIVE,colorState:b.a.NORMAL,size:b.d.XS}),r.a.createElement("span",{className:C.label},l))),r.a.createElement(u.a,{name:"attach-from-dropbox","data-test-id":"attach-from-dropbox",title:c,onClick:n},r.a.createElement(h.a,{overridingClass:C.listItem,kind:p.a.MENUITEM},r.a.createElement(g.b,{kind:b.b.DROPBOX,colorState:b.a.NORMAL,size:b.d.XS}),r.a.createElement("span",{className:C.label},c))),r.a.createElement(u.a,{name:"attach-from-recent-emails","data-test-id":"attach-from-recent-emails",title:d,onClick:s},r.a.createElement(h.a,{overridingClass:C.listItem,kind:p.a.MENUITEM},r.a.createElement(g.b,{kind:b.b.ATTACH_DOC,colorState:b.a.NORMAL,size:b.d.XS}),r.a.createElement("span",{className:C.label},d))),r.a.createElement(u.a,{className:C.separator}),r.a.createElement(u.a,{name:"attach-from-computer","data-test-id":"attach-from-computer-list-btn",title:E,onClick:i},r.a.createElement(h.a,{overridingClass:C.listItem,kind:p.a.MENUITEM},r.a.createElement(g.b,{kind:b.b.DESKTOP_ATTACHMENT,colorState:b.a.NORMAL,size:b.d.XS}),r.a.createElement("span",{className:C.label},E)))))}}s()(S,"contextTypes",{intl:E.intlShape.isRequired}),t.default=S},,function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",function(){return N}),a.d(t,"mapDispatchToProps",function(){return A}),a.d(t,"disconnectedReplySuggestions",function(){return I});var n=a(31),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(1590),u=a.n(_),p=a(13),h=a.n(p),g=a(7),E=a(18),b=a(71),C=(a(42),a(441)),f=a(11);const S=h()(u.a),y=g.g.MSG_BODY;class T extends d.a.Component{constructor(e){super(e),r()(this,"handleSmartReply",e=>{e.preventDefault(),e.stopPropagation();const t=this.props,a=t.messageGroupId,n=t.message,s=e.target.innerText,i={mKey:g.e.MSG_SMART_REPLY,sec:y,mKeyGroup:g.f.smartReply,interactionType:Object(E.j)(e)};this.context.executeAction(b.v,{messageGroupId:a,message:n,selectedReplySuggestion:s,i13nModel:i})}),this.handleSmartReply=this.handleSmartReply.bind(this)}componentDidMount(){this.props.isFromOwnAccount||(this.fetchReplySuggestionsTimer=setTimeout(()=>this.props.fetchReplySuggestions({messageId:this.props.message.id}),0))}componentWillUnmount(){this.fetchReplySuggestionsTimer&&clearTimeout(this.fetchReplySuggestionsTimer)}render(){const e=this.props.replySuggestions;return e&&e.length>0?d.a.createElement("div",{"data-test-id":"smart-reply-container",className:S.replySuggestionsContainer},e.map(({reply:e,rank:t})=>d.a.createElement("div",{key:t,className:S.replyItem,onClick:this.handleSmartReply},e))):null}}T.contextTypes={executeAction:l.a.func.isRequired};const N=(e,t)=>{const a=Object(f.b)(e),n=a.getCurrentListId,i=a.getReplySuggestionSelectors,r=a.getSubjectAndSnippetSelectors,o=a.isMyEmailAddress,l=t.message,c=(0,a.getMessagesSelectors)().getFromAddresses(l.id),d=s()(c,1)[0],m=(void 0===d?{}:d).email,_=o(void 0===m?"":m),u=n(),p=r().getSnippet(l.id,u);return{replySuggestions:i().getSuggestionsBySnippet(p),isFromOwnAccount:_}},A=e=>({fetchReplySuggestions:t=>e(Object(C.a)(t))}),I=T;t.default=Object(m.connect)(N,A)(T)},function(e,t,a){"use strict";a.r(t),a.d(t,"MessageToolbarMoreMenuItems",function(){return O}),a.d(t,"mapStateToProps",function(){return k}),a.d(t,"mapDispatchToProps",function(){return R});var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(15),d=a(59),m=a(34),_=a(19),u=a(28),p=a(99),h=a(6),g=a(569),E=a.n(g),b=a(13),C=a.n(b),f=a(95),S=a(11),y=a(0),T=(a(42),a(420)),N=a(68),A=a.n(N),I=a(7),M=a(18),v=a(1154);const D=C()(E.a);class O extends l.a.Component{constructor(...e){super(...e),s()(this,"handleBlockSenders",e=>{e.stopPropagation(),this.props.onBlockSenders(this.props.emailIds)}),s()(this,"handleUnBlock",e=>{const t=this.props,a=t.blockedSenders,n=t.emailIds,s=A()(a.filter(e=>n[0]!==e));this.props.handleUnBlockSenders({blockSenders:s,delta:-1,i13nModel:{mKey:I.e.UNBLOCK_SENDERS_SUBMIT,sec:I.g.MSG_BODY,interactionType:Object(M.j)(e)}})}),s()(this,"renderBlockSendersMenuItem",()=>{const e=this.props,t=e.blockedSendersApiCallStatus;return e.enableBlockSendersAction?l.a.createElement(m.a,null,e.isSenderBlocked?l.a.createElement(_.a,{onClick:this.handleUnBlock,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"unblock_sender_message",defaultMessage:"Unblock sender"})):l.a.createElement(_.a,{onClick:this.handleBlockSenders,kind:u.a.MENUITEM,disabled:t!==y.bd.LOADED},l.a.createElement(h.FormattedMessage,{id:"block_sender_message",defaultMessage:"Block sender"}))):null})}componentDidMount(){this.props.blockSendersFeatureEnabled&&this.props.blockedSendersApiCallStatus!==y.bd.LOADED&&this.props.fetchBlockedSenders()}render(){const e=this.props,t=e.onDelete,a=e.onRawMessage,n=e.onPrint,s=e.message,i=e.unsubscribeFromMessageFeatureEnabled;return l.a.createElement("div",{className:D.popoverContent},l.a.createElement(d.a,{kind:p.a.MENU,focusOnMount:!0,"data-test-id":"folder-menu",key:"folder-menu",circularNavigation:!1},l.a.createElement(m.a,null,l.a.createElement(_.a,{onClick:e.onArchive,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"archive_message",defaultMessage:"Archive"}))),l.a.createElement(m.a,{name:"message-toolbar-delete","data-test-id":"message-toolbar-delete"},l.a.createElement(_.a,{onClick:t,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"delete_message",defaultMessage:"Delete message"}))),this.renderBlockSendersMenuItem(),i&&l.a.createElement(m.a,{name:"unsubscribe-message"},l.a.createElement(v.default,{message:s,menuMode:!0})),l.a.createElement(m.a,{className:D.separator}),l.a.createElement(m.a,{name:"raw-message","data-test-id":"raw-message"},l.a.createElement(_.a,{onClick:a,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"raw_message",defaultMessage:"View raw message"}))),l.a.createElement(m.a,{name:"print-message","data-test-id":"print-message"},l.a.createElement(_.a,{onClick:n,kind:u.a.MENUITEM},l.a.createElement(h.FormattedMessage,{id:"print_message_card",defaultMessage:"Print"})))))}}s()(O,"contextTypes",{executeAction:r.a.func,intl:h.intlShape.isRequired});const k=(e,{message:t})=>{const a=Object(S.b)(e),n=a.isFeatureEnabled,s=a.getSetting,i=a.getSettingsSelectors,r=a.getParticipant,o=a.canDisplayBlockSenderMenuItemForMessageId,l=n(y.ub.BLOCK_SENDERS),c=n(y.ub.UNSUBSCRIBE_FROM_MESSAGE);let d=!1,m=!1;const _=[],u=i().getBlockedSendersApiCallStatus;let p=y.bd.LOADING,h=[];if(l){const e=r(t.id);h=s(y.zd.DELIVERY_BLOCKED_SENDERS),p=u(),d=o(t.id)&&h.length<y.Ad.blockedSenders,m=e&&e.email&&!!h.find(t=>t===e.email),d&&_.push(e.email)}return{blockSendersFeatureEnabled:l,unsubscribeFromMessageFeatureEnabled:c,enableBlockSendersAction:d,blockedSendersApiCallStatus:p,isSenderBlocked:m,blockedSenders:h,emailIds:_}},R=e=>({fetchBlockedSenders:t=>e(Object(f.k)(t)),handleUnBlockSenders:t=>e(Object(T.b)(t))});t.default=Object(c.connect)(k,R)(O)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return c});var n=a(1),s=a.n(n),i=(a(8),a(6)),r=a(856),o=a(0);const l=Object(i.defineMessages)({body:{id:"search_relevance_cue.body",defaultMessage:"You can also try sorting by relevance"}});function c({close:e}){return s.a.createElement(r.default,{message:l.body,cueName:o.ub.SEARCH_RELEVANCE_CUE,close:e,animate:!0})}},function(e,t,a){"use strict";a.r(t),a.d(t,"DocumentList",function(){return x}),a.d(t,"mapDispatchToProps",function(){return F}),a.d(t,"mapStateToProps",function(){return L});var n=a(23),s=a.n(n),i=a(4),r=a.n(i),o=a(3),l=a.n(o),c=a(8),d=a.n(c),m=a(1),_=a.n(m),u=a(6),p=a(1260),h=a(490),g=a(1261),E=a.n(g),b=a(13),C=a.n(b),f=a(12),S=a(311),y=a(17),T=a(7),N=a(47),A=a(62),I=a(15),M=a(11),v=a(0),D=a(191),O=a(130),k=a(492),R=a(42);const w=C()(E.a),P=50;class x extends _.a.Component{constructor(...e){super(...e),l()(this,"renderItem",e=>{const t=e.attachment;return _.a.createElement(p.a,{key:t.id,item:e,route:this.props.messageGroupRoutes[t.id],onMessageOpen:this.handleMessageOpen,onForward:this.forwardAttachmentByEmail,onAttachmentOpen:this.handleOnAttachmentOpen,onDownload:this.handleDownload,onClick:this.handlePreview,highlightSearchTerm:this.props.highlightSearchTerm,listId:this.props.listId,isDeleteEnabled:this.props.deleteFromDocumentsView,onDeletePreview:this.handleDeleteMessage})}),l()(this,"handleMessageOpen",(e,{i13nModel:t})=>{const a=Object(A.f)(e);this.context.navigateTo({route:this.props.messageGroupRoutes[e],hashParams:{messageId:a},itemId:e,i13nModel:Object.assign({mKey:T.e.DOC_READ_MSG,mKeyGroup:T.f.open_msg,sec:T.g.DOC_LIST},t),full:!0})}),l()(this,"handleCursorOpen",e=>{const t=this.props,a=t.items,n=t.cursorIndex;e.stopPropagation(),this.handlePreview(a[Math.max(n,0)].attachment,{i13nModel:{interactionType:T.d.nav}})}),l()(this,"handlePreview",(e,{i13nModel:t})=>{if(t=Object.assign({mKey:T.e.DOC_OPEN,sec:T.g.DOC_LIST},t),!Object(N.m)(e))return this.context.executeAction(S.e,{i13nModel:t}),void window.open(e.downloadUrl,"_blank");const a=e.conversationId||e.id&&Object(A.f)(e.id);this.context.navigateTo({route:Object(y.e)(this.props.listId,a,e.id,{fullscreen:"1"}),itemId:e.id,i13nModel:t})}),l()(this,"forwardAttachmentByEmail",(e,t,a)=>{const n={csid:t,attachments:e?[e]:[],i13nModel:{mKey:T.e.DOC_SHARE,mKeyGroup:T.f.compose,sec:T.g.DOC_LIST,interactionType:T.d.click}};if(a)return this.context.navigateTo(r()({},n,{route:a}));this.props.forwardAttachments(n)}),l()(this,"handleOnAttachmentOpen",(e,{i13nModel:t})=>{t=Object.assign({mKey:T.e.DOC_OPEN_LINK,sec:T.g.DOC_LIST},t),this.context.executeAction(S.e,{i13nModel:t})}),l()(this,"handleDownload",e=>{this.props.handleDownload({attachment:e,i13nModel:{mKey:T.e.DOC_OPEN_LINK,sec:T.g.DOC_LIST,interactionType:T.d.click}})}),l()(this,"handleDeleteMessage",({attachmentId:e,i13nModel:t})=>{const a=this.props,n=a.listId,s=a.getConversationId,i=a.isConversationsMode,r=(0,a.getMessageIdForAttachmentId)(e),o=i?s(e):r;this.props.handleDeleteMessage({messageId:r,messageGroupId:o,listId:n,i13nModel:t}),this.renderDeletePreview({messageId:r,messageGroupId:o})}),l()(this,"renderDeletePreview",({messageId:e,messageGroupId:t})=>{Object(O.a)(_.a.createElement(k.a,{listId:this.props.listId,messageId:e,groupId:t}),this.context)})}render(){const e=Object.assign({},this.props,{hasAds:!1});return _.a.createElement("div",{className:w.documentList,"data-test-id":"virtual-list-container"},_.a.createElement(h.a,s()({onOpen:this.handleCursorOpen,renderItem:this.renderItem,getHeightForIndex:()=>f.DOCUMENT_ITEM_HEIGHT,getItemListSize:e=>e.length,getItemsForIndex:(e,t)=>e[t],getTimeStampFromItem:e=>e.attachment.creationDate,itemsToFetch:P},e)))}}l()(x,"contextTypes",{executeAction:d.a.func,navigateTo:d.a.func.isRequired,config:d.a.object,getStore:d.a.func.isRequired,intl:u.intlShape.isRequired,store:d.a.object.isRequired,timezone:R.e.isRequired,getTheme:d.a.func.isRequired,getThemeMode:d.a.func.isRequired,getCss:d.a.func.isRequired}),l()(x,"defaultProps",{highlightSearchTerm:!1});const F=e=>({handleDownload({attachment:t,i13nModel:a}){e(Object(S.b)({attachment:t,i13nModel:a}))},handleDeleteMessage(t){e(Object(D.c)(t))},forwardAttachments(t){e(Object(S.d)(t))}}),L=(e,t)=>{const a=Object(M.b)(e),n=a.getFeaturesSelectors,s=a.getMessageIdForAttachmentId,i=a.doesListExist,r=a.doesListHasMoreItems,o=(0,a.getAttachmentsSelectors)().getConversationId,l=n().isEnabled,c=l(v.ub.DELETE_FROM_DOCUMENTS_VIEW),d=l(v.ub.CONVERSATIONS);return{hasMoreItems:!!i(t.listId)&&r(t.listId),deleteFromDocumentsView:c,getMessageIdForAttachmentId:s,getConversationId:o,isConversationsMode:d}};t.default=Object(I.connect)(L,F)(x)},function(e,t,a){"use strict";a.r(t),a.d(t,"LoadingBar",function(){return p}),a.d(t,"mapStateToProps",function(){return h});var n=a(3),s=a.n(n),i=a(15),r=a(8),o=a.n(r),l=a(1),c=a.n(l),d=a(1596),m=a.n(d),_=a(0),u=a(11);class p extends c.a.Component{constructor(...e){super(...e),s()(this,"state",{loadingState:_.Sb.IDLE})}componentWillReceiveProps(e){e.forceSync&&this.setState({loadingState:_.Sb.START}),this.state.loadingState!==_.Sb.START||e.isListRefreshing()||this.setState({loadingState:_.Sb.FINISH})}render(){if(!this.props.enabled)return null;const e=this.context.getCss(m.a);return c.a.createElement("div",{className:(()=>{switch(this.state.loadingState){case _.Sb.START:return e.loadingBar;case _.Sb.FINISH:return e.loadingBarEnd}return""})(),"data-test-id":"loading-bar"})}}s()(p,"contextTypes",{getCss:o.a.func});const h=e=>{const t=Object(u.b)(e),a=t.isListRefreshing,n=t.getCurrentListId,s=t.isFeatureEnabled,i=(0,t.getAction)().forceSync,r=void 0!==i&&i,o=n();return{enabled:s(_.ub.RELOADING_BAR),forceSync:r,isListRefreshing:()=>a(o)}};t.default=Object(i.connect)(h)(p)},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(13),u=a.n(_),p=a(1600),h=a.n(p),g=a(69),E=a(169),b=a(103),C=a(420),f=a(41),S=a(42),y=a(1601),T=a.n(y),N=a(0),A=a(7),I=a(64),M=a(17),v=a(18),D=a(15),O=a(49),k=a(16),R=a(5),w=a(478),P=a(9),x=a(1602),F=a.n(x);const L=u()(F.a);function B(){return d.a.createElement("div",{"data-test-id":"settings-error",className:L.errorContainer},d.a.createElement("div",{className:L.errorWrapper},d.a.createElement("span",{"data-test-id":"settings-error-message",className:L.errorMessage},d.a.createElement("span",{className:L.warning},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.S,colorState:R.a.WARNING})),d.a.createElement(m.FormattedMessage,{id:"settings_fetch_failed",defaultMessage:"Your preferences failed to load at this time due to a temporary error. {retry}",values:{retry:d.a.createElement("a",{className:L.retryMessage,onClick:()=>{location.reload()},"data-test-id":"settings-error-retry"},d.a.createElement(m.FormattedMessage,{id:"settings_retry_message",defaultMessage:"Try Again"}))}}))))}var U=a(54),H=a(11),j=a(95);const G=u()(T.a),W=Object(m.defineMessages)({gotoInboxLabel:{id:"button.gotoInbox",defaultMessage:"Back to Inbox"}});class Z extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{active:this.props.selected,timezoneConflict:!1}),r()(this,"getMailboxSizeUsed",()=>{return(this.props.mailboxSize/10995116277.76+.005).toFixed(2)}),r()(this,"handleClick",(e,t)=>{t.preventDefault(),t.stopPropagation();const a={[N.Cd.FILTERS]:A.e.SETTINGS_LEFT_RAIL_FILTERS,[N.Cd.ACCOUNTS]:A.e.SETTINGS_LEFT_RAIL_ACCOUNTS,[N.Cd.NOTIFICATIONS]:A.e.SETTINGS_LEFT_RAIL_NOTIFICATIONS,[N.Cd.WRITING_EMAIL]:A.e.SETTINGS_LEFT_RAIL_WRITING_EMAILS,[N.Cd.VIEWING_EMAIL]:A.e.SETTINGS_LEFT_RAIL_VIEWING_EMAILS,[N.Cd.CATEGORIZATION]:A.e.SETTINGS_LEFT_RAIL_CATEGORIZATION,[N.Cd.AUTOMATIC_REPLY]:A.e.SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY,[N.Cd.PERSONALIZE_INBOX]:A.e.SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX,[N.Cd.SECURITY_AND_PRIVACY]:A.e.SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY,[N.Cd.SOCIAL_ACCOUNTS]:A.e.SETTINGS_LEFT_RAIL_SOCIAL_ACCOUNTS,[N.Cd.ENCRYPTION]:A.e.SETTINGS_LEFT_RAIL_ENCRYPTION,[N.Cd.MAIL_PRO]:A.e.SETTINGS_LEFT_RAIL_MAIL_PRO};this.context.navigateTo({route:Object(M.v)({settingsGroupId:e}),i13nModel:{mKey:a[e],sec:A.g.SETTINGS_LEFT_RAIL,interactionType:Object(v.j)(t)}})}),r()(this,"_goToAboutYahooMail",e=>{this.props.goToAboutYahooMail({event:e})}),r()(this,"_goToAdFreeMail",e=>{this.props.goToAdFreeMail({event:e})}),r()(this,"_goToFeedbackPage",e=>{this.props.giveFeedback({event:e})}),r()(this,"_goToHelpPage",e=>{this.props.goToHelpPage({event:e})}),r()(this,"_goToPrivacyTerms",e=>{this.props.goToPrivacyTerms({event:e})}),r()(this,"_goToAboutOurAds",e=>{this.props.goToAboutOurAds({event:e})}),r()(this,"handleLinkClick",(e,t)=>{const a=this.context.config;switch(e){case a.aboutYmailUrl:this._goToAboutYahooMail(t);break;case a.aboutAdsUrl:this._goToAboutOurAds(t);break;case a.adFreeMailUrl:this._goToAdFreeMail(t);break;case a.privacyUrl:case a.termsUrl:this._goToPrivacyTerms(t);break;case a.feedbackURL:this._goToFeedbackPage(t);break;case a.helpUrl:this._goToHelpPage(t)}}),r()(this,"renderLabel",(e,t)=>e.props.disabled?d.a.createElement("span",{className:t.tabNavText,title:e.props.title},e.props.title):d.a.createElement("a",{href:this.context.getUrlFromRoute({name:N.gd.SETTINGS,params:{settingsGroupId:e.props.groupId}}),className:t.tabNavText,onClick:this.handleClick.bind(this,""+e.props.groupId),title:e.props.title,"data-test-id":`settings-tab-${e.props.groupId}`},d.a.createElement("span",null,e.props.title),this.state.timezoneConflict&&!this.props.isTimezoneUpdating&&e.props.groupId===N.Cd.VIEWING_EMAIL?d.a.createElement("span",{className:G.rightAlign},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED})):null)),r()(this,"renderLink",(e,t)=>d.a.createElement("a",{href:e.props.linkTo,className:t.tabLinkText,target:e.props.selfTab?"_self":"_blank",onClick:this.handleLinkClick.bind(this,e.props.linkTo),title:e.props.title,rel:"noopener"},e.props.title)),r()(this,"renderTitles",(e,t)=>{if(!e)return;const a=u()(T.a,{disabled:e.props.disabled,selected:!e.props.linkTo&&e.props.groupId===""+this.state.active}),n=e.props.linkTo?this.renderLink(e,a):this.renderLabel(e,a);return d.a.createElement("li",{key:t,style:e.props.style,className:a.navLink},e.props.hideLink?null:n)}),r()(this,"renderFooter",()=>d.a.createElement("div",{className:G.footer},d.a.createElement("div",{className:G.footerContent},d.a.createElement("div",null,d.a.createElement("p",{className:G.quotaTotal},d.a.createElement(m.FormattedMessage,{id:"mailbox.maxStorage",defaultMessage:"1 TB of storage"})),d.a.createElement("p",{className:G.quotaUsed},d.a.createElement(m.FormattedMessage,{id:"mailbox.usedStorage",defaultMessage:"{size} % used",values:{size:this.getMailboxSizeUsed()}})))))),r()(this,"renderLoadingOrErrorPage",()=>{return this.props.settingsApiCallStatus===N.bd.LOADING?d.a.createElement("div",{className:G.loadingIndicator},d.a.createElement(U.b,null)):d.a.createElement(B,null)}),r()(this,"tabHeader",()=>{const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:G.arrowLeft,"data-test-id":"settings-back-button","aria-label":e(W.gotoInboxLabel),title:e(W.gotoInboxLabel),onClick:this.goToInbox},d.a.createElement(k.b,{kind:R.b.ARROW_UP,size:R.d.XS,rotate:R.c.D270,colorState:R.a.SELECTED}),d.a.createElement("span",{className:G.headerLink},e(W.gotoInboxLabel)))}),r()(this,"goToInbox",()=>{this.props.goToInbox({inboxFolderId:this.props.inboxFolderId})}),r()(this,"render",()=>{const e=this.state.active,t=this.props,a=t.children,n=t.settingsApiCallStatus,s=t.hasWideLogo,i=d.a.Children.toArray(a).find(t=>t.props.groupId===""+e);return d.a.createElement("div",{className:G.wrapper},d.a.createElement("div",{className:s?G.navContainerWide:G.navContainer},d.a.createElement("nav",{className:G.sidebar},this.tabHeader(),d.a.createElement("div",{className:G.linksContainer},d.a.createElement("div",{className:G.tabLinks},d.a.createElement("ul",{className:G.navLinks},d.a.Children.map(a,this.renderTitles)))),this.renderFooter())),n===N.bd.LOADED&&i?i:this.renderLoadingOrErrorPage())})}componentWillReceiveProps(e,t){const a=t.timezone.name,n=Object(w.e)(a);this.setState({timezoneConflict:n})}}r()(Z,"contextTypes",{config:l.a.object,executeAction:l.a.func,navigateTo:l.a.func,getUrlFromRoute:l.a.func.isRequired,timezone:S.e,intl:l.a.object.isRequired}),r()(Z,"defaultProps",{selected:0});const V=A.e.SETTINGS_LEFT_RAIL_AD_FREE,q=A.e.SETTINGS_FEEDBACK,z=A.e.SETTINGS_HELP,Y=A.e.SETTINGS_LEFT_RAIL_PRIVACY,K=A.e.SETTINGS_LEFT_RAIL_ABOUT_ADS,X=A.e.SETTINGS_LEFT_RAIL_ABOUT,Q=Object(I.a)(A.g.SETTINGS_LEFT_RAIL);var J=Object(D.connect)(e=>{const t=Object(H.b)(e),a=t.getFeaturesSelectors,n=t.getEnvironmentSelectors,s=t.getRoute,i=t.getMailboxSize,r=t.getDefaultFolderIdForSelectedAccount,o=(0,t.getSettingsSelectors)(),l=a(),c=n().getTimezoneUpdatingStatus(),d=o.getSettingsApiCallStatus();return{selected:s().params.settingsGroupId,isTimezoneUpdating:c,settingsApiCallStatus:d,hasWideLogo:l.isEnabled(N.zd.HAS_WIDE_LOGO),inboxFolderId:r(),mailboxSize:i()}},e=>({goToInbox:({inboxFolderId:t})=>e(Object(O.g)({inboxFolderId:t})),goToAdFreeMail:({event:t})=>e(Object(j.p)(Q({event:t,mKey:V}))),giveFeedback:({event:t})=>e(Object(j.m)(Q({event:t,mKey:q}))),goToHelpPage:({event:t})=>e(Object(j.q)(Q({event:t,mKey:z}))),goToPrivacyTerms:({event:t})=>e(Object(j.r)(Q({event:t,mKey:Y}))),goToAboutOurAds:({event:t})=>e(Object(j.n)(Q({event:t,mKey:K}))),goToAboutYahooMail:({event:t})=>e(Object(j.o)(Q({event:t,mKey:X})))}))(Z),$=a(1603),ee=a.n($);const te=u()(ee.a);function ae({children:e}){return d.a.createElement("article",{className:te.mainContent},e)}var ne=a(1604),se=a.n(ne),ie=a(1356),re=a(1605),oe=a.n(re),le=a(22),ce=a(112);const de="https://s.yimg.com/dh/ap/social/profile/profile_a64.png";function me({snippets:e,multiTaskModeSetting:t,previewPaneSetting:a,msgListDensity:n,cueMode:s=!1,logoUrl:i,themeSetting:r,themeModeSetting:o,useThirdGenerationLogo:l},c){const _=Object(ce.d)(s?7:15),u=a===N.Rc.RIGHT,p=o===le.h.DARK,h={useThirdGenerationLogo:l,snippets:e,previewPaneSetting:a,multiTaskModeSetting:t,verticalSnippets:e&&u,cueMode:s,darkModeNonPhotoTheme:!Object(le.o)(r)&&p,[`darkModePhotoTheme_${r}`]:Object(le.o)(r)&&p};u||Object.assign(h,{msgListDensity:n});const g=c.getCss(oe.a,h);return d.a.createElement("div",{className:g.previewWrapper},!s&&d.a.createElement("h4",{className:g.previewTitle,"data-test-id":"preview-header"},d.a.createElement(m.FormattedMessage,{id:"preview_section_header_text",defaultMessage:"Preview"})),d.a.createElement("div",{className:g.container},d.a.createElement("div",{className:g.headerWrapper},d.a.createElement("div",{className:g.header},d.a.createElement("div",{className:g.logoContainer},d.a.createElement("img",{className:g.logo,src:i})),d.a.createElement("div",{className:g.search},d.a.createElement("div",{className:g.searchBox}),d.a.createElement("div",{className:g.searchBtn}))),d.a.createElement("div",{className:g.tabContainer,"data-test-id":"settings-tabs"},d.a.createElement("ul",{className:g.tabs},d.a.createElement("li",{className:g.leftRailTabSpacer}),d.a.createElement("li",{className:g.tabItem}),d.a.createElement("li",{className:g.tabItemWhite}),d.a.createElement("li",{className:g.tabItem})))),d.a.createElement("div",{"data-test-id":"preview-main-content",className:g.mainContent},d.a.createElement("div",{"data-test-id":"preview-left-rail",className:g.rail}),d.a.createElement("div",{"data-test-id":"preview-message-list",className:g.messageList},d.a.createElement("div",{className:g.listItem},d.a.createElement("ul",{className:g.firstColumn,"data-test-id":"settings-message-list-preview"},_.map(e=>d.a.createElement("li",{key:e,className:g.messageListItem},d.a.createElement("div",{className:g.sender}),d.a.createElement("div",{className:g.firstColumnSnippet})))),d.a.createElement("ul",{className:g.secondColumn},_.map(t=>{const a=`${t%2*10+96}px`;return d.a.createElement("li",{key:t,className:g.messageListItem},d.a.createElement("div",{className:g.wrapper},d.a.createElement("div",{className:g.subject,style:{width:`${t%3*10+68}px`}}),e?d.a.createElement("div",{"data-test-id":"settings-snippets",className:g.secondColumnSnippet,style:{width:a}}):null))}))),d.a.createElement("div",{className:g.previewPane,"data-test-id":"settings-preview-pane"},d.a.createElement("img",{className:g.avatar,src:de}),d.a.createElement("div",null,d.a.createElement("ul",{className:g.messageItems},d.a.createElement("li",{className:g.messageViewItem}),d.a.createElement("li",{className:g.messageViewItem,style:{width:"90%"}}),d.a.createElement("li",{className:g.messageViewItem,style:{width:"60%"}}),d.a.createElement("li",{className:g.messageViewItem,style:{width:"20%"}}))))),d.a.createElement("div",{"data-test-id":"preview-right-rail",className:g.rail}))))}me.contextTypes={config:l.a.object,getCss:l.a.func};var _e=Object(D.connect)(e=>{return{useThirdGenerationLogo:(0,Object(H.b)(e).isFeatureEnabled)(N.ub.USE_THIRD_GENERATION_LOGO)}})(me);const ue=u()(se.a);class pe extends d.a.Component{render(){return d.a.createElement("div",{className:ue.container,"data-test-id":"personalize-inbox-tab"},d.a.createElement("div",{className:ue.left},d.a.createElement("div",{className:ue.headerWrapper},d.a.createElement("header",{className:ue.titleWrapper},d.a.createElement("h4",{className:ue.title},d.a.createElement(m.FormattedMessage,{id:"personalize_mailbox_header",defaultMessage:"Personalize inbox"})),d.a.createElement("span",{className:ue.hint},d.a.createElement(m.FormattedMessage,{id:"personalize_mailbox_hint",defaultMessage:"Change how your inbox looks and feels"}))),d.a.createElement(ie.a,this.props))),d.a.createElement("div",{className:ue.right},d.a.createElement(_e,this.props)))}}r()(pe,"displayName","PersonalizedInboxTab");var he=a(1606),ge=a.n(he),Ee=a(482),be=a(208),Ce=a(45),fe=a(114);const Se=u()(ge.a);class ye extends d.a.Component{render(){const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:Se.container,"data-test-id":"categorization-tab"},d.a.createElement("div",{className:Se.left},d.a.createElement("div",{className:Se.headerWrapper},d.a.createElement("header",{className:Se.titleWrapper},d.a.createElement("h4",{className:Se.title},e(fe.a.categorization_header)),d.a.createElement("span",{className:Se.hint},e(fe.a.categorization_hint))),d.a.createElement(Ee.a,{showHint:!0}))),d.a.createElement("div",{className:Se.right},d.a.createElement("div",{className:Se.categoryRightRailContainer},d.a.createElement("img",{className:Se.categoryRightRailImg,src:Object(Ce.a)(be.c.CATEGORIZATION)}))))}}r()(ye,"displayName","CategorizationTab"),r()(ye,"contextTypes",{intl:m.intlShape.isRequired});var Te=a(4),Ne=a.n(Te),Ae=a(31),Ie=a.n(Ae),Me=a(1607),ve=a.n(Me),De=a(106),Oe=a.n(De),ke=a(1608),Re=a.n(ke),we=a(65),Pe=a(1609),xe=a.n(Pe),Fe=a(20);const Le=u()(xe.a);function Be({tweet:{handle:e,name:t,creationTime:a,content:n,imgUrl:s}}){return d.a.createElement("div",{className:Le.tweetWrapper},d.a.createElement("div",{className:Le.tweet},d.a.createElement("div",{className:Le.tweetHeader},d.a.createElement("div",{className:Le.twitterProfile},d.a.createElement("img",{className:Le.twitterAvatar,src:s,alt:t})),d.a.createElement("div",{className:Le.twitterAccount},d.a.createElement("span",{className:Le.userName},t),d.a.createElement("span",{className:Le.userId},"@",e)),d.a.createElement("div",{className:Le.twitterImg},d.a.createElement(k.b,{size:R.d.XS,kind:R.b.TWITTER,colorState:R.a.TWITTER_ENABLED}))),d.a.createElement("div",{className:Le.tweetBody},n),d.a.createElement("div",{className:Le.tweetFooter},d.a.createElement("span",{className:Le.tweetDate},a),d.a.createElement("div",{className:Le.tweetAction},d.a.createElement(Fe.a,{size:R.d.XXS,kind:R.b.REPLY,color:R.a.COOL_FAINT,onClick:()=>{}}),d.a.createElement(Fe.a,{size:R.d.XXS,kind:R.b.FORWARD,color:R.a.COOL_FAINT,onClick:()=>{}}),d.a.createElement(Fe.a,{size:R.d.XS,kind:R.b.STAR,color:R.a.COOL_FAINT,onClick:()=>{}})))))}var Ue=a(1354),He=a(30),je=Object(m.defineMessages)({header:{id:"vacation_response_settings.v2.header",defaultMessage:"Vacation response"},hint:{id:"vacation_response_settings.v2.hint",defaultMessage:"Set an automatic reply to incoming messages when you are on vacation or out of office"},corpHint:{id:"vacation_response_settings.v2.corpHint",defaultMessage:'To set up a vacation response for Yahoo Corp Mail, please go to <a class="{class}" href="{url}" target="_blank">Gmail</a>.'},subheader:{id:"vacation_response_settings.v2.subheader",defaultMessage:"Turn on vacation response"},dateText:{id:"vacation_response_settings.v2.date_text",defaultMessage:"Show vacation response during these dates"},messageText:{id:"vacation_response_settings.v2.message_text",defaultMessage:"Compose your message below with stationery, GIFs and more"},editorAriaLabel:{id:"vacation_response_settings.v2.editor_aria_label",defaultMessage:"Vacation response"},deleteResponseButtonText:{id:"vacation_response_settings.v2.delete_vacation_response_btn_text",defaultMessage:"Remove vacation response"},invalidStartDateError:{id:"vacation_response_settings.v2.invalid_start_date_error",defaultMessage:"The start date is invalid"},invalidEndDateError:{id:"vacation_response_settings.v2.invalid_end_date_error",defaultMessage:"The end date is invalid"},startDateError:{id:"vacation_response_settings.v2.start_date_error",defaultMessage:"Start date must be before end date"},endDateError:{id:"vacation_response_settings.v2.end_date_error",defaultMessage:"The end date has already passed"},rightRailHeader:{id:"vacation_response_settings.v2.right_rail_header",defaultMessage:"Find help for vacation response"},toggleBtn:{id:"vacation_response_settings.v2.enable_toggle_btn",defaultMessage:"Turn on vacation response"},enableAriaLabel:{id:"vacation_response_settings.v2.enable_tooltip_text",defaultMessage:"Turn on vacation response"},disableAriaLabel:{id:"vacation_response_settings.v2.disable_tooltip_text",defaultMessage:"Turn off vacation response"},confirmDeleteModalTitle:{id:"vacation_response_settings.v2.confirm_delete_modal.title",defaultMessage:"Are you sure you want to remove this vacation response?"},confirmDeleteModalBody:{id:"vacation_response_settings.v2.confirm_delete_modal.body",defaultMessage:"You won't be able to undo this action."},confirmDeleteModalCancelButton:{id:"vacation_response_settings.v2.confirm_delete_modal.cancel_button",defaultMessage:"Cancel"},confirmDeleteModalDeleteButton:{id:"vacation_response_settings.v2.confirm_delete_modal.delete_button",defaultMessage:"Remove"},expiredMessage:{id:"vacation_response_settings.v2.expired_message",defaultMessage:"Expired"},previewHeader:{id:"vacation_response_settings.v2.preview.header",defaultMessage:"Preview vacation response"},previewToText:{id:"vacation_response_settings.v2.preview.to_text",defaultMessage:"To:"},previewReceiversText:{id:"vacation_response_settings.v2.preview.receivers_text",defaultMessage:"Recipients"},previewReceiversTextWithDomain:{id:"vacation_response_settings.v2.preview.receivers_text_with_domain",defaultMessage:"recipient@{domain}"},domainResponseHeader:{id:"vacation_response_settings.v2.domain_response.header",defaultMessage:"Send a different response to specific domains"},domainResponseDomainNameText:{id:"vacation_response_settings.v2.domain_response.domain_name_text",defaultMessage:"Email domain name"},domainResponseFirstDomainText:{id:"vacation_response_settings.v2.domain_response.first_domain_text",defaultMessage:"First domain"},domainResponseSecondDomainText:{id:"vacation_response_settings.v2.domain_response.second_domain_text",defaultMessage:"Second domain"},domainResponseEditorAriaLabel:{id:"vacation_response_settings.v2.domain_response.editor_aria_label",defaultMessage:"Send a different response to specific domains"},domainResponseMessageText:{id:"vacation_response_settings.v2.domain_response.message_text",defaultMessage:"Message"}});class Ge extends d.a.Component{constructor(e){super(e),this.disableEditing=Oe()(this.disableEditing,100),this.renderReceiversText=this.renderReceiversText.bind(this)}componentDidUpdate(){this.props.kind===He.PreviewTypes.VACATION_RESPONSE&&this.disableEditing()}disableEditing(){Ue.a.makeNonEditable(this.stationeryWrapper)}renderReceiversText(){const e=this.props.domains;if(e&&e.length>0)return d.a.createElement("span",null,e.map((e,t)=>{if(!e)return;const a=d.a.createElement(m.FormattedMessage,s()({key:`${t}-text`,values:{domain:e}},je.previewReceiversTextWithDomain));return 0!==t?d.a.createElement("span",{key:`${t}-wrapper`},", ",a):a}))}render(){const e=this.props,t=e.account,a=e.composeFontFamily,n=e.composeFontSize,s=e.content,i=e.showTweet,r=e.kind,o=e.showPreviewText,l=e.onDoubleClick,c=this.context.intl.formatMessage,_=t.sendingName||t.email,p=u()(Re.a);return d.a.createElement("div",{className:p.mainWrapper,"data-test-id":"settings-message-previewer"},d.a.createElement("div",{className:p.previewSection},o&&d.a.createElement("h4",{className:p.previewTitle,"data-test-id":"preview-text"},c(je.previewHeader)),d.a.createElement("div",{className:p.listContainer,onDoubleClick:l,"data-test-id":"preview-container"},d.a.createElement("ul",{className:p.listWrapper},d.a.createElement("li",{className:p.listItemHeader},d.a.createElement("div",{className:p.avatar},d.a.createElement(we.d,{useFallbackImage:!0,size:we.c.M})),d.a.createElement("div",{className:p.header},d.a.createElement("div",{className:p.accName,title:_},_),d.a.createElement("div",null,d.a.createElement("span",{className:p.to},d.a.createElement(m.FormattedMessage,je.previewToText)),this.renderReceiversText()))),d.a.createElement("li",{className:p.listItem},d.a.createElement("font",{size:n},d.a.createElement("div",{className:"rte vacation-response-preview "+p.msgPreview,"data-test-id":"settings-preview-content",dangerouslySetInnerHTML:{__html:s},style:{fontFamily:a},ref:e=>this.stationeryWrapper=e})),t.signatureActive&&r!==He.PreviewTypes.VACATION_RESPONSE?d.a.createElement("div",{className:p.signaturePreview,"data-test-id":"settings-preview-signature",dangerouslySetInnerHTML:{__html:t.signature}}):null,i&&t.isPrimary?d.a.createElement(Be,null):null)))))}}Ge.contextTypes={intl:m.intlShape.isRequired},Ge.defaultProps={content:"",showTweet:!1,composeFontFamily:"",showPreviewText:!0,onDoubleClick:()=>{}};var We=Ge,Ze=a(1610),Ve=a.n(Ze),qe=a(43);const ze={month:"2-digit",day:"2-digit",year:"numeric"};function Ye({selected:e,startDate:t,endDate:a,onSelect:n},{intl:s}){const i=Object(qe.e)(t,s.locale,ze),r=Object(qe.e)(a,s.locale,ze),o=u()(Ve.a,{selected:e}),l=a<new Date;return d.a.createElement("li",{className:o.listItem,onClick:n,"data-test-id":"vacation-response-list-item"},d.a.createElement(k.b,{kind:R.b.GETAWAYFILL,size:R.d.M,colorState:R.a.TOUCH_PRIMARY}),d.a.createElement("div",{className:o.datesWrapper},d.a.createElement("span",null,i),d.a.createElement("span",{className:o.datesArrow},d.a.createElement(k.b,{size:R.d.XS,kind:R.b.ARROW_UP,rotate:R.c.D90,colorState:"FIRST_LEVEL_GRAY"})),d.a.createElement("span",null,r),l&&d.a.createElement("div",{className:o.messageWrapper},d.a.createElement(m.FormattedMessage,je.expiredMessage))),l&&d.a.createElement("div",{className:o.expiredStatusWrapper,"data-test-id":"expired-status-wrapper"},d.a.createElement("div",{className:o.statusIcon},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED}))))}Ye.contextTypes={intl:m.intlShape.isRequired};var Ke=a(1611),Xe=a.n(Ke),Qe=a(556),Je=a(19),$e=a(28),et=a(105),tt=a(1612),at=a.n(tt),nt=a(278),st=a(313),it=a(100),rt=a(1613),ot=a.n(rt),lt=a(614),ct=a(77),dt=a(568),mt=a(194),_t=a(348);const ut=()=>{};class pt extends d.a.Component{constructor(e){super(e),r()(this,"focus",()=>{this.editor.rte.focus()}),r()(this,"execCommand",(e,t)=>{const a=t.data,n=t.i13nModel;switch(e){case He.ToolbarActions.SEND:return;case He.ToolbarActions.UPDATE_STATIONERY:this.state.stationeryTheme=a?a.themeName:""}n&&this.props.handleToolbarActions({i13nModel:n}),this.editor.rte.pushButton(e,a),this.focus()}),r()(this,"onEditorContentChange",e=>{const t=e.format;e.type&&Object(dt.a)(e);let a="";if(this.editor){const e=this.editor.rte.isRich,n={formatState:Ne()({},this.state.formatState,{richTextMode:e})};Object(P.e)(n.formatState,t)||(n.formatState=Ne()({},n.formatState,t)),a=this.editor.getRawMessageContent(),this.setState(n)}this.props.onChange(this.wrapWithFontIfNeeded(a))}),r()(this,"wrapWithFontIfNeeded",e=>{const t=document.createElement("div");if(t.innerHTML=e,1===t.childNodes.length&&t.firstChild.childNodes.length){const e=t.firstChild;return"FONT"===e.nodeName?(e.face||(e.face=this.props.composeFontFamily),e.size||(e.size=this.props.composeFontSize)):(e.style.fontFamily||(e.style.fontFamily=this.props.composeFontFamily),e.style.fontSize||(e.style.fontSize=Object(ct.getFontSizeStyle)(this.props.composeFontSize))),e.outerHTML}return t.style.fontFamily=this.props.composeFontFamily,t.style.fontSize=Object(ct.getFontSizeStyle)(this.props.composeFontSize),t.outerHTML}),r()(this,"handleFocus",()=>{this.setState({focused:!0},this.props.onFocus)}),r()(this,"handleBlur",()=>{this.setState({focused:!1},this.props.onBlur)}),this.state={formatState:{richTextMode:!0,foreColor:mt.a.DEFAULTS.FG_COLOR,backgroundColor:mt.a.DEFAULTS.BG_COLOR,fontSize:e.composeFontSize||"0",fontFamily:e.composeFontFamily||""},focused:!1,stationeryTheme:""}}shouldComponentUpdate({content:e,disabled:t},{formatState:a,focused:n,editorContainer:s}){return e!==this.props.content||n!==this.state.focused||t!==this.props.disabled||this.state.formatState.richTextMode!==a.richTextMode||this.state.editorContainer!==s}render(){const e=this.props,t=e.composeData,a=e.attachments,n=e.htmlAnnotations,s=e.content,i=e.ariaLabel,r=e.disabled,o=e.composeFontFamily,l=e.composeFontSize,c=e.inlineAttachment,m=e.stationeryRestrictedThemes,_=e.linkEnhancerUrlBlacklist,p=e.rtl,h=e.stationery,g=e.editorKind,E=e.toolbarKind,b=e.stationeryCategory,C=e.stationeryCategoriesToShow,f=e.isDomainResponse,S=e.editorRef,y=e.initialFocus,T=e.gif,N=e.onGifClick,A=e.showInitialPopup,I=this.state.focused,M=u()(ot.a,{focused:I&&!r,kind:g}),v=!A||/^<div(?: style="[^>]*")?>(<br>)?<\/div>$/.test(s),D=!f&&v&&E===He.ToolbarTypes.VACATION_RESPONSE_SETTINGS;return d.a.createElement("div",{className:M.editorWrapper},r?d.a.createElement("div",{className:M.rte,"data-test-id":"vacation-response-preview",dangerouslySetInnerHTML:{__html:s}}):d.a.createElement("div",{className:M.rte,ref:e=>!this.state.editorContainer&&this.setState({editorContainer:e})},d.a.createElement(lt.a,{stationery:h,linkEnhancerUrlBlacklist:_,inlineAttachment:c,content:s,onImagePaste:ut,ariaLabel:i,onBlur:this.handleBlur,attachments:a,kind:g,onFocus:this.handleFocus,ref:e=>{this.editor=e,S(e)},htmlAnnotations:n,composeFontFamily:o,composeFontSize:l,onContentChange:this.onEditorContentChange,rtl:p,onStationeryThemeChange:this.execCommand.bind(this,He.ToolbarActions.UPDATE_STATIONERY),initialFocus:y,scrollableAreaRef:this.state.editorContainer})),d.a.createElement(_t.a,{uploadEnabled:!1,showSendButton:!1,showDeleteButton:!1,showPlainTextMode:!1,formatState:this.state.formatState,focusOnEditor:this.focus,kind:E,onExecuteAction:this.execCommand,draftStatus:t.draftStatus,lastDraftSavedTime:t.lastSaved,stationeryEnabled:h,stationeryTheme:this.state.stationeryTheme,stationeryCategory:b,stationeryCategoriesToShow:C,showStationeryDefaultTheme:!1,showStationeryThemeCategories:!1,disabled:r,stationeryRestrictedThemes:m,showStationerySetDefault:!1,showStationeryPicker:D,rtl:p,gifFinderEnabled:T,onGifClick:N}))}}r()(pt,"contextTypes",{executeAction:l.a.func}),r()(pt,"defaultProps",{composeData:{draftStatus:"INIT",lastSaved:Date.now()},htmlAnnotations:[],attachments:[],onBlur:ut,onFocus:ut,content:"",isDomainResponse:!1,handleToolbarActions:ut,editorRef:ut,gif:!1});var ht=pt;var gt=Object(D.connect)(void 0,e=>({handleToolbarActions:t=>e(Object(it.h)(t))}))(ht),Et=a(473),bt=a(294),Ct=a(211);function ft(e,t){const a=e.enabled,n=e.content,s=e.domainOne,i=e.domainTwo,r=e.onChange,o=e.onFocus,l=e.composeFontFamily,c=e.composeFontSize,_=e.rtl,p=e.stationery,h=e.stationeryRestrictedThemes,g=e.stationeryCategory,E=e.stationeryCategoriesToShow,b=e.toggleType,C=e.editorRef,f=e.editorTitleRef,S=void 0===f?()=>{}:f,y=e.extraEditorPadding,T=void 0!==y&&y,N=e.editorInitialFocus,A=e.gif,I=e.onGifClick,M=e.inlineAttachment,v=t.intl.formatMessage,D=u()(at.a,{extraEditorPadding:T});return d.a.createElement("div",{"data-test-id":"domain-specific-response"},d.a.createElement("div",{className:D.fixedWidthOption},d.a.createElement(Et.a,{canToggle:!0,subHeader:!0,toggleEnabled:a,toggleType:b,header:v(je.domainResponseHeader),onToggle:()=>r(bt.b.DOMAIN_ENABLED,!a)})),a?d.a.createElement("div",{className:D.domainResponseWrapper},d.a.createElement("div",{className:D.domainNameControl},d.a.createElement("h5",{className:D.headerTitle},d.a.createElement(m.FormattedMessage,je.domainResponseDomainNameText)),d.a.createElement(nt.a,{isClearable:!0,value:s,placeholder:v(je.domainResponseFirstDomainText),onChange:e=>r(bt.b.DOMAIN_ONE,e),kind:st.a.DARK_BORDER_BOTTOM}),d.a.createElement(nt.a,{isClearable:!0,value:i,placeholder:v(je.domainResponseSecondDomainText),onChange:e=>r(bt.b.DOMAIN_TWO,e),kind:st.a.DARK_BORDER_BOTTOM})),d.a.createElement("div",{className:D.domainResponseSection},d.a.createElement("h5",{className:D.headerTitle,ref:S},d.a.createElement(m.FormattedMessage,je.domainResponseMessageText)),d.a.createElement("div",{className:D.editor},d.a.createElement(gt,{content:n,onFocus:o,composeFontFamily:l,composeFontSize:c,ariaLabel:v(je.domainResponseEditorAriaLabel),onChange:e=>r(bt.b.DOMAIN_MSG_BODY,e),rtl:_,stationery:p,stationeryRestrictedThemes:h,stationeryCategory:g,stationeryCategoriesToShow:E,editorKind:He.EditorTypes.VACATION_RESPONSE_SETTINGS,toolbarKind:He.ToolbarTypes.VACATION_RESPONSE_SETTINGS,editorRef:C,isDomainResponse:!0,initialFocus:N,gif:A,onGifClick:I,inlineAttachment:M})))):null)}ft.contextTypes={intl:m.intlShape.isRequired};var St=ft,yt=a(1614),Tt=a.n(yt),Nt=a(12);const At={marginRight:`${2*Nt.GRID_UNIT}px`,height:`${7.5*Nt.GRID_UNIT}px`};var It=function({onSave:e,onNext:t,onCancel:a,disableSave:n=!1,marginLess:s=!1}){const i=u()(Tt.a,{marginLess:s,disableSave:n});return d.a.createElement("div",{className:i.viewActions},t?d.a.createElement(Je.a,{onClick:t,"data-test-id":"view-actions-next-button",kind:$e.a.SECONDARY,style:At,marginLess:!0},d.a.createElement(m.FormattedMessage,{id:"next_btn_text",defaultMessage:"Next"})):d.a.createElement(Je.a,{kind:$e.a.PRIMARY,onClick:e,disabled:n,"data-test-id":"view-actions-save-button",className:i.saveButton,marginLess:!0},d.a.createElement(m.FormattedMessage,{id:"save_btn_text",defaultMessage:"Save"})),d.a.createElement(Je.a,{"data-test-id":"view-actions-cancel-button",kind:$e.a.SECONDARY_BORDERLESS,onClick:a,className:i.cancelButton},d.a.createElement(m.FormattedMessage,{id:"cancel_btn_text",defaultMessage:"Cancel"})))},Mt=a(189),vt=a(21);class Dt extends d.a.Component{constructor(e){super(e);const t=e.vacationPreferences;this.state=Ne()({},this.getStateFromVacationPreferences(t),{showConfirm:!1,error:"",showErrors:!0,viewActionsAnchored:!1}),this.handleChange=this.handleChange.bind(this),this.handleDateChange=this.handleDateChange.bind(this),this.handleMessageBodyChange=this.handleMessageBodyChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleCancel=this.handleCancel.bind(this),this.onDeleteClick=this.onDeleteClick.bind(this),this.showDeleteConfirmation=this.showDeleteConfirmation.bind(this),this.hideDeleteConfirmation=this.hideDeleteConfirmation.bind(this),this.handleDelete=this.handleDelete.bind(this),this.recalculateAnchor=this.recalculateAnchor.bind(this),this.handleInvalidDateEntered=this.handleInvalidDateEntered.bind(this),this.handleDomainResponseEditorGifClick=this.handleDomainResponseEditorGifClick.bind(this),this.handleEditorGifClick=this.handleEditorGifClick.bind(this),this.handleClickDatePicker=this.handleClickDatePicker.bind(this),this.memoizedPlainText={}}getStateFromVacationPreferences(e={}){const t=e.startDate,a=e.endDate,n=e.messageBody,s=void 0===n?"":n,i=e.domainSpecificResponse,r=void 0===i?{}:i,o=r.domains,l=void 0===o?[]:o,c=r.domainMessageBody,d=void 0===c?"":c,m=Ie()(l,2),_=m[0],u=void 0===_?"":_,p=m[1],h=void 0===p?"":p,g=t?Object(qe.c)(t):null,E=a?Object(qe.c)(a):null,b=!(!u&&!h);return{domainOne:u,domainTwo:h,messageBody:s,domainResponseEnabled:b,startDate:g,endDate:E,domainMessageBody:d,canSave:!!(g&&E&&(s||b||d))}}componentWillReceiveProps(e){const t=e.vacationPreferences,a=void 0===t?{}:t;this.props.vacationPreferences!==a&&this.setState(this.getStateFromVacationPreferences(a))}_getTrimmedPlainText(e,t=!1){return Object(vt.a)(-1!==["messageEditor","domainResponseMessageEditor"].indexOf(e),"editorType must be one of messageEditor, domainResponseMessageEditor"),(t||void 0===this.memoizedPlainText[e])&&(this.memoizedPlainText[e]=this[e].getPlainText().trim()),this.memoizedPlainText[e]}_getMessageBody(e,t=this.state.messageBody){return this.messageEditor?this._getTrimmedPlainText("messageEditor",e):t}_getDomainResponseMessageBody(e,t=this.state.domainMessageBody){return this.domainResponseMessageEditor?this._getTrimmedPlainText("domainResponseMessageEditor",e):t}handleChange(e,t,a){const n=Ne()({},this.state,{[e]:t}),s=n.domainOne,i=n.domainTwo,r=n.startDate,o=n.endDate,l=n.error,c=this._getMessageBody("messageBody"===e,n.messageBody),d=this._getDomainResponseMessageBody("domainMessageBody"===e,n.domainMessageBody);this.setState({[e]:t,canSave:!(l||!r||!o||!(s||i||c||d))},a),this.props.preventRouteChange()}handleDateChange(e,t){const a=this.state,n=a.domainOne,s=a.domainTwo,i=this._getMessageBody(),r=this._getDomainResponseMessageBody(),o={startDate:e,endDate:t};o.error=t&&t<new Date(1e3*Object(qe.q)(Object(qe.i)()))?je.endDateError:e&&t&&e>t?je.startDateError:null,o.canSave=!(o.error||!e||!t||!(n||s||i||r)),this.setState(o),o.error||this.props.onDateChange(e,t),this.props.preventRouteChange()}handleInvalidDateEntered({startDate:e,endDate:t}){void 0!==e?this.setState({error:je.invalidStartDateError,canSave:!1}):void 0!==t&&this.setState({error:je.invalidEndDateError,canSave:!1})}handleMessageBodyChange(e){this.handleChange("messageBody",e)}_isDataValid(){const e=this.state,t=e.startDate,a=e.endDate;return t&&a&&a>=Object(qe.q)(new Date)&&t<=a}handleSave(e){const t=this.state,a=t.endDate,n=t.domainOne,s=t.domainTwo,i=t.startDate,r=t.domainResponseEnabled,o=this.messageEditor?this.messageEditor.getInnerHtml():this.state.messageBody,l=this.domainResponseMessageEditor?this.domainResponseMessageEditor.getInnerHtml():this.state.domainMessageBody;if(!this._isDataValid())return;const c={enabled:!0,startDate:Object(qe.q)(i),endDate:Object(qe.k)(a),messageBody:o,domainSpecificResponse:{domains:r?[n,s]:[""],domainMessageBody:r?l:""}};this.props.onSave(c,e)}handleCancel(e){this.setState(this.getStateFromVacationPreferences({})),this.props.onReset(e)}onDeleteClick(e){e.stopPropagation(),this.showDeleteConfirmation()}showDeleteConfirmation(){this.setState({showConfirm:!0})}hideDeleteConfirmation(){this.setState({showConfirm:!1})}handleDelete(e){const t=this.props.onDelete;this.hideDeleteConfirmation(),t(e)}_anchorViewActions(){this.setState({viewActionsAnchored:!0})}_unAnchorViewActions(){this.setState({viewActionsAnchored:!1})}recalculateAnchor(){const e=window.innerHeight;if(this.state.viewActionsAnchored){this.formWrapper.getBoundingClientRect().bottom<=e&&this._unAnchorViewActions()}else{this.viewActionsContainer.getBoundingClientRect().bottom>e&&this._anchorViewActions()}}scrollToEditor(){this.editorTitle&&(this.mainWrapper.scrollTop+=this.editorTitle.getBoundingClientRect().top-Nt.YBAR_HEIGHT)}scrollToDomainResponseEditor(){this.domainResponseEditorTitle&&(this.mainWrapper.scrollTop+=this.domainResponseEditorTitle.getBoundingClientRect().top-Nt.YBAR_HEIGHT)}componentDidMount(){this.recalculateAnchor()}componentDidUpdate(){this.recalculateAnchor()}handleGifClick(e,{rte:t}={}){t&&Mt.a.insertGif(t,this.context.intl.formatMessage,e)}handleEditorGifClick(e){return this.handleGifClick(e,this.messageEditor)}handleDomainResponseEditorGifClick(e){return this.handleGifClick(e,this.domainResponseMessageEditor)}handleClickDatePicker(){const e=this.state,t=e.startDate,a=e.endDate,n=Object(qe.q)(Object(qe.i)());let s=t,i=a;t&&Object(qe.q)(t)<n&&(s=new Date(1e3*Object(qe.q)(Object(qe.i)()))),a&&Object(qe.q)(a)<n&&(i=new Date(1e3*Object(qe.k)(Object(qe.i)()))),s===t&&i===a||this.handleDateChange(s,i)}render(){const e=this.state,t=e.domainOne,a=e.domainTwo,n=e.domainResponseEnabled,s=e.startDate,i=e.endDate,r=e.error,o=e.showErrors,l=e.canSave,c=e.showConfirm,_=this.props,u=_.enabled,p=_.composeFontSize,h=_.composeFontFamily,g=_.inlineAttachment,E=_.stationeryRestrictedThemes,b=_.linkEnhancerUrlBlacklist,C=_.rtl,f=_.stationery,S=_.vacationPreferences,y=_.showDeleteButton,T=_.editorInitialFocus,A=_.domainResponseEditorInitialFocus,I=S.messageBody,M=S.domainSpecificResponse,v=(void 0===M?{}:M).domainMessageBody,D=_.account.signature,O=void 0===D?"":D,k=this.context,R=k.intl.formatMessage,w=(0,k.getCss)(Xe.a,{disabled:!u,viewActionsAnchored:e.viewActionsAnchored}),P=u&&!I?O:I;return d.a.createElement("div",{className:w.mainWrapper,onScroll:this.recalculateAnchor,ref:e=>this.mainWrapper=e,"data-test-id":"vacation-response-form"},d.a.createElement("div",{className:w.overlay},d.a.createElement("div",{className:w.formWrapper,ref:e=>this.formWrapper=e},d.a.createElement("div",{className:w.mB40},d.a.createElement("h5",{className:w.headerTitle},d.a.createElement(m.FormattedMessage,je.dateText)),d.a.createElement("div",{className:w.formControl,"data-test-id":"vacation-response-date-picker-container",onClick:this.handleClickDatePicker},d.a.createElement(Qe.a,{useISODateFormat:!0,startDate:s,endDate:i,onChange:this.handleDateChange,disabled:!u,disableErrors:()=>this.setState({showErrors:!1}),enableErrors:()=>this.setState({showErrors:!0}),onInvalidDateEntered:this.handleInvalidDateEntered,datePickerWidth:198}),r&&o?d.a.createElement("div",{"data-test-id":"vacation-response-date-error",className:w.error},R(r)):null)),d.a.createElement("div",{className:w.mB40},d.a.createElement("h5",{className:w.headerTitle,ref:e=>this.editorTitle=e},d.a.createElement(m.FormattedMessage,je.messageText)),d.a.createElement("div",{className:w.editorWrapper},d.a.createElement("div",{className:w.editor},d.a.createElement(gt,{linkEnhancerUrlBlacklist:b,inlineAttachment:g,content:P,showInitialPopup:Boolean(I),disabled:!u,ariaLabel:R(je.editorAriaLabel),onChange:this.handleMessageBodyChange,composeFontFamily:h,composeFontSize:p,stationery:f,stationeryRestrictedThemes:E,stationeryCategory:N.Pd.featured,stationeryCategoriesToShow:[N.Pd.featured,N.Pd.seasonal],editorKind:He.EditorTypes.VACATION_RESPONSE_SETTINGS,toolbarKind:He.ToolbarTypes.VACATION_RESPONSE_SETTINGS,editorRef:e=>this.messageEditor=e,initialFocus:T,gif:!0,onGifClick:this.handleEditorGifClick})))),d.a.createElement(St,{domainOne:t,domainTwo:a,content:v,inlineAttachment:g,onChange:this.handleChange,composeFontFamily:h,composeFontSize:p,enabled:n,rtl:C,stationery:f,stationeryCategory:N.Pd.featured,stationeryCategoriesToShow:[N.Pd.featured,N.Pd.seasonal],stationeryRestrictedThemes:E,toggleType:Ct.d.CHECKBOX,editorRef:e=>this.domainResponseMessageEditor=e,editorTitleRef:e=>this.domainResponseEditorTitle=e,editorInitialFocus:A,extraEditorPadding:!0,gif:!0,onGifClick:this.handleDomainResponseEditorGifClick}),y&&d.a.createElement("div",{className:w.deleteButton},d.a.createElement(Je.a,{kind:$e.a.DANGER,onClick:this.onDeleteClick,"data-test-id":"delete-button"},d.a.createElement(m.FormattedMessage,je.deleteResponseButtonText)))),d.a.createElement("div",{className:w.viewActionsContainer,ref:e=>this.viewActionsContainer=e},d.a.createElement(It,{disableSave:!l,onSave:this.handleSave,onCancel:this.handleCancel,marginLess:!0})),c&&d.a.createElement(et.a,{cancelLabel:je.confirmDeleteModalCancelButton,acceptLabel:je.confirmDeleteModalDeleteButton,onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirmation,customTitle:d.a.createElement("div",{className:w.customTitle},d.a.createElement(m.FormattedMessage,je.confirmDeleteModalTitle)),showCustomTitle:!0},d.a.createElement(m.FormattedMessage,je.confirmDeleteModalBody))))}}Dt.defaultProps={onReset:()=>{},onDateChange:()=>{},stationery:!0,showDeleteButton:!1,preventRouteChange:()=>{}},Dt.contextTypes={intl:m.intlShape,getCss:l.a.func};var Ot=a(190);class kt extends d.a.Component{constructor(...e){super(...e),r()(this,"getStateFromVacationPreferences",(e={})=>{const t=e.enabled,a=void 0!==t&&t,n=e.startDate,s=e.endDate,i=e.messageBody,r=void 0===i?"":i,o=e.domainSpecificResponse,l=void 0===o?{}:o,c=l.domainMessageBody,d=void 0===c?"":c,m=l.domains,_=void 0===m?[]:m,u=Ie()(_,2),p=u[0],h=u[1],g=!!(a||r||(void 0===p?"":p)||(void 0===h?"":h)||d);return{enabled:a,startDate:n?Object(qe.c)(n):null,endDate:s?Object(qe.c)(s):null,hasResponse:g,adding:!1,selected:!1,editorInitialFocus:!1,domainResponseEditorInitialFocus:!1}}),r()(this,"handleChange",(e,t,a)=>{this.setState({[e]:t},a),this.preventRouteChange()}),r()(this,"handlePreviewDoubleClick",e=>{e.stopPropagation(),e.preventDefault(),this.setState({selected:!0,editorInitialFocus:!0,domainResponseEditorInitialFocus:!1},()=>{this.responseForm&&this.responseForm.scrollToEditor()})}),r()(this,"handleDomainResponsePreviewDoubleClick",e=>{e.stopPropagation(),e.preventDefault(),this.setState({selected:!0,editorInitialFocus:!1,domainResponseEditorInitialFocus:!0},()=>{this.responseForm&&this.responseForm.scrollToDomainResponseEditor()})}),r()(this,"saveVacationResponse",({value:e,event:t,actionType:a})=>{this.props.onSave({value:e,actionType:a,i13nModel:{interactionType:Object(v.j)(t)}}),this.allowPageChange()}),r()(this,"preventRouteChange",()=>{this.shouldPreventRouteChange=!0}),r()(this,"allowPageChange",()=>{this.shouldPreventRouteChange=!1}),r()(this,"_getRightRailState",()=>{const e=this.state,t=e.enabled;return{type:t&&(e.adding||e.selected)||!t&&!e.hasResponse?bt.c.EDITOR:bt.c.PREVIEW,enabled:t}}),r()(this,"renderRightRail",e=>{const t=this.props,a=t.activeAccount,n=t.composeFontFamily,s=t.composeFontSize,i=t.inlineAttachment,r=t.stationeryRestrictedThemes,o=t.linkEnhancerUrlBlacklist,l=t.rtl,c=t.stationery,m=t.vacationPreferences,_=m.messageBody,u=void 0===_?"":_,p=m.domainSpecificResponse,h=void 0===p?{}:p,g=h.domains,E=void 0===g?[]:g,b=h.domainMessageBody,C=void 0===b?"":b,f=this.state,S=f.hasResponse,y=f.editorInitialFocus,T=f.domainResponseEditorInitialFocus,N=Ie()(E,2),A=N[0],I=N[1],M=!(!(void 0===A?"":A)&&!(void 0===I?"":I)),v=this._getRightRailState(),D=v.enabled;switch(v.type){case bt.c.EDITOR:return d.a.createElement("div",{className:e.right},d.a.createElement(Dt,{enabled:D,vacationPreferences:this.props.vacationPreferences,onSave:this.onSave,onReset:this.onReset,onDateChange:this.handleDateChange,account:a,composeFontSize:s,composeFontFamily:n,inlineAttachment:i,stationeryRestrictedThemes:r,linkEnhancerUrlBlacklist:o,rtl:l,stationery:c,onDelete:this.onDelete,showDeleteButton:S,ref:e=>this.responseForm=e,editorInitialFocus:y,domainResponseEditorInitialFocus:T,preventRouteChange:this.preventRouteChange}));case bt.c.PREVIEW:return d.a.createElement("div",{className:`${e.right} ${e.overlay}`},d.a.createElement("div",{className:e.previewContainer},d.a.createElement(We,{account:a,composeFontSize:s,composeFontFamily:n,content:u,stationery:c,kind:He.PreviewTypes.VACATION_RESPONSE,onDoubleClick:this.handlePreviewDoubleClick}),M&&d.a.createElement(We,{account:a,composeFontSize:s,composeFontFamily:n,content:C,kind:He.PreviewTypes.VACATION_RESPONSE,stationery:c,domains:E,showPreviewText:!1,onDoubleClick:this.handleDomainResponsePreviewDoubleClick})))}}),r()(this,"onSave",(e,t)=>{this.saveVacationResponse({value:e,event:t,actionType:bt.a.SAVE})}),r()(this,"onDelete",e=>{this.saveVacationResponse({value:{enabled:!1,startDate:0,endDate:0,messageBody:"",domainSpecificResponse:{domains:["",""],domainMessageBody:""}},event:e,actionType:bt.a.DELETE})}),r()(this,"onReset",e=>{this.setState(this.getStateFromVacationPreferences(this.props.vacationPreferences)),this.allowPageChange(),I.b.sendI13nModel({i13nModel:{mKey:A.e.SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY,interactionType:Object(v.j)(e),sec:A.g.SETTINGS_AUTOMATIC_REPLY_TAB}})}),r()(this,"handleToggle",e=>{const t=this.state,a=t.hasResponse,n=!t.enabled,s=this.props.vacationPreferences,i=s.startDate,r=s.endDate,o=s.messageBody,l=void 0===o?"":o,c=s.domainSpecificResponse,d=void 0===c?{}:c,m=d.domains,_=void 0===m?[]:m,u=d.domainMessageBody,p=void 0===u?"":u,h=Ie()(_,2),g=h[0],E=void 0===g?"":g,b=h[1],C=void 0===b?"":b;this.setState({enabled:n,adding:n&&!a,selected:!1}),(!n||n&&a)&&this.saveVacationResponse({value:{enabled:n,startDate:i,endDate:r,messageBody:l,domainSpecificResponse:{domains:[E,C],domainMessageBody:p}},event:e,actionType:n?bt.a.SWITCH_ON:bt.a.SWITCH_OFF})}),r()(this,"handleDateChange",(e,t)=>{this.setState({startDate:e,endDate:t}),this.preventRouteChange()}),r()(this,"handleSelectItem",()=>{this.setState({selected:!0,editorInitialFocus:!1,domainResponseEditorInitialFocus:!1})}),r()(this,"getUnsyncedData",()=>({type:N.re.VACATION_RESPONSE_SETTINGS,hash:N.se.PREVENT_ROUTE_CHANGE,preventRouteChange:this.shouldPreventRouteChange})),r()(this,"state",this.getStateFromVacationPreferences(this.props.vacationPreferences))}componentWillReceiveProps(e){const t=e.vacationPreferences,a=void 0===t?{}:t;this.props.vacationPreferences!==a&&this.setState(this.getStateFromVacationPreferences(a))}renderMessageForCorpMail(e){const t=this.context.intl.formatMessage;return d.a.createElement("div",{className:e.left},d.a.createElement("div",{className:e.mainWrapper},d.a.createElement("div",{className:e.pageHeader},d.a.createElement(Et.a,{header:t(je.header),hint:t(je.corpHint,{url:this.props.corpMailVacationResponseUrl,class:e.settingsSubHeaderLinkStyle})}))))}render(){const e=this.context,t=e.intl.formatMessage,a=this.state,n=a.enabled,s=a.startDate,i=a.endDate,r=a.selected,o=a.hasResponse,l=e.partner===N.F,c=u()(ve.a,{disabled:!n});return d.a.createElement(Ot.a,{getUnsyncedData:this.getUnsyncedData},d.a.createElement("div",{className:c.container,"data-test-id":"vacation-response"},l?this.renderMessageForCorpMail(c):d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:c.left},d.a.createElement("div",{className:c.mainWrapper},d.a.createElement("div",{className:c.pageHeader},d.a.createElement(Et.a,{header:t(je.header),hint:t(je.hint)})),d.a.createElement("div",null,d.a.createElement(Et.a,{canToggle:!0,subHeader:!0,toggleEnabled:n,header:t(je.subheader),onToggle:this.handleToggle,toggleAriaLabel:t(n?je.disableAriaLabel:je.enableAriaLabel)})),o?d.a.createElement("div",{className:c.overlay},d.a.createElement("ul",{className:c.listWrapper},d.a.createElement(Ye,{startDate:s,endDate:i,selected:r,onSelect:this.handleSelectItem}))):null)),this.renderRightRail(c))))}}r()(kt,"contextTypes",{intl:m.intlShape.isRequired,partner:l.a.string});var Rt=Object(D.connect)(e=>{return{corpMailVacationResponseUrl:(0,Object(H.b)(e).getSetting)(N.zd.CORP_MAIL_GMAIL_SETTINGS).vacationResponseUrl}},e=>({onSave:({value:t,actionType:a,i13nModel:n})=>e(Object(g.g)({value:t,actionType:a,i13nModel:Ne()({mKey:A.e.SETTINGS_AUTOMATIC_REPLY,sec:A.g.SETTINGS_AUTOMATIC_REPLY_TAB},n)}))}))(kt),wt=a(1350),Pt=a.n(wt),xt=a(1615),Ft=a.n(xt);const Lt=u()(Ft.a),Bt=({header:e,helpLinks:t,demoImg:a,showHelpLinks:n},s)=>{const i=s.config.helpUrl;return d.a.createElement("section",{className:Lt.container,"data-test-id":"setting-help"},d.a.createElement("div",{className:Lt.demoImgContainer},d.a.createElement("img",{className:Lt.demoImg,src:Object(Ce.a)(a)})),n?d.a.createElement("div",{"data-test-id":"setting-help-link-container"},d.a.createElement("div",{className:Lt.header},e),d.a.createElement("ul",{className:Lt.listContainer},t&&t.map((e,t)=>e.link?d.a.createElement("li",{className:Lt.listItem,key:t},d.a.createElement("a",{className:Lt.helpLink,href:e.link,target:"_blank",rel:"noopener"},e.text)):null)),d.a.createElement("a",{className:Lt.moreHelp,href:i,target:"_blank",rel:"noopener"},d.a.createElement(m.FormattedMessage,{id:"setting.rightrail.morehelp",defaultMessage:"Need more help?"}))):null)};Bt.contextTypes={config:l.a.object.isRequired};var Ut=Object(D.connect)(e=>{return{showHelpLinks:(0,Object(H.b)(e).getFeaturesSelectors)().isEnabled(N.ub.SHOW_RIGHT_RAIL_HELP_LINKS)}})(Bt);const Ht=Object(m.defineMessages)({unsubscribeHeader:{id:"unsubscribeHeader_label",defaultMessage:"Unsubscribe recommendations"},unsubscribeHint:{id:"unsubscribeHint_label",defaultMessage:"See daily suggestions in a popup when you delete multiple items"}}),jt=u()(Pt.a);class Gt extends d.a.Component{render(){const e=this.context.intl.formatMessage,t=this.props,a=t.unsubscribeEnabled,n=t.onUnsubToggle;return d.a.createElement("div",{className:jt.section,"data-test-id":"unsubscribe-setting"},d.a.createElement(Et.a,{canToggle:!0,subHeader:!0,toggleEnabled:a,header:e(Ht.unsubscribeHeader),hint:e(Ht.unsubscribeHint),onToggle:n.bind(null,!a)}))}}r()(Gt,"contextTypes",{intl:m.intlShape.isRequired});var Wt=Gt,Zt=a(310);const Vt=Object(m.defineMessages)({notificationsHeader:{id:"notificationsHeader_label",defaultMessage:"Notifications"},notificationsHint:{id:"notificationsHint_label",defaultMessage:"Never miss important notifications"},desktopNotificationsHeader:{id:"desktopNotificationsHeader_label",defaultMessage:"Desktop notifications"},desktopNotificationsHint:{id:"desktopNotificationsHint_hint",defaultMessage:"Get notifications on new mail"},rightRailHeader:{id:"notification_right_rail_header",defaultMessage:"Find help for notifications"}}),qt=u()(Pt.a);class zt extends d.a.Component{render(){const e=this.context.intl,t=e.formatMessage,a=e.locale,n=this.context,s=n.mailBrandNameString,i=n.partner,r=this.props,o=r.browserNotifications,l=r.setBrowserNotification,c=r.onUnsubToggle,m=r.unsubscribeEnabled,_=r.unsubscribe;return d.a.createElement("div",{className:qt.container,"data-test-id":"browser-notifications"},d.a.createElement("div",{className:qt.left},d.a.createElement("div",{className:qt.headerWrapper},d.a.createElement("div",{className:qt.pageHeader},d.a.createElement(Et.a,{header:t(Vt.notificationsHeader),hint:t(Vt.notificationsHint)})),d.a.createElement("div",{"data-test-id":"browser-notifications-setting"},d.a.createElement(Et.a,{canToggle:!0,subHeader:!0,toggleEnabled:o,header:t(Vt.desktopNotificationsHeader),hint:t(Vt.desktopNotificationsHint),onToggle:l.bind(null,!o)})),_&&d.a.createElement(Wt,{onUnsubToggle:c,unsubscribeEnabled:m}))),d.a.createElement("div",{className:qt.right},d.a.createElement(Ut,{demoImg:be.c.NOTIFICATIONS,header:t(Vt.rightRailHeader),helpLinks:Zt.d.map(({text:e,link:n})=>({text:t(e,{mailBrandNameString:s}),link:n(a,i)}))})))}}r()(zt,"contextTypes",{intl:m.intlShape.isRequired,config:l.a.object,mailBrandNameString:l.a.string,partner:l.a.string});var Yt=Object(D.connect)(void 0,e=>({setBrowserNotification:(t,a)=>e(Object(g.b)({name:N.zd.NOTIFICATION,value:t,runV3:!0,i13nModel:{mKey:A.e.SETTINGS_NOTIFICATIONS,sec:A.g.SETTINGS_NOTIFICATIONS_TAB,interactionType:Object(v.j)(a)}}))}))(zt),Kt=a(1616),Xt=a.n(Kt),Qt=a(182),Jt=a(240),$t=a(1617),ea=a.n($t);const ta=function(e){const t=new Date;return e.filter(e=>{const a=function(e,t){try{return Object(qe.t)(e,t)}catch(e){return null}}(t,e.timezone.name);return null===a||a===Object(w.d)()}).sort((e,t)=>{const a=e.city.toLowerCase(),n=t.city.toLowerCase();return a<n?-1:a>n?1:0})}(a(1618));const aa=Object(m.defineMessages)({placeholder2:{id:"locationSelector_placeholder_2",defaultMessage:"Select closest city"},title:{id:"timeZone_title",defaultMessage:"Closest city and timezone"},timezoneUpdateTip:{id:"timezone_update_tip",defaultMessage:"Your timezone is not consistent with your computer's timezone"},changeButton:{id:"locationSelector_change",defaultMessage:"Change"},locationSelectorTopHint:{id:"location_selector_top_hint",defaultMessage:"Set your inbox location to set your default time zone"}});class na extends d.a.Component{constructor(e,t){super(e,t),r()(this,"getLocationName",({city:e,state:t,country:a})=>t?`${e}, ${t}, ${a}`:`${e}, ${a}`),r()(this,"handleSelect",e=>{this.setState({settingError:N.yd.VALIDATING,value:e}),this.props.onChange(e),this.timer=Object(w.e)(e.timezone.name)?setTimeout(()=>{this.setState({settingError:N.yd.ERROR})},1500):setTimeout(()=>{this.setState({settingError:N.yd.RESOLVED})},1500)});const a=e.initialValue,n=t.timezone.name,s=Object(w.e)(n);this.state={value:a,error:!1,options:ta,settingError:s?N.yd.ERROR:N.yd.NONE}}componentWillReceiveProps(e,t){const a=t.timezone.name;Object(w.e)(a)&&this.setState({settingError:N.yd.ERROR})}componentWillUnmount(){clearTimeout(this.timer)}render(){const e=this.state,t=e.value,a=e.error,n=e.settingError,s=e.options,i=(void 0===t?{}:t).timezone,r=this.context.intl.formatMessage,o=u()(ea.a,{error:a||n===N.yd.ERROR});return d.a.createElement("div",null,d.a.createElement(Et.a,{subHeader:!0,settingError:n,header:r(aa.title),hint:r(aa.locationSelectorTopHint)}),n===N.yd.ERROR?d.a.createElement("div",{"data-test-id":"error-message",className:o.timezoneUpdateTip},r(aa.timezoneUpdateTip)):null,d.a.createElement("div",{className:o.formControl},d.a.createElement("div",{className:o.selectbox,"data-test-id":"timezone-selectbox"},d.a.createElement(Jt.a,{selected:this.state.value,placeholder:r(aa.placeholder2),title:r(aa.placeholder2),onChange:this.handleSelect,className:o.typeahead,inputFormatter:e=>{const t=e?this.getLocationName(e):"";return{optionLabel:t,optionTitle:t}}},s.map((e,t)=>d.a.createElement(Qt.a,{key:t,className:o.typeaheadOption,value:e},this.getLocationName(e))))),d.a.createElement("div",{className:o.relatedInfo},a&&d.a.createElement(m.FormattedMessage,{id:"location_request_failure",defaultMessage:"Location unknown"}),!a&&i&&i.longName&&d.a.createElement("div",null,d.a.createElement(m.FormattedMessage,{id:"mail_timezone",defaultMessage:"Your timezone:"}),"",d.a.createElement(m.FormattedMessage,{id:"location_timezone",defaultMessage:"{UTC}{offsetPositive, select, true {+} false {-} }{timezoneOffset} {timezoneName}",values:{UTC:"GMT",offsetPositive:i.offsetPositive,timezoneOffset:i.currentOffset,timezoneName:i.longName}})),a||n!==N.yd.ERROR?null:d.a.createElement(m.FormattedMessage,{id:"system_timezone",defaultMessage:"Computer's timezone: GMT{genericName} {longName}",values:{genericName:Object(w.b)(Object(w.d)()),longName:Object(w.c)(this.context.intl.locale)}}))))}}r()(na,"contextTypes",{intl:m.intlShape,locale:S.d,yqlClient:S.f,timezone:S.e,bindShortcut:l.a.func,unbindShortcut:l.a.func});var sa=na,ia=a(1272),ra=a.n(ia);const oa=u()(ra.a),la=Object(m.defineMessages)({goBackToFolder:{id:"back-to-folder-action",defaultMessage:"Go back to original folder"},showPreviousMessage:{id:"previous-message-action",defaultMessage:"Show previous message"},showNextMesage:{id:"next-message-action",defaultMessage:"Show next message"}}),ca={SHOW_NEXT_MESSAGE:la.showNextMesage,SHOW_PREVIOUS_MESSAGE:la.showPreviousMessage,GO_BACK_TO_FOLDER:la.goBackToFolder};function da({actionAfterMsgMove:e,onChange:t},a){const n=a.intl.formatMessage,s=Object.keys(N.j).map(a=>{const s=e===N.j[a],i=u()(ra.a,{isChecked:s});return d.a.createElement("li",{key:a},d.a.createElement("label",{className:i.previewOption},d.a.createElement("input",{type:"radio",checked:s,onChange:t,name:"actionAfterMsgMove",value:N.j[a]}),d.a.createElement("span",{className:i.previewOptionText},n(ca[a]))))});return d.a.createElement("ul",{className:oa.menuList},s)}da.contextTypes={intl:m.intlShape.isRequired};var ma=da;const _a=u()(ra.a),ua=Object(m.defineMessages)({IMMEDIATELY:{id:"mark_as_read_interval_immediately",defaultMessage:"Immediately"},AFTER_2_SECONDS:{id:"mark_as_read_interval_after_2_seconds",defaultMessage:"After 2 seconds"},AFTER_5_SECONDS:{id:"mark_as_read_interval_after_5_seconds",defaultMessage:"After 5 seconds"},NEVER:{id:"mark_as_read_interval_never",defaultMessage:"Never"}});function pa({markAsReadInterval:e,onChange:t},a){const n=a.intl.formatMessage,s=Object.keys(N.mc).map(a=>{const s=e===N.mc[a],i=u()(ra.a,{isChecked:s});return d.a.createElement("li",{key:a},d.a.createElement("label",{className:i.previewOption},d.a.createElement("input",{type:"radio",checked:s,onChange:t,name:"markAsReadIntervalOptions",value:N.mc[a]}),d.a.createElement("span",{className:i.previewOptionText},n(ua[a]))))});return d.a.createElement("ul",{className:_a.menuList},s)}pa.contextTypes={intl:m.intlShape.isRequired};var ha=pa,ga=a(1619),Ea=a.n(ga);const ba=u()(Ea.a),Ca=Object(m.defineMessages)({neverShow:{id:"never-show-images",defaultMessage:"Ask before showing external images"},alwaysShow:{id:"always-show-images",defaultMessage:"Always, except in spam folder"}}),fa={NEVER:Ca.neverShow,ALWAYS:Ca.alwaysShow};function Sa({showImageSetting:e,onChange:t},a){const n=a.intl.formatMessage,s=Object.keys(N.Fd).map(a=>{const s=e===N.Fd[a],i=u()(Ea.a,{isChecked:s});return d.a.createElement("li",{key:a},d.a.createElement("label",{className:i.showImageOption},d.a.createElement("input",{type:"radio",name:"showImageOption",checked:s,onChange:t,value:N.Fd[a]}),d.a.createElement("span",{className:i.showImageOptionText},n(fa[a]))))});return d.a.createElement("ul",{className:ba.menuList},s)}Sa.contextTypes={intl:m.intlShape.isRequired};var ya=Sa,Ta=a(134);const Na=u()(Xt.a),Aa=Object(m.defineMessages)({viewEmailHeader_label:{id:"viewEmailHeader_label",defaultMessage:"Viewing emails"},viewEmailHint_hint:{id:"viewEmailHint_hint",defaultMessage:"Manage your email viewing experience"},groupByConversation_text:{id:"groupByConversation_text",defaultMessage:"Group by conversation"},rightRailHeader:{id:"view_email_right_rail_header",defaultMessage:"Find help for viewing emails"},mark_as_read_interval_immediately:{id:"mark_as_read_interval_immediately",defaultMessage:"Immediately"},groupByConversation_hint:{id:"group_by_conversation_hint",defaultMessage:"Messages within an email thread will be grouped together"}});class Ia extends d.a.Component{constructor(e){super(e),r()(this,"toggleConversationMode",e=>{this.props.updateConversationMode({value:!this.props.conversationSetting,i13nModel:{mKey:A.e.SETTINGS_CONVERSATION,sec:A.g.SETTINGS_VIEWING_EMAIL_TAB,interactionType:Object(v.j)(e)}})}),r()(this,"changeShowImageSetting",e=>{const t=this.props,a=t.pacNotificationShown,n="true"===e.currentTarget.value;if(n===t.showImageSetting)return;const s={mKey:A.e.SHOW_IMG,sec:A.g.SETTINGS_VIEWING_EMAIL_TAB,interactionType:Object(v.j)(e)};a&&!n&&(s.actionData={img_setting:n}),this.setState({showImageSetting:n},()=>{this.props.changeSettings({name:N.zd.SHOW_IMAGES,value:n,i13nModel:s})})}),r()(this,"handleMarkAsReadIntervalChange",e=>{const t=this.props.markAsReadInterval,a=Number(e.currentTarget.value);a!==t&&this.props.changeSettings({name:N.zd.MARK_AS_READ_INTERVAL,value:a})}),r()(this,"handleLocationChange",e=>{this.props.updateLocationSetting({location:e})}),r()(this,"handleActionAfterMessageMoveChange",e=>{const t=this.props.actionAfterMsgMove,a=Number(e.currentTarget.value);a!==t&&this.props.changeSettings({name:N.zd.ACTION_AFTER_MSG_MOVE,value:a})}),this.state={showImageSetting:this.props.showImageSetting}}static getDerivedStateFromProps(e,t){return e.showImageSetting!==t.showImageSetting?{showImageSetting:e.showImageSetting}:null}render(){const e=this.props,t=e.conversationSetting,a=e.actionAfterMsgMove,n=e.markAsReadInterval,s=this.context,i=s.timezone,r=s.mailBrandNameString,o=s.partner,l=this.state.showImageSetting,c=this.context.intl,_=c.formatMessage,u=c.locale;let p;return i.location&&i.location.city?p=Object.assign({},i.location):i.geoLocation&&i.geoLocation.city&&(p=Object.assign({},i.geoLocation)),p&&(p.timezone={name:i.name,longName:i.longName,currentOffset:i.formattedOffset,offsetPositive:i.currentOffset>=0}),d.a.createElement("div",{className:Na.container,"data-test-id":"viewing-email"},d.a.createElement("div",{className:Na.left},d.a.createElement("div",{className:Na.pageHeader},d.a.createElement(Et.a,{header:_(Aa.viewEmailHeader_label),hint:_(Aa.viewEmailHint_hint)})),d.a.createElement("div",{className:Na.formControl,"data-test-id":"group-conversation-setting"},d.a.createElement(Et.a,{canToggle:!0,subHeader:!0,toggleEnabled:t,onToggle:this.toggleConversationMode,header:_(Aa.groupByConversation_text),hint:_(Aa.groupByConversation_hint)})),d.a.createElement("div",{className:Na.sectionHeaderContainer},d.a.createElement(sa,{initialValue:p,onChange:this.handleLocationChange})),d.a.createElement("div",{className:Na.sectionHeaderContainer},d.a.createElement("p",{className:Na.sectionHeaderName},d.a.createElement(m.FormattedMessage,{id:"mark_as_read_interval_options_title",defaultMessage:"Mark as read interval"})),d.a.createElement(ha,{markAsReadInterval:n,onChange:this.handleMarkAsReadIntervalChange})),d.a.createElement("div",{className:Na.sectionHeaderContainer},d.a.createElement("p",{className:Na.sectionHeaderName},d.a.createElement(m.FormattedMessage,{id:"action_after_message_move_text",defaultMessage:"After moving a message"})),d.a.createElement(ma,{actionAfterMsgMove:a,onChange:this.handleActionAfterMessageMoveChange})),d.a.createElement("div",{className:Na.sectionHeaderContainer},d.a.createElement("p",{className:Na.sectionHeaderName},d.a.createElement(m.FormattedMessage,{id:"showImageHeader_text",defaultMessage:"Show images in messages"})),d.a.createElement("div",{"data-test-id":"show-image-options"},d.a.createElement(ya,{onChange:this.changeShowImageSetting,showImageSetting:l})))),d.a.createElement("div",{className:Na.right},d.a.createElement(Ut,{demoImg:be.c.VIEWMAIL,header:_(Aa.rightRailHeader),helpLinks:Zt.f.map(({text:e,link:t})=>({text:_(e,{mailBrandNameString:r}),link:t(u,o)}))})))}}r()(Ia,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func,timezone:S.e,mailBrandNameString:l.a.string,partner:l.a.string});var Ma=Object(D.connect)(e=>{const t=Object(H.b)(e),a=t.isFeatureEnabled,n=t.getSetting,s=(0,t.getFeatureCueSelectors)().isShown,i=n(N.zd.SCOUT_ONBOARDING),r=Object(Ta.b)(i,N.ub.WEB_PAC_NOTIFICATION_CUE)>0;return{showImageSetting:a(N.zd.SHOW_IMAGES)||!!s(N.ub.WEB_PAC_NOTIFICATION_CUE)&&a(N.ub.INLINE_IMAGES_PROXIED),pacNotificationShown:r,conversationSetting:a(N.ub.CONVERSATIONS),actionAfterMsgMove:n(N.zd.ACTION_AFTER_MSG_MOVE),markAsReadInterval:n(N.zd.MARK_AS_READ_INTERVAL)}},e=>({changeSettings:t=>e(Object(g.b)(t)),updateConversationMode:t=>e(Object(j.E)(t)),updateLocationSetting:t=>e(Object(j.H)(Ne()({},t,{isUpdating:!0})))}))(Ia),va=a(1620),Da=a.n(va),Oa=a(1621),ka=a.n(Oa),Ra=a(174),wa=a(1351),Pa=a.n(wa);function xa({children:e,active:t}){const a=u()(Pa.a,{isActive:t});return d.a.createElement("article",{className:a.accordionPanel,"data-test-id":"accordion-content"},e)}const Fa=u()(Pa.a);class La extends d.a.Component{constructor(...e){super(...e),r()(this,"_getActiveChildren",()=>{const e=d.a.Children.toArray(this.props.children).reduce((e,t,a)=>t.props&&t.props.active?e.concat(a):e,[]);return e.length?e:[0]}),r()(this,"state",{selected:this._getActiveChildren()}),r()(this,"handleClick",e=>{let t=this.state.selected.slice(0);const a=t.indexOf(e);-1!==a?t.splice(a,1):this.props.multiSelect?t.push(e):t=[e],this.setState({selected:t})}),r()(this,"handleKeyDown",(e,t)=>{"Enter"===t.key&&this.handleClick(e)}),r()(this,"renderPanels",()=>{return d.a.createElement("ul",{className:Fa.accordionContainer},d.a.Children.map(this.props.children,function(e,t){const a=e.props,n=a.title,s=a.children,i=-1!==this.state.selected.indexOf(t),r=u()(Pa.a,{isActive:i});return d.a.createElement("li",{key:t,className:r.itemContainer,"data-test-id":"accordion-item"},d.a.createElement("div",{className:r.itemTitle,tabIndex:0,"data-test-id":"accordion-header",onKeyDown:this.handleKeyDown.bind(this,t),onClick:this.handleClick.bind(this,t)},d.a.createElement("span",{className:r.arrow},d.a.createElement(k.b,{kind:R.b.CHEVRON_UP,size:R.d.XS,rotate:R.c.D90,colorState:R.a.NORMAL})),d.a.createElement("span",null,n)),d.a.createElement(xa,{active:i},s))}.bind(this)))})}render(){return d.a.createElement("div",{className:Fa.accordionWrapper},this.renderPanels())}}r()(La,"defaultProps",{selected:[0],multiSelect:!1});var Ba=La,Ua=a(1244),Ha=a(1270),ja=a(1300),Ga=a(485);const Wa=92*Nt.GRID_UNIT,Za=5*Nt.GRID_UNIT,Va=u()(ka.a);class qa extends d.a.Component{constructor(...e){super(...e),r()(this,"getStateFromProps",({name:e,index:t=-1,criterions:a=[],actions:n=[]})=>{const s={name:e,index:t,error:"",newFolderName:"",selectedFolder:Object(Ha.b)({actions:n})};return Object.keys(Ua.c).forEach(e=>{const t=a.findIndex(t=>t.field===e),n=t>-1?Object.assign({},a[t]):{};s[e]=n}),s}),r()(this,"saveFilter",()=>{const e=[],t=this.props,a=t.onCreateNewFolder,n=t.onSave,s=this.state,i=s.index,r=s.name,o=void 0===r?"":r,l=s.selectedFolder,c=s.newFolderName,d=l||c||Ua.a.INBOX;t.limitReached?this.setState({error:ja.a.storageLimitError}):o.trim()?(Object.keys(Ua.c).forEach(t=>{const a=this.state[t],n=a.field,s=a.operator,i=a.value,r=void 0===i?"":i,o=a.matchCase,l=void 0!==o&&o;s&&r.trim()&&e.push({field:n,operator:s,value:r,matchCase:l})}),0!==e.length?(!l&&c&&a(c),n({name:o,index:i,criterions:e,matchType:Ua.a.ALL,actions:[{type:Ua.a.MOVETOFOLDER,value:{folderActionValueBean:{folder:{name:d}}}}]})):this.setState({error:ja.a.noFilterSelectedError})):this.setState({error:ja.a.filterNameError})}),r()(this,"handleEditFiterRule",(e,t,a)=>{const n=this.state,s=n[e]||{};s[t]=a,s.field=e,n[e]=s,this.setState(n)}),r()(this,"handleChange",(e,t)=>{const a={[e]:t},n=Ua.a.NEW_FOLDER_NAME,s=Ua.a.SELECTED_FOLDER;e===n&&t?a[s]="":e===s&&t&&(a[n]=""),this.setState(a)}),r()(this,"getLocalizedFolderValue",e=>{const t=this.context.intl.formatMessage;switch(e){case Ua.a.INBOX:return t(ja.a.folder_inbox_label);case Ua.a.SENT:return t(ja.a.folder_sent_label);case Ua.a.ARCHIVE:return t(ja.a.folder_archive_label);case Ua.a.SPAM:return t(ja.a.folder_spam_label);case Ua.a.TRASH:return t(ja.a.folder_trash_label);default:return e}}),r()(this,"renderFilterCriterions",()=>{const e=this.context.intl.formatMessage;return Object.keys(Ua.c).map((t,a)=>{const n=this.state[t],s=!(!this.state[t]||!this.state[t].value);return d.a.createElement(xa,{key:a,title:e(ja.a[Ua.c[t].toLowerCase().replace(/\//g,"_")]),active:s},d.a.createElement("div",{className:Va.control},d.a.createElement(Jt.a,{selected:n.operator,placeholder:e(ja.a.selectCondition),title:e(ja.a.selectCondition),onChange:e=>{this.handleEditFiterRule(t,Ua.a.OPERATOR,e)},dropdownType:Ga.a.FITCONTENT,maxWidth:Wa-Za},Object.keys(Ua.e).map(t=>d.a.createElement(Qt.a,{key:t,value:t},e(ja.a[Ua.e[t].replace(/ /g,"_")]))))),d.a.createElement(nt.a,{isClearable:!0,name:t,value:n.value,"aria-label":t,placeholder:e(ja.a.filterValue),onChange:e=>this.handleEditFiterRule(t,Ua.a.VALUE,e)}),d.a.createElement("div",{className:Va.matchCase},d.a.createElement(Ra.a,{isChecked:!!n.matchCase,onClick:()=>this.handleEditFiterRule(t,Ua.a.MATCH_CASE,!n.matchCase)}),d.a.createElement(m.FormattedMessage,{id:"match_case_test",defaultMessage:"Match case"})))})}),r()(this,"state",this.getStateFromProps(this.props.filter))}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.folderNamesForRendering,n=t.onCancel,s=this.state,i=s.name,r=s.error,o=s.newFolderName,l=!!r?e(r):"";return d.a.createElement("div",{className:Va.filterWrapper,"data-test-id":"settings-filter-editor"},d.a.createElement("div",{className:Va.filterPreviewSection},d.a.createElement("header",{className:Va.previewTitleWrapper},d.a.createElement("h4",{className:Va.previewFilterTitle},d.a.createElement(m.FormattedMessage,{id:"edit_filter_text",defaultMessage:"Edit Filter"}))),d.a.createElement("label",{className:Va.filterNameLabel,htmlFor:"filterName"},d.a.createElement(m.FormattedMessage,{id:"filter_name_text",defaultMessage:"Filter name"})),d.a.createElement("div",{className:Va.filterName},d.a.createElement(nt.a,{name:"filterName",isClearable:!0,value:i,error:l,label:e(ja.a.filterName),hint:e(ja.a.filterNameHint),"aria-label":e(ja.a.filterName),placeholder:e(ja.a.filterNamePlaceholder),onChange:e=>this.handleChange(Ua.a.NAME,e)})),d.a.createElement("h5",{className:Va.setRulesHeader},d.a.createElement(m.FormattedMessage,{id:"set_rules_text",defaultMessage:"Set rules"})),d.a.createElement("div",{className:Va.filterOptionAccordion,"data-test-id":"settings-filter-criteria"},d.a.createElement(Ba,{multiSelect:!0},this.renderFilterCriterions())),d.a.createElement("h5",{className:Va.chooseFolderLabel},d.a.createElement(m.FormattedMessage,{id:"choose_folder_text",defaultMessage:"Choose a folder to move to"})),d.a.createElement("div",{className:Va.chooseFolderControl,"data-test-id":"filters-select-folder"},d.a.createElement("div",{className:Va.folderControl},d.a.createElement(Jt.a,{selected:this.state.selectedFolder,placeholder:e(ja.a.selectFolderPlaceholder),title:e(ja.a.selectFolderPlaceholder),onChange:e=>this.handleChange(Ua.a.SELECTED_FOLDER,e),dropdownType:Ga.a.FITCONTENT,maxWidth:Wa},a.map(e=>d.a.createElement(Qt.a,{key:e,value:e},this.getLocalizedFolderValue(e))))),d.a.createElement("span",{className:Va.orText},d.a.createElement(m.FormattedMessage,{id:"or_text",defaultMessage:"or"})),d.a.createElement("div",{className:Va.folderControl},d.a.createElement(nt.a,{isClearable:!0,name:"createFolder",onChange:e=>this.handleChange(Ua.a.NEW_FOLDER_NAME,e),value:o,"aria-label":e(ja.a.newFolderPlaceholder),placeholder:e(ja.a.newFolderPlaceholder),className:Va.folderSelectorInput}))),d.a.createElement(It,{onSave:this.saveFilter,onCancel:n})))}}r()(qa,"contextTypes",{intl:m.intlShape.isRequired});var za=Object(D.connect)(e=>{return{folderNamesForRendering:(0,Object(H.b)(e).getAllowedFolderNamesForMessageFilters)()}})(qa),Ya=a(1622),Ka=a.n(Ya),Xa=a(1623),Qa=a.n(Xa),Ja=a(14),$a=a(76),en=a(1624),tn=a.n(en);const an=u()(tn.a);function nn({filter:e},t){const a=t.intl.formatMessage,n=e.criterions,s=void 0===n?[]:n,i=Object(f.n)(a,Object(Ha.b)(e))||Object(Ha.b)(e);return d.a.createElement("div",{className:an.container},d.a.createElement("header",{className:an.header},d.a.createElement(m.FormattedMessage,{id:"filter_rule_description",defaultMessage:"Deliver to {folderName} if",values:{folderName:`"${i}"`}})),d.a.createElement("ul",{className:an.filterCriteria},s.map(({field:e,operator:t,value:n})=>Ua.c[e]?d.a.createElement("li",{key:e,className:an.filterItem},d.a.createElement(m.FormattedMessage,{id:"filter_item_summary_text",defaultMessage:"{filter_field} {filter_operator} {ruleValue}",values:{filter_field:a(ja.a[Ua.c[e].toLowerCase().replace(/\//g,"_")]),filter_operator:a(ja.a[Ua.e[t].replace(/ /g,"_")]),ruleValue:`"${n}"`}})):null)))}nn.contextTypes={intl:m.intlShape.isRequired};class sn extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hovered:!1}),r()(this,"getDefaultprops",()=>({isSelected:!1})),r()(this,"handleClick",e=>{const t=this.props;(0,t.onAction)(e,t.index)}),r()(this,"handleMouseOver",()=>{this.setState({hovered:!0})}),r()(this,"handleMouseLeave",()=>{this.setState({hovered:!1})})}shouldComponentUpdate({filter:e,isSelected:t},{hovered:a}){return a!==this.state.hovered||t!==this.props.isSelected||e.name!==this.props.filter.name}render(){const e=this.props,t=e.filter,a=e.isSelected,n=u()(Qa.a,{isSelected:a});return d.a.createElement("div",{className:n.filterItem,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"settings-filter-item",onClick:this.handleClick.bind(null,Ua.f.EDIT)},d.a.createElement("div",{"data-test-id":"filter-item",className:n.filterItemText},d.a.createElement($a.c,{align:Ja.a.CENTER,triggerDelayTime:500,triggerOn:$a.b.HOVER_DELAYED,triggerOff:$a.a.HOVER_OUT_ANCHOR},d.a.createElement("p",{"data-test-id":"filter-item-text",className:n.filterItemText},t.name),d.a.createElement("div",{"data-test-id":"filter-item-popover",className:n.filterSummary},d.a.createElement(nn,{filter:t})))))}}r()(sn,"contextTypes",{intl:m.intlShape.isRequired});var rn=sn,on=a(79);const ln=u()(Ka.a),cn=Object(m.defineMessages)({addNewFilter:{id:"add_new_filter",defaultMessage:"Add new filters"},deleteFilter:{id:"delete_filter",defaultMessage:"Delete filters"},moveFilterUp:{id:"move_filter_up",defaultMessage:"Move filter up"},moveFilterDown:{id:"move_filter_down",defaultMessage:"Move filter down"}});function dn({filters:e,selectedIndex:t,onAction:a},n){const s=n.intl.formatMessage,i=s(cn.addNewFilter),r=t<=-1,o=e=>{t>-1&&a(e,t)};return d.a.createElement("div",{className:ln.filterContent,"data-test-id":"settings-filters-list"},d.a.createElement("div",null,d.a.createElement("div",{className:ln.filtersListTitle},d.a.createElement(m.FormattedMessage,{id:"filters_list_header_text",defaultMessage:"Your filters"})),d.a.createElement("div",{className:ln.filtersListHint},d.a.createElement(m.FormattedMessage,{id:"filters_list_header_hint_text",defaultMessage:"Add or click on a filter to re-order, edit or delete. Filters are listed by priority"}))),d.a.createElement("div",{className:ln.filtersListBtnsContainer},d.a.createElement(Fe.a,{size:R.d.XS,title:i,kind:R.b.ADD,"aria-label":i,colorState:R.a.SELECTED,onClick:(e=>a(e)).bind(null,Ua.f.ADD),"data-test-id":"add-new-filter",paddingLess:!0},d.a.createElement("span",{className:ln.addBtn},i)),d.a.createElement("div",{className:ln.rightAlign},d.a.createElement(on.a,{"data-test-id":"move-filter-up",size:R.d.XS,kind:R.b.ARROW_UP,title:s(cn.moveFilterUp),"aria-label":s(cn.moveFilterUp),onClick:o.bind(null,Ua.f.MOVE_UP),colorStates:{normal:r?R.a.DISABLED:R.a.NORMAL,hovered:r?R.a.DISABLED:R.a.SELECTED},disabled:r}),d.a.createElement(on.a,{"data-test-id":"move-filter-down",size:R.d.XS,kind:R.b.ARROW_UP,rotate:R.c.D180,title:s(cn.moveFilterDown),"aria-label":s(cn.moveFilterDown),onClick:o.bind(null,Ua.f.MOVE_DOWN),colorStates:{normal:r?R.a.DISABLED:R.a.NORMAL,hovered:r?R.a.DISABLED:R.a.SELECTED},disabled:r}),d.a.createElement(on.a,{"data-test-id":"delete-filter",size:R.d.XS,kind:R.b.DELETE,title:s(cn.deleteFilter),"aria-label":s(cn.deleteFilter),onClick:o.bind(null,Ua.f.DELETE),colorStates:{normal:r?R.a.DISABLED:R.a.NORMAL,hovered:r?R.a.DISABLED:R.a.WARNING},disabled:r}))),d.a.createElement("ol",{className:ln.filtersList},e.map((e,n)=>d.a.createElement("li",{key:`${e.name}-${n}`,className:ln.filtersListItem},d.a.createElement(rn,{index:n,filter:e,onAction:a,isSelected:t===n})))))}dn.contextTypes={intl:m.intlShape.isRequired};var mn=dn;const _n=Object(m.defineMessages)({filterHeader:{id:"filters_text",defaultMessage:"Filters"},filterHint:{id:"filters_hint_text",defaultMessage:"Set filters to organize incoming email"},corpFilterHint:{id:"filters_corp_hint_text",defaultMessage:'To manage message filters for Yahoo Corp Mail, please go to <a class="{class}" href="{url}" target="_blank">Gmail</a>.'},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},deleteBtn:{id:"delete_btn_text",defaultMessage:"Delete"},confirmDialogTitle:{id:"delete_dialog_title",defaultMessage:"Confirm delete"},rightRailHeader:{id:"filters_right_rail_header",defaultMessage:"Find help for filters"}}),un=u()(Da.a);class pn extends d.a.Component{constructor(e){super(e),r()(this,"setSelectedIndex",e=>{this.setState({selectedIndex:e,editFormVisible:!0,newUnsavedFilter:null})}),r()(this,"toggleConfirmDialog",(e,t=-1)=>{this.setState({showConfirm:e,deleteIndex:t})}),r()(this,"deleteFilter",()=>{const e=this.state,t=e.deleteIndex;let a=e.filters.slice();t>-1&&t<a.length&&(a.splice(t,1),a=a.map((e,t)=>Object.assign({},e,{index:t+1})),this.saveFilters(a)),this.toggleConfirmDialog(!1)}),r()(this,"moveFilters",(e,t)=>{const a=this.state,n=a.editFormVisible,s=a.filters.slice(),i=Object.assign({},s[t]),r=t+(e?-1:1);r>=0&&r<s.length&&(s[t]=Object.assign({},s[r]),s[t].index=t+1,s[r]=i,s[r].index=r+1,this.saveFilters(s,r,n))}),r()(this,"saveFilters",(e,t=-1,a=!1)=>{this.setState({filters:e,selectedIndex:t,editFormVisible:a},()=>{this.props.onSave({filters:e,i13nModel:{mKey:A.e.SETTINGS_MSG_FILTERS_SAVE,sec:A.g.SETTINGS_MESSAGE_FILTERS_TAB}})})}),r()(this,"handleSave",e=>{const t=this.state.filters.slice();if(-1===e.index)e.index=t.length+1,t.push(e);else{const a=t.findIndex(({index:t})=>t===e.index);a>-1&&(t[a]=e)}this.saveFilters(t)}),r()(this,"handleCancel",()=>{this.setState({selectedIndex:-1,editFormVisible:!1,newUnsavedFilter:null})}),r()(this,"handleFilterListAction",(e,t)=>{switch(e){case Ua.f.ADD:this.setSelectedIndex(-1);break;case Ua.f.EDIT:this.setSelectedIndex(t);break;case Ua.f.MOVE_UP:this.moveFilters(!0,t);break;case Ua.f.MOVE_DOWN:this.moveFilters(!1,t);break;case Ua.f.DELETE:this.toggleConfirmDialog(!0,t)}});const t=e.newUnsavedFilter;this.state={newUnsavedFilter:t,filters:e.filters,deleteIndex:-1,selectedIndex:-1,showConfirm:!1,editFormVisible:!!t}}componentWillReceiveProps({filters:e}){this.setState({filters:e})}renderMessageForCorpMail(){const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:un.left},d.a.createElement("div",{className:un.filterWrapper},d.a.createElement("div",{className:un.pageHeader},d.a.createElement(Et.a,{header:e(_n.filterHeader),hint:e(_n.corpFilterHint,{url:this.props.corpMailMessageFiltersUrl,class:un.settingsSubHeaderLinkStyle})}))))}render(){const e=this.context,t=e.intl,a=t.formatMessage,n=t.locale,s=e.partner,i=this.props.onCreateNewFolder,r=this.state,o=r.selectedIndex,l=r.deleteIndex,c=r.showConfirm,_=r.editFormVisible,u=r.filters,p=u[o]||r.newUnsavedFilter||{};return d.a.createElement("div",{className:un.container,"data-test-id":"settings-message-filters"},s===N.F?this.renderMessageForCorpMail():d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:un.left},d.a.createElement("div",{className:un.filterWrapper},d.a.createElement("div",{className:un.pageHeader},d.a.createElement(Et.a,{header:a(_n.filterHeader),hint:a(_n.filterHint)})),d.a.createElement(mn,{filters:u,selectedIndex:o,onAction:this.handleFilterListAction}))),d.a.createElement("div",{className:un.right},_?d.a.createElement(za,{filter:p,key:p.index,onSave:this.handleSave,onCancel:this.handleCancel,onCreateNewFolder:i,limitReached:u.length>=N.Ad.filters}):d.a.createElement(Ut,{demoImg:be.c.FILTER,header:a(_n.rightRailHeader),helpLinks:Zt.b.map(({text:e,link:t})=>({link:t(n,s),text:a(e)}))})),c?d.a.createElement(et.a,{onConfirm:this.deleteFilter,cancelLabel:_n.cancelBtn,acceptLabel:_n.deleteBtn,title:a(_n.confirmDialogTitle),onAbort:this.toggleConfirmDialog.bind(this,!1)},d.a.createElement("div",{className:un.confirmDialog},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_filter",defaultMessage:"Are you sure to delete filter {name}?",values:{name:d.a.createElement("strong",null,"'",u[l].name,"'")}}))):null))}}r()(pn,"contextTypes",{intl:m.intlShape.isRequired,partner:l.a.string});var hn=Object(D.connect)(e=>{const t=Object(H.b)(e),a=t.getAddFilterSelectors,n=t.getSubjectAndSnippetSelectors,s=t.getParticipant,i=t.getSetting,r=(0,t.getMessagesSelectors)(),o=r.getToAddresses,l=r.getCcAddresses,c=n().getSubject,d=(0,a().getAddFilter)(),m=d.messageId,_=d.listId;let u;const p=i(N.zd.CORP_MAIL_GMAIL_SETTINGS).messageFiltersUrl;if(m){const e=s(m),t=Object(Ha.a)({sender:s(m),toRecipients:o(m),ccRecipients:l(m),subject:c(m,_)});u={name:e.name||e.email,index:-1,matchType:Ua.a.ALL,actions:[{type:Ua.a.MOVETOFOLDER,value:{folderActionValueBean:{folder:{name:""}}}}],criterions:t}}return{newUnsavedFilter:u,corpMailMessageFiltersUrl:p}})(pn),gn=a(1625),En=a.n(gn),bn=a(1626),Cn=a.n(bn),fn=a(1627),Sn=a.n(fn);const yn=Object(m.defineMessages)({deleteBlockedSender:{id:"delete_blocked_sender",defaultMessage:"Delete blocked sender"}}),Tn=u()(Sn.a);class Nn extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hovered:!1}),r()(this,"handleMouseOver",()=>{this.setState({hovered:!0})}),r()(this,"handleMouseLeave",()=>{this.setState({hovered:!1})})}render(){const e=this.state.hovered,t=this.context.intl.formatMessage,a=this.props,n=a.index,s=a.onDelete;return d.a.createElement("div",{className:Tn.listItem,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"blocked-address-item"},d.a.createElement("p",{className:Tn.listItemText},a.address),e?d.a.createElement("div",{className:Tn.buttons},d.a.createElement(on.a,{size:R.d.XS,kind:R.b.DELETE,onClick:s.bind(null,n),title:t(yn.deleteBlockedSender),"aria-label":t(yn.deleteBlockedSender),colorStates:{normal:R.a.NORMAL,hovered:R.a.WARNING}})):null)}}r()(Nn,"contextTypes",{intl:m.intlShape.isRequired});var An=Nn;const In=u()(Cn.a),Mn=Object(m.defineMessages)({addNewBlockedSender:{id:"add_new_blocked_sender",defaultMessage:"Add"},showMore:{id:"show_full_blocked_list",defaultMessage:"Show all {number} addresses"},showLess:{id:"show_less_blocked_list",defaultMessage:"Show less addresses"}});class vn extends d.a.Component{constructor(e){super(e),this.state={showFullList:!1},this.toggleBlockedList=this.toggleBlockedList.bind(this),this.renderBlockedList=this.renderBlockedList.bind(this),this.renderToggleButton=this.renderToggleButton.bind(this)}toggleBlockedList(){this.setState({showFullList:!this.state.showFullList})}renderBlockedList(){const e=this.props,t=e.onDelete;let a=e.blockedSenders;return!this.state.showFullList&&a.length>4&&(a=a.slice(0,4)),d.a.createElement("ol",{className:In.list},a.map((e,a)=>d.a.createElement("li",{key:a,className:In.listItem},d.a.createElement(An,{index:a,address:e,onDelete:t}))))}renderToggleButton(){const e=this.props.blockedSenders,t=this.state.showFullList,a=this.context.intl.formatMessage;return e.length>4?d.a.createElement("div",null,d.a.createElement("div",{className:In.separator}),d.a.createElement("a",{onClick:this.toggleBlockedList,"data-test-id":"toggle_button",className:In.textButton},t?a(Mn.showLess):a(Mn.showMore,{number:e.length}))):null}render(){const e=(0,this.context.intl.formatMessage)(Mn.addNewBlockedSender),t=this.props.onAdd;return d.a.createElement("div",{className:In.content,"data-test-id":"blocked-senders-list"},d.a.createElement("div",{className:In.btnContainer},d.a.createElement("h4",{className:In.listTitle},d.a.createElement(m.FormattedMessage,{id:"banned_address_list_header_text",defaultMessage:"Blocked addresses"})),d.a.createElement("div",{className:In.rightAlign},d.a.createElement(Fe.a,{onClick:t,size:R.d.XS,kind:R.b.ADD,title:e,colorState:R.a.SELECTED,"aria-label":e,"data-test-id":"add-new-blocked-sender"},d.a.createElement("span",{className:In.addBtn},e)))),this.renderBlockedList(),this.renderToggleButton())}}vn.contextTypes={intl:m.intlShape.isRequired};var Dn=vn,On=a(1628),kn=a.n(On);const Rn=Object(m.defineMessages)({address:{id:"address_label",defaultMessage:"Address"},addressPlaceholder:{id:"address_placeholder",defaultMessage:"Type a email address"},myAccountError:{id:"primary_account_error_text",defaultMessage:"You can not ban your own email address"},myExternalAccountError:{id:"external_account_error_text",defaultMessage:"You can not ban any of your own email addresses"},invalidEmailError:{id:"invalid_email_error_text",defaultMessage:"The email address to ban is invalid"},storageLimit:{id:"blocked_email_limit",defaultMessage:"Number of blocked addresses has reached the limit"}}),wn=u()(kn.a);class Pn extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{error:"",address:""}),r()(this,"saveAddress",()=>{let e=null;const t=this.state.address,a=this.props,n=a.onSave,s=a.limitReached,i=a.accounts.find(({email:e})=>e===t),r=Rn.myAccountError,o=Rn.myExternalAccountError,l=Rn.invalidEmailError,c=Rn.storageLimit;Object(v.n)(t)?i?e="1"===i.id?r:o:s&&(e=c):e=l,e?this.setState({error:e}):n(t)}),r()(this,"handleChange",e=>{this.setState({address:e})})}render(){const e=this.props.onCancel,t=this.state,a=t.address,n=t.error,s=this.context.intl.formatMessage,i=n?s(n):"";return d.a.createElement("div",{className:wn.wrapper,"data-test-id":"blocked-sender-editor"},d.a.createElement("div",{className:wn.previewSection},d.a.createElement("header",{className:wn.previewTitleWrapper},d.a.createElement("h4",{className:wn.previewTitle},d.a.createElement(m.FormattedMessage,{id:"add_banned_address_header_text",defaultMessage:"Add an email address to block"}))),d.a.createElement("label",{className:wn.nameLabel,htmlFor:"address"},d.a.createElement(m.FormattedMessage,{id:"banned_address_text",defaultMessage:"Address"})),d.a.createElement("div",{className:wn.address},d.a.createElement(nt.a,{isClearable:!0,value:a,error:i,name:"blocked-address",onChange:this.handleChange,label:s(Rn.address),"aria-label":s(Rn.address),placeholder:s(Rn.addressPlaceholder)})),d.a.createElement(It,{onCancel:e,onSave:this.saveAddress})))}}r()(Pn,"contextTypes",{intl:m.intlShape.isRequired});var xn=Pn,Fn=a(68),Ln=a.n(Fn),Bn=a(116);const Un=u()(En.a),Hn=Object(m.defineMessages)({securityAndPrivacyHeader_label:{id:"securityAndPrivacyHeader_label",defaultMessage:"Security and privacy"},securityAndPrivacyHint_hint:{id:"securityAndPrivacyHint_hint",defaultMessage:"Make your email safer"},securityAndPrivacyHint_corpHint:{id:"securityAndPrivacyHint_corpHint",defaultMessage:'To manage blocked addresses for Yahoo Corp Mail, please go to <a class="{class}" href="{url}" target="_blank">Gmail</a>.'},securityUpsell_title:{id:"securityUpsell_title",defaultMessage:"Shop, bank and browse online with confidence."},securityUpsell_text:{id:"securityUpsell_text",defaultMessage:"As a valued member of the Yahoo family, we want to help make sure your data is safe and secure. That's why we're proud to offer you Norton Security Online."},securityUpsell_link:{id:"securityUpsell_link",defaultMessage:"Help Protect Your Online Security Today"}});class jn extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{editorShown:!1}),r()(this,"saveBlockedSenders",(e,t=!1,a=1)=>{this.props.blockSenders({blockSenders:Ln()(e),overWrite:t,delta:a}),this.handleCancel()}),r()(this,"handleBannedAddressSave",e=>{this.saveBlockedSenders(this.props.blockedSenders.concat(e))}),r()(this,"handleDeleteAddress",e=>{this.saveBlockedSenders(this.props.blockedSenders.filter((t,a)=>a!==e),!0,-1)}),r()(this,"handleCancel",()=>{this.setState({editorShown:!1})}),r()(this,"handleAddNewAddress",()=>{this.setState({editorShown:!0})}),r()(this,"handleUpsellClicked",()=>{this.props.securitySubscriptionsUpsellClicked({i13nModel:{mKey:A.e.SECURITY_SUBSCRIPTIONS_UPSELL_CLICKED,sec:A.g.SETTINGS_LEFT_RAIL,interactionType:A.d.click}})}),r()(this,"renderSecuritySubscriptionsUpsell",()=>{const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:Un.securityUpsellContainer,"data-test-id":"security-upsell"},d.a.createElement("img",{className:Un.securityUpsellImag,src:Object(Ce.a)("/img/yahoo_norton_image.png")}),d.a.createElement("div",{className:Un.upsellTextContainer},d.a.createElement("p",{className:Un.upsellTextTitle},e(Hn.securityUpsell_title)),d.a.createElement("p",{className:Un.upsellTextContent},e(Hn.securityUpsell_text)),d.a.createElement("a",{className:Un.upsellTextLink,target:"_blank",rel:"noopener noreferrer",href:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B21803326.250207396;dc_trk_aid=443598529;dc_trk_cid=107039316;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=","aria-hidden":!0,onClick:this.handleUpsellClicked},e(Hn.securityUpsell_link))))})}componentDidMount(){this.props.showSecuritySubscriptionsUpsell&&Object(Bn.a)("https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B21803326.250207396;dc_trk_aid=443598529;dc_trk_cid=107039316;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=?",!1)}renderMessageForCorpMail(){const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:Un.left},d.a.createElement("div",{className:Un.mainWrapper},d.a.createElement(Et.a,{header:e(Hn.securityAndPrivacyHeader_label),hint:e(Hn.securityAndPrivacyHint_corpHint,{url:this.props.corpMailSecurityAndPrivacyUrl,class:Un.settingsSubHeaderLinkStyle})})))}render(){const e=this.state.editorShown,t=this.context,a=t.intl.formatMessage,n=this.props,s=n.blockedSenders,i=n.getAccounts,r=n.showSecuritySubscriptionsUpsell;return d.a.createElement("div",{className:Un.container,"data-test-id":"security-and-privacy-tab"},t.partner===N.F?this.renderMessageForCorpMail():d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:Un.left},d.a.createElement("div",{className:Un.mainWrapper},d.a.createElement(Et.a,{header:a(Hn.securityAndPrivacyHeader_label),hint:a(Hn.securityAndPrivacyHint_hint)}),d.a.createElement("div",{className:Un.menuList},d.a.createElement(Dn,{blockedSenders:s,onAdd:this.handleAddNewAddress,onDelete:this.handleDeleteAddress})))),d.a.createElement("div",{className:Un.right},e?d.a.createElement(xn,{accounts:i(),onCancel:this.handleCancel,onSave:this.handleBannedAddressSave,limitReached:s.length>=N.Ad.blockedSenders}):null,r&&!e?this.renderSecuritySubscriptionsUpsell():null)))}}r()(jn,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func,partner:l.a.string});var Gn=Object(D.connect)(e=>{const t=Object(H.b)(e),a=t.isFeatureEnabled;return{corpMailSecurityAndPrivacyUrl:(0,t.getSetting)(N.zd.CORP_MAIL_GMAIL_SETTINGS).securityAndPrivacyUrl,showSecuritySubscriptionsUpsell:a(N.ub.SECURITY_SUBSCRIPTIONS_UPSELL)}},e=>({securitySubscriptionsUpsellClicked:t=>e(Object(j.B)(t))}))(jn),Wn=a(1352),Zn=a.n(Wn),Vn=a(1629),qn=a.n(Vn),zn=a(484),Yn=a(101);const Kn=Object(m.defineMessages)({[N.Md.CONNECTED+"_message"]:{id:"linkButton.connectedMessage",defaultMessage:"Disconnect"},[N.Md.EXPIRED+"_message"]:{id:"linkButton.expiredMessage",defaultMessage:"Reconnect"},[N.Md.NOT_CONNECTED+"_message"]:{id:"linkButton.connect",defaultMessage:"Connect"}}),Xn={[N.Nd.LinkedIn]:A.e.IMPORT_LINKEDIN_CONTACTS,[N.M.GDrive]:A.e.CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED,[N.M.Dropbox]:A.e.CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED},Qn=(e,t)=>{const a=e.provider,n=e.accountStatus,s=e.onDisconnect,i=e.onConnect,r=e.isCloudStorageAccount,o=r&&N.R[a].displayName||a,l=u()(qn.a),c=(0,t.intl.formatMessage)(Kn[n+"_message"]||Kn[N.Md.NOT_CONNECTED+"_message"]);return d.a.createElement("li",{className:l.listItem,onClick:e=>{n===N.Md.CONNECTED?s({providerType:r?"CLOUD_STORAGE_ACCOUNT":"SOCIAL_ACCOUNT",provider:a}):i({url:"",provider:a,i13nModel:{mKey:Xn[a],sec:A.g.SETTINGS_SOCIAL_ACCOUNTS_TAB,interactionType:Object(v.j)(e)}})},role:"button","data-test-id":"social-account-item-"+a},d.a.createElement(zn.a,{accountType:a}),d.a.createElement("div",{className:l.accountInfo},d.a.createElement("p",{className:l.accountName},o)),d.a.createElement("div",{className:l.accountStatus},c))};Qn.contextTypes={intl:m.intlShape.isRequired};var Jn=Object(D.connect)(void 0,e=>({onConnect:t=>e(Object(Yn.a)(t))}))(Qn),$n=a(59),es=a(99);var ts=e=>{const t=u()(Zn.a),a=Object.keys(N.R).map(t=>d.a.createElement(Jn,{key:t,provider:t,accountStatus:(e.connectedProviderAccounts[t]||{}).status,onDisconnect:e.handleDisconnect,isCloudStorageAccount:!0}));return d.a.createElement("div",{className:t.cloudStorageAccountSection},d.a.createElement("div",{className:t.listContainer},d.a.createElement("div",{className:t.accountInfoHeader},d.a.createElement("p",{className:t.headerText},d.a.createElement(m.FormattedMessage,{id:"cloud_storage_account_list_header_text",defaultMessage:"Connected cloud storage accounts"})),d.a.createElement("span",{className:t.hint},d.a.createElement(m.FormattedMessage,{id:"cloud_storage_account_list_header_hint",defaultMessage:"Sync with cloud storage accounts for attaching files"}))),d.a.createElement($n.a,{kind:es.a.DEFAULT,className:t.listWrapper},a)))},as=a(148),ns=a(1630),ss=a.n(ns),is=a(389);const rs=u()(ss.a),os=e=>{const t=e.statuses,a=e.onConnect,n=e.onDisconnect;return d.a.createElement("div",{className:rs.listContainer},d.a.createElement("div",{className:rs.accountInfoHeader},d.a.createElement(m.FormattedMessage,{id:"import_account_contacts.header",defaultMessage:"Import contacts"})),d.a.createElement($n.a,{kind:es.a.DEFAULT,className:rs.listWrapper},N.T.map(e=>{const s=t[e]||{};return d.a.createElement(is.b,{provider:e,key:e,accountStatus:s.status,lastImportedTime:s.lastImportedTime,onConnect:a,onDisconnect:n})})))};os.contextTypes={};var ls=Object(D.connect)(e=>{return{statuses:(0,(0,Object(H.b)(e).getMailboxesSelectors)().getSocialAccountsStatus)()||{}}})(os);const cs=Object(m.defineMessages)({confirmDisconnectImportTitle:{id:"confirm_disconnect_import_titlet",defaultMessage:"Stop importing contacts"},confirmDisconnectSocialTitle:{id:"confirm_disconnect_social_title",defaultMessage:"Disconnect a Social account"},confirmDisconnectCloudTitle:{id:"confirm_disconnect_cloud_title",defaultMessage:"Disconnect a Cloud Storage account"},rightRailHeader:{id:"social_accounts_right_rail_header",defaultMessage:"Find help for social accounts"}}),ds=u()(Zn.a);class ms extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showConfirm:!1,selectedAccount:null}),r()(this,"disconnectSocialAccount",()=>{const e=this.state.selectedAccount;this.toggleConfirmDialog(!1),"EMAIL_PROVIDERS"===e.providerType?this.props.onContactImportDisconnect(e):N.R[e.provider]?this.props.unlinkCloudStorageAccount({provider:e.provider,unlink:!0}):this.props.unlinkSocialAccount({provider:e.provider})}),r()(this,"handleCancel",()=>{this.toggleConfirmDialog(!1)}),r()(this,"handleDisconnect",e=>{this.toggleConfirmDialog(!0,e)}),r()(this,"toggleConfirmDialog",(e,t=null)=>{this.setState({showConfirm:e,selectedAccount:t})}),r()(this,"renderConfirmTitle",()=>{const e=this.state.selectedAccount,t=this.context.intl.formatMessage;return t(e&&"EMAIL_PROVIDERS"===e.providerType?cs.confirmDisconnectImportTitle:N.R[e.provider]?cs.confirmDisconnectCloudTitle:cs.confirmDisconnectSocialTitle)}),r()(this,"renderSocialAccounts",()=>{const e=Object.keys(N.S).map(e=>d.a.createElement(Jn,{key:e,provider:e,accountStatus:(this.props.connectedAccounts[e]||{}).status,onDisconnect:this.handleDisconnect}));return d.a.createElement("div",{className:ds.listContainer},d.a.createElement("div",{className:ds.accountInfoHeader},d.a.createElement("p",{className:ds.headerText},d.a.createElement(m.FormattedMessage,{id:"social_account_list_header_text",defaultMessage:"Connected social networks"})),d.a.createElement("span",{className:ds.hint},d.a.createElement(m.FormattedMessage,{id:"social_accounts_list_header_hint",defaultMessage:"Sync with social apps to see information about your contacts and have a more personal Mail experience"}))),d.a.createElement($n.a,{kind:es.a.DEFAULT,className:ds.listWrapper},e))}),r()(this,"renderCloudStorageAccounts",()=>d.a.createElement(ts,{connectedProviderAccounts:this.props.connectedProviderAccounts,handleDisconnect:this.handleDisconnect}))}render(){const e=this.state,t=e.showConfirm,a=e.selectedAccount,n=this.context.intl,s=n.formatMessage,i=n.locale,r=this.context,o=r.mailBrandNameString,l=r.partner;return d.a.createElement("div",{className:ds.container},d.a.createElement("div",{className:ds.left},d.a.createElement("div",{className:ds.headerWrapper},d.a.createElement("header",{className:ds.titleWrapper},d.a.createElement("h4",{className:ds.title},d.a.createElement(m.FormattedMessage,{id:"social_accounts_header",defaultMessage:"Social accounts"}))),d.a.createElement(ls,{onConnect:this.props.onContactImportConnect,onDisconnect:this.handleDisconnect}),this.props.cloudStorageEnabled?this.renderCloudStorageAccounts():null,this.renderSocialAccounts())),d.a.createElement("div",{className:ds.right},d.a.createElement(Ut,{demoImg:be.c.SOCIAL,header:s(cs.rightRailHeader),helpLinks:Zt.e.map(({text:e,link:t})=>({text:s(e,{mailBrandNameString:o}),link:t(i,l)}))})),t?d.a.createElement(et.a,{onConfirm:this.disconnectSocialAccount,title:this.renderConfirmTitle(),onAbort:this.handleCancel},a&&"EMAIL_PROVIDERS"===a.providerType?d.a.createElement(m.FormattedHTMLMessage,{id:"confirm.delete_import_account",defaultMessage:"Are you sure you want to stop importing contacts from <b>{providerName}</b>?",values:{providerName:a.providerName}}):d.a.createElement(m.FormattedMessage,{id:"confirm.delete_social_account",defaultMessage:"Are you sure you want to disconnect this account?"})):null)}}r()(ms,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func,mailBrandNameString:l.a.string,partner:l.a.string});var _s=Object(D.connect)(e=>{const t=Object(H.b)(e),a=t.getFeaturesSelectors;return{connectedProviderAccounts:(0,(0,t.getContentProviders)().getContentProvidersStatus)(),cloudStorageEnabled:a().isEnabled(N.ub.CLOUD_STORAGE)}},e=>({unlinkSocialAccount:t=>e(Object(Yn.n)(t)),unlinkCloudStorageAccount:t=>e(Object(as.i)(t)),onContactImportConnect:t=>e(Object(Yn.k)(t)),onContactImportDisconnect:t=>e(Object(Yn.b)(t))}))(ms),us=a(1631),ps=a.n(us),hs=a(1632),gs=a.n(hs);const Es=u()(gs.a);var bs=({supportImgs:e,header:t,hint:a})=>d.a.createElement("div",{className:Es.rightContainer,"data-test-id":"mail-pro-help"},d.a.createElement("div",{className:Es.supportImgContainer},d.a.createElement("img",{className:Es.supportImg,src:Object(Ce.a)(e)}),d.a.createElement("div",{className:Es.headerContainer},d.a.createElement("h4",{className:Es.helpTitle},d.a.createElement("span",null,t)),d.a.createElement("span",{className:Es.helpHint},a)))),Cs=a(2);const fs=u()(ps.a),Ss=Object(m.defineMessages)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},tryForFree:{id:"mail.try_for_free",defaultMessage:"Try for free"},manageSubscriptionHeader:{id:"manageSubscription_text",defaultMessage:"Manage your subscription"},getMailProHint:{id:"get_mail_pro_hint",defaultMessage:"Ad-free mail for this account and more"}});class ys extends d.a.Component{constructor(...e){super(...e),r()(this,"navigateToMailPro",()=>{this.props.navigateToMailPro({mKey:this.props.mailProEnabled?A.e.NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:A.e.NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE,sec:A.g.MAIL_PRO_SETTINGS,interactionType:A.d.click,actionData:{region:this.context.region}})}),r()(this,"renderLink",()=>{const e=this.context.intl.formatMessage;return d.a.createElement("div",{className:fs.left},d.a.createElement("div",{className:fs.mainWrapper},d.a.createElement(Et.a,{header:e(Ss.yahooMailProBranding),hint:this.props.mailProEnabled?null:e(Ss.getMailProHint)}),d.a.createElement("a",{href:N.c,target:"_blank",rel:"noreferrer",className:fs.buttonContainer,onClick:this.navigateToMailPro},d.a.createElement(Je.a,{className:fs.selectedPlan,"data-test-id":"free-mail-pro-button"},e(this.props.mailProEnabled?Ss.manageSubscriptionHeader:Ss.tryForFree)))))})}render(){const e="us"===this.context.region?Zt.c:Zt.c.slice(0,1),t=this.context.intl.formatMessage;return d.a.createElement("div",{className:fs.container,"data-test-id":"yahoo_mail_pro"},this.renderLink(),d.a.createElement("div",{className:fs.right},e&&e.map((e,a)=>d.a.createElement(bs,{key:a,supportImgs:e.img,header:t(e.header),hint:t(e.hint)}))))}}r()(ys,"contextTypes",{intl:m.intlShape.isRequired,region:l.a.string});var Ts=Object(D.connect)(null,e=>({navigateToMailPro:t=>e((({i13nModel:e})=>({type:Cs.zh,i13nModel:e}))({i13nModel:t}))}))(ys),Ns=a(1633),As=a.n(Ns),Is=a(1634),Ms=a.n(Is),vs=a(483);const Ds=Object(m.defineMessages)({signaturelabel:{id:"signature_lable",defaultMessage:"Signature"},signatureToggle:{id:"signature_toggle",defaultMessage:"Toggle signature"},tweetToggle:{id:"tweet_toggle",defaultMessage:"include latest tweet"}}),Os=()=>{};class ks extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hintHovered:!1}),r()(this,"handleBlur",()=>{this.props.onSave(this.props.account)}),r()(this,"handleFocus",()=>{this.updateSignatureText(this.props.account.signature)}),r()(this,"handleTweetToggle",e=>{this.props.onTweetEnable(e)}),r()(this,"handleSignatureStatusChange",()=>{const e=this.props.account;this.props.onStatusChange({id:e.id,signatureActive:!e.signatureActive})}),r()(this,"toggleHintHover",()=>{this.setState({hintHovered:!this.state.hintHovered})}),r()(this,"updateSignatureText",e=>{this.props.onChange(this.props.account.id,e)}),r()(this,"renderTweetToggle",e=>{return d.a.createElement("div",{className:e.formControl},d.a.createElement(Ra.a,{isChecked:this.props.enableTweet,onClick:this.handleTweetToggle,ariaLabel:(0,this.context.intl.formatMessage)(Ds.tweetToggle)}),d.a.createElement($a.c,{triggerOn:$a.b.HOVER,onHide:this.toggleHintHover,onShown:this.toggleHintHover,triggerOff:$a.a.HOVER_OUT},d.a.createElement("span",{className:e.toggleControlName},d.a.createElement(m.FormattedMessage,{id:"includeTweet_text",defaultMessage:"Include your latest Tweet from Twitter"})),d.a.createElement("div",{className:e.tweetHint},d.a.createElement(m.FormattedMessage,{id:"include_tweet_hint_text",defaultMessage:"Turn on this require to sign in Twitter"}))))})}render(){const e=this.state.hintHovered,t=this.context.intl.formatMessage,a=this.props.account,n=a.signatureActive,s=a.email,i=a.signature,r=a.isPrimary,o=this.props,l=o.composeFontFamily,c=o.composeFontSize,_=o.showDefaultTitle,p=o.showEditorAlways,h=o.showTweet,g=o.stationeryRestrictedThemes,E=o.rtl,b=u()(Ms.a,{signatureActive:n,hintHovered:e,showDefaultTitle:_});return d.a.createElement("div",{className:b.signatureControl},d.a.createElement("h4",{className:b.header},d.a.createElement("span",{className:b.email},_?d.a.createElement(m.FormattedMessage,{id:"signature_title_text",defaultMessage:"Signature"}):s),d.a.createElement("span",{className:b.rightAlign,"data-test-id":"signature-toggle-button"},d.a.createElement(vs.a,{isEnabled:!!n,onClick:this.handleSignatureStatusChange,ariaLabel:t(Ds.signatureToggle)}))),p||n?d.a.createElement("div",{className:b.signatureWrapper},d.a.createElement("div",{className:b.signatureEditor},d.a.createElement(gt,{disabled:!n,ariaLabel:t(Ds.signaturelabel),content:i,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.updateSignatureText,composeFontFamily:l,composeFontSize:c,stationeryRestrictedThemes:g,rtl:E,editorKind:He.EditorTypes.MESSAGE,toolbarKind:He.ToolbarTypes.MESSAGE})),r&&h?this.renderTweetToggle(b):null):null)}}r()(ks,"contextTypes",{intl:m.intlShape,config:l.a.object}),r()(ks,"defaultProps",{showDefaultTitle:!1,showEditorAlways:!1,onTweetEnable:Os,onSave:Os});var Rs=ks;const ws=u()(As.a),Ps=Object(m.defineMessages)({writeEmailHeader_label:{id:"writeEmail_label",defaultMessage:"Writing emails"},writeEmailHint_hint:{id:"writeEmail_hint_label",defaultMessage:"Manage your email writing experience"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},sampleText:{id:"writing_email.sample_text",defaultMessage:"How are you doing?"},account_name_label:{id:"writing_email.account_name_label",defaultMessage:"Extra"},linkEnhancer_text:{id:"linkEnhancer_text",defaultMessage:"Automatically generate a preview of links"},default_text:{id:"compose.default_text",defaultMessage:"Default"}}),xs=e=>-1!==[N.i.ALIAS,N.i.DEA].indexOf(e),Fs=e=>-1!==[N.i.SENDAS,N.i.POPIN].indexOf(e);class Ls extends d.a.Component{constructor(e){super(e),r()(this,"handleDefaultSendingAddressChange",e=>{this.props.updateAccountDetails({accountId:e,updatedProperties:{isSending:!0}})}),r()(this,"handleFontFamilyChange",e=>{this.props.changeSettings({name:N.zd.COMPOSE_FONT_FAMILY,value:e})}),r()(this,"handleFontSizeChange",e=>{this.props.changeSettings({name:N.zd.COMPOSE_FONT_SIZE,value:""+e})}),r()(this,"updateAccounts",({id:e,signature:t})=>{const a=this.props.getAccounts().find(t=>t.id===e);a&&a.signature!==t&&this.props.updateAccountDetails({accountId:a.id,signature:t,updatedProperties:{signature:t}})}),r()(this,"updateSignatureStatus",({id:e,signatureActive:t})=>{this.props.updateAccountDetails({accountId:e,updatedProperties:{signatureActive:t}}),t||this.setState({selectedIndex:-1})}),r()(this,"updateSignature",(e,t)=>{const a=this.getUpdatedAccounts(e,{signature:t}),n=a.accounts;n&&this.setState({accounts:n,selectedIndex:a.index})}),r()(this,"updateTweetStatus",()=>{}),r()(this,"getDefaultSendingAddresses",()=>{let e;const t=this.context.intl.formatMessage,a=this.props.getAccounts().reduce((a,{id:n,email:s,isPrimary:i,type:r,status:o,description:l,accountVerified:c,isSending:d})=>{let m;return i?e={id:n,email:s,accountName:t(Ps.default_text)}:xs(r)?m=t(Ps.account_name_label):"ENABLED"===o&&c&&Fs(r)&&(m=l),!i&&m&&a.push({id:n,email:s,accountName:m,isSending:d}),a},[]);return a.unshift(e),a.filter(Boolean)}),r()(this,"getRootAccounts",e=>e.filter(({type:e})=>N.ad.indexOf(e)>-1)),r()(this,"getUpdatedAccounts",(e,t)=>{const a=this.getRootAccounts(this.state.accounts),n=a.findIndex(t=>t.id===e);if(n>-1){return{accounts:[...a.slice(0,n),Object.assign({},a[n],t),...a.slice(n+1)],index:n}}return{}}),r()(this,"getFirstAccountWithSignatureActive",()=>{let e=this.state.selectedIndex;return-1===e&&(e=this.getRootAccounts(this.state.accounts).findIndex(({signatureActive:e})=>e)),e}),r()(this,"hideAccount",e=>e.status===N.h.DELETE_IN_PROGRESS||e.type===N.i.POPIN||e.type===N.i.EXTERNAL||e.type===N.i.PHONE),r()(this,"renderAccounts",e=>{const t=this.props,a=t.composeFontFamily,n=t.composeFontSize,s=t.showTweet,i=t.stationeryRestrictedThemes,r=t.rtl;return e.map(e=>this.hideAccount(e)?null:d.a.createElement("li",{key:e.email,"data-test-id":"signature-item",className:ws.signatureItem},d.a.createElement(Rs,{account:e,onChange:this.updateSignature,onTweetEnable:this.updateTweetStatus,onStatusChange:this.updateSignatureStatus,onSave:Oe()(this.updateAccounts,500),composeFontFamily:a,composeFontSize:n,showTweet:s,stationeryRestrictedThemes:i,rtl:r})))}),r()(this,"toggleLinkEnhancerMode",e=>{this.props.updateLinkEnhancerMode({name:N.zd.LINK_ENHANCR,value:!this.props.linkEnhancer,i13nModel:{mKey:A.e.SETTINGS_LINK_ENHANCER,sec:A.g.SETTINGS_WRITING_EMAIL_TAB,interactionType:Object(v.j)(e)}})}),r()(this,"getSelectedSendingAccount",e=>{const t=e.find(e=>e.isSending);return t||e[0]}),this.state={accounts:(0,e.getAccounts)(),selectedIndex:-1}}componentWillReceiveProps({getAccounts:e}){this.setState({accounts:e()})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.composeFontFamily,n=t.composeFontSize,s=t.activeAccount,i=t.linkEnhancer,r=this.state,o=r.showTweet,l=r.accounts,c={[He.FontSizes[0].name]:e(Ps.font_size_label_tiny),[He.FontSizes[1].name]:e(Ps.font_size_label_small),[He.FontSizes[2].name]:e(Ps.font_size_label_medium),[He.FontSizes[3].name]:e(Ps.font_size_label_large),[He.FontSizes[4].name]:e(Ps.font_size_label_xlarge),[He.FontSizes[5].name]:e(Ps.font_size_label_huge)},_=this.getRootAccounts(l),u=_[this.getFirstAccountWithSignatureActive()]||s,p=this.getDefaultSendingAddresses(),h=this.getSelectedSendingAccount(p);return d.a.createElement("div",{className:ws.container,"data-test-id":"writing-email"},d.a.createElement("div",{className:ws.left},d.a.createElement("div",{className:ws.mainWrapper},d.a.createElement("div",{className:ws.pageHeader},d.a.createElement(Et.a,{header:e(Ps.writeEmailHeader_label),hint:e(Ps.writeEmailHint_hint)})),d.a.createElement("div",{className:ws.linkEnhancerControl,"data-test-id":"link-enhancer-toggle"},d.a.createElement(Et.a,{canToggle:!0,subHeader:!0,toggleEnabled:i,onToggle:this.toggleLinkEnhancerMode,header:e(Ps.linkEnhancer_text)})),d.a.createElement("div",{className:ws.signatureHeader},d.a.createElement("h5",{className:ws.headerTitle},d.a.createElement(m.FormattedMessage,{id:"signature_text",defaultMessage:"Signature"}))),d.a.createElement("ul",{className:ws.signatureControl},this.renderAccounts(_)),d.a.createElement("h5",{className:ws.headerTitle},d.a.createElement(m.FormattedMessage,{id:"richTextFont_text",defaultMessage:"Default rich-text font"})),d.a.createElement("div",{className:ws.formControl},d.a.createElement("div",{className:ws.fontSelectWrapper},d.a.createElement("span",{className:ws.selectbox,"data-test-id":"settings-font-family"},d.a.createElement(Jt.a,{selected:a,onChange:this.handleFontFamilyChange},He.Fonts.map(({name:t,fontFamily:a,label:n})=>d.a.createElement(Qt.a,{key:t,value:a},Object(ct.getLocalizedFontFamilyName)(e,t)||n)))),d.a.createElement("span",{className:ws.selectbox,"data-test-id":"settings-font-size"},d.a.createElement(Jt.a,{selected:+n,onChange:this.handleFontSizeChange},He.FontSizes.map(({name:e,fontSize:t})=>d.a.createElement(Qt.a,{key:e,value:t},c[e])))))),!!p.length&&d.a.createElement("div",{className:ws.formControl},d.a.createElement("h5",{className:ws.headerTitle},d.a.createElement(m.FormattedMessage,{id:"sendingAddress_text",defaultMessage:"Default sending address"})),d.a.createElement("div",{className:ws.formControl},d.a.createElement("div",{className:ws.sendingAddressControl,"data-test-id":"settings-sending-account"},d.a.createElement(Jt.a,{selected:h.id,onChange:this.handleDefaultSendingAddressChange},p.map(({id:e,email:t,accountName:a})=>d.a.createElement(Qt.a,{key:t,value:e},`${a} (${t})`)))))))),d.a.createElement("div",{className:ws.right},d.a.createElement(We,{showTweet:o,account:u,composeFontFamily:a,composeFontSize:+n,content:e(Ps.sampleText),kind:He.PreviewTypes.MESSAGE})))}}r()(Ls,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func});var Bs=Object(D.connect)(e=>{const t=Object(H.b)(e),a=t.getRoute,n=t.getSelectedAccountIdByRoute,s=t.getAccountById,i=t.getAllAccounts,r=(0,t.getFeaturesSelectors)();return{activeAccount:s(n(a())),getAccounts:i,rtl:r.isEnabled(N.ub.RTL),showTweet:r.isEnabled(N.ub.SHOW_TWEET),linkEnhancer:r.isEnabled(N.zd.LINK_ENHANCR),composeFontSize:r.getSetting(N.zd.COMPOSE_FONT_SIZE),composeFontFamily:r.getSetting(N.zd.COMPOSE_FONT_FAMILY),stationeryRestrictedThemes:r.isEnabled(N.zd.STATIONERY_RESTRICTED_THEMES)}},e=>({changeSettings:t=>e(Object(g.b)(t)),updateFontFamily:t=>e(Object(g.b)(t)),updateLinkEnhancerMode:t=>e(Object(g.b)(t)),updateFontFamilypdateFontFamily:t=>e(Object(g.b)(t)),updateAccountDetails:t=>e(Object(g.k)(Ne()({},t,{warnOnClose:!1})))}))(Ls),Us=a(39),Hs=a.n(Us),js=a(1635),Gs=a.n(js),Ws=a(1250),Zs=a.n(Ws),Vs=a(48),qs=a(1636),zs=a.n(qs);var Ys=function({accounts:e,enableAccounts:t,onToggle:a}){const n=u()(zs.a),s=e=>{a(e)};return d.a.createElement("ul",{className:n.listContainer},e.map(e=>d.a.createElement("li",{className:n.accountItem,key:e.id},d.a.createElement(Et.a,{canToggle:!0,toggleEnabled:!!t[e.id],header:e.email,onToggle:s.bind(null,e.id)}))))},Ks=a(1637),Xs=a.n(Ks);const Qs=Object(Zt.g)("SLN29133"),Js=Object(m.defineMessages)({acceptLabel:{id:"account_forwarding_remove_btn",defaultMessage:"Remove"},verifyLabel:{id:"account_forwarding_verify_btn",defaultMessage:"Verify"},forwardingLabel:{id:"account_forwarding_text",defaultMessage:"Forwarding"},forwardingPlaceholder:{id:"forward_input_placeholder",defaultMessage:"Forwarding address"},forwardingLearnMore:{id:"forward_learn_more",defaultMessage:"Learn more"}});class $s extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showDialog:!1,isFocus:!1,showVerificationPendingStatus:!1}),r()(this,"onRemove",()=>{this.setState({showDialog:!0})}),r()(this,"onVerify",()=>{const e=this.props.stateForwardEmail,t=Object(v.n)(e);this.setState(()=>t?{showVerificationPendingStatus:!0}:null,()=>this.props.onVerify())}),r()(this,"handleFocusBlur",()=>{this.setState(({isFocus:e})=>({isFocus:!e}))}),r()(this,"handleChange",e=>{(0,this.props.onChange)(e)}),r()(this,"renderDescription",e=>{const t=this.props,a=t.forwardEmail,n=t.forwardEmailVerified,s=t.showForwardReviewAlert,i=t.stateForwardEmail,r=this.state.showVerificationPendingStatus;let o=null;if(!1===t.isEmailValid)o=d.a.createElement(m.FormattedMessage,{id:"forward_email_error",defaultMessage:"Email is invalid"});else if(a&&n)o=d.a.createElement(m.FormattedMessage,s?{id:"email_forward_review",defaultMessage:"If you don't recognize the email address above, please remove or disable Forwarding immediately."}:{id:"email_forward_verified",defaultMessage:"Verified"});else if(a&&!n)o=d.a.createElement(m.FormattedMessage,{id:"email_forward_wait",defaultMessage:"This email address is waiting to be verified. Please follow the instructions sent to {email}.",values:{email:a||i}});else if(!a&&!r)return null;const l=d.a.createElement(k.b,{kind:R.b.CAL_ACCEPT,size:R.d.XS,colorState:R.a.SUCCESS}),c=d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED});return d.a.createElement("div",{className:e.autoForwardDescription,"data-test-id":"auto-forwarding-description"},d.a.createElement("div",{className:e.verifyIcon},n&&s||!n?c:l),d.a.createElement("div",{className:e.verifyDescription},o))})}componentDidUpdate(){this.state.showVerificationPendingStatus&&this.props.forwardEmail&&this.setState({showVerificationPendingStatus:!1})}componentWillUnmount(){const e=this.props;e.showForwardReviewAlert&&(0,e.reviewEmail)({accountId:e.accountId,updatedProperties:{showForwardReviewAlert:!1}})}render(){const e=this.context,t=e.intl,a=t.formatMessage,n=t.locale,s=e.partner,i=this.props,r=i.forwardEmail,o=i.disableForwarding,l=i.forwardEmailVerified,c=i.stateForwardEmail,_=i.isEmailValid,u=this.state,p=u.showDialog,h=this.renderDescription,g=this.handleChange,E=this.onVerify,b=this.onRemove,C=this.handleFocusBlur,f=(0,e.getCss)(Xs.a,{isFocus:u.isFocus,forwardEmailVerified:l}),S=Qs(n,s);return d.a.createElement("div",{"data-test-id":"auto-forwarding-section"},p?d.a.createElement(et.a,{title:d.a.createElement(m.FormattedMessage,{id:"account_forwarding_disable_modal",defaultMessage:"Removing {email} will permanently stop automatic email forwarding. Are you sure?",values:{email:d.a.createElement("strong",null," ",r," ")}}),acceptLabel:Js.acceptLabel,message:"",wideContainer:!0,onAbort:()=>{this.setState({showDialog:!1})},onConfirm:()=>{this.setState({showDialog:!1},()=>o())}}):null,d.a.createElement("div",{className:f.displayFlex},d.a.createElement("label",{className:f.autoForwardingHeader,htmlFor:"emailForwarding"},a(Js.forwardingLabel))),d.a.createElement("div",{className:f.disabledText},d.a.createElement(m.FormattedMessage,{id:"account_forwarding_description",defaultMessage:"Forward your mail to the specified address, so you can check it there."}),d.a.createElement("a",{className:f.learnMore,href:S,target:"_blank"},a(Js.forwardingLearnMore))),d.a.createElement("div",{className:f.textInput},d.a.createElement("div",{className:f.inputBox},d.a.createElement(nt.a,{className:f.inputStyle,name:"stateForwardEmail","aria-label":a(Js.forwardingPlaceholder),placeholder:a(Js.forwardingPlaceholder),value:c,onChange:g,onFocus:C,onBlur:C,disabled:r&&l}),d.a.createElement("div",{className:f.removeButtonContainer},r&&l?d.a.createElement(Je.a,{"data-test-id":"accounts-delete-forwarding-btn",kind:$e.a.DANGER,paddingLess:!0,overridingClass:f.removeForwardingBtn,onClick:b},d.a.createElement("div",{className:f.removeText},a(Js.acceptLabel))):d.a.createElement(Je.a,{"data-test-id":"accounts-verify-forwarding-btn",kind:$e.a.PRIMARY,paddingLess:!0,overridingClass:f.verifyForwardingBtn,disabled:!c||!1===_,onClick:E},d.a.createElement("div",{className:f.removeText},a(Js.verifyLabel))))),h(f)))}}r()($s,"displayName","AutoForwardingSection"),r()($s,"contextTypes",{intl:m.intlShape.isRequired,getCss:l.a.func,partner:l.a.string});var ei=$s;const ti=Object(m.defineMessages)({brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"},accountName:{id:"account_name_placeholder",defaultMessage:"Your Name"},accountDescription:{id:"account_description_placeholder",defaultMessage:"Description"},accountNameHint:{id:"account_name_hint",defaultMessage:"The name shown in emails you send."},accountDescriptionHint:{id:"account_description_hint",defaultMessage:"Name this mailbox."},sendOnlyDescriptionHint:{id:"account_sendonly_description_hint",defaultMessage:"Name this send-only email address"},confirmBtn:{id:"edit_confirm_btn_text",defaultMessage:"Remove mailbox"},confirmAliasBtn:{id:"edit_remove_alias_btn_text",defaultMessage:"Remove alias"},confirmSendOnlyBtn:{id:"edit_remove_sendonly_btn_text",defaultMessage:"Remove send-only email address"},saveBtnTitle:{id:"account_save_btn_title",defaultMessage:"Save"},saveBtnDisabled:{id:"account_save_btn_disabled_title",defaultMessage:"Please select at lease one mailbox to link to your send-only email address"},cancelBtnTitle:{id:"account_cancel_btn_title",defaultMessage:"Cancel"},sendOnlyType:{id:"edit_send_only",defaultMessage:"(send-only)"},aliasType:{id:"edit_alias_account",defaultMessage:"(alias)"},aliasAddSuccess:{id:"alias_account_add_success",defaultMessage:"Congratulations. Your email alias has been added"},aliasAddedMessage:{id:"alias_account_add_msg",defaultMessage:"Now you can use {email} to send and receive messages from this mailbox."}}),ai=u()(Zs.a);function ni(e,t){let a="";if(e){const e=N.ob.YAHOO;return e.charAt(0).toUpperCase()+e.slice(1)}return t&&(a=t.split("@")[0]),a}class si extends d.a.Component{constructor(e,t){super(e,t),r()(this,"_handleOAuthResponse",({status:e,wssid:t})=>{const a=this.props,n=a.handleReauth,s=a.account,i=s.id,r=s.email,o=Object(Vs.d)(this.state.account);window[N.Ic]=void 0,n(200===(e=parseInt(e,10))?{wssid:t,accountId:i,email:r,provider:o}:{error:{status:e},email:r,provider:o})}),r()(this,"_openOAuthWindow",()=>{const e=this.context.partner,t=this.props,a=t.appRootPath,n=t.account.email,s=Object(Vs.d)(this.state.account),i=s===N.ob.GOOGLE?600:700,r=`https://${window.location.hostname}${a}/oAuth`,o="ycorp"===e;return window[N.Ic]=this._handleOAuthResponse,window.oAuthWindow?(this.oAuthWindow=window.oAuthWindow,delete window.oAuthWindow):this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,i),this.context.credstoreClient.getAuthorizationURL({provider:s,email:n,redirectUrl:r,isCorpUser:o}).then(({authorizeUrl:e,authorizeURL:t})=>{this.oAuthWindow.location.replace(`${e||t}&${s===N.ob.AOL?"login_id":"login_hint"}=${n}`)})}),r()(this,"_getPopupwindow",(e,t,a,n)=>{const s=screen.width/2-a/2,i=screen.height/2-n/2;return window.open(e,t,`width=${a}, height=${n}, top=${i}, left=${s}`)}),r()(this,"handleChange",(e,t)=>{const a=this.state.account;Object.assign(a,{[e]:t}),this.setState({account:a})}),r()(this,"handleForwardEmailChange",e=>{this.setState(({isForwardEmailValid:t})=>{const a={};return!1===t&&(a.isForwardEmailValid=null),Ne()({},a,{forwardEmail:e})})}),r()(this,"handleSave",()=>{const e=this.state,t=e.account,a=t.id,n=t.type,s=t.unsetFields,i=void 0===s?[]:s,r=e.forwardEmail,o=e.enableAccounts,l=this.props.account.forwardEmailVerified,c={sendingName:t.sendingName,description:t.description,replyToAddress:t.replyToAddress,signatureActive:t.signatureActive,signature:t.signature};i.length&&(c.unsetFields=i),n===N.i.SENDAS&&(c.linkedAccounts=Object.keys(o));const d=Object(v.n)(r),m={};if(r&&!l){if(!d)return void this.setState({isForwardEmailValid:d},()=>this.props.onSave(a,c,m));c.forwardEmail=r,c.forwardSetting=N.Y,m.mKey=A.e.SETTINGS_ENABLE_FORWARDING,m.sec=A.g.SETTINGS_ACCOUNTS_TAB}else!r&&this.props.account.forwardEmail&&(c.unsetFields=[...i,"forwardEmail","forwardSetting"],m.mKey=A.e.SETTINGS_DISABLE_FORWARDING,m.sec=A.g.SETTINGS_ACCOUNTS_TAB);this.props.onSave(a,c,m),this.props.onCancel()}),r()(this,"handleVerify",()=>{const e=this.state,t=e.forwardEmail,a=e.account.id,n=this.props.onSave,s=Object(v.n)(t);this.setState({isForwardEmailValid:s},()=>{if(s){n(a,{forwardEmail:t,forwardSetting:N.Y})}})}),r()(this,"handleDelete",()=>{const e=this.props,t=e.account.id,a=e.onDelete;this.toggleConfirmDialog(!1),a(t)}),r()(this,"handleCancel",()=>{this.props.onCancel()}),r()(this,"handleReauthorize",e=>{e.preventDefault(),this._openOAuthWindow()}),r()(this,"handleLinkedAccountToggle",e=>{const t=this.state.enableAccounts;void 0===t[e]?t[e]=!0:delete t[e],this.setState({enableAccounts:t})}),r()(this,"removeMailbox",()=>{this.props.confirmAccountDeleted(),this.toggleConfirmDialog(!0)}),r()(this,"disableForwarding",()=>{const e=this.state.account,t={unsetFields:["forwardEmail","forwardSetting"]},a={mKey:A.e.SETTINGS_DISABLE_FORWARDING,sec:A.g.SETTINGS_ACCOUNTS_TAB};this.setState({forwardEmail:""},()=>this.props.onSave(e.id,t,a))}),r()(this,"toggleConfirmDialog",e=>{this.setState({showConfirm:e})}),r()(this,"showSignature",e=>e!==N.i.ALIAS&&e!==N.i.SENDAS),r()(this,"showLinkedAccountsList",e=>{return this.props.enableLinkAccounts&&e===N.i.SENDAS}),r()(this,"hideReauth",e=>e===N.i.ALIAS||e===N.i.SENDAS),r()(this,"getAccountType",e=>{const t=this.context.intl.formatMessage;switch(e){case N.i.SENDAS:return t(ti.sendOnlyType);case N.i.ALIAS:return t(ti.aliasType);default:return null}}),r()(this,"getDeleteBtnString",e=>{const t=this.context.intl.formatMessage;switch(e){case N.i.SENDAS:return t(ti.confirmSendOnlyBtn);case N.i.ALIAS:return t(ti.confirmAliasBtn);default:return t(ti.confirmBtn)}}),r()(this,"getErrorMessage",()=>{const e=this.state.account;return e.accountVerified||e.type!==N.i.SENDAS?null:d.a.createElement("div",{className:ai.errorWrapper},d.a.createElement("div",{className:ai.errorIcon},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED})),d.a.createElement("div",{className:ai.errorMessageWrapper},d.a.createElement("div",{className:ai.errorMessage},this.getErrorMessageBody())))}),r()(this,"handleResendClick",e=>{e.preventDefault(),this.props.onResend(this.props.account)}),r()(this,"getErrorMessageBody",()=>{const e=this.state.account,t=this.props.sendingEmailConfirmStatus;return e.accountVerified?null:d.a.createElement("div",null,d.a.createElement(m.FormattedMessage,{id:"edit_account_verified_body",defaultMessage:"Check {email} for a verification email from Yahoo and follow\n                            the steps. If you do not receive the email, try resending it.",values:{email:d.a.createElement("b",null,e.email)}}),d.a.createElement("div",{className:ai.link,onClick:this.handleResendClick,href:"#"},t?d.a.createElement("span",{className:ai.sendingText},d.a.createElement(m.FormattedMessage,{id:"edit_sending_verification",defaultMessage:"Sending..."})):d.a.createElement(m.FormattedMessage,{id:"edit_resend_verification",defaultMessage:"Resend email"})))}),r()(this,"getReauthorizeMailboxLink",(e,t)=>d.a.createElement("div",null,d.a.createElement("a",{href:"#",className:e.reauthorizeText,onClick:this.handleReauthorize},d.a.createElement(m.FormattedMessage,{id:"account_reauthorize_text",defaultMessage:"Sign in to {provider}",values:{provider:t}})))),r()(this,"getReauthorizeMailboxAlertMessage",()=>{const e=this.state.account,t=e.id,a=e.isPrimary,n=e.status,s=e.type,i=this.props.expiredAccounts,r=Object(Vs.d)(this.state.account),o=Object(Vs.f)(r);return a||n===N.h.DELETE_IN_PROGRESS||this.hideReauth(s)?null:i.indexOf(t)>-1?d.a.createElement("div",{className:ai.errorWrapper},d.a.createElement("div",{className:ai.errorIcon},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED})),d.a.createElement("div",{className:ai.errorMessageWrapper},d.a.createElement("div",{className:ai.errorMessage},d.a.createElement(m.FormattedMessage,{id:"account_reauthorize_alert_message",defaultMessage:"This mailbox is not syncing with {provider} and needs permission to resume. This can happen because a security setting or password was changed.",values:{provider:o}}),d.a.createElement("div",null,this.getReauthorizeMailboxLink(ai,o))))):null}),r()(this,"getReauthorizeMailboxMessage",()=>{const e=this.state.account,t=e.id,a=e.isPrimary,n=e.status,s=e.type,i=this.props.expiredAccounts,r=Object(Vs.d)(this.state.account),o=Object(Vs.f)(r);return a||n===N.h.DELETE_IN_PROGRESS||this.hideReauth(s)||i.indexOf(t)>-1?null:d.a.createElement("div",{className:ai.reauthorizeWrapper},d.a.createElement("label",{className:ai.label,htmlFor:"reauthorize"},d.a.createElement(m.FormattedMessage,{id:"acoount_reauthorize_header_text",defaultMessage:"Reauthorize mailbox"})),this.getReauthorizeMailboxLink(ai,o))}),r()(this,"renderEditAccountHeader",()=>{const e=this.state.account,t=e.email,a=this.props.newAccount,n=this.getAccountType(e.type),s=this.context.intl.formatMessage;return a&&a.type===N.i.ALIAS?d.a.createElement("div",{className:ai.newAccountWrapper},d.a.createElement("div",{className:ai.newAccountTitle},d.a.createElement("span",{className:ai.newAccountIconWrapper},d.a.createElement(k.b,{kind:R.b.CAL_ACCEPT,size:R.d.XS,colorState:R.a.SUCCESS})),d.a.createElement("span",{className:ai.newAccountSuccess},s(ti.aliasAddSuccess))),d.a.createElement("div",{className:ai.newAccountText},s(ti.aliasAddedMessage,{email:t}))):d.a.createElement("div",{className:ai.previewFilterTitle},d.a.createElement(m.FormattedMessage,{id:"edit_account_text",defaultMessage:"Edit {email}",values:{email:d.a.createElement("b",null,t)}}),n?d.a.createElement("span",{className:ai.accountType},n):null)}),r()(this,"getButtons",()=>{const e=this.state.account.status,t=this.props.newAccount,a=this.context.intl.formatMessage,n=[],s=this.disableSave()?ai.disabledButton:ai.saveButton;return t&&t.type===N.i.ALIAS?(n.push(d.a.createElement(Je.a,{"data-test-id":"edit-finish-btn",key:"edit-finish-btn",onClick:this.handleSave,className:s,title:a(ti.saveBtnTitle)},d.a.createElement(m.FormattedMessage,{id:"account_finish_btn_title",defaultMessage:"Finish"}))),n):(e!==N.h.DELETE_IN_PROGRESS&&n.push(d.a.createElement(Je.a,{"data-test-id":"edit-save-btn",key:"edit-save-btn",onClick:this.handleSave,className:s,disabled:this.disableSave(),title:this.disableSave()?a(ti.saveBtnDisabled):a(ti.saveBtnTitle)},d.a.createElement(m.FormattedMessage,{id:"account_edit_save",defaultMessage:"Save"}))),n.push(d.a.createElement(Je.a,{"data-test-id":"edit-cancel-btn",key:"edit-cancel-btn",onClick:this.props.onCancel,className:ai.cancelButton,title:a(ti.cancelBtnTitle)},d.a.createElement(m.FormattedMessage,{id:"cancel_btn_text",defaultMessage:"Cancel"}))),n)}),r()(this,"hideAccountRemoveButton",()=>{const e=this.props,t=this.state.account,a=t.type;return!!(t.isPrimary||t.status===N.h.DELETE_IN_PROGRESS||e.newAccount&&a===N.i.ALIAS||!e.canRemoveImapInAccount&&Object(Vs.h)({type:a}))}),r()(this,"disableSave",()=>{const e=this.state;return e.account.type===N.i.SENDAS&&0===Object.keys(e.enableAccounts).length});const a=e.account,n={},s=a.linkedAccounts||[];e.accounts.forEach(e=>{s.indexOf(e.id)>-1&&(n[e.id]=!0)}),this.state={showConfirm:!1,isForwardEmailValid:null,account:Object.assign({},a,{description:a.description||ni(a.isPrimary,a.email)}),enableAccounts:n,forwardEmail:a.forwardEmail||""}}componentDidMount(){this.props.openReauth&&this._openOAuthWindow()}componentWillUnmount(){window[N.Ic]=void 0}static getDerivedStateFromProps({account:e},{forwardEmail:t}){return t!==e.forwardEmail?{forwardEmail:t}:null}render(){const e=this.state,t=e.account,a=t.email,n=t.sendingName,s=t.description,i=t.replyToAddress,r=t.type,o=e.showConfirm,l=e.enableAccounts,c=e.forwardEmail,_=this.context,u=_.intl.formatMessage,p=_.mailBrandNameString,h=this.props,g=h.account,E=g.id,b=g.showForwardReviewAlert,C=g.forwardEmailVerified,f=h.composeFontSize,S=h.composeFontFamily,y=h.rtl,T=h.accounts,A=h.reviewEmail,I=h.isAutoForwardEnabled,M=h.replyToAddressEnabled,v=[...h.replyToAddresses],D=this.getDeleteBtnString(r);!i||v.find(({email:e})=>e===i)||v.push({email:i});const O=d.a.createElement("div",{className:ai.customTitle},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account",defaultMessage:"Are you sure you want to remove {email}?",values:{email:d.a.createElement("strong",null,a)}})),k=this.getErrorMessage();return d.a.createElement("div",{className:ai.filterWrapper,"data-test-id":"accounts-editor"},d.a.createElement("div",{className:ai.filterPreviewSection},d.a.createElement("header",{className:ai.previewTitleWrapper},this.renderEditAccountHeader(),d.a.createElement("span",{className:ai.blurredArea})),k||null,this.getReauthorizeMailboxAlertMessage(),d.a.createElement("label",{className:ai.label,htmlFor:"accountName"},d.a.createElement(m.FormattedMessage,{id:"account_name_text",defaultMessage:"Your name"})),d.a.createElement("div",{className:ai.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"accountName",value:n,hint:u(ti.accountNameHint),"aria-label":u(ti.accountName),placeholder:u(ti.accountName),onChange:e=>this.handleChange("sendingName",e)})),d.a.createElement("label",{className:ai.label,htmlFor:"description"},d.a.createElement(m.FormattedMessage,{id:"acoount_description_text",defaultMessage:"Description"})),d.a.createElement("div",{className:ai.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"description",value:s,hint:u(r===N.i.SENDAS?ti.sendOnlyDescriptionHint:ti.accountDescriptionHint),"aria-label":u(ti.accountDescription),placeholder:u(ti.accountDescription),onChange:e=>this.handleChange("description",e)})),M?d.a.createElement("div",null,d.a.createElement("label",{className:ai.label,htmlFor:"replyToAddress"},d.a.createElement(m.FormattedMessage,{id:"reply_to_address_text",defaultMessage:"Reply-to address"})),d.a.createElement("div",{className:ai.textInput},d.a.createElement(Jt.a,{selected:i||a,onChange:e=>this.handleChange("replyToAddress",e)},v.map(({email:e})=>d.a.createElement(Qt.a,{key:e,value:e},e))),d.a.createElement("div",{className:ai.hint},d.a.createElement(m.FormattedMessage,{id:"reply_to_address_hint",defaultMessage:"Receive replies to your sent emails at a different address."})))):null,this.showSignature(r)?d.a.createElement("div",{className:ai.signatureContainer},d.a.createElement(Rs,{key:this.state.account.email,account:this.state.account,onChange:(e,t)=>this.handleChange("signature",t),onStatusChange:({signatureActive:e})=>this.handleChange("signatureActive",e),composeFontFamily:S,composeFontSize:f,showDefaultTitle:!0,showEditorAlways:!0,rtl:y})):null,I?d.a.createElement(ei,{accountId:E,reviewEmail:A,showForwardReviewAlert:b,onVerify:this.handleVerify,forwardEmailVerified:C,forwardEmail:this.props.account.forwardEmail,stateForwardEmail:c,isEmailValid:this.state.isForwardEmailValid,disableForwarding:this.disableForwarding,onChange:this.handleForwardEmailChange}):null,this.showLinkedAccountsList(r)?d.a.createElement("div",null,d.a.createElement("div",{className:ai.linkedLabelWrapper},d.a.createElement("label",{className:ai.label,htmlFor:"linkedMailboxes"},d.a.createElement(m.FormattedMessage,{id:"linked_mailboxes_text",defaultMessage:"Linked mailboxes"}))),d.a.createElement(Ys,{accounts:T.filter(e=>Object(Vs.h)(e)||e.isPrimary),enableAccounts:l,onToggle:this.handleLinkedAccountToggle})):null,this.getReauthorizeMailboxMessage(),this.hideAccountRemoveButton()?null:d.a.createElement("div",{className:ai.deleteBtn},d.a.createElement(Je.a,{"data-test-id":"accounts-delete-btn",kind:$e.a.DANGER,onClick:this.removeMailbox},D),r===N.i.SENDAS?null:d.a.createElement("div",{className:ai.hint},d.a.createElement(m.FormattedMessage,r===N.i.ALIAS?{id:"delete_alias_account_hint",defaultMessage:"If you remove an alias, you will no longer be able to use it to mask your Yahoo ID."}:{id:"delete_account_hint",defaultMessage:"Disconnecting a mailbox will permanently remove all messages and data from {mailBrandNameString} and cannot be undone.",values:{mailBrandNameString:p}}))),d.a.createElement("div",{className:ai.iconWrapper},this.getButtons())),o?d.a.createElement(et.a,{onConfirm:this.handleDelete,cancelLabel:ti.cancelBtn,acceptLabel:r===N.i.ALIAS?ti.confirmAliasBtn:ti.confirmBtn,onAbort:this.toggleConfirmDialog.bind(this,!1),customTitle:O,showCustomTitle:!0},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account_message",defaultMessage:"From within {mailBrandNameString}:",values:{mailBrandNameString:p}}),d.a.createElement("ul",{className:ai.listWrapper},d.a.createElement("li",null,d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account_point1",defaultMessage:"You won't be able to send or receive\n                                          messages with this mailbox."})),d.a.createElement("li",null,d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account_point2",defaultMessage:"All information associated with this mailbox will be permanently deleted."})))):null)}}r()(si,"contextTypes",{intl:m.intlShape.isRequired,config:l.a.object,credstoreClient:S.a,partner:l.a.string,mailBrandNameString:l.a.string});var ii=Object(D.connect)((e,{account:t})=>{const a=Object(H.b)(e),n=a.isFeatureEnabled,s=a.getAccountSelectors,i=n(N.ub.AUTO_FORWARD_EMAIL),r=s().isPrimaryAccountDisabled(),o=n(N.ub.REPLY_TO_ADDRESS),l=t.isPrimary;return{isAutoForwardEnabled:i&&!Object(Vs.h)(t)&&l&&!r,replyToAddressEnabled:o}},e=>({confirmAccountDeleted:t=>e(Object(b.e)(Ne()({i13nModel:{mKey:A.e.CONFIRM_DELETE_ACCOUNT,sec:A.g.SETTINGS_ACCOUNTS_TAB,interactionType:A.d.click}},t))),reviewEmail:t=>e(g.j(t))}))(si),ri=a(1638),oi=a.n(ri),li=a(1639),ci=a.n(li),di=a(561);const mi=Object(m.defineMessages)({sendOnly:{id:"account_item_sendas",defaultMessage:"(send-only)"},alias:{id:"account_item_alias",defaultMessage:"(alias)"}});class _i extends d.a.Component{constructor(...e){super(...e),r()(this,"getAccountStatus",e=>{const t=this.props,a=t.account,n=a.id,s=a.status,i=a.createTime,r=a.type,o=a.forwardEmail,l=a.forwardEmailVerified;return a.accountVerified?t.expiredAccounts.find(e=>e.id===n)?d.a.createElement("div",{className:e.statusWrapper},d.a.createElement("div",{className:e.statusIcon},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED})),d.a.createElement("span",{className:e.messageWrapper},d.a.createElement(m.FormattedMessage,{id:"account_item_syncing_error",defaultMessage:"Not syncing"}))):s===N.h.DELETE_IN_PROGRESS?d.a.createElement(m.FormattedMessage,{id:"account_status_disconnecting",defaultMessage:"Disconnecting"}):Object(Vs.a)({status:s,type:r,createTime:i,syncTime:this.props.syncTime})?d.a.createElement("div",{className:e.statusWrapper},d.a.createElement("div",{className:e.syncingStatusIcon},d.a.createElement(di.a,null)),d.a.createElement("span",{className:e.messageWrapper},d.a.createElement(m.FormattedMessage,{id:"account_status_syncing",defaultMessage:"Syncing"}))):o&&!l?d.a.createElement("div",{className:e.accountNameWrapper},d.a.createElement("div",{className:e.statusIcon},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED}))):null:d.a.createElement("div",{className:e.statusWrapper},d.a.createElement("div",{className:e.statusIcon},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED})),d.a.createElement("span",{className:e.messageWrapper},d.a.createElement(m.FormattedMessage,{id:"account_item_verify_error",defaultMessage:"Not verified"})))}),r()(this,"handleSelect",()=>{const e=this.props;e.account.status!==N.h.DELETE_IN_PROGRESS&&(0,e.onSelect)()}),r()(this,"getAccountTypeText",e=>{switch(e){case N.i.ALIAS:return d.a.createElement(m.FormattedMessage,{id:"account_item_alias",defaultMessage:"(alias)"});case N.i.SENDAS:return d.a.createElement(m.FormattedMessage,{id:"account_item_sendas",defaultMessage:"(send-only)"});default:return null}})}render(){const e=this.props,t=e.account,a=e.selected,n=this.context.intl.formatMessage,s=t.email,i=t.status,r=t.description,o=t.type,l=u()(ci.a,{selected:a,deleteInProgress:i===N.h.DELETE_IN_PROGRESS}),c=Object(Vs.d)(t),m=this.getAccountTypeText(o);let _;switch(o){case N.i.ALIAS:_=n(mi.alias);break;case N.i.SENDAS:_=n(mi.sendOnly);break;default:_=""}return i===N.h.DELETE_IN_PROGRESS&&o===N.i.SENDAS?null:d.a.createElement("li",{className:l.listItem,onClick:this.handleSelect,"data-test-id":"accounts-list-item"},d.a.createElement(zn.a,{accountType:c}),d.a.createElement("div",{className:l.accountInfo},d.a.createElement("div",{className:l.accountNameWrapper},d.a.createElement("p",{className:l.accountName,title:s+" "+_},d.a.createElement("span",null,s),m?d.a.createElement("span",{className:l.typeTextWrapper},m):null)),d.a.createElement("p",{className:l.accountDescription},r)),d.a.createElement("div",{className:l.accountStatus,"data-test-id":"accounts-item-status"},this.getAccountStatus(l)))}}r()(_i,"contextTypes",{config:l.a.object,intl:m.intlShape.isRequired});var ui=_i,pi=a(53),hi=a(55),gi=a(40),Ei=a(1640),bi=a.n(Ei),Ci=a(1232);const fi=Object(m.defineMessages)({rewards_tasks_completed_title:{id:"rewards_tasks_completed_title",defaultMessage:"You earned {points} YPoints"},rewards_imapin_tasks_completed_description:{id:"rewards_imapin_tasks_completed_description",defaultMessage:"Now you have earned some Ypoints. Go and check what rewards you can get!"},rewards_add_imapin_dialog_title:{id:"rewards_add_imapin_dialog_title",defaultMessage:"Add mailbox and earn YPoints"},rewards_add_imapin_dialog_description:{id:"rewards_add_imapin_dialog_description",defaultMessage:"Add mailbox and earn {points} YPoints"},rewards_cta_check_rewards:{id:"rewards_cta_check_rewards",defaultMessage:"Check Rewards"},rewards_cta_maybe_later:{id:"rewards_cta_maybe_later",defaultMessage:"Maybe Later"}}),Si=({onClose:e,cueName:t,goToInbox:a,challengeCompleted:n,imapInChallengePoints:s,membershipRewardsIconToggled:i},{getCss:r,region:o,intl:{formatMessage:l}})=>{const c=r(bi.a,{showAddMailPopup:!n}),m=(e,t)=>({i13nModel:{mKey:e,interactionType:Object(v.j)(t),actionData:{challengeType:"IMAPIN"}}});return d.a.createElement("div",{className:c.subwrapper,"data-test-id":"imapin_notification"},d.a.createElement("div",{className:c.imgContainer},d.a.createElement("img",{className:c.cueImg,src:Object(Ce.a)((()=>"hk"===o?n?"/img/tmr_hk_task_completed.svg":"/img/tmr_hk_task_notify.svg":n?"/img/tmr_tw_task_completed_regular.svg":"/img/tmr_tw_task_notify.svg")())})),d.a.createElement("div",{className:c.content},d.a.createElement("div",{className:c.title},n?l(fi.rewards_tasks_completed_title,{points:s}):l(fi.rewards_add_imapin_dialog_title)),d.a.createElement("div",{className:c.description},n?l(fi.rewards_imapin_tasks_completed_description):l(fi.rewards_add_imapin_dialog_description,{points:s})),n?d.a.createElement("div",null,d.a.createElement(Je.a,{overridingClass:c.primary,onClick:n=>{e(m("cue_"+t+"_success",n)),a(),i({name:N.dd.MEMBERSHIP_REWARDS,tab:N.he.REWARDS})},kind:$e.a.PRIMARY,"data-test-id":"cta-check-rewards",marginLess:!0},l(fi.rewards_cta_check_rewards)),d.a.createElement(Je.a,{overridingClass:c.secondary,onClick:a=>{e(m("cue_"+t+"_close",a))},kind:$e.a.SECONDARY_BORDERLESS,"data-test-id":"cta-maybe-later"},l(fi.rewards_cta_maybe_later))):null))};Si.contextTypes={getCss:l.a.func,intl:m.intlShape.isRequired,region:l.a.string};var yi=Object(Ci.a)(Si),Ti=a(475);const Ni={[N.g.IMAPIN]:50,[N.g.ALIAS]:1,[N.g.SENDAS]:10,[N.g.DEA]:500},Ai=3,Ii=Object(m.defineMessages)({imapinAccountHeader:{id:"section_imapin_header",defaultMessage:"Mailbox list"},aliasAccountHeader:{id:"section_alias_header",defaultMessage:"Email alias"},sendasAccountHeader:{id:"section_sendas_header",defaultMessage:"Send-only email address"},disposableAccountHeader:{id:"section_disposable_header",defaultMessage:"Disposable email address"},addMailBoxButton:{id:"section_addaccount_button",defaultMessage:"Add mailbox"},addButton:{id:"section_add_button",defaultMessage:"Add"},showless:{id:"section_showless_button",defaultMessage:"Show less"},showmore:{id:"section_showmore_button",defaultMessage:"Show all {number} accounts"},openAliasSectionButtonLabel:{id:"section_alias_open_button_label",defaultMessage:"Open email alias"},closeAliasSectionButtonLabel:{id:"section_alias_close_button_label",defaultMessage:"Close email alias"},openSendAsSectionButtonLabel:{id:"section_sendas_open_button_label",defaultMessage:"Open send-only email address"},closeSendAsSectionButtonLabel:{id:"section_sendas_close_button_label",defaultMessage:"Close send-only email address"},openDEASectionButtonLabel:{id:"section_dea_open_button_label",defaultMessage:"Open disposable email address"},closeDEASectionButtonLabel:{id:"section_dea_close_button_label",defaultMessage:"Close disposable email address"},baseNameLabel:{id:"section_basename_label",defaultMessage:"Base name"},deaFormatText:{id:"section_dea_format_text",defaultMessage:"{baseName}-[keyword]@{domain}"},imapinSectionHint:{id:"section_imapin_hint",defaultMessage:"Add an account to access all your emails in one place"},aliasSectionHint:{id:"section_alias_hint",defaultMessage:"Send and receive emails from a different Yahoo email address"},sendasSectionHint:{id:"section_sendas_hint",defaultMessage:"Send emails from a different email address"},deaSectionHint:{id:"section_dea_hint",defaultMessage:"Create an email address to sign up for third-party newsletters. Delete account to stop receiving."},accountUsageHint:{id:"section_account_usage_hint",defaultMessage:"{accounts} of {maxNumberOfAccounts} used"},accountNums:{id:"section_account_addresses_number",defaultMessage:"{number, plural, one {# address} other {# addresses}}"},imapAccountNums:{id:"section_imapin_address_number",defaultMessage:"{number, plural, one {# mailbox} other {# mailboxes}}"},imapinAccountPlural:{id:"section_account_imapin_plural",defaultMessage:"mailboxes"},aliasAccountPlural:{id:"section_account_alias_plural",defaultMessage:"alias"},sendasAccountPlural:{id:"section_account_sendas_plural",defaultMessage:"send-only addresses"},deaAccountPlural:{id:"section_account_dea_plural",defaultMessage:"disposable addresses"}}),Mi={[N.g.IMAPIN]:Ii.imapinAccountHeader,[N.g.ALIAS]:Ii.aliasAccountHeader,[N.g.SENDAS]:Ii.sendasAccountHeader,[N.g.DEA]:Ii.disposableAccountHeader},vi={[N.g.IMAPIN]:Ii.imapinSectionHint,[N.g.ALIAS]:Ii.aliasSectionHint,[N.g.SENDAS]:Ii.sendasSectionHint,[N.g.DEA]:Ii.deaSectionHint},Di={[N.g.IMAPIN]:Ii.imapinAccountPlural,[N.g.ALIAS]:Ii.aliasAccountPlural,[N.g.SENDAS]:Ii.sendasAccountPlural,[N.g.DEA]:Ii.deaAccountPlural},Oi={[N.g.SENDAS]:Ii.openSendAsSectionButtonLabel,[N.g.ALIAS]:Ii.openAliasSectionButtonLabel,[N.g.DEA]:Ii.openDEASectionButtonLabel},ki={[N.g.SENDAS]:Ii.closeSendAsSectionButtonLabel,[N.g.ALIAS]:Ii.closeAliasSectionButtonLabel,[N.g.DEA]:Ii.closeDEASectionButtonLabel};class Ri extends d.a.Component{constructor(e){super(e),r()(this,"shouldRenderBaseName",()=>{const e=this.props;return!(e.sectionType!==N.g.DEA||!e.baseName)}),r()(this,"getAccountItem",e=>{const t=this.props,a=t.sectionType,n=t.selectedAccountId,s=t.expiredAccounts,i=t.handleAccountSelected,r=t.syncTime,o=u()(oi.a,{deaListItemSelected:n===e.id});return a===N.g.DEA?d.a.createElement("li",{key:e.email,className:o.deaListItem,onClick:()=>i(e.id)},d.a.createElement("div",{className:o.deaAccountInfo},d.a.createElement("div",{className:o.deaAccountName},e.email),d.a.createElement("p",{className:o.deaAccountDescription},e.description))):d.a.createElement(ui,{account:e,key:e.email,selected:n===e.id,onSelect:()=>i(e.id),expiredAccounts:s,syncTime:r})}),r()(this,"renderAccountList",e=>{const t=this.context.intl.formatMessage,a=this.props,n=a.baseName,s=a.domain,i=a.sectionType,r=this.state;let o=a.accounts;return r.showAccounts?(!r.expandAccounts&&o.length>Ai&&(o=o.slice(0,3)),d.a.createElement("ul",{className:e.listWrapper,"data-test-id":`${i}_list`},this.shouldRenderBaseName()?d.a.createElement("div",{"data-test-id":"base-name",className:e.baseNameWrapper},d.a.createElement("div",{className:e.baseName},d.a.createElement("span",{className:e.baseNameText},t(Ii.baseNameLabel)),d.a.createElement("span",{className:e.domain},n)),d.a.createElement("span",{className:e.deaHint},t(Ii.deaFormatText,{baseName:n,domain:s}))):null,o.map(e=>this.getAccountItem(e)))):null}),r()(this,"getButtonClassName",e=>{return this.props.sectionType===N.g.IMAPIN?e.primaryButton:e.secondaryButton}),r()(this,"handleAccountListCollapse",e=>{e.stopPropagation(),e.preventDefault(),this.setState({expandAccounts:!this.state.expandAccounts})}),r()(this,"getButtonText",()=>{const e=this.context.intl.formatMessage;return e(this.props.sectionType===N.g.IMAPIN?Ii.addMailBoxButton:Ii.addButton)}),r()(this,"handleButtonClick",()=>{this.props.openAddAccountWizard(),this.props.handleButtonClick()}),r()(this,"goToInbox",()=>{this.props.goToInbox({inboxFolderId:this.props.inboxFolderId})}),r()(this,"computeActionData",()=>({challengeType:N.ge.IMAPIN})),r()(this,"renderButtons",e=>{const t=this.props,a=t.accounts,n=t.sectionType,s=t.buttonDisabled,i=t.canAddImapInAccount,r=t.addAliasAccount,o=t.imapInChallengePoints,l=t.showImapinCompletedNotification,c=t.membershipRewardsIconToggled,m=this.state,_=m.expandAccounts,u=this.context.intl.formatMessage,p=a.length>=Ni[n];let h;return m.showAccounts?(h=t.showAddMailPopup||l?d.a.createElement(hi.a,{key:`${l?"IMAPIN-COMPLETED":"ADD-IMAPIN"}`},d.a.createElement(pi.a,{onClick:this.handleButtonClick},d.a.createElement(Je.a,{"data-test-id":`${n}_section_button`,className:this.getButtonClassName(e),disabled:s||p},this.getButtonText())),d.a.createElement(gi.a,{triggerOn:Ja.i.MOUNT,permittedArrowDirections:[Ja.h.UP],zAltitude:Nt.ZIndices.POPOVER.HIGH,align:Ja.a.CENTER,persistent:l},l?d.a.createElement(yi,{cueName:N.ub.TMR_ICON_NOTIFICATION,challengeCompleted:!0,imapInChallengePoints:o,membershipRewardsIconToggled:c,goToInbox:this.goToInbox,computeActionData:this.computeActionData}):d.a.createElement(Si,{challengeCompleted:!1,imapInChallengePoints:o}))):d.a.createElement(Je.a,{"data-test-id":`${n}_section_button`,className:this.getButtonClassName(e),onClick:this.handleButtonClick,disabled:s||p},this.getButtonText()),d.a.createElement("div",{className:e.buttonsWrapper},!i&&n===N.g.IMAPIN||!r&&n===N.g.ALIAS?null:h,a.length>Ai?d.a.createElement("a",{"data-test-id":`${n}_account_list_collapse_button`,className:e.textButton,onClick:this.handleAccountListCollapse},_?u(Ii.showless):u(Ii.showmore,{number:a.length})):null)):null}),r()(this,"toggleAccountSection",e=>{e.preventDefault(),e.stopPropagation(),this.setState({showAccounts:!this.state.showAccounts})}),r()(this,"getRemoveNumber",()=>{const e=this.props,t=e.sectionType,a=e.accounts,n=this.context.intl.formatMessage;return n(t===N.g.IMAPIN?Ii.imapAccountNums:Ii.accountNums,{number:a.length-Ni[t]+1})});const t=e.expandAccounts,a=e.selectedAccountId,n="-1"===a?-1:e.accounts.findIndex(e=>e.id===a);this.state={showAccounts:!0,expandAccounts:t||n>=Ai}}render(){const e=this.props,t=e.accounts,a=e.sectionType,n=e.buttonDisabled,s=this.context.intl.formatMessage,i=this.state.showAccounts,r=s(Mi[a]),o=t.length>Ni[a],l=u()(oi.a,{buttonDisabled:n||t.length>=Ni[a],exceedMaxAccounts:o}),c=t.length>0?""+t.length:"0";return d.a.createElement("div",{className:l.sectionContainer},d.a.createElement("div",{className:l.sectionInfoHeader},d.a.createElement("div",{className:l.headerText},r),a!==N.g.IMAPIN?d.a.createElement(Fe.a,{"data-test-id":`${a}account_section_collapse_button`,kind:R.b.CHEVRON_UP,rotate:i?R.c.D0:R.c.D180,size:R.d.XS,colorState:R.a.SELECTED,onClick:this.toggleAccountSection,title:s(i?ki[a]:Oi[a]),"aria-label":s(i?ki[a]:Oi[a]),className:l.toggleAccountSectionButton}):null),d.a.createElement("div",{className:l.sectionHintsWrapper},d.a.createElement("div",{className:l.sectionHint},s(vi[a])),i?d.a.createElement($a.c,{align:Ja.a.END,triggerOn:$a.b.HOVER,triggerOff:$a.a.HOVER_OUT_ANCHOR,offset:-40},d.a.createElement("div",{className:l.accountUsage},o?d.a.createElement("span",{className:l.warningIcon,"data-test-id":`${a}_max_limit_exceeded`},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED})):null,a===N.g.ALIAS&&t.length===Ni[a]?null:s(Ii.accountUsageHint,{accounts:c,maxNumberOfAccounts:Ni[a]})),o?d.a.createElement("div",{className:l.exceedMaxAccountsHint},d.a.createElement("p",{className:l.errorText},d.a.createElement(m.FormattedMessage,{id:"section_account_remove_hint",defaultMessage:"You have exceeded the new limit of {maxNumberOfAccounts} {accountTypePlural}. Please remove at least {numberOfAccounts} to add a new one.",values:{maxNumberOfAccounts:Ni[a],accountTypePlural:s(Di[a]),numberOfAccounts:d.a.createElement("span",{className:l.errorWarn},this.getRemoveNumber())}}))):d.a.createElement("div",null)):null),this.renderAccountList(l),this.renderButtons(l))}}r()(Ri,"contextTypes",{intl:m.intlShape.isRequired}),r()(Ri,"defaultProps",{expandAccounts:!1,expiredAccounts:[],canAddImapInAccount:!1,addAliasAccount:!1,baseName:"",domain:""});var wi=Object(D.connect)((e,t)=>{if(t.sectionType===N.g.IMAPIN){const t=Object(H.b)(e),a=t.isFeatureEnabled,n=t.getDefaultFolderIdForSelectedAccount,s=(0,t.getMembershipRewardsSelectors)(),i=s.getChallengeDefns,r=s.isImapInCompleted,o=s.getLastCompletedChallenges,l=(0,s.getAtosInfo)().atosStatus,c=i(N.ge.IMAPIN),d=Object(P.a)(c,"rewards.value",""),m=l===N.fe.AGREED&&!r(),_=o(N.ge.IMAPIN).pointsReceived;return{showAddMailPopup:m,imapInChallengePoints:d,showImapinCompletedNotification:a(N.ub.TMR_ICON_NOTIFICATION)&&!!_,inboxFolderId:n()}}if(t.sectionType!==N.g.ALIAS)return{};const a=Object(H.b)(e),n=a.getAliasAccounts,s=a.getFeaturesSelectors,i=a.getAction,r=e.mailboxes.accounts,o=Object.keys(r).map(e=>r[e]);if(t.sectionType===N.i.ALIAS&&"-1"===t.selectedAccountId&&i().type===Cs.V){const e=o.find(e=>e.type===N.i.ALIAS);t.handleNewAccountCreated(e)}const l=s().getSetting(N.zd.SYNC_TIME);return{accounts:n(),syncTime:l}},e=>({openAddAccountWizard:()=>e(Object(j.v)({i13nModel:{mKey:A.e.ADD_ACCOUNT,sec:A.g.SETTINGS_ACCOUNTS_TAB,interactionType:A.d.click}})),goToInbox:t=>e(Object(O.g)(t)),membershipRewardsIconToggled:t=>e(Object(Ti.b)(t))}))(Ri),Pi=a(1641),xi=a.n(Pi),Fi=a(154);const Li=Object(P.c)(["PREFIX","KEYWORD"]),Bi=[N.ob.GOOGLE,N.ob.OUTLOOK,N.ob.AOL,N.ob.YAHOO],Ui=[N.ob.GOOGLE,N.ob.OUTLOOK,N.ob.AOL],Hi=()=>{},ji=Object(m.defineMessages)({clearBtnTitle:{id:"dea_base_name_clear",defaultMessage:"clear"}});class Gi extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hasFocus:!1}),r()(this,"handleFocus",()=>{this.setState({hasFocus:!0},()=>{this.props.onFocus()})}),r()(this,"handleBlur",()=>{this.setState({hasFocus:!1},()=>{this.props.onBlur()})}),r()(this,"handleChange",e=>{this.props.onChange(e.target.value)}),r()(this,"handleClear",()=>{this.props.onChange(""),this.focus()}),r()(this,"focus",()=>{this.input.focus()})}render(){const e=this.state.hasFocus,t=this.context.intl.formatMessage,a=this.props,n=a.baseName,s=a.value,i=a.hint,r=a.error,o=a.kind,l=a.domain,c=u()(xi.a,{hasFocus:e,error:r}),_=o===Li.PREFIX,p=d.a.createElement(Fi.a,{value:s,"data-test-id":o,name:o,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,ref:e=>this.input=e,className:c.inputField,disabled:_&&!!n});return d.a.createElement("div",{className:c.inputContainer},d.a.createElement("div",{className:c.emailContainer},_?d.a.createElement("div",{className:c.baseNameInput},p):d.a.createElement("div",{className:c.baseName,"data-test-id":"base-name-prefix"},`${n}-`),d.a.createElement("div",{className:c.keyword},_?d.a.createElement(m.FormattedMessage,{id:"keyword_hint_text",defaultMessage:"-[keyword]"}):p),`@${l}`,d.a.createElement("span",{className:c.clearButtonContainer},s?d.a.createElement(Fe.a,{size:R.d.XXS,onClick:this.handleClear,kind:R.b.CLEAR,className:c.clearButton,colorState:R.a.FAINT,title:t(ji.clearBtnTitle)}):null)),i&&!r&&d.a.createElement("div",{className:c.hint},i),r&&d.a.createElement("span",{className:c.error,"data-test-id":"dea-base-name-error"},r))}}r()(Gi,"contextTypes",{intl:m.intlShape.isRequired}),r()(Gi,"defaultProps",{hint:"",error:"",onBlur:Hi,onFocus:Hi,onChange:Hi});var Wi=Gi;const Zi=u()(Zs.a),Vi=Object(m.defineMessages)({deaBaseName:{id:"dea_base_name_placeholder",defaultMessage:"base Name"},deaBaseNameHint:{id:"dea_base_name_hint",defaultMessage:"* Base name can't be changed after set"},baseNameError:{id:"dea_base_name_error",defaultMessage:"The base name cannot be empty"}});class qi extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{value:this.props.baseName}),r()(this,"clearBaseNameSuggestions",()=>{const e=this.props.suggestions;e&&0!==e.length&&this.props.clearBaseNameSuggestions()}),r()(this,"handleChange",e=>{this.setState({value:e},()=>this.clearBaseNameSuggestions())}),r()(this,"handleNext",()=>{const e=this.state.value,t=!!e&&!this.props.baseName,a=e?"":(0,this.context.intl.formatMessage)(Vi.baseNameError);this.setState({error:a}),t&&this.props.onCreateBaseName(e)})}componentWillReceiveProps(e){const t=e.baseName;t&&this.setState({value:t})}render(){const e=this.state,t=e.value,a=e.error,n=this.context.intl.formatMessage,s=this.props,i=s.domain,r=s.baseName,o=s.suggestions,l=s.onCancel;return d.a.createElement("div",null,d.a.createElement("label",{className:Zi.label,htmlFor:"emailAddress"},d.a.createElement(m.FormattedMessage,{id:"disposable_email_basename_text",defaultMessage:"Set base name"})),d.a.createElement(Wi,{value:t,domain:i,baseName:r,error:a,kind:Li.PREFIX,onChange:this.handleChange,hint:n(Vi.deaBaseNameHint),placeholder:n(Vi.deaBaseName)}),o.length?d.a.createElement("div",{"data-test-id":"dea-base-name-suggestions",className:Zi.suggestionsContainer},d.a.createElement("p",{className:Zi.baseNameError},d.a.createElement(m.FormattedMessage,{id:"basename_unavailable_text",defaultMessage:"{baseName} is not available, try names below",values:{baseName:t}})),d.a.createElement("ul",{className:Zi.suggestions},o.map(e=>d.a.createElement("li",{key:e,className:Zi.suggestionsListItem},d.a.createElement("span",{"data-test-id":`dea-base-name-${e}`,className:Zi.suggestion,onClick:this.handleChange.bind(this,e)},e))))):null,d.a.createElement(It,{onNext:this.handleNext,onCancel:l}))}}r()(qi,"contextTypes",{intl:m.intlShape.isRequired});var zi=qi;const Yi=()=>{},Ki=Object(m.defineMessages)({keywordPlaceholder:{id:"dea_keyword_placeholder",defaultMessage:"Keyword"},keywordHint:{id:"dea_keyword_hint",defaultMessage:"Add Keyword to create unique disposable address"},emptyKeywordError:{id:"dea_empty_keyword_error",defaultMessage:"The keyword cannot be empty"},invalidKeywordError:{id:"dea_invalid_keyword_error",defaultMessage:"The keyword is invalid"},deaSendingName:{id:"dea_name_placeholder",defaultMessage:"Your Name"},deaDescription:{id:"dea_description_placeholder",defaultMessage:"Description"},duplicateEmailError:{id:"dea_email_existed_error",defaultMessage:"That disposable email address already exists"}}),Xi=u()(Zs.a);class Qi extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{error:"",saveBtnDisabled:!1}),r()(this,"handleSave",()=>{const e=this.props,t=e.account.id,a=e.onSave,n=e.keyword,s=this.context.intl.formatMessage;t||n?t||!(0,e.isExistingDEA)(n)?Object(v.r)(n)?this.setState({error:""},a):this.setState({error:s(Ki.invalidKeywordError)}):this.setState({error:s(Ki.duplicateEmailError)}):this.setState({error:s(Ki.emptyKeywordError)})}),r()(this,"handleBlur",()=>{const e=this.props,t=this.context.intl.formatMessage;!e.account.id&&(0,e.isExistingDEA)(e.keyword)&&this.setState({error:t(Ki.duplicateEmailError),saveBtnDisabled:!0})})}render(){const e=this.props,t=e.account,a=t.sendingName,n=t.description,s=e.keyword,i=e.baseName,r=e.domain,o=e.onChange,l=e.onCancel,c=e.onDelete,_=!!t.id,u=this.state.error,p=this.context.intl.formatMessage;return d.a.createElement("div",{className:Xi.container,"data-test-id":"dea-form"},_?null:d.a.createElement("div",{className:Xi.textInput},d.a.createElement("label",{className:Xi.label,htmlFor:"emailAddress"},d.a.createElement(m.FormattedMessage,{id:"disposable_email_text",defaultMessage:"Set address"})),d.a.createElement(Wi,{domain:r,value:s,baseName:i,kind:Li.KEYWORD,error:u,hint:p(Ki.keywordHint),placeholder:p(Ki.keywordPlaceholder),onChange:e=>{o("keyword",e),this.setState({error:"",saveBtnDisabled:!1})},onBlur:this.handleBlur})),d.a.createElement("label",{className:Xi.label,htmlFor:"sendingName"},d.a.createElement(m.FormattedMessage,{id:"disposable_email_sendingName_text",defaultMessage:"Sending Name"})),d.a.createElement("div",{className:Xi.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"sendingName",value:a,"aria-label":p(Ki.deaSendingName),placeholder:p(Ki.deaSendingName),onChange:e=>o("sendingName",e)})),d.a.createElement("label",{className:Xi.label,htmlFor:"description"},d.a.createElement(m.FormattedMessage,{id:"dea_description_text",defaultMessage:"Description"})),d.a.createElement("div",{className:Xi.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"description",value:n,"aria-label":p(Ki.deaDescription),placeholder:p(Ki.deaDescription),onChange:e=>o("description",e)})),_?d.a.createElement("div",{className:Xi.deleteBtn},d.a.createElement(Je.a,{"data-test-id":"delete-dea-account",kind:$e.a.DANGER,onClick:c},d.a.createElement(m.FormattedMessage,{id:"delete_dea_btn_text",defaultMessage:"Delete address"})),d.a.createElement("div",{className:Xi.hint},d.a.createElement(m.FormattedMessage,{id:"dea_delete_hint",defaultMessage:"Delete address won't delete emails sent to this address"}))):null,d.a.createElement(It,{onSave:this.handleSave,onCancel:l,disableSave:this.state.saveBtnDisabled}))}}r()(Qi,"contextTypes",{intl:m.intlShape.isRequired}),r()(Qi,"defaultProps",{account:{},onSave:Yi,onChange:Yi,onDelete:Yi,onCancel:Yi,isExistingDEA:Yi});var Ji=Qi;const $i=u()(Zs.a);class er extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{keyword:"",sendingName:"",description:"",hasFocus:!1}),r()(this,"handleChange",(e,t)=>{this.setState({[e]:t})}),r()(this,"handleSave",()=>{const e=this.state,t=this.props;this.props.onSave({sendingName:e.sendingName,description:e.description,type:N.i.DEA,email:`${t.baseName}-${e.keyword}@${t.domain}`})})}componentWillUnmount(){this.props.clearBaseNameSuggestions()}render(){const e=this.state,t=e.sendingName,a=e.description,n=e.keyword,s=this.props,i=s.domain,r=s.baseName,o=s.onCreateBaseName,l=s.baseNameSuggestions,c=s.clearBaseNameSuggestions,_=s.onCancel;return d.a.createElement("div",{className:$i.filterWrapper,"data-test-id":"dea-creator"},d.a.createElement("div",{className:$i.filterPreviewSection},d.a.createElement("header",{className:$i.previewTitleWrapper},d.a.createElement("div",{className:$i.previewFilterTitleLeftAlign},d.a.createElement(m.FormattedMessage,{id:"add_dea_base_text",defaultMessage:"Create first disposable email address"}))),r?d.a.createElement(Ji,{domain:i,keyword:n,account:{sendingName:t,description:a},baseName:r,onCancel:_,onSave:this.handleSave,onChange:this.handleChange}):d.a.createElement(zi,{domain:i,baseName:r,suggestions:l,onCreateBaseName:o,clearBaseNameSuggestions:c,onCancel:_})))}}r()(er,"contextTypes",{intl:m.intlShape.isRequired});const tr=Object(m.defineMessages)({cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},confirmBtn:{id:"confirm_btn_text",defaultMessage:"Confirm"},confirmDeleteTitle:{id:"confirm_delete_title_text",defaultMessage:"Confirm Delete"}}),ar=u()(Zs.a);class nr extends d.a.Component{constructor(...e){super(...e),r()(this,"getStateFromProps",({account:e={}})=>{return{id:e.id,email:e.email,sendingName:e.sendingName,description:e.description,keyword:e.keyword,showConfirm:!1}}),r()(this,"toggleConfirmDialog",e=>{this.setState({showConfirm:e})}),r()(this,"handleChange",(e,t)=>{this.setState({[e]:t})}),r()(this,"handleDelete",()=>{const e=this.props.onDelete;this.toggleConfirmDialog(!1),e(this.state.id)}),r()(this,"handleSave",()=>{const e=this.state,t=e.id,a=this.props;this.props.onSave({id:t,sendingName:e.sendingName,description:e.description,type:N.i.DEA,email:t?e.email:`${a.baseName}-${e.keyword}@${a.domain}`})}),r()(this,"state",this.getStateFromProps(this.props))}render(){const e=this.state,t=e.id,a=e.email,n=e.sendingName,s=e.description,i=e.keyword,r=e.showConfirm,o=this.props,l=o.baseName,c=o.domain,_=o.onCancel,u=this.context.intl.formatMessage;return d.a.createElement("div",{className:ar.filterWrapper,"data-test-id":"dea-editor"},d.a.createElement("div",{className:ar.filterPreviewSection},d.a.createElement("header",{className:ar.previewTitleWrapper},d.a.createElement("div",{className:ar.previewFilterTitle},d.a.createElement(m.FormattedMessage,!!t?{id:"edit_dea_account_text",defaultMessage:"Edit {email}",values:{email:d.a.createElement("span",{className:ar.email,title:a},a)}}:{id:"add_dea_account_text",defaultMessage:"Create disposable email address"}))),d.a.createElement(Ji,{domain:c,keyword:i,account:{id:t,email:a,sendingName:n,description:s},baseName:l,onCancel:_,onDelete:this.toggleConfirmDialog.bind(this,!0),onSave:this.handleSave,onChange:this.handleChange,isExistingDEA:this.props.isExistingDEA}),r?d.a.createElement(et.a,{onConfirm:this.handleDelete,cancelLabel:tr.cancelBtn,acceptLabel:tr.confirmBtn,title:u(tr.confirmDeleteTitle),onAbort:this.toggleConfirmDialog.bind(this,!1)},d.a.createElement(m.FormattedMessage,{id:"confirm.delete_account",defaultMessage:"Are you sure you want to remove {email}?",values:{email:d.a.createElement("strong",null,a)}})):null))}}r()(nr,"contextTypes",{intl:m.intlShape.isRequired});var sr=nr,ir=a(617),rr=a(1642),or=a.n(rr);const lr=Object(m.defineMessages)({ok_button_title:{id:"other_provider_ok_button_title",defaultMessage:"OK"}}),cr=u()(or.a);class dr extends d.a.Component{render(){const e=this.props.onNext,t=this.context.intl.formatMessage;return d.a.createElement("div",null,d.a.createElement("h5",{className:cr.label},d.a.createElement(m.FormattedMessage,{id:"oAuth_other_provider_header",defaultMessage:"Additional providers coming soon"})),d.a.createElement("div",{className:cr.textBody},d.a.createElement(m.FormattedMessage,{id:"oAuth_other_provider_body",defaultMessage:"Your email provider is not supported yet. We will email you when it becomes available."})),d.a.createElement(Je.a,{"data-test-id":"other-provider-ok-button",className:cr.okButton,onClick:e,title:t(lr.ok_button_title)},d.a.createElement(m.FormattedMessage,{id:"other_provider_ok_button_label",defaultMessage:"OK"})))}}r()(dr,"contextTypes",{intl:m.intlShape.isRequired});var mr=dr,_r=a(1643),ur=a.n(_r);const pr={cancel_button_title:{id:"supported_provider.cancel_button_title",description:"Tooltip for the cancel button.",defaultMessage:"Cancel"}};class hr extends d.a.Component{constructor(...e){super(...e),r()(this,"handleItemClick",e=>{if(this.props.addAccountSelectProvider({provider:e}),N.nd.indexOf(e)>=0)return this.props.onChange("provider",e),void this.props.onNext();this.props.onPrevious()})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.onCancel,n=t.office365Enabled,s=t.useThirdGenerationLogo,i=u()(ur.a,{useThirdGenerationLogo:s});let r=this.context.partner?Ui:Bi;return!this.context.partner&&n&&(r=Bi.slice()).splice(2,0,N.ob.OFFICE365),d.a.createElement("div",{className:i.container},d.a.createElement("h5",{className:i.label},d.a.createElement(m.FormattedMessage,{id:"oAuth_select_provider_text",defaultMessage:"Select email provider"})),d.a.createElement("ol",{className:i.accountList},r.map(e=>{const t=u()(ur.a,{provider:e,useThirdGenerationLogo:s});return d.a.createElement("li",{key:e,className:t.listItem,onClick:()=>this.handleItemClick(e)},d.a.createElement("div",{className:t.accountItem}))}),d.a.createElement("li",{className:i.listItemOther,onClick:()=>this.handleItemClick("OTHER")},d.a.createElement(m.FormattedMessage,{id:"oAuth_other_provider",defaultMessage:"Other"}))),d.a.createElement(Je.a,{"data-test-id":"supported-provider-cancel-button",className:i.cancelButton,onClick:a,title:e(pr.cancel_button_title)},d.a.createElement(m.FormattedMessage,{id:"supported_provider.cancel_button_label",defaultMessage:"Cancel"})))}}r()(hr,"contextTypes",{intl:m.intlShape.isRequired,partner:l.a.string});var gr=Object(D.connect)(e=>{const t=(0,Object(H.b)(e).getFeaturesSelectors)();return{office365Enabled:t.isEnabled(N.ub.OFFICE365),useThirdGenerationLogo:t.isEnabled(N.ub.USE_THIRD_GENERATION_LOGO)}},e=>({addAccountSelectProvider:t=>e(Object(j.a)({i13nModel:{mKey:A.e[`SELECT_${t.provider.toUpperCase()}_ACCOUNT`],sec:A.g.SETTINGS_ACCOUNTS_TAB,interactionType:A.d.click}}))}))(hr),Er=a(575),br=a(574),Cr=a(576);const fr=u()(Zs.a);class Sr extends d.a.Component{constructor(e,t){super(e,t),r()(this,"handleChange",(e,t)=>{this.state[e]!==t&&this.setState("provider"===e?{[e]:t,email:""}:{[e]:t})}),this.state={email:"",provider:"ycorp"===t.partner?N.ob.GOOGLE:""}}render(){const e=this.state,t=e.email,a=e.provider,n=this.props,s=n.onCancel,i=n.onAuthorize,r=n.accounts,o=n.handleAddSuccess,l=n.handleAddFailure,c=n.accountSyncFailed,m=n.appRootPath,_=n.onSubmit,u="ycorp"===this.context.partner?2:1,p=r.find(e=>e.email===t);return d.a.createElement("div",{className:fr.filterWrapper},d.a.createElement("div",{className:fr.filterPreviewSection},d.a.createElement(ir.a,{onCancel:s,startStep:u},d.a.createElement(mr,null),d.a.createElement(gr,{provider:a,onChange:this.handleChange}),d.a.createElement(Er.a,{email:t,provider:a,onChange:this.handleChange,accounts:r}),d.a.createElement(br.a,{email:t,provider:a,onAuthorize:i,handleAddSuccess:o,onCancelAuthorize:l,accountSyncFailed:c,appRootPath:m}),d.a.createElement(Cr.a,{onCancel:s,onSubmit:_,account:p,isSyncing:!p,accountSyncFailed:c}))))}}r()(Sr,"contextTypes",{intl:m.intlShape.isRequired,partner:l.a.string});var yr=Sr,Tr=a(1644),Nr=a.n(Tr);const Ar=Object(m.defineMessages)({sendasHeader:{id:"add_sendas_header_label",defaultMessage:"Add send-only email address"},verifyAccountHeader:{id:"add_sendas_verify_header_label",defaultMessage:"Verify your account"},sendasEmailPlaceHolder:{id:"add_sendas_email_placeholder",defaultMessage:"name@example.com"},invalidEmail:{id:"add_sendas_invalid_email",defaultMessage:"Invalid email address"},next_button_text:{id:"add_sendas_next_button_text",defaultMessage:"Next"},cancel_button_text:{id:"add_sendas_cancel_button_text",defaultMessage:"Cancel"},finish_button_text:{id:"add_sendas_finish_button_text",defaultMessage:"Verify to setup"},resend_text:{id:"add_sendas_resend_text",defaultMessage:"resending it."},disabled_text:{id:"add_sendas_disabled_text",defaultMessage:"Please select at lease one mailbox to link to your send-only email address"}});class Ir extends d.a.Component{constructor(e){super(e),r()(this,"handleInputChange",e=>{this.setState({email:e,invalidEmail:!1,accountExist:!1})}),r()(this,"handleVerifyEmail",()=>{const e=this.props,t=e.accounts,a=e.enableLinkAccounts,n=this.state,s=n.email,i=n.step;if(Object(v.n)(s)){if(!Object(Vs.b)(t,s))return a?void this.setState({step:i+1}):(this.props.onCreateSendOnly(s,[this.props.primaryAccountId]),void this.setState({step:i+2}));this.setState({accountExist:!0})}else this.setState({invalidEmail:!0})}),r()(this,"handleResendEmail",()=>{const e=this.props,t=e.account;t&&(0,e.onResend)(t)}),r()(this,"renderAccountAddressForm",e=>{const t=this.state,a=t.email,n=t.accountExist,s=this.context.intl.formatMessage,i=t.invalidEmail?s(Ar.invalidEmail):"";return d.a.createElement("div",null,d.a.createElement("h5",{className:e.headerLabel},s(Ar.sendasHeader)),n?d.a.createElement("div",{className:e.errorWrapper},d.a.createElement("div",{className:e.errorIcon},d.a.createElement(k.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING_GRAD_RED})),d.a.createElement(m.FormattedMessage,{id:"sendas_account_exsit_error",defaultMessage:"Your email {email} already exists.",values:{email:a}})):null,d.a.createElement(nt.a,{name:"sendas_email",value:a,placeholder:s(Ar.sendasEmailPlaceHolder),onChange:this.handleInputChange,error:i}),d.a.createElement(Je.a,{"data-test-id":"sendas-next-button",className:e.primaryButton,onClick:this.handleVerifyEmail,title:s(Ar.next_button_text)},s(Ar.next_button_text)))}),r()(this,"handleLinkedAccountToggle",e=>{const t=this.state.enableAccounts;void 0===t[e]?t[e]=!0:delete t[e],this.setState({enableAccounts:t})}),r()(this,"handleCreateSendOnlyAccount",()=>{const e=this.state,t=e.step;this.props.onCreateSendOnly(e.email,Object.keys(e.enableAccounts)),this.setState({step:t+1})}),r()(this,"renderLinkedAccountsForm",e=>{const t=this.context.intl.formatMessage,a=this.state,n=a.enableAccounts,s=this.props,i=s.accounts,r=s.onCancel,o=d.a.createElement("strong",null,a.email),l=0===Object.keys(n).length,c=l?e.disabledPrimaryButton:e.primaryButton;return d.a.createElement("div",null,d.a.createElement("h5",{className:e.headerLabel},d.a.createElement(m.FormattedMessage,{id:"add_sendas_linked_accounts_title",defaultMessage:"Select the mailbox(es) that you would like to link to the send-only email address"}),d.a.createElement("div",null,"(",o,")")),d.a.createElement(Ys,{accounts:i.filter(e=>Object(Vs.h)(e)||e.isPrimary),enableAccounts:n,onToggle:this.handleLinkedAccountToggle}),d.a.createElement(Je.a,{"data-test-id":"sendas-next-button",className:c,onClick:this.handleCreateSendOnlyAccount,title:t(l?Ar.disabled_text:Ar.next_button_text),disabled:l},t(Ar.next_button_text)),d.a.createElement(Je.a,{"data-test-id":"sendas-cancel-button",className:e.cancelButton,onClick:r,title:t(Ar.cancel_button_text)},t(Ar.cancel_button_text)))}),r()(this,"renderConfirmPage",e=>{const t=this.context.intl.formatMessage,a=this.props.onCancel,n=this.state.email;return d.a.createElement("div",null,d.a.createElement("h5",{className:e.headerLabel},t(Ar.verifyAccountHeader)),d.a.createElement("div",{className:e.textBody},d.a.createElement(m.FormattedMessage,{id:"add_sendas_verify_text",defaultMessage:"Check {email} for a confirmation email from Yahoo Member Services. Click the link in the message to enable sending email from this account. If you don't see a confirmation email, try {resend}",values:{email:d.a.createElement("b",null,n),resend:d.a.createElement("a",{className:e.link,onClick:this.handleResendEmail},t(Ar.resend_text))}})),d.a.createElement(Je.a,{"data-test-id":"sendas-finish-button",className:e.primaryButton,onClick:a,title:t(Ar.finish_button_text)},t(Ar.finish_button_text)))}),r()(this,"renderForm",e=>{switch(this.state.step){case 1:return this.renderLinkedAccountsForm(e);case 2:return this.renderConfirmPage(e)}return this.renderAccountAddressForm(e)});const t={};t[e.primaryAccountId]=!0,this.state={step:0,email:"",invalidEmail:!1,accountExist:!1,enableAccounts:t}}render(){const e=this.state,t=e.invalidEmail,a=e.accountExist,n=u()(Nr.a,{invalidEmail:t,accountExist:a});return d.a.createElement("div",{className:n.formWrapper},d.a.createElement("div",{className:n.formSection},this.renderForm(n)))}}r()(Ir,"contextTypes",{intl:m.intlShape.isRequired});var Mr=Ir,vr=a(1645),Dr=a.n(vr);const Or=Object(m.defineMessages)({addAliasHeader:{id:"add_alias_header",defaultMessage:"Create an email alias"},accountEmail:{id:"alias_email_placeholder",defaultMessage:"Your Email"},aliasEmailUnavailable:{id:"alias_email_unavailable",defaultMessage:"Sorry, {email} is unavailable."},setupBtnTitle:{id:"alias_btn_setup_title",defaultMessage:"Setup"},cancelBtnTitle:{id:"account_cancel_btn_title",defaultMessage:"Cancel"}}),kr=u()(Dr.a);class Rr extends d.a.Component{constructor(e){super(e),r()(this,"setupAlias",()=>{this.props.onCreateAlias(this.state.email)}),r()(this,"handleInputChange",e=>{this.state.email!==e&&(this.suggestions=[],this.setState({email:e}))}),r()(this,"handleSelect",e=>{this.state.email!==e&&this.setState({email:e})}),this.suggestions=[],this.state={email:""}}componentWillReceiveProps(e){const t=e.getAliasSuggestions(this.state.email);t&&(this.suggestions=t)}render(){const e=this.context.intl.formatMessage,t=this.state.email,a=this.props,n=a.getAliasSuggestionStatus,s=a.onCancel,i=this.context.mailBrandNameString;return d.a.createElement("div",{className:kr.formWrapper,"data-test-id":"add-alias"},d.a.createElement("div",{className:kr.formSection},d.a.createElement("header",{className:kr.titleWrapper},e(Or.addAliasHeader)),d.a.createElement("label",{className:kr.label,htmlFor:"accountEmail"},d.a.createElement(m.FormattedMessage,{id:"add_alias_account_label",defaultMessage:"Create a new {mailBrandNameString} address",values:{mailBrandNameString:i}})),d.a.createElement("div",{className:kr.textInput},d.a.createElement(nt.a,{isClearable:!0,name:"accountEmail",value:t,"aria-label":e(Or.accountEmail),placeholder:e(Or.accountEmail),onChange:this.handleInputChange,error:n(t)===N.bd.ERROR&&""!==t?e(Or.aliasEmailUnavailable,{email:t}):null})),this.suggestions.length&&""!==t?d.a.createElement("div",{className:kr.suggestionsContainer},d.a.createElement("p",null,d.a.createElement(m.FormattedMessage,{id:"add_alias_suggestion_help",defaultMessage:"Need help? Here are some available email aliases."})),d.a.createElement("ul",{className:kr.suggestions},this.suggestions.map(e=>d.a.createElement("li",{key:e,className:kr.suggestionsListItem},d.a.createElement("span",{"data-test-id":`alias-name-${e}`,className:kr.suggestion,onClick:this.handleSelect.bind(this,e)},e))))):d.a.createElement("div",{className:kr.textWrapperContainer},d.a.createElement("div",{className:kr.textWrapper},d.a.createElement(m.FormattedMessage,{id:"add_alias_email_format",defaultMessage:"Your email alias may consist of letters, numbers, underscores and a period. Other special characters not allowed."})),d.a.createElement("div",{className:kr.textWrapper},d.a.createElement(m.FormattedMessage,{id:"add_alias_condition",defaultMessage:"Alias email address can be edited only twice in the next 12 months."}))),d.a.createElement("div",{className:kr.buttonWrapper},d.a.createElement(Je.a,{"data-test-id":"alias-setup-btn",className:kr.saveButton,title:e(Or.setupBtnTitle),onClick:this.setupAlias},d.a.createElement(m.FormattedMessage,{id:"alias_account_setup",defaultMessage:"Set up"})),d.a.createElement(Je.a,{"data-test-id":"alias-cancel-btn",className:kr.cancelButton,title:e(Or.cancelBtnTitle),onClick:s},d.a.createElement(m.FormattedMessage,{id:"cancel_btn_text",defaultMessage:"Cancel"})))))}}r()(Rr,"contextTypes",{intl:m.intlShape.isRequired,mailBrandNameString:l.a.string});var wr=Rr;const Pr="yahoo.com",xr=Object(m.defineMessages)({addAccount:{id:"add_account_btn_text",defaultMessage:"Add another mailbox"},rightRailHeader:{id:"accounts_right_rail_header",defaultMessage:"Find help for accounts"}});class Fr extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{action:this.props.openAddAccount?"CREATE_ROOT_ACCOUNT":null,newAccount:null,selectedAccountId:this.props.defaultSelectedAccount,openReauth:this.props.openReauth}),r()(this,"setSelectedIndex",e=>{this.setState({selectedAccountId:e,action:null,newAccount:null,openReauth:!1})}),r()(this,"getReplyToAddresses",()=>this.props.getAccounts().filter(e=>e.accountVerified&&"ENABLED"===e.status)),r()(this,"getDisposableAddresses",()=>this.props.getAccounts().filter(e=>e.type===N.i.DEA)),r()(this,"handleNewAccountCreated",e=>{this.setState({selectedAccountId:e.id,newAccount:e})}),r()(this,"handleSave",(e,t,a)=>{(0,this.props.updateAccountDetails)({accountId:e,updatedProperties:t,i13nModel:a})}),r()(this,"handleDeleteAccount",e=>{const t={mKey:A.e.DELETE_ACCOUNT,sec:A.g.SETTINGS_ACCOUNTS_TAB,interactionType:A.d.click};this.resetState(),this.props.onDeleteAccount({accountId:e,i13nModel:t})}),r()(this,"resetState",()=>{this.setState({selectedAccountId:"-1",action:null,newAccount:null})}),r()(this,"handleCancel",e=>{this.props.cancelAccountSettings({mKey:e}),this.resetState()}),r()(this,"handleCreateBaseName",()=>{this.setState({selectedAccountId:"-1",action:this.props.deaBaseName.deaPrefix?"CREATE_DEA_ACCOUNT":"CREATE_BASE_NAME"})}),r()(this,"isExistingDEA",e=>{const t=this.getDisposableAddresses(),a=`${this.props.deaBaseName.deaPrefix}-${e}@${Pr}`;return!!t.find(e=>e.email===a)}),r()(this,"handleCreateDisposableAddress",e=>{const t=e.id,a=Hs()(e,["id"]);t?this.handleSave(t,a):this.props.addAccount({newAccount:a}),this.resetState()}),r()(this,"handleSaveBaseName",e=>{this.props.createBaseName({baseName:e})}),r()(this,"handleAddAccount",()=>{this.setState({selectedAccountId:"-1",action:"CREATE_ROOT_ACCOUNT"})}),r()(this,"handleAddSendOnlyAccount",()=>{this.setState({selectedAccountId:"-1",action:"CREATE_SENDAS_ACCOUNT"})}),r()(this,"handleAddAliasAccount",()=>{this.setState({selectedAccountId:"-1",action:"CREATE_ALIAS_ACCOUNT"})}),r()(this,"handleCreateAccount",e=>{const t=Object(Vs.g)(e);this.props.addAccount(t)}),r()(this,"handleCreateSendAsAccount",(e,t)=>{const a=Object(Vs.g)({email:e,linkedAccounts:t,type:N.i.SENDAS});this.props.addAccount(a)}),r()(this,"handleConfirmSubmit",(e,t)=>{this.setState({newAccount:null}),this.handleSave(e,t)}),r()(this,"handleResendConfirmEmail",e=>{this.props.resendConfirmEmail({account:e})}),r()(this,"handleReauth",({wssid:e,accountId:t,error:a,email:n,provider:s})=>{a?this.props.reauthAccountFailed({error:a.status,email:n,provider:s}):this.props.reauthAccount({wssid:e,accountId:t,email:n,provider:s})}),r()(this,"handleCreateAlias",e=>{this.props.createAlias({email:e})}),r()(this,"getMailBoxList",()=>this.props.getAccounts().filter(e=>Object(Vs.h)(e)||e.isPrimary)),r()(this,"getAliasAccounts",()=>this.props.getAccounts().filter(e=>e.type===N.i.ALIAS&&e.status!==N.h.DELETE_IN_PROGRESS)),r()(this,"getSendAsAccounts",()=>this.props.getAccounts().filter(e=>e.type===N.i.SENDAS&&e.status!==N.h.DELETE_IN_PROGRESS)),r()(this,"renderIMAPINSection",()=>{const e=this.state,t=e.selectedAccountId,a=e.action,n=this.props,s=n.canAddImapInAccount,i=n.expiredAccounts,r="ycorp"===this.context.partner&&(0,n.getAccounts)().some(e=>e.email&&Object(v.p)(e.email));return d.a.createElement(wi,{key:N.g.IMAPIN,sectionType:N.g.IMAPIN,accounts:this.getMailBoxList(),selectedAccountId:t,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_ROOT_ACCOUNT"===a,expiredAccounts:i,handleButtonClick:this.handleAddAccount,canAddImapInAccount:s&&!r})}),r()(this,"renderAliasSection",()=>{const e=this.state,t=e.selectedAccountId,a=e.action,n=this.props,s=n.expiredAccounts,i=n.addAliasAccount,r=this.getAliasAccounts();return 0!==r.length||i?d.a.createElement(wi,{key:N.g.ALIAS,sectionType:N.g.ALIAS,accounts:r,selectedAccountId:t,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_ALIAS_ACCOUNT"===a,expiredAccounts:s,addAliasAccount:i,handleButtonClick:this.handleAddAliasAccount,handleNewAccountCreated:this.handleNewAccountCreated}):null}),r()(this,"renderSendAsSection",()=>{const e=this.state,t=e.selectedAccountId,a=e.action,n=this.props,s=n.expiredAccounts;return n.addSendOnlyAccounts?d.a.createElement(wi,{key:N.g.SENDAS,sectionType:N.g.SENDAS,accounts:this.getSendAsAccounts(),selectedAccountId:t,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_SENDAS_ACCOUNT"===a,handleButtonClick:this.handleAddSendOnlyAccount,expiredAccounts:s}):null}),r()(this,"renderDisposableEmailSection",()=>{const e=this.state.selectedAccountId,t=this.getDisposableAddresses(),a=this.props,n=a.disposableAddressDeleteOnly;return!a.disposableAddress||n&&!t.length?null:d.a.createElement(wi,{key:N.g.DEA,sectionType:N.g.DEA,accounts:t,selectedAccountId:e,handleAccountSelected:this.setSelectedIndex,handleButtonClick:this.handleCreateBaseName,buttonDisabled:n,baseName:a.deaBaseName.deaPrefix,domain:Pr})}),r()(this,"renderRightPane",()=>{const e=this.state,t=e.selectedAccountId,a=e.newAccount,n=e.openReauth,s=this.props,i=s.deaBaseName.deaPrefix,r=s.composeFontFamily,o=s.composeFontSize,l=s.sendingEmailConfirmStatus,c=s.expiredAccounts,m=s.appRootPath,_=s.canRemoveImapInAccount,u=s.stationeryRestrictedThemes,p=s.rtl,h=s.enableLinkAccounts,g=s.forwardEmail,E=(0,s.getAccounts)(),b=E.find(({id:e})=>e===t);return b.type===N.i.DEA?d.a.createElement(sr,{domain:Pr,baseName:i,key:b.id,account:b,onCancel:this.handleCancel.bind(this,A.e.CANCEL_EDIT_DEA),onDelete:this.handleDeleteAccount,onSave:this.handleCreateDisposableAddress}):d.a.createElement(ii,{onSave:this.handleSave,key:b.id,account:b,accounts:E,onCancel:this.handleCancel.bind(this,A.e.SETTINGS_CANCEL_EDIT_ACCOUNT),onDelete:this.handleDeleteAccount,replyToAddresses:this.getReplyToAddresses(),composeFontFamily:r,composeFontSize:o,onResend:this.handleResendConfirmEmail,sendingEmailConfirmStatus:l,handleReauth:this.handleReauth,expiredAccounts:c,newAccount:a,openReauth:n,canRemoveImapInAccount:_,appRootPath:m,stationeryRestrictedThemes:u,rtl:p,enableLinkAccounts:h,forwardEmail:g})}),r()(this,"renderAddForm",()=>{const e=this.state,t=e.action,a=e.prefix,n=e.newAccount,s=this.context.intl,i=s.formatMessage,r=s.locale,o=this.props,l=o.deaBaseName.deaPrefix,c=o.baseNameSuggestions,m=o.getAliasSuggestions,_=o.getAliasSuggestionStatus,u=o.accountSyncFailed,p=o.appRootPath,h=o.enableLinkAccounts,g=o.clearBaseNameSuggestions,E=(0,o.getAccounts)(),b=E.find(e=>e.isPrimary),C=this.context,f=C.mailBrandNameString,S=C.partner;switch(t){case"CREATE_ROOT_ACCOUNT":return d.a.createElement(yr,{appRootPath:p,onCancel:this.handleCancel.bind(this,A.e.CANCEL_ADD_ACCOUNT),onAuthorize:this.handleCreateAccount,accounts:E,onSubmit:this.handleConfirmSubmit,handleAddSuccess:this.props.handleAddSuccess,handleAddFailure:this.props.handleAddFailure,accountSyncFailed:u});case"CREATE_BASE_NAME":return d.a.createElement(er,{domain:Pr,baseName:l||a,onCancel:this.handleCancel.bind(this,A.e.CANCEL_ADD_BASE),onSave:this.handleCreateDisposableAddress,onCreateBaseName:this.handleSaveBaseName,baseNameSuggestions:c,clearBaseNameSuggestions:g});case"CREATE_DEA_ACCOUNT":return d.a.createElement(sr,{domain:Pr,baseName:l,onCancel:this.handleCancel.bind(this,A.e.CANCEL_ADD_DEA),onSave:this.handleCreateDisposableAddress,isExistingDEA:this.isExistingDEA});case"CREATE_SENDAS_ACCOUNT":return d.a.createElement(Mr,{onCancel:this.handleCancel,onCreateSendOnly:this.handleCreateSendAsAccount,onResend:this.handleResendConfirmEmail,accounts:E,account:n,primaryAccountId:b.id,enableLinkAccounts:h});case"CREATE_ALIAS_ACCOUNT":return d.a.createElement(wr,{onCancel:this.handleCancel,onCreateAlias:this.handleCreateAlias,getAliasSuggestions:m,getAliasSuggestionStatus:_});default:return d.a.createElement(Ut,{demoImg:be.c.ACCOUNTS,header:i(xr.rightRailHeader),helpLinks:Zt.a.map(({text:e,link:t})=>({text:i(e,{mailBrandNameString:f}),link:t(r,S)}))})}}),r()(this,"isValidAccount",()=>{const e=this.props.getAccounts(),t=this.state.selectedAccountId;return e.find(({id:e})=>e===t)})}componentWillReceiveProps(e){null!==e.newAccount&&this.setState({newAccount:e.newAccount})}render(){const e=this.props.useThirdGenerationLogo,t=u()(Gs.a,{useThirdGenerationLogo:e}),a=[this.renderAliasSection(),this.renderSendAsSection(),this.renderDisposableEmailSection()];return d.a.createElement("div",{className:t.container,"data-test-id":"accounts-settings"},d.a.createElement("div",{className:t.left},d.a.createElement("div",{className:t.headerWrapper},d.a.createElement("header",{className:t.titleWrapper},d.a.createElement("h4",{className:t.title},d.a.createElement(m.FormattedMessage,{id:"accounts_header",defaultMessage:"Mailbox management"})),d.a.createElement("span",{className:t.hint},d.a.createElement(m.FormattedMessage,{id:"accounts_list_header_hint",defaultMessage:"Connect your Google, Outlook (Hotmail) or AOL address to manage your email all together."}))),this.renderIMAPINSection(),this.props.isPrimaryAccountDisabled?null:a)),d.a.createElement("div",{className:t.right},this.isValidAccount()?this.renderRightPane():this.renderAddForm()))}}r()(Fr,"contextTypes",{intl:m.intlShape.isRequired,config:l.a.object,executeAction:l.a.func,mailBrandNameString:l.a.string,partner:l.a.string}),r()(Fr,"defaultProps",{defaultSelectedAccount:"-1",aliasSuggestions:[]});var Lr=Object(D.connect)(e=>{const t=Object(H.b)(e),a=t.getFeaturesSelectors,n=t.getSelectedAccountId,s=t.getAccountById,i=t.getAccountSelectors,r=(0,t.getRoute)(),o=a(),l=o.isEnabled(N.ub.ADD_SEND_ONLY_ACCOUNTS),c=o.isEnabled(N.ub.DISPOSABLE_ADDRESS_DELETE_ONLY),d=i().isPrimaryAccountDisabled();return{addSendOnlyAccounts:l,disposableAddressDeleteOnly:c,forwardEmail:s(n()).forwardEmail,isPrimaryAccountDisabled:d,openAddAccount:!!r.params.openAddAccount,useThirdGenerationLogo:o.isEnabled(N.ub.USE_THIRD_GENERATION_LOGO)}},e=>({updateAccountDetails:t=>e(Object(g.k)(t)),createBaseName:t=>e(Object(j.h)(Ne()({},t,{domain:Pr}))),reauthAccount:t=>e(Object(b.k)(t)),reauthAccountFailed:t=>e(Object(b.l)(t)),createAlias:t=>e(Object(j.e)(t)),resendConfirmEmail:t=>e(Object(j.y)(t)),handleAddSuccess({provider:t,email:a}){e(Object(j.u)({i13nModel:{mKey:A.e.CONNECT_ACCOUNT_SUCCESS,sec:A.g.SETTINGS_ACCOUNTS_TAB,interactionType:A.d.click,actionData:{prvdr:t,email:a}}}))},handleAddFailure({provider:t,email:a,status:n}){e(Object(j.t)({i13nModel:{mKey:A.e.CONNECT_ACCOUNT_FAILURE,sec:A.g.SETTINGS_ACCOUNTS_TAB,interactionType:A.d.click,actionData:{prvdr:t,email:a,status:n}}}))},cancelAccountSettings(t){e(Object(j.c)({i13nModel:{mKey:t.mKey,sec:A.g.SETTINGS_ACCOUNTS_TAB,interactionType:A.d.click}}))},addAccount:t=>e(Object(b.a)(t)),clearBaseNameSuggestions:()=>e(Object(j.d)())}))(Fr);a.d(t,"SettingsView",function(){return Hr}),a.d(t,"mapStateToProps",function(){return jr}),a.d(t,"mapDispatchToProps",function(){return Gr});const Br=Object(m.defineMessages)({gotoInboxLabel:{id:"button.gotoInbox",defaultMessage:"Back to Inbox"},personalize_inbox:{id:"settings.personalize_inbox",defaultMessage:"Personalize inbox"},mailboxes:{id:"settings.mailboxes",defaultMessage:"Mailboxes"},notifications:{id:"settings.notifications",defaultMessage:"Notifications"},writingEmail:{id:"settings.writingEmail",defaultMessage:"Writing email"},viewingEmail:{id:"settings.viewingEmail",defaultMessage:"Viewing email"},categorization:{id:"settings.categorization",defaultMessage:"Inbox views"},security:{id:"settings.security",defaultMessage:"Security and privacy"},encryption:{id:"settings.encryption",defaultMessage:"Encryption"},filters:{id:"settings.filters",defaultMessage:"Filters"},socialAccounts:{id:"settings.social_accounts",defaultMessage:"Social accounts"},automaticReply:{id:"settings.automaticReply",defaultMessage:"Vacation response"},aboutYMail:{id:"settings.aboutYMail",defaultMessage:"About {mailBrandNameString}"},adFreeMail:{id:"settings.adFreeMail",defaultMessage:"Ad free mail"},yahooMailProBrandName:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},privacy:{id:"settings.privacy",defaultMessage:"Privacy"},terms:{id:"settings.terms",defaultMessage:"Terms"},aboutAds:{id:"settings.aboutAds",defaultMessage:"About our Ads"},help:{id:"settings.help",defaultMessage:"Help"},giveFeedback:{id:"settings.giveFeedback",defaultMessage:"Give feedback"},optOutLinkText:{id:"option_to_basic_mail_item",defaultMessage:"Switch to basic Mail"}}),Ur=u()(h.a);class Hr extends d.a.Component{constructor(...e){super(...e),r()(this,"handleCreateNewFolder",e=>{const t=this.props.activeAccount;this.context.executeAction(E.b,{folderName:Object(f.k)(e,t),accountId:t.id})}),r()(this,"handleDeleteAccount",({accountId:e,i13nModel:t})=>{this.props.deleteAccount({accountId:e,i13nModel:t})}),r()(this,"handleUnsubscribe",(e,t)=>{this.props.handleUnsubscribe({value:e,interactionType:Object(v.j)(t)})})}render(){const e=this.context.intl.formatMessage,t=this.context.config.aboutYmailUrl,a=(0,Object(H.b)(this.context.store.getState()).getFeaturesSelectors)(),n=a.getSetting(N.zd.ABOUT_AD_URL),i=a.getSetting(N.zd.PRIVACY_URL),r=a.getSetting(N.zd.TERMS_URL),o=a.getSetting(N.zd.HELP_URL),l=a.getSetting(N.zd.FEEDBACK_URL),c=a.isEnabled(N.ub.SHOW_ABOUT_OUR_ADS_LINK),m=a.isEnabled(N.ub.SHOW_ABOUT_YAHOO_MAIL_LINK),_=a.isEnabled(N.ub.SHOW_GIVE_FEEDBACK_LINK),u=a.isEnabled(N.ub.SHOW_OPT_OUT_LINK_MORE_SETTINGS),p=this.props,h=p.getAccounts,g=p.blockedSenders,E=p.selectedGroup,b=p.browserNotifications,C=p.connectedAccounts,f=p.deaBaseName,S=p.deaBaseNameSuggestions,y=p.getAliasSuggestions,T=p.getAliasSuggestionStatus,A=p.unsubscribeEnabled,I=p.newAccount,M=p.composeFontSize,v=p.composeFontFamily,D=p.defaultSelectedAccount,O=p.openReauth,k=p.accountSyncFailed,R=p.sendingEmailConfirmStatus,w=p.canAddImapInAccount,P=p.canRemoveImapInAccount,x=p.addAliasAccount,F=p.expiredAccounts,L=p.mailProEligible,B=p.mailProEnabled,U=p.unsubscribe,j=p.appRootPath,G=p.smartViewCategoriesEnabled,W=p.disposableAddress,Z=p.showTweet,V=p.stationeryRestrictedThemes,q=p.rtl,z=p.linkAccountList,Y=p.blockSenders,K=p.isPrimaryAccountDisabled,X=this.context.mailBrandNameString,Q=N.wc+"?crumb="+window.AppBootstrapData.crumb,$=[d.a.createElement(ae,{key:N.Cd.AUTOMATIC_REPLY,title:e(Br.automaticReply),groupId:N.Cd.AUTOMATIC_REPLY},d.a.createElement(Rt,s()({},this.props,{stationery:this.props.vacationResponseStationery}))),d.a.createElement(ae,{key:N.Cd.FILTERS,title:e(Br.filters),groupId:N.Cd.FILTERS},d.a.createElement(hn,{onSave:this.props.handleSaveFilter,filters:this.props.messageFilters,onCreateNewFolder:this.handleCreateNewFolder})),d.a.createElement(ae,{key:N.Cd.SECURITY_AND_PRIVACY,title:e(Br.security),groupId:N.Cd.SECURITY_AND_PRIVACY},d.a.createElement(Gn,{getAccounts:h,blockedSenders:g,blockSenders:Y,changeSettings:this.props.changeSettings}))];return d.a.createElement("section",{className:Ur.container,"data-test-id":"settings-navigation"},d.a.createElement(J,{key:E},d.a.createElement(ae,{title:e(Br.personalize_inbox),groupId:N.Cd.PERSONALIZE_INBOX},d.a.createElement(pe,this.props)),d.a.createElement(ae,{title:e(Br.mailboxes),groupId:N.Cd.ACCOUNTS},d.a.createElement(Lr,{stationeryRestrictedThemes:V,disposableAddress:W,appRootPath:j,getAccounts:h,deaBaseName:f,baseNameSuggestions:S,getAliasSuggestions:y,getAliasSuggestionStatus:T,newAccount:I,composeFontFamily:v,composeFontSize:M,defaultSelectedAccount:D,openReauth:O,accountSyncFailed:k,sendingEmailConfirmStatus:R,canAddImapInAccount:w,canRemoveImapInAccount:P,addAliasAccount:x,expiredAccounts:F,showTweet:Z,rtl:q,enableLinkAccounts:z,onDeleteAccount:this.handleDeleteAccount})),d.a.createElement(ae,{title:e(Br.notifications),groupId:N.Cd.NOTIFICATIONS},d.a.createElement(Yt,{browserNotifications:!!b,onUnsubToggle:this.handleUnsubscribe,unsubscribeEnabled:A,unsubscribe:U})),d.a.createElement(ae,{title:e(Br.writingEmail),groupId:N.Cd.WRITING_EMAIL},d.a.createElement(Bs,null)),d.a.createElement(ae,{title:e(Br.viewingEmail),groupId:N.Cd.VIEWING_EMAIL},d.a.createElement(Ma,null)),G?d.a.createElement(ae,{title:e(Br.categorization),groupId:N.Cd.CATEGORIZATION},d.a.createElement(ye,null)):null,K?null:$,d.a.createElement(ae,{title:e(Br.socialAccounts),groupId:N.Cd.SOCIAL_ACCOUNTS},d.a.createElement(_s,{connectedAccounts:C})),L?d.a.createElement(ae,{title:e(Br.yahooMailProBrandName),groupId:N.Cd.MAIL_PRO},d.a.createElement(Ts,{mailProEnabled:B})):null,d.a.createElement(ae,{style:{marginTop:"auto",paddingTop:"20px"},linkTo:Q,hideLink:!u,selfTab:!0,title:e(Br.optOutLinkText)}),d.a.createElement(ae,{linkTo:t,hideLink:!m,title:e(Br.aboutYMail,{mailBrandNameString:X})}),d.a.createElement(ae,{linkTo:n,title:e(Br.aboutAds),hideLink:!c}),d.a.createElement(ae,{linkTo:l,title:e(Br.giveFeedback),hideLink:!_}),d.a.createElement(ae,{linkTo:o,title:e(Br.help)}),d.a.createElement(ae,{linkTo:i,title:e(Br.privacy)}),d.a.createElement(ae,{linkTo:r,title:e(Br.terms)})))}}r()(Hr,"contextTypes",{config:l.a.object,intl:m.intlShape.isRequired,executeAction:l.a.func,navigateTo:l.a.func,store:l.a.object,mailBrandNameString:l.a.string});const jr=e=>{const t=Object(H.b)(e),a=t.getAllAccounts,n=t.getAliasAccounts,s=t.getRoute,i=t.getSelectedAccountIdByRoute,r=t.getAccountById,o=t.getAliasSuggestions,l=t.getAliasSuggestionStatus,c=t.getMailboxesSelectors,d=t.getSendingAccountId,m=t.getExpiredAccounts,_=t.getAccountSelectors,u=(0,t.getFeaturesSelectors)(),p=u.getSetting("logoUrl"),h=u.getSetting("secureCryptoMode"),g=u.isEnabled("unsubscribe"),E=u.isEnabled("theming"),b=u.getSetting("appRootPath"),C=u.getSetting("linkAccountList"),f=u.isEnabled(N.ub.DISPOSABLE_ADDRESS),S=u.isEnabled(N.ub.INLINE_ATTACHMENT),y=u.isEnabled(N.ub.SHOW_TWEET),T=u.isEnabled(N.zd.STATIONERY_RESTRICTED_THEMES),A=u.getSetting(N.zd.LINK_ENHANCER_URL_BLACK_LIST),I=u.isEnabled(N.ub.RTL),M=u.isEnabled(N.ub.STATIONERY),v=u.isEnabled(N.ub.VACATION_RESPONSE_STATIONERY),D=s(),O=r(i(D)),k=c(),R=k.getRecentlyAddedAccount(),w=u.isEnabled(N.ub.SMARTVIEW_CATEGORIES_ENABLED);return{getAccounts:()=>[].concat(a().filter(e=>e.type!==N.i.ALIAS),n()),isPrimaryAccountDisabled:_().isPrimaryAccountDisabled(),defaultSendingAccount:r(d()),expiredAccounts:m(),logoUrl:p,secureCryptoMode:h,unsubscribe:g,theming:E,appRootPath:b,disposableAddress:f,inlineAttachment:S,showTweet:y,stationeryRestrictedThemes:T,linkEnhancerUrlBlacklist:A,rtl:I,stationery:M,vacationResponseStationery:v,linkAccountList:C,messageFilters:u.getSetting(N.zd.MESSAGE_FILTERS),vacationPreferences:u.getSetting(N.zd.VACATION_PREFERENCES),activeAccount:O,selectedGroup:D.params.settingsGroupId,defaultSelectedAccount:D.params.accountId,openReauth:!0===D.params.openReauth,snippets:u.isEnabled(N.zd.SNIPPETS),photoThemes:u.isEnabled(N.ub.PHOTO_THEMES),themeSetting:u.getSetting(N.zd.THEME),partnerBrand:u.getSetting(N.zd.PARTNER_BRAND),themeModeSetting:u.getSetting(N.zd.THEME_MODE),previewPaneSetting:u.getSetting(N.zd.PREVIEW_PANE),msgListDensity:u.getSetting(N.zd.MSG_LIST_DENSITY),canAddImapInAccount:u.isEnabled("canAddImapInAccount"),canRemoveImapInAccount:u.isEnabled("canRemoveImapInAccount"),multiTaskModeSetting:u.isEnabled(N.zd.MAIL_TABS),mailProEligible:u.isEnabled(N.ub.MAIL_PRO_ELIGIBLE),mailProEnabled:u.isEnabled(N.ub.MAIL_PRO),addAliasAccount:u.isEnabled("addAliasAccount"),browserNotifications:u.isEnabled(N.zd.DESKTOP_NOTIFICATION),linkEnhancer:u.isEnabled(N.zd.LINK_ENHANCR),composeFontSize:u.getSetting(N.zd.COMPOSE_FONT_SIZE),composeFontFamily:u.getSetting(N.zd.COMPOSE_FONT_FAMILY),connectedAccounts:k.getSocialAccountsStatus(),blockedSenders:u.getSetting(N.zd.DELIVERY_BLOCKED_SENDERS),deaBaseName:k.getDeaBaseName(),deaBaseNameSuggestions:k.getBaseNameSuggestions(),getAliasSuggestions:o,getAliasSuggestionStatus:l,newAccount:R,accountSyncFailed:!!R&&!R.isSynced,sendingEmailConfirmStatus:u.isEnabled(N.zd.SENDING_EMAIL_CONFIRM_STATUS),unsubscribeEnabled:u.isEnabled(N.zd.UNSUBSCRIBE_NOTIFICATION),smartViewCategoriesEnabled:w,hasWideLogo:u.isEnabled(N.zd.HAS_WIDE_LOGO),breakingNewsSettings:u.getSetting(N.zd.BREAKING_NEWS_SETTINGS),breakingNews:u.isEnabled(N.ub.BREAKING_NEWS)}},Gr=e=>({deleteAccount:t=>e(Object(b.f)(t)),blockSenders:t=>e(Object(C.b)(t)),handleSaveFilter:t=>e(Object(g.f)(t)),handleUnsubscribe:({value:t,interactionType:a})=>e(Object(g.b)({name:N.zd.UNSUBSCRIBE_NOTIFICATION,value:t,i13nModel:{mKey:t?A.e.SETTINGS_UNSUBSCRIBE_ENABLE:A.e.SETTINGS_UNSUBSCRIBE_DISABLE,sec:A.g.SETTINGS_NOTIFICATIONS_TAB,interactionType:a}})),changeSettings:t=>e(Object(g.b)(t))});t.default=Object(D.connect)(jr,Gr)(Hr)},,function(e,t,a){"use strict";a.r(t);var n=a(32),s=a(15),i=a(10),r=a(0),o=a(62),l=a(4),c=a.n(l),d=a(3),m=a.n(d),_=a(8),u=a.n(_),p=a(1),h=a.n(p),g=a(1381),E=a.n(g),b=a(311);a(42);const C=2*r.u.Paddings.AROUND_PAGE_WIDTH,f=2*r.u.Paddings.AROUND_PAGE_HEIGHT,S=600,y=450,T=52;function N({containerWidth:e,contentWidth:t}){return Math.max(Math.round((t+C-e)/2),0)}function A(e,t){const a=e.contentAndRightRailHeight;return{containerWidth:t?e.innerWidth:function({contentAndRightRailWidth:e}){return e>=2*S+T?Math.floor((e-C-T)/2):Math.max(e-C-S-T,y)}({contentAndRightRailWidth:e.contentAndRightRailWidth}),containerHeight:a}}var I=a(29),M=a.n(I),v=a(13),D=a.n(v),O=a(1382),k=a.n(O);const R=D()(k.a),w=50;class P extends h.a.Component{constructor(e){super(e),m()(this,"_setupIframe",(e=0)=>{const t=this.iframeRef.current,a=t&&t.contentDocument;if(a&&"complete"===a.readyState){const e=t.contentDocument.createElement("div");a.body.appendChild(e),this._iframeContentNode=e,this._renderChildrenIntoContentNode(this.props)}else e<w&&(this._timerID=setTimeout(()=>{this._setupIframe(++e)},200))}),m()(this,"_renderChildrenIntoContentNode",e=>{M.a.unstable_renderSubtreeIntoContainer(this,h.a.createElement("div",null,e.children),this._iframeContentNode)}),this.iframeRef=h.a.createRef()}componentDidMount(){this.props.evtSandboxIframe||this._setupIframe()}componentWillUpdate(e){this._iframeContentNode&&this._renderChildrenIntoContentNode(e)}componentWillUnmount(){this._timerID&&(clearTimeout(this._timerID),this._timerID=null),this._iframeContentNode&&(M.a.unmountComponentAtNode(this._iframeContentNode),this._iframeContentNode=null),this.iframeRef.current&&this.iframeRef.current.removeEventListener("load",this.renderContent)}renderContent(){if(!this.props.evtSandboxIframe)return;const e=this.iframeRef.current,t=e&&e.contentDocument;if(t&&!this._iframeOnLoadEventFired){const a=e.contentDocument.createElement("div");t.body.appendChild(a),this._iframeContentNode=a,this._renderChildrenIntoContentNode(this.props),this._iframeOnLoadEventFired=!0}}render(){const e=this.props;return h.a.createElement("iframe",{className:R.iframe,ref:this.iframeRef,width:e.width,height:e.height,onLoad:this.renderContent()})}}m()(P,"defaultProps",{evtSandboxIframe:!1});var x=P,F=a(12),L=a(1273),B=a(24);const U=Object(L.a)(c()({},F.defaultFujiIcon,{backgroundColor:"transparent",border:0,fill:F.IconColors.INVERTED,"pointer-events":"auto",outline:"none",cursor:"pointer"})),H=`\n    html, body {\n        margin: 0;\n        padding: 0;\n    }\n    .lightbox.dp-doc-pages [data-name=scroll-area] [data-name=infinite-scroll-content] {\n        display: flex;\n        justify-content: center;\n    }\n    .lightbox .dp-page-outer {\n        transform: translate(-50%, 0);\n    }\n    .dp-doc-pages>div {\n        height: 100%;\n    }\n    .dp-doc-pages [data-name=scroll-area] {\n        height: 100%;\n        overflow-y: scroll;\n        position: relative;\n    }\n    .dp-doc-pages ul {\n        list-style: none;\n        margin: 0px;\n        padding: ${r.u.Paddings.AROUND_PAGE_WIDTH}px;\n    }\n    .dp-doc-pages ul > li:focus {\n        outline: none;\n    }\n    .f-left {\n        float: left;\n    }\n    .f-left {\n        float: right;\n    }\n    .f-clear {\n        clear: both;\n    }\n    .v-top {\n        vertical-align: top;\n    }\n    .bi {\n        position: absolute;\n        border: 0;\n        margin: 0;\n        user-select: none;\n    }\n    .c {\n        position: absolute;\n        border: 0;\n        padding: 0;\n        margin: 0;\n        overflow: hidden;\n        display: block;\n    }\n    .t {\n        position: absolute;\n        white-space: pre;\n        -webkit-transform-origin: 0 100%;\n        -moz-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        unicode-bidi: bidi-override;\n        -moz-font-feature-settings: "liga" 0;\n    }\n    .t:after {\n        content: "";\n    }\n    .t:before {\n        content: "";\n        display: inline-block;\n    }\n    .t span {\n        position: relative;\n        unicode-bidi: bidi-override;\n    }\n    ._ {\n        display: inline-block;\n        color: transparent;\n        z-index: -1;\n    }\n    .pi {\n        display: none;\n    }\n    .d {\n        position: absolute;\n        -webkit-transform-origin: 0 100%;\n        -moz-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n    }\n    .it {\n        border: none;\n        background-color: rgba(255, 255, 255, 0);\n    }\n    .ir:hover {\n        cursor: pointer;\n    }\n    a.l:hover {\n        cursor: pointer;\n    }\n    .dp-page-inner {\n        position: absolute;\n        padding: 0;\n        margin: 0;\n        top: 0;\n        left: 0;\n        transform-origin: 0 0;\n        padding-right: 16px;\n    }\n    .dp-page-outer {\n        position: absolute;\n        background-color: #fff;\n        margin: 0 auto 12px auto;\n        box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\n    }\n    .pf {\n        position: relative;\n        background-color: #fff;\n        overflow: hidden;\n        border: 0;\n        margin: 0 auto;\n        border-collapse: separate\n    }\n    .dp-styles {\n        display: none;\n    }\n    .list-styles {\n        list-style: none\n    }\n    .btn-top {${Object(L.a)(c()({},F.scrollToTopButtonContainer,{bottom:`${7*F.GRID_UNIT}px`,backgroundColor:Object(B.a)(F.IMPROVED_GRAY_DARK,.7)}))}}\n    .btn-top:hover {background-color: ${F.IMPROVED_GRAY_DARK};}\n    .btn-top > button {${U}}\n    .btn-top > button > span {${Object(L.a)(F.fujiIconButtonContent)}}\n    .btn-top > button > span > svg {${U}}\n`;var j=class extends h.a.Component{render(){const e=Object.keys(this.props.pages).reduce((e,t)=>this.props.pages[t].status!==r.bd.ERROR&&this.props.pages[t].status!==r.bd.LOADING&&this.props.pages[t].content.css?[...e,h.a.createElement("style",{key:t,type:"text/css",dangerouslySetInnerHTML:{__html:this.props.pages[t].content.css}})]:e,[]);return h.a.createElement("div",{className:"dp-styles"},h.a.createElement("style",{key:"default",type:"text/css",dangerouslySetInnerHTML:{__html:H}}),e)}};var G=class extends h.a.Component{render(){return h.a.createElement("div",{className:"dp-page-outer",style:{backgroundColor:"#fff",height:this.props.height,width:this.props.width}},h.a.createElement("div",{className:"dp-page-inner dp-page-loading"}))}},W=a(6),Z=Object(W.defineMessages)({back:{id:"preview.back",defaultMessage:"Back"},close:{id:"preview.close",defaultMessage:"Close"},openMessage:{id:"openMessage",defaultMessage:"Open Message"},retryAttachmentFetch:{id:"retryDocumentFetch",defaultMessage:"Retry"},printAttachment:{id:"printAttachment",defaultMessage:"Print"},downloadAttachment:{id:"downloadAttachment",defaultMessage:"Download"},forwardAttachment:{id:"forwardAttachment",defaultMessage:"Forward"},openAttachmentInNewTab:{id:"openAttachmentInNewTab",defaultMessage:"Open in New Window"},collapse:{id:"preview.collapse",defaultMessage:"Collapse"},expand:{id:"preview.expand",defaultMessage:"Expand"},refreshDocumentPage:{id:"refreshDocumentPage",defaultMessage:"Refresh"},attachmentPreviewDefaultErrorMessage:{id:"attachmentPreviewDefaultErrorMessage",defaultMessage:"We are having trouble previewing this file."},passwordProtectedPDFPreviewErrorMessage:{id:"passwordProtectedPDFPreviewErrorMessage",defaultMessage:"Previews for password-protected PDF files are not supported."},increaseZoom:{id:"increaseZoom",defaultMessage:"Increase zoom"},decreaseZoom:{id:"decreaseZoom",defaultMessage:"Decrease zoom"},nextAttachment:{id:"nextAttachment",defaultMessage:"Next attachment"},previousAttachment:{id:"previousAttachment",defaultMessage:"Previous attachment"}}),V=a(145),q=a(241);class z extends h.a.Component{render(){const e=this.props,t=e.refreshPage,a=e.pageNumber,n=this.context.intl.formatMessage;return h.a.createElement("div",{className:"dp-page-outer",style:{height:this.props.height,width:this.props.width,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:F.TRANSPARENT,textAlign:"center",fontSize:F.BASE_FONT_SIZE,fontFamily:F.BASE_FONT_STACK}},h.a.createElement("div",{"data-test-id":"page-error"},h.a.createElement(q.a,{kind:V.a.ATTACHMENT_PREVIEW_ERROR,width:88,height:88}),h.a.createElement("p",null,h.a.createElement(W.FormattedMessage,{id:"attachmentPreviewPageDefaultErrorMessage",defaultMessage:"Trouble previewing page {page_number}. {refresh}",values:{refresh:h.a.createElement("button",{style:{backgroundColor:F.TRANSPARENT,outline:0,border:0,padding:0,cursor:"pointer",fontSize:F.BASE_FONT_SIZE,fontFamily:F.BASE_FONT_STACK},"data-test-id":"page-refresh-link",onClick:e=>{e.preventDefault(),t()}},h.a.createElement("span",{style:{color:F.BASE_LINK_COLOR}},n(Z.refreshDocumentPage))),page_number:a}}))))}}m()(z,"contextTypes",{intl:W.intlShape});var Y=z;function K(e){return e?e.replace(/&(#?[\w\d]+);?/g,(e,t)=>{var a,n;return"#"===t.charAt(0)&&(n="x"===t.charAt(1)?parseInt(t.substr(2).toLowerCase(),16):parseInt(t.substr(1),10),isNaN(n)||n<-32768||n>65535||(a=String.fromCharCode(n))),a||e}):""}const X="pf";class Q extends h.a.Component{constructor(...e){super(...e),m()(this,"_getTransformStyle",()=>{const e=`scale(${this.props.scale})`;return{transform:e,WebkitTransform:e}})}componentWillMount(){this.props.page.status&&this.props.page.status!==r.bd.DOES_NOT_EXIST||this.props.onPageNotFound(this.props.id)}render(){const e=this.props,t=e.refreshPage,a=e.id,n=e.height,s=e.width,i=e.page.status;if(!i||i===r.bd.DOES_NOT_EXIST||i===r.bd.LOADING)return h.a.createElement(G,{height:n,width:s});if(i===r.bd.ERROR)return h.a.createElement(Y,{height:n,width:s,refreshPage:t,pageNumber:a});const o=this.props.page.content;return h.a.createElement("div",{id:X+a,className:"dp-page-outer",style:{height:this.props.height,width:this.props.width}},h.a.createElement("div",{className:"dp-page-inner",style:this._getTransformStyle(),dangerouslySetInnerHTML:{__html:K(o.html)}}))}}m()(Q,"defaultProps",{scale:1});var J=Q,$=a(619);class ee extends h.a.Component{constructor(e,t){super(e,t),m()(this,"_calculateTotalHeight",e=>{const t=e.exceptions,a=e.defaultPageHeight,n=e.scale,s=e.totalPages;let i,o=0,l=0;for(i in t)t.hasOwnProperty(i)&&(l+=t[i].h*n,o++);return l+=(s-o)*a*n,l+=r.u.GAP_BETWEEN_PAGES*s}),m()(this,"_getScrollTopForPageIndex",e=>{let t=0;for(let a=0;a<e;a++){t+=te(this.props,a).height+r.u.GAP_BETWEEN_PAGES}return t}),m()(this,"handleScrollTopChange",e=>{const t=this.props.totalPages;let a=0,n=e;for(let e=0;e<t;e++){if((n-=te(this.props,e).height)<0){a=e;break}}this.lastPageIndex!==a&&(this.lastPageIndex=a,this.props.handleScrollChange({currentPageIndex:a})),this.lastScrollTopFactor=e/this.state.totalHeight}),this.state={totalHeight:this._calculateTotalHeight(e)}}componentWillReceiveProps(e){const t=this.props;if(e.documentId===t.documentId&&e.scale===t.scale||this.setState({totalHeight:this._calculateTotalHeight(e)}),e.currentPageIndex!==t.currentPageIndex){const t=this._getScrollTopForPageIndex(e.currentPageIndex);this.lastScrollTopFactor=t/this.state.totalHeight}}componentWillMount(){this.lastScrollTopFactor=this.props.initialScrollTopFactor,this.lastPageIndex=0}componentWillUnmount(){this.props.persistScrollState(this.lastScrollTopFactor)}componentDidUpdate(e){if(e.scale!==this.props.scale){const e=N({containerWidth:this.props.containerWidth,contentWidth:this.props.defaultPageWidth*this.props.scale});M.a.findDOMNode(this._infiniteScroll.scroller)&&(M.a.findDOMNode(this._infiniteScroll.scroller).scrollLeft=e)}}render(){const e=this.props,t=e.pages,a=e.currentPageIndex,n=e.fetchPage,s=e.scale,i=e.documentId,o=e.totalPages;return h.a.createElement("div",{className:e.fullScreenMode?"lightbox dp-doc-pages":"dp-doc-pages"},h.a.createElement(j,{pages:t}),h.a.createElement($.a,{ref:e=>{this._infiniteScroll=e},key:i+s+a,initialRenderCount:1,bufferSize:1,size:o,getHeightForIndex:t=>{return te(e,t).height+r.u.GAP_BETWEEN_PAGES},getElementForIndex:a=>{const i=te(e,a);return h.a.createElement(J,{id:a+1,height:i.height,width:i.width,scale:s,page:t[a+1]||{},onPageNotFound:n,refreshPage:()=>n(a+1,!0)})},getIdForIndex:ae,onScrollTopChange:this.handleScrollTopChange,initialScrollTop:this.lastScrollTopFactor*this.state.totalHeight,insideIframe:!0}))}}function te(e,t){const a=t+1;let n=e.defaultPageHeight,s=e.defaultPageWidth;if(e.exceptions["p"+a]){const t=e.exceptions["p"+a];n=t.h,s=t.w}return{height:n*=e.scale,width:s*=e.scale}}function ae(){return 1}m()(ee,"defaultProps",{initialScrollTopFactor:0});var ne=ee,se=a(54),ie=a(1383),re=a.n(ie),oe=a(28),le=a(19);const ce=D()(re.a);class de extends h.a.Component{constructor(...e){super(...e),m()(this,"getErrorActionMessage",()=>{const e=this.props,t=e.onRetryRequested,a=e.downloadUrl,n=e.filename,s=this.context.intl.formatMessage;return h.a.createElement(W.FormattedMessage,this.props.attachmentError.isRetryable?{id:"attachmentPreviewErrorRetryAndDownload",defaultMessage:"{retry} or {download} {filename}",values:{retry:h.a.createElement(le.a,{onClick:e=>{e.preventDefault(),t()},kind:oe.a.CHROMELESS,"data-iskeynav":!0,title:s(Z.retryAttachmentFetch)},h.a.createElement("span",{className:ce.link},s(Z.retryAttachmentFetch))),download:h.a.createElement("a",{className:ce.link,target:"_blank",href:a,rel:"noopener"},s(Z.downloadAttachment)),filename:n}}:{id:"attachmentPreviewErrorDownload",defaultMessage:"{download} {filename}",values:{download:h.a.createElement("a",{className:ce.link,target:"_blank",href:a,rel:"noopener"},s(Z.downloadAttachment)),filename:n}})}),m()(this,"getErrorMessage",()=>{return(0,this.context.intl.formatMessage)(815===this.props.attachmentError.code?Z.passwordProtectedPDFPreviewErrorMessage:Z.attachmentPreviewDefaultErrorMessage)})}render(){return h.a.createElement("div",{"data-test-id":"attachment-error",className:ce.container},h.a.createElement(q.a,{kind:V.a.ATTACHMENT_PREVIEW_ERROR,width:88,height:88}),h.a.createElement("p",null,this.getErrorMessage()),this.getErrorActionMessage())}}m()(de,"contextTypes",{intl:W.intlShape});var me=de,_e=a(1311),ue=a.n(_e),pe=a(154),he=a(162),ge=a.n(he);const Ee={ENTER:13};class be extends h.a.Component{constructor(...e){super(...e),m()(this,"state",{navigatorPageNumber:this.props.currentPageNumber,inputMode:!1}),m()(this,"_pageNumberInputChanged",e=>{this.setState({navigatorPageNumber:e.target.value})}),m()(this,"_onKeyUp",e=>{if(e.keyCode!==Ee.ENTER)return;const t=this.props.totalPages,a=parseInt(this.state.navigatorPageNumber,10);a>0&&a<=t&&this.props.jumpToPage(a),this.setState({inputMode:!this.state.inputMode})}),m()(this,"_toggleInput",()=>{this.setState({inputMode:!this.state.inputMode,navigatorPageNumber:this.props.currentPageNumber.toString()})})}componentDidUpdate(){this.state.inputMode&&this.refs.input.focus()}render(){const e=this.props.fullScreenMode,t=this.context.getCss(ue.a,{fullScreenMode:e});return h.a.createElement("span",null,h.a.createElement("span",{className:t.pageLabel},h.a.createElement(W.FormattedMessage,{id:"pagenavigator.page",defaultMessage:"Page"})),this.state.inputMode?h.a.createElement(pe.a,{ref:"input",containerClassName:t.pageNavInputContainer,className:ge()(t.pageNavInput,{[t.currentPageTheme]:e}),"data-test-id":"previewr-pageno-input",value:this.state.navigatorPageNumber,onChange:this._pageNumberInputChanged,onKeyUp:this._onKeyUp}):h.a.createElement("span",{className:ge()(t.currentPage,{[t.currentPageTheme]:e}),"data-test-id":"previewr-pageno-label",onClick:this._toggleInput},this.props.currentPageNumber),h.a.createElement("span",{className:t.totalPages},h.a.createElement(W.FormattedMessage,{id:"pagenavigator.of",defaultMessage:"of"})," ",this.props.totalPages))}}m()(be,"contextTypes",{intl:W.intlShape.isRequired,getCss:u.a.func});var Ce=be,fe=a(1384),Se=a.n(fe),ye=a(18),Te=a(7),Ne=a(1385),Ae=a.n(Ne),Ie=a(11),Me=a(20),ve=a(5);const De=.05,Oe=4,ke=D()(Ae.a);class Re extends h.a.Component{constructor(e){super(e),m()(this,"_onMouseMove",e=>{this.slideActive&&this._updateSliderPosition(e.clientX)}),m()(this,"_updateSliderPosition",e=>{const t=this.props,a=t.minValue,n=t.isRTL,s=t.maxValue-a,i=this.refs.sliderBar.getBoundingClientRect(),r=i.left,o=i.right,l=o-r;let c=e-r;e<r?c=0:e>o&&(c=l),this._setSlider(n?s-(c/l+a):c/l)}),m()(this,"_incrementSlider",()=>{this._setSlider(this.state.value+De)}),m()(this,"_decrementSlider",()=>{this._setSlider(this.state.value-De)}),m()(this,"_setSlider",e=>{const t=this.props,a=t.minValue,n=t.maxValue,s=this.state.value;(e=Math.max(Math.min(1,e),0))!==s&&(this.setState({value:e}),this.props.onChange(a+e*(n-a)))}),m()(this,"_startSlide",()=>{this.slideActive=!0}),m()(this,"_stopSlide",()=>{this.slideActive=!1});const t=e.minValue;this.state={value:(e.initialValue-t)/(e.maxValue-t)}}render(){const e=this.props,t=e.strings,a=e.minValue,n=e.maxValue,s=e.isRTL,i=this.state.value,r=n-a,o=a+i*r,l=s?100-100*i:100*i;return h.a.createElement("div",{"data-test-id":"slider-box",className:ke.container,onMouseLeave:this._stopSlide,onMouseUp:this._stopSlide,onMouseMove:this._onMouseMove},h.a.createElement("div",{className:ke.inner},h.a.createElement("div",null,h.a.createElement(Me.a,{"data-iskeynav":!0,"data-test-id":"decrease-slider",kind:ve.b.MINUS,size:ve.d.XS,onClick:this._decrementSlider,colorState:ve.a.INVERTED,title:t.decreaseSlider,"aria-label":t.decreaseSlider})),h.a.createElement("div",{className:ke.barContainer,"data-test-id":"slider"},h.a.createElement("div",{ref:"sliderBar","data-test-id":"slider-bar",className:ke.bar,onClick:e=>{this._updateSliderPosition(e.clientX)},role:"presenation"}),h.a.createElement("span",{style:{left:"calc("+l+"% - "+Oe+"px)"},className:ke.slider,"data-test-id":"slider-handle",onMouseDown:this._startSlide,role:"slider","data-iskeynav":!0,"aria-valuemin":a,"aria-valuemax":n,"aria-valuenow":o.toFixed(2)})),h.a.createElement("div",null,h.a.createElement(Me.a,{"data-iskeynav":!0,"data-test-id":"increase-slider",kind:ve.b.ADD,size:ve.d.XS,onClick:this._incrementSlider,colorState:ve.a.INVERTED,title:t.increaseSlider,"aria-label":t.increaseSlider}))))}}m()(Re,"defaultProps",{initialValue:0,minValue:0,maxValue:1});var we=Object(s.connect)(e=>{return{isRTL:"rtl"===(0,Object(Ie.b)(e).getEnvironmentSelectors)().getPageDirection()}})(Re);const Pe=D()(Se.a);class xe extends h.a.Component{constructor(...e){super(...e),m()(this,"handleNavigate",(e,t)=>{this.props.onNavigate(e,{i13nModel:{interactionType:Object(ye.j)(t)}})}),m()(this,"handleZoom",e=>{this.props.onZoom(e,{i13nModel:{interactionType:Te.d.click}})}),m()(this,"renderZoomControls",()=>this.renderSlider()),m()(this,"renderSlider",()=>{const e=Z.decreaseZoom,t=this.context.intl.formatMessage;return h.a.createElement(we,{className:Pe.slider,onChange:this.handleZoom,initialValue:this.props.initialZoomFactor+r.u.MIN_SCALE,strings:{increaseSlider:t(Z.increaseZoom),decreaseSlider:t(e)},minValue:r.u.MIN_SCALE,maxValue:r.u.MAX_SCALE})})}render(){const e=this.props,t=e.nextAttachmentId,a=e.showZoomControls,n=this.context.intl.formatMessage;return h.a.createElement("div",{"data-test-id":"previewr-controls",className:Pe.container},e.previousAttachmentId&&h.a.createElement("div",{className:Pe.leftButton+" "+Pe.rtlRawScaleX},h.a.createElement(Me.a,{"data-iskeynav":!0,"data-test-id":"prev-document",kind:ve.b.ARROW_RIGHT_DOC,rotate:ve.c.D180,size:ve.d.XS,onClick:this.handleNavigate.bind(this,r.u.Movement.PREV),colorState:ve.a.INVERTED,title:n(Z.previousAttachment),"aria-label":n(Z.previousAttachment),className:Pe.buttonIcon})),t&&h.a.createElement("div",{className:Pe.rightButton+" "+Pe.rtlRawScaleX},h.a.createElement(Me.a,{"data-iskeynav":!0,"data-test-id":"next-document",kind:ve.b.ARROW_RIGHT_DOC,size:ve.d.XS,onClick:this.handleNavigate.bind(this,r.u.Movement.NEXT),colorState:ve.a.INVERTED,title:n(Z.nextAttachment),"aria-label":n(Z.nextAttachment),className:Pe.buttonIcon})),a?this.renderZoomControls():null)}}m()(xe,"contextTypes",{intl:W.intlShape.isRequired}),m()(xe,"defaultProps",{initialZoomFactor:r.u.MIN_SCALE,showZoomControls:!0});var Fe=xe,Le=a(1386),Be=a.n(Le),Ue=a(16),He=a(79),je=a(118),Ge=a(312);class We extends h.a.Component{constructor(...e){super(...e),m()(this,"_handleClose",e=>{e.stopPropagation(),this.props.onClose({i13nModel:{interactionType:Object(ye.j)(e)}})}),m()(this,"_handlePrint",e=>{e.stopPropagation(),this.props.onPrint({i13nModel:{interactionType:Object(ye.j)(e)}})}),m()(this,"_handleDownload",e=>{e.stopPropagation(),this.props.onDownload({i13nModel:{interactionType:Object(ye.j)(e)}})}),m()(this,"_handleMessageOpen",e=>{e.stopPropagation(),this.props.onMessageOpen({i13nModel:{interactionType:Object(ye.j)(e)}})}),m()(this,"_handleOpenInNewWindow",e=>{this.props.onOpenInNewWindow({i13nModel:{interactionType:Object(ye.j)(e)}})}),m()(this,"_handleOpenInFullScreen",e=>{e.stopPropagation(),this.props.onOpenInFullScreen({i13nModel:{interactionType:Object(ye.j)(e)}})}),m()(this,"_handleShare",(e,t)=>{this.props.onForward(e,t)})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.fullScreenMode,n=t.hideOpenMessageIcon,s=t.hidePopoutIcon,i=t.hideBackButton,r=t.hideCloseButton,o=t.route,l=D()(ue.a,{fullScreenMode:a}),d={normal:a?ve.a.INVERTED:ve.a.NORMAL,hovered:a?ve.a.INVERTED_DIM:ve.a.SELECTED},m=this.context.getUrlFromRoute(c()({},o,{query:c()({},o.query,{fullscreen:"1",target:"blank"})}));return h.a.createElement(je.a,{axis:je.b.HORIZONTAL,circularNavigation:!1,"data-test-id":"previewr-toolbar",className:l.container,groupTabIndex:F.TabIndices.ATTACHMENT_PREVIEW_TOOLBAR,role:"toolbar"},h.a.createElement("div",{className:l.columnLeft},i?null:h.a.createElement("div",{className:l.backButton,onClick:this._handleClose,title:e(Z.back),"aria-label":e(Z.back)},h.a.createElement(Ue.b,{"data-test-id":"previewr-back","data-iskeynav":!0,kind:ve.b.ARROW_UP,rotate:ve.c.D270,size:ve.d.XS,colorState:ve.a.INVERTED}),h.a.createElement("span",{className:l.backButtonLabel},h.a.createElement(W.FormattedMessage,Z.back))),h.a.createElement("span",{"data-test-id":"previewr-filename",className:l.filename,title:this.props.filename},this.props.filename)),h.a.createElement("div",{className:l.columnCenter},h.a.createElement("span",{className:l.pageNav},this.props.children)),h.a.createElement("div",{className:l.columnRight},n?null:h.a.createElement("span",{className:l.buttonContainer},h.a.createElement(He.a,{"data-iskeynav":!0,"data-test-id":"previewr-open-message",kind:ve.b.INBOX,size:ve.d.XS,colorStates:d,onClick:this._handleMessageOpen,title:e(Z.openMessage),"aria-label":e(Z.openMessage)})),h.a.createElement("span",{className:l.buttonContainer},h.a.createElement(He.a,{"data-iskeynav":!0,"data-test-id":"previewr-print",kind:ve.b.PRINTER,size:ve.d.XS,colorStates:d,onClick:this._handlePrint,title:e(Z.printAttachment),"aria-label":e(Z.printAttachment)})),h.a.createElement("span",{className:l.buttonContainer},h.a.createElement(He.a,{"data-iskeynav":!0,"data-test-id":"previewr-download",kind:ve.b.DOWNLOAD,size:ve.d.XS,colorStates:d,onClick:this._handleDownload,title:e(Z.downloadAttachment),"aria-label":e(Z.downloadAttachment)})),h.a.createElement("span",{className:l.buttonContainer+" "+l.rtlRawScaleX},h.a.createElement(Ge.a,{"data-iskeynav":!0,onForward:this._handleShare,colorStates:d,"data-test-id":"previewr-forward",title:e(Z.forwardAttachment),"aria-label":e(Z.forwardAttachment)})),s?null:h.a.createElement("span",{className:l.buttonContainer},h.a.createElement("a",{href:m,"data-test-id":"previewr-popout",target:"_blank",validate:"true",onClick:this._handleOpenInNewWindow},h.a.createElement(He.a,{"data-iskeynav":!0,kind:ve.b.POP_OUT,size:ve.d.XS,colorStates:d,title:e(Z.openAttachmentInNewTab),"aria-label":e(Z.openAttachmentInNewTab)}))),a?null:h.a.createElement("span",{className:l.buttonContainer},h.a.createElement(He.a,{"data-iskeynav":!0,"data-test-id":"previewr-expand-btn",kind:ve.b.EXPAND,size:ve.d.XS,colorStates:d,onClick:this._handleOpenInFullScreen,title:e(Z.expand),"aria-label":e(Z.expand)})),r?null:h.a.createElement("span",{className:l.buttonContainer},h.a.createElement(He.a,{"data-iskeynav":!0,"data-test-id":"previewr-close",kind:ve.b.CLOSE,size:ve.d.XS,colorStates:d,onClick:this._handleClose,title:e(Z.close),"aria-label":e(Z.close)}))))}}m()(We,"contextTypes",{intl:W.intlShape.isRequired,executeAction:u.a.func.isRequired,getUrlFromRoute:u.a.func.isRequired});var Ze=Object(s.connect)(e=>{const t=Object(Ie.b)(e),a=t.getRouteUIContext,n=(0,t.getRoute)(),s=a(),i="1"===n.query.fullscreen,r="blank"===n.query.target;return{hideOpenMessageIcon:!i||!s.mKey||s.mKey===Te.e.OPEN_LIGHTBOX_ATTACHMENT_PREVIEW,hidePopoutIcon:!i||r,hideBackButton:!i||i&&r,hideCloseButton:i&&r,route:n}})(We);const Ve=D()(Be.a);var qe=class extends h.a.Component{constructor(...e){super(...e),m()(this,"state",{currentPageNumber:1,navigateToPageIndex:0,showControls:!1}),m()(this,"_handleScrollChange",e=>{this.setState({currentPageNumber:e.currentPageIndex+1})}),m()(this,"_jumpToPage",e=>{this.setState({currentPageNumber:e,navigateToPageIndex:e-1})}),m()(this,"nextPage",()=>{const e=this.state.currentPageNumber+1;e<=this.props.totalPages&&this._jumpToPage(e)}),m()(this,"prevPage",()=>{const e=this.state.currentPageNumber-1;e>0&&this._jumpToPage(e)}),m()(this,"_calculateScale",()=>{const e=this.props,t=e.document;return function({orientation:e,zoom:t,containerWidth:a,containerHeight:n,contentWidth:s,contentHeight:i}){let o;return(o=e===r.u.Orientation.FIT_TO_WIDTH?(a-C)/s:(n-f)/i)+t}({orientation:e.fullScreenMode?r.u.Orientation.FIT_TO_HEIGHT:r.u.Orientation.FIT_TO_WIDTH,zoom:e.zoomLevel,containerWidth:e.containerWidth,containerHeight:e.containerHeight,contentWidth:t.width,contentHeight:t.height})}),m()(this,"_getPageListProps",()=>{const e=this.props,t=this.state,a=e.document;return{pages:a.pages,totalPages:e.totalPages,exceptions:a.exceptions,defaultPageHeight:a.height,defaultPageWidth:a.width,documentId:e.documentId,scale:this._calculateScale(),initialScrollTopFactor:e.initialScrollTopFactor,currentPageIndex:t.navigateToPageIndex,fetchPage:e.fetchPage,handleScrollChange:this._handleScrollChange,onUnmount:e.onPageListUnmount,persistScrollState:e.persistScrollState,containerWidth:e.containerWidth,fullScreenMode:e.fullScreenMode}}),m()(this,"renderContent",()=>{const e=this.props,t=e.documentError,a=e.containerWidth,n=e.filename,s=e.downloadUrl,i=e.refetchDocument,o=e.evtSandboxIframe;switch(e.documentState){case r.bd.LOADED:return h.a.createElement(x,{width:`${a}px`,height:"100%",evtSandboxIframe:o},h.a.createElement(ne,this._getPageListProps()));case r.bd.ERROR:return h.a.createElement(me,{onRetryRequested:i,attachmentError:t,filename:n,downloadUrl:s});default:return h.a.createElement(se.b,null)}}),m()(this,"_onMouseOver",()=>{if(!this.state.showControls){const e=this.props.documentState;this.setState({showControls:e===r.bd.LOADED||e===r.bd.ERROR})}}),m()(this,"_onMouseLeave",()=>{this.setState({showControls:!1})})}render(){const e=this.props,t=e.documentState,a=e.onNavigate,n=e.onZoom,s=e.nextAttachmentId,i=e.previousAttachmentId,o=e.fullScreenMode,l=e.zoomLevel,c=this.state,d=c.showControls;return h.a.createElement("div",{className:Ve.container,onMouseOver:this._onMouseOver,onMouseLeave:this._onMouseLeave,"data-test-id":"previewr-doc"},h.a.createElement(Ze,{filename:e.filename,onClose:e.onClose,onOpenInFullScreen:e.onOpenInFullScreen,onOpenInNewWindow:e.onOpenInNewWindow,onMessageOpen:e.onMessageOpen,onDownload:e.onDownload,onPrint:e.onPrint,onForward:e.onForward,fullScreenMode:o},e.document?h.a.createElement(Ce,{currentPageNumber:c.currentPageNumber,totalPages:e.totalPages,jumpToPage:this._jumpToPage,fullScreenMode:o}):null),h.a.createElement("div",{className:Ve.content},this.renderContent()),d?h.a.createElement(Fe,{onNavigate:a,onZoom:n,"data-test-id":"previewr-controls",initialZoomFactor:l,nextAttachmentId:s,previousAttachmentId:i,showZoomControls:t===r.bd.LOADED}):null)}},ze=a(1387),Ye=a.n(ze),Ke=a(25);const Xe=D()(Ye.a);class Qe extends h.a.Component{constructor(...e){super(...e),m()(this,"state",{loaded:!1,controlsActive:!1,failed:!1}),m()(this,"_loadImage",()=>{if(Object(Ke.b)()){const e=new Image;e.onload=this._onImageLoad.bind(this,e),e.onerror=this._onImageLoadError,e.src=this.props.src}}),m()(this,"_onImageLoad",e=>{this._actualWidth=e.naturalWidth,this._actualHeight=e.naturalHeight,this.setState({loaded:!0})}),m()(this,"_onImageLoadError",()=>{this.setState({failed:!0})}),m()(this,"_getScaledDimensions",()=>{const e=this._actualWidth,t=this._actualHeight,a=this.props,n=function({zoom:e,containerWidth:t,containerHeight:a,contentWidth:n,contentHeight:s,initialImageContainerRatio:i}){const r=a*i.heightRatio,o=Math.min(n,t*i.widthRatio),l=Math.min(s,r);return Math.min(o/n,l/s)+e}({zoom:a.zoomLevel,containerWidth:a.containerWidth-2*r.u.Paddings.AROUND_IMG_WIDTH,containerHeight:a.containerHeight-r.u.TOOLBAR_HEIGHT-2*r.u.Paddings.AROUND_IMG_HEIGHT,contentWidth:e,contentHeight:t,initialImageContainerRatio:a.initialImageContainerRatio});return{width:Math.round(n*e),height:Math.round(n*t)}}),m()(this,"_renderImageTag",()=>{const e=this._getScaledDimensions();return h.a.createElement("div",{ref:e=>{this._imageWrapper=e},className:Xe.imageWrapper},h.a.createElement("img",{className:Xe.image,src:this.props.src,width:e.width,height:e.height}))}),m()(this,"_onMouseOver",()=>{if(!this.state.controlsActive){const e=this.state,t=e.failed;this.setState({controlsActive:e.loaded||t})}}),m()(this,"_onMouseLeave",()=>{this.setState({controlsActive:!1})}),m()(this,"_renderImageError",()=>{const e=this.props;return h.a.createElement(me,{onRetryRequested:this._reloadImage,attachmentError:{isRetryable:!0},filename:e.filename,downloadUrl:e.src})}),m()(this,"_reloadImage",()=>{this.setState({failed:!1,loaded:!1}),this._loadImage()}),m()(this,"_renderContent",()=>{const e=this.state,t=e.failed;return e.loaded?this._renderImageTag():t?this._renderImageError():h.a.createElement(se.b,null)})}componentWillReceiveProps(e){e.src!==this.props.src&&this.setState({loaded:!1,failed:!1},()=>this._loadImage())}componentWillMount(){this._loadImage()}componentDidUpdate(e){if(e.zoomLevel!==this.props.zoomLevel&&this._imageWrapper){const e=this._getScaledDimensions(),t=N({containerWidth:this.props.containerWidth,contentWidth:e.width});M.a.findDOMNode(this._imageWrapper).scrollLeft=t}}render(){const e=this.props,t=e.onZoom,a=e.onNavigate,n=e.nextAttachmentId,s=e.previousAttachmentId,i=e.zoomLevel,r=this.state,o=r.controlsActive,l=r.loaded;return h.a.createElement("div",{className:Xe.container,"data-test-id":"previewr-image",onMouseOver:this._onMouseOver,onMouseLeave:this._onMouseLeave},h.a.createElement(Ze,{filename:e.filename,onClose:e.onClose,onOpenInFullScreen:e.onOpenInFullScreen,onMessageOpen:e.onMessageOpen,onOpenInNewWindow:e.onOpenInNewWindow,onDownload:e.onDownload,onPrint:e.onPrint,onForward:e.onForward,fullScreenMode:e.fullScreenMode}),h.a.createElement("div",{className:Xe.content},this._renderContent()),o?h.a.createElement(Fe,{onNavigate:a,onZoom:t,"data-test-id":"previewr-controls",initialZoomFactor:i,nextAttachmentId:n,previousAttachmentId:s,showZoomControls:l}):null)}}m()(Qe,"defaultProps",{initialImageContainerRatio:{widthRatio:1,heightRatio:1}});var Je=Qe,$e=a(1306),et=a(37),tt=a(131),at=a(139);const nt={widthRatio:.68,heightRatio:.84};var st=a(47),it=a(17);Object(tt.b)({group:at.b,keys:{previousPage:{key:"UP_ARROW",description:h.a.createElement(W.FormattedMessage,{id:"shortcut.previewr_previous_page",defaultMessage:"Previous Page"})},nextPage:{key:"DOWN_ARROW",description:h.a.createElement(W.FormattedMessage,{id:"shortcut.previewr_next_page",defaultMessage:"Next Page"})},previousAttachment:{key:"LEFT_ARROW",description:h.a.createElement(W.FormattedMessage,{id:"shortcut.previewr_previous",defaultMessage:"Previous Attachment"})},nextAttachment:{key:"RIGHT_ARROW",description:h.a.createElement(W.FormattedMessage,{id:"shortcut.previewr_next",defaultMessage:"Next Attachment"})},zoomIn:{key:"CTRL+=,META+=",description:h.a.createElement(W.FormattedMessage,{id:"shortcut.previewr_zoom_in",defaultMessage:"Zoom In"})},zoomOut:{key:"CTRL+-,META+-",description:h.a.createElement(W.FormattedMessage,{id:"shortcut.previewr_zoom_out",defaultMessage:"Zoom Out"})},fullscreen:{key:"CTRL+F,META+F",description:h.a.createElement(W.FormattedMessage,{id:"shortcut.previewr_fullscreen",defaultMessage:"Fullscreen"})},download:{key:"CTRL+D,META+D",description:h.a.createElement(W.FormattedMessage,{id:"shortcut.previewr_download",defaultMessage:"Download"})}}});const rt=["escape","up","down","right","left","ctrl+=","meta+=","ctrl+-","meta+-","ctrl+f","meta+f","ctrl+d","meta+d"],ot=()=>{};class lt extends h.a.Component{constructor(e){super(e),m()(this,"focus",()=>{setTimeout(()=>{this.refs.container&&this.refs.container.focus()},0)}),m()(this,"_getRapidKeys",e=>{return{mKey:Te.e[`ATTACHMENT_${this.props.fullScreenMode?"LIGHTBOX":"PREVIEW"}_${this.props.attachment.type===r.w.Types.IMAGE?"IMAGE":"DOCUMENT"}_${e}`]||Te.e.ATTACHMENT_ACTION_UNKNOWN,sec:this.props.fullScreenMode?Te.g.ATTACHMENT_LIGHTBOX:Te.g.ATTM_PREVIEW}}),m()(this,"_handleZoomChange",(e,{i13nModel:t})=>{const a=Math.max(e-r.u.MIN_SCALE,0);this.setState({zoomLevel:a},()=>{this.props.handleAttachmentZoom({id:this.props.attachment.id,newZoomLevel:a,i13nModel:c()({},t,this._getRapidKeys("ZOOM"))})})}),m()(this,"_handleClose",({i13nModel:e})=>{this.props.handleClose(c()({},e,this._getRapidKeys("CLOSE")))}),m()(this,"_handleNavigation",(e,{i13nModel:t})=>{const a=this.props,n=a.previousAttachmentId,s=a.nextAttachmentId,i=a.nextMessageGroupId,o=a.previousMessageGroupId,l=a.attachmentNavType||"IN_MESSAGE",c=Object.assign({},a.fullScreenMode?{fullscreen:"1"}:null,a.fromMessagePreview?{messagePreview:"1"}:null,a.isNewCompose?{newCompose:"1"}:null);e===r.u.Movement.PREV&&n?this.context.navigateTo({route:Object(it.e)(this.props.listId,o,n,c),i13nModel:Object.assign({},this._getRapidKeys("PREV_"+l),t)}):e===r.u.Movement.NEXT&&s&&this.context.navigateTo({route:Object(it.e)(this.props.listId,i,s,c),i13nModel:Object.assign({},this._getRapidKeys("NEXT_"+l),t)})}),m()(this,"_onZoom",(e,{i13nModel:t})=>{let a=this.state.zoomLevel;e===r.u.Movement.ZOOM_IN?a+=r.u.SCALE_STEP:e===r.u.Movement.ZOOM_OUT&&(a-=r.u.SCALE_STEP),this._handleZoomChange(a+r.u.MIN_SCALE,{i13nModel:t})}),m()(this,"_handlePageNavigation",e=>{const t=this.refs.docViewer;t&&(e===r.u.Movement.PREV?t.prevPage():e===r.u.Movement.NEXT&&t.nextPage())}),m()(this,"_onDownload",({i13nModel:e})=>{this.props.handleDownload({attachment:this.props.attachment,i13nModel:Object.assign({},this._getRapidKeys("DOWNLOAD"),{mKeyGroup:Te.f.dwnld_attmnt},e)})}),m()(this,"_onPrint",({i13nModel:e})=>{this.props.handleDownload({attachment:this.props.attachment,i13nModel:Object.assign({},this._getRapidKeys("PRINT"),{mKey:Te.e.MSG_HDR_PRINT,mKeyGroup:Te.f.print_attmnt},e)})}),m()(this,"handleForward",(e,t)=>{const a=this.props,n=a.attachment,s=a.forwardAttachments,i={csid:e,attachments:n?[n]:[],i13nModel:c()({},this._getRapidKeys("SHARE"),{mKeyGroup:Te.f.compose,interactionType:Te.d.click})};if(t)return this.context.navigateTo(c()({},i,{route:t}));s(i)}),m()(this,"handleOpenInNewWindow",({i13nModel:e})=>{this.context.executeAction(b.e,{i13nModel:Object.assign({},this._getRapidKeys("OPEN"),e)})}),m()(this,"handleMessageOpen",({i13nModel:e})=>{this.props.onMessageOpen({i13nModel:Object.assign({},this._getRapidKeys("MSG"),{mKeyGroup:Te.f.open_msg},e)})}),m()(this,"fetchPage",e=>{this.context.executeAction(b.c,{documentId:this.props.attachment.documentId,pageNumber:e})}),m()(this,"_handleKeyboard",e=>{const t=e.metaKey||e.ctrlKey;let a=!1;switch(e.keyCode){case et.b.ESCAPE:this._handleClose({i13nModel:{interactionType:Te.d.shortcut}}),a=!0;break;case et.b.LEFT:this._handleNavigation(r.u.Movement.PREV,{i13nModel:{interactionType:Te.d.shortcut}}),a=!0;break;case et.b.RIGHT:this._handleNavigation(r.u.Movement.NEXT,{i13nModel:{interactionType:Te.d.shortcut}}),a=!0;break;case et.b.UP:this._handlePageNavigation(r.u.Movement.PREV),a=!0;break;case et.b.DOWN:this._handlePageNavigation(r.u.Movement.NEXT),a=!0;break;case 68:t&&(this._onDownload({i13nModel:{interactionType:Te.d.shortcut}}),a=!0);break;case 70:t&&(this._switchToFullScreen({i13nModel:{interactionType:Object(ye.j)(e)}}),a=!0);break;case et.b.EQUAL:t&&(this._onZoom(r.u.Movement.ZOOM_IN,{i13nModel:{interactionType:Te.d.shortcut}}),a=!0);break;case et.b.MINUS:t&&(this._onZoom(r.u.Movement.ZOOM_OUT,{i13nModel:{interactionType:Te.d.shortcut}}),a=!0)}a&&(e.preventDefault(),e.stopPropagation())}),m()(this,"_switchToFullScreen",({i13nModel:e})=>{const t=this.props,a=t.route,n=t.listId,s=Object.assign({fullscreen:"1"},t.fromMessagePreview?{messagePreview:"1"}:null,t.isNewCompose?{newCompose:"1"}:null);this.context.navigateTo({route:Object(it.e)(n,a.params.groupId,a.params.attachmentId,s),i13nModel:Object.assign({mKey:Te.e.OPEN_LIGHTBOX_ATTACHMENT_PREVIEW,sec:Te.g.ATTM_PREVIEW},e)})}),m()(this,"getContainerDimension",()=>{const e=this.props;return A(e.windowDimensions,e.fullScreenMode)}),m()(this,"displayImageWhenReady",e=>{this.gifImageUrl=e.target.src,this.setState({imageLoaded:!0})}),m()(this,"loadImageInBackground",e=>{this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady}),m()(this,"_renderContent",()=>{const e=this.props,t=e.document,a=e.totalPages,n=e.documentError,s=e.documentState,i=e.attachment,o=e.initialScrollTopFactor,l=e.nextAttachmentId,c=e.previousAttachmentId,d=e.fullScreenMode,m=e.evtSandboxIframe,_=i.filename,u=i.documentId,p=i.downloadUrl,g=i.type,b=i.thumbnailUrl,C=i.subtype,f=this.state,S=f.zoomLevel,y=f.imageLoaded,T=this.getContainerDimension(),N=T.containerWidth,A=T.containerHeight,I=this.context.getCss(E.a);y||C!==r.w.SubTypes.GIF||this.loadImageInBackground(p);const M=y?this.gifImageUrl:Object(st.r)(void 0)||Object(st.r)(b)||p;return h.a.createElement("div",{ref:"container","data-test-id":"previewr",className:I.container,style:{width:`${N}px`},tabIndex:F.TabIndices.ATTACHMENT_PREVIEW},g===r.w.Types.IMAGE?h.a.createElement(Je,{filename:_,src:M,fullScreenMode:d,zoomLevel:S,containerWidth:N,containerHeight:A,onClose:this._handleClose,onOpenInFullScreen:this._switchToFullScreen,onMessageOpen:this.handleMessageOpen,onOpenInNewWindow:this.handleOpenInNewWindow,nextAttachmentId:l,previousAttachmentId:c,onZoom:this._handleZoomChange,onNavigate:this._handleNavigation,onDownload:this._onDownload,onPrint:this._onPrint,onForward:this.handleForward,initialImageContainerRatio:d?nt:{widthRatio:1,heightRatio:1}}):h.a.createElement(qe,{ref:"docViewer",document:t,totalPages:a,documentError:n,filename:_,downloadUrl:p,documentId:u,key:u,documentState:s,fullScreenMode:d,zoomLevel:S,containerWidth:N,containerHeight:A,fetchPage:this.fetchPage,initialScrollTopFactor:o,persistScrollState:ot,onClose:this._handleClose,onOpenInFullScreen:this._switchToFullScreen,onOpenInNewWindow:this.handleOpenInNewWindow,onMessageOpen:this.handleMessageOpen,nextAttachmentId:l,previousAttachmentId:c,onZoom:this._handleZoomChange,onNavigate:this._handleNavigation,onDownload:this._onDownload,onPrint:this._onPrint,onForward:this.handleForward,refetchDocument:this.fetchPage,evtSandboxIframe:m}))}),this.state={zoomLevel:e.initialZoomLevel,imageLoaded:!1}}componentDidMount(){this.mousetrap=this.context.bindShortcut(rt,this._handleKeyboard,this.refs.container),this.focus()}componentWillUnmount(){this.context.unbindShortcut(rt,this.mousetrap)}componentDidUpdate(e){this.props.fullScreenMode&&this.focus(),e.fullScreenMode!==this.props.fullScreenMode&&(this.context.unbindShortcut(rt,this.mousetrap),this.mousetrap=this.context.bindShortcut(rt,this._handleKeyboard,this.refs.container))}componentWillReceiveProps(e){if(e.attachment&&e.attachment.id!==this.props.attachment.id){const t=e.attachment.previewerUiState,a=(void 0===t?{}:t).zoomLevel;this.setState({zoomLevel:void 0===a?0:a}),this.setState({imageLoaded:!1})}}render(){const e=this.props;return e.attachment?e.fullScreenMode?h.a.createElement($e.a,null,this._renderContent()):this._renderContent():null}}m()(lt,"contextTypes",{executeAction:u.a.func,getCss:u.a.func,navigateTo:u.a.func.isRequired,bindShortcut:u.a.func,unbindShortcut:u.a.func}),m()(lt,"defaultProps",{initialScrollTopFactor:0,initialZoomLevel:0});var ct=Object(s.connect)(null,e=>({handleDownload({attachment:t,i13nModel:a}){e(Object(b.b)({attachment:t,i13nModel:a}))},handleAttachmentZoom(t){e(Object(b.f)(t))},forwardAttachments(t){e(Object(b.d)(t))}}))(lt),dt=a(49);a.d(t,"mapDispatchToProps",function(){return mt});const mt=(e,t)=>({onMessageOpen:a=>{const n=t.getMessageRoute(a);return n?e(Object(dt.j)(n)):null},handleClose:a=>e(Object(dt.j)(t.getCloseRoute(a)))});t.default=Object(n.compose)(Object(s.connect)(e=>{const t=Object(Ie.b)(e),a=t.getAttachmentById,n=t.getDocumentSelectors,s=t.getRouteUIContext,l=t.getFeaturesSelectors,c=t.getPreviousListItemId,d=t.getNextListItemId,m=t.getGroupIdContainingAttachmentId,_=t.getPreviousAttachmentIdForMessage,u=t.getNextAttachmentIdForMessage,p=t.getPreviousAttachmentIdForMessageGroup,h=t.getNextAttachmentIdForMessageGroup,g=t.normalizeRoute,E=t.getWindowDimensions,b=t.getMessageCsid,C=t.getFoldersSelectors,f=t.getStreamItemInFocus,S=t.doesMessageGroupIdExist,y=t.isSingleDraftGroup,T=(0,t.getRoute)(),N=Object(i.w)(T),A=Object(i.t)(N),I=T.params.groupId,M=T.params.csid,v=T.params.attachmentId,D=a(v),O=f(),k=O?O.messageId||O.id:Object(o.f)(v),R=D?D.documentId:null,w=function(e){const t=e&&e.previewerUiState?e.previewerUiState:{scrollPositionFactor:0,zoomLevel:0};return{initialZoomLevel:t.zoomLevel,initialScrollTopFactor:t.scrollPositionFactor}}(D),P=w.initialZoomLevel,x=w.initialScrollTopFactor,F=n(),L=s(),B="1"===T.query.fullscreen,U="1"===T.query.messagePreview,H="1"===T.query.newCompose,j={OPEN_ATTACHMENT_FROM_LIST_VIEW:[Te.e.DOC_OPEN,Te.e.PHOTO_OPEN,Te.e.ATTACHMENT_LIGHTBOX_OPEN,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP],OPEN_ATTACHMENT_FROM_MSG_VIEW:[Te.e.OPEN_DOC_PREVIEW,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_CLOSE,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE,Te.e.ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE,Te.e.ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE,Te.e.ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE,Te.e.ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE],OPEN_ATTACHMENT_IN_FULLSCREEN:[Te.e.OPEN_LIGHTBOX_ATTACHMENT_PREVIEW,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE,Te.e.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE,Te.e.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE]};let G,W,Z,V;F.getState(R)!==r.bd.DOES_NOT_EXIST&&(G=F.getDocument(R),W=F.getState(R),Z=F.getError(R),V=F.getNumberOfPages(R));let q="",z="",Y="",K=I,X=I;const Q=l(),J=Q.isEnabled(r.ub.CONVERSATIONS),$=Q.isEnabled(r.ub.EVT_SANDBOX_IFRAME);return L&&(-1!==j.OPEN_ATTACHMENT_FROM_MSG_VIEW.indexOf(L.mKey)||-1!==j.OPEN_ATTACHMENT_IN_FULLSCREEN.indexOf(L.mKey)?(z=u(v,k),Y=_(v,k),q="IN_MESSAGE"):-1!==j.OPEN_ATTACHMENT_FROM_LIST_VIEW.indexOf(L.mKey)&&A===r.Pb.MESSAGES?(z=h(v,I),Y=p(v,I),q="IN_GROUP"):-1!==j.OPEN_ATTACHMENT_FROM_LIST_VIEW.indexOf(L.mKey)&&(z=d(N,v),Y=c(N,v),K=z?m(z):null,X=Y?m(Y):null,q="IN_LIST")),{listId:N,fullScreenMode:B,attachmentId:v,nextAttachmentId:z,previousAttachmentId:Y,nextMessageGroupId:K,previousMessageGroupId:X,documentId:R,document:G,totalPages:V,documentState:W,documentError:Z,attachment:D,initialZoomLevel:B?0:P,initialScrollTopFactor:x,route:T,attachmentNavType:q,fromMessagePreview:U,isNewCompose:H,evtSandboxIframe:$,windowDimensions:E(),getMessageRoute({i13nModel:e}){const t=a(v),n=Object(o.f)(v),s=Object(i.t)(N);let l;L.sec===Te.g.RIGHT_RAIL&&s===r.Pb.MESSAGES&&(l=D.type===r.w.Types.IMAGE?Object(i.W)(N,{listContentType:r.Pb.IMAGES}):Object(i.W)(N,{listContentType:r.Pb.DOCUMENTS}));const c=Object(it.p)({attachment:t,listId:l||N,isConversationMode:J});if(c)return{route:g(c),i13nModel:e,hashParams:{messageId:n}};const d=t.csid?Object(it.g)(t.csid,T.query):null;return d?{route:g(d),i13nModel:e}:null},getCloseRoute(e){let t;const a=Object(i.o)(N),n=C(),s=n.doesFolderIdExist,o=n.getPrimaryFolderTypeByFolderId;if(-1!==j.OPEN_ATTACHMENT_IN_FULLSCREEN.indexOf(L.mKey)){const a=Object.assign({},H?{newCompose:"1"}:null,U?{messagePreview:"1"}:null);return t=Object(it.e)(N,I,v,a),{route:g(t),i13nModel:e}}if("IN_MESSAGE"===q){const e=S(I)&&y(I);t=s(a)&&o(a)===r.Cb.DRAFT&&!U?H?Object(it.g)(M||b(k)):e||!J?Object(it.k)(N,b(k)):Object(it.q)(N,I):U?Object(it.o)(N):Object(it.q)(N,I)}else t=Object(it.o)(N);return{route:g(t),i13nModel:e}}}}),Object(s.connect)(void 0,mt))(ct)},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(8),r=a.n(i),o=a(15),l=a(1344),c=a.n(l),d=a(11),m=a(6),_=a(1553),u=a.n(_),p=a(45),h=a(19),g=a(28),E=a(22),b=a(1251),C=a(0),f=a(173),S=a(7),y=a(122);const T=Object(m.defineMessages)({rewards_atos_signup_panel_title:{id:"rewards_atos_signup_panel_title",defaultMessage:"Check-in your {mailBrandingString} everyday and complete the  tasks. Accumulate your YPoints and redeem the prizes you like!"},rewards_atos_signup_panel_description:{id:"rewards_atos_signup_panel_description",defaultMessage:"Thanks for using Yahoo services in your daily life. Now you can start to accumulate your YPoints <img class='{yPointsIconClass}' src='{yPointsIcon}' /> by check-in {mailBrandingString} everyday, or complete the tasks we assigned. YPoints can be used in exchanging of lots of awesome prizes in Yahoo App!"},rewards_upgrade_atos_panel_title:{id:"rewards_upgrade_atos_panel_title",defaultMessage:"We have upgraded the terms of service. Please agree to the latest one before daily check-in!"},rewards_upgrade_atos_panel_description:{id:"rewards_upgrade_atos_panel_description",defaultMessage:"Don't worry, your current YPoints is still the same and effective ! But you have to agree to the latest terms of service to continue getting new points."},rewards_suspended_atos_panel_description:{id:"rewards_suspended_atos_panel_description",defaultMessage:"Your account cannot join the Yahoo Rewards program now. Please use another account to login or contact customer care for assistant."},rewards_cta_upgrade_now:{id:"rewards_cta_upgrade_now",defaultMessage:"Upgrade Now"},rewards_cta_join_now:{id:"rewards_cta_join_now",defaultMessage:"Join Now"},rewards_cta_contact_customer_care:{id:"rewards_cta_contact_customer_care",defaultMessage:"Contact Customer Care"}}),N=(e,{getCss:t,region:a,intl:{formatMessage:n},getThemeMode:i})=>{const r=e.atosInfo,o=r.atosStatus,l=r.url,c=e.tmrNavigateToAtos,d=e.tmrNavigateToUrl,m=e.customerCareUrl,_=o===C.fe.EXPIRED,N=o===C.fe.SUSPENDED,A=t(u.a),I=Object(E.m)({context:{getThemeMode:i},includeMedium:!0}),M="hk"===a?"/img/tmr_hk_points_icon.svg":"/img/tmr_tw_points_icon.svg",v=()=>{N?(d({i13nModel:{mKey:S.e.TMR_NAVIGATE_TO_URL,sec:S.g.MEMBERSHIP_REWARDS,interactionType:S.d.click,actionData:{linkType:"CustomerCare",atosStatus:o}}}),Object(y.a)(m)):(c({i13nModel:{mKey:S.e.TMR_NAVIGATE_TO_ATOS,sec:S.g.MEMBERSHIP_REWARDS,interactionType:S.d.click,actionData:{atosStatus:o}}}),window.open(l+`?.done=${encodeURIComponent(b.c)}&.src=${b.a[a]||"media-tw"}`,"_self"))};return N?(()=>{const e=I?"/img/tmr_atos_suspended_panel_dark.svg":"/img/tmr_atos_suspended_panel_light.svg";return s.a.createElement("div",{className:A.subContainer,"data-test-id":"tmr_atos_panel"},s.a.createElement("div",{className:A.imgContainer},s.a.createElement("img",{className:A.cueImg,src:Object(p.a)(e)})),s.a.createElement("div",{className:A.content},s.a.createElement("div",{className:A.description},n(T.rewards_suspended_atos_panel_description))),s.a.createElement("div",{className:A.buttonContainer},s.a.createElement(h.a,{overridingClass:A.primaryCta,onClick:v,kind:g.a.PRIMARY,"data-test-id":"cta-contact-customer-care",marginLess:!0},n(T.rewards_cta_contact_customer_care))))})():s.a.createElement("div",{className:A.subContainer,"data-test-id":"tmr_atos_panel"},s.a.createElement("div",{className:A.imgContainer},s.a.createElement("img",{className:A.cueImg,src:Object(p.a)((()=>_?"hk"===a?"/img/tmr_hk_atos_upgrade_panel.svg":"/img/tmr_tw_atos_upgrade_panel.svg":I?"hk"===a?"/img/tmr_hk_atos_signup_panel_dark.svg":"/img/tmr_tw_atos_signup_panel_dark.svg":"hk"===a?"/img/tmr_hk_atos_signup_panel_light.svg":"/img/tmr_tw_atos_signup_panel_light.svg")())})),s.a.createElement("div",{className:A.content},s.a.createElement("div",{className:A.title},_?n(T.rewards_upgrade_atos_panel_title):n(T.rewards_atos_signup_panel_title,{mailBrandingString:n(f.a.mailBrandName)})),s.a.createElement("div",{className:A.description},_?n(T.rewards_upgrade_atos_panel_description):s.a.createElement("span",{dangerouslySetInnerHTML:{__html:n(T.rewards_atos_signup_panel_description,{yPointsIconClass:A.yPointsIcon,yPointsIcon:Object(p.a)(M),mailBrandingString:n(f.a.mailBrandName)})}}))),s.a.createElement("div",{className:A.buttonContainer},s.a.createElement(h.a,{overridingClass:A.primaryCta,onClick:v,kind:g.a.PRIMARY,"data-test-id":"cta-join-now",marginLess:!0},n(_?T.rewards_cta_upgrade_now:T.rewards_cta_join_now))))};N.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,region:r.a.string,getThemeMode:r.a.func};var A=N,I=a(475),M=a(3),v=a.n(M),D=a(1554),O=a.n(D),k=a(1303),R=a(53),w=a(55),P=a(40),x=a(14),F=a(12);const L=Object(m.defineMessages)({rewards_panel_tab_checkin:{id:"rewards_panel_tab_checkin",defaultMessage:"Check-In"},rewards_panel_tab_tasks:{id:"rewards_panel_tab_tasks",defaultMessage:"Tasks"},rewards_panel_tab_rewards:{id:"rewards_panel_tab_rewards",defaultMessage:"Rewards"},rewards_point_history_title:{id:"rewards_point_history_title",defaultMessage:"Wanna check your points history?"},rewards_point_history_description:{id:"rewards_point_history_description",defaultMessage:"Download Yahoo App to learn completed YPoints history and expiration date of each records."},rewards_cta_download_app:{id:"rewards_cta_download_app",defaultMessage:"Download App"},rewards_cta_maybe_later:{id:"rewards_cta_maybe_later",defaultMessage:"Maybe Later"}});class B extends s.a.Component{constructor(...e){super(...e),v()(this,"onTabClick",(e,t,a)=>{t!==a&&this.props.changeTab({tab:a,i13nModel:{mKey:S.e.TMR_TAB_CHANGE,sec:S.g.MEMBERSHIP_REWARDS,interactionType:S.d.click,actionData:{tab:a}}})}),v()(this,"pointsIconClick",()=>{this.props.tmrPointsIconClick({i13nModel:{mKey:S.e.TMR_POINT_ICON_CLICK,sec:S.g.MEMBERSHIP_REWARDS,interactionType:S.d.click,actionData:{pointsBalance:this.props.pointsBalance}}})}),v()(this,"downloadAppClick",()=>{this.props.tmrNavigateToUrl({i13nModel:{mKey:S.e.TMR_NAVIGATE_TO_URL,sec:S.g.MEMBERSHIP_REWARDS,interactionType:S.d.click,actionData:{linkType:"superAppPage"}}})}),v()(this,"renderPointHistoryDialog",e=>{const t=this.context.intl.formatMessage,a=this.props.membershipRewardsSettings.superAppPage,n=void 0===a?"":a;return s.a.createElement("div",{className:e.dialogContainer},s.a.createElement("b",null,s.a.createElement("span",null,t(L.rewards_point_history_title))),s.a.createElement("span",{className:e.dialogDescription},t(L.rewards_point_history_description)),s.a.createElement("div",null,s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n,onClick:this.downloadAppClick},s.a.createElement(h.a,{overridingClass:e.primary,kind:g.a.PRIMARY,"data-test-id":"cta-download-app",marginLess:!0},t(L.rewards_cta_download_app))),s.a.createElement(h.a,{overridingClass:e.secondary,kind:g.a.SECONDARY_BORDERLESS,"data-test-id":"cta-maybe-later",marginLess:!0},t(L.rewards_cta_maybe_later))))})}render(){const e=this.props,t=e.selectedTab,a=e.pointsBalance,n=this.context,i=n.region,r=n.getThemeMode,o=n.intl.formatMessage,l=(0,n.getCss)(O.a),c=Object(E.m)({context:{getThemeMode:r},includeMedium:!0}),d="hk"===i?"/img/tmr_hk_points_icon.svg":"/img/tmr_tw_points_icon.svg";return s.a.createElement("div",{className:l.wrapper,"data-test-id":"rewards-panel-header"},s.a.createElement(k.b,{overrideClassNames:l,isDark:c},[{title:L.rewards_panel_tab_checkin,tab:C.he.CHECKIN},{title:L.rewards_panel_tab_tasks,tab:C.he.TASKS},{title:L.rewards_panel_tab_rewards,tab:C.he.REWARDS}].map(({title:e,tab:a})=>s.a.createElement(k.a,{overrideClassNames:l,title:o(e),"data-test-id":"rewards-panel-"+a,isSelected:t===a,onClick:e=>{this.onTabClick(e,t,a)},key:a},o(e)))),s.a.createElement("div",{className:l.pointsContainer},s.a.createElement(w.a,{className:l.popoverContainer},s.a.createElement(R.a,null,s.a.createElement("img",{className:l.pointsIcon,src:Object(p.a)(d)})),s.a.createElement(P.b,{triggerOn:x.i.CLICK,permittedArrowDirections:[x.h.UP],zAltitude:F.ZIndices.POPOVER.HIGH,align:x.a.END,offset:24,onShow:this.pointsIconClick},this.renderPointHistoryDialog(l))),a?s.a.createElement("span",null,a):null))}}B.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,region:r.a.string,getThemeMode:r.a.func};var U=B,H=a(1555),j=a.n(H),G=a(1345),W=a.n(G),Z=a(9);class V extends s.a.Component{componentDidMount(){this.props.spinEnabled&&(this._dailyCheckinDayRenderedTimer=setTimeout(()=>{this.props.spinCompleted()},1e3))}componentWillUnmount(){this._dailyCheckinDayRenderedTimer&&clearTimeout(this._dailyCheckinDayRenderedTimer)}render(){const e=this.props,t=e.title,a=e.checkinType,n=e.pointValue,i=e.selectionRangeType,r=e.spinEnabled,o=Object(E.m)({context:this.context,includeMedium:!0}),l={spinEnabled:r};l.checkinType=a===b.b.UNCHECK?`${o?"dark-":""}${a}`:a,i&&(l.selectionRangeType=`${o?"dark-":""}${i}`);const c=this.context.getCss(W.a,l);return s.a.createElement("li",{"data-test-id":"week-day",className:c.weekDay,title:t},s.a.createElement("span",{className:c.weekDayBackground},s.a.createElement("span",{className:c.weekDayBackgroundOverlay}),s.a.createElement("span",{className:c.weekDayPointContainer},n?`+${n}`:"")))}}V.contextTypes={getCss:r.a.func,getThemeMode:r.a.func};var q=V;const z=b.b.CHECKED,Y=b.b.WEEKEND,K=b.b.UNCHECK;class X extends s.a.Component{constructor(...e){super(...e),v()(this,"renderWeekRow",({classNames:e,weekNum:t,noOfDaysToRender:a,dailyCheckinProgress:n,showSpin:i,spinCompleted:r})=>{const o=[];for(let e=1;e<=a;e++){let l,c=K,d="";const m=7*t+e;let _="";const u=i&&m===n.length;m<=n.length&&(c=n[m-1].isBonus?Y:z,l=n[m-1].points,d=new Date(n[m-1].date).toLocaleDateString()),m<n.length&&(1===e?_="START":e>1&&e<a?_="MIDDLE":e===a&&(_="END")),e>1&&m===n.length&&(_="END"),o.push(s.a.createElement(q,{key:`week-day-${m}`,checkinType:c,pointValue:l,selectionRangeType:_,title:d,spinEnabled:u,spinCompleted:r}))}return s.a.createElement("li",{"data-test-id":"week-row",key:`week-row-${t}`},s.a.createElement("ul",{className:e.weekRow},o))})}render(){const e=this.context.getCss(W.a),t=this.props,a=t.numberofDaysInChallenge,n=t.dailyCheckinProgress,i=t.showSpin,r=t.spinCompleted,o=Math.ceil(a/7),l=[];for(let t=0;t<o;t++){const s=a-7*t;l.push(this.renderWeekRow({classNames:e,weekNum:t,noOfDaysToRender:s>=7?7:s,dailyCheckinProgress:n,showSpin:i,spinCompleted:r}))}return s.a.createElement("ul",{className:e.container},l)}}X.contextTypes={getCss:r.a.func};var Q=X,J=a(43);const $=Object(m.defineMessages)({rewards_daily_checkin_panel_title:{id:"rewards_daily_checkin_panel_title",defaultMessage:"You have checked in for {numberOfDays} days"},rewards_daily_checkin_panel_subtitle:{id:"rewards_daily_checkin_panel_subtitle",defaultMessage:"<b>Tip:</b> Check in on weekends and earn extra Yahoo Points!"},rewards_daily_checkin_panel_more_tasks:{id:"rewards_daily_checkin_panel_more_tasks",defaultMessage:"Complete tasks to get {pointValue} more Yahoo Points!"},rewards_cta_learn_more:{id:"rewards_cta_learn_more",defaultMessage:"Learn more"},rewards_challenge_description:{id:"rewards_challenge_description",defaultMessage:"Challenge Description"},rewards_challenge_duration:{id:"rewards_challenge_duration",defaultMessage:"Challenge Durarion"}});class ee extends s.a.Component{constructor(...e){super(...e),v()(this,"handleLearnMoreClick",()=>{this.props.changeTab({tab:C.he.TASKS,i13nModel:{mKey:S.e.TMR_TASK_CLICK,sec:S.g.MEMBERSHIP_REWARDS,interactionType:S.d.click,actionData:{taskType:C.ge.IMAPIN}}})})}render(){const e=this.context.getCss(j.a),t=this.context.intl.formatMessage,a=Object(Z.a)(this.context,"locale.name","en-US"),n=t($.rewards_cta_learn_more),i=this.props,r=i.challenge,o=void 0===r?{}:r,l=i.challengeProgress,c=void 0===l?{}:l,d=i.imapinChallenge,m=void 0===d?{}:d,_=i.imapinChallengeCompleted,u=i.showSpin,E=i.spinCompleted,b=o.description,C=o.endTime,f=c.recurringProgresses,S=c.repeatedTimes,y=new Date(o.startTime),T=new Date(C),N=`${Object(J.e)(y,a,{})} - ${Object(J.e)(T,a,{})}`,A=Object(J.j)(y,T),I=Object(Z.a)(m,"rewards.value");return s.a.createElement("div",{className:e.subContainer,"data-test-id":"daily-checkin-panel"},s.a.createElement("div",{className:e.completedCheckin},s.a.createElement("img",{className:e.dailyCheckinIcon,src:Object(p.a)("/img/tmr_daily_checkin_icon.svg")}),s.a.createElement("span",null,s.a.createElement("b",null,t($.rewards_daily_checkin_panel_title,{numberOfDays:S})))),s.a.createElement("span",{dangerouslySetInnerHTML:{__html:t($.rewards_daily_checkin_panel_subtitle)}}),s.a.createElement(Q,{numberofDaysInChallenge:A,dailyCheckinProgress:f,showSpin:u,spinCompleted:E}),_?null:s.a.createElement("div",{className:e.moreTask},s.a.createElement("img",{src:Object(p.a)("/img/tmr_tasks_icon.svg")}),s.a.createElement("span",{className:e.moreTaskContent},s.a.createElement("b",null,t($.rewards_daily_checkin_panel_more_tasks,{pointValue:I}))),s.a.createElement(h.a,{title:n,"data-test-id":"tmr-learn-more-cta",kind:g.a.PRIMARY,"aria-label":n,marginLess:!0,overridingClass:e.ctaButton,onClick:this.handleLearnMoreClick},n)),s.a.createElement("div",{className:e.challengeDescription},s.a.createElement("span",{className:e.challengeDetailsHeader},s.a.createElement("b",null,t($.rewards_challenge_description))),s.a.createElement("span",null,b)),s.a.createElement("div",null,s.a.createElement("span",{className:e.challengeDetailsHeader},s.a.createElement("b",null,t($.rewards_challenge_duration))),s.a.createElement("span",null,N)))}}ee.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,locale:r.a.object};var te=ee,ae=a(4),ne=a.n(ae),se=a(1556),ie=a.n(se),re=a(16),oe=a(5),le=a(18),ce=a(17);const de=Object(m.defineMessages)({rewards_tasks_panel_title:{id:"rewards_tasks_panel_title",defaultMessage:"Complete tasks to earn Yahoo Points"},rewards_tasks_panel_more_title:{id:"rewards_tasks_panel_more_title",defaultMessage:"Unlock more tasks in Yahoo App"},rewards_cta_more_challenges:{id:"rewards_cta_more_challenges",defaultMessage:"More Yahoo Points tasks"},rewards_cta_go:{id:"rewards_cta_go",defaultMessage:"Go"},rewards_tasks_back_panel_title:{id:"rewards_tasks_back_panel_title",defaultMessage:"All tasks"},rewards_tasks_app_download:{id:"rewards_tasks_app_download",defaultMessage:"Download Yahoo App to take more challenges!"},rewards_cta_appstore:{id:"rewards_cta_appstore",defaultMessage:"App Store"},rewards_cta_playstore:{id:"rewards_cta_playstore",defaultMessage:"Play Store"}});class me extends s.a.Component{constructor(...e){super(...e),v()(this,"state",{showMoreChallenge:!1,showSuperAppPromotion:!1}),v()(this,"navigateToSettings",e=>{e.preventDefault(),e.stopPropagation(),this.context.navigateTo({route:Object(ce.v)({settingsGroupId:C.Cd.ACCOUNTS}),i13nModel:{mKey:S.e.TMR_NAVIGATE_TO_ADD_ACCOUNT,sec:S.g.MEMBERSHIP_REWARDS,interactionType:Object(le.j)(e)}})}),v()(this,"instrumentNavigation",e=>{this.props.tmrNavigateToUrl({i13nModel:{mKey:S.e.TMR_NAVIGATE_TO_URL,sec:S.g.MEMBERSHIP_REWARDS,interactionType:S.d.click,actionData:{linkType:e}}})}),v()(this,"showYahooAppPromotion",()=>{this.instrumentNavigation("SuperAppQRCodeFromTasks"),this.setState({showSuperAppPromotion:!0})}),v()(this,"handleShowMoreTasksClick",()=>{this.setState(this.props.superAppChallenges.length?{showMoreChallenge:!0}:{showSuperAppPromotion:!0})}),v()(this,"handleGoBack",()=>{this.setState({showSuperAppPromotion:!1})}),v()(this,"renderSuperAppPromotion",e=>{const t=this.context.intl.formatMessage,a=this.props.membershipRewardsSettings,n=Object(E.m)({context:this.context,includeMedium:!0}),i=n?Object(p.a)("/img/tmr_icon_appstore_white.svg"):Object(p.a)("/img/tmr_icon_appstore_blue.svg"),r=n?Object(p.a)("/img/tmr_icon_playstore_white.svg"):Object(p.a)("/img/tmr_icon_playstore_blue.svg");return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:e.backPanel},s.a.createElement("span",{className:e.backIcon,onClick:this.handleGoBack},s.a.createElement(re.b,{kind:oe.b.ARROW_UP,rotate:oe.c.D270,size:oe.d.XS,colorState:oe.a.INHERITED})),s.a.createElement("b",null,s.a.createElement("span",null,t(de.rewards_tasks_back_panel_title)))),s.a.createElement("div",{className:e.subContainer,"data-test-id":"rewards-tasks-panel"},s.a.createElement("div",{className:e.imgContainer},s.a.createElement("span",{className:e.imgContent},t(de.rewards_tasks_app_download))),s.a.createElement("div",{className:e.footer},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:e.appLogoContainer,href:a.appStoreLink,onClick:e=>this.instrumentNavigation("appStoreFromTasks",e)},s.a.createElement("img",{className:e.appLogo,src:i}),t(de.rewards_cta_appstore)),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:e.appLogoContainer,href:a.playStoreLink,onClick:e=>this.instrumentNavigation("playStoreFromTasks",e)},s.a.createElement("img",{className:e.appLogo,src:r}),t(de.rewards_cta_playstore)))))}),v()(this,"renderTask",(e,t,a)=>{const n=(0,this.context.intl.formatMessage)(de.rewards_cta_go),i=e.description,r=e.rewards.value,o=e.completed,l="hk"===this.context.region?"/img/tmr_hk_points_icon.svg":"/img/tmr_tw_points_icon.svg";return s.a.createElement("div",{key:`task-${t}`,className:a.taskPanel,"data-test-id":"reward-task"},s.a.createElement("div",{className:a.taskDetails},s.a.createElement("div",{className:a.taskTitleContainer},s.a.createElement("span",{className:a.taskTitle},e.title),r?s.a.createElement("div",{className:a.taskPoints},s.a.createElement("span",null,`+${r}`),s.a.createElement("img",{className:a.yPointsIcon,src:Object(p.a)(l)})):null),s.a.createElement("div",{className:a.taskDescription},i)),s.a.createElement(h.a,{title:n,"data-test-id":"rewards-tasks-go-button",kind:g.a.PRIMARY,"aria-label":n,marginLess:!0,overridingClass:a.goButton,onClick:e.onClick,disabled:!!o},n))}),v()(this,"renderSuperAppTasks",(e,t)=>{const a=this.context.intl.formatMessage;return s.a.createElement("div",null,s.a.createElement("div",{className:e.superAppTasksTitle},s.a.createElement("img",{className:e.superAppIcon,src:Object(p.a)("/img/tmr_yahoo_super_app_icon.png")}),s.a.createElement("div",null,s.a.createElement("b",null,a(de.rewards_tasks_panel_more_title)))),t.map((t,a)=>(t=ne()({},t,{onClick:this.showYahooAppPromotion}),this.renderTask(t,a,e))))}),v()(this,"renderTaskView",(e,t,a)=>{const n=this.context.intl.formatMessage,i=n(de.rewards_cta_more_challenges);return s.a.createElement("div",{className:e.subContainer,"data-test-id":"rewards-tasks-panel"},s.a.createElement("div",{className:e.titleContainer},s.a.createElement("img",{src:Object(p.a)("/img/tmr_tasks_icon.svg")}),s.a.createElement("span",{className:e.title},s.a.createElement("b",null,n(de.rewards_tasks_panel_title)))),t.map((t,a)=>this.renderTask(t,a,e)),this.state.showMoreChallenge?this.renderSuperAppTasks(e,a):s.a.createElement(h.a,{title:i,"data-test-id":"rewards-tasks-more-tasks",kind:g.a.SECONDARY,"aria-label":i,marginLess:!0,overridingClass:e.moreButton,onClick:this.handleShowMoreTasksClick,isOnDarkBackground:!0},i))})}render(){const e=Object(E.m)({context:this.context,includeMedium:!0}),t=this.context.getCss(ie.a,{imageType:`${"hk"===this.context.region?"hk":"tw"}-${e?"dark":"light"}`}),a=this.props,n=a.imapinChallenge,s=a.superAppChallenges;a.imapinChallengeCompleted&&(n.completed=!0);const i=n.title?[ne()({},n,{onClick:this.navigateToSettings})]:[];return this.state.showSuperAppPromotion?this.renderSuperAppPromotion(t):this.renderTaskView(t,i,s)}}me.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,region:r.a.string,getThemeMode:r.a.func,navigateTo:r.a.func};var _e=me,ue=a(1557),pe=a.n(ue);const he=Object(m.defineMessages)({rewards_redeem_panel_title:{id:"rewards_redeem_panel_title",defaultMessage:"Featured Rewards"},rewards_cta_appstore:{id:"rewards_cta_appstore",defaultMessage:"App Store"},rewards_cta_playstore:{id:"rewards_cta_playstore",defaultMessage:"Play Store"},rewards_cta_more_rewards:{id:"rewards_cta_more_rewards",defaultMessage:"See All Rewards"},rewards_redeem_app_download:{id:"rewards_redeem_app_download",defaultMessage:"Download Yahoo App to redeem member exclusive rewards!"}});class ge extends s.a.Component{constructor(...e){super(...e),v()(this,"state",{showSuperAppPromotion:!1}),v()(this,"instrumentNavigation",(e,t)=>{this.props.tmrNavigateToUrl({i13nModel:{mKey:S.e.TMR_NAVIGATE_TO_URL,sec:S.g.MEMBERSHIP_REWARDS,interactionType:Object(le.j)(e),actionData:ne()({},t)}})}),v()(this,"showYahooAppPromotion",(e,t)=>{this.instrumentNavigation(e,t),this.setState({showSuperAppPromotion:!0})}),v()(this,"handleGoBack",()=>{this.setState({showSuperAppPromotion:!1})}),v()(this,"renderSuperAppPromotion",(e,t)=>{const a=this.context.intl.formatMessage,n=this.props.membershipRewardsSettings,i=Object(E.m)({context:this.context,includeMedium:!0}),r=i?Object(p.a)("/img/tmr_icon_appstore_white.svg"):Object(p.a)("/img/tmr_icon_appstore_blue.svg"),o=i?Object(p.a)("/img/tmr_icon_playstore_white.svg"):Object(p.a)("/img/tmr_icon_playstore_blue.svg");return s.a.createElement(s.a.Fragment,null,t.length?s.a.createElement("div",{className:e.backPanel},s.a.createElement("span",{className:e.backIcon,onClick:this.handleGoBack},s.a.createElement(re.b,{kind:oe.b.ARROW_UP,rotate:oe.c.D270,size:oe.d.XS,colorState:oe.a.INHERITED})),s.a.createElement("b",null,s.a.createElement("span",null,a(he.rewards_redeem_panel_title)))):null,s.a.createElement("div",{className:e.subContainer,"data-test-id":"rewards-redeem-panel"},s.a.createElement("div",{className:e.imgContainer},s.a.createElement("span",{className:e.imgContent},a(he.rewards_redeem_app_download))),s.a.createElement("div",{className:e.footer},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:e.appLogoContainer,href:n.appStoreLink,onClick:e=>this.instrumentNavigation(e,{linkType:"appStoreFromRewards"})},s.a.createElement("img",{className:e.appLogo,src:r}),a(he.rewards_cta_appstore)),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:e.appLogoContainer,href:n.playStoreLink,onClick:e=>this.instrumentNavigation(e,{linkType:"playStoreFromRewards"})},s.a.createElement("img",{className:e.appLogo,src:o}),a(he.rewards_cta_playstore)))))}),v()(this,"renderItem",(e,t,a)=>{const n="hk"===this.context.region?"/img/tmr_hk_points_icon.svg":"/img/tmr_tw_points_icon.svg";return s.a.createElement("div",{key:`reward-item-${a}`,"data-test-id":"reward-item",className:e.rewardsContainer,onClick:e=>this.showYahooAppPromotion(e,{linkType:"RewardsItem",itemNumber:a,prizeId:t.prizeId})},s.a.createElement("img",{className:e.itemImg,src:t.imageUrl}),s.a.createElement("span",null,t.title),s.a.createElement("span",{className:e.priceContainer},s.a.createElement("span",{className:e.price},t.points),s.a.createElement("img",{className:e.yPointsIcon,src:Object(p.a)(n)})))}),v()(this,"renderRewardsView",(e,t)=>{const a=this.context.intl.formatMessage,n=a(he.rewards_cta_more_rewards);return s.a.createElement("div",{className:e.subContainer,"data-test-id":"rewards-redeem-panel"},s.a.createElement("div",{className:e.titleContainer},s.a.createElement("img",{src:Object(p.a)("/img/tmr_rewards_icon.svg")}),s.a.createElement("span",{className:e.title},s.a.createElement("b",null,a(he.rewards_redeem_panel_title)))),s.a.createElement("div",{className:e.rewardsItems},t.map((t,a)=>this.renderItem(e,t,a))),s.a.createElement(h.a,{title:n,"data-test-id":"show-more-rewards",kind:g.a.PRIMARY,"aria-label":n,marginLess:!0,overridingClass:e.moreButton,onClick:e=>this.showYahooAppPromotion(e,{linkType:"SuperAppQRCodeFromRewards"})},n))})}render(){const e=Object(E.m)({context:this.context,includeMedium:!0}),t=this.context.getCss(pe.a,{imageType:`${"hk"===this.context.region?"hk":"tw"}-${e?"dark":"light"}`}),a=this.props.redeemItems;return this.state.showSuperAppPromotion||!a.length?this.renderSuperAppPromotion(t,a):this.renderRewardsView(t,a)}}ge.contextTypes={getCss:r.a.func,intl:m.intlShape.isRequired,getThemeMode:r.a.func,region:r.a.string};var Ee=ge;const be=Object(m.defineMessages)({rewards_error_message:{id:"rewards_error_message",defaultMessage:"Something went wrong, will try again later or reload mail"}}),Ce=(e,{getCss:t,intl:{formatMessage:a}})=>{const n=t(c.a);return s.a.createElement("span",{className:n.errorMessage},a(be.rewards_error_message))};Ce.contextTypes={getCss:r.a.func.isRequired,intl:m.intlShape.isRequired};var fe=Ce;a.d(t,"MembershipRewardsPanel",function(){return Te}),a.d(t,"mapStateToProps",function(){return Ne}),a.d(t,"mapDispatchToProps",function(){return Ae});const Se=C.ge.DAILY_CHECKIN,ye=C.ge.IMAPIN;class Te extends s.a.Component{render(){const e=this.context.getCss(c.a),t=this.props,a=t.atosInfo,n=t.tmrNavigateToAtos,i=t.membershipRewardsSettings,r=t.selectedTab,o=t.changeTab,l=t.pointsBalance,d=t.dailyCheckinChallenge,m=t.dailyCheckinProgress,_=t.imapinChallenge,u=t.imapinChallengeCompleted,p=t.superAppChallenges,h=t.redeemItems,g=t.showSpin,E=t.spinCompleted,b=t.tmrNavigateToUrl,f=t.tmrPointsIconClick;let S=s.a.createElement(fe,null);return a.atosStatus&&(S=a.atosStatus!==C.fe.AGREED?s.a.createElement(A,{atosInfo:a,tmrNavigateToAtos:n,tmrNavigateToUrl:b,customerCareUrl:i.customerCareUrl}):s.a.createElement(s.a.Fragment,null,s.a.createElement(U,{pointsBalance:l,selectedTab:r,changeTab:o,membershipRewardsSettings:i,tmrPointsIconClick:f,tmrNavigateToUrl:b}),r===C.he.CHECKIN?s.a.createElement(te,{challenge:d,challengeProgress:m,imapinChallenge:_,imapinChallengeCompleted:u,changeTab:o,showSpin:g,spinCompleted:E}):null,r===C.he.TASKS?s.a.createElement(_e,{imapinChallenge:_,imapinChallengeCompleted:u,superAppChallenges:p,membershipRewardsSettings:i,tmrNavigateToUrl:b}):null,r===C.he.REWARDS?s.a.createElement(Ee,{redeemItems:h,membershipRewardsSettings:i,tmrNavigateToUrl:b}):null)),s.a.createElement("div",{className:e.container},S)}}Te.contextTypes={getCss:r.a.func.isRequired};const Ne=e=>{const t=Object(d.b)(e),a=t.getSetting,n=(0,t.getMembershipRewardsSelectors)(),s=n.getAtosInfo,i=n.getSelectedTab,r=n.getPointsBalance,o=n.getChallengeDefns,l=n.getChallengeProgress,c=n.isImapInCompleted,m=n.getSuperAppChallenges,_=n.getRedeemItems,u=n.getLastCompletedChallenges,p=a(C.zd.MEMBERSHIP_REWARDS_SETTINGS);return{atosInfo:s(),membershipRewardsSettings:p,selectedTab:i(),pointsBalance:r(),dailyCheckinChallenge:o(Se),dailyCheckinProgress:l(Se),imapinChallenge:o(ye),imapinChallengeCompleted:c(),superAppChallenges:m(),redeemItems:_(),showSpin:!!u(C.ge.DAILY_CHECKIN).showSpin}},Ae=e=>({tmrNavigateToAtos:t=>e(Object(I.d)(t)),tmrNavigateToUrl:t=>e(Object(I.e)(t)),changeTab:t=>e(Object(I.a)(t)),spinCompleted:t=>e(Object(I.c)(t)),tmrPointsIconClick:t=>e(Object(I.f)(t))});t.default=Object(o.connect)(Ne,Ae)(Te)},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(11),u=a(1574),p=a.n(u),h=a(13),g=a.n(h),E=a(10),b=a(0),C=a(1575),f=a.n(C),S=a(6),y=a(1193),T=a(1576),N=a.n(T);const A=g()(N.a),I=Object(S.defineMessages)({gifItemTooltip:{id:"compose.gif.item.tooltip",defaultMessage:"Click to insert"}});class M extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hovered:!1,thumbnailLoaded:!1,betterImgFetched:!1}),r()(this,"_onMouseOver",()=>{const e=this.state,t=e.betterImgFetched;e.hovered||this.setState({hovered:!0},()=>{if(!t){const e=new Image;e.src=this.props.url,e.onload=()=>this._isMounted&&this.setState({betterImgFetched:!0})}})}),r()(this,"_onImageLoaded",()=>{this._isMounted&&!this.state.thumbnailLoaded&&this.setState({thumbnailLoaded:!0})})}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const e=this.props,t=e.height,a=this.state,n=a.hovered;return d.a.createElement("span",{onMouseOver:this._onMouseOver,onMouseLeave:()=>this.setState({hovered:!1}),onClick:e.onClick,className:A.container,"data-test-id":"tile-image"},d.a.createElement("img",{className:A.img,style:{width:e.width,height:t},src:a.thumbnailLoaded&&a.betterImgFetched?e.url:e.thumbnail,onLoad:this._onImageLoaded}),n?d.a.createElement("div",{className:A.overlay,style:{height:t},title:this.context.intl.formatMessage(I.gifItemTooltip),"data-test-id":"gif-overlay"}):null)}}r()(M,"contextTypes",{intl:S.intlShape.isRequired}),r()(M,"defaultProps",{onClick:()=>{}});var v=M,D=a(1577),O=a.n(D);const k=g()(O.a),R=Object(S.defineMessages)({gifLabel:{id:"gif.tile_images.arial_label",defaultMessage:"GIF"}});class w extends d.a.Component{constructor(...e){super(...e),r()(this,"_mediaTable",e=>{const t=this.props,a=t.layoutWidth,n=Math.min(a,t.maxHeight),s=Math.floor(n),i=e.map(e=>{let t=e.height,a=e.width,n=e.downloadLink;if(e.source===b.z.TUMBLR){const i=function(e,t){let a=Number.MAX_VALUE,n=-1;return e.forEach(({height:e,width:s},i)=>{const r=Math.abs(t-Math.max(e,s));r<a&&(a=r,n=i)}),e[n]}(e.thumbnails,s);t=i.height,a=i.width,n=i.url}return{id:e.id,width:a,height:t,url:n,thumbnail:e.thumbnail,originalItem:e}});return new y.MediaTable(i,{layoutWidth:a,maxRows:0,maxAspect:a/s*2,maxClippedRows:0,wholeRowsOnly:!1,imgMargin:4,singleImgWidth:Math.round(.7*a),maxSingleImgHeight:s,maxRowHeight:s,idProp:"id"})}),r()(this,"_onItemClick",e=>{this.props.onItemClick(e)}),r()(this,"_renderRow",(e,t)=>e.items.map(e=>{const a=t[e.id],n=Math.floor(a.width),s=Math.floor(a.height);return this._renderItem(e,n,s)})),r()(this,"_renderItem",(e,t,a)=>{const n=e.originalItem,s=e.url,i=e.thumbnail;return d.a.createElement(v,{"aria-label":(0,this.context.intl.formatMessage)(R.gifLabel),"data-id":e.id,height:a,key:e.id,onClick:this._onItemClick.bind(null,n),role:"Menuitem",tabIndex:"0",url:s,width:t,thumbnail:i})}),r()(this,"_calcRenderProps",e=>{const t=[];let a,n,s;for(a=0;a<e.items.length;a++)s=e.getRow((n=e.items[a]).id),t[n.id]=s.getMeta(n.id);return t})}render(){const e=this._mediaTable(this.props.results),t=e.rows,a=this._calcRenderProps(e);return d.a.createElement("div",null,t.map((e,t)=>d.a.createElement("div",{key:"row-"+t,className:k.rowContainer},this._renderRow(e,a))))}}r()(w,"contextTypes",{intl:S.intlShape.isRequired}),r()(w,"defaultProps",{results:[]});var P=w,x=a(1578),F=a.n(x),L=a(185),B=a.n(L),U=a(54);const H=230,j=300,G=g()(F.a);var W=class extends d.a.Component{constructor(...e){super(...e),r()(this,"onScroll",()=>{this._loadMoreWhenAtBottom()}),r()(this,"_loadMoreWhenAtBottom",()=>{if(!this._scroller||this.props.isLoading)return;const e=this._scroller;e.clientHeight+e.scrollTop>=e.scrollHeight-H/2&&this.props.onLoadMore()})}componentWillMount(){this.onScroll=B()(this.onScroll,j,{leading:!0})}componentDidMount(){this._loadMoreWhenAtBottom()}componentWillReceiveProps(e){this._scroller&&this.props.query&&e.query&&this.props.query.toLowerCase().trim()!==e.query.toLowerCase().trim()&&(this._scroller.scrollTop=0)}render(){return d.a.createElement("div",{className:G.container,ref:e=>this._scroller=e,onScroll:this.onScroll,"data-test-id":"scroller"},this.props.children,this.props.isLoading&&d.a.createElement("div",{className:G.gifLoadingSection},d.a.createElement(U.b,{size:U.a.M})))}};const Z=g()(f.a);var V=class extends d.a.Component{componentDidMount(){this.props.status===b.bd.DOES_NOT_EXIST&&this.props.fetchGIF({query:this.props.query})}componentWillReceiveProps(e){e.width!==this.props.width&&(this.containerWidth=null)}render(){const e=this.props,t=e.gifs,a=e.onItemClick,n=e.query,s=e.width,i=e.fetchGIF,r=e.status;return r===b.bd.DOES_NOT_EXIST||r===b.bd.LOADING&&0===t.length?d.a.createElement(U.b,{size:U.a.M}):t.length?d.a.createElement(W,{onLoadMore:()=>i({query:n,fetchMoreItems:!0}),isLoading:r!==b.bd.LOADED,query:n},d.a.createElement("div",{ref:e=>{!this.containerWidth&&e&&(this.containerWidth=e.clientWidth,this.forceUpdate())}},d.a.createElement(P,{maxHeight:H,layoutWidth:this.containerWidth||s,results:t,onItemClick:a}))):d.a.createElement("p",{className:Z.errMsg,"data-test-id":"err-msg"},d.a.createElement(S.FormattedMessage,{id:"gif_not_found",defaultMessage:"GIFs are not found. Please try another search."}))}};var q=Object(m.connect)((e,t)=>{const a=t.query.toLowerCase().trim(),n=Object(_.b)(e),s=n.getCurrentListId,i=n.getGifItemsSelectors,r=n.getGifCategoriesSelectors,o=(0,n.getListsSelectors)(),l=o.doesListExist,c=o.getListStatus,d=o.getItemIdsSelectors,m=Object(E.W)(s(),{listContentType:b.Pb.GIFS,keyword:a,listFilter:b.Qb.GIFS});let u=[],p=b.bd.DOES_NOT_EXIST;if(r().isGifCategoryQuery(a)){const e=Object(E.W)(s(),{listContentType:b.Pb.GIFS,keyword:a,listFilter:b.Qb.GIFS});l(e)&&(u=d(e).getItemIds(),p=c(e))}l(m)&&(u=u.concat(d(m).getItemIds()),p=c(m));const h=i().getGifItems();return{status:p,gifs:u.map(e=>h[e])}})(V),z=a(1579),Y=a.n(z),K=a(278),X=a(313),Q=a(5);const J=Object(S.defineMessages)({searchGif:{id:"gif_search_gif",defaultMessage:"Search GIFs"}}),$=g()(Y.a),ee={kind:Q.b.SEARCH,size:Q.d.XXS,colorState:Q.a.NORMAL};class te extends d.a.Component{render(){const e=this.props,t=e.gifCategories,a=e.onCategoryClick,n=e.searchBoxValue,s=e.selectedCategory;return d.a.createElement("div",{className:$.searchSection},d.a.createElement(K.a,{fujiIconProps:ee,kind:X.a.LEFT_ICON,onChange:e.handleSearchChange,placeholder:(0,this.context.intl.formatMessage)(J.searchGif),value:n,isClearable:!0,clearButtonContainerClassName:$.clearButtonContainer,focusOnMount:!0}),d.a.createElement("ul",{className:$.categoryContainer,"data-test-id":"category-container"},t.map(e=>{let t=$.categories,n="";const i=e.categoryName||e.title;return(e.categoryId||e.title)===s&&(t=$.categorySelected,n="category-active"),d.a.createElement("li",{className:`${t} ${$.hiddenBoldCategoryText}`,key:e.categoryId||e.tag,onClick:()=>a(e),"data-test-id":n,title:i},d.a.createElement("div",{className:$.categoryDiv},i))})))}}r()(te,"contextTypes",{intl:S.intlShape});var ae=te,ne=a(30),se=a(20);a.d(t,"GifPopUp",function(){return oe}),a.d(t,"mapStateToProps",function(){return le});const ie=g()(p.a),re=Object(S.defineMessages)({close:{id:"gif_popup.btn_close",defaultMessage:"Close"},via:{id:"gif_popup.via",defaultMessage:"Via"}});class oe extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{xButtonHovered:!1}),r()(this,"onGifClick",e=>{this.props.handleGifClick(e)}),r()(this,"handleXButtonHover",e=>{this.setState({xButtonHovered:e})})}componentWillMount(){this.props.fetchGifCategories()}componentDidMount(){window.addEventListener("mousedown",this.handleWindowMouseDown,!1)}render(){const e=this.props,t=e.fetchGIF,a=e.toggleMenu,n=e.searchBoxValue,i=e.selectedCategory,r=e.handleSearchChange,o=e.onCategoryClick,l=e.left,c=e.bottom,m=e.width,_=e.query,u=e.gifCategories,p=e.isRTL,h=this.context.intl.formatMessage,g=this.state.xButtonHovered?Q.a.NORMAL:Q.a.DISABLED;return d.a.createElement("section",{ref:e=>this._gifContainer=e,"data-test-id":"gif-container",className:ie.gifFinderContainer,onClick:e=>e.stopPropagation(),style:s()({width:m+"px",bottom:c+"px"},p&&{right:l+"px"},!p&&{left:l+"px"})},d.a.createElement("div",{className:ie.gifPopupTopArea},d.a.createElement("span",{onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},d.a.createElement(se.a,{"data-iskeynav":!0,"data-test-id":"gif-close-button",kind:Q.b.CLOSE,size:Q.d.XXS,onClick:a,title:h(re.close),colorState:g}))),d.a.createElement("div",{className:ie.resultSection},d.a.createElement(q,{query:_,width:m?m-ne.HORIZONTAL_PADDING:0,onItemClick:this.onGifClick,fetchGIF:t})),d.a.createElement(ae,{searchBoxValue:n,selectedCategory:i,handleSearchChange:r,onCategoryClick:o,gifCategories:u}))}}r()(oe,"contextTypes",{intl:S.intlShape.isRequired,config:l.a.object.isRequired}),r()(oe,"defaultProps",{left:0,width:0,bottom:0});const le=e=>{return{isRTL:"rtl"===(0,Object(_.b)(e).getEnvironmentSelectors)().getPageDirection()}};t.default=Object(m.connect)(le)(oe)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(15),l=a(1),c=a.n(l),d=a(11),m=a(0),_=a(6),u=a(1542),p=a.n(u),h=a(106),g=a.n(h),E=a(16),b=a(431),C=a(5),f=a(240),S=a(182);var y=({onChange:e,selected:t,label:a,options:n,classNames:s,arrowDownColor:i})=>c.a.createElement("div",{className:s.selector},c.a.createElement(f.a,{onChange:e,selected:t,classNames:s,arrowDownColor:i},n.map(e=>c.a.createElement(S.a,{key:e,value:e},e))),c.a.createElement("span",{className:s.selectorLabel,title:a},a)),T=a(1543),N=a.n(T),A=a(13),I=a.n(A),M=a(164),v=a.n(M);class D extends c.a.Component{constructor(...e){super(...e),s()(this,"state",{inputText:"",activeIndex:0}),s()(this,"getHint",(e,t,a)=>{if(!e||!t||!t.length||this.state.selected)return"";return e+(this.props.getHint(t[a]||{})||"").substr(e.length)}),s()(this,"handleInputChange",e=>{this.setState({inputText:e,selected:!1}),this.props.onInputChange(e)}),s()(this,"handleSelect",e=>{this.setState({inputText:this.props.getHint(e),selected:!0}),this.props.onValueChange(e)}),s()(this,"handleActiveIndexChange",e=>{this.setState({activeIndex:e})})}render(){const e=this.state,t=e.inputText,a=e.activeIndex,n=this.props.classNames,s=I()(N.a);return c.a.createElement(v.a,{placeholder:this.props.placeholder,maxVisible:10,inputValue:t,onInputChange:this.handleInputChange,hintValue:this.getHint(t,this.props.suggestions,a),onSelect:this.handleSelect,onActiveIndexChange:this.handleActiveIndexChange,className:n.typeahead||s.typeahead,inputContainerClassName:n.typeaheadInputContainer||s.typeaheadInputContainer,inputClassName:n.typeaheadInput||s.typeaheadInput,inputHintClassName:n.typeaheadInputHint||s.typeaheadInputHint,dropDownClassName:n.typeaheadDropDown||s.typeaheadDropDown},this.props.suggestions.map((e,t)=>c.a.createElement(M.Option,{key:t,className:n.typeaheadOption||s.typeaheadOption,value:e},this.props.getHint(e))))}}s()(D,"defaultProps",{suggestions:[],classNames:{},getHint:e=>e});var O=D,k=a(438),R=a(2);function w({i13nModel:e}){return{type:R.yh,i13nModel:e}}function P({i13nModel:e}){return{type:R.Mf,i13nModel:e}}function x({i13nModel:e}){return{type:R.xh,i13nModel:e}}function F({i13nModel:e}){return{type:R.kb,i13nModel:e}}var L=a(57),B=a.n(L),U=a(1343),H=a.n(U),j=a(19),G=a(22),W=a(209);const Z=(e,t)=>{const a=t.getThemeMode(),n=a===G.h.DARK||a===G.h.MEDIUM,s=t.getCss(H.a,{isDarkTheme:n});return c.a.createElement("div",{"data-test-id":"right-rail-travel-card",className:s.container},e.header?c.a.createElement("div",{className:s.header},c.a.createElement("span",{className:s.headerText},e.header),c.a.createElement("span",{className:s.partnerAttributionIcon},c.a.createElement(W.a,{isOnDarkBackground:n,noVigLinkCheck:!0}))):null,c.a.createElement("div",{className:e.headerClassName,onClick:e.onLogoClick},c.a.createElement("div",{className:s.icon},c.a.createElement(E.b,{kind:e.iconKind,size:C.d.XXS,colorState:C.a.INVERTED}),c.a.createElement("div",{className:s.title},e.title)),c.a.createElement("img",{src:e.logoUrl,className:s.partnerLogo})),e.children,e.buttonText?c.a.createElement(j.a,{"data-test-id":"submit-button",title:e.buttonText,onClick:e.onSubmit,className:s.submitButton},e.buttonText):null)};Z.contextTypes={getCss:r.a.func,getThemeMode:r.a.func};var V=Z,q=a(7),z=a(14),Y=a(479),K=a(45),X=a(10),Q=a(122);const J=Object(_.defineMessages)({search_hotels:{id:"hotel_card.search_hotels",defaultMessage:"Search hotels"},yahoo_travel_deals:{id:"travel_card.title",defaultMessage:"Yahoo Travel Deals"},hotel:{id:"hotel_card.hotel",defaultMessage:"Hotel"},adults:{id:"hotel_card.adults",defaultMessage:"Adults(18+)"},children:{id:"hotel_card.children",defaultMessage:"Children"},destination:{id:"hotel_card.destination",defaultMessage:"Destination"}});class $ extends c.a.Component{constructor(...e){super(...e),s()(this,"state",{destination:"",startDate:new Date,endDate:new Date(Date.now()+Y.e),adults:1,children:0,searchURL:""}),s()(this,"getLocationSuggestions",e=>this.props.locationSuggestions[e]||[]),s()(this,"setDestinationInfo",e=>{this.setState({destination:this.isHipmunk?e.display_name:e.label,searchURL:this.isHipmunk?"":`${e.url}&`})}),s()(this,"onDestinationInputChange",e=>{this.DestinationKeyword=e,!this.props.locationSuggestions[e]&&e&&(this.isHipmunk||e.length>2)&&this.props.requestLocationSearchSuggestions(e,this.props.partner)}),s()(this,"submitToPartnerSite",()=>{let e={};const t=this.state,a=t.startDate,n=t.endDate,s=t.adults,i=t.children;e=this.isHipmunk?{where:t.destination,check_in:a.toDateString(),check_out:n.toDateString(),guests:s+i,rooms:1}:{checkin:`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,checkout:`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()}`,group_adults:s,group_children:i,no_rooms:1},this.navigateToPartnerSite(B.a.stringify(e))}),s()(this,"setStartDate",e=>{this.setState(this.state.endDate-e<Y.e?{startDate:e,endDate:new Date(e.getTime()+Y.e)}:{startDate:e})}),s()(this,"setEndDate",e=>{this.setState(e<this.state.startDate?{startDate:e,endDate:e}:{endDate:e})}),s()(this,"navigateToPartnerSite",(e="")=>{let t=this.isHipmunk?Y.f:e&&this.state.searchURL?this.state.searchURL:`${Y.a}&`;this.props.navigateToPartnerSite(this.isHipmunk?w:x,{i13nModel:{mKey:this.isHipmunk?q.e.NAVIGATE_TO_HIPMUNK:q.e.NAVIGATE_TO_BOOKING,sec:q.g.RIGHT_RAIL_TRAVEL_CARD,interactionType:q.d.click}}),this.isHipmunk||(t+=`label=${this.props.isTravelSmartView?Y.d:Y.c}&`),Object(Q.a)(t+e)}),s()(this,"renderForm",()=>{const e=this.props,t=e.arrivalDate,a=e.departureDate,n=e.arrivalAirportDesc,s=this.context.getThemeMode(),i=s===G.h.DARK||s===G.h.MEDIUM,r=this.context.getCss(p.a,{isDarkTheme:i}),o=this.context.intl.formatMessage;return c.a.createElement("form",{className:r.form,"data-test-id":"hotels-card-form"},c.a.createElement("div",{className:r.formRow},c.a.createElement("div",{className:r.locationSelector,"data-test-id":"destination-field"},c.a.createElement(E.b,{kind:C.b.LOCATION_MARKER,size:C.d.XXS,colorState:C.a.INHERITED}),c.a.createElement(O,{placeholder:n||o(J.destination),classNames:r,suggestions:this.getLocationSuggestions(this.DestinationKeyword),onInputChange:this.onDestinationInputChange,onValueChange:this.setDestinationInfo,getHint:e=>this.isHipmunk?e.display_name:e.label}))),c.a.createElement("div",{className:r.formRow,"data-test-id":"date-field"},c.a.createElement("div",{className:r.formColumnUnderline},c.a.createElement(b.a,{classNames:r,value:a||this.state.startDate,onStartEdit:()=>{},onDoneEdit:()=>{},onChange:e=>this.setStartDate(e)})),c.a.createElement("span",{className:r.arrow},c.a.createElement(E.b,{kind:C.b.ARROW_UP,size:C.d.XS,colorState:C.a.INHERITED})),c.a.createElement("div",{className:r.formColumnUnderline},c.a.createElement(b.a,{classNames:r,value:t||this.state.endDate,onStartEdit:()=>{},onDoneEdit:()=>{},onChange:e=>this.setEndDate(e),popoverAlign:z.a.END}))),c.a.createElement("div",{className:r.formRow},c.a.createElement("div",{className:r.formColumn,"data-test-id":"adults-selector"},c.a.createElement(y,{onChange:e=>this.setState({adults:e}),selected:this.state.adults,classNames:r,options:[1,2,3,4,5,6],label:o(J.adults),arrowDownColor:i&&C.a.INVERTED_LESS_DIM})),c.a.createElement("span",{className:r.divider}),c.a.createElement("div",{className:r.formColumn,"data-test-id":"children-selector"},c.a.createElement(y,{onChange:e=>this.setState({children:e}),selected:this.state.children,classNames:r,options:[0,1,2,3,4,5],label:o(J.children),arrowDownColor:i&&C.a.INVERTED_LESS_DIM}))))})}componentWillMount(){this.isHipmunk=this.props.partner===Y.h.HIPMUNK}componentDidMount(){this.props.cardRendered(this.isHipmunk?P:F,{i13nModel:{mKey:this.isHipmunk?q.e.HIPMUNK_CARD_RENDERED:q.e.BOOKING_CARD_RENDERED,sec:q.g.RIGHT_RAIL_TRAVEL_CARD,interactionType:q.d.nav}})}render(){const e=this.context.getCss(p.a),t=this.context.intl.formatMessage,a=this.isHipmunk?Y.g:Y.b;return c.a.createElement(V,{header:t(J.yahoo_travel_deals),title:t(J.hotel),logoUrl:Object(K.a)(a),onSubmit:this.submitToPartnerSite,buttonText:t(J.search_hotels),headerClassName:e.hotelCardHeader,iconKind:C.b.HOTELS,onLogoClick:this.navigateToPartnerSite},this.renderForm())}}s()($,"contextTypes",{getCss:r.a.func,intl:_.intlShape.isRequired,store:r.a.object,getThemeMode:r.a.func});var ee=Object(o.connect)(e=>{const t=Object(d.b)(e),a=t.getFlightsSelectors,n=t.getTravelCardListItems,s=t.getFeaturesSelectors,i=t.getLocationSuggestionSelectors,r=t.getSmartViewTypeFromRoute,o=(0,t.getRoute)(),l=Object(X.w)(o),c=s().isEnabled,_=c(m.ub.CONVERSATIONS),u=c(m.ub.HOTELS_CARD_PREFILL),p=Date.now(),h=u?n(l,_,p):"",g=h&&h.length?h[0].id:"",E=a(),b=g?(0,E.getFlightCard)(g):"",C=b.arrivalTime,f=b.departureTime,S=b.arrivalAirportDesc,y=C?new Date(C):null,T=f?new Date(f):null,N=r(o)===m.Kd.TRAVEL;return{locationSuggestions:i().getLocationSuggestionsMap(),arrivalDate:y,departureDate:T,arrivalAirportDesc:S,isTravelSmartView:N}},e=>({requestLocationSearchSuggestions:g()((t,a)=>e(Object(k.c)({query:{keyword:t,product:"hotels"},partner:a})),200),navigateToPartnerSite:(t,a)=>e(t(a)),cardRendered:(t,a)=>e(t(a))}))($),te=a(4),ae=a.n(te),ne=a(1544),se=a.n(ne);a(9);var ie=({iconKind:e,title:t,onClick:a,className:n})=>c.a.createElement("div",{onClick:a,className:n},c.a.createElement(E.b,{kind:e,size:C.d.XS,colorState:C.a.INHERITED}),c.a.createElement("span",null,t));const re={ENTER:13},oe=Object(_.defineMessages)({sports:{id:"ticket_card.sports",defaultMessage:"Sports"},concerts:{id:"ticket_card.concert",defaultMessage:"Concerts"},theaters:{id:"ticket_card.theaters",defaultMessage:"Theaters"},searchByCity:{id:"ticket_card.search_by_city",defaultMessage:"Search by city"},browseByCategory:{id:"ticket_card.browse_by_category",defaultMessage:"Browse by category"},ticket:{id:"ticket_card.ticket",defaultMessage:"Ticket"}});class le extends c.a.Component{constructor(){super(),this.city="",this.handleCityInputChange=g()(this.handleCityInputChange.bind(this),200),this.setCity=this.setCity.bind(this),this.searchByCity=this.searchByCity.bind(this),this.navigateToSeatgeek=this.navigateToSeatgeek.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={citySuggestions:Y.k}}handleCityInputChange(e){this.inputValue=e;const t=Y.k.filter(t=>-1!==t.name.toLowerCase().indexOf(e.toLowerCase()));this.setState({citySuggestions:t})}handleInputKeyDown(e){e.keyCode!==re.ENTER||0!==this.state.citySuggestions.length&&!this.city?this.city="":this.searchByCity()}setCity(e){this.city=e.value}navigateToSeatgeek(e=Y.j,t={}){this.props.navigateToSeatgeek({i13nModel:{mKey:q.e.NAVIGATE_TO_SEATGEEK,sec:q.g.RIGHT_RAIL_TRAVEL_CARD,interactionType:q.d.click,actionData:{url:e,query:t}}}),Object(Q.a)(`${e}?${B.a.stringify(ae()({},t,{aid:Y.i}))}`)}searchByCity(){this.city?this.navigateToSeatgeek(Y.l+this.city):this.navigateToSeatgeek(Y.n,{f:1,search:this.inputValue})}renderSearchBar(e){return c.a.createElement("div",{onKeyDown:this.handleInputKeyDown,className:e.searchBar},c.a.createElement(O,{placeholder:(0,this.context.intl.formatMessage)(oe.searchByCity),classNames:e,suggestions:this.state.citySuggestions,onInputChange:this.handleCityInputChange,onValueChange:this.setCity,getHint:e=>e.name}),c.a.createElement("div",{className:e.searchBarIcon,onClick:this.searchByCity},c.a.createElement(E.b,{kind:C.b.SEARCH,size:C.d.S,colorState:C.a.INVERTED})))}renderForm(e){const t=this.context.intl.formatMessage;return c.a.createElement("div",{className:e.form},this.renderSearchBar(e),c.a.createElement("span",{className:e.categorySearchTitle},t(oe.browseByCategory)),c.a.createElement("div",{className:e.buttonGroup},c.a.createElement(ie,{iconKind:C.b.SPORTS,title:t(oe.sports),className:e.ticketCardButton,onClick:()=>this.navigateToSeatgeek(Y.o)}),c.a.createElement(ie,{iconKind:C.b.CONCERTS,title:t(oe.concerts),className:e.ticketCardButton,onClick:()=>this.navigateToSeatgeek(Y.m)}),c.a.createElement(ie,{iconKind:C.b.THEATERS,title:t(oe.theaters),className:e.ticketCardButton,onClick:()=>this.navigateToSeatgeek(Y.p)})))}componentDidMount(){this.props.seatgeekCardRendered({i13nModel:{mKey:q.e.SEATGEEK_CARD_RENDERED,sec:q.g.RIGHT_RAIL_TRAVEL_CARD,interactionType:q.d.nav}})}render(){const e=this.context.getThemeMode(),t=e===G.h.DARK||e===G.h.MEDIUM,a=I()(se.a,{isDarkTheme:t}),n=this.context.intl.formatMessage;return c.a.createElement(V,{logoUrl:Object(K.a)("/img/logo_seatgeek.png"),title:n(oe.ticket),headerClassName:a.ticketCardHeader,iconKind:C.b.TICKETS,onLogoClick:()=>this.navigateToSeatgeek()},this.renderForm(a))}}le.contextTypes={intl:_.intlShape.isRequired,getThemeMode:r.a.func};var ce=Object(o.connect)(null,e=>({navigateToSeatgeek:t=>e(function({i13nModel:e}){return{type:R.Ah,i13nModel:e}}(t)),seatgeekCardRendered:t=>e(function({i13nModel:e}){return{type:R.Zi,i13nModel:e}}(t))}))(le);a.d(t,"TravelCardsGroup",function(){return de});class de extends c.a.Component{render(){const e=this.props,t=e.hipmunkCard,a=e.bookingCard,n=e.seatgeekCard,s=a?Y.h.BOOKING:Y.h.HIPMUNK,i=this.context.getCss(H.a);return c.a.createElement("div",{className:i.travelCardsContainer},t||a?c.a.createElement(ee,{key:"HotelsCard",partner:s}):null,n?c.a.createElement(ce,{key:"SeatgeekCard"}):null)}}s()(de,"contextTypes",{getCss:r.a.func});t.default=Object(o.connect)(e=>{const t=Object(d.b)(e).isFeatureEnabled;return{hipmunkCard:t(m.ub.HIPMUNK_CARD),bookingCard:t(m.ub.BOOKING_CARD),seatgeekCard:t(m.ub.SEATGEEK_CARD)}})(de)},function(e,t,a){"use strict";a.r(t);a(8);var n=a(1),s=a.n(n),i=a(480),r=a.n(i),o=a(1191),l=a.n(o),c=a(33),d=a.n(c),m=a(18),_=a(1273),u=a(1254),p=a(88),h=(a(42),a(12));var g=class extends s.a.Component{render(){const e=this.props.size,t=this.props,a=t.cardId,n=t.cardUrl,i=t.embedUrl,r=t.thumbnailUrl,o=t.hasThumbnail,l=t.cardType,c=t.primaryRichInformation,d=t.secondaryRichInformation,m=t.cardTitle,_=t.cardDescription,g=t.domainStyles.domainLogo,E=u.a[e],b=E.maxWidth,C=E.titleMaxLength,f=E.descriptionMaxLength,S=E.thumbnailHeight,y=E.thumbnailWidth,T=E.upperSectionHeight,N=E.domainLogoHeight,A=E.domainLogoWidth,I=E.cardBorderRadius,M=void 0===I?0:I,v=Object(p.f)(m,C),D=Object(p.f)(_,f),O="rgb(224, 228, 233)";return s.a.createElement("div",{id:a,className:"yahoo-link-enhancr-card "+`${o||e!==u.b.MEDIUM?"":"yahoo-link-enhancr-not-allow-cover "}`+"ymail-preserve-class ymail-preserve-style",style:Object.assign({maxWidth:`${b}px`,fontFamily:h.BASE_FONT_STACK},e===u.b.MINI?{display:"inline-block"}:{},e===u.b.APPEND?{margin:"5px 5px 5px 0",display:"inline-block"}:{}),"data-url":n,"data-embed-url":i,"data-type":l,"data-size":e},s.a.createElement("a",{href:n,style:{textDecoration:"none !important",color:"#000 !important"},className:"yahoo-enhancr-cardlink",target:"_blank",rel:"noreferrer"},e===u.b.MINI||e===u.b.APPEND?s.a.createElement("table",{className:"card yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:b,height:T,style:{borderWidth:"1px",borderStyle:"solid",borderColor:`${O}`,width:`${b}px`,backgroundColor:"#fff",borderRadius:`${M}px`}},s.a.createElement("tbody",null,s.a.createElement("tr",null,o?s.a.createElement("td",{width:`${y}px`,style:{width:`${y}px`,backgroundColor:"#000",borderRadius:`${M}px 0 0 ${M}px`,borderRight:`1px solid ${O}`}},s.a.createElement("img",{src:r,width:y,height:S,style:{width:`${y}px`,verticalAlign:"middle",borderRadius:`${M}px 0 0 ${M}px`}})):null,s.a.createElement("td",{width:"10px",style:{width:"10px"}}),s.a.createElement("td",null,g?s.a.createElement("img",{className:"card-object",src:g,width:A,height:N}):null,s.a.createElement("h2",{className:"card-title",style:{fontSize:"14px",lineHeight:"16px",color:"#26282a",fontFamily:h.BASE_FONT_STACK,textDecoration:"none !important",margin:"4px 0",wordBreak:"break-word"}},v))))):s.a.createElement("table",{className:"card-wrapper yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{maxWidth:`${b}px`}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{width:b},s.a.createElement("table",{className:"card yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%",style:{maxWidth:`${b}px`,borderWidth:"1px",borderStyle:"solid",borderColor:`${O}`,borderRadius:`${M}px`}},s.a.createElement("tbody",null,o?s.a.createElement("tr",null,s.a.createElement("td",{className:"card-primary-image-cell",height:`${S}`,style:{backgroundColor:"rgb(0, 0, 0)",backgroundRepeat:"no-repeat",backgroundPosition:"top center",backgroundSize:"cover",height:`${S}px`,position:"relative",borderRadius:`${M}px ${M}px 0 0`}},s.a.createElement("span",{className:"card-primary-image-outlook-replace"}),s.a.createElement("table",{className:"card-overlay-container-table yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{width:"100%"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"card-overlay-cell",style:{backgroundColor:"transparent",height:`${S}px`,borderRadius:`${M}px ${M}px 0 0`}},s.a.createElement("span",{className:"card-overlay-outlook-replace"}),s.a.createElement("table",{className:"yahoo-ignore-table",height:T,style:{width:"100%",height:`${T}px`,minHeight:`${T}px`}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"card-richInfo2",style:{textAlign:"left",padding:"15px 0 0 15px",verticalAlign:"top"}},d&&d.currencySymbol&&d.price?s.a.createElement("span",{style:{color:"#fff",fontSize:"16px",fontWeight:"600"}},`${d.currencySymbol}${d.price}`):null),s.a.createElement("td",{className:"card-actions",style:{textAlign:"right",padding:"15px 15px 0 0",verticalAlign:"top"}},s.a.createElement("div",{className:"card-share-container"}))))),s.a.createElement("span",{className:"closing-outlook-replace"}))))))):null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("table",{className:"card-info yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{background:"#fff",position:"relative",zIndex:2,width:"100%",maxWidth:`${b}px`,borderRadius:`0 0 ${M}px ${M}px`,borderTop:`1px solid ${O}`}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{style:{backgroundColor:"#ffffff",padding:"16px 0 16px 12px",verticalAlign:"top",borderRadius:`0 0 0 ${M}px`}},g?s.a.createElement("img",{className:"card-object-1 yahoo-ignore-inline-image ymail-preserve-class",src:g,height:N,style:{minWidth:`${A}px`,marginTop:"3px"}}):null),s.a.createElement("td",{style:{verticalAlign:"middle",padding:"12px 24px 16px 12px",width:"99%",fontFamily:h.BASE_FONT_STACK,borderRadius:`0 0 ${M}px 0`}},s.a.createElement("h2",{className:"card-title",style:{fontSize:"14px",lineHeight:"19px",margin:"0 0 6px 0",fontFamily:h.BASE_FONT_STACK,wordBreak:"break-word",color:"#26282a"}},v),c?s.a.createElement("p",{className:"card-richinfo-primary",style:{fontSize:"12px",lineHeight:"16px",margin:"0 0 4px 0",color:"#979ba7"}},c):null,s.a.createElement("p",{className:"card-description",style:{fontSize:"12px",lineHeight:"16px",margin:"0",color:"#979ba7",wordBreak:"break-word"}},D)))))))))))))))}},E=a(73),b=a(264),C=a(186);class f{constructor(e){this._processConfig(e)}_processConfig(e){this.size=e.size,this.cardId=e.cardId,this.cardUrl=e.cardUrl,this.embedUrl=e.embedUrl,this.type=e.type,this.primaryRichInformation="article"===this.type?e.author:void 0,this.secondaryRichInformation=e.offer,this.cardType=u.c.YENHANCER,this.linkInfo=e.linkInfo,this._processThumbnailForCard()}_processThumbnailForCard(){this.thumbnailUrl=this._getThumbnailUrl(this.linkInfo),this.hasThumbnail=!!this.thumbnailUrl,this.hasThumbnail&&this._checkIfThumbnailLoads()}_checkIfThumbnailLoads(){const e=E.a.feature("link_enhancer_mrs_load"),t=new Image;t.onerror=()=>{this.hasThumbnail=!1,e.logFailure()},t.onload=()=>{this.hasThumbnail=!0,e.logLatency()},t.src=this.thumbnailUrl}_getThumbnailUrl(e){const t=e.images;if(t&&t.thumbnails){const e=t.thumbnails[u.d[this.size]];if(e)return e.url}}updateSize(e){this.size=e,this._processThumbnailForCard()}_fixMarkup(e){return e=this._addDeprecatedMarkup(e)}_addDeprecatedMarkup(e){const t=this.size,a=this.thumbnailUrl;return this.hasThumbnail&&t!==u.b.MINI&&t!==u.b.APPEND&&(e=(e=(e=(e=e.replace(/<td class="card-primary-image-cell"/,`<td class="card-primary-image-cell" background="${Object(b.a)(a)}" bgcolor="#000000" valign="top"`)).replace(/<table class="card-overlay-container-table yahoo-ignore-table"/,'<table class="card-overlay-container-table yahoo-ignore-table" valign="top"')).replace(/<td class="card-overlay-cell"/,'<td class="card-overlay-cell" background="https://s.yimg.com/cv/ae/nq/storm/assets/enhancrV21/1/enhancr_gradient-400x175.png" bgcolor="transparent" valign="top"')).replace(/<table class="card-info yahoo-ignore-table"/,'<table align="center" class="card-info yahoo-ignore-table"'),e=this._addOutlookConditionalComments(e)),e=this._addDeprecatedTableBorder(e)}_addDeprecatedTableBorder(e){return e.replace(/<table/g,'<table border="0"')}_addOutlookConditionalComments(e){const t=this.thumbnailUrl,a=u.a[this.size],n=a.maxWidth,s=a.outlookThumbnailHeight;return e=(e=(e=e.replace(/<span class="card-primary-image-outlook-replace"><\/span>/,'\x3c!--[if gte mso 9]><v:rect fill="true" stroke="false" '+`style="width:${n-4}px;height:${s}px;position:absolute;top:0;left:0;">`+`<v:fill type="frame" color="#000000" src="${Object(b.a)(t)}"/></v:rect><![endif]--\x3e`)).replace(/<span class="card-overlay-outlook-replace"><\/span>/,'\x3c!--[if gte mso 9]><v:rect fill="true" stroke="false" '+`style="width:${n-4}px;height:${s}px;`+'position:absolute;top:-18px;left:0;"><v:fill type="pattern" color="#000000" src="https://s.yimg.com/cv/ae/nq/storm/assets/enhancrV21/1/enhancr_gradient-400x175.png"/><v:textbox inset="0,0,20px,0"><![endif]--\x3e')).replace(/<span class="closing-outlook-replace"><\/span>/,"\x3c!--[if gte mso 9]></v:textbox></v:rect><![endif]--\x3e")}getCardMarkup(){const e=this.linkInfo,t=r.a.renderToStaticMarkup(s.a.createElement(g,{cardId:this.cardId,size:this.size,cardUrl:this.cardUrl,embedUrl:this.embedUrl,primaryRichInformation:this.primaryRichInformation,secondaryRichInformation:this.secondaryRichInformation,thumbnailUrl:this.thumbnailUrl,hasThumbnail:this.hasThumbnail,cardType:this.cardType,cardTitle:e.title,cardDescription:e.description,domainStyles:e.domainStyles}));return Object(C.purifyToHTML)(this._fixMarkup(t))}getPlaceholderMarkup(){return`<div class="link-enhancr-placeholder ${this.cardId}" />`}}var S=a(3),y=a.n(S),T=a(6);class N extends s.a.Component{getChildContext(){return{intl:this.props.context.intl}}render(){const e={wrapper:{marginTop:10},header:{fontSize:"14px",fontWeight:400,color:"#454545",fontFamily:h.BASE_FONT_STACK,textShadow:"1px 1px 0 rgb(255, 255, 255)",margin:0,padding:`${2*h.GRID_UNIT}px 0`}};return s.a.createElement("div",{className:"enhancr-link-previews ymail-preserve-class ymail-preserve-style",style:e.wrapper},s.a.createElement("h3",{style:e.header},s.a.createElement(T.FormattedMessage,{id:"compose.link_enhancer.preview_header",defaultMessage:"Links in the message {count}",values:{count:s.a.createElement("span",{className:"link-enhancr-preview-count"},"(1)")}})),this.props.children)}}y()(N,"childContextTypes",{intl:T.intlShape.isRequired});var A=N,I=a(54),M=a(7),v=a(30),D=a(189);const O=/<iframe[^>]+src=(\\?["'])(https:\/\/(?:[\w\-.~:\/?#[\]@!$&'()*+,;=]|%[a-f0-9]{2})+)\1[^>]*>[^<]*<\/iframe>/im,k=/(enhancr_card_\d+)/,R="loadingSpinnerContainer";var w=a(77);const P=v.INLINE_IMAGE_PLUGIN_CLASSES.GIF_WRAPPER_CLASS,x=v.INLINE_IMAGE_PLUGIN_CLASSES.INLINE_IMAGE_CLASS,F=v.INLINE_IMAGE_PLUGIN_CLASSES.IGNORE_CLASS,L=v.INLINE_IMAGE_PLUGIN_SIZE.TINY_IMAGE_WIDTH,B=v.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_SMALL_WIDTH,U=v.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_BIG_WIDTH,H=v.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_BIG_PERCENTAGE,j=v.INLINE_IMAGE_PLUGIN_SIZE.IMAGE_SMALL_PERCENTAGE,G=`img:not([class*="${F}"])`,W='img[src^="data:"]';const Z={InlineImagePlugin:class{constructor(e){this._overlay=e._overlay,this._rte=e.rte,this._smallImagesSizeMap={},this._getAttachmentInfo=e.getAttachmentInfo,this._onImagePaste=e.onImagePaste,this._onImageRemove=e.onImageRemove,this._updateImgHoverOverlayProp=e.updateImgHoverOverlayProps,this._mouseoverCallback=this.mouseoverCallback.bind(this)}contentChanged(e){if("sethtml"===e){const e=this._rte.element;[].forEach.call(e.querySelectorAll(G),e=>{this._addEventListenersForInlineImage(e),e.draggable=!1}),[].forEach.call(e.querySelectorAll(`div[class*="${P}"]`),e=>{const t=e.querySelector("img");t&&this._addEventListenersForInlineImage(t),e.setAttribute("contenteditable",!1)}),this.displayLoadingIndicatorForImages()}}_onImageLoaded(e){e.classList.remove(v.IMAGE_STATUS.loading),document.body.contains(e)&&this._addEventListenersForInlineImage(e)}isImageFetched(e,t){e.complete||e.naturalWidth?t(e):setTimeout(()=>this.isImageFetched(e,t),100)}displayLoadingIndicatorForImages(){[].forEach.call(this._rte.element.querySelectorAll(`img:not([class="${v.IMAGE_STATUS.loading}"]):not([class*="${F}"])`),e=>{e.complete||(e.classList.add(v.IMAGE_STATUS.loading),this.isImageFetched(e,this._onImageLoaded.bind(this)))})}setOverylayNode(e){this._overlay=e}resizeHoverImage(e){const t=this._hoverImageEl.getAttribute("data-id");if(Math.round(this._hoverImageEl.clientWidth)<=B){const a=this._smallImagesSizeMap[t];void 0!==a?(Object.assign(this._hoverImageEl.style,{width:`${e===v.CURRENT_IMAGE_SIZE_STATUS.SMALL?j:H}`,maxWidth:`${e===v.CURRENT_IMAGE_SIZE_STATUS.SMALL?a:B}px`}),e===v.CURRENT_IMAGE_SIZE_STATUS.SMALL&&this._hoverImageEl.clientWidth<a&&(this._hoverImageEl.style.width=a+"px")):e===v.CURRENT_IMAGE_SIZE_STATUS.SMALL?Object.assign(this._hoverImageEl.style,{width:j,maxWidth:Math.min(B,this._hoverImageEl.naturalWidth)+"px"}):e===v.CURRENT_IMAGE_SIZE_STATUS.LARGE&&Object.assign(this._hoverImageEl.style,{width:H,maxWidth:Math.min(U,Math.max(this._hoverImageEl.naturalWidth,B))+"px"})}else e===v.CURRENT_IMAGE_SIZE_STATUS.SMALL&&Object.assign(this._hoverImageEl.style,{width:j,maxWidth:`${B}px`});this._rte.contentChanged({type:D.a.isGif(this._hoverImageEl)?v.EDITOR_EVENTS.gif_resized:v.EDITOR_EVENTS.inline_image_resized,eventData:{size:e}}),this._hoverImageEl=null}onContentMutated(e,t,a){t.length&&this.onDOMNodesAdded(t),a.length&&this.onDOMNodesRemoved(a)}onDOMNodesRemoved(e){e.forEach(e=>{const t=e.tagName,a=e.className,n=void 0===a?"":a,s=e.getAttribute?e.getAttribute("data-id"):e.dataset&&e.dataset.id;"IMG"===t&&s&&-1!==n.indexOf(x)&&(this._rte.element.querySelector(`img[class*="${x}"][data-id="${s}"]`)||this._onImageRemove(s))})}onDOMNodesAdded(e){e.forEach(e=>{if(!e.querySelector||"BR"===e.tagName||"EM"===e.tagName||"FONT"===e.tagName||"STRONG"===e.tagName)return;const t="IMG"===e.tagName?[e]:e.querySelectorAll(G);[].forEach.call(t,e=>{e.setAttribute("data-inlineimagemanipulating",!0);const t=e.getAttribute("data-id"),a=this._getAttachmentInfo().find(({contentId:e})=>t===e);this._addEventListenersForInlineImage(e),a&&(e.setAttribute("data-id",a.contentId),e.src=a.downloadUrl),e.complete||(e.classList.add(v.IMAGE_STATUS.loading),this.isImageFetched(e,this._onImageLoaded.bind(this)))})})}_addEventListenersAndAdjustSize(e){this._isTinyImage(e)||e.classList.contains(v.IMAGE_STATUS.loading)||(this._autoAdjustImageSize(e),e.addEventListener("mouseover",this._mouseoverCallback))}_addEventListenersForInlineImage(e){e.setAttribute("data-inlineimagemanipulating",!0),e.complete?this._addEventListenersAndAdjustSize(e):e.onload=this._addEventListenersAndAdjustSize.bind(this,e)}_isTinyImage(e){const t=e.clientWidth;return t&&t<L}_autoAdjustImageSize(e){if(e.hasAttribute("width")||e.hasAttribute("height")){const t=Math.round(this._rte.element.clientWidth);let a=e.getAttribute("width");return a=a?a>Math.min(t,U)?H:`${a}px`:e.style.width,Object.assign(e.style,{minHeight:"",height:"",width:a,maxWidth:`${Math.min(U,e.naturalWidth,t)}px`}),e.removeAttribute("width"),void e.removeAttribute("height")}const t=e.naturalWidth,a=e.clientWidth;t<B||a<B?(e.hasAttribute("data-id")||e.setAttribute("data-id",Date.now()),this._smallImagesSizeMap[e.getAttribute("data-id")]=Math.min(t,a)):e.style.width&&e.style.maxWidth||Object.assign(e.style,{width:H,maxWidth:Math.min(U,t)+"px",minHeight:"",height:""}),(e.style.height||e.style.minHeight)&&Object.assign(e.style,{minHeight:"",height:""})}mouseoverCallback(e){if(this._hoverImageEl=e.target,D.a.fixOverlayPosition({hoveredElement:this._hoverImageEl,overlay:this._overlay,scrollableContainer:this._scrollableArea,editor:this._rte}),"IMG"===this._hoverImageEl.nodeName){this._hoverImageEl.removeAttribute("data-inlineimagemanipulating");const e=this._hoverImageEl.getAttribute("data-id"),t=v.CURRENT_IMAGE_SIZE_STATUS.SMALL,a=v.CURRENT_IMAGE_SIZE_STATUS.LARGE;this._updateImgHoverOverlayProp({imageSize:this._hoverImageEl.style.width===H?a:t,showSendAsAttachmentBtn:this._getAttachmentInfo().some(({contentId:t})=>t===e),hoveredImage:this._hoverImageEl})}}setScrollableArea(e){this._scrollableArea||(this._scrollableArea=e)}onPaste(e){const t=e.pastedFiles||[];[].slice.call(this._rte.element.querySelectorAll(W)).forEach(e=>{const a=Object(w.getFileFromDataURI)(e.src),n=URL.createObjectURL(a);a.downloadLink=n,t.push(a),e.src=n,e.classList.add(x)}),t.length>0&&this._onImagePaste(t)}},StationeryPlugin:a(1354).a,LinkEnhancerPlugin:class{constructor(e){this._rte=e.rte,this._overlay=e.overlay,this.blacklist=e.blacklist||[],this.enhancedLinks=e.enhancedLinks||{},this._scrollableArea=e.scrollableArea,this.onCardHovered=e.onCardHovered,this.context=e.context,this.linkEnhancerFetch=e.linkEnhancerFetch,this.onLinkEnhancerlinkRemoved=e.onLinkEnhancerlinkRemoved,this.onLinkEnhancerlinkMoveToInline=e.onLinkEnhancerlinkMoveToInline,this.onLinkEnhancerlinkAdded=e.onLinkEnhancerlinkAdded,this.onLinkEnhancerlinkResized=e.onLinkEnhancerlinkResized,this.onLinkEnhancerlinkMoveToBottom=e.onLinkEnhancerlinkMoveToBottom,this.enhancerCards={},this.previewCards={},this._findAndEnhanceCards()}handleNewAnchor(e){const t=e.hasAttribute("href")?e.getAttribute("href").trim():"";if(/^https?:/i.test(t)&&!this.enhancerCards[t]){for(const e in this.blacklist)if(RegExp(this.blacklist[e]).test(t))return;this.enhancedLinks[t]?this._renderNewAnchor(t):this._fetchEnhancerCard(t)}}_renderNewAnchor(e){if(this.enhancerCards[e])return;const t=this._generateCardId(),a=this._getEnhancerProps(e,t),n=this._rte.element.querySelectorAll('a[href*="'+Object(_.c)(e)+'"]'),s=n[n.length-1];if(l()(a))return;const i={cardId:t,linkNode:s,originalLinkText:s.textContent};s.textContent===e&&(s.textContent=a.linkInfo.title),s.classList.add(t);const r=new f(a),o=this._createCardNode(r.getCardMarkup());this.enhancerCards[e]=Object.assign(i,{enhancerCard:r,cardNode:o,cardSize:a.size}),this._insertEnhancerAfterLink({linkNode:s,cardNode:o}),this._rte.contentChanged({type:v.EDITOR_EVENTS.link_enhancer_card_added}),this.onLinkEnhancerlinkAdded({i13nModel:{mKey:M.e.LINK_ENHANCER_ADD_LINK,sec:M.g.COMPOSE_MSG,actionData:{mHref:e}}})}contentChanged(e){e&&"sethtml"===e&&this._findAndEnhanceCards()}hasCards(){return Object.keys(this.enhancerCards).length>0}_renderNewlyFetchedLinks(){const e=Object.keys(this.enhancedLinks),t=this._hoveredCard&&this._hoveredCard.getAttribute("data-url");Array.prototype.forEach.call(e,e=>{const a=this.enhancedLinks[e],n=this._rte.element.querySelectorAll('a[href*="'+Object(_.c)(e)+'"]'),s=n[n.length-1];a&&s&&!this.enhancerCards[e]&&this._renderNewAnchor(e),a&&s&&t===e&&this.enhancerCards[e]&&(this.enhancerCards[e].resizePending||this.enhancerCards[e].movePending)&&this._doPendingResizeOrMove(e),a||t!==e||this._hideSpinner(this._hoveredCard)})}_doPendingResizeOrMove(e){const t=this._getEnhancerProps(e,this.enhancerCards[e].cardId);l()(t)||(this.enhancerCards[e].enhancerCard=new f(t),this.enhancerCards[e].resizePending?this.handleResizeCard({newSize:this.enhancerCards[e].cardSize}):this.enhancerCards[e].movePending&&this.handleMoveCardToBottom(),this.enhancerCards[e].resizePending=!1,this.enhancerCards[e].movePending=!1)}_findAndEnhanceCards(){const e=this._rte.element,t=e.querySelectorAll(v.LINK_EHANCER_CARD_SELECTOR);Array.prototype.forEach.call(t,t=>{const a=t.getAttribute("data-url");if(t.contentEditable=!1,t.setAttribute("contenteditable",!1),this._attachHoverEvent(t),!this.enhancerCards[a]){const n=t.getAttribute("id"),s=e.querySelector(`a[class~="${n}"]`),i=e.querySelector(`div[class*="link-enhancr-placeholder"][class*="${n}"]`),r=t.getAttribute("data-size");this.enhancerCards[a]={cardId:n,linkNode:s,placeholderNode:i,cardSize:r}}}),this._findPreviewBox()}_getEnhancerProps(e,t){const a=this.enhancedLinks[e];if(!a||!a.title)return{};const n={cardUrl:e,linkInfo:a,cardId:t,size:u.b.MEDIUM};if(a.video&&(a.video.html||a.video.url))if(a.video.html){const e=O.exec(a.video.html);e&&e[2]&&(n.embedUrl=e[2])}else n.embedUrl=a.video.url;return a.author&&(n.author=a.author),a.offers&&a.offers.length&&(n.offer=a.offers[0]),a.type&&(n.type=a.type),n}getCurrentCardSize(){if(this._hoveredCard)return this._hoveredCard.getAttribute("data-size")}_findPreviewBox(){const e=this._rte.element.querySelector('div[class*="enhancr-link-previews"]');if(e){const t=e.querySelectorAll(v.LINK_EHANCER_CARD_SELECTOR);Array.prototype.forEach.call(t,e=>this.previewCards[e.getAttribute("id")]=!0),this.previewBoxNode=e}}_insertEnhancerAfterLink({linkNode:e,cardNode:t}){const a=e.parentNode===this._rte.element?e:e.parentNode;a.insertAdjacentHTML("afterend","<div><br/></div><div><br/></div>"),"function"==typeof a.insertAdjacentElement?a.insertAdjacentElement("afterend",t):a.parentNode.insertBefore(t,a.nextSibling),a.insertAdjacentHTML("afterend","<div><br/></div>")}handleResizeCard({newSize:e}){if(this._hoveredCard){const t=this._hoveredCard,a=t.getAttribute("data-url"),n=this.enhancerCards[a],s=this.getCurrentCardSize();if(n){n.cardSize=e;const i=n.enhancerCard;this._hideOverlay(),i?this._resizeCard(t,n,e):(n.resizePending=!0,this._fetchEnhancerCard(a,t)),s===u.b.APPEND?this.onLinkEnhancerlinkMoveToInline({i13nModel:{mKey:M.e.LINK_ENHANCER_MOVE_LINK_INLINE,sec:M.g.COMPOSE_MSG,actionData:{mHref:a}}}):this.onLinkEnhancerlinkResized({i13nModel:{mKey:M.e.LINK_ENHANCER_RESIZE_LINK,sec:M.g.COMPOSE_MSG,actionData:{mHref:a,size:e}}})}}}_fetchEnhancerCard(e){this.enhancedLinks[e]?this._renderNewlyFetchedLinks():(this._hoveredCard&&this._showSpinner(this._hoveredCard),this.linkEnhancerFetch({cardUrl:e}))}_resizeCard(e,t,a){const n=t.enhancerCard,s=t.cardId,i=t.linkNode,r=t.placeholderNode;n.updateSize(a);const o=this._createCardNode(n.getCardMarkup());if(this.previewCards.hasOwnProperty(s))if(e.parentNode.removeChild(e),delete this.previewCards[s],this._updatePreviewBoxState(),r&&r.parentNode)r.parentNode.replaceChild(o,r);else if(i&&i.parentNode){let e=i;if(!this._rte.element.contains(i)){const t=i.className.match(k);e=t?this._rte.element.querySelector(`a[class*="${t[0]}"]`):e}this._insertEnhancerAfterLink({linkNode:e,cardNode:o})}else this.previewBoxNode?this.previewBoxNode.insertAdjacentElement("beforebegin",o):this._rte.element.insertAdjacentElement("beforeend",o);else e.parentNode.replaceChild(o,e);this._attachHoverEvent(o),this._rte.contentChanged({type:v.EDITOR_EVENTS.link_enhancer_card_size_changed})}_updatePreviewBoxState(){const e=this._rte.element,t=Object.keys(this.previewCards).length;0===t&&this.previewBoxNode?(this.previewBoxNode.parentNode.removeChild(this.previewBoxNode),this.previewBoxNode=null):t>0&&!this.previewBoxNode&&this._setupPreviewFooter();const a=e.querySelector('span[class*="link-enhancr-preview-count"]');a&&(a.textContent=`(${t})`)}_setupPreviewFooter(){const e=this._rte.element,t=r.a.renderToStaticMarkup(s.a.createElement(A,{context:this.context})),a=document.createElement("div");a.innerHTML=t,this.previewBoxNode=a.firstChild,e.insertAdjacentElement("beforeend",this.previewBoxNode)}handleRemoveCard(){if(this._hoveredCard){const e=this._hoveredCard,t=e.getAttribute("data-url"),a=this.enhancerCards[t];if(a){const n=a.enhancerCard,s=a.linkNode,i=a.placeholderNode,r=a.cardId,o=a.originalLinkText;this._hideOverlay(),n&&delete a.enhancerCard,e.parentNode.removeChild(e),this.previewCards.hasOwnProperty(r)&&(delete this.previewCards[r],this._updatePreviewBoxState()),s&&document.body.contains(s)&&(s.textContent=o||s.href,s.classList.remove(r)),i&&document.body.contains(i)&&i.parentNode.removeChild(i),this._rte.contentChanged({type:v.EDITOR_EVENTS.link_enhancer_card_removed}),this.onLinkEnhancerlinkRemoved({i13nModel:{mKey:M.e.LINK_ENHANCER_REMOVE_LINK,sec:M.g.COMPOSE_MSG,actionData:{mHref:t}}})}}}handleMoveCardToBottom(){if(this._hoveredCard){const e=this._hoveredCard,t=e.getAttribute("data-url"),a=this.enhancerCards[t];a&&(a.enhancerCard?this._moveCardToBottom(e,a):(a.movePending=!0,this._fetchEnhancerCard(t,e))),this.onLinkEnhancerlinkMoveToBottom({i13nModel:{mKey:M.e.LINK_ENHANCER_MOVE_LINK_BOTTOM,sec:M.g.COMPOSE_MSG,actionData:{mHref:t}}})}}_moveCardToBottom(e,t){const a=t.enhancerCard;this.previewCards[t.cardId]=!0,this._updatePreviewBoxState(),a.updateSize(u.b.APPEND);const n=this._createCardNode(a.getCardMarkup()),s=this._createCardNode(a.getPlaceholderMarkup());t.placeholderNode=s,this.previewBoxNode.insertAdjacentElement("beforeend",n),e.parentNode.replaceChild(s,e),this._rte.contentChanged({type:"link_enhancer_card_moved"})}_showSpinner(e){if(!e.querySelector(`div.${R}`)){"relative"!==e.style.position&&(e.style.position="relative");const t=document.createElement("div");t.classList.add(R),Object.assign(t.style,{position:"absolute",top:"0px",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.3)"}),e.appendChild(t);const a=r.a.renderToStaticMarkup(s.a.createElement(I.b,{size:I.a.M}));t.insertAdjacentHTML("beforeend",a)}}_hideSpinner(e){const t=e.querySelector(`div.${R}`);t&&e.removeChild(t)}setScrollableArea(e){this._scrollableArea=e}setEnhancedLinks(e){d()(e,this.enhancedLinks)||(this.enhancedLinks=e,this._renderNewlyFetchedLinks())}_hideOverlay(){this._overlay&&Object.assign(this._overlay.style,{position:"absolute",top:"-5000px"})}setOverylayNode(e){this._overlay=e}onContentMutated(e,t,a){t&&t.forEach(e=>{if("A"===e.tagName)this.handleNewAnchor(e);else if(e.className&&-1!==e.className.indexOf("pasted-link")&&e.querySelectorAll){e.removeAttribute("class");const t=e.querySelectorAll("a"),a=t[t.length-1];a&&this.handleNewAnchor(a)}}),a.length&&this.onDOMNodesRemoved(a)}onDOMNodesRemoved(e){Object.keys(this.enhancerCards).map(e=>this.enhancerCards[e].cardNode).some(t=>e.some(e=>{if("function"==typeof e.contains&&e.contains(t))return this._hideOverlay(),!0}))}_attachHoverEvent(e){e.addEventListener("mouseover",()=>{this._hoveredCard=e,this.onCardHovered({newCardSize:this.getCurrentCardSize(),hoveredCard:this._hoveredCard}),D.a.fixOverlayPosition({hoveredElement:this._hoveredCard,overlay:this._overlay,scrollableContainer:this._scrollableArea,editor:this._rte})})}_createCardNode(e){const t=document.createElement("div");return t.innerHTML=e,t.firstChild.contentEditable=!1,t.firstChild.setAttribute("contenteditable",!1),this._attachHoverEvent(t.firstChild),t.firstChild}_generateCardId(){return`enhancr_card_${Object(m.g)()}`}},TableFormatterPlugin:class{contentChanged(e){e&&"paste"===e.type&&e.newElements&&Array.prototype.filter.call(e.newElements,this._shouldFormatTable).forEach(e=>this._formatTable(e))}_shouldFormatTable(e){return"TABLE"===e.tagName&&-1===e.className.indexOf("yahoo-ignore-table")&&null===e.querySelector("table")}_isStyled(e){return!!(e.hasAttribute("bgcolor")||e.style.getPropertyValue("background")||e.style.getPropertyValue("background-color")||e.style.getPropertyValue("color")||e.style.getPropertyValue("border")||e.style.getPropertyValue("border-width"))}_isTableStyled(e,t,a){return!!(e.hasAttribute("border")&&"0"!==e.getAttribute("border")||this._isStyled(e)||Array.prototype.some.call(t,this._isStyled)||Array.prototype.some.call(a,this._isStyled))}_removeWidth(e){e.removeAttribute("width"),e.style.removeProperty("width"),e.style.removeProperty("min-width")}_formatTable(e){const t=`${.5*h.GRID_UNIT}px ${2*h.GRID_UNIT}px`,a=e.className.indexOf("Mso")>-1,n=e.querySelectorAll("td, th"),s=e.querySelectorAll("tr");this._removeWidth(e),Array.prototype.forEach.call(n,e=>{this._removeWidth(e),e.style.padding||e.style.setProperty("padding",t)}),Array.prototype.forEach.call(e.querySelectorAll("col"),this._removeWidth),a&&Array.prototype.forEach.call(e.querySelectorAll("p"),e=>e.style.setProperty("margin",0)),this._isTableStyled(e,s,n)||Array.prototype.forEach.call(s,(e,t)=>{const a=t%2?"#fff":"#eee";e.setAttribute("bgcolor",a),e.style.setProperty("background-color",a)})}}};t.default=class extends s.a.Component{componentDidMount(){this.props.onLoad(Z)}render(){return null}}},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(31),r=a.n(i),o=a(3),l=a.n(o),c=a(8),d=a.n(c),m=a(1),_=a.n(m),u=a(6),p=a(118),h=a(13),g=a.n(h),E=a(1646),b=a.n(E),C=a(12),f=a(16),S=a(5);const y=g()(b.a);var T=class extends _.a.Component{render(){const e=this.props.subject;return _.a.createElement(p.a,{groupTabIndex:C.TabIndices.MESSAGE_GROUP_HEADER},_.a.createElement("header",{"data-test-id":"sponsored-message-header",className:y.groupHeader},_.a.createElement("div",{className:y.subjectRow},_.a.createElement("span",{"data-test-id":"message-group-subject",className:y.subject},e?_.a.createElement("span",{className:y.subjectText},e):_.a.createElement("span",{className:y.noSubject},_.a.createElement(u.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),_.a.createElement(f.b,{kind:S.b.SPONSORED,size:S.d.XS,colorState:S.a.INHERITED})))))}},N=a(67),A=a(488),I=a(20),M=a(22);const v=Object(u.defineMessages)({forward_sponsored:{id:"sponsored_forward",defaultMessage:"Forward this sponsored message to someone"}});class D extends _.a.Component{render(){const e=this.props,t=e.disabled,a=e.onClick,n=e.showLabel,s=(0,this.context.intl.formatMessage)(v.forward_sponsored),i=this.context.getThemeMode()===M.h.DARK;return _.a.createElement(I.a,{"data-iskeynav":!0,"data-test-id":"toolbar-sponsored-forward","aria-label":s,title:s,kind:S.b.FORWARD,disabled:t,onClick:a,size:S.d.XS,colorState:S.a.INHERITED,isOnDarkBackground:i},n?_.a.createElement(u.FormattedMessage,{id:"sponsored_forward_icon_label",defaultMessage:"Forward"}):null)}}l()(D,"defaultProps",{showLabel:!0}),l()(D,"contextTypes",{intl:u.intlShape.isRequired,getThemeMode:d.a.func});var O=D;const k=Object(u.defineMessages)({sponsored_save:{id:"sponsored_save",defaultMessage:"Save this sponsored message to someone"}});class R extends _.a.Component{render(){const e=this.props,t=e.disabled,a=e.onClick,n=e.showLabel,s=(0,this.context.intl.formatMessage)(k.sponsored_save),i=this.context.getThemeMode()===M.h.DARK;return _.a.createElement(I.a,{"data-iskeynav":!0,"data-test-id":"toolbar-sponsored-save","aria-label":s,title:s,kind:S.b.MOVE_TO_FOLDER,disabled:t,onClick:a,size:S.d.XS,colorState:S.a.INHERITED,isOnDarkBackground:i},n?_.a.createElement(u.FormattedMessage,{id:"sponsored_save_icon_label",defaultMessage:"Save To Inbox"}):null)}}l()(R,"defaultProps",{showLabel:!0}),l()(R,"contextTypes",{intl:u.intlShape.isRequired,getThemeMode:d.a.func});var w=R,P=a(34),x=a(146),F=a(131),L=a(139),B=a(18),U=a(7),H=a(79),j=a(343),G=a.n(j),W=a(165),Z=a(9),V=a(116);const q=["esc","backspace","del",...W.d];Object(F.b)({group:L.a,keys:Object.assign({},W.c,{escapeToFolder:{key:"ESC",description:_.a.createElement("strong",null,_.a.createElement(u.FormattedMessage,{id:"shortcut.message_group_escape_message",defaultMessage:"Escape to previous view"}))},delete:{key:"BACKSPACE, DEL",description:_.a.createElement("strong",null,_.a.createElement(u.FormattedMessage,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))}})});class z extends _.a.Component{constructor(...e){super(...e),l()(this,"handleShortcuts",e=>{switch(e.preventDefault(),e.stopPropagation(),e.code){case"Escape":case"Backspace":case"Delete":this.handleClose(e);break;case"KeyR":this.handleClose("reply",U.d.shortcut);break;case"KeyF":this.handleClose("forward",U.d.shortcut)}}),l()(this,"getClassNames",()=>this.context.getCss(G.a,{hamSpamDisabled:!0,archiveRestoreDisabled:!0,moveDisabled:!0,deletePermDisabled:!0,groupActionsActive:!1,triageActionsActive:!0,verticalSortView:!1,verticalSelectionControlView:!1,selectionControlDisabled:!0,sponsoredVideoMessage:this.props.isVideoAd})),l()(this,"handleSponsoredForward",e=>{if(e.preventDefault(),this.props.onForward){Object(Z.a)(this.props.actionUrls,"SHARE",[]).forEach(e=>Object(V.a)(e,!1)),this.props.onForward()}}),l()(this,"handleSponsoredSave",e=>{if(e.preventDefault(),this.props.onSave){Object(Z.a)(this.props.actionUrls,"SAVE",[]).forEach(e=>Object(V.a)(e,!1)),this.props.onSave()}}),l()(this,"handleClose",(e,t="")=>{this.props.onClose({i13nModel:{mKey:U.e.TOOLBAR_CLOSE_MSG,sec:U.g.MSG_READ_TOOLBAR,interactionType:t||Object(B.j)(e)}})})}componentDidMount(){this.context.bindShortcut(q,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(q)}render(){const e=this.props.conversations,t=this.context.intl.formatMessage,a=this.getClassNames();return _.a.createElement(p.a,{axis:p.b.HORIZONTAL,circularNavigation:!1,className:a.container,"data-test-id":"message-toolbar",groupTabIndex:C.TabIndices.MESSAGE_LIST_TOOLBAR,role:"toolbar"},_.a.createElement(x.a,null),_.a.createElement("div",{className:a.mainActionControls},_.a.createElement("ul",{className:a.triageActionList},_.a.createElement(P.a,{name:"forwardSponsored"},_.a.createElement("div",{className:a.sponsoredToolBarForward},_.a.createElement(O,{disabled:!this.props.onForward,onClick:this.handleSponsoredForward,showLabel:!0}))),_.a.createElement(P.a,{name:"saveSponsored"},_.a.createElement("div",{className:a.sponsoredToolBarSave},_.a.createElement(w,{disabled:!this.props.onSave,onClick:this.handleSponsoredSave,showLabel:!0}))),_.a.createElement(P.a,{name:"perm-delete"},_.a.createElement("div",{className:a.sponsoredToolBarClose},_.a.createElement(A.a,{"data-test-id":"delete-sponsored-btn",disabled:!1,onClick:this.handleClose,permanent:!1,showLabel:!0,conversations:e}))))),_.a.createElement(x.a,null),_.a.createElement("span",{"data-test-id":"close-wrapper",className:a.closeWrapper},_.a.createElement(H.a,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!1,kind:S.b.CLOSE,size:S.d.XS,onClick:this.handleClose,title:t(N.a.close),"aria-label":t(N.a.close),colorStates:{normal:S.a.DISABLED,hovered:S.a.SELECTED}})),_.a.createElement("hr",{className:a.bottomLine}))}}l()(z,"contextTypes",{intl:u.intlShape.isRequired,config:d.a.object.isRequired,getCss:d.a.func,bindShortcut:d.a.func,unbindShortcut:d.a.func}),l()(z,"defaultProps",{showLabels:!0});var Y=z,K=a(295),X=a.n(K),Q=a(252),J=a.n(Q),$=a(1256),ee=a(74),te=a.n(ee),ae=a(29),ne=a(102),se=a(19),ie=a(28),re=a(1647),oe=a.n(re),le=a(0);const ce=Object(u.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}}),de=g()(oe.a),me={marginLeft:0,marginRight:`${2*C.GRID_UNIT}px`};class _e extends _.a.Component{constructor(...e){super(...e),l()(this,"handleKeyDown",e=>{const t=this.props.onAbort;if(e.stopPropagation(),e.key===le.Lb.ESCAPE)return e.preventDefault(),e.stopPropagation(),void(t&&this.props.onAbort(e))}),l()(this,"renderAbortButton",()=>{const e=this.props.onAbort,t=this.context.intl.formatMessage;if(e)return _.a.createElement("div",{className:de.close},_.a.createElement(H.a,{onClick:e,kind:S.b.CLOSE,size:S.d.XS,title:t(ce.close),"aria-label":t(ce.close),"data-test-id":"confirm-button-close",colorStates:{normal:S.a.DISABLED,hovered:S.a.SELECTED}}))}),l()(this,"renderCancelButton",()=>{const e=this.props.onCancel,t=this.context.intl.formatMessage,a=t(this.props.cancelLabel);if(e)return _.a.createElement(se.a,{onClick:e,kind:ie.a.SECONDARY,style:me,title:t(this.props.cancelLabel),"aria-label":t(this.props.cancelLabel),"data-test-id":"confirm-button-cancel"},a)}),l()(this,"onConfirm",e=>{this.props.disableConfirm||this.props.onConfirm(e)}),l()(this,"_onAbort",()=>{const e=this.props.onAbort;e&&e()})}render(){const e=this.context.intl.formatMessage,t=this.props.title;let a=this.props.message;const n=e(this.props.acceptLabel);return a||(a=this.props.children),_.a.createElement(ne.a,{onClose:this._onAbort,onKeyDown:this.handleKeyDown},_.a.createElement("div",{className:de.container,"data-test-id":"confirm-dialog"},_.a.createElement("div",{className:de.header},_.a.createElement("div",{className:de.title,"data-test-id":"confirm-title"},t),this.renderAbortButton()),_.a.createElement("div",{className:de.message,"data-test-id":"confirm-message"},a),_.a.createElement("div",{className:de.controls},_.a.createElement(se.a,{onClick:this.onConfirm,style:me,title:e(this.props.acceptLabel),"aria-label":e(this.props.acceptLabel),"data-test-id":"confirm-button-ok"},n),this.renderCancelButton())))}}l()(_e,"contextTypes",{intl:u.intlShape.isRequired}),l()(_e,"defaultProps",{acceptLabel:ce.defaultAcceptLabel,cancelLabel:ce.defaultCancelLabel,disableConfirm:!1});var ue=_e;const pe=Object(u.defineMessages)({brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"},warningMessage:{id:"ad.sponsored_submit_warning",defaultMessage:"By submitting this form you agree to send your info to the advertiser who agrees to use it according to their privacy policy."},warningTitle:{id:"ad.sponsored_submit_title",defaultMessage:"Warning"}});class he extends _.a.Component{constructor(...e){super(...e),l()(this,"onConfirm",()=>{this.props.submitForm(),this.props.hide()})}render(){const e=this.context.intl.formatMessage;return _.a.createElement(ue,{title:e(pe.warningTitle),onConfirm:this.onConfirm,onAbort:this.props.hide,onCancel:this.props.hide,message:e(pe.warningMessage)})}}l()(he,"contextTypes",{intl:u.intlShape.isRequired});var ge=he,Ee=a(26);a.d(t,"logger",function(){return be});const be=te.a.create("norrin/gemini_sponsored_video"),Ce=g()(J.a);class fe extends _.a.Component{constructor(...e){super(...e),l()(this,"state",{showSubmitWarning:!1}),l()(this,"videoPlayerCallbacks",["onAdPlaybackStart","onAdPlaybackEnd","onPlaybackStart","onPlaybackComplete","onPlaybackError","onAdError","onPlayerError","onLoadError"].reduce((e,t)=>(e[t]=(e={})=>{let a=e;if("object"==typeof e){a={adBreakId:e.adBreakId,videoId:e.videoId,adBreakItemId:e.adBreakItemId}}be.info("Empty folder video "+t,{payload:a})},e),{})),l()(this,"initializeForm",()=>{if(this.form=Object(ae.findDOMNode)(this).querySelector("form"),this.form){const e=this.props,t=e.emailAddress,a=e.accountName;[].slice.call(this.form.elements).forEach(e=>{const n=e.name.toLowerCase();"fullname"===n&&a?e.value=a:"email"===n&&t&&(e.value=t)})}}),l()(this,"_createMarkup",()=>({__html:this.props.asset})),l()(this,"handleAdClicked",e=>{Object(Z.a)(this.props.actionUrls,"CLICK_INTERNAL",[]).forEach(function(e){const t=e.replace("$(click_label)","msm_click");return Object(V.a)(t,!1)}),this.form&&"submit"===e.target.type&&(e.preventDefault(),this.setState({showSubmitWarning:!0}))}),l()(this,"hideSubmitWarning",()=>{this.setState({showSubmitWarning:!1})}),l()(this,"getFormParams",e=>{if(e){return[].slice.call(e.elements).reduce((e,t)=>(t.name&&e.push(`${t.name}=${t.value}`),e),[]).join("&")}return""}),l()(this,"submitForm",()=>{if(this.form){const e=this.form.method||Ee.a.GET,t=(this.form.action||"").split("#$embeddedLandingUrl_"),a=r()(t,2),n=a[0],s=a[1];if(this.embeddedLandingUrl=Object(Z.a)(this.props.embeddedLandingUrls,`${s}.url`,this.embeddedLandingUrl),!this.embeddedLandingUrl)return void this.form.submit();switch(e.toUpperCase()){case Ee.a.GET:{const e=window.encodeURIComponent(this.getFormParams(this.form));return void window.open(this.embeddedLandingUrl.replace("$(AD_FORMPARAMS)",e),"_blank")}case Ee.a.POST:return Object(V.a)(this.embeddedLandingUrl,!1),this.form.action=n,void this.form.submit()}}}),l()(this,"renderSponsoredMessageBody",()=>{const e=this.context.getCss(X.a);if(this.props.videoConfig){const t=Object(Z.a)(this.props.videoConfig,"YVAP.standaloneAd.gemini.landingUrl"),a=Object(Z.a)(this.props.videoConfig,"YVAP.standaloneAd.gemini.mediaInfo.0.contentType"),n=Object(Z.a)(this.props.videoConfig,"playlist.mediaItems.0.images.thumbnail");return _.a.createElement("div",{className:e.sponsoredVideoBodyContainer},_.a.createElement("a",{rel:"noreferrer",role:"presentation",tabIndex:"-1",href:t,target:"_blank"},_.a.createElement("div",{className:e.sponsoredMessageSource},this.props.source),_.a.createElement("div",{className:e.sponsoredMessageDescription},this.props.description)),"video/mp4"===a||"application/vnd.apple.mpegurl"===a?_.a.createElement("div",{"data-test-id":"video-container"},_.a.createElement($.a,s()({},this.videoPlayerCallbacks,{width:"640px",height:"360px",playerConfig:this.props.videoConfig,key:"sponsoredGemini",showVideoCoverInitially:!1,play:!0}))):_.a.createElement("img",{src:n,className:e.videoAdThumbnail}),_.a.createElement("a",{rel:"noreferrer",role:"presentation",tabIndex:"-1",href:t,target:"_blank",className:e.sponsoredMessageButton,title:this.props.action},this.props.action))}return _.a.createElement("div",{className:"msg-body sponsored "+Ce.bodyContainer,onClick:this.handleAdClicked,dangerouslySetInnerHTML:this._createMarkup(),"data-test-id":"sponsored-message-read"})})}componentDidUpdate(e){this.props.asset&&e.asset!==this.props.asset&&this.initializeForm()}componentDidMount(){this.props.asset&&this.initializeForm()}render(){const e=this.props.conversations,t=this.context.getCss(X.a);return _.a.createElement("div",{className:t.container},_.a.createElement(Y,{conversations:e,listId:this.props.listId,actionUrls:this.props.actionUrls,onForward:this.props.forwardCreative,onSave:this.props.saveSponsoredMessage,onClose:this.props.onClose,isVideoAd:!!this.props.videoConfig}),_.a.createElement("div",{className:t.scrollView},_.a.createElement(T,{subject:this.props.subject}),_.a.createElement("div",{className:Ce.sponsoredMessageContainer},this.renderSponsoredMessageBody())),this.state.showSubmitWarning?_.a.createElement(ge,{hide:this.hideSubmitWarning,submitForm:this.submitForm}):null)}}l()(fe,"contextTypes",{getCss:d.a.func}),l()(fe,"defaultProps",{asset:"",listId:"",subject:"",actionUrls:{},source:"",description:"",action:"",embeddedLandingUrls:{},conversations:!1});t.default=fe},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(29),_=a.n(m),u=a(6),p=a(15),h=a(91),g=a(176),E=a(0),b=a(10),C=a(9),f=a(63),S=a(11),y=a(13),T=a.n(y),N=a(5),A=a(20),I=(a(42),a(47)),M=a(188),v=a(443),D=a(280),O=a(1304),k=a.n(O);const R=Object(u.defineMessages)({untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"}}),w=T()(k.a);class P extends d.a.Component{render(){const e=this.props.attachment,t=e.filename,a=e.type,n=e.subtype,s=e.size,i=this.context.intl.formatMessage,r=v.b(t),o=t?v.a(t,r):i(R.untitled),l=Object(D.prettyPrintBytes)(s,1);return d.a.createElement("li",{className:w.itemContainer},d.a.createElement(M.a,{type:a,subtype:n}),d.a.createElement("div",{className:w.itemInfo},d.a.createElement("span",null,o),d.a.createElement("span",null,r),d.a.createElement("div",{className:w.itemSize},l)))}}P.contextTypes={intl:u.intlShape.isRequired};var x=P,F=a(548);var L=class extends d.a.Component{render(){const e=Object(I.f)(this.props.attachments),t=T()(k.a);return e&&e.length>0?d.a.createElement("div",null,d.a.createElement(F.a,null),d.a.createElement("ul",{className:t.listContainer,"data-test-id":"print-attachments"},e.map((e,t)=>d.a.createElement(x,{attachment:e,key:t})))):null}},B=a(349),U=a(1305),H=a.n(U);const j=Object(u.defineMessages)({message_from:{id:"message_from",defaultMessage:"From:"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_subject:{id:"message_subject",defaultMessage:"Subject:"},message_date:{id:"message_date",defaultMessage:"Date:"},message_no_subject:{id:"no_subject",defaultMessage:"No Subject"}}),G={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"};class W extends d.a.Component{constructor(...e){super(...e),r()(this,"buildAddressList",e=>{const t=[];return e.map(function(e){t.push(e.email||e.name)}),t.join("; ")})}render(){const e=this.context.intl,t=e.formatMessage,a=e.formatDate,n=this.props.message.headers,s=n.from,i=n.to,r=n.cc,o=n.bcc,l=n.date,c=n.subject,m=Object(f.m)(c),_=s[0]||{},u=_.name,p=_.email,h=u?`${u} (${p})`:p,g=T()(H.a),E=a(new Date(1e3*l),G);return d.a.createElement("header",{className:`print-header ${g.header}`},d.a.createElement("div",{className:g.subjectHeaderRow},d.a.createElement("span",{"data-test-id":"message-subject",className:g.subjectBody},m||`(${t(j.message_no_subject)})`)),d.a.createElement("div",{className:g.headerTable},d.a.createElement("div",{className:g.headerRow},d.a.createElement("span",{className:g.label},t(j.message_from)),d.a.createElement("span",{"data-test-id":"message-from",className:g.fieldBody},h)),i.length>0?d.a.createElement("div",{className:g.headerRow},d.a.createElement("span",{className:g.label},t(j.message_to)),d.a.createElement("span",{"data-test-id":"message-to",className:g.fieldBody},this.buildAddressList(i))):null,r.length>0?d.a.createElement("div",{className:g.headerRow},d.a.createElement("span",{className:g.label},t(j.message_cc)),d.a.createElement("span",{"data-test-id":"message-cc",className:g.fieldBody},this.buildAddressList(r))):null,o.length>0?d.a.createElement("div",{className:g.headerRow},d.a.createElement("span",{className:g.label},t(j.message_bcc)),d.a.createElement("span",{"data-test-id":"message-bcc",className:g.fieldBody},this.buildAddressList(o,g))):null,d.a.createElement("div",{className:g.headerRow,"data-test-id":"message-date"},d.a.createElement("span",{className:g.label},t(j.message_date)),d.a.createElement("span",{className:g.fieldBody},E))))}}r()(W,"contextTypes",{intl:u.intlShape.isRequired});var Z=W,V=a(163),q=a(204),z=a(1358),Y=a.n(z);class K extends d.a.Component{render(){const e=this.props,t=e.offerDescription,a=e.brandName,n=e.imageUrl,s=e.dateDiff,i=e.offerValue,r=e.type,o=T()(Y.a);return d.a.createElement("div",{"data-test-id":"offer-list-item",className:o.container},d.a.createElement("div",{className:o.svgStyle},d.a.createElement("img",{className:o.icon,src:n,onError:e=>Object(V.a)(e,E.Wc)})),d.a.createElement("div",{className:o.cardDetails},d.a.createElement("div",{className:o.cardTitle},a),d.a.createElement("div",{className:o.cardDescription},t),i&&d.a.createElement("div",{className:o.boldGray},d.a.createElement(u.FormattedMessage,{id:"offer_list_item.offerValue",defaultMessage:"{offerValue} off",values:{offerValue:i}})),d.a.createElement("div",{className:o.boldGray},d.a.createElement(q.a,{type:r,daysUntilExpiry:s}))))}}const X=Object(u.defineMessages)({print_message:{id:"print_message",defaultMessage:"Print"},close_window:{id:"close_window",defaultMessage:"Close Window"},print_offer_header:{id:"print_offer_header",defaultMessage:"Your {retailerName} shopping list"}});class Q extends d.a.Component{render(){const e=this.context.intl.formatMessage,t=e(X.print_message),a=e(X.close_window),n=this.props,s=n.closeWindow,i=n.message,r=n.offers,o=n.printWindow,l=n.retailerName,c=T()(H.a);return d.a.createElement("div",null,d.a.createElement("div",{className:c.buttonContainer+" hide-on-print","data-test-id":"print-buttons-container"},d.a.createElement(A.a,{"data-test-id":"close-button","aria-label":a,title:a,kind:N.b.CLOSE,size:N.d.XS,onClick:s,className:c.button}),d.a.createElement(A.a,{"data-test-id":"print-button","aria-label":t,title:t,kind:N.b.PRINTER,size:N.d.XS,onClick:o,className:c.button})),i&&d.a.createElement("div",{"data-test-id":"print-message-view",className:c.printView,"data-test-expanded":!0,tabIndex:-1,"data-iskeynav":!0},d.a.createElement(Z,{message:i}),d.a.createElement("div",null,d.a.createElement(B.a,{messageId:i.id,folderId:i.folder.id,quoteExpanded:!0,removeCollapseButton:!0,printView:!0}),d.a.createElement(L,{attachments:i.attachments}))),r&&d.a.createElement("div",null,d.a.createElement("p",{className:c.offerHeader},e(X.print_offer_header,{retailerName:l})),r.map(({brandName:e,dateDiff:t,description:a,imageUrl:n,offerId:s,offerValue:i})=>d.a.createElement(K,{brandName:e,dateDiff:t,imageUrl:n,key:s,offerDescription:a,offerValue:i}))))}}r()(Q,"contextTypes",{intl:u.intlShape.isRequired}),a.d(t,"Print",function(){return $}),a.d(t,"mapStateToProps",function(){return ee}),a.d(t,"mapDispatchToProps",function(){return te});const J=Object(u.defineMessages)({print_no_subject:{id:"print.no_subject",defaultMessage:"No Subject"},print_text:{id:"print.title",defaultMessage:"Unable to print"},print_blocked_warning:{id:"print.blocked.warning",defaultMessage:"You may be using an extension that blocks popups. To print, please click OK to enable popups for the current session"}});class $ extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showPrintAlert:!1}),r()(this,"openPopup",()=>{this.popupHandle=window.open("","","resizable=yes, scrollbars=yes, width=600, height=600"),this.popupHandle?(this.popupTimer&&clearTimeout(this.popupTimer),this.popupTimer=setTimeout(()=>{this.executePrint()},300)):this.state.showPrintAlert||this.setState({showPrintAlert:!0})}),r()(this,"executePrint",()=>{const e=this.context.mailBrandNameString,t=this.context.intl.formatMessage,a=this.props,n=a.hasFullBody,i=a.message,r=a.offers,o=a.printId,l=Object(f.m)(Object(C.a)(i,"headers.subject"))||`(${t(J.print_no_subject)})`;if(!(this.popupHandle&&this.popupHandle.document&&"function"==typeof this.popupHandle.document.write))return;this.renderPrintContainer(this.popupHandle.document),this.popupHandle.document.title=`${e} - ${l}`,this.popupHandle.document.close(),this.popupHandle.focus(),this.popupHandle.addEventListener("beforeunload",e=>{if(this.popupHandle&&!this.popupHandle._isRenderComplete)return e.preventDefault(),e.returnValue="",void(this.popupHandle.leaving=!0);_.a.unmountComponentAtNode(this.popupHandle.document.getElementById("printContainer")),this.popupHandle=void 0}),this.popupHandle.addEventListener("unload",()=>{this.popupHandle&&this.popupHandle.leaving&&(_.a.unmountComponentAtNode(this.popupHandle.document.getElementById("printContainer")),this.popupHandle=void 0),clearTimeout(this.printTimer),this.props.printMessageClosed({printId:o})});const c=function(){this.popupHandle&&this.popupHandle.print()};(i||r)&&(_.a.render(d.a.createElement(u.IntlProvider,window.AppIntl,d.a.createElement(p.Provider,{store:this.context.store},d.a.createElement(Q,s()({},this.props,{closeWindow:function(){this.popupHandle&&this.popupHandle.close()}.bind(this),printWindow:c.bind(this)})))),this.popupHandle.document.getElementById("printContainer"),()=>{this.popupHandle._isRenderComplete=!0}),n&&(clearTimeout(this.printTimer),this.printTimer=setTimeout(()=>{this.props.printMessageSuccess({printId:o}),c.call(this)},0)))}),r()(this,"onAcceptHandler",()=>{this.setState({showPrintAlert:!1}),this.openPopup()}),r()(this,"onPrintCancel",()=>{this.props.printMessageCancel({printId:this.props.printId})})}componentWillReceiveProps(e){if(!this.props.printId&&e.printId&&(this.hiddenIframe&&this.removePrintIframe({type:"componentWillReceiveProps"}),this.popupHandle&&(this.popupHandle.close(),this.popupHandle=void 0)),this.props.printId!==e.printId&&this.setState({showPrintAlert:!1}),!this.props.hasFullBody&&e.hasFullBody)if(this.props.iframePrint)this.hiddenIframe&&this.hiddenIframe.contentWindow&&(this.hiddenIframe.contentWindow.focus(),this.hiddenIframe.contentWindow.print());else{const e=this.popupHandle;clearTimeout(this.printTimer),this.printTimer=setTimeout(()=>{e&&e.print()},500)}}componentDidUpdate(){const e=this.props,t=e.hasFullBody,a=e.offers;void 0!==e.printId&&(e.iframePrint?this.hiddenIframe||!t&&!a||this.openPrintIframe():this.popupHandle||!t&&!a||this.openPopup())}renderPrintContainer(e){if(!e)return;const t=this.props,a=t.direction;let n;if(t.externalCss){const e=Array.from(document.getElementsByTagName("link")).find(function(e){return"mail-css"===e.id});n=e&&e.outerHTML||""}else n=`<style>${document.getElementsByTagName("style")[0].innerHTML}</style>`;e.write(`<html><head>\n                ${n}\n                </head>\n                <body id="Atom" dir="${a}" style=overflow:visible;min-width:auto><div id="printContainer"/></body></html>`)}renderPrintContent(e,t=(()=>{})){e&&_.a.render(d.a.createElement(u.IntlProvider,window.AppIntl,d.a.createElement(p.Provider,{store:this.context.store},d.a.createElement(Q,this.props))),e,t)}openPrintIframe(){this.hiddenIframe=document.createElement("iframe"),this.hiddenIframe.addEventListener("load",this.setupPrintIframe.bind(this)),this.hiddenIframe.id="_iframePrint",this.hiddenIframe.width="1px",this.hiddenIframe.height="1px",this.hiddenIframe.style.display="none",this.hiddenIframe.src="about:blank",document.body.appendChild(this.hiddenIframe)}setupPrintIframe(){if(!this.hiddenIframe)return;const e=this.hiddenIframe,t=e.contentWindow,a=e.contentDocument;if(a&&"complete"===a.readyState){const e=this.props,n=e.printId,s=e.printMessageSuccess,i=e.hasFullBody;this.renderPrintContainer(a),this.renderPrintContent(a.getElementById("printContainer"),()=>{t.addEventListener("afterprint",this.removePrintIframe.bind(this)),t.addEventListener("beforeunload",this.removePrintIframe.bind(this)),i&&(t.focus(),t.print(),setTimeout(()=>{s({printId:n})},0))})}}removePrintIframe(){if(!this.hiddenIframe)return;const e=this.props,t=e.printId,a=e.printMessageClosed,n=this.hiddenIframe.contentDocument;this.hiddenIframe.removeEventListener("load",this.setupPrintIframe.bind(this)),n&&_.a.unmountComponentAtNode(n.getElementById("printContainer")),document.body.removeChild(this.hiddenIframe),this.hiddenIframe=null,setTimeout(()=>{a({printId:t})},0)}render(){const e=this.context.intl.formatMessage;return this.state.showPrintAlert?d.a.createElement(g.a,{title:e(J.print_text),message:e(J.print_blocked_warning),onAccept:this.onAcceptHandler,onClose:this.onPrintCancel,hideClose:!1}):null}}r()($,"contextTypes",{intl:u.intlShape.isRequired,mailBrandNameString:l.a.string,store:l.a.object});const ee=e=>{const t=Object(S.b)(e),a=t.__patchV2MessageId__,n=t.doesMessageIdExist,s=t.getActivatedOffersSelectors,i=t.getCurrentListId,r=t.getEnvironmentSelectors,o=t.getMessageBodiesSelectors,l=t.getRetailersSelectors,c=t.isFeatureEnabled,d=(0,t.getItemToPrint)()||{},m=c(E.ub.IFRAME_PRINT),_=c(E.ub.EXTERNAL_CSS),u=c(E.ub.ENABLE_YM6_GROCERY),p=o().hasFullBody(d.messageId),h=i(),g=Object(b.u)(h);let C=void 0,f="";if(g===E.Qb.ACTIVATED_OFFER_CARDS||u&&g===E.Qb.RECOMMENDED_OFFER_CARDS){const e=l().getDisplayNameFromRetailerId,t=Object(b.y)(h)||"",a=Object(b.W)(h,{listFilter:E.Qb.ACTIVATED_OFFER_CARDS});C=(0,s().getActivatedOfferStreamItems)(a),f=e(t)}return{direction:r().getPageDirection(),iframePrint:m,externalCss:_,hasFullBody:p,message:n(d.messageId)?a(d.messageId,h):void 0,offers:C,printId:d.printId,retailerName:f}},te=e=>({printMessageCancel:t=>e(Object(h.k)(t)),printMessageClosed:t=>e(Object(h.l)(t)),printMessageSuccess:t=>e(Object(h.m)(t))});t.default=Object(p.connect)(ee,te)($)},,function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"injectCardButtons",function(){return z}),a.d(n,"enhanceCardsInTree",function(){return Y}),a.d(n,"getInjectionWrapper",function(){return K}),a.d(n,"shareCard",function(){return X}),a.d(n,"playEmbeddedMedia",function(){return Q});a(8);var s=a(1),i=a.n(s),r=a(29),o=a.n(r),l=a(6),c=a(23),d=a.n(c),m=a(3),_=a.n(m),u=a(57),p=a.n(u);const h={default:{autoplay:1},"yahoo.com":{},"yimg.com":{},"youtube.com":{autoplay:1,fs:0,showinfo:0,modestbranding:1,playsinline:1},"youtu.be":{},"vimeo.com":{autoplay:1,badge:0,byline:0,title:0,portrait:0},"flickr.com":{},"tumblr.com":{},"reverbnation.com":{},"scribd.com":{},"linkedin.com":{},"viddler.com":{},"slideshare.net":{},"soundcloud.com":{auto_play:1}};h["s.yimg.com"]=h["yimg.com"],h["player.vimeo.com"]=h["vimeo.com"],h["w.soundcloud.com"]=h["soundcloud.com"];const g=/^https:\/\/(?:www\.)?((?:[\w~-]+\.)*[a-zA-Z0-9]+\.[a-zA-Z]+)/;function E(e){const t=g.exec(e);return t?t[1]:void 0}var b=a(1591),C=a.n(b),f=a(13),S=a.n(f);const y="https://s.yimg.com/nq/s/assets/html/yframe-min_2_2705_1.html",T=Object(l.defineMessages)({errorMessage:{id:"embeddedMediaPlayer.errorMessage",defaultMessage:"Cannot play media from this URL. The website is not supported."}});class N extends i.a.Component{constructor(...e){super(...e),_()(this,"generateUrl",()=>{const e=this.props,t=e.width,a=e.height,n=e.mediaUrl,s=function(e){const t=E(e);return!!h[t]&&(Object.keys(h[t]).length?h[t]:h.default)}(n);if(!s)return!1;const i=p.a.stringify(s),r=`${n}${-1===n.indexOf("?")?"?":"&"}${i}`;return`${y}?src=${encodeURIComponent(r)}&width=${t}&height=${a}`})}componentWillMount(){this.setState({beforeAnimation:!!this.props.animate})}componentDidMount(){this.state.beforeAnimation&&(this.animationTimeout=setTimeout(()=>{this.animationTimeout=!1,this.setState({beforeAnimation:!1})},17))}componentWillUnmount(){this.animationTimeout&&clearTimeout(this.animationTimeout)}render(){const e=this.props,t=e.width,a=e.height,n=e.animate,s=this.context.intl.formatMessage,r=this.generateUrl(),o=S()(C.a,{animate:n,beforeAnimation:this.state.beforeAnimation}),l=o.embeddedMediaPlayer;let c;return r?(this.state.beforeAnimation||(c={width:t,height:a}),i.a.createElement("iframe",d()({src:r,className:l},c,{"data-test-id":"embedded-media-player"}))):i.a.createElement("div",{className:o.errorContainer,"data-test-id":"embedded-media-player-error"},s(T.errorMessage))}}_()(N,"contextTypes",{intl:l.intlShape.isRequired}),_()(N,"defaultProps",{width:400,height:200,animate:!1});var A=N,I=a(76),M=a(14),v=a(59),D=a(34),O=a(99),k=a(20),R=a(16),w=a(5),P=a(1592),x=a.n(P);const F=S()(x.a),L=Object(l.defineMessages)({shareButton:{id:"shareButton.button",defaultMessage:"Share"},mail:{id:"shareButton.mail",defaultMessage:"Mail"},facebook:{id:"shareButton.facebook",defaultMessage:"Facebook"},twitter:{id:"shareButton.twitter",defaultMessage:"Twitter"},tumblr:{id:"shareButton.tumblr",defaultMessage:"Tumblr"},mailLI:{id:"shareButton.mailLI",defaultMessage:"Share in Email"},facebookLI:{id:"shareButton.facebookLI",defaultMessage:"Share to Facebook"},twitterLI:{id:"shareButton.twitterLI",defaultMessage:"Share to Twitter"},tumblrLI:{id:"shareButton.tumblrLI",defaultMessage:"Share to Tumblr"}}),B=function({url:e,shareCard:t,onShareCardLinkClick:a},{intl:{formatMessage:n}}){const s=encodeURIComponent(e);return i.a.createElement("div",{className:F.anchorContainer,style:{zIndex:3}},i.a.createElement(I.c,{triggerOn:I.b.HOVER,triggerOff:I.a.HOVER_OUT|I.a.CLICK,align:M.a.START,isArrowVisible:!1},i.a.createElement("div",{"data-test-id":"shareButtonAnchor",tabIndex:"-1",className:F.menuButton},i.a.createElement(k.a,{kind:w.b.SHARE_SOCIAL,size:w.d.XXS,paddingLess:!0,title:n(L.shareButton)})),i.a.createElement("div",{className:F.shareMenuContainer},i.a.createElement(v.a,{kind:O.a.MENU},i.a.createElement(D.a,{ariaLabel:n(L.mailLI)},i.a.createElement("a",{href:"#",className:F.shareLink,onClick:n=>{a(n,e),t(n)},"data-test-id":"share-to-mail"},i.a.createElement(R.b,{kind:w.b.INBOX,size:w.d.XXS,colorState:w.a.YBADGE,style:{padding:"2px"}}),i.a.createElement("span",{className:F.shareLinkText},n(L.mail)))),i.a.createElement(D.a,{ariaLabel:n(L.facebookLI)},i.a.createElement("a",{href:`https://www.facebook.com/dialog/share?app_id=90376669494&display=popup&href=${s}`,target:"_blank",className:F.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-facebook",rel:"noopener"},i.a.createElement(R.b,{kind:w.b.FACEBOOK,size:w.d.XS,colorState:w.a.FACEBOOK_ENABLED}),i.a.createElement("span",{className:F.shareLinkText},n(L.facebook)))),i.a.createElement(D.a,{ariaLabel:n(L.twitterLI)},i.a.createElement("a",{href:`https://twitter.com/intent/tweet?url=${s}`,target:"_blank",className:F.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-twitter",rel:"noopener"},i.a.createElement(R.b,{kind:w.b.TWITTER,size:w.d.XS,colorState:w.a.TWITTER_ENABLED}),i.a.createElement("span",{className:F.shareLinkText},n(L.twitter)))),i.a.createElement(D.a,{ariaLabel:n(L.tumblrLI)},i.a.createElement("a",{href:`https://www.tumblr.com/widgets/share/tool/preview?_format=html&canonicalUrl=${s}`,target:"_blank",className:F.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-tumblr",rel:"noopener"},i.a.createElement(R.b,{kind:w.b.TUMBLR,size:w.d.XS}),i.a.createElement("span",{className:F.shareLinkText},n(L.tumblr))))))))};B.contextTypes={intl:l.intlShape.isRequired};var U=B,H=a(241),j=a(145),G=a(1254),W=a(1593),Z=a.n(W);const V=S()(Z.a),q=Object(l.defineMessages)({play:{id:"mediaCard.playButtonAltText",defaultMessage:"Play"},close:{id:"mediaCard.closeButtonTitle",defaultMessage:"Close"}});function z(e,t,a,n,s,r){const l=K(e),c=e.getAttribute("data-size").toUpperCase(),d=e.getBoundingClientRect(),m=S()(Z.a,{cardSize:c});let _,u,p=72,h=null;if(c!==G.b.MINI&&c!==G.b.APPEND){c===G.b.COVER&&(p=90);const s=p;if(G.b[c]){const e=G.a[c],t=e.maxWidth;_=((e.thumbnailWidth||t)-p-20)/2,u=(e.thumbnailHeight-s-20)/2}(!G.b[c]||d.height<G.a[c].thumbnailHeight)&&(_=(d.width-p-20)/2,u=(d.height-s-20)/2),h=i.a.createElement("div",{onClick:Q.bind(null,e,t,a,n,r),style:{top:`${u}px`,left:`${_}px`,height:`${s}px`},className:m.playButtonContainer,tabIndex:"0",title:r(q.play),"aria-label":r(q.play),role:"button"},i.a.createElement(H.a,{kind:j.a.PLAY_VIDEO,width:p,height:s,altText:r(q.play)}))}o.a.unstable_renderSubtreeIntoContainer(a,i.a.createElement("div",null,h,i.a.createElement("div",{className:m.shareButtonContainer},i.a.createElement(U,{url:e.getAttribute("data-url"),shareCard:X.bind(null,e,t,n),onShareCardLinkClick:s}))),l)}function Y(e,t,a,n,s){const r=e.querySelectorAll('div[class*="yahoo-link-enhancr-card"]');Array.prototype.forEach.call(r,r=>{if(!r.getElementsByClassName("card-controls-injection-wrapper").length){const l=r.getAttribute("data-embed-url"),c=r.getAttribute("data-url"),d=r.getAttribute("data-size");if(!c||!d)return;const m=document.createElement("div"),_=d.toUpperCase(),u=S()(Z.a,{cardSize:_});r.style.position="relative",m.classList.add("card-controls-injection-wrapper"),Object.assign(m.style,{position:"absolute",top:"0px",width:"100%",height:"0",zIndex:"3"}),r.appendChild(m),l&&function(e){return!!h[E(e)]}(l)?z(r,e,t,a,n,s):o.a.unstable_renderSubtreeIntoContainer(t,i.a.createElement("div",{className:u.shareButtonContainer},i.a.createElement(U,{url:c,shareCard:X.bind(null,r,e,a),onShareCardLinkClick:n})),m)}})}function K(e){return e.getElementsByClassName("card-controls-injection-wrapper")[0]}function X(e,t,a,n){n.preventDefault();const s=e.getAttribute("id"),i=e.getAttribute("data-url"),r=e.querySelector('[class*="card-title"]'),o=r?r.textContent:i,l=e.cloneNode(!0),c=K(l);let d=t.querySelector(`a[class~="${s}"]`);d||((d=document.createElement("a")).setAttribute("href",i),s&&d.classList.add(s),d.textContent=o),c&&l.removeChild(c),l.style.removeProperty("position"),a(o,`<div>${d.outerHTML}<br/></div><div><br/></div>${l.outerHTML}<div><br/></div><div><br/></div>`)}function Q(e,t,a,n,s){const r=e.getAttribute("data-embed-url"),l=K(e),c=e.getBoundingClientRect(),d=i.a.createElement("div",{className:V.closeButtonContainer},i.a.createElement("div",{className:V.closeButtonPositioner},i.a.createElement(k.a,{onClick:z.bind(null,e,t,a,n,null,s),kind:w.b.CLOSE_MINI,title:s(q.close),ariaLabel:s(q.close),role:"button","data-test-id":"embedded-media-player-close-button"}))),m=i.a.createElement(A,{mediaUrl:r,width:c.width,height:c.height,animate:!0});o.a.unstable_renderSubtreeIntoContainer(a,i.a.createElement("div",null,d,m),l)}t.default=class extends i.a.Component{componentDidMount(){this.props.onLoad(n)}render(){return null}}},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(15),d=a(11),m=a(33),_=a.n(m),u=a(1306),p=a(6),h=a(477),g=a.n(h),E=a(28),b=a(19),C=a(23),f=a.n(C),S=a(12),y=a(1307),T=a.n(y),N=a(13),A=a.n(N);const I=Object(p.defineMessages)({header:{id:"confirmation_dialog.header",defaultMessage:"Ready to unsubscribe?"},linkButton:{id:"confirmation_dialog.linkBtn",defaultMessage:"Go to site"},mailtoButton:{id:"confirmation_dialog.mailtoBtn",defaultMessage:"Send request"},cancel:{id:"confirmation_dialog.cancelBtn",defaultMessage:"Cancel"},link:{id:"confirmation_dialog.linkBody",defaultMessage:"We'll open a new browser window where you can finish unsubscribing from {senderName} emails."},mailto:{id:"confirmation_dialog.mailtoBody",defaultMessage:"A request will be sent to {senderName}. They may take a few days to remove you from their list"}});class M extends l.a.Component{render(){const e=A()(T.a),t={top:this.props.alignTo.getBoundingClientRect().top,zIndex:S.ZIndices.MODAL},a="link"===this.props.unsubType?I.linkButton:I.mailtoButton,n=this.props.currentUnsubItem;return l.a.createElement("div",{className:e.confirmationContainer,style:t,"data-test-id":"unsub-confirmation-dialog"},l.a.createElement("div",{className:e.header},l.a.createElement(p.FormattedMessage,I.header)),l.a.createElement("div",{className:e.body},"link"===this.props.unsubType&&l.a.createElement(p.FormattedMessage,f()({},I.link,{values:{senderName:n}})),"mailto"===this.props.unsubType&&l.a.createElement(p.FormattedMessage,f()({},I.mailto,{values:{senderName:n}}))),l.a.createElement("div",{className:e.actionContainer},l.a.createElement(b.a,{onClick:this.props.onSuccess,"data-test-id":"confirmation-dialog-unsub-btn",kind:E.a.PRIMARY},l.a.createElement(p.FormattedMessage,a)),l.a.createElement(b.a,{onClick:this.props.onCancel,"data-test-id":"confirmation-dialog-cancel-btn",kind:E.a.SECONDARY},l.a.createElement(p.FormattedMessage,I.cancel))))}}s()(M,"contextTypes",{intl:p.intlShape.isRequired});var v=M,D=a(7),O=a(16),k=a(5),R=a(54),w=a(157),P=a(0),x=a(1363),F=a.n(x),L=a(45),B=a(64);const U=A()(F.a),H=Object(p.defineMessages)({heading:{id:"subscription_list.heading",defaultMessage:"Feel like starting something new?"},subheading:{id:"subscription_list.subheading",defaultMessage:"We recommend subscribing to this newsletter:"},subscriptionSucceeded:{id:"subscription_list.subscriptionSucceeded",defaultMessage:"You've subscribed to the {name} mailing list."},subscriptionFailed:{id:"subscription_list.subscriptionFailed",defaultMessage:"Subscribe failed"},termsConditions:{id:"subscription_list.termsConditions",defaultMessage:"Terms"},privacyPolicy:{id:"subscription_list.privacyPolicy",defaultMessage:"Privacy policy"},subscriptionRequested:{id:"subscription_list.subscriptionRequested",defaultMessage:"Subscribing..."},subscribe:{id:"subscription_list.subscribe",defaultMessage:"Subscribe"},resubscribe:{id:"subscription_list.resubscribe",defaultMessage:"Try Again"},tcText:{id:"subscription_list.tcText",defaultMessage:"By subscribing, {mailBrandNameString} will share your email with the sender. {tcMsg} and {privacyPolicy}"}});class j extends l.a.Component{generateI13NModel(e,t){return{mKey:t,sec:D.g.UNSUB_PANE,actionData:{sender:{name:e.name,email:e.email,key:e.id},num_avail:this.props.subscriptions.length}}}componentDidMount(){this.props.subscriptions.forEach(e=>{B.b.sendI13nModel({i13nModel:this.generateI13NModel(e,D.e.SUBSCRIPTION_SHOWN)})})}renderSubscriptionItem(e){const t=this.context.intl.formatMessage;return l.a.createElement("div",{key:e.id,className:U.item},(()=>l.a.createElement("div",{className:U.itemIconContainer},e.status===w.c.SUCCESS?l.a.createElement("div",{className:U.itemIconCheck},l.a.createElement(O.b,{kind:k.b.CHECKMARK,colorState:k.a.INVERTED,size:k.d.XS})):l.a.createElement("div",{className:U.itemIcon,style:{backgroundImage:`url(${Object(L.a)(`/img/${e.icon}`)})`}})))(),(()=>e.status===w.c.SUCCESS?l.a.createElement("div",{className:U.itemDetails},t(H.subscriptionSucceeded,{name:e.name})):l.a.createElement("div",{className:U.itemDetails},l.a.createElement("span",{className:U.itemName},e.name," "),l.a.createElement("span",{className:U.itemEmail},e.email),l.a.createElement("div",{className:U.itemDescription},l.a.createElement(p.FormattedMessage,e.description))))(),(()=>{const t=()=>this.props.subscribe({id:e.id,provider:e.provider,options:e.subscribeOptions,i13nModel:this.generateI13NModel(e,D.e.SUBSCRIPTION_SELECTED)});return e.status===w.c.READY?l.a.createElement(b.a,{onClick:t,kind:E.a.CHROMELESS},l.a.createElement("span",{className:U.itemSubscribeLink},l.a.createElement(p.FormattedMessage,H.subscribe))):e.status===w.c.FAILURE?l.a.createElement("div",{className:U.itemSubscribeFailedContainer},l.a.createElement(b.a,{onClick:t,kind:E.a.CHROMELESS},l.a.createElement("span",{className:U.itemSubscribeLink},l.a.createElement(p.FormattedMessage,H.resubscribe))),l.a.createElement("div",{className:U.itemSubscribeFailedText},l.a.createElement("span",{className:U.itemSubscribeFailedIcon},l.a.createElement(O.b,{kind:k.b.EXCLAMATION_ALT,colorState:k.a.WARNING_GRAD_RED,size:k.d.XS})),l.a.createElement(p.FormattedMessage,H.subscriptionFailed))):e.status===w.c.PENDING?l.a.createElement("div",{className:U.itemSubscribeContainer},l.a.createElement(R.b,null),l.a.createElement("span",{className:U.itemSubscribeLink},l.a.createElement(p.FormattedMessage,H.subscriptionRequested))):void 0})())}render(){const e=this.props.subscriptions,t=this.context.mailBrandNameString;return e&&e.length?l.a.createElement("div",{className:U.container},l.a.createElement("div",{className:U.heading},l.a.createElement(p.FormattedMessage,H.heading)),l.a.createElement("div",{className:U.subheading},l.a.createElement(p.FormattedMessage,H.subheading)),e.map(e=>this.renderSubscriptionItem(e)),l.a.createElement("div",null,l.a.createElement("div",{className:U.tcText},l.a.createElement(p.FormattedMessage,f()({},H.tcText,{values:{tcMsg:l.a.createElement("a",{href:P.Zd,target:"_blank",className:U.tcItemSubscribeLink},l.a.createElement(p.FormattedMessage,H.termsConditions)),privacyPolicy:l.a.createElement("a",{href:P.Mc,target:"_blank",className:U.tcItemSubscribeLink},l.a.createElement(p.FormattedMessage,H.privacyPolicy)),mailBrandNameString:t}}))))):null}}j.contextTypes={intl:p.intlShape.isRequired,mailBrandNameString:r.a.string};var G=a(152),W=a(358),Z=a(2),V=a(69);function q(e,t){return e.mailAPIClient.request("settings.get").then(t=>{e.dispatch(Z.uj,t)}).then(()=>{const a=(0,Object(d.b)(e.store.getState()).getFeaturesSelectors)().getSetting(P.zd.MESSAGE_FILTERS);a.push(t.newFilter),a[a.length-1].index=a.length,e.store.dispatch(Object(V.f)({filters:a}))})}function z(e,t){return e.mailAPIClient.request("settings.get").then(t=>{e.dispatch(Z.uj,t)}).then(()=>{const a=(0,Object(d.b)(e.store.getState()).getFeaturesSelectors)().getSetting(P.zd.MESSAGE_FILTERS),n="Hide "+t.name+" ("+t.email+")";let s=0;for(const e in a)a[e].name===n&&(a.splice(e,1),s++),s>0&&e<a.length&&(a[e].index=a[e].index-s);e.store.dispatch(Object(V.f)({filters:a}))})}function Y(e,{numCleaned:t,i13nModel:a}){e.dispatch(t<=0?Z.hl:t<=2?Z.ll:Z.kl,{i13nModel:a})}var K=a(567),X=a(79),Q=a(257);const J=Object(p.defineMessages)({header:{id:"unsubscribe_dialog.header",defaultMessage:"Tired of deleting mail you don't use?"},unsubscribe:{id:"unsubscribe_dialog.unsubscribe",defaultMessage:"Unsubscribe"},hide:{id:"unsubscribe_dialog.hide",defaultMessage:"Hide"},hideTooltip:{id:"unsubscribe_dialog.hideTooltip",defaultMessage:"Hide in Archive"},close:{id:"unsubscribe_dialog.btn_close",defaultMessage:"Close"},doneButton:{id:"unsubscribe_dialog.doneButton",defaultMessage:"Done"}});class $ extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{showConfirmationDialog:!1,currentUnsubItem:{name:null,email:null,senderKey:null,unsubType:null,unsubTarget:null},cleanedLists:{},numListsCleaned:this.props.numListsPreviouslyCleaned}),s()(this,"_undo",()=>{this.props.onClose(Object.keys(this.state.cleanedLists).length,this.state.numListsCleaned,"undo")}),s()(this,"_undoArchive",(e,t,a)=>{this.context.executeAction(z,{name:e,email:t,i13nModel:{mKey:D.e.UNSUB_UNDO,sec:D.g.UNSUB_PANE,actionData:{sender:{name:e,email:t}}}});const n=g()(this.state.cleanedLists);delete n[a],this.setState({cleanedLists:n,numListsCleaned:this.state.numListsCleaned-1})}),s()(this,"_unsubscribe",(e,t,a,n,s)=>{const i=Object.keys(this.props.unsubList),r=i.indexOf(e);this.props.openConfirmationDialog({i13nModel:{mKey:D.e.UNSUB_UNSUB_CLICKED,sec:D.g.UNSUB_PANE,actionData:{sender:{name:t,email:a},num_avail:i.length,rank_position:r}}}),this.setState({showConfirmationDialog:!0,currentUnsubItem:{name:t,email:a,senderKey:e,unsubType:n,unsubTarget:s}})}),s()(this,"_handleMailtoUnsubscribe",()=>{const e=K.a(this.state.currentUnsubItem.unsubTarget.trim()),t=g()(this.state.cleanedLists),a=e.to.map(function(e){return{email:e}});this.props.sendUnsubscribeMail({toAddresses:a,subject:e.subject||"Unsubscribe",body:e.body||"Please unsubscribe and remove me from this email list immediately.",i13nModel:{mKey:D.e.UNSUB_MAILTO_SEND,sec:D.g.UNSUB_PANE,actionData:{sender:{name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email}}}}),t[this.state.currentUnsubItem.senderKey]={name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email,status:"unsubscribed"},this.setState({cleanedLists:t,numListsCleaned:this.state.numListsCleaned+1}),this._handleConfirmationDialogClose()}),s()(this,"_handleLinkUnsubscribe",()=>{const e=g()(this.state.cleanedLists);window.open(this.state.currentUnsubItem.unsubTarget,"_blank"),e[this.state.currentUnsubItem.senderKey]={name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email,status:"unsubscribed"},this.setState({cleanedLists:e,numListsCleaned:this.state.numListsCleaned+1}),this.props.unsubscribeLinkVisited({i13nModel:{mKey:D.e.UNSUB_TAB_GO,sec:D.g.UNSUB_PANE,actionData:{sender:{name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email}}}}),this._handleConfirmationDialogClose()}),s()(this,"_handleConfirmationDialogClose",()=>{this.setState({showConfirmationDialog:!1})}),s()(this,"_cancelUnsubscribe",e=>{let t;"mailto"===e?t=D.e.UNSUB_MAILTO_CANCEL:"link"===e&&(t=D.e.UNSUB_TAB_CANCEL),this.props.closeConfirmationDialog({i13nModel:{mKey:t,sec:D.g.UNSUB_PANE,actionData:{sender:{name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email}}}}),this._handleConfirmationDialogClose()}),s()(this,"_handleArchive",(e,t,a)=>{const n=g()(this.state.cleanedLists),s={actions:[{type:"MOVETOFOLDER",value:{folderActionValueBean:{folder:{name:"Archive"}}}}],criterions:[{field:"SENDER",matchCase:!1,operator:"CONTAINS",value:t}],index:-1,matchType:"ALL",name:"Hide "+e+" ("+t+")"},i=Object.keys(this.props.unsubList),r=i.indexOf(a);this.context.executeAction(q,{newFilter:s,i13nModel:{mKey:D.e.UNSUB_HIDE,sec:D.g.UNSUB_PANE,actionData:{sender:{name:e,email:t},num_avail:i.length,rank_position:r}}}),n[a]={name:e,email:t,status:"archived"},this.setState({cleanedLists:n,numListsCleaned:this.state.numListsCleaned+1})}),s()(this,"_renderConfirmationDialog",()=>{const e=this.state.currentUnsubItem.unsubType,t=this.unsubscribeDialog.getBoundingClientRect(),a={left:t.left,top:t.top,width:t.width,height:t.height,zIndex:S.ZIndices.OVERLAY,backgroundColor:"white",opacity:.3,position:"absolute"};return l.a.createElement("div",null,l.a.createElement(G.a,null,l.a.createElement(v,{alignTo:this.unsubscribeDialog,onSuccess:"mailto"===e?this._handleMailtoUnsubscribe:this._handleLinkUnsubscribe,onCancel:()=>this._cancelUnsubscribe(this.state.currentUnsubItem.unsubType),unsubType:e,currentUnsubItem:this.state.currentUnsubItem.name}),l.a.createElement("div",{style:a})))}),s()(this,"_renderSubscribedSenders",()=>{const e=A()(T.a),t=this.context.intl.formatMessage;return Object.keys(this.props.unsubList).map(a=>{let n;const s=this.props.unsubList[a],i=s.name,r=s.email,o=s.mailto?"mailto":"link",c=s.mailto||s.unsubLink,d=a in this.state.cleanedLists&&this.state.cleanedLists[a].name===i;return d&&(n=l.a.createElement(p.FormattedMessage,"unsubscribed"===this.state.cleanedLists[a].status?{id:"unsubscribe_dialog.unsubSuccess",defaultMessage:"Unsubscribed from {name} mailing list.",values:{name:l.a.createElement("b",null,i)}}:{id:"unsubscribe_dialog.hideSuccess",defaultMessage:"{name} mailing list will go to your Archive folder.",values:{name:l.a.createElement("b",null,i)}})),d?l.a.createElement("div",{className:e.unsubscribeContainer,key:a,ref:r,"data-test-id":"unsubscribe-unsub-item"},l.a.createElement(O.b,{kind:k.b.CAL_ACCEPT,size:k.d.XS,colorState:k.a.SUCCESS,"data-test-id":"cleaned-list-icon"}),l.a.createElement("div",{className:e.senders},l.a.createElement("span",{className:e.cleanedList},n)),"archived"===this.state.cleanedLists[a].status&&l.a.createElement(b.a,{kind:E.a.CHROMELESS,onClick:()=>this._undoArchive(i,r,a),"data-test-id":"archive-undo-btn"},l.a.createElement("span",{className:e.undo},l.a.createElement(p.FormattedMessage,{id:"unsubscribe_dialog.undo",defaultMessage:"Undo"})))):l.a.createElement("div",{className:e.unsubscribeContainer,key:a,ref:r,"data-test-id":"unsubscribe-unsub-item"},l.a.createElement("div",{className:e.senders},l.a.createElement("span",{className:e.senderName},i),l.a.createElement("span",{className:e.senderEmail},r)),l.a.createElement(b.a,{kind:E.a.CHROMELESS,onClick:()=>this._unsubscribe(a,i,r,o,c),"data-test-id":"unsubscribe-unsub-link"},l.a.createElement("span",{className:e.unsubscribeLink},l.a.createElement(p.FormattedMessage,J.unsubscribe))),l.a.createElement(b.a,{kind:E.a.CHROMELESS,onClick:()=>this._handleArchive(i,r,a),"data-test-id":"unsubscribe-hide-link",title:t(J.hideTooltip)},l.a.createElement("span",{className:e.hideLink},l.a.createElement(p.FormattedMessage,J.hide))))})}),s()(this,"forceFocus",()=>{this.unsubscribeDialog.focus()}),s()(this,"handleKeyDown",e=>{e.stopPropagation(),"Escape"===e.key&&(e.preventDefault(),this.props.onClose(Object.keys(this.state.cleanedLists).length,this.state.numListsCleaned,"icon"))}),s()(this,"handleBlurCapture",e=>{this.unsubscribeDialog&&!this.unsubscribeDialog.contains(e.relatedTarget||e.nativeEvent.explicitOriginalTarget||e.nativeEvent.srcElement)&&setTimeout(this.forceFocus,0)})}componentDidMount(){let e=0;for(const t in this.props.unsubList)this.props.displayUnsubscribeList({i13nModel:{mKey:D.e.UNSUB_DISPLAYED,sec:D.g.UNSUB_PANE,actionData:{sender:{name:this.props.unsubList[t].name,email:this.props.unsubList[t].email,key:t,r:++e,s:this.props.unsubList[t].score},num_avail:Object.keys(this.props.unsubList).length}}});this.forceFocus(),window.addEventListener("focus",this.forceFocus)}componentWillUnmount(){window.removeEventListener("focus",this.forceFocus)}render(){const e=A()(T.a),t=this.context.intl.formatMessage,a=this.props,n=a.subscriptions,s=a.subscribe,i=a.deleteItemCount,r=a.undoAction,o=this.state.numListsCleaned;return l.a.createElement("div",{className:e.container,ref:e=>this.unsubscribeDialog=e,"data-test-id":"unsubscribe-dialog",onKeyDown:this.handleKeyDown,tabIndex:0,onBlurCapture:this.handleBlurCapture},l.a.createElement("div",{className:e.header},l.a.createElement(p.FormattedMessage,J.header)),l.a.createElement("div",{className:e.body},l.a.createElement(p.FormattedMessage,{id:"unsubscribe_dialog.deleteMsg",defaultMessage:"{count} emails deleted ({undoMsg}). We can help you unsubscribe from mailing lists or automatically filter them to the Archive folder. Here are today's recommendations:",values:{count:i,undoMsg:l.a.createElement(W.a,{undoAction:r,onClose:this._undo})}})),l.a.createElement("div",{"data-test-id":"unsubscribe-unsub-list"},this._renderSubscribedSenders()),this.state.showConfirmationDialog&&this._renderConfirmationDialog(),l.a.createElement("div",{className:e.actionContainer},l.a.createElement(b.a,{onClick:()=>this.props.onClose(Object.keys(this.state.cleanedLists).length,o,"btn"),title:t(J.doneButton),"data-test-id":"unsubscribe-done-button",marginLess:!0,kind:E.a.PRIMARY,"aria-label":t(J.doneButton)},l.a.createElement(p.FormattedMessage,J.doneButton)),l.a.createElement("span",{className:e.counter},o>0?l.a.createElement(p.FormattedMessage,{id:"unsubscribe_dialog.listCleaned",defaultMessage:"{count} mailing {count, plural, one {list} other {lists}} cleaned",values:{count:o}}):null)),n&&l.a.createElement(j,{subscriptions:n,subscribe:s}),l.a.createElement("span",{className:e.closeWrapper},l.a.createElement(X.a,{"data-iskeynav":!0,"data-test-id":"cue-close",kind:k.b.CLOSE,size:k.d.XS,onClick:()=>this.props.onClose(Object.keys(this.state.cleanedLists).length,o,"icon"),title:t(J.close),colorStates:{normal:k.a.DISABLED,hovered:k.a.SELECTED}})))}}s()($,"contextTypes",{executeAction:r.a.func,intl:p.intlShape.isRequired});var ee=Object(c.connect)(null,e=>({sendUnsubscribeMail:t=>e(Object(Q.d)(t)),displayUnsubscribeList:t=>e(Object(Q.b)(t)),openConfirmationDialog:t=>e(Object(Q.c)(t)),closeConfirmationDialog:t=>e(Object(Q.a)(t)),unsubscribeLinkVisited:t=>e(Object(Q.j)(t))}))($),te=a(440);a.d(t,"UnsubscribeControllerView",function(){return ae}),a.d(t,"mapStateToProps",function(){return ne});class ae extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{showUnsubscribeDialog:!1}),s()(this,"handleClose",(e,t,a)=>{let n;"btn"===a?n=D.e.UNSUB_DONE:"icon"===a?n=D.e.UNSUB_DISMISS:"undo"===a&&(n=D.e.UNSUB_UNDO_BATCH_DELETE),this.setState({showUnsubscribeDialog:!1}),this.context.executeAction(Y,{numCleaned:e,i13nModel:{mKey:n,sec:D.g.UNSUB_PANE,actionData:{num_avail:Object.keys(this.props.unsubList).length}}}),t!==this.props.numListsPreviouslyCleaned&&this.props.changeSettings({name:P.zd.NUM_UNSUBSCRIBED_ITEMS,value:t})})}componentWillReceiveProps(e){e.unsubList&&Object.keys(e.unsubList).length>0&&!_()(e.unsubList,this.props.unsubList)&&(this.setState({showUnsubscribeDialog:!0}),this.props.changeSettings({name:P.zd.UNSUBSCRIBE_TIMESTAMP,value:Date.now()}))}render(){return this.state.showUnsubscribeDialog?l.a.createElement(u.a,{isModalStyle:!0},l.a.createElement(ee,{undoAction:this.props.undoAction,onClose:this.handleClose,unsubList:this.props.unsubList,deleteItemCount:this.props.deleteItemCount,numListsPreviouslyCleaned:this.props.numListsPreviouslyCleaned,subscribe:this.props.subscribe,subscriptions:this.props.subscriptions})):null}}s()(ae,"contextTypes",{executeAction:r.a.func,config:r.a.object});const ne=e=>{const t=Object(d.b)(e),a=t.getSubscriptionSelectors,n=t.getUnSubscribeListSelectors,s=t.getFeaturesSelectors,i=t.getSelectedAccountId,r=(0,t.getAccountSelectors)(),o=s(),l=a(),c=r.getAccountEmailByAccountId(i()),m=o.getSetting(P.zd.EMAIL_SUBSCRIPTIONS),_=o.isEnabled(P.ub.SUBSCRIPTION_RECOMMENDATIONS),u=l.getSubscriptions(c).filter(e=>-1===m.indexOf(e.id)||e.status!==w.c.READY);return{subscriptions:_?u:null,unsubList:n().getUnSubscribeList().unsubscribeItems,undoAction:n().getUnSubscribeList().undoAction,deleteItemCount:n().getUnSubscribeList().deleteItemCount,numListsPreviouslyCleaned:n().getUnSubscribeList().numListsPreviouslyCleaned}};t.default=Object(c.connect)(ne,e=>({subscribe:(...t)=>e(Object(te.a)(...t)),changeSettings:t=>e(Object(V.b)(t))}))(ae)},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(1648),u=a.n(_),p=a(45),h=a(1256),g=a(13),E=a.n(g),b=a(145),C=a(241),f=a(1649),S=a.n(f);const y=Object(m.defineMessages)({playVideo:{id:"videoPlayerPlayButton",defaultMessage:"Play video"},reload:{id:"videoPlayerReloadButton",defaultMessage:"Reload"}});class T extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showError:this.props.loadError}),r()(this,"renderPlayButton",()=>{const e=this.props,t=e.playButtonSize,a=e.handleClick,n=this.context.intl.formatMessage,s=this.state.showError,i=E()(S.a,{showError:s});return d.a.createElement("div",{className:i.playButton,"data-test-id":"player-play-button",tabIndex:"0","aria-label":n(y.playVideo),title:n(y.playVideo),role:"button",onClick:a},d.a.createElement(C.a,{kind:b.a.PLAY_VIDEO,width:t,height:t}))}),r()(this,"renderError",()=>{const e=this.context.intl.formatMessage,t=this.state.showError,a=E()(S.a,{showError:t});return d.a.createElement("div",{className:a.errorContainer,"data-test-id":"player-error"},d.a.createElement("div",{className:a.errorMessage},d.a.createElement(m.FormattedMessage,{id:"tutorial.load_error",defaultMessage:"Sorry, an error has occurred while streaming this video. We apologize for any inconvenience."})),d.a.createElement("button",{className:a.reloadButton,onClick:this.props.handleClick,tabIndex:-1,title:e(y.reload),"data-test-id":"player-reload-button"},d.a.createElement(m.FormattedMessage,y.reload)))})}componentWillReceiveProps(e){this.props.loadError!==e.loadError&&this.setState({showError:e.loadError})}render(){const e=this.props,t=e.width,a=e.height,n=this.state.showError,s=E()(S.a,{showError:n});return d.a.createElement("div",{className:s.container,style:{width:t,height:a},tabIndex:"-1"},this.props.coverImage?d.a.createElement("img",{className:s.coverImage,"data-test-id":"player-cover-image",src:this.props.coverImage,"aria-hidden":!0}):null,n?this.renderError():this.renderPlayButton())}}r()(T,"contextTypes",{intl:m.intlShape}),r()(T,"defaultProps",{width:"480px",height:"270px",playButtonSize:48,loadError:!1});var N=T,A=a(7),I=a(2);function M(e,t){e.dispatch(I.Sk,t)}var v=a(1650),D=a.n(v),O=a(1651),k=a.n(O);const R=Object(m.defineMessages)({playingText:{id:"video_item_playing_text",defaultMessage:"Playing now"}});class w extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{isHovered:!1}),r()(this,"handleSelect",()=>{this.props.handleSelect(this.props.videoIndex)}),r()(this,"handleHovered",e=>{this.setState({isHovered:e})}),r()(this,"renderPlayButton",()=>{return!this.props.isPlaying&&this.state.isHovered})}render(){const e=this.context.intl.formatMessage,t=this.context.mailBrandNameString,a=this.props,n=a.isPlaying,s=a.video,i=this.context.getCss(k.a,{isPlaying:n,isHovered:this.state.isHovered});return d.a.createElement("div",{className:i.itemContainer,onClick:this.handleSelect,onMouseEnter:()=>this.handleHovered(!0),onMouseLeave:()=>this.handleHovered(!1)},d.a.createElement("img",{className:i.thumbnail,src:s.thumbnail,"aria-hidden":!0}),this.renderPlayButton()?d.a.createElement("div",{className:i.playButton},d.a.createElement(C.a,{kind:b.a.PLAY_VIDEO,width:48,height:48})):null,n?d.a.createElement("span",{className:i.playingText},e(R.playingText)):null,d.a.createElement("div",{className:i.videoTitle},e(s.title,{mailBrandNameString:t})))}}r()(w,"contextTypes",{intl:m.intlShape,getCss:l.a.func,mailBrandNameString:l.a.string});var P=w;const x=E()(D.a);var F=class extends d.a.Component{render(){const e=this.props,t=e.selectedVideoId,a=e.handleSelect;return d.a.createElement("div",{className:x.galleryContainer},e.videos.map((e,n)=>d.a.createElement(P,{key:n,handleSelect:a,video:e,isPlaying:t===e.id,videoIndex:n})))}};const L="502px",B="282px",U=Object(m.defineMessages)({video_title:{id:"tutorial.video_title",defaultMessage:"Introducing the new {mailBrandNameString}"},video_subsubtitle:{id:"tutorial.video_subsubtitle",defaultMessage:"With a cleaner design and streamlined features, you can now keep your inbox more organized than ever."},smarter_search_video_title:{id:"tutorial.smarter_search_video_title",defaultMessage:"Tips for Smarter Search"},smarter_search_video_subtitle:{id:"tutorial.smarter_search_video_subtitle",defaultMessage:"Three easy ways to search for emails, photos and documents in your inbox."},personalize_inbox_video_title:{id:"tutorial.personalize_inbox_video_title",defaultMessage:"Personalize your inbox"},personalize_inbox_video_subtitle:{id:"tutorial.personalize_inbox_video_subtitle",defaultMessage:"Set up your email just the way you like it"},email_organize_video_title:{id:"tutorial.email_organize_video_title",defaultMessage:"Email organization"},email_organize_video_subtitle:{id:"tutorial.email_organize_video_subtitle",defaultMessage:"Explore new ways to view and organize your emails"},compose_video_title:{id:"tutorial.compose_video_title",defaultMessage:"Send with style"},compose_video_subtitle:{id:"tutorial.compose_video_subtitle",defaultMessage:"Make your emails stand out with emojis, animated GIFs, stationery and more."}}),H=[{thumbnail:Object(p.a)("/img/mail_onboarding.jpg"),title:U.video_title,subTitle:U.video_subsubtitle},{thumbnail:Object(p.a)("/img/search_onboarding.jpg"),title:U.smarter_search_video_title,subTitle:U.smarter_search_video_subtitle},{thumbnail:Object(p.a)("/img/personalize_inbox.jpg"),title:U.personalize_inbox_video_title,subTitle:U.personalize_inbox_video_subtitle},{thumbnail:Object(p.a)("/img/email_organize.jpg"),title:U.email_organize_video_title,subTitle:U.email_organize_video_subtitle},{thumbnail:Object(p.a)("/img/compose_thumbnail.png"),title:U.compose_video_title,subTitle:U.compose_video_subtitle}];class j extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{selectedVideoIndex:-1,isInitialState:!0}),r()(this,"renderHeader",e=>{const t=this.context.mailBrandNameString;return d.a.createElement("div",{className:e.headerSection},d.a.createElement("div",{className:e.viewHeader},d.a.createElement(m.FormattedMessage,{id:"tutorial.view_title",defaultMessage:"Explore More"})),d.a.createElement("div",{className:e.viewDescription},d.a.createElement(m.FormattedMessage,{id:"tutorial.view_description",defaultMessage:"See how easy it is to use {mailBrandNameString}'s new powerful features",values:{mailBrandNameString:t}})))}),r()(this,"handlePlaybackStart",()=>{const e=this.state.selectedVideoIndex;this.context.executeAction(M,{i13nModel:{mKey:A.e.TUTORIAL_VIDEO,sec:A.g.TUTORIALS,interactionType:A.d.click,actionData:{videoId:e>=0?H[e].id:H[0].id}}})}),r()(this,"handleVideoClick",()=>{this.state.selectedVideoIndex<0&&this.handleVideoSelect(0)}),r()(this,"getMediaItems",()=>{const e=this.state.selectedVideoIndex;if(e>=0){let t=[H[e]];return(t=t.concat(H.filter((t,a)=>a!==e))).map(e=>({id:e.id}))}return H.map(e=>({id:e.id}))}),r()(this,"renderPlayer",e=>{const t={width:L},a=this.state,n=a.isInitialState,i=a.selectedVideoIndex,r=this.context.mailBrandNameString,o=i>=0?H[i].id:"",l=i>=0?H[i]:H[0],c={playlist:{mediaItems:this.getMediaItems()},replayonlyendscreen:!0,autoplay:!0};return d.a.createElement("div",{className:e.playerContainer},d.a.createElement("div",{className:e.videoContainer},d.a.createElement(h.a,{playerConfig:c,width:L,height:B,playerPositionId:o,onPlaybackStart:this.handlePlaybackStart,handleVideoClick:this.handleVideoClick},n?d.a.createElement(N,{playButtonSize:88,coverImage:l.thumbnail,width:L,height:B,handleClick:()=>{}}):null)),d.a.createElement("div",{className:e.msgContainer,style:t},d.a.createElement("div",{className:e.videoTitle},d.a.createElement(m.FormattedMessage,s()({},l.title,{values:{mailBrandNameString:r}}))),d.a.createElement("div",{className:e.videoSubtitle},d.a.createElement(m.FormattedMessage,l.subTitle))))}),r()(this,"handleVideoSelect",e=>{e!==this.state.selectedVideoIndex&&this.setState({selectedVideoIndex:e,isInitialState:!1})})}render(){const e=this.state.selectedVideoIndex,t=e>=0?H[e].id:"",a=this.context.getCss(u.a),n=this.props.newMailVideoId;return H[0].id=n.onboarding,H[1].id=n.searchOnboarding,H[2].id=n.personalizeInbox,H[3].id=n.emailOrganization,H[4].id=n.compose,d.a.createElement("div",{"data-test-id":"tutorial-view",className:a.container},this.renderHeader(a),this.renderPlayer(a),d.a.createElement(F,{handleSelect:this.handleVideoSelect,videos:H,selectedVideoId:t}))}}r()(j,"contextTypes",{executeAction:l.a.func.isRequired,getCss:l.a.func,config:l.a.object,mailBrandNameString:l.a.string});t.default=j},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(74),_=a.n(m).a.create("norrin/empty_folder_video"),u=a(6),p=a(15),h=a(11),g=a(1256),E=a(1360),b=a.n(E),C=a(13),f=a.n(C),S=a(146),y=a(79),T=a(5),N=a(16),A=a(19),I=a(20),M=a(59),v=a(55),D=a(53),O=a(40),k=a(14),R=a(34),w=a(28);const P=Object(u.defineMessages)({hide:{id:"efv_hide",defaultMessage:"Hide"},featured:{id:"efv_featured_channel",defaultMessage:"Featured"},news:{id:"efv_news_channel",defaultMessage:"News"},finance:{id:"efv_finance_channel",defaultMessage:"Finance"},sports:{id:"efv_sports_channel",defaultMessage:"Sports"},lifestyles:{id:"efv_lifestyles_channel",defaultMessage:"Lifestyles"},entertainment:{id:"efv_entertainment_channel",defaultMessage:"Entertainment"}});class x extends d.a.Component{constructor(...e){super(...e),r()(this,"closePlayer",e=>{e.preventDefault(),this.props.handleCloseVideoPlayer()}),r()(this,"changeChannel",(e,t)=>{t.preventDefault(),this.props.changeChannel(e)}),r()(this,"renderChannels",()=>{const e=this.props,t=e.currentChannel,a=e.channelData;return Object.keys(e.channels).map(e=>{const n=e===t,s=f()(b.a,{active:n}),i=a[e]?a[e].channelName:"";return d.a.createElement(R.a,{key:e,name:e},d.a.createElement(A.a,{kind:w.a.MENUITEM,onClick:this.changeChannel.bind(this,e),title:i,"aria-label":i},n?d.a.createElement("span",{className:s.checkMark},d.a.createElement(N.b,{kind:T.b.CHECKMARK,size:T.d.XS,colorState:T.a.NORMAL})):null,d.a.createElement("span",{className:s.channelTab},i)))})})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.currentChannel,n=t.channelData,s=t.isDarkTheme,i=f()(b.a,{isDarkTheme:s}),r=n[a]?n[a].channelName:"";return d.a.createElement("div",{"data-test-id":"efv-toolbar",className:i.container},!this.props.aolVideoPlayer&&d.a.createElement(v.a,null,d.a.createElement(D.a,null,d.a.createElement("div",{"data-test-id":"efv-channel-list",className:i.categoryFilterContainer},r&&d.a.createElement("p",{className:i.categoryFilterHeader},r),d.a.createElement(I.a,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"show-list-button",kind:T.b.CHEVRON_UP,colorState:T.a.INHERITED,size:T.d.S,rotate:T.c.D180}))),d.a.createElement(O.b,{triggerOn:k.i.CLICK,isArrowVisible:!1,offset:12},d.a.createElement("div",null,d.a.createElement(M.a,{focusOnMount:!0,"data-test-id":"gpt-list-menu"},this.renderChannels())))),d.a.createElement(S.a,null),d.a.createElement("span",{className:i.closeWrapper},d.a.createElement(y.a,{"data-test-id":"efv-toolbar-close",kind:T.b.CLOSE,size:T.d.XS,onClick:this.closePlayer,title:e(P.hide),colorStates:{normal:s?T.a.WHITE:T.a.NORMAL,hovered:T.a.SELECTED}})))}}r()(x,"contextTypes",{intl:u.intlShape});var F=x,L=a(152),B=a(1361),U=a.n(B),H=a(299),j=a(10),G=a(0);const W={WIDTH:"640px",HEIGHT:"360px"},Z={mute:!0,playlistUI:{show:!0,position:"bottom"},YVAP:{accountId:"1097",timeout:20,vpaidTimeout:20},site:"Mail",html5:!1,expName:"mailemptyfolderHTML5"};var V=a(12),q=a(9),z=a(292);var Y=Object(p.connect)(e=>{const t=Object(h.b)(e).getSetting;return{videoPlayerUrl:t(G.zd.AOL_VIDEO_PLAYER_URL),videoPlayerIframeSrc:t(G.zd.AOL_VIDEO_PLAYER_IFRAME_SRC)}})(class extends d.a.Component{constructor(){super(),this.handleIframeLoaded=this.handleIframeLoaded.bind(this)}componentWillReceiveProps(e){this.playerApi&&this.props.play!==e.play&&(e.play?this.playerApi.play():this.playerApi.pause())}handleIframeLoaded(e){this.playerApi||z.a.loadScript(this.props.videoPlayerUrl).then(()=>{window.oath&&window.oath.player&&window.oath.player.loadIframeApi(e,e=>{this.playerApi=e,this.props.play||this.playerApi.pause()})})}render(){const e=this.props;return d.a.createElement("iframe",{"data-test-id":"aol-video-player",ref:this.handleIframeLoaded,src:e.videoPlayerIframeSrc,sandbox:"allow-same-origin allow-scripts",allow:"autoplay",allowFullScreen:!0,width:e.width,height:e.height,frameBorder:"0"})}}),K=a(48),X=a(22);a.d(t,"EmptyFolderVideo",function(){return J}),a.d(t,"mapStateToProps",function(){return $}),a.d(t,"mapDispatchToProps",function(){return ee});const Q=Object(u.defineMessages)({sub_header:{id:"efv_sub_header",defaultMessage:"Catch up on the most popular videos on {yahooBrandNameString}"},inbox:{id:"efv_inbox",defaultMessage:"Inbox"},unread:{id:"efv_unread",defaultMessage:"Unread"},starred:{id:"efv_starred",defaultMessage:"Starred"},draft:{id:"efv_drafts",defaultMessage:"Drafts"},sent:{id:"efv_sent",defaultMessage:"Sent"},archive:{id:"efv_archive",defaultMessage:"Archive"},spam:{id:"efv_spam",defaultMessage:"Spam"},bulk:{id:"efv_spam",defaultMessage:"Spam"},trash:{id:"efv_trash",defaultMessage:"Trash"}});class J extends d.a.Component{constructor(...e){super(...e),r()(this,"logPlayerEvent",(e={},t)=>{let a=e;if("object"==typeof e){a={adBreakId:e.adBreakId,videoId:e.videoId,adBreakItemId:e.adBreakItemId}}_.info("Empty folder video "+t,{payload:a})}),r()(this,"videoPlayerCallbacks",["onAdPlaybackEnd","onPlaybackComplete","onPlaybackError","onAdError","onPlayerError","onLoadError"].reduce((e,t)=>(e[t]=e=>this.logPlayerEvent(e,t),e),{})),r()(this,"constructPlayerConfig",()=>{const e=this.props,t=e.channelData,a=e.currentChannel,n=e.spaceId,s=e.channels,i=e.autoplay,r=this.context.region,o=this.context.getThemeMode()===X.h.DARK;let l={};for(const e in t)if(e===a){l=t[e];break}if(!Object(q.a)(l,"channelVideos.length",null))return null;const c={mediaItems:[{id:l.channelVideos[0].playlistId}],id:s[a.toLowerCase()]},d=Object.assign({pageSpaceId:n,region:r,playlist:c,autoplay:i},Z);return o&&(d.playlistUI.theme="dark"),d}),r()(this,"openPlayer",e=>{e.preventDefault(),this.props.handleOpenVideoPlayer()}),r()(this,"onUIInteract",e=>{const t=this.props,a=t.handleVideoPlay,n=t.handleVideoPause;switch(e.srcElement){case"ctrl-play-btn":return a();case"ctrl-pause-btn":return n();case"ui_pl_thmb_clk":_.info("Playlist UI clicked")}}),r()(this,"handleMuteToggled",e=>{this.mute=e}),r()(this,"renderHeader",()=>{const e=this.context.yahooBrandNameString,t=this.props,a=t.showVideoPlayer,n=t.folderName,i=t.isSystemFolder,r=t.isAccountSyncing,o=this.context.getThemeMode()===X.h.DARK,l=f()(U.a,{videoHidden:r||!a||!this._playerConfig,isDarkTheme:o});return r?d.a.createElement("div",{"data-test-id":"efv-header",className:l.header},d.a.createElement(u.FormattedMessage,{id:"sync_folder_header",defaultMessage:"Syncing... Your mailbox will be ready momentarily"})):d.a.createElement("div",{"data-test-id":"efv-header",className:l.header},d.a.createElement(u.FormattedMessage,{id:"efv_header",defaultMessage:'Your "{folder_name}" folder is empty',values:{folder_name:d.a.createElement("span",{"data-test-id":"efv-folder-name",className:l.folderName},i&&Q[n.toLowerCase()]?d.a.createElement(u.FormattedMessage,Q[n.toLowerCase()]):n)}}),this._playerConfig?d.a.createElement("div",{"data-test-id":"efv-subheader",className:l.subHeader,onClick:a?null:this.openPlayer},d.a.createElement(u.FormattedMessage,s()({},Q.sub_header,{values:{yahooBrandNameString:e}}))):null)}),r()(this,"onPlaybackStart",(e,t)=>{this.logPlayerEvent(e,t),this.props.showEmptyFolderVideo&&this.props.isAppVisible||this.forceUpdate()}),r()(this,"renderVideoPlayerContent",()=>{const e=this.props,t=e.isPaused,a=e.currentChannel,n=e.showEmptyFolderVideo,i=e.aolVideoPlayer,r=e.isAppVisible,o=this.context.getThemeMode()===X.h.DARK,l=f()(U.a,{aolVideoPlayer:i,isDarkTheme:o});return d.a.createElement("div",{"data-test-id":n?"efv-container-visible":"efv-container-hidden",className:l.container},d.a.createElement(F,s()({},this.props,{isDarkTheme:o})),d.a.createElement("div",{className:l.contentContainer},this.renderHeader(),d.a.createElement("div",{"data-test-id":"video-container",className:l.videoContainer},i?d.a.createElement(Y,{play:n,width:W.WIDTH,height:W.HEIGHT}):d.a.createElement(g.a,s()({playerConfig:this._playerConfig,width:"100%",height:"100%",play:n&&!t&&r,mute:this.mute,showVideoCoverInitially:!n},this.videoPlayerCallbacks,{onUIInteract:this.onUIInteract,onPlaybackStart:e=>this.onPlaybackStart(e,"onPlaybackStart"),onAdPlaybackStart:e=>this.onPlaybackStart(e,"onAdPlaybackStart"),onMute:this.handleMuteToggled,key:a})))))})}componentWillMount(){this._playerConfig=this.props.playerConfig||this._playerConfig}render(){const e=this.props,t=e.showVideoPlayer,a=e.showEmptyFolderVideo,n=e.aolVideoPlayer,s={width:"100%",height:"100%",backgroundColor:this.context.getThemeMode()===X.h.DARK?V.TRANSPARENT:V.WHITE,zIndex:50};return s.display=a?"block":"none",this._playerConfig=n?this._playerConfig||a:this.constructPlayerConfig(),d.a.createElement(L.a,{top:"0px",left:"0px",position:"absolute",visibility:"visible",rootId:"mail-app-component",styles:s},t&&this._playerConfig?this.renderVideoPlayerContent():this.renderHeader())}}r()(J,"contextTypes",{region:l.a.string,yahooBrandNameString:l.a.string,getThemeMode:l.a.func});const $=e=>{const t=Object(h.b)(e),a=t.getVideoPlayerSelectors,n=t.getVideoChannelsMetaData,s=t.getFoldersSelectors,i=t.getRoute,r=t.getCurrentSpaceId,o=t.getAccountById,l=t.getSelectedAccountId,c=t.couldShowEmptyFolderVideo,d=t.getSmartViewTypeFromListId,m=t.isAppVisible,_=(0,t.getFeaturesSelectors)(),u=_.getSetting,p=_.isEnabled,g=s(),E=g.getFolderName,b=g.isSystemFolder,C=g.doesFolderIdExist,f=a(),S=f.getCurrentChannel,y=f.getShowVideoPlayer,T=f.getIsPaused,N=i(),A=Object(j.w)(N),I=Object(j.H)(A),M=S(),v=n(),D=T(),O=u(G.zd.EMPTY_FOLDER_VIDEO_CHANNELS),k=p(G.ub.AUTOPLAY_EMPTY_FOLDER_VIDEO),R=p(G.ub.AOL_VIDEO_PLAYER),w=Object(j.o)(A),P=C(w),x=!P||b(w),F=c(),L=r(),B=P?E(w):"",U=o(l()),H=Object(K.a)(U);let W;return{currentChannel:M,showVideoPlayer:y()&&!H,channelData:v,isPaused:D,showEmptyFolderVideo:F,channels:O,autoplay:k,folderName:W=!B&&I?d(A).toLowerCase():"string"==typeof B?B.split("/").pop():B,isSystemFolder:x,listId:A,spaceId:L,isAccountSyncing:H,aolVideoPlayer:R,isAppVisible:m()}},ee=e=>({handleOpenVideoPlayer(){e(Object(H.g)())},handleCloseVideoPlayer(){e(Object(H.f)())},changeChannel(t){e(Object(H.a)({channelAlias:t}))},handleVideoPlay(){e(Object(H.i)())},handleVideoPause(){e(Object(H.h)())}});t.default=Object(p.connect)($,ee)(J)},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),i=a(31),r=a.n(i),o=a(3),l=a.n(o),c=(a(8),a(1)),d=a.n(c),m=a(13),_=a.n(m),u=a(6),p=a(15),h=a(236),g=a(5),E=a(16),b=a(27),C=a(209),f=a(483),S=a(35),y=a(0),T=a(7),N=a(2),A=a(18),I=a(9),M=a(11),v=a(1355),D=a(19),O=a(93),k=a(102),R=a(615),w=a(1347),P=a.n(w);const x=()=>{},F=Object(u.defineMessages)({description:{id:"coupon_self_extraction_card.description",defaultMessage:"Save this deal to the Deals View"},save:{id:"coupon_self_extraction_card.save",defaultMessage:"Save deal"}});class L extends d.a.Component{constructor(...e){super(...e),l()(this,"state",{showModal:!1}),l()(this,"handleSave",()=>{this.setState({showModal:!0})}),l()(this,"hideModal",()=>{this.setState({showModal:!1})}),l()(this,"renderModal",()=>{const e=this.props;return d.a.createElement(k.a,{onOuterClick:x,onClose:this.hideModal,"data-test-id":"self-extraction-modal"},d.a.createElement(R.a,{description:e.subject,onClose:this.hideModal,parentMessageId:e.parentMessageId}))})}render(){const e=this.props,t=e.fullWidth,a=e.theme,n=this.context.intl.formatMessage,s=_()(P.a,{theme:a,fullWidth:t});return d.a.createElement("div",{"data-test-id":"coupon-self-extraction-card",className:s.container},d.a.createElement("div",{"data-test-id":"coupon-self-extraction-card-info",className:s.cardInfo},d.a.createElement("div",{className:s.cardDetails},d.a.createElement("div",{className:s.cardDescription},n(F.description))),d.a.createElement("div",{"data-test-id":"coupon-self-extraction-card-button",className:s.buttonContainer},d.a.createElement(D.a,{className:s.buttonUnclipped,onClick:this.handleSave,"data-test-id":"save-coupon-btn"},d.a.createElement(E.b,{kind:g.b.ADD,size:g.d.M,colorState:g.a.SUCCESS}),d.a.createElement("span",{className:s.buttonTextUnclipped},n(F.save))))),this.state.showModal?this.renderModal():null)}}l()(L,"contextTypes",{intl:u.intlShape.isRequired});var B=Object(p.connect)((e,{parentMessageId:t})=>{const a=Object(M.b)(e),n=a.getSubjectAndSnippetSelectors,s=(0,a.getFeaturesSelectors)(),i=n().getSubject;return{theme:s.getSetting(y.zd.THEME),subject:i(t)}},e=>({save:({messageId:t,description:a,expiryDate:n,i13nModel:s={}})=>e(Object(O.l)({messageId:t,description:a,expiryDate:n,i13nModel:s}))}))(L),U=a(1583),H=a.n(U),j=a(346);const G=Object(u.defineMessages)({RECOMMENDATION:{id:"shopping_cart_ad.recommendation",defaultMessage:"Recommended item"},ADD_TO_CART:{id:"shopping_cart_ad.add_to_cart",defaultMessage:"Item from your shopping cart"},VIEW:{id:"shopping_cart_ad.view",defaultMessage:"Pick up where you left off"}}),W=(e,{intl:t})=>{const a=e.fullWidth,n=e.shoppingCartSectionId,s=e.pencilAd,i=e.shoppingCartAdClicked,r=s.clickUrl,o=s.origImg,l=s.productAdActivity,c=s.productAdActivityMessage,m=s.salePrice,u=s.fullPrice,p=s.adHeadline,h=_()(H.a,{fullWidth:a}),g=t.formatMessage;return d.a.createElement(j.a,{className:h.container,rootNode:null,pencilAdData:s,sectionId:n},d.a.createElement("a",{onClick:i,className:h.anchor,href:r,rel:"noreferrer",target:"_blank"},o?d.a.createElement("img",{className:h.image,src:o}):null,d.a.createElement("div",{className:h.detail},d.a.createElement("div",{className:h.priceContainer},d.a.createElement("div",{className:h.price},m||u),m?d.a.createElement("div",{className:h.originalPrice},u):null),d.a.createElement("div",{className:h.infoContainer},d.a.createElement("div",{className:h.sauce,title:p},p),d.a.createElement("div",{className:h.message},G[l]?g(G[l]):c)))))};W.contextTypes={intl:u.intlShape.isRequired};var Z=W,V=a(1584),q=a.n(V),z=a(435),Y=a(355);const K=_()(q.a),X=Object(u.defineMessages)({updateLocation:{id:"store_locator.update_location",defaultMessage:"Update location"},locationNearYou:{id:"store_locator.location_near_you",defaultMessage:"Location near you"},hoursToday:{id:"store_locator.hours_today",defaultMessage:"Hours today"},where:{id:"store_locator.where",defaultMessage:"Where"},callStore:{id:"store_locator.call_store",defaultMessage:"Call store"},distance:{id:"store_locator.distance",defaultMessage:"Distance"},distanceInMiles:{id:"store_locator.distance_in_miles",defaultMessage:"{distance} miles"}});class Q extends c.Component{constructor(e){super(e),this._renderExpanded=this._renderExpanded.bind(this),this._toggleCollapsed=this._toggleCollapsed.bind(this)}_renderExpanded(){const e=this.props,t=e.name,a=e.hoursToday,n=e.phone,s=e.streetAddress,i=e.city,r=e.distance,o=e.updateLocationAction,l=e.isGeoLocationEnabled;if(e.collapsed)return null;const c=this.context.intl.formatMessage;return d.a.createElement("div",{className:K.locatorContent,"data-test-id":"store_locator_content"},d.a.createElement("div",{className:K.mapContainer},d.a.createElement("img",{className:K.mapImage,src:e.mapsImageLink})),d.a.createElement("div",{className:K.details},d.a.createElement("div",{className:K.nameAndUpdateLocation},t?d.a.createElement("span",{className:K.name,"data-test-id":"store_locator_name"},t):null,l?d.a.createElement("span",{className:K.updateLocation,onClick:o,"data-test-id":"store_locator_update_location"},c(X.updateLocation)):null),d.a.createElement("div",{className:K.storeDetails},d.a.createElement("div",{className:K.hoursAndPhone},a?d.a.createElement("div",{className:K.content},d.a.createElement("div",{className:K.hoursIcon},d.a.createElement(E.b,{kind:g.b.CLOCK,size:g.d.XS,colorState:g.a.SECOND_LEVEL_GRAY})),d.a.createElement("div",{className:K.hoursDetails},d.a.createElement("div",{className:K.label},c(X.hoursToday)),d.a.createElement("div",{className:K.text,"data-test-id":"store_locator_hours"},a))):null,n?d.a.createElement("div",{className:K.content},d.a.createElement("div",{className:K.callIcon},d.a.createElement(E.b,{kind:g.b.DEVICE_PHONE,size:g.d.XS,colorState:g.a.SECOND_LEVEL_GRAY})),d.a.createElement("div",{className:K.callDetails},d.a.createElement("div",{className:K.label},c(X.callStore)),d.a.createElement("div",{className:K.text,"data-test-id":"store_locator_phone"},n))):null),d.a.createElement("div",{className:K.locationAndDistance},s?d.a.createElement("div",{className:K.content},d.a.createElement("div",{className:K.locationIcon},d.a.createElement(E.b,{kind:g.b.LOCATION_MARKER,size:g.d.XS,colorState:g.a.SECOND_LEVEL_GRAY})),d.a.createElement("div",{className:K.locationDetails},d.a.createElement("div",{className:K.label},c(X.where)),d.a.createElement("div",{className:K.textLink,"data-test-id":"store_locator_address"},`${s}, ${i}`))):null,r?d.a.createElement("div",{className:K.content},d.a.createElement("div",{className:K.distanceIcon},d.a.createElement(E.b,{kind:g.b.CAR,size:g.d.XS,colorState:g.a.SECOND_LEVEL_GRAY})),d.a.createElement("div",{className:K.distanceDetails},d.a.createElement("div",{className:K.label},c(X.distance)),d.a.createElement("div",{className:K.text,"data-test-id":"store_locator_distance"},c(X.distanceInMiles,{distance:r})))):null))))}_toggleCollapsed(e){e.stopPropagation(),e.preventDefault();const t=this.props;(0,t.updateCouponStoreCollapsedTo)(!t.collapsed)}componentDidMount(){const e=this.props;e.hasStore&&(0,e.storeLocatorShownAction)(e.email)}render(){const e=this.props,t=e.collapsed?g.c.D180:g.c.D0;return e.hasStore?d.a.createElement("div",null,d.a.createElement("div",{className:K.container,"data-test-id":"store_locator_container"},d.a.createElement("div",{className:K.header},d.a.createElement("div",{className:K.locationNearYou},(0,this.context.intl.formatMessage)(X.locationNearYou)),d.a.createElement("div",{className:K.expandButton,"data-test-id":"store_locator_collapse_expand",onClick:this._toggleCollapsed},d.a.createElement(E.b,{kind:g.b.CHEVRON_UP,size:g.d.S,colorState:g.a.SECOND_LEVEL_GRAY,rotate:t}))),this._renderExpanded()),d.a.createElement("div",{className:K.separator})):null}}Q.contextTypes={intl:u.intlShape.isRequired};var J=Object(p.connect)(function(e,{email:t}){const a=Object(M.b)(e),n=a.isFeatureEnabled,i=a.getSetting,r=(0,a.getBusinessListingForUserTimezone)(t),o=i(y.zd.YAHOO_MAPS_URL),l=r.latlong,c=void 0===l?"":l;return s()({mapsImageLink:`${o}${c}`,collapsed:i(y.zd.COUPON_STORE_LOCATOR_COLLAPSED)},r,{hasStore:Object.keys(r).length>0&&""!==c,isGeoLocationEnabled:n(y.ub.GEO_LOCATION)})},function(e,t){const a=(t||{}).email,n=void 0===a?"":a;return{updateCouponStoreCollapsedTo:t=>e(Object(z.d)(t)),storeLocatorShownAction:()=>e(Object(z.a)(n)),updateLocationAction:()=>e(Object(Y.b)({i13nModel:{mKey:T.e.COUPON_STORE_UPDATE_LOCATION,sec:T.g.CPN_STORE_LOCATOR},email:n}))}})(Q),$=a(1585),ee=a.n($);a.d(t,"CardGroup",function(){return ae}),a.d(t,"mapStateToProps",function(){return ne}),a.d(t,"mapDispatchToProps",function(){return se});const te=Object(u.defineMessages)({barTitle:{id:"card_group.header",defaultMessage:"Deals from this message"},shoppingCartTitle:{id:"card_group.shopping_cart_header",defaultMessage:"Go shopping at {sender}"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},autoClipTogglePrompt:{id:"card_group.auto_clip_coupons",defaultMessage:"Always save deals from"},viewMoreCards:{id:"card_group.view_more_cards",defaultMessage:"View more"},viewMore:{id:"card_group.view_more",defaultMessage:"View {numCoupons} more {numCoupons, plural, one {deal} other {deals}}"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class ae extends d.a.Component{constructor(...e){super(...e),l()(this,"state",{isExpanded:!1,showCategories:!0}),l()(this,"_isCouponCardsExpandable",()=>this.props.sortedCards.length>this._getInitialViewCount()),l()(this,"_isShoppingCartAdExpandable",()=>this.props.shoppingCartAd.length>4),l()(this,"_couponClipperBeacon",()=>{const e=this.props,t=e.couponClipperShown,a=e.sortedCards,n=e.selfExtractCoupon,s=e.viglinkEnabled,i=e.parentMessageId,r=a.length>1,o=a.map(e=>e.cmid);(n||a.length>0)&&t(r,n,{cmids:o,fromEmail:a.length?a[0].email:"",viglinkEnabled:s,parentMessageId:i})}),l()(this,"_shoppingCartBeacon",()=>{const e=this.props,t=e.shoppingCartAd,a=e.shoppingCartAdRendered,n=e.rootDomain;t&&t.length&&(this._shoppingCartBeaconTimer=setTimeout(()=>{a({mKey:T.e.SHOPPING_CART_AD_RENDERED,sec:T.g.SHOPPING_CART,actionData:{domain:n}})},0))}),l()(this,"_getInitialViewCount",(e=this.props)=>{const t=e.sortedCards.filter(e=>e.clipped);return e.isCompactView||e.shoppingCartAd.length?1:0===t.length?2:t.length%2==0?t.length:t.length+1}),l()(this,"_isSafeTo",e=>e&&!this.props.isCompactView),l()(this,"_toggleExpandState",()=>{const e=this.state.isExpanded,t=!e,a=this.props.couponClipperToggled;e&&this.props.onViewLess(),a(t),this.setState({isExpanded:t})}),l()(this,"_renderSelfExtractionCard",()=>{const e=this.props;return d.a.createElement(B,{fullWidth:e.isCompactView,parentMessageId:e.parentMessageId})}),l()(this,"_renderCards",()=>{const e=this.props,t=e.showCouponClipperCue,n=e.parentMessageId,s=e.contactLink,i=e.isCompactView,r=e.couponCards;this.couponCards=this.couponCards&&this.couponCards.length>=2&&this.couponCards.length===r.length?[...r].sort((e,t)=>this.couponCards.findIndex(t=>t.cmid===e.cmid)-this.couponCards.findIndex(e=>e.cmid===t.cmid)):[...r];const o=[...this.couponCards],l=this._isSafeTo(t);if(this._isCouponCardsExpandable()&&!this.state.isExpanded){const e=this._isSafeTo(t)?1:0;o.splice(this._getInitialViewCount()-e)}return l&&o.splice(1,0,{id:"cue"}),o.map(({id:e,schemaId:t,description:r,clipped:o,cmid:c,expirationTime:m,dealLink:_,unusualDiscount:u})=>"cue"===e&&l?d.a.createElement(b.a,{key:e,import:"./atoms/coupon_clipper_cue",cueName:y.ub.COUPON_CLIPPER_CUE,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1667))},_moduleResolver:function(){return 1667}}):d.a.createElement(v.a,{key:c,schemaId:t,cmid:c,unusualDiscount:u,description:r,clipped:o,expirationTime:m,fullWidth:i,dealLink:_,contactLink:s,parentMessageId:n}))}),l()(this,"_renderShopRunnerPostSignUp",()=>{const e=this.props;return d.a.createElement(b.a,{import:"../shoprunner_post_sign_up",cardName:y.ub.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD,shopRunnerRetailer:e.shopRunnerRetailer,shopRunnerMerchantUrl:e.shopRunnerMerchantUrl,useCueInMessageRead:!0,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1653))},_moduleResolver:function(){return 1653}})}),l()(this,"_renderShopRunnerCue",()=>{const e=this.props;return e.showShopRunnerCard?d.a.createElement(b.a,{import:"../shoprunner",cardName:y.ub.MSG_READ_SHOPRUNNER_CARD,shopRunnerRetailer:e.shopRunnerRetailer,useCueInMessageRead:!0,isPremiumShopRunnerRetailer:e.isPremiumShopRunnerRetailer,isOrdMail:e.isOrdMail,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1655))},_moduleResolver:function(){return 1655}}):null}),l()(this,"_renderAffiliateCoupons",()=>{const e=this.props;return d.a.createElement(b.a,{import:"../affiliate_coupons",cardName:y.ub.ENABLE_AFFILIATE_COUPONS,useCueInMessageRead:!0,parentMessageId:e.parentMessageId,usePreviewPaneStyles:e.isCompactView,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1668))},_moduleResolver:function(){return 1668}})}),l()(this,"_renderHalloweenBanner",()=>{const e=this.props;return d.a.createElement(b.a,{import:"../halloween_banner",cardName:y.ub.ENABLE_HALLOWEEN_BANNER,useCueInMessageRead:!0,parentMessageId:e.parentMessageId,usePreviewPaneStyles:e.isCompactView,decos:e.decos,counter:e.halloweenCardsCounter,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1663))},_moduleResolver:function(){return 1663}})}),l()(this,"_renderExpandContainer",(e=!0)=>{const t=_()(ee.a),a=this.context.intl.formatMessage,n=this.state.isExpanded?g.c.D0:g.c.D180,s=this._isSafeTo(this.props.showCouponClipperCue)?1:0,i=this.props.sortedCards.length-this._getInitialViewCount()+s,r=a(te.viewLess),o=e?a(te.viewMore,{numCoupons:i}):a(te.viewMoreCards);return d.a.createElement("div",{"data-test-id":"coupon_expand_container",className:t.expandContainer},d.a.createElement("span",{className:t.expandSpacing}),d.a.createElement("span",{className:t.expandButton,onClick:this._toggleExpandState},d.a.createElement("span",{className:t.expandButtonText},this.state.isExpanded?d.a.createElement("span",{"data-test-id":"coupon_view_less"},r):d.a.createElement("span",{"data-test-id":"coupon_view_more"},o)),d.a.createElement(E.b,{kind:g.b.CHEVRON_UP,size:g.d.XXS,colorState:g.a.SELECTED,rotate:n})))}),l()(this,"_renderMsgReadQuotientCue",()=>{const e=this.props;return d.a.createElement(b.a,{import:"./atoms/quotient_cue",cardName:y.ub.QTNT_VIEW_MSG_READ_CARD,usePreviewPaneStyles:e.isCompactView,parentMessageId:e.parentMessageId,senderDomain:e.domain,senderEmail:e.fromEmail,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1666))},_moduleResolver:function(){return 1666}})}),l()(this,"_renderMsgReadQuotientLinkedCard",()=>{const e=this.props;return d.a.createElement(b.a,{import:"./atoms/quotient_linked_card",retailerId:e.retailerId,usePreviewPaneStyles:e.isCompactView,parentMessageId:e.parentMessageId,senderDomain:e.domain,senderEmail:e.fromEmail,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1665))},_moduleResolver:function(){return 1665}})}),l()(this,"_renderShoppingCartAd",e=>{const t=this.context.intl.formatMessage,a=this.props,n=a.shoppingCartAd,s=a.shoppingCartSectionId,i=a.aboutAdsUrl,r=a.sender;if(!n.length)return null;const o=this._isShoppingCartAdExpandable()&&!this.state.isExpanded?n.slice(0,4):n;return d.a.createElement("div",{className:e.cardGroupContainer},d.a.createElement("div",{className:e.header},t(te.shoppingCartTitle,{sender:r}),d.a.createElement("a",{className:e.sponsoredContainer,href:i,rel:"noreferrer",target:"_blank"},d.a.createElement("span",{className:e.sponsoredIcon},d.a.createElement(E.b,{kind:g.b.SPONSORED,size:g.d.XS,colorState:g.a.INHERITED})),d.a.createElement("span",{className:e.sponsored},t(te.ad_text)))),d.a.createElement("div",{"data-test-id":"shopping_cart_ad_container",className:e.cardContainer},o.map(({pencilAd:e={}})=>d.a.createElement(Z,{key:e.clickUrl,fullWidth:!0,pencilAd:e,shoppingCartSectionId:s,shoppingCartAdClicked:this.props.shoppingCartAdClicked}))),this._isShoppingCartAdExpandable()?this._renderExpandContainer(!1):null)}),l()(this,"_renderCategoryFollowing",()=>{const e=this.props.categoriesList;return this.state.showCategories&&e&&e.length?d.a.createElement(b.a,{defer:!0,import:"../category_following",categoriesList:e,contextOfUse:"messageRead",_moduleLoader:function(){return Promise.resolve().then(a.bind(null,859))},_moduleResolver:function(){return 859}}):null}),l()(this,"_hasItemInCouponSection",()=>{const e=this.props,t=e.sortedCards;return!e.shoppingCartAd.length&&(e.showHalloweenBanner||(t&&t.length>0||e.selfExtractCoupon)||e.showShopRunnerCard||e.showMsgReadQuotientCard||e.showMsgReadQuotientLinkedCard||e.shopRunnerPostSignUp||e.showLastpassUpsell||e.showYFinanceUpsell)})}componentDidMount(){this._couponClipperBeacon(),this._shoppingCartBeacon()}componentWillReceiveProps(e){!e.showCategories&&this.state.showCategories&&this.setState({showCategories:!1})}componentDidUpdate(e){this.props.sortedCards.length!==e.sortedCards.length&&this._couponClipperBeacon(),this.props.shoppingCartAd.length!==e.shoppingCartAd.length&&this._shoppingCartBeacon()}componentWillUnmount(){this._shoppingCartBeaconTimer&&clearTimeout(this._shoppingCartBeaconTimer)}_renderCouponCards(e){if(!this._hasItemInCouponSection())return null;const t=this.props,n=t.sortedCards,s=t.autoClipToggled,i=t.isAutoClipped,r=t.autoClipEnabled,o=t.selfExtractCoupon,l=t.showDealsAndCategories,c=t.showMsgReadQuotientCard,m=t.showMsgReadQuotientLinkedCard,_=t.isNarrowScreen,u=t.showShopRunnerCard,p=t.shopRunnerPostSignUp,h=t.showLastpassUpsell,g=t.showYFinanceUpsell,E=t.showAffiliateCoupons,S=this.context.intl.formatMessage;return t.showHalloweenBanner&&(t.isOrdMail||t.isShipmentMail)&&t.halloweenCardsCounter<=2?d.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},d.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.halloweenCardContainer},this._renderHalloweenBanner())):h||g?d.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},d.a.createElement("div",{"data-test-id":"lastpass_upsell_container",className:e.cardContainer},d.a.createElement("div",{className:e.whiteSpaceBar}),d.a.createElement(b.a,{import:"../lastpass",cardName:y.ub.LASTPASS_UPSELL,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1664))},_moduleResolver:function(){return 1664}}))):E?d.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},d.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},d.a.createElement("div",{className:e.whiteSpaceBar}),this._renderAffiliateCoupons())):l?d.a.createElement("div",{className:e.cardGroupParent},d.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},d.a.createElement("div",{className:e.header},d.a.createElement("span",null,S(te.barTitle)),_&&d.a.createElement("span",{className:e.partnerAttributionIcon},d.a.createElement(C.a,null)),r&&1===n.length&&n[0]&&n[0].savedSearchQuery?d.a.createElement("div",{className:e.autoClipToggle,"data-test-id":"cpn_auto_clip"},d.a.createElement(f.a,{isEnabled:i,onClick:()=>s(n,i),"data-test-id":"cpn_auto_clip_toggle_button"}),d.a.createElement("span",{className:e.autoClipMessage,"data-test-id":"cpn_auto_clip_toggle_message"},`${S(te.autoClipTogglePrompt)} ${n[0]&&n[0].domain}`)):null),d.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},o?this._renderSelfExtractionCard():this._renderCards()),this._isCouponCardsExpandable()?this._renderExpandContainer():null),this._renderCategoryFollowing()):c?d.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},d.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},d.a.createElement("div",{className:e.whiteSpaceBar}),this._renderMsgReadQuotientCue())):u?d.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},d.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},d.a.createElement("div",{className:e.whiteSpaceBar}),this._renderShopRunnerCue())):m?d.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},d.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},d.a.createElement("div",{className:e.whiteSpaceBar}),this._renderMsgReadQuotientLinkedCard())):p?d.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},d.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},d.a.createElement("div",{className:e.whiteSpaceBar}),this._renderShopRunnerPostSignUp())):null}render(){const e=this.props,t=e.fromEmail,a=e.showDealsAndCategories,n=e.couponStoreLocatorEnabled,s=e.shoppingCartAd,i=_()(ee.a);return s.length||this._hasItemInCouponSection()?d.a.createElement("div",null,d.a.createElement("div",{className:i.container},this._renderShoppingCartAd(i),this._renderCouponCards(i)),d.a.createElement("div",{className:i.separator}),a&&n&&t?d.a.createElement(J,{email:t}):null):null}}l()(ae,"contextTypes",{intl:u.intlShape.isRequired});const ne=(e,{parentMessageId:t="",couponCards:a=[],selfExtractCoupon:n=!1})=>{const i=Object(M.b)(e),o=i.isMessageRoute,l=i.getAccountIdByFolderId,c=i.getMessageFolderId,d=i.getMessagesSelectors,m=i.doesContactIdExist,_=i.getContactById,u=i.getContentProviders,p=i.getRetailersSelectors,h=i.isFeatureEnabled,g=i.getSetting,E=i.getAdsSelectors,b=i.getCouponsSelectors,C=i.getCategoryFollowingSelectors,f=i.isNarrowScreen,T=i.getShopRunnerRetailersSelectors,N=i.getHalloweenBannerSelectors,v=(0,i.getSavedSearchesSelectors)().getSavedSearchesByQuery,D=d(),O=D.getFromAddresses,k=D.getDecos,R=E().getShoppingCartAd,w=b().getCouponCategoriesForMessageGroup,P=u(),x=P.doesContentProviderExist,F=P.isContentProviderConnected,L=C().isCategoryFollowed,B=O(t),U=r()(B,1)[0],H=void 0===U?{}:U,j=H.email,G=void 0===j?"":j,W=H.name,Z=void 0===W?"":W,V=G?Object(A.l)(G):"",q=G.split("@"),z=r()(q,2)[1],Y=h(y.ub.COUPONS_AUTO_CLIP),K=h(y.ub.COUPON_STORE_LOCATOR),X=m(G)?_(G):void 0,Q=X&&X.website,J=k(t),$=p(),ee=$.isLinkedRetailer,te=$.isSupportedQuotientRetailer,ae=(0,$.getRetailerIdFromEmail)(G),ne=te(G),se=h(y.ub.CATEGORY_FOLLOWING)?w():[],ie=(0,T().getRetailerFromSubdomain)(z),re=ie&&!ie.isSupported,oe=ie&&ie.name,le=ie&&ie.homepage,ce=R().sort((e,t)=>{const a={ADD_TO_CART:0,VIEW:1,RECOMMENDATION:2};return a[Object(I.a)(e,"pencilAd.productAdActivity")]-a[Object(I.a)(t,"pencilAd.productAdActivity")]}),de=g(y.zd.GEMINI_SECTION_IDS)[y.Db.SHOPPING_CART];let me;if(Y&&a.length){const e=l(c(t));me=v(a[0]&&`acctId:${e} AND ${a[0].savedSearchQuery}`)}const _e=[...a],ue=Object(S.l)(J,y.nc.ORD),pe=Object(S.l)(J,y.nc.PKG),he=h(y.ub.CATEGORY_FOLLOWING)&&!h(y.ub.COUPON_CLIPPER_CUE),ge=se.filter(e=>L(e.id)),Ee={},be=[()=>he&&ge.length&&(_e&&_e.length>0||n)&&"showDealsAndCategories",()=>h(y.ub.ENABLE_AFFILIATE_COUPONS)&&"showAffiliateCoupons",()=>h(y.ub.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD)&&x(y.W.SHOPRUNNER)&&F(y.W.SHOPRUNNER)&&ie&&"shopRunnerPostSignUp",()=>h(y.ub.MSG_READ_SHOPRUNNER_CARD)&&(!x(y.W.SHOPRUNNER)||!F(y.W.SHOPRUNNER))&&ie&&"showShopRunnerCard",()=>h(y.ub.QTNT_VIEW_MSG_READ_CARD)&&ne&&!ee(ae)&&"showMsgReadQuotientCard",()=>h(y.ub.QUOTIENT)&&ne&&ee(ae)&&"showMsgReadQuotientLinkedCard",()=>(_e&&_e.length>0||n)&&"showDealsAndCategories",()=>h(y.ub.ENABLE_HALLOWEEN_BANNER)&&"showHalloweenBanner"].find(e=>e());if(be){Ee[be()]=!0}const Ce=(0,N().getCardShowCounterValue)();return s()({fromEmail:G,domain:z,rootDomain:V,sortedCards:_e,categoriesList:se,showCategories:he,showCouponClipperCue:h(y.ub.COUPON_CLIPPER_CUE),isCompactView:g(y.zd.PREVIEW_PANE)===y.Rc.RIGHT&&!o(),isAutoClipped:!!me&&!!me.length,autoClipEnabled:Y,couponStoreLocatorEnabled:K,contactLink:Q,sender:Z,shopRunnerRetailer:oe,isOrdMail:ue,isShipmentMail:pe,decos:J,shopRunnerMerchantUrl:le,isPremiumShopRunnerRetailer:re,retailerId:ae,shoppingCartAd:ce,shoppingCartSectionId:de,isNarrowScreen:f(),aboutAdsUrl:g(y.zd.ABOUT_AD_URL)},Ee,{showLastpassUpsell:h(y.ub.LASTPASS_UPSELL),showYFinanceUpsell:h(y.ub.YFINANCE_UPSELL),viglinkEnabled:h(y.ub.VIGLINK),halloweenCardsCounter:Ce})},se=e=>({couponClipperShown:(t,a,n)=>{let s=T.e.SINGLE_COUPON_CLIPPER_SHOWN;t&&(s=T.e.MULTI_COUPON_CLIPPER_SHOWN),a&&(s=T.e.SELF_EXTRACTION_COUPON_CLIPPER_SHOWN),e({type:N.Ne,i13nModel:{mKey:s,sec:T.g.MSG_BODY,actionData:n}})},couponClipperToggled:t=>{e({type:N.Oe,i13nModel:{mKey:t?T.e.COUPON_CLIPPER_EXPANDED:T.e.COUPON_CLIPPER_SHRUNK,sec:T.g.MSG_BODY}})},autoClipToggled:([{savedSearchQuery:t,email:a,parentMessageId:n}],s)=>{const i={mKey:s?T.e.COUPON_AUTO_CLIP_TURNED_OFF:T.e.COUPON_AUTO_CLIP_TURNED_ON,sec:T.g.MSG_BODY};e(s?Object(h.d)({query:t,parentMessageId:n,i13nModel:i}):Object(h.a)({name:a,query:t,decorations:[{id:"TAG",type:"NORMAL"}],priority:1,parentMessageId:n,i13nModel:i}))},shoppingCartAdRendered:t=>{e({type:N.Ej,i13nModel:t})},shoppingCartAdClicked:()=>e({type:N.Dj,i13nModel:{mKey:T.e.SHOPPING_CART_AD_CLICKED,sec:T.g.SHOPPING_CART}})});t.default=Object(p.connect)(ne,se)(ae)},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(4),r=a.n(i),o=a(3),l=a.n(o),c=a(8),d=a.n(c),m=a(1),_=a.n(m),u=a(6),p=a(29),h=a(490),g=a(1595),E=a.n(g),b=a(13),C=a.n(b);const f=C()(E.a);function S({rowIndex:e,items:t,onKeyDown:a,renderItemInRow:n}){return _.a.createElement("div",{tabIndex:-1,className:f.row,onKeyDown:a},t.map((t,a)=>n(t,e,a)))}var y=class extends _.a.Component{shouldComponentUpdate(e){const t=this.props;return t.tabIndex!==e.tabIndex||t.rowIndex!==e.rowIndex||t.columnIndex!==e.columnIndex}componentDidMount(){const e=this.props;this.props.registerItemInGrid(this,e.rowIndex,e.columnIndex)}componentDidUpdate(){const e=this.props;this.props.registerItemInGrid(this,e.rowIndex,e.columnIndex)}render(){const e=this.props;return this.props.renderItemInRow(e.item,e.tabIndex)}},T=a(12),N=a(0);const A={ArrowLeft:N.X.LEFT,ArrowUp:N.X.UP,ArrowRight:N.X.RIGHT,ArrowDown:N.X.DOWN},I={[N.X.LEFT]:-1,[N.X.RIGHT]:1,[N.X.UP]:-1/0,[N.X.DOWN]:1/0};class M extends _.a.Component{constructor(e){super(e),l()(this,"getNumItemsPerRow",()=>{const e=Object(p.findDOMNode)(this).getBoundingClientRect().width,t=Math.floor(e/this.props.itemWidth);t!==this.state.numItemsPerRow&&this.setState({numItemsPerRow:t})}),l()(this,"groupItemListByRow",(e=[])=>{const t=this.state.numItemsPerRow,a=[];let n=0,s=0;return e.forEach(e=>{e.listSeparator?(n>0&&a[n]&&n++,this.registerItemInGrid(null,n,0),a[n]=e,a[++n]=[],s=0):(a[n]||(a[n]=[]),a[n].push(e),++s%t==0&&(n++,s=0))}),a}),l()(this,"getGroupedItemList",(e=[])=>(this._groupedItemList&&this._savedItemList===e||(this._groupedItemList=this.groupItemListByRow(e),this._savedItemList=e),this._groupedItemList)),l()(this,"getItemListSize",(e=[])=>this.getGroupedItemList(e).length),l()(this,"getItemsForIndex",(e=[],t)=>this.getGroupedItemList(e)[t]),l()(this,"translateCursorIndex",(e,t=[])=>{const a=this.getGroupedItemList(t);let n=0,s=0;for(;n<e;)n+=a[s].listSeparator?1:a[s].length,s++;return n===e?s:s-1}),l()(this,"getCursorInGrid",()=>{const e=this.props.cursorIndex,t=this.getGroupedItemList(this._savedItemList);let a=0,n=0,s=0;if(e<0)return{cursorRow:t[a].listSeparator?a+1:a,cursorColumn:n};for(;s<e;)t[a].listSeparator||(s+=t[a].length),a++;return s>e?n=e-(s-t[a-=1].length):s===e&&(a=t[a].listSeparator?a+1:a,n=0),{cursorRow:a,cursorColumn:n}}),l()(this,"getRowIndexChange",(e,t,a)=>{const n=a+I[e];return n>=this.getGroupedItemList(this._savedItemList)[t].length?1:n<0?-1:0}),l()(this,"getNextCursorIndex",(e,t)=>{const a=this.getGroupedItemList(this._savedItemList);let n=0,s=0;for(;s<e;)a[s].listSeparator||(n+=a[s].length),s++;return n+=t}),l()(this,"getCursorMoveUnitBetweenRows",e=>{const t=this.props.hasTimeChunking,a=this.getGroupedItemList(this._savedItemList);if(!t)return this.state.numItemsPerRow;const n=this.getCursorInGrid(),s=n.cursorRow,i=n.cursorColumn;let r=s+this.getRowIndexChange(e,s,i);if(a[r]&&a[r].listSeparator&&(r=e===N.X.UP?r-1:r+1),r<0)return 0;if(r>=a.length)return a[s].length-i;const o=Math.min(i,a[r].length-1),l=this.getNextCursorIndex(r,o);return Math.abs(this.props.cursorIndex-l)}),l()(this,"getCursorMoveUnit",e=>e===N.X.LEFT||e===N.X.RIGHT?1:this.getCursorMoveUnitBetweenRows(e)),l()(this,"handleKeyNavigation",e=>{const t=A[e.key];if(t!==N.X.LEFT&&t!==N.X.RIGHT)return;const a=this.props,n=a.actions,s=a.listId,i=this.getCursorMoveUnit(t);e.stopPropagation(),this.context.executeAction(n.moveCursor,{listId:s,movement:t,unit:i})}),l()(this,"registerItemInGrid",(e,t,a)=>{const n=this._registeredNodeInGrid;if(null===e)return void(n[t]={listSeparator:!0});const s=this.getGroupedItemList(this._savedItemList)[t];Array.isArray(n[t])?s&&n[t].length>s.length&&(n[t]=n[t].slice(0,s.length)):n[t]=[],n[t][a]=Object(p.findDOMNode)(e)}),l()(this,"renderItemInRow",(e,t,a)=>{const n=e.attachment.id,s=this.props,i=s.cursorIndex,r=s.items,o=r[Math.max(i,0)]?r[Math.max(i,0)].attachment.id:r[0].attachment.id;return _.a.createElement(y,{key:n,item:e,rowIndex:t,columnIndex:a,tabIndex:o===n?T.TabIndices.MESSAGE_LIST_MAIN:-1,registerItemInGrid:this.registerItemInGrid,renderItemInRow:this.props.renderItemInRow})}),l()(this,"renderRow",(e,t)=>_.a.createElement(S,{items:e,rowIndex:t,onKeyDown:this.handleKeyNavigation,renderItemInRow:this.renderItemInRow})),this._registeredNodeInGrid=[],this._groupedItemList=[],this._savedItemList=[],this.state={numItemsPerRow:4}}componentWillReceiveProps(e){this.props.windowDimensions.innerWidth!==e.windowDimensions.innerWidth&&this.getNumItemsPerRow()}componentDidMount(){this.getNumItemsPerRow()}componentDidUpdate(e){if(this.props.cursorIndex!==e.cursorIndex){const e=this.getCursorInGrid(),t=e.cursorRow,a=e.cursorColumn,n=this._registeredNodeInGrid[t]&&this._registeredNodeInGrid[t][a];n&&n.focus()}}render(){return _.a.createElement(h.a,s()({key:`${this.state.numItemsPerRow} in ${this.props.listId}`,translateCursorIndex:this.translateCursorIndex,getItemListSize:this.getItemListSize,getItemsForIndex:this.getItemsForIndex,getCursorMoveUnit:this.getCursorMoveUnit,renderItem:this.renderRow},this.props))}}l()(M,"contextTypes",{executeAction:d.a.func});var v=M,D=a(1262),O=a(191),k=a(311),R=a(7),w=a(17),P=a(1263),x=a.n(P),F=a(15),L=a(492),B=a(130),U=a(42),H=a(11),j=a(62);a.d(t,"PhotoList",function(){return Z}),a.d(t,"mapStateToProps",function(){return V}),a.d(t,"mapDispatchToProps",function(){return q});const G=C()(x.a),W=50;class Z extends _.a.Component{constructor(...e){super(...e),l()(this,"renderDeletePreview",({messageId:e,messageGroupId:t})=>{Object(B.a)(_.a.createElement(L.a,{listId:this.props.listId,messageId:e,groupId:t}),this.context)}),l()(this,"forwardAttachmentByEmail",(e,t,a)=>{const n={csid:t,attachments:e?[r()({},e,{disposition:N.w.Dispositions.INLINE})]:[],i13nModel:{mKey:R.e.PHOTO_SHARE,mKeyGroup:R.f.compose,sec:R.g.PHOTO_LIST,interactionType:R.d.click}};if(a)return this.context.navigateTo(r()({},n,{route:a}));this.props.forwardAttachments(n)}),l()(this,"handleCursorOpen",e=>{const t=this.props,a=t.items,n=t.cursorIndex;e.stopPropagation(),this.handlePreview(a[Math.max(n,0)].attachment,{i13nModel:{interactionType:R.d.nav}})}),l()(this,"handlePreview",(e,{i13nModel:t})=>{if(t=Object.assign({mKey:R.e.PHOTO_OPEN,sec:R.g.PHOTO_LIST},t),e.isExternal)return this.context.executeAction(k.e,{i13nModel:t}),void window.open(e.downloadUrl,"_blank");const a=e.conversationId||e.id&&Object(j.f)(e.id);this.context.navigateTo({route:Object(w.e)(this.props.listId,a,e.id,{fullscreen:"1"}),itemId:e.id,i13nModel:t})}),l()(this,"handleMessageOpen",(e,{i13nModel:t})=>{const a=this.props.getMessageIdForAttachmentId(e);this.context.navigateTo({route:this.props.messageGroupRoutes[e],hashParams:{messageId:a},itemId:e,i13nModel:Object.assign({mKey:R.e.PHOTO_READ_MSG,mKeyGroup:R.f.open_msg,sec:R.g.PHOTO_LIST},t),full:!0})}),l()(this,"handleAttachmentDownload",(e,t)=>{this.props.handleDownload({attachment:e,i13nModel:Object.assign({mKey:R.e.PHOTO_DOWNLOAD,sec:R.g.PHOTO_LIST,mKeyGroup:R.f.dwnld_attmnt},t)})}),l()(this,"handleDeleteMessage",({attachmentId:e,i13nModel:t})=>{const a=this.props,n=a.listId,s=a.getConversationId,i=a.isConversationsMode,r=(0,a.getMessageIdForAttachmentId)(e),o=i?s(e):r;this.props.handleDeleteMessage({messageId:r,messageGroupId:o,listId:n,i13nModel:t}),this.renderDeletePreview({messageId:r,messageGroupId:o})}),l()(this,"renderItemInRow",(e,t)=>{const a=e.attachment,n=a.id;return _.a.createElement(D.a,{key:n,item:e,tabIndex:t,route:this.props.messageGroupRoutes[n],onMessageOpen:this.handleMessageOpen,onDeletePreview:this.handleDeleteMessage,onClick:this.handlePreview,onForward:this.forwardAttachmentByEmail,onDownload:this.handleAttachmentDownload,isDeleteEnabled:this.props.deleteFromPhotosView&&!!a.conversationId})})}render(){const e=Object.assign({},this.props,{hasAds:!1});return _.a.createElement("div",{className:G.container,"data-test-id":"virtual-list-container"},_.a.createElement(v,s()({renderItemInRow:this.renderItemInRow,onOpen:this.handleCursorOpen,getTimeStampFromItem:e=>e.attachment.creationDate,getHeightForIndex:()=>T.PHOTO_SIZE_PLUS_PADDING,itemWidth:T.PHOTO_SIZE_PLUS_PADDING,itemsToFetch:W},e)))}}l()(Z,"contextTypes",{executeAction:d.a.func,navigateTo:d.a.func.isRequired,config:d.a.object,getStore:d.a.func.isRequired,intl:u.intlShape.isRequired,store:d.a.object.isRequired,timezone:U.e.isRequired,getTheme:d.a.func.isRequired,getThemeMode:d.a.func.isRequired,getCss:d.a.func.isRequired});const V=(e,t)=>{const a=Object(H.b)(e),n=a.getMessageIdForAttachmentId,s=a.getFeaturesSelectors,i=a.doesListExist,r=a.doesListHasMoreItems,o=(0,a.getAttachmentsSelectors)().getConversationId,l=s().isEnabled(N.ub.CONVERSATIONS),c=s().isEnabled(N.ub.DELETE_FROM_PHOTOS_VIEW);return{hasMoreItems:!!i(t.listId)&&r(t.listId),getMessageIdForAttachmentId:n,getConversationId:o,isConversationsMode:l,deleteFromPhotosView:c}},q=e=>({handleDownload({attachment:t,i13nModel:a}){e(Object(k.b)({attachment:t,i13nModel:a}))},handleDeleteMessage(t){e(Object(O.c)(t))},forwardAttachments(t){e(Object(k.d)(t))}});t.default=Object(F.connect)(V,q)(Z)},,function(e,t,a){"use strict";a.r(t);var n=a(8),s=a.n(n),i=a(1),r=a.n(i),o=a(1545),l=a.n(o),c=a(11),d=a(15),m=a(6),_=a(1546),u=a.n(_),p=a(1547),h=a.n(p),g=a(572);class E extends r.a.Component{render(){const e=this.props.adItem,t=this.context.getCss(h.a),a=e.dealPrice?e.dealPrice:e.originalPrice;return r.a.createElement("div",{"data-test-id":"pla-ad-description",className:t.plaAdDescription},r.a.createElement("p",{className:t.adTitle},e.title),r.a.createElement("div",{className:t.adPricePanel},a.indexOf(".")>-1?r.a.createElement("p",{className:t.itemPrice},a.split(".")[0],".",r.a.createElement("span",{className:t.subscriptText},a.split(".")[1])):r.a.createElement("p",{className:t.itemPrice},a),e.dealPrice&&r.a.createElement("p",{className:t.itemOriginalPrice},e.originalPrice)),e&&e.productRating?r.a.createElement("div",{className:t.ratingPanel},r.a.createElement("div",{className:t.starPanel},r.a.createElement(g.a,{value:parseInt(e.productRating.rating,10)/2})),r.a.createElement("p",{className:t.productText},e.productRating.rating/2," (",e.productRating.numberOfReviews,")")):r.a.createElement("div",{className:t.sellerInfo},r.a.createElement("p",{className:t.productText},e.sellerName)))}}E.contextTypes={intl:m.intlShape.isRequired,getCss:s.a.func};class b extends r.a.Component{render(){const e=this.props,t=e.adItem,a=e.adPanelClicked,n=this.context.getCss(u.a);return r.a.createElement("a",{rel:"noreferrer",href:t.url,target:"_blank","aria-hidden":!0,onClick:()=>a(t)},r.a.createElement("div",{"data-test-id":"pla-ad-panel",className:n.plaAdsPanel},r.a.createElement("div",{"data-test-id":"pla-image-panel",className:n.plaImagePanel},r.a.createElement("div",{"data-test-id":"ad-image",className:n.adImage,style:{backgroundImage:`url(${t.image})`}})),r.a.createElement(E,{adItem:t})))}}b.contextTypes={intl:m.intlShape.isRequired,getCss:s.a.func};var C=a(10),f=a(2);var S=a(7),y=a(5),T=a(16),N=a(0);a.d(t,"PlaAdsPanelRoot",function(){return I}),a.d(t,"mapStateToProps",function(){return M}),a.d(t,"mapDispatchToProps",function(){return v});const A=Object(m.defineMessages)({headerTitle:{id:"pla.header.title",defaultMessage:"Deals from the web"},noAdsText:{id:"no.ads.text",defaultMessage:"Nothing to see here!"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class I extends r.a.Component{onAdPanelClicked(e){const t=this.props;(0,t.onPlaAdClicked)({i13nModel:{mKey:S.e.SEARCH_PLA_AD_ITEM_CLICKED,sec:S.g.RIGHT_RAIL_PLA_CARD,interactionType:S.d.click,actionData:{adTitle:e.title,keyword:t.searchKeyword}}})}render(){const e=this.props,t=e.aboutAdsUrl,a=e.plaAdsData,n=this.context.intl.formatMessage,s=this.context.getCss(l.a);return r.a.createElement("div",{className:s.plaAdsPanelRoot,"data-test-id":"pla-ads-panel-root"},r.a.createElement("div",{className:s.plaAdsSubPanelRoot,"data-test-id":"pla-ads-sub-panel-root"},r.a.createElement("div",{className:s.headerTitlePanel},r.a.createElement("a",{rel:"noreferrer",href:t,target:"_blank",className:s.sponsoredIcon},r.a.createElement(T.b,{kind:y.b.SPONSORED,size:y.d.S,colorState:y.a.INHERITED})),r.a.createElement("p",{className:s.headerTitle},n(A.headerTitle)),r.a.createElement("a",{rel:"noreferrer",href:t,target:"_blank",className:s.sponsored},n(A.ad_text))),r.a.createElement("div",{className:s.plaAdsContainer},r.a.createElement("div",null,a.map(e=>r.a.createElement(b,{key:e.url,adItem:e,adPanelClicked:this.onAdPanelClicked.bind(this)}))))))}}I.contextTypes={intl:m.intlShape.isRequired,getCss:s.a.func};const M=e=>{const t=Object(c.b)(e),a=t.getSetting,n=t.getPlaAdsSelectors,s=(0,t.getRoute)(),i=Object(C.w)(s),r=Object(C.s)(i),o=a(N.zd.ABOUT_AD_URL);return{plaAdsData:n().getPlaAdsData(),searchKeyword:r,aboutAdsUrl:o}},v=e=>({onPlaAdClicked:t=>e((({i13nModel:e})=>({type:f.Xi,i13nModel:e}))(t))});t.default=Object(d.connect)(M,v)(I)},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(1297),u=a.n(_),p=a(11),h=a(6),g=a(45),E=a(19),b=a(28),C=a(1232),f=a(18),S=a(1251),y=a(0),T=a(173);const N=Object(h.defineMessages)({rewards_atos_signup_cue_title:{id:"rewards_atos_signup_cue_title",defaultMessage:"Join and start to earn YPoints"},rewards_atos_signup_cue_description:{id:"rewards_atos_signup_cue_description",defaultMessage:"Join Yahoo Rewards Program, check your mailbox every day and earn YPoints to redeem rewards."},rewards_upgrade_atos_cue_title:{id:"rewards_upgrade_atos_cue_title",defaultMessage:"Term of Service Updated"},rewards_upgrade_atos_cue_description:{id:"rewards_upgrade_atos_cue_description",defaultMessage:"Please check and agree updated term of service, continue to earn points in {mailBrandingString}."},rewards_cta_join_now:{id:"rewards_cta_join_now",defaultMessage:"Join Now"},rewards_cta_maybe_later:{id:"rewards_cta_maybe_later",defaultMessage:"Maybe Later"},rewards_cta_upgrade_now:{id:"rewards_cta_upgrade_now",defaultMessage:"Upgrade Now"}}),A=(e,{getCss:t,region:a,intl:{formatMessage:n}})=>{const s=e.atosInfo,i=s.atosStatus,r=s.url,o=e.onClose,l=e.cueName,c=e.tmrNotificationUserResponse,m=i===y.fe.EXPIRED,_=t(u.a),p=(e,t)=>({i13nModel:{mKey:e,interactionType:Object(f.j)(t),actionData:{atosStatus:i,cueCount:c}}}),h=e=>{o(p("cue_"+l+"_success",e)),window.open(r+`?.done=${encodeURIComponent(S.c)}&.src=${S.a[a]||"media-tw"}`,"_self")};return d.a.createElement("div",{className:_.subwrapper,"data-test-id":"tmr_atos_cue"},d.a.createElement("div",{className:_.imgContainer},d.a.createElement("img",{className:_.cueImg,src:Object(g.a)((()=>m?"hk"===a?"/img/tmr_hk_atos_upgrade_cue.svg":"/img/tmr_tw_atos_upgrade_cue.svg":"hk"===a?"/img/tmr_hk_atos_signup_cue.svg":"/img/tmr_tw_atos_signup_cue.svg")())})),d.a.createElement("div",{className:_.content},d.a.createElement("div",{className:_.title},n(m?N.rewards_upgrade_atos_cue_title:N.rewards_atos_signup_cue_title)),d.a.createElement("div",{className:_.description},m?n(N.rewards_upgrade_atos_cue_description,{mailBrandingString:n(T.a.mailBrandName)}):n(N.rewards_atos_signup_cue_description)),d.a.createElement("div",null,m?d.a.createElement(E.a,{overridingClass:_.primary,onClick:h,kind:b.a.PRIMARY,"data-test-id":"cta-upgrade-now",marginLess:!0},n(N.rewards_cta_upgrade_now)):d.a.createElement(E.a,{overridingClass:_.primary,onClick:h,kind:b.a.PRIMARY,"data-test-id":"cta-join-now",marginLess:!0},n(N.rewards_cta_join_now)),d.a.createElement(E.a,{overridingClass:_.secondary,onClick:e=>{o(p("cue_"+l+"_close",e))},kind:b.a.SECONDARY_BORDERLESS,"data-test-id":"cta-maybe-later"},n(N.rewards_cta_maybe_later)))))};A.contextTypes={getCss:l.a.func,intl:h.intlShape.isRequired,region:l.a.string};var I=Object(C.a)(A);const M=Object(h.defineMessages)({rewards_tasks_completed_title:{id:"rewards_tasks_completed_title",defaultMessage:"You earned {points} YPoints"},rewards_tasks_completed_description:{id:"rewards_tasks_completed_description",defaultMessage:"Checked in today! Come back on weekend to earn bonus YPoints"},rewards_bonus_tasks_completed_title:{id:"rewards_bonus_tasks_completed_title",defaultMessage:"It's Weekend! You earn {points} YPoints as bonus"},rewards_bonus_tasks_completed_description:{id:"rewards_bonus_tasks_completed_description",defaultMessage:"Checked in today! Glad to see you in weekend and earn bonus YPoints"},rewards_cta_see_progress:{id:"rewards_cta_see_progress",defaultMessage:"See Progress"},rewards_cta_got_it:{id:"rewards_cta_got_it",defaultMessage:"Got it"}}),v=({notificationData:e,onClose:t,cueName:a,isMembershipRewardsPaneActive:n,membershipRewardsIconToggled:s},{getCss:i,region:r,intl:{formatMessage:o}})=>{const l=i(u.a),c=e.isBonusReceived,m=e.pointsReceived,_=(e,t)=>({i13nModel:{mKey:e,interactionType:Object(f.j)(t),actionData:{challengeType:y.ge.DAILY_CHECKIN}}}),p=e=>{t(_("cue_"+a+"_close",e))};return d.a.createElement("div",{className:l.subwrapper,"data-test-id":"daily_checkin_notification"},d.a.createElement("div",{className:l.imgContainer},d.a.createElement("img",{className:l.cueImg,src:Object(g.a)((()=>"hk"===r?"/img/tmr_hk_task_completed.svg":c?"/img/tmr_tw_task_completed_bonus.svg":"/img/tmr_tw_task_completed_regular.svg")())})),d.a.createElement("div",{className:l.content},d.a.createElement("div",{className:l.title},o(c?M.rewards_bonus_tasks_completed_title:M.rewards_tasks_completed_title,{points:m})),d.a.createElement("div",{className:l.description},o(c?M.rewards_bonus_tasks_completed_description:M.rewards_tasks_completed_description)),d.a.createElement("div",null,d.a.createElement(E.a,{overridingClass:l.primary,onClick:n?p:e=>{t(_("cue_"+a+"_success",e)),s({name:y.dd.MEMBERSHIP_REWARDS})},kind:b.a.PRIMARY,"data-test-id":n?"cta-got-it":"cta-see-progress",marginLess:!0},o(n?M.rewards_cta_got_it:M.rewards_cta_see_progress)),n?null:d.a.createElement(E.a,{overridingClass:l.secondary,onClick:p,kind:b.a.SECONDARY_BORDERLESS,"data-test-id":"cta-got-it"},o(M.rewards_cta_got_it)))))};v.contextTypes={getCss:l.a.func,intl:h.intlShape.isRequired,region:l.a.string};var D=Object(C.a)(v),O=a(475);a.d(t,"RewardsIconPopover",function(){return w}),a.d(t,"mapStateToProps",function(){return P}),a.d(t,"mapDispatchToProps",function(){return x});const k=y.fe.EXPIRED,R=y.fe.NO_STATE;class w extends d.a.Component{constructor(...e){super(...e),r()(this,"computeActionData",()=>{const e=this.props.atosInfo.atosStatus;return e===k||e===R?{atosStatus:this.props.atosInfo.atosStatus,cueCount:this.props.tmrNotificationUserResponse}:{challengeType:y.ge.DAILY_CHECKIN}})}render(){const e=this.context.getCss(u.a),t=this.props,a=t.atosInfo.atosStatus,n=t.notificationData,i=t.tmrNotificationUserResponse;let r=null;return a===k||a===R?r=d.a.createElement(I,s()({},this.props,{computeActionData:this.computeActionData,tmrNotificationUserResponse:i})):n.pointsReceived&&(r=d.a.createElement(D,s()({},this.props,{computeActionData:this.computeActionData}))),d.a.createElement("div",{role:"alert",className:e.wrapper},r)}}w.contextTypes={getCss:l.a.func.isRequired};const P=e=>{const t=Object(p.b)(e),a=t.getSetting,n=t.getFeatureCueSelectors,s=(0,t.getMembershipRewardsSelectors)(),i=s.getLastCompletedChallenges,r=(0,s.getAtosInfo)(),o=a(y.zd.ACTIONABLE_RIGHT_RAIL_CONTENT),l=o&&o.currentView===y.dd.MEMBERSHIP_REWARDS,c=i(y.ge.DAILY_CHECKIN);return{atosInfo:r,notificationData:{pointsReceived:c.pointsReceived,isBonusReceived:c.bonusChallengeCompleted},isMembershipRewardsPaneActive:l,tmrNotificationUserResponse:(0,n().getUserResponse)(y.ub.TMR_ICON_NOTIFICATION)}},x=e=>({membershipRewardsIconToggled:t=>e(Object(O.b)(t))});t.default=Object(m.connect)(P,x)(w)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(4),l=a.n(o),c=a(6),d=a(15),m=a(1565),_=a.n(m),u=a(13),p=a.n(u),h=a(1302),g=a(16),E=a(5),b=a(19),C=a(28),f=a(415),S=a(124),y=a(9),T=a(10),N=a(11),A=a(0),I=a(88),M=a(7);const v=Object(c.defineMessages)({limitReachedText:{id:"compose.contact_picker_selected_count_limit",defaultMessage:"Limit reached"}});class D extends i.Component{constructor(...e){super(...e),s()(this,"state",{selectedContacts:{}}),s()(this,"scrollPositions",{}),s()(this,"onScroll",({scrollTop:e,listId:t})=>{this.scrollPositions[t]=e}),s()(this,"onContactPickerClose",()=>this.props.onClose()),s()(this,"onContactClick",({itemType:e})=>{const t=this.state.selectedContacts,a=Object(S.c)(e);let n;if(t[a])n=Object(y.f)(t,[a]);else{if(Object.keys(t).length>=f.b)return;n=l()({},t,{[a]:e})}this.setState({selectedContacts:n})}),s()(this,"handleSelectAndDeselectAll",()=>{const e=this.state.selectedContacts,t=this.props.contacts,a=t.length,n=Object.keys(e).length;if(n===f.b||n===a)return void this.setState({selectedContacts:{}});const s=t.filter(({itemType:t})=>!e[Object(S.c)(t)]),i=s.length,r=s.slice(0,i<=f.b-n?i:f.b-n).reduce((e,{id:t,itemType:a})=>(e[t]=a,e),l()({},e));this.setState({selectedContacts:r})}),s()(this,"addContactsToField",()=>{const e=this.state.selectedContacts,t=this.props.getContactById,a=Object(y.g)(e);if(a.length>0){const e=a.map(({id:e,value:a})=>{return{email:a,id:e,name:t(e).name}});this.props.addContactsToField(e),this.onContactPickerClose()}})}render(){const e=this.props,t=e.listId,a=e.contacts,n=this.state.selectedContacts,s=a.length,o=Object.keys(n).length,l=!o,d=o>=f.b,m=0===s,u=o===f.b||o===s,y=p()(_.a,{bottomDisabled:l,maxCountReached:d});return r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:y.resultsContainer,"data-test-id":"contact-picker-result"},r.a.createElement(h.a,{listId:t,applyTheme:!1,contactItemProps:{allowMultiSelect:!0,onClick:this.onContactClick,isContactSelected:({itemType:e})=>!!n[Object(S.c)(e)],i13nSection:M.g.CONTACT_PICKER},items:a,scrollPositions:this.scrollPositions,onScroll:this.onScroll})),r.a.createElement("div",{className:y.bottomSection},r.a.createElement("div",{className:y.buttonGroup},r.a.createElement(b.a,{disabled:l,onClick:this.addContactsToField,overridingClass:y.doneButton,"data-test-id":"done"},r.a.createElement(c.FormattedMessage,{defaultMessage:"Done",id:"compose.contact_picker_done"})),r.a.createElement(b.a,{kind:C.a.CHROMELESS,onClick:this.onContactPickerClose,"data-test-id":"cancel",overridingClass:y.cancelButton},r.a.createElement(c.FormattedMessage,{defaultMessage:"Cancel",id:"compose.contact_picker_cancel"}))),r.a.createElement("div",{className:y.itemCounts},r.a.createElement(b.a,{kind:C.a.CHROMELESS,onClick:this.handleSelectAndDeselectAll,disabled:m,"data-test-id":"select-all-toggle",overridingClass:y.toggleButton},r.a.createElement(c.FormattedMessage,u?{defaultMessage:"Deselect all",id:"compose.contact_picker_deselect_all"}:{defaultMessage:"Select all",id:"compose.contact_picker_select_all"})),r.a.createElement("div",{className:y.limitReached},d&&r.a.createElement("div",{className:y.icon,title:this.context.intl.formatMessage(v.limitReachedText)},r.a.createElement(g.b,{kind:E.b.ATTENTION,size:E.d.XS,colorState:E.a.WARNING})),r.a.createElement("span",{className:y.count},r.a.createElement(c.FormattedMessage,{defaultMessage:"{numOfSelectedContacts, number}/100 selected",values:{numOfSelectedContacts:o},id:"compose.contact_picker_selected_count"}))))))}}s()(D,"contextTypes",{intl:c.intlShape});var O=Object(d.connect)((e,{query:t})=>{const a=Object(N.b)(e),n=a.getContactListItems,s=(0,a.getContactListSelectors)(),i=s.getContactById,r=(0,s.getSelectedGroup)(f.a),o=Object(T.j)(A.Qb.GROUPS,r);return{contacts:n(o).filter(({itemType:e={}})=>{const a=e.value,n=e.id,s=e.type===S.b.EMAIL;if(!t||!s)return s;const r=new RegExp(`\\b${Object(I.a)(t.trim())}\\w*`,"i"),o=i(n).name,l=void 0===o?"":o;return(a||l)&&r.test(l+" "+a)}),listId:o,getContactById:i}})(D),k=a(1566),R=a.n(k),w=a(1279),P=a(278),x=a(563),F=a(18);const L=p()(R.a),B=Object(c.defineMessages)({searchPlaceholder:{id:"compose.contact_picker.search_placeholder",defaultMessage:"Search for a contact"}}),U=(e,t)=>{const a=e.query,n=e.onSearchChange,s=e.groupsList,i=void 0===s?[]:s,o=e.selectedGroup,l=e.fetchContactGroupData;return r.a.createElement("div",{className:L.searchContainer},r.a.createElement("div",{className:L.flexbox},r.a.createElement("div",{className:L.searchFlex},r.a.createElement(P.a,{focusOnMount:!0,className:L.searchInput,type:"text",placeholder:(0,t.intl.formatMessage)(B.searchPlaceholder),"data-test-id":"query-input",value:a,isClearable:!1,onChange:n}),r.a.createElement("span",{className:L.inputSearchIcon,"aria-hidden":!0},r.a.createElement(g.b,{kind:E.b.SEARCH,size:E.d.XS,colorState:E.a.DISABLED,"aria-hidden":!0}))),r.a.createElement("div",{className:L.selectFlex},r.a.createElement(w.a,{list:[A.ab,...i],onChange:l,selectedItem:o}))))};U.contextTypes={intl:c.intlShape};var H=Object(d.connect)(e=>{return{groupsList:(0,Object(N.b)(e).getCustomContactGroups)()}},e=>({fetchContactGroupData:(t,a)=>{e(Object(x.a)({value:t,i13nModel:{mKey:M.e.CHANGE_USER_GROUP,sec:M.g.CONTACT_PICKER,interactionType:Object(F.j)(a)}}))}}))(U),j=a(1567),G=a.n(j);a.d(t,"ContactPicker",function(){return W});class W extends r.a.Component{constructor(...e){super(...e),s()(this,"state",{query:""}),s()(this,"onSearchChange",e=>this.setState({query:e}))}render(){const e=this.props,t=e.selectedGroup,a=e.onClose,n=e.addContactsToField,s=this.state.query,i=.3*document.body.clientWidth,o=p()(G.a);return r.a.createElement("div",{className:o.contactPickerContainer,style:{width:i},"data-test-id":"contact-picker"},r.a.createElement(H,{query:s,onSearchChange:this.onSearchChange,selectedGroup:t}),r.a.createElement(O,{query:s,addContactsToField:n,onClose:a}))}}t.default=Object(d.connect)(e=>{return{selectedGroup:(0,(0,Object(N.b)(e).getContactListSelectors)().getSelectedGroup)(f.a)}})(W)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1246),m=a(1232),_=a(13),u=a.n(_),p=a(1310),h=a.n(p),g=a(28),E=a(20),b=a(5),C=a(474),f=a(18),S=a(11),y=a(15),T=a(45),N=a(19),A=a(9);var I=e=>{const t=e.heading,a=e.subHeading,n=e.buttonKind,s=e.onClick,i=e.buttonMessage,r=e.hasMargin,o=e.linkTo,c=e.isCompact,d=e.isVideoAdOption,m=u()(h.a,{isCompact:c,nonCompact:!c});return l.a.createElement("div",{className:m.adblockOption},t?l.a.createElement("div",{className:m.optionHeading},t,l.a.createElement("span",{className:m.optionSubHeading},a)):null,l.a.createElement("a",{href:o,rel:"noreferrer",target:"_blank",className:m.optionButtonContainer},l.a.createElement(N.a,{"data-test-id":"navigate-to-link",onClick:s,kind:n,marginLess:r,overridingClass:d?m.optionButtonVideoAd:""},l.a.createElement("span",{className:m.optionButton},i))))},M=a(0),v=a(347),D=a(7),O=a(66),k=a(1256),R=a(74),w=a.n(R),P=a(1374),x=a.n(P),F=a(65),L=a(531),B=a(481);const U=w.a.create("norrin/gemini_rr_upsell_video_ad"),H=Object(c.defineMessages)({close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},thanksForWatching:{id:"right_rail_upsell_video_ad.thanks",defaultMessage:"Thank you for watching the video!"},enjoyAdFree:{id:"right_rail_upsell_video_ad.enjoy",defaultMessage:"Enjoy your {duration} {units} of ad-lite Yahoo Mail"},adText:{id:"ad.text",defaultMessage:"AD"}});class j extends o.Component{constructor(){super(),s()(this,"getVideoConfig",()=>{const e=this.props,t=e.adData,a=t.videoAd;return{site:e.site,expName:"norrinRightRailUpsellVideoAd",autoplay:!0,html5:!0,mute:!0,spaceId:e.spaceId,playlist:{mediaItems:[{id:e.geminiVideoAdId,images:{thumbnail:a.thumbnail}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:a.videoMediaAssets,clickUrl:a.clickUrl,landingUrl:t.pencilAd.landingUrl},rules:a.rules,beacons:a.actionUrls}},replayonlyendscreen:!0,ccOnMute:!0,region:this.context.region}}),s()(this,"handleAdPlaybackStart",()=>{this.videoStartTimestamp=Date.now(),this.props.onVideoAdStarted({i13nModel:{mKey:D.e.RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED,sec:D.g.FEATURE_CUE}})}),s()(this,"updateAdFreeTimestamp",e=>{Object(f.m)()&&(e||Date.now()-this.videoStartTimestamp>L.a)&&(window.localStorage.setItem(L.b,Date.now()),this.props.onTimestampUpdate())}),s()(this,"handleAdPlaybackEnd",()=>{this.updateAdFreeTimestamp(!0),this.setState({isFinished:!0}),this.props.onVideoAdFinished({i13nModel:{mKey:D.e.RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED,sec:D.g.FEATURE_CUE}})}),s()(this,"handleVideoError",(e,t)=>{U.info("Right-rail Gemini video ad"+e,{data:t})}),s()(this,"handleAdClick",(e,t)=>{e.stopPropagation(),this.updateAdFreeTimestamp(!1),this.props.onVideoAdClicked({i13nModel:{mKey:D.e.RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED,sec:D.g.FEATURE_CUE,actionData:{videoClick:t}}})}),this.videoStartTimestamp=0,this.state={isFinished:!1}}render(){const e=this.props,t=e.onClose,a=e.videoAdDuration,n=e.adData.pencilAd,s=n.adSource,i=n.adImg,r=n.adHeadline,o=n.clickUrl,c=n.callToAction,d=this.context.intl.formatMessage,m=this.context.getCss(x.a);return l.a.createElement("div",{"data-test-id":"video-container",className:m.container},l.a.createElement("div",{className:m.close},l.a.createElement(E.a,{onClick:t,kind:b.b.CLOSE,size:b.d.XS,colorState:this.state.isFinished?b.a.NORMAL:b.a.WHITE,title:d(H.close),"aria-label":d(H.close),"data-test-id":"close-cue-button"})),this.state.isFinished?l.a.createElement("div",{"data-test-id":"video-thank-you-container",className:m.thankYouContainer},l.a.createElement("div",{className:m.thankYouImage},l.a.createElement("div",{className:m.imageWrapper},l.a.createElement("div",{className:m.imageBackground},l.a.createElement("img",{className:m.thinkingEmoji,src:Object(T.a)("/img/animation_adblocker.gif")})))),l.a.createElement("div",{className:m.thankYouHeaderContainer},l.a.createElement("div",{className:m.thankYouHeader},d(H.thanksForWatching)),l.a.createElement("div",{className:m.thankYouSubHeader},d(H.enjoyAdFree,{duration:a>60?"":a,units:a>60?"day":"minutes"})))):l.a.createElement("div",{className:m.videoContainer,onClick:e=>this.handleAdClick(e,!0)},l.a.createElement(k.a,{onAdPlaybackStart:this.handleAdPlaybackStart,onAdPlaybackEnd:this.handleAdPlaybackEnd,onAdError:e=>this.handleVideoError("AdError",e),onPlayerError:e=>this.handleVideoError("PlayerError",e),onLoadError:e=>this.handleVideoError("LoadError",e),width:"640px",height:"360px",playerConfig:this.getVideoConfig(),key:"rightRailUpsellVideoAd",showVideoCoverInitially:!1,play:!0}),l.a.createElement("div",{className:m.adContainer},l.a.createElement("div",{className:m.adDetails},l.a.createElement("div",{className:m.adImage},i&&l.a.createElement(B.a,{size:F.c.M,imageSrc:i})),l.a.createElement("div",{className:m.adDescription},l.a.createElement("span",{className:m.adSource},s,l.a.createElement("a",{className:m.adIcon,href:this.props.aboutAdsUrl,target:"_blank"},d(H.adText))),l.a.createElement("span",{className:m.adHeadline},r))),l.a.createElement("a",{className:m.cta,href:o,onClick:e=>this.handleAdClick(e,!1),target:"_blank"},c))))}}s()(j,"contextTypes",{intl:c.intlShape,region:r.a.string,getCss:r.a.func});var G=Object(y.connect)(e=>{const t=Object(S.b)(e),a=t.getSetting,n=t.getCurrentSpaceId;return{geminiVideoAdId:a(M.zd.GEMINI_VIDEO_AD_ID),spaceId:n(),site:a(M.zd.GEMINI_VIDEO_AD_SITE),aboutAdsUrl:a(M.zd.ABOUT_AD_URL)}},e=>({onVideoAdStarted:t=>e(Object(O.v)(t)),onVideoAdFinished:t=>e(Object(O.u)(t)),onVideoAdClicked:t=>e(Object(O.t)(t))}))(j),W=a(122);a.d(t,"mapStateToProps",function(){return Y}),a.d(t,"mapDispatchToProps",function(){return K});const Z=Object(c.defineMessages)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooWiderMailBranding:{id:"mail.yahoo_wider_mail_upsell_branding",defaultMessage:"Wider Mail"},tryItFree:{id:"adblock_payup_try_it_free",defaultMessage:"Try it free!"},getExtension:{id:"adblock_payup_extension_text",defaultMessage:"Install"},upgradeToMailPro:{id:"upgrade_to_yahoo_mail_pro",defaultMessage:"Upgrade to {mailProBranding} (go ad-free)"},mailProPricePlan:{id:"upgrade_to_yahoo_mail_pro_price",defaultMessage:"{mailProPriceOption}/month"},getWiderMail:{id:"get_wider_mail_extension",defaultMessage:"Get the free {widerMailBranding} extension"},adBlockUpsellUserName:{id:"adBlock_upsell_user_name",defaultMessage:"Hi {accountName}!"},close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},rightRailUpsellSubText:{id:"right_rail_upsell_subtext",defaultMessage:"Want more room to view your messages?"},adBlockUpsellOptionsHeader:{id:"adBlock_upsell_options_header",defaultMessage:"Want fewer ads?"},tryOneofThese:{id:"try_one_of_these",defaultMessage:"Try one of these options:"},videoAdDescription:{id:"right_rail_upsell_video_ad.description",defaultMessage:"Hide this ad for {duration} {units} (recommended)"},videoAdButton:{id:"right_rail_upsell_video_ad.button",defaultMessage:"Watch Video Ad"}}),V="https://chrome.google.com/webstore/detail/",q="https://addons.mozilla.org/firefox/downloads/latest/yahoo-wider-mail/addon-727603-latest.xpi?src=ymail";class z extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{videoAdStarted:!1,isTempAdFree:!1}),s()(this,"getRapidEvent",(e,t)=>({i13nModel:{mKey:e,sec:D.g.FEATURE_CUE,interactionType:Object(f.j)(t)}})),s()(this,"statOptionClick",(e,t)=>{(0,this.props.onAdblockUpsellOptionClick)({mKey:e,sec:D.g.FEATURE_CUE,interactionType:Object(f.j)(t)})}),s()(this,"onClose",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:D.g.FEATURE_CUE,interactionType:Object(f.j)(e),actionData:{isTempAdFree:this.state.isTempAdFree}}})}),s()(this,"handleOverlayClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),s()(this,"handleGetExtension",e=>{let t=Object(A.a)(window,"AppBootstrapData.browserName","");if("chrome"===(t=t.toLowerCase())){const e=this.props.extensionSetting;Object(W.a)(V+e.chromeExtensionId)}else"firefox"===t&&(location.href=q,this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e)))}),s()(this,"handleClick",(e,t)=>{let a;switch(e){case"goToMailPro":a="cue_"+this.props.cueName+"_mailPro";break;case"videoAd":a="cue_"+this.props.cueName+"_videoAd",this.setState({videoAdStarted:!0});break;case"getExtension":a="cue_"+this.props.cueName+"_getExtension",this.handleGetExtension(t);break;default:a="cue_"+this.props.cueName+"_success"}this.statOptionClick(a,t)}),s()(this,"handleAdFreeTimestampUpdated",()=>{this.setState({isTempAdFree:!0})}),s()(this,"renderUpsellCue",e=>{const t=this.context.intl.formatMessage,a=this.onClose,n=this.props,s=n.accountName,i=n.adFreeMailUrl,r=n.isMailProEligible,o=n.isWiderMailEligible,d=n.isMailPro,m=n.widerMailExtnEnabled,_=n.videoAdDuration,u=n.adData,p=n.rightRailUpsellVideoAd&&u&&Object(A.a)(u,"pencilAd.landingUrl",null)&&Object(A.a)(u,"videoAd.clickUrl",null);return l.a.createElement("div",{"data-test-id":"rr-upsell-cue",className:e.container},l.a.createElement("div",{className:e.close},l.a.createElement(E.a,{onClick:a,kind:b.b.CLOSE,size:b.d.XS,colorState:b.a.NORMAL,title:t(Z.close),"aria-label":t(Z.close),"data-test-id":"close-cue-button"})),l.a.createElement("div",{"data-test-id":"header",className:e.headerSection},l.a.createElement("div",{className:e.imageWrapper},l.a.createElement("div",{className:e.adBlockBackground},l.a.createElement("img",{className:e.thinkingEmoji,src:Object(T.a)("/img/animation_adblocker.gif")})))),l.a.createElement("div",{className:e.heading},l.a.createElement("div",{className:e.userName},t(Z.adBlockUpsellUserName,{accountName:s})),l.a.createElement("div",{className:e.message},t(Z.rightRailUpsellSubText))),o&&!m&&r&&!d?l.a.createElement("div",{className:e.description,"data-test-id":"rr-upsell-cue-description-two-options"},l.a.createElement(c.FormattedMessage,{id:"body_text_right_rail_upsell",defaultMessage:"Choose one of the options below to get an expanded view of your inbox:"})):null,l.a.createElement("div",{className:e.adblockUpsell,"data-test-id":"rr-upsell-options"},o&&!m?l.a.createElement(I,{heading:t(Z.getWiderMail,{widerMailBranding:t(Z.yahooWiderMailBranding)}),buttonKind:g.a.SECONDARY,hasMargin:!0,onClick:this.handleClick.bind(this,"getExtension"),buttonMessage:t(Z.getExtension),"data-test-id":"wider-mail-extension"}):null,r&&!d?l.a.createElement(I,{heading:t(Z.upgradeToMailPro,{mailProBranding:t(Z.yahooMailProBranding)}),buttonKind:p?g.a.SECONDARY:g.a.PRIMARY,hasMargin:!0,onClick:this.handleClick.bind(this,"goToMailPro"),linkTo:i,buttonMessage:t(Z.tryItFree)}):null,p?l.a.createElement(I,{heading:t(Z.videoAdDescription,{duration:_>60?1:_,units:_>60?"day":"minutes"}),buttonKind:g.a.PRIMARY,hasMargin:!0,onClick:this.handleClick.bind(this,"videoAd"),buttonMessage:t(Z.videoAdButton),isVideoAdOption:!0}):null))})}render(){const e=this.props,t=e.adData,a=e.videoAdDuration,n=u()(h.a);return l.a.createElement(d.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:C.a.DARK,ariaLabelledBy:"right-rail-upsell-cue",ariaDescribedBy:"right-rail-upsell-cue"},this.state.videoAdStarted?l.a.createElement(G,{onClose:this.onClose,onTimestampUpdate:this.handleAdFreeTimestampUpdated,adData:t,videoAdDuration:a}):this.renderUpsellCue(n))}}s()(z,"contextTypes",{intl:c.intlShape});const Y=e=>{const t=Object(S.b)(e),a=t.getAccountSelectors,n=t.getSelectedAccountId,s=t.getAdsSelectors,i=(0,t.getFeaturesSelectors)(),r=(0,a().getAccountNameByAccountId)(n()),o=i.isEnabled(M.ub.MAIL_PRO_ELIGIBLE),l=i.getSetting(M.zd.AD_FREE_MAIL_URL),c=i.getSetting(M.zd.WIDER_MAIL_EXTENSION),d=i.isEnabled(M.ub.WIDER_MAIL_ELIGIBLE),m=i.isEnabled(M.ub.MAIL_PRO),_=i.isEnabled(M.ub.IS_WIDER_MAIL_EXTN_ENABLED),u=i.isEnabled(M.ub.RIGHT_RAIL_UPSELL_VIDEO_AD),p=i.getSetting(M.zd.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION),h=i.getSetting(M.zd.GEMINI_SECTION_IDS);return{isMailProEligible:o,accountName:r,adFreeMailUrl:l,isWiderMailEligible:d,extensionSetting:c,isMailPro:m,widerMailExtnEnabled:_,rightRailUpsellVideoAd:u,videoAdDuration:p,adData:s().getGeminiAdData(h[M.Db.RIGHT_RAIL_UPSELL])}},K=e=>({onAdblockUpsellOptionClick:t=>e(Object(v.d)({i13nModel:t}))});t.default=Object(m.a)(Object(y.connect)(Y,K)(z))},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=(a(8),a(1)),l=a.n(o),c=a(15),d=a(0);var m=class extends l.a.Component{componentDidMount(){const e=this.props,t=e.downloadId,a=e.onDownloadCompleted;this.timeout=setTimeout(()=>{a({downloadId:t})},d.fb)}componentWillUnmount(){clearTimeout(this.timeout),this.timeout=null}render(){return l.a.createElement("iframe",{src:this.props.downloadUrl,width:"0",height:"0",style:{display:"none"}})}},_=a(11),u=a(73),p=a(2),h=a(74);const g=a.n(h).a.create("norrin/downloader");a.d(t,"ERROR_FRAME_PATH",function(){return E}),a.d(t,"Downloader",function(){return C}),a.d(t,"mapStateToProps",function(){return f}),a.d(t,"mapDispatchToProps",function(){return S});const E=`${d.xe}/iframemsg`;function b(){return window.location.hostname+(window.location.port?`:${window.location.port}`:"")}class C extends l.a.Component{constructor(...e){super(...e),r()(this,"_handlePostMessage",e=>{const t=e.source;if(e.origin!==`https://${b()}`||t.location.pathname!==E)return;let a={};try{a=JSON.parse(e.data)}catch(t){return void u.a.error(`Unable to parse JSON data from ${E}.`,e.data)}const n=a.error,i=void 0===n?{}:n,r=this.props.downloadItems.find(e=>e.downloadId===a.id)||{},o=r.downloadId,l=r.downloadUrl,c=r.filename,d=r.fileCount;this.props.handleDownloadFailed(s()({downloadId:o,downloadUrl:l,filename:c,fileCount:d},i))}),r()(this,"_buildDownloadUrl",(e,t)=>{if(-1===b().indexOf("mail.yahoo.com")&&-1===b().indexOf("mail.aol.com"))return t;return`${t}&error=${encodeURIComponent(`${function(){return`https://${b()}${E}`}()}?id=${e}`)}`})}componentDidMount(){window.addEventListener("message",this._handlePostMessage)}componentWillUnmount(){window.removeEventListener("message",this._handlePostMessage)}render(){const e=this.props,t=e.handleDownloadCompleted,a=e.downloadItems.map(e=>l.a.createElement(m,{key:e.downloadId,downloadId:e.downloadId,downloadUrl:this._buildDownloadUrl(e.downloadId,e.downloadUrl),onDownloadCompleted:t}));return a.length?l.a.createElement("div",{"data-test-id":"downloader-wrapper"},a):null}}function f(e){return{downloadItems:(0,Object(_.b)(e).getDownloadsSelectors)().getDownloads()}}function S(e){return{handleDownloadCompleted({downloadId:t}){e(function({downloadId:e,downloadUrl:t}){return g.info("download completed",{downloadId:e,downloadUrl:t}),{type:p.xe,downloadId:e}}({downloadId:t}))},handleDownloadFailed({downloadId:t,downloadUrl:a,filename:n,fileCount:s,error:i}){e(function({downloadId:e,downloadUrl:t,fileCount:a,filename:n,error:s={}}){return g.error("download failed",{downloadId:e,downloadUrl:t,error:s}),{type:p.ye,downloadId:e,downloadUrl:t,fileCount:a,filename:n,error:s}}({downloadId:t,downloadUrl:a,filename:n,fileCount:s,error:i}))}}}t.default=Object(c.connect)(f,S)(C)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(15),d=a(11),m=a(6),_=a(19),u=(a(42),a(1232)),p=a(18),h=a(16),g=a(20),E=a(5),b=a(1599),C=a.n(b),f=a(13),S=a.n(f);const y=Object(m.defineMessages)({singleButtonNewCue:{id:"feature_cue.newFeature",defaultMessage:"New feature notification"},close:{id:"cue.close",defaultMessage:"Close"}});class T extends l.a.Component{constructor(...e){super(...e),s()(this,"onPrimaryButton",e=>{this.props.onPrimary();const t={i13nModel:{mKey:"cue_"+this.props.cueName+"_success",interactionType:Object(p.j)(e)}};this.props.onSuccess(t)}),s()(this,"onAbort",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:Object(p.j)(e)}})})}componentDidMount(){window.setTimeout(()=>this.singleButtonWithDateCueContent&&this.singleButtonWithDateCueContent.focus(),0)}render(){const e=S()(C.a,{theme:this.context.getTheme()}),t=this.context.intl.formatMessage;return l.a.createElement("div",{role:"navigation","aria-label":t(y.singleButtonNewCue)},l.a.createElement("div",{className:e.container,"data-test-id":this.props.cueName,ref:e=>this.singleButtonWithDateCueContent=e,tabIndex:"-1"},l.a.createElement("div",{"data-test-id":"coupon_card_date",className:e.date},l.a.createElement("div",{className:e.day},this.props.date),l.a.createElement("div",{className:e.month},l.a.createElement(m.FormattedMessage,this.props.monthText))),l.a.createElement("div",{className:e.separator}),l.a.createElement("div",{className:e.actions},l.a.createElement("div",{className:e.info},l.a.createElement("div",{className:e.header},this.props.headerText),l.a.createElement("div",{className:e.body},this.props.bodyText)),l.a.createElement("div",{className:e.buttonContainer},l.a.createElement(_.a,{className:e.buttonUnclipped,onClick:e=>this.onPrimaryButton(e),"data-test-id":"save-coupon-btn","aria-label":t(this.props.btnText)},l.a.createElement(h.b,{kind:E.b.ADD,size:E.d.M,colorState:E.a.SUCCESS}),l.a.createElement("span",{className:e.buttonText},l.a.createElement(m.FormattedMessage,this.props.btnText))))),l.a.createElement("div",{className:e.close},l.a.createElement(g.a,{onClick:this.onAbort,kind:E.b.CLOSE,size:E.d.XXS,title:t(y.close),"aria-label":t(y.close),"data-test-id":"close-cue-button"}))))}}s()(T,"contextTypes",{intl:m.intlShape.isRequired,getTheme:r.a.func});var N=Object(u.a)(T),A=a(7),I=a(223),M=a(0),v=a(1355),D=a(204);a.d(t,"mapStateToProps",function(){return R});const O=Object(m.defineMessages)({button:{id:"date_cue.button_text",defaultMessage:"Save Deal"}});class k extends l.a.Component{constructor(...e){super(...e),s()(this,"_getDateInfo",()=>{const e=this.props.cardData.expirationTime,t=e.date,a=e.month,n=l.a.createElement(D.a,{daysUntilExpiry:e.dateDiff,isInferred:e.isInferred});return{day:t,month:v.b[`month_${a}`],daysLeftMsg:n}}),s()(this,"_handlePrimary",()=>{const e=this.props,t=e.cardData,a=void 0===t?{}:t;(0,e.clip)({cardMid:a.cmid,schemaId:a.schemaId,i13nModel:{mKey:A.e.COUPON_CLIPPED,sec:A.g.MSG_LIST_MSG}})})}render(){if(!this.props.cardData)return null;const e=this._getDateInfo();return l.a.createElement(N,{headerText:this.props.cardData.description,bodyText:e.daysLeftMsg,btnText:O.button,cueName:M.ub.INBOX_COUPONS_CUE,onPrimary:this._handlePrimary,monthText:e.month,date:e.day})}}s()(k,"contextTypes",{intl:m.intlShape.isRequired,executeAction:r.a.func});const R=(e,t)=>{return{cardData:(0,(0,Object(d.b)(e).getCouponsSelectors)().getCouponCardsForCardConversationId)(t.cardConversationId)[0]}};t.default=Object(c.connect)(R,I.d)(k)},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(8),r=a.n(i),o=a(6),l=a(23),c=a.n(l),d=a(3),m=a.n(d),_=a(16),u=a(5),p=a(18),h=(a(42),a(7)),g=a(1232),E=a(1562),b=a.n(E),C=a(13),f=a.n(C);const S={kind:u.b.CLOSE,colorState:u.a.DEFAULT,size:u.d.XXXS};class y extends s.a.Component{constructor(...e){super(...e),m()(this,"onClose",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:h.g.FEATURE_CUE,interactionType:Object(p.j)(e)}})}),m()(this,"onCtaClick",e=>{this.props.onCtaClick(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_success",sec:h.g.FEATURE_CUE,interactionType:Object(p.j)(e)}})})}render(){const e=this.context.mailBrandNameString,t=this.context.intl.formatMessage,a=this.props,n=a.message,i=a.ctaText,r=a.bgImage,l=a.cueName,d=a.bgImageClass,m=f()(b.a,{image:d});return s.a.createElement("div",{className:m.container,"data-test-id":l},s.a.createElement("div",{className:m.text},s.a.createElement(o.FormattedMessage,c()({},n,{values:{mailBrandNameString:e}}))),s.a.createElement("a",{className:m.ctaLink,onClick:this.onCtaClick,"aria-label":t(i),title:t(i),"data-test-id":"try-now-cue-button"},t(i)),s.a.createElement("div",{"data-test-id":"text-cue-close-icon",className:m.close,onClick:this.onClose},s.a.createElement(_.b,c()({"data-test-id":"close-cue-button"},S))),s.a.createElement("div",{className:m.image,style:{backgroundImage:`url(${r})`}}))}}m()(y,"contextTypes",{intl:o.intlShape.isRequired,mailBrandNameString:r.a.string});var T=Object(g.a)(y),N=a(0),A=a(45),I=a(17);a.d(t,"default",function(){return D});const M=Object(A.a)("/img/account_sources.png"),v=Object(o.defineMessages)({ctaText:{id:"imapin.office365_cta",defaultMessage:"Add Office 365 now"},message:{id:"imapin.office365_message",defaultMessage:"{mailBrandNameString} now supports Office 365 email import."}});function D(e,t){return s.a.createElement(T,{message:v.message,ctaText:v.ctaText,cueName:N.ub.OFFICE365_CUE,onCtaClick:()=>{t.navigateTo({route:Object(I.v)({settingsGroupId:N.Cd.ACCOUNTS,openAddAccount:!0})})},onShow:e.onShow,bgImage:M,bgImageClass:"office365"})}D.contextTypes={navigateTo:r.a.func}},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(7),d=a(2);function m(e,{i13nModel:t}){e.dispatch(d.if,{i13nModel:t})}var _=a(1561),u=a.n(_),p=a(13),h=a.n(p),g=a(6),E=a(20),b=a(122),C=a(5);a.d(t,"FeedbackPanel",function(){return S});const f=Object(g.defineMessages)({feedback:{id:"feedback",defaultMessage:"Give feedback"},feedbackTitle:{id:"feedbackTitle",defaultMessage:"Provide Feedback about Beta"}});class S extends l.a.Component{constructor(...e){super(...e),s()(this,"_onGiveFeedback",()=>{this.context.executeAction(m,{i13nModel:{mKey:c.e.FEEDBACK_PANEL_GIVE_FEEDBACK,sec:c.g.FEEDBACK_PANEL}})}),s()(this,"_openFeedbackLink",e=>{e.preventDefault(),Object(b.a)(this.props.feedbackURL)})}render(){const e=this.context.intl.formatMessage,t=h()(u.a);return l.a.createElement("div",{className:t.wrapper},l.a.createElement("div",{className:t.feedbackContainer,"data-test-id":"feedback-panel"},l.a.createElement("a",{className:t.feedbackLink,href:this.props.feedbackURL,onClick:this._openFeedbackLink,rel:"noopener"},l.a.createElement(E.a,{kind:C.b.FEEDBACK,size:C.d.XS,title:e(f.feedbackTitle),onClick:this._onGiveFeedback,"aria-label":e(f.feedback),colorState:C.a.INVERTED},l.a.createElement("span",{className:t.optionLabel},e(f.feedback))))))}}s()(S,"contextTypes",{executeAction:r.a.func,intl:g.intlShape.isRequired,config:r.a.object});t.default=S},function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(253),_=a.n(m),u=a(6),p=a(13),h=a.n(p),g=a(1559),E=a.n(g),b=a(7),C=a(17),f=a(11),S=a(0),y=a(16),T=a(5),N=(a(9),a(42)),A=a(1560),I=a.n(A),M=a(20);const v=Object(u.defineMessages)({close:{id:"cue.close",defaultMessage:"Close"}});class D extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{isHovered:!1,close:!1}),r()(this,"_onMouseEnter",()=>{this.setState({isHovered:!0})}),r()(this,"_onMouseLeave",()=>{this.setState({isHovered:!1})}),r()(this,"_onClose",e=>{e.stopPropagation();const t=this.props.closeOnClick;this.setState({close:!0},()=>t())}),r()(this,"_onClick",()=>{const e=this.props,t=e.onClick;e.closeOnClick?this.setState({close:!0},()=>t()):t()})}render(){const e=this._onClose,t=this._onMouseEnter,a=this._onMouseLeave,n=this._onClick,s=this.state,i=this.props,r=i.iconKind,o=i.iconSize,l=i.color,c=i.message,m=i.title,_=i.dataTestId,u=i.closeOnClick,p=this.context.intl.formatMessage,h=this.context.mailBrandNameString,g=this.context.getCss(I.a,{animate:i.animate,color:l,isParentHovered:i.isParentHovered,extraPadding:i.extraPadding,isHovered:s.isHovered,close:s.close});return d.a.createElement("div",{className:g.panelContainer,onClick:n,onMouseEnter:t,onMouseLeave:a,"data-test-id":_,title:p(m,{mailBrandNameString:h}),"aria-label":p(c)},d.a.createElement(y.b,{kind:r,size:o,colorState:l}),d.a.createElement("span",{className:g.optionLabel},p(c)),u?d.a.createElement("div",{className:g.closeBtn},d.a.createElement(M.a,{onClick:e,kind:T.b.CLOSE,size:T.d.XXS,colorState:T.a.IMPROVED_GRAY_DARK,title:p(v.close),"aria-label":p(v.close),"data-test-id":"close-cue-button"})):null)}}r()(D,"contextTypes",{intl:u.intlShape.isRequired,getCss:l.a.func,mailBrandNameString:l.a.string}),r()(D,"defaultProps",{iconSize:T.d.XS,color:T.a.NORMAL,onClick:()=>{},isParentHovered:!1,dataTestId:"panel-item",animate:!1,extraPadding:!1});var O=D,k=a(478),R=a(122),w=a(436),P=a(15);a.d(t,"PanelStack",function(){return H}),a.d(t,"mapStateToProps",function(){return j}),a.d(t,"mapDispatchToProps",function(){return G});const x="#extInstall?partner=norrin",F=7,L="hpsetExt",B=Object(u.defineMessages)({timezone:{id:"timezonePanel",defaultMessage:"Update time zone"},timezoneTitle:{id:"timezonePanelTitle",defaultMessage:"Your computer's time zone does not appear to match your {mailBrandNameString} time zone preference."},homepageExtension:{id:"homepageExtension",defaultMessage:"Make Yahoo your homepage"}});function U(e){const t=e.find(e=>e.includes(L));if(t){const e=t.split(",");return _()(new Date,1e3*parseInt(e[1],10))>=F}return!0}class H extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{isHovered:!1,timezoneConflict:!1,showPanelItems:!1}),r()(this,"_onNavigateToSetting",()=>{this.context.navigateTo({route:Object(C.v)({settingsGroupId:S.Cd.VIEWING_EMAIL,accountId:this.props.accountId})})}),r()(this,"_onNavigateToStoreURLs",()=>{const e=this.props.homepageExtStoreURL;switch(this.props.hompageExtClicked({i13nModel:{mKey:b.e.HOMEPAGE_EXTENSION_CLICKED,sec:b.g.HOMEPAGE_EXT_PANEL}}),this.browserName){case"Firefox":window.location.href+=x,window.location.href=e;break;default:Object(R.a)(e)}}),r()(this,"_onHomepageExtClosed",()=>{this.props.homepageExtClosed({i13nModel:{mKey:b.e.HOMEPAGE_EXTENSION_CLOSED,sec:b.g.FEEDBACK_PANEL},subKey:L})}),r()(this,"_onGiveFeedback",e=>{this.props.giveFeedback({i13nModel:{mKey:b.e.FEEDBACK_PANEL_GIVE_FEEDBACK,sec:b.g.FEEDBACK_PANEL}}),e.preventDefault(),Object(R.a)(this.props.feedbackURL)})}componentDidMount(){const e=this.props.showHPExt,t=this.context.timezone.name,a=Object(k.e)(t);e&&this.props.hompageExtClicked({i13nModel:{mKey:b.e.HOMEPAGE_EXTENSION_SHOWN,sec:b.g.HOMEPAGE_EXT_PANEL}}),this.browserName=window.AppBootstrapData.browserName,a&&this.setState({timezoneConflict:a}),this.setState({showPanelItems:!this.props.lastpassFreeTrialUpsellEnabled})}render(){const e=this.props.showHPExt;if(!this.state.showPanelItems)return null;const t=h()(E.a),a=[];return this.state.timezoneConflict&&a.push({iconKind:T.b.CLOCK,color:T.a.ADVISORY,onClick:this._onNavigateToSetting,isParentHovered:this.state.isHovered,message:B.timezone,title:B.timezoneTitle,dataTestId:"timezone-panel"}),e&&a.push({iconKind:T.b.HOME,color:T.a.YBADGE,onClick:this._onNavigateToStoreURLs,isParentHovered:this.state.isHovered,extraPadding:!0,closeOnClick:this._onHomepageExtClosed,message:B.homepageExtension,title:B.homepageExtension,dataTestId:"homepage-extension-panel"}),d.a.createElement("div",{className:t.wrapper,"data-test-id":"panel-stack"},d.a.createElement("div",{"data-test-id":"panel-stack-items",onMouseEnter:()=>this.setState({isHovered:!0}),onMouseLeave:()=>this.setState({isHovered:!1})},a.map((e,t)=>d.a.createElement(O,s()({},e,{key:t})))))}}r()(H,"contextTypes",{navigateTo:l.a.func,timezone:N.e});const j=e=>{const t=Object(f.b)(e),a=t.isFeatureEnabled,n=t.getSetting,s=n(S.zd.SUPPRESSED_UPSELLS),i=a(S.ub.HP_EXT_INSTALLED),r=a(S.ub.LASTPASS_FREETRIAL_UPSELL);return{homepageExtStoreURL:n(S.zd.HP_EXT_STORE_URL),showHPExt:!i&&U(s),lastpassFreeTrialUpsellEnabled:r}},G=e=>({giveFeedback:t=>e(Object(w.a)(t)),hompageExtClicked:t=>e(Object(w.c)(t)),homepageExtClosed:t=>e(Object(w.b)(t))});t.default=Object(P.connect)(j,G)(H)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(6),d=a(1258),m=a.n(d),_=a(13),u=a.n(_),p=a(19),h=(a(42),a(1232)),g=a(18),E=a(28),b=a(16),C=a(5),f=a(241),S=a(20);const y=Object(c.defineMessages)({mayBeLaterButtonText:{id:"mayBeLater.buttonText",defaultMessage:"Got it"},close:{id:"cue.close",defaultMessage:"Close"}});class T extends l.a.Component{constructor(...e){super(...e),s()(this,"onTryButton",e=>{e.stopPropagation(),this.props.onTryButton(e),this.props.onSuccess({i13nModel:{interactionType:Object(g.j)(e)}})}),s()(this,"onMayBeLater",e=>{this.props.onClose({i13nModel:{interactionType:Object(g.j)(e)},userResponse:this.props.userResponse?this.props.userResponse:null})})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.fujiIconKind,n=t.fujiIconSize,s=t.svgImageKind,i=t.pngImageUrl,r=u()(m.a,{svgStyleImage:void 0!==(a||s||i),svgStyleWithoutImage:void 0===a});return l.a.createElement("div",{className:r.hotspotContainer,"data-test-id":this.props.cueName},l.a.createElement("div",{className:r.svgStyle},s?l.a.createElement(f.a,{kind:s,width:72,height:72}):"",i?l.a.createElement("img",{src:i}):null,a&&n&&void 0===s?l.a.createElement(b.b,{kind:a,size:n,colorState:C.a.INVERTED}):""),l.a.createElement("div",{className:r.hostspotInfoWrapper},"object"==typeof this.props.headerText?l.a.createElement("div",{className:r.header,"aria-label":e(this.props.headerText)},l.a.createElement(c.FormattedMessage,this.props.headerText)):l.a.createElement("div",{className:r.header,"aria-label":this.props.headerText},this.props.headerText),l.a.createElement("div",{className:r.body,"aria-label":e(this.props.bodyText)},l.a.createElement(c.FormattedMessage,this.props.bodyText)),l.a.createElement("div",{className:r.actionContainer},l.a.createElement(p.a,{onClick:this.onTryButton,title:e(this.props.tryButtonText),"data-test-id":"try-cue-button",kind:E.a.PRIMARY,"aria-label":e(this.props.tryButtonText)},l.a.createElement(c.FormattedMessage,this.props.tryButtonText)),l.a.createElement(p.a,{onClick:this.onMayBeLater,title:e(this.props.mayBeLaterButtonText),"data-test-id":"maybe-later-cue-button",kind:E.a.CHROMELESS,"aria-label":e(this.props.mayBeLaterButtonText)},l.a.createElement(c.FormattedMessage,this.props.mayBeLaterButtonText))),l.a.createElement("div",{className:r.close},l.a.createElement(S.a,{onClick:this.onMayBeLater,kind:C.b.CLOSE,size:C.d.XXS,colorState:C.a.IMPROVED_GRAY_DARK,title:e(y.close),"aria-label":e(y.close),"data-test-id":"close-cue-button"}))))}}s()(T,"contextTypes",{intl:c.intlShape.isRequired}),s()(T,"defaultProps",{mayBeLaterButtonText:y.mayBeLaterButtonText});var N=Object(h.a)(T),A=a(0),I=a(17),M=a(45);const v=Object(M.a)("/img/coupons_view_cue.png"),D=Object(c.defineMessages)({header:{id:"couponsview_cue.header",defaultMessage:"Never miss a deal"},body:{id:"couponsview_cue.body",defaultMessage:"Deals we find in your inbox will appear here. Opt into notifications to be alerted when deals are about to expire"},primary_button:{id:"couponsview_cue.primary_button",defaultMessage:"Try Deals view"}});class O extends l.a.Component{constructor(...e){super(...e),s()(this,"onTryButton",()=>{this.context.navigateTo({route:Object(I.w)(A.Kd.COUPONS),name:this.props.cueName})})}render(){return l.a.createElement(N,{bodyText:D.body,cueName:this.props.cueName,headerText:D.header,onTryButton:this.onTryButton,tryButtonText:D.primary_button,pngImageUrl:v})}}s()(O,"contextTypes",{navigateTo:r.a.func});t.default=O},function(e,t,a){"use strict";a.r(t);a(8);var n=a(1),s=a.n(n),i=a(6),r=a(3),o=a.n(r),l=a(29),c=a(1258),d=a.n(c),m=a(13),_=a.n(m),u=a(19),p=(a(42),a(1232)),h=a(18),g=a(28),E=a(20),b=a(5);const C=_()(d.a),f=Object(i.defineMessages)({button:{id:"information_cue.button",defaultMessage:"Got it"},infoNewCallout:{id:"feature_cue.newFeature",defaultMessage:"New feature notification"},close:{id:"cue.close",defaultMessage:"Close"}});class S extends s.a.Component{constructor(...e){super(...e),o()(this,"onClose",e=>{this.props.onClose({i13nModel:{interactionType:Object(h.j)(e)}})})}componentDidMount(){this.refs.informationCueContent&&window.setTimeout(()=>{Object(l.findDOMNode)(this.refs.informationCueContent).focus()},0)}render(){const e=this.context.intl.formatMessage;return s.a.createElement("div",{role:"navigation","aria-label":e(f.infoNewCallout)},s.a.createElement("div",{className:C.container,"data-test-id":this.props.cueName,role:"alert","aria-labelledby":"information-cue-heading","aria-describedby":"information-cue-desc",ref:"informationCueContent",tabIndex:"-1"},s.a.createElement("div",{className:C.header,id:"information-cue-heading"},s.a.createElement(i.FormattedMessage,this.props.headerText)),s.a.createElement("div",{className:C.body,id:"information-cue-desc"},s.a.createElement(i.FormattedMessage,this.props.bodyText)),s.a.createElement("div",{className:C.actionContainer},s.a.createElement(u.a,{onClick:this.onClose,title:e(f.button),"data-test-id":"information-cue-button",id:"information-cue-button",kind:g.a.PRIMARY,"aria-label":e(f.button),marginLess:!0},s.a.createElement(i.FormattedMessage,f.button)))),s.a.createElement("div",{className:C.close},s.a.createElement(E.a,{onClick:this.onClose,kind:b.b.CLOSE,size:b.d.XXS,colorState:b.a.IMPROVED_GRAY_DARK,title:e(f.close),"aria-label":e(f.close),"data-test-id":"close-cue-button"})))}}o()(S,"contextTypes",{intl:i.intlShape.isRequired});var y=Object(p.a)(S),T=a(0);a.d(t,"default",function(){return A});const N=Object(i.defineMessages)({header:{id:"search.cue_header",defaultMessage:"Quickly narrow your search results"},body:{id:"search.cue_body",defaultMessage:"Find messages, documents and photos sent from a specific contact using search filters."}});function A({onShow:e,close:t}){return s.a.createElement(y,{headerText:N.header,bodyText:N.body,cueName:T.ub.SEARCH_CUE,onShow:e,close:t})}},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(1),r=a.n(i),o=a(8),l=a.n(o),c=a(15),d=a(6),m=a(1372),_=a.n(m),u=a(12);const p=4*u.GRID_UNIT,h=1,g=1*u.GRID_UNIT,E=24*u.GRID_UNIT,b=0;var C=a(11),f=a(65),S=a(0),y=a(93),T=a(7),N=a(16),A=a(341),I=a(5),M=a(18),v=a(10),D=a(573);a.d(t,"SearchPopup",function(){return k}),a.d(t,"mapStateToProps",function(){return R}),a.d(t,"mapDispatchToProps",function(){return w});const O=Object(d.defineMessages)({retailersHeader:{id:"couponsSearch.retailersHeader",defaultMessage:"Search deals from popular stores"},dealsHeader:{id:"couponsSearch.dealsHeader",defaultMessage:"Hot deals you do not want to miss"},recentSearchesHeader:{id:"couponsSearch.recentSearchesHeader",defaultMessage:"Recent searches"},groceryCategoriesHeader:{id:"couponsSearch.groceryCategoriesHeader",defaultMessage:"Top Categories"},groceryCouponsHeader:{id:"couponsSearch.groceryCouponsHeader",defaultMessage:"Coupons"},noCouponsHeader:{id:"couponsSearch.noCouponsHeader",defaultMessage:"No Coupons Found"}});class k extends i.Component{constructor(...e){super(...e),s()(this,"handleDealClick",e=>{this.props.onDealClick({i13nModel:{mKey:T.e.COUPONS_SEARCH_TOP_DEAL_CLICKED,sec:T.g.COUPONS_SEARCH_PANE,mKeyGroup:T.f.search,actionData:{domain:e.domain,email:e.email,url:e.originalLink}}})}),s()(this,"handleRetailerClick",({name:e,email:t})=>{this.props.onSearchSubmit({query:{name:e,emailAddresses:[t]},i13nModel:{mKey:T.e.COUPONS_SEARCH_TOP_RETAILER_CLICKED,sec:T.g.COUPONS_SEARCH_PANE,mKeyGroup:T.f.search,actionData:{domain:e,email:t}}})}),s()(this,"handleRecentSearchClick",e=>{this.props.onSearchSubmit({query:{keyword:e},i13nModel:{mKey:T.e.COUPONS_SEARCH_RECENT_SEARCH_CLICKED,sec:T.g.COUPONS_SEARCH_PANE,mKeyGroup:T.f.search,actionData:{keyword:e}}})}),s()(this,"handleCategoryClick",({displayName:e,name:t})=>a=>{const n=this.props,s=n.retailerName,i=n.categoryCounts,r={keyword:Object(v.r)(t)},o={mKey:T.e.QTNT_CATEGORY_FILTER,sec:T.g.HEADER_SEARCH,interactionType:Object(M.j)(a),actionData:{reason:{featurefamily:S.sb.IC,featurename:S.ub.QUOTIENT,retailername:s,catname:t,resultcount:i[t]}}};this.props.onSearchSubmit({query:r,i13nModel:o,category:e})})}renderTopRetailers(){const e=this.props.topRetailers,t=this.context.getCss(_.a),a=[];if(!e||!e.length)return null;const n=(0,this.context.intl.formatMessage)(O.retailersHeader);for(let n=0;n<e.length;n++){const s=e[n],i=s.name,o=s.email;!i||!o||a.length>=5||a.push(r.a.createElement("div",{className:t.retailer,key:i,onClick:()=>this.handleRetailerClick({name:i,email:o})},r.a.createElement("div",{className:t.retailerLogo},r.a.createElement(f.d,{contact:{email:o},size:f.c.NOBLE_L})),r.a.createElement("span",{className:t.retailerName},i)))}return r.a.createElement("div",{className:t.topRetailersContainer},r.a.createElement("h3",{className:t.header},n),r.a.createElement("ul",{className:t.retailers},a))}renderTopCouponDeals(){const e=this.props,t=e.topCoupons,a=e.viglinkEnabled,n=this.context.getCss(_.a);if(!t||!t.length)return null;const s=(0,this.context.intl.formatMessage)(O.dealsHeader),i=t.map(e=>{const t=e.description,s=e.dealLink;return t&&s?r.a.createElement("a",{className:n.deal,key:t,href:a?s:e.originalLink,target:"_blank",title:t,onClick:()=>this.handleDealClick(e)},t):null});return r.a.createElement("div",{className:n.topCouponDealsContainer},r.a.createElement("h3",{className:n.header},s),r.a.createElement("ul",{className:n.deals},i))}renderRecentSearches(){const e=this.props.recentSearches,t=this.context.getCss(_.a),a=this.context.intl.formatMessage,n=[];if(!e||!e.length)return null;for(let a=0;a<e.length;a++){const s=e[a]||"";!s||n.length>=3||n.push(r.a.createElement("div",{className:t.recentSearch,key:s,onClick:()=>this.handleRecentSearchClick(s)},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(N.b,{kind:I.b.CLOCK_OUTLINE,size:I.d.S,colorState:I.a.FIRST_LEVEL_GRAY})),r.a.createElement("span",null,s)))}return r.a.createElement("div",{className:t.recentSearchesContainer},r.a.createElement("h3",{className:t.header},a(O.recentSearchesHeader)),r.a.createElement("ul",{className:t.recentSearches},n))}renderCoupons(){return r.a.createElement("div",null,this.renderTopRetailers(),this.renderTopCouponDeals(),this.renderRecentSearches())}getMaxCategories(){const e=this.props.containerStyle,t=E+(2*b+g);return Math.floor((e&&e.width?e.width-2*(p+h):3*t)/t)}renderGroceryCategories(){const e=this.props,t=e.categories,a=e.categoryCounts,n=this.context.getCss(_.a,{groceriesSingleStore:!0}),s=this.context.intl.formatMessage,i=this.getMaxCategories(),o=[[]];return t.forEach(e=>{o[o.length-1].length>=i&&o.push([]),o[o.length-1].push(e)}),r.a.createElement("div",null,r.a.createElement("div",{className:n.categoriesTitle},s(O.groceryCategoriesHeader)),o.map((e,t)=>r.a.createElement("div",{key:t,className:n.categoryRow},e.map(e=>r.a.createElement("div",{key:e.name,className:n.category,onClick:this.handleCategoryClick(e)},r.a.createElement("img",{className:n.categoryLogo,src:e.logo}),r.a.createElement("div",{className:n.categoryName},e.displayName),r.a.createElement("div",{className:n.categoryCount},r.a.createElement(A.a,{contextOfUse:"SearchPopup",value:a[e.name],"data-test-id":"groceries-category-count"})))))))}renderFilteredOffers(e){const t=this.props.inputValue,a=this.context.getCss(_.a,{groceriesSingleStore:!0});return r.a.createElement("div",null,r.a.createElement("div",{className:a.searchResultsTitle},(0,this.context.intl.formatMessage)(O.groceryCouponsHeader)),e.map(({brandName:e,dateDiff:a,description:n,imageUrl:s,offerId:i,offerValue:o=""})=>r.a.createElement(D.a,{brandName:e,dateDiff:a,imageUrl:s,key:i,offerDescription:n,offerId:i,offerValue:o,contextOfUse:"SingleStoreSearchAssist",search:t})))}renderEmptyCouponsHeader(){const e=this.context.getCss(_.a,{groceriesSingleStore:!0});return r.a.createElement("div",{className:e.searchResultsTitle},(0,this.context.intl.formatMessage)(O.noCouponsHeader))}renderGroceriesSingleStore(){const e=this.props,t=e.offers;return e.inputValue||e.isYM6GroceryEnabled?t.length?this.renderFilteredOffers(t):this.renderEmptyCouponsHeader():this.renderGroceryCategories()}render(){const e=this.props,t=e.containerStyle,a=e.smartViewSearch,n=a===S.Kd.GROCERIES||a===S.Kd.GROCERIESV2,s=this.context.getCss(_.a,{groceriesSingleStore:n});return r.a.createElement("div",{ref:"coupons-search-pane",className:s.container,style:t,"data-test-id":"coupons-search-pane"},n?this.renderGroceriesSingleStore():this.renderCoupons())}}s()(k,"contextTypes",{getCss:l.a.func,intl:d.intlShape});const R=(e,t)=>{const a=Object(C.b)(e),n=a.getCurrentListId,s=a.getRecentSearchesSelectors,i=a.getFormattedTopRetailers,r=a.getRetailersSelectors,o=a.getOffersSelectors,l=a.isFeatureEnabled,c=t.inputValue,d=(0,a.getCouponsSelectors)().getTopCoupons,m=s().getRecentSearches,_=r(),u=_.getOfferCategoryCounts,p=_.getAstraCategoriesFromRetailerId,h=_.getCategoriesFromRetailerId,g=o(),E=g.getFilteredOffers,b=g.getOfferStreamItems,f=n(),y=Object(v.y)(f)||"",T=l(S.ub.ENABLE_ASTRA_FOR_GROCERY)?p(y):h(y),N=u(y),A=i(),I=d(S.H),M=l(S.ub.VIGLINK),D=l(S.ub.ENABLE_YM6_GROCERY),O=E(b(Object(v.W)("{}",{name:y,listContentType:S.Pb.OFFER_CARDS,listFilter:S.Qb.RECOMMENDED_OFFER_CARDS,referrer:"groceries"})),c).slice(0,7);let k=m();return{categories:T,categoryCounts:N,topRetailers:A,topCoupons:I,viglinkEnabled:M,offers:O,recentSearches:k=Array.from(new Set(Object.keys(k).map(e=>k[e]&&k[e].query))),isYM6GroceryEnabled:D}},w=e=>({onDealClick:t=>e(Object(y.h)(t))});t.default=Object(c.connect)(R,w)(k)},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(15),r=a(23),o=a.n(r),l=a(3),c=a.n(l),d=a(29),m=a.n(d),_=a(8),u=a.n(_),p=a(6),h=a(13),g=a.n(h),E=a(550),b=a.n(E),C=a(0),f=a(9),S=a(1356),y=a(17),T=(a(22),a(211)),N=a(7),A=a(18),I=a(127),M=a(5),v=a(16),D=a(95),O=a(64),k=a(19),R=a(122);const w=84,P=Object(p.defineMessages)({moreSettings:{id:"more_settings_title",defaultMessage:"Settings"},optOutLinkText:{id:"option_to_basic_mail_item",defaultMessage:"Switch to basic Mail"},giveFeedbackText:{id:"give_feedback_link",defaultMessage:"Give feedback"},yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooMailProUpsell:{id:"mail.yahoo_mail_pro_upsell",defaultMessage:"Try {YahooMailProBrand}"},yahooWiderMailUpsell:{id:"mail.yahoo_wider_mail_upsell",defaultMessage:"Get fewer ads"}}),x="https://chrome.google.com/webstore/detail/ccnahoejlccigmekeiephhmcfkiadlgh",F="https://addons.mozilla.org/firefox/downloads/latest/yahoo-wider-mail/addon-727603-latest.xpi";class L extends s.a.Component{constructor(...e){super(...e),c()(this,"state",{hasScrolled:!1,menuFooterItemsHeight:w}),c()(this,"swallowEvent",e=>{e.stopPropagation()}),c()(this,"_renderOptOutItem",(e,t)=>{if(!this.props.norrinOptOut)return null;const a=C.wc+"?crumb="+window.AppBootstrapData.crumb;return s.a.createElement("a",{href:this.props.optOutSurvey?"#":a,className:e.optOutLink,onClick:this.props.onOptOutFeedback,title:t(P.optOutLinkText),"data-test-id":"opt-out-button"},s.a.createElement(v.b,{kind:M.b.ARROW_UP,size:M.d.XS,rotate:M.c.D270,colorState:M.a.INHERITED}),s.a.createElement("span",{className:e.menuLabel},t(P.optOutLinkText)))}),c()(this,"_renderMailProItem",(e,t)=>s.a.createElement("a",{href:C.c,rel:"noreferrer",target:"_blank"},s.a.createElement(k.a,{overridingClass:e.promoButton},this.props.mailProEnabled?t(P.yahooMailProBranding):t(P.yahooMailProUpsell,{YahooMailProBrand:t(P.yahooMailProBranding)})))),c()(this,"_renderWiderMailPromo",(e,t)=>s.a.createElement("a",{href:x,onClick:this.handleGetExtension.bind(this),rel:"noreferrer",target:"_blank"},s.a.createElement(k.a,{overridingClass:e.promoButton},t(P.yahooWiderMailUpsell)))),c()(this,"handleGetExtension",e=>{this.props.goToWiderPromo({event:e}),e.preventDefault();let t=Object(f.a)(window,"AppBootstrapData.browserName","");"firefox"===(t=t.toLowerCase())?location.href=F:Object(R.a)(x)}),c()(this,"handleScroll",()=>{this.setState({hasScrolled:!0})}),c()(this,"gotoSettings",e=>{e.preventDefault(),this.context.navigateTo({route:Object(y.v)({settingsGroupId:C.Cd.PERSONALIZE_INBOX}),i13nModel:{mKey:N.e.SETTINGS_POPUP_MORE,sec:N.g.SETTINGS_POPUP,interactionType:Object(A.j)(e)}})}),c()(this,"_goToFeedbackPage",e=>{this.props.giveFeedback({event:e})}),c()(this,"handleClickToScroll",e=>{const t=m.a.findDOMNode(this._menuItemQuickAccessDiv),a=e.offsetHeight-t.offsetHeight;this._scrollInterval=setInterval(()=>{t.scrollTop+T.c<=a?t.scrollTop+=T.c:clearInterval(this._scrollInterval)},T.b)})}componentDidMount(){this.setState({menuFooterItemsHeight:this.footerElem1.clientHeight+(this.footerElem2?this.footerElem2.clientHeight:0)||w})}componentDidUpdate(){const e=this.props.onUpdateCompleted;e&&e()}componentWillUnmount(){this.context.executeAction(I.d)}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.feedbackUrl,n=t.photoThemes,i=t.availableHeightBelowCommsProps,r=t.partnerBrand,l=t.showGiveFeedbackLink,c=t.optOutLinkInMoreSettings,d=t.mailProLinkInSettingsMenu,m=t.widerMailPromo,_=g()(b.a,{hideFeedbackLink:!l}),u=i-this.state.menuFooterItemsHeight,h=u>T.e?u:T.e;return s.a.createElement("div",{className:_.menuContainer,"data-test-id":"settings-menu"},s.a.createElement("ul",{className:_.menuList},s.a.createElement("li",{onClick:this.swallowEvent},s.a.createElement("div",{"data-test-id":"menu-item-quick-access-div",ref:e=>this._menuItemQuickAccessDiv=e,className:_.menuItemQuickAccess,onScroll:this.handleScroll,style:{maxHeight:h}},s.a.createElement(S.a,o()({},this.props,{liteVersion:!0,hasScrolled:this.state.hasScrolled,handleClickToScroll:this.handleClickToScroll,menuItemQuickAccessHeight:h,photoThemes:n,partnerBrand:r})))),s.a.createElement("li",{className:_.menuItem,ref:e=>this.footerElem1=e},s.a.createElement("a",{onClick:this.gotoSettings,title:e(P.moreSettings),href:this.context.getUrlFromRoute({name:C.gd.SETTINGS,params:{settingsGroupId:C.Cd.PERSONALIZE_INBOX}}),className:_.moreSettingsLink,"data-test-id":"more-settings"},s.a.createElement(v.b,{kind:M.b.MORE,size:M.d.XS,colorState:M.a.INHERITED}),s.a.createElement("span",{className:_.menuLabel},s.a.createElement(p.FormattedMessage,{id:"more_settings_link",defaultMessage:"More Settings"})))),l||!c||d||m?s.a.createElement("li",{className:_.menuItemFooter,ref:e=>this.footerElem2=e},c||d?null:this._renderOptOutItem(_,e),s.a.createElement("a",{target:"_blank",href:a,onClick:this._goToFeedbackPage,className:_.feedbackLink,title:e(P.giveFeedbackText),"data-test-id":"give-feedback"},s.a.createElement(v.b,{kind:M.b.FEEDBACK,size:M.d.XXS,colorState:M.a.INHERITED}),s.a.createElement("span",{className:_.menuLabel},e(P.giveFeedbackText))),d&&!m?this._renderMailProItem(_,e):null,m?this._renderWiderMailPromo(_,e):null):null))}}c()(L,"contextTypes",{intl:p.intlShape.isRequired,executeAction:u.a.func,navigateTo:u.a.func,config:u.a.object,getUrlFromRoute:u.a.func.isRequired});const B=Object(O.a)(N.g.SETTINGS_POPUP);var U=Object(i.connect)(void 0,e=>({giveFeedback:({event:t})=>e(Object(D.m)(B({event:t,mKey:N.e.SETTINGS_POPUP_FEEDBACK}))),goToWiderPromo:({event:t})=>e(Object(D.s)(B({event:t,mKey:N.e.SETTINGS_POPUP_WIDER_PROMO})))}))(L),H=a(11);function j(e){const t=(0,Object(H.b)(e).getFeaturesSelectors)();return{snippets:t.isEnabled(C.zd.SNIPPETS),multiTaskModeSetting:t.isEnabled(C.zd.MAIL_TABS),themeSetting:t.getSetting(C.zd.THEME),themeModeSetting:t.getSetting(C.zd.THEME_MODE),previewPaneSetting:t.getSetting(C.zd.PREVIEW_PANE),msgListDensity:t.getSetting(C.zd.MSG_LIST_DENSITY),theming:t.isEnabled("theming"),photoThemes:t.isEnabled(C.ub.PHOTO_THEMES),norrinOptOut:t.isEnabled("norrinOptOut"),optOutSurvey:t.isEnabled("optOutSurvey"),feedbackUrl:t.getSetting(C.zd.FEEDBACK_URL),partnerBrand:t.getSetting(C.zd.PARTNER_BRAND),showGiveFeedbackLink:t.isEnabled(C.ub.SHOW_GIVE_FEEDBACK_LINK),optOutLinkInMoreSettings:t.isEnabled(C.ub.SHOW_OPT_OUT_LINK_MORE_SETTINGS),mailProLinkInSettingsMenu:t.isEnabled(C.ub.MAIL_PRO_LINK_IN_SETTINGS_MENU),mailProEnabled:t.isEnabled(C.ub.MAIL_PRO),widerMailPromo:t.isEnabled(C.ub.WIDER_MAIL_PROMO)}}a.d(t,"mapStateToProps",function(){return j});t.default=Object(i.connect)(j)(U)},function(e,t,a){"use strict";a.r(t);a(8);var n=a(1),s=a.n(n),i=a(6),r=a(3),o=a.n(r),l=a(1258),c=a.n(l),d=a(13),m=a.n(d),_=a(19),u=(a(42),a(1232)),p=a(18),h=a(28),g=a(20),E=a(5);const b=m()(c.a),C=Object(i.defineMessages)({tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"},mayBeLater:{id:"feature_cue.btn_maybe_later",defaultMessage:"Maybe later"},close:{id:"cue.close",defaultMessage:"Close"}});class f extends s.a.Component{constructor(...e){super(...e),o()(this,"onTryNow",e=>{e.stopPropagation(),this.props.onTryNow(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(p.j)(e)}})}),o()(this,"onMayBeLater",e=>{this.props.onMayBeLater(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(p.j)(e)}})})}render(){const e=this.context.intl.formatMessage;return s.a.createElement("div",{className:b.imageCueContainer,"data-test-id":this.props.cueName},s.a.createElement("div",{className:b.imageCueInfoImageContainer},s.a.createElement("div",{className:b.imageCueInfoContainer},s.a.createElement("div",{className:b.header,"aria-label":e(this.props.headerText)},s.a.createElement(i.FormattedMessage,this.props.headerText)),s.a.createElement("div",{className:b.body,"aria-label":e(this.props.bodyText)},s.a.createElement(i.FormattedMessage,this.props.bodyText))),s.a.createElement("img",{src:this.props.imgUrl,className:b.image})),s.a.createElement("div",{className:b.imageActionContainer},s.a.createElement(_.a,{style:{width:"60%"},onClick:this.onTryNow,title:e(C.tryNow),"data-test-id":"try-now-cue-button",kind:h.a.CUE,"aria-label":e(C.tryNow)},s.a.createElement(i.FormattedMessage,C.tryNow)),s.a.createElement(_.a,{style:{width:"40%"},onClick:this.onMayBeLater,title:e(C.mayBeLater),"data-test-id":"maybe-later-cue-button",kind:h.a.CHROMELESS,"aria-label":e(C.mayBeLater)},s.a.createElement(i.FormattedMessage,C.mayBeLater))),s.a.createElement("div",{className:b.close},s.a.createElement(g.a,{onClick:this.onMayBeLater,kind:E.b.CLOSE,size:E.d.XXS,colorState:E.a.IMPROVED_GRAY_DARK,title:e(C.close),"aria-label":e(C.close),"data-test-id":"close-cue-button"})))}}o()(f,"contextTypes",{intl:i.intlShape.isRequired});var S=Object(u.a)(f),y=a(45);const T=Object(y.a)("/img/emoji_cue_bg.png"),N=Object(i.defineMessages)({header:{id:"emoji.cue_header",defaultMessage:"Easier than words"},body:{id:"emoji.cue_body",defaultMessage:"Express your every emotion with our new emojis"}});t.default=class extends s.a.Component{render(){return s.a.createElement(S,{headerText:N.header,bodyText:N.body,onTryNow:this.props.onTryNow,onMayBeLater:this.props.onMayBeLater,cueName:this.props.cueName,imgUrl:T})}}},,,function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(4),s=a.n(n),i=a(46),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(129),u=a(7);function p(e,t,a=!0){const n=e.displayName||e.name;function i(){d.a.Component.apply(this,arguments)}Object.assign(i.prototype,d.a.Component.prototype),i.displayName="featureCueConnector("+n+")",i.contextTypes=t,i.propTypes={cueName:l.a.string.isRequired,onShow:l.a.func,close:l.a.bool,onClick:l.a.func,closeFeatureCue:l.a.func,markFeatureAsShown:l.a.func,computeActionData:l.a.func,computeUserResponse:l.a.func},i.defaultProps={onShow:()=>{},onClick:()=>{},computeActionData:()=>({}),computeUserResponse:()=>""},Object.assign(i.prototype,{componentDidMount(){const e=this.props,t=e.cueName,a=e.computeUserResponse,n=e.markFeatureAsShown,s=e.onShow,i={sec:u.g.FEATURE_CUE,mKey:"cue_"+t+"_invoke"};i.actionData=(0,e.computeActionData)(i.mKey);const r=a(),o={name:t,i13nModel:i};r&&(o.userResponse=r),n(o),setTimeout(()=>s(),0)},handleCloseFeatureCue(e,t){const a=Object.assign({sec:u.g.FEATURE_CUE,mKey:`cue_${this.props.cueName}_${e}`},t.i13nModel),n=t.userResponse,s={name:this.props.cueName,i13nModel:a,userAction:e};n&&(s.userResponse=n),this.props.closeFeatureCue(s)},componentWillReceiveProps(e){e.close&&this.handleCloseFeatureCue("close",{i13nModel:{mKey:"cue_"+this.props.cueName+"_success",interactionType:u.d.click}})},render(){const t=e.prototype&&e.prototype.isReactComponent?{ref:"wrappedElement"}:null,a=r()(this.props,["onShow","onClose"]);return d.a.createElement(e,s()({},a,t,{onClose:this.handleCloseFeatureCue.bind(this,"close"),persistent:!0,onSuccess:this.handleCloseFeatureCue.bind(this,"click")}))}});return a?Object(m.connect)(null,e=>({closeFeatureCue:t=>e(Object(_.a)(t)),markFeatureAsShown:t=>e(Object(_.g)(t))}),null,{withRef:!0})(i):i}},,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{removeContact:"R_0 W_6LEV H_6LEV r_P Q_fq7 E_6Fd5",contactItem:"D_F P_Z2h2uOL H_A ab_C k_w r_P q4_2ieea9 cZ1WADfW_2ieea9",contactAvatar:"W_6UbO H_6UbO E_6Eb4 U_6Eb4",contactName:"o_h J_x mq_CZ G_e C_Z281SGl D_B u_b i_6FIA",emailAddressLabel:"D_F je_eo6 C_Z1YRXYn i_6FsP",emailAddressLabelWrapper:"o_h J_x mq_CZ G_e F_N",primaryEmail:"b_n P_0 C_Z1YRXYn r_P C4_Z2aVTcY",contactDetails:"o_h J_x mq_CZ G_e d_6UbO D_F gl_C ek_BB N_6Fd5",detailsContainer:"m_Z12nDQf D_F W_3rRMK gl_FM jb_6Eb4 ab_C",contactEmail:"o_h J_x mq_CZ G_e i_6EGz C4_Z2aVTcY r_P Y_6Fd5 Y6_0",highlight:"q_2ieeaE",emailHighlight:"u_b"},defaultName:{contactName:"fd_i"},contactClickDisabled:{contactItem:"r_A"},darkVariations:{contactItem:"q4_ajP6C q0_ajP6C",detailsContainer:"m_1iPdY0",contactName:"C_ZpQYvz",emailAddressLabel:"C_ZvsWfq",primaryEmail:"C_ZvsWfq C4_52qC",highlight:"q_ncmIk"}},_key:"QioOG"}},,,function(e,t,a){"use strict";a.d(t,"f",function(){return s}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"e",function(){return l}),a.d(t,"a",function(){return c});var n=a(9);const s=Object(n.c)(["ADD","EDIT","DELETE","MOVE_UP","MOVE_DOWN"]),i={SENDER:"SENDER",TOORCC:"TOORCC",SUBJECT:"SUBJECT",BODY:"BODY"},r={[i.SENDER]:"From",[i.TOORCC]:"To/CC",[i.SUBJECT]:"Subject",[i.BODY]:"Body"},o={CONTAINS:"CONTAINS",NOTCONTAINS:"NOTCONTAINS",BEGINSWITH:"BEGINSWITH",ENDSWITH:"ENDSWITH"},l={[o.CONTAINS]:"contains",[o.NOTCONTAINS]:"does not contain",[o.BEGINSWITH]:"begins with",[o.ENDSWITH]:"ends with"},c={ALL:"ALL",INBOX:"Inbox",SENT:"Sent",ARCHIVE:"Archive",SPAM:"Spam",TRASH:"Trash",MOVETOFOLDER:"MOVETOFOLDER",OPERATOR:"operator",NAME:"name",VALUE:"value",MATCH_CASE:"matchCase",SELECTED_FOLDER:"selectedFolder",NEW_FOLDER_NAME:"newFolderName"}},function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(2);const d=e=>"click"===e.userAction?s()({type:c.zb,fromFeature:e.name},e):s()({type:c.xb},e),m=e=>s()({type:c.yb},e);var _=a(7),u=a(46),p=a.n(u),h=a(15);function g(e,t,a=!0){const n=e.displayName||e.name;function i(){l.a.Component.apply(this,arguments)}Object.assign(i.prototype,l.a.Component.prototype),i.displayName="CardConnector("+n+")",i.contextTypes=t,i.propTypes={cardName:r.a.string,onShow:r.a.func,close:r.a.bool,onClick:r.a.func,closeCard:r.a.func,markCardAsShown:r.a.func,computeActionData:r.a.func},i.defaultProps={onShow:()=>{},onClick:()=>{},computeActionData:()=>({})},Object.assign(i.prototype,{componentDidMount(){const e=this.props,t=e.cardName,a=e.markCardAsShown,n=e.onShow,s={sec:_.g.FEATURE_CARD,mKey:"card_"+t+"_invoke"};s.actionData=(0,e.computeActionData)(s.mKey),a({name:t,i13nModel:s}),setTimeout(()=>n(),0)},handleCloseCard(e,t){const a=Object.assign({sec:_.g.FEATURE_CARD,mKey:`card_${this.props.cardName}_${e}`},t.i13nModel),n=t.userResponse,s={name:this.props.cardName,i13nModel:a,userAction:e};n&&(s.userResponse=n),this.props.closeCard(s)},componentWillReceiveProps(e){e.close&&this.handleCloseCard("close",{i13nModel:{mKey:"card_"+this.props.cardName+"_success",interactionType:_.d.click}})},render(){const t=e.prototype&&e.prototype.isReactComponent?{ref:"wrappedElement"}:null,a=p()(this.props,["onShow","onClose"]);return l.a.createElement(e,s()({},a,t,{onClose:this.handleCloseCard.bind(this,"close"),persistent:!0,onSuccess:this.handleCloseCard.bind(this,"click")}))}});return a?Object(h.connect)(null,e=>({closeCard:t=>e(d(t)),markCardAsShown:t=>e(m(t))}),null,{withRef:!0})(i):i}a.d(t,"a",function(){return g})},function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(102);const r="header, #app > div",o="#modal-outer";function l(e){const t=document.querySelectorAll(r);for(let a=0;a<t.length;a++)t[a].querySelector(o)||(e?t[a].setAttribute("aria-hidden",e):t[a].removeAttribute("aria-hidden"))}t.a=class extends s.a.Component{componentDidMount(){l(!0)}componentWillUnmount(){l(!1)}render(){return s.a.createElement(i.a,this.props)}}},function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(23),r=a.n(i),o=a(39),l=a.n(o),c=(a(8),a(1)),d=a.n(c),m=a(15),_=a(33),u=a.n(_),p=a(11),h=a(49),g=(a(42),a(18)),E=a(17);t.a=Object(m.connect)((e,{route:t})=>({href:Object(p.b)(e).normalizeRoute(t).url}),(e,{i13nModel:t,replaceState:a=!1,route:n,hashParams:i={},stopPropagation:r})=>({onClick:o=>{const l=Date.now();r&&o.stopPropagation(),o.preventDefault(),t&&(t=s()({},t,{interactionType:Object(g.j)(o)})),e(Object(h.f)({replaceInStack:a,route:n,i13nModel:t,hashParams:i,perfHeader:{requestStart:l}}))}}),void 0,{areOwnPropsEqual:(e,t)=>{let a=e.route,n=l()(e,["route"]),s=t.route,i=l()(t,["route"]);return Object(E.D)(a,s)&&u()(n,i)}})(e=>{let t=e.href,a=void 0===t?"#":t,n=e.onClick,s=e.children,i=l()(e,["i13nModel","replaceState","route","hashParams","href","onClick","children","stopPropagation","dispatch"]);return d.a.createElement("a",r()({},i,{onClick:n,href:a}),s)})},,,function(e,t,a){"use strict";e.exports={className:{default:{filterWrapper:"em_N iz_A P_ZzaS5e",filterPreviewSection:"W_3vPwA",filterTitle:"A_6FsP M_Ic9xa",previewTitleWrapper:"D_F U_72FG o_h p_R K_6VdP",previewFilterTitle:"M_0 A_6EWk a_3vPwA",previewFilterTitleLeftAlign:"D_X a_3s0hC",blurredArea:"p_a T_6FIA D_X R_0 H_6FIA W_7yHc aw_275FVc",newAccountWrapper:"M_0 o_h J_x",newAccountIconWrapper:"M_E8xte",newAccountSuccess:"V_GM",newAccountTitle:"A_6EWk U_72FG",newAccountText:"A_6DUj i_6Fd5 J_N",textInput:"A_6EqO M_27msYt",linkedLabelWrapper:"U_fq7",label:"u_b A_6EqO M_Ic9xa",signatureContainer:"U_72FG",reauthorizeWrapper:"u_b A_6EqO Y_72FG i_6VdP",reauthorizeText:"r_P C_Z2aVTcY A_6EqO i_6VdP Y_dRA u_dPo C4_Z29WjXl",control:"W_3nF5b U_fq7",hint:"C_Z1YRXYn A_6DUj Y_fq7",baseNameError:"C_ZnTFMv",suggestionsContainer:"Y_72FG",suggestions:"M_0 P_0 hd_n",suggestionsListItem:"i_6MGW",suggestion:"r_P C_Z2aVTcY",iconWrapper:"M_UgT7L",saveButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z29WjXl",disabledButton:"r_A D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z2aVTcY l4_Z2aVTcY O_cMq",cancelButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_52qC b_0 C_Z2aVTcY I4_2iedUU C4_Z29WjXl",link:"C_Z2aVTcY Q_dRA u_e69 r_P",listWrapper:"X_6EGz M_Z26RiTK",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI M_1KW3rc",errorIcon:"E_fq7",errorHeader:"M_0 u_e69 i_6LEV",accountType:"Q_eo6",sendingText:"C_ZvsWfq",customTitle:"i_6LEV a_3vhr3 o_h G_e",deleteBtn:"Y_72FG",email:"o_h J_x mq_CZ G_e a_3vhr3 u_b D_X V_GH"}},_key:"Z1wSpbz"}},function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return r});var n=a(9);const s="https://mail.yahoo.com",i={tw:"media-tw",hk:"media-hk"},r=Object(n.c)(["CHECKED","WEEKEND","UNCHECK"])},,,function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o});var n=a(9);const s=Object(n.c)(["MINI","MEDIUM","COVER","APPEND"]),i={[s.MINI]:"80x80",[s.MEDIUM]:"400x200",[s.COVER]:"800x280",[s.APPEND]:"80x80"},r={[s.MINI]:{maxWidth:288,upperSectionHeight:80,titleMaxLength:42,thumbnailHeight:80,thumbnailWidth:80,domainLogoHeight:24,domainLogoWidth:24,cardBorderRadius:2},[s.MEDIUM]:{titleMaxLength:75,maxWidth:400,thumbnailHeight:175,descriptionMaxLength:115,outlookThumbnailHeight:175,upperSectionHeight:175,bottomSectionMaxWidth:380,domainLogoHeight:36,domainLogoWidth:36,cardBorderRadius:2},[s.COVER]:{titleMaxLength:100,maxWidth:800,thumbnailHeight:280,outlookThumbnailHeight:300,descriptionMaxLength:190,upperSectionHeight:265,bottomSectionMaxWidth:760,domainLogoHeight:48,domainLogoWidth:48},[s.APPEND]:{maxWidth:288,upperSectionHeight:80,titleMaxLength:42,thumbnailHeight:80,thumbnailWidth:80,domainLogoHeight:24,domainLogoWidth:24,cardBorderRadius:2}},o=Object(n.c)(["YENHANCER","FLICKR","DROPBOX"])},function(e,t,a){"use strict";var n=a(8),s=a.n(n),i=a(1),r=a.n(i),o=a(15),l=a(11),c=a(65),d=(a(42),a(1241)),m=a.n(d),_=a(6),u=a(31),p=a.n(u),h=a(49),g=a(100),E=a(7),b=a(18),C=a(88),f=a(22);const S=(e,t)=>{const a=t.getCss,n=e.emails,s=e.highlight,i=e.applyTheme,o=(void 0===i||i)&&Object(f.m)({context:t,includeMedium:!0}),l=a(m.a,{darkVariations:o}),c=n[0];let d,u="",h="";s&&(n.find(e=>{var t=Object(C.d)(e,s),a=p()(t,3);return u=a[0],h=a[2],!!(d=a[1])}),d||(u="",h=""));return r.a.createElement("div",{className:l.emailAddressLabel,"data-test-id":"contact-item-email-list"},r.a.createElement("div",{className:l.emailAddressLabelWrapper,"data-test-id":"contact-item-email-list-wrapper"},r.a.createElement("a",{className:l.primaryEmail,onClick:t=>{const a=e.emails,n=e.openComposeView,s=e.isCompose,i=e.i13nSection,r=void 0===i?E.g.CONTACTS_PANE:i,o=e.onComposeHeaderChange,l=e.csid,c=e.inputFocus;t.stopPropagation();const d=E.e.CONTACT_ITEM_EMAIL_CLICKED,m={mKey:d,sec:r,mKeyGroup:E.f.compose,interactionType:Object(b.j)(t)};if(s)return o({csid:l,composeParams:{[c.type]:[{email:a[0]}]},i13nModel:m});n({composeParams:{to:[{email:a[0]}]},uiContext:{mKey:d},i13nModel:m})},title:c,"data-test-id":"contact-item-primary-email"},u,d?r.a.createElement("span",{className:l.emailHighlight},d):c,h)),"",r.a.createElement("div",{"data-test-id":"contact-item-extra-info"},n.length>1&&r.a.createElement(_.FormattedMessage,{id:"contact_item.emails_with_compose",defaultMessage:"  & {extraEmailCount} more",values:{extraEmailCount:n.length-1}})))};S.contextTypes={getCss:s.a.func.isRequired,getThemeMode:s.a.func,getTheme:s.a.func};var y=Object(o.connect)(e=>{const t=Object(l.b)(e);return Object(b.d)(t)},e=>({onComposeHeaderChange:t=>e(Object(g.b)(t)),openComposeView:t=>e(Object(h.h)(t))}))(S),T=a(9);const N=(e,t)=>{if(!e)return null;if(t)return e.number;const a=e.addrFields;return Object(T.g)(a).filter(Boolean).slice(0,2).join(" ")},A=(e,t)=>{let a;const n=e.contact,s=n.emails,i=n.phonesWithType,o=void 0===i?[]:i,l=n.addressesWithType,c=void 0===l?[]:l,d=e.applyTheme,u=void 0===d||d;if(s&&s.length)return r.a.createElement(y,{highlight:e.highlight,emails:s,i13nSection:e.i13nSection,applyTheme:u});if(!o.length&&!c.length)return null;const p=u&&Object(f.m)({context:t,includeMedium:!0}),h=t.getCss(m.a,{darkVariations:p}),g=!!o.length,E=o.length?o:c;return E.length>1&&(a=r.a.createElement(_.FormattedHTMLMessage,{id:"contact_item.sub_items",defaultMessage:"{item} & {extraItemCount} more",values:{extraItemCount:E.length-1,item:N(E[0],g)}})),r.a.createElement("div",{className:h.emailAddressLabel,"data-test-id":`contact-sub-items-${g?"phone":"address"}`},a||N(E[0],g))};A.contextTypes={getCss:s.a.func,getThemeMode:s.a.func,getTheme:s.a.func};var I=A,M=a(250),v=a(124),D=a(16),O=a(5),k=a(174),R=a(10);const w=Object(_.defineMessages)({default_contact_name:{id:"contact_list.unknown_name",defaultMessage:"# Unknown name"},remove_contact:{id:"contact_list.btn_remove_contact",defaultMessage:"Remove from list"}}),P=(e,t)=>{const a=t.intl.formatMessage,n=t.getCss,s=e.contact,i=e.highlight,o=e.onClick,l=e.applyTheme,d=void 0===l||l,_=e.allowContactRemoval,u=e.onContactRemoval,p=e.itemType,h=e.allowMultiSelect,g=void 0!==h&&h,b=e.isContactSelected,C=void 0===b?()=>!1:b,S=e.listId,y=s.id,T=s.name,N=e.i13nSection||S&&v.a[Object(R.u)(S)]||E.g.CONTACTS_PANE,A=!!o,P=d&&Object(f.m)({context:t,includeMedium:!0}),x=n(m.a,{defaultName:!T,contactClickDisabled:!A,darkVariations:P});return r.a.createElement("div",{onClick:e=>{A&&o({event:e,payload:{id:y},listId:S,itemType:p,i13nSection:N})},className:x.contactItem,"data-test-id":"contact-item"},r.a.createElement("span",{className:x.contactAvatar},r.a.createElement(c.d,{contact:{id:y},size:c.c.M})),r.a.createElement("div",{className:x.detailsContainer},r.a.createElement("div",{className:x.contactDetails},r.a.createElement(M.a,{containerClassNames:x.contactName,haystack:T||a(w.default_contact_name),needle:i,formatter:e=>r.a.createElement("span",{className:x.highlight},e)}),r.a.createElement(I,{contact:s,highlight:i,applyTheme:d,i13nSection:N})),g&&r.a.createElement("span",{className:x.checkboxWrapper},r.a.createElement(k.a,{isChecked:C({itemType:p}),onClick:()=>{}})),_&&r.a.createElement("span",{className:x.removeContact,onClick:e=>{e.stopPropagation(),u&&u(e,{itemType:p})},"data-test-id":"contact-remove-button-wrapper",title:a(w.remove_contact)},r.a.createElement(D.b,{"data-iskeynav":!0,"data-test-id":"contact-remove-button",kind:O.b.CLOSE,size:O.d.XXS,colorState:O.a.NORMAL}))))};P.contextTypes={intl:_.intlShape,getCss:s.a.func,getThemeMode:s.a.func,getTheme:s.a.func};t.a=Object(o.connect)((e,{id:t,itemType:a={}})=>{const n=(0,Object(l.b)(e).getContactListSelectors)(),s=a.id||t;let i=(0,n.getContactById)(s)||{};const r=a.value;switch(a.type){case v.b.EMAIL:i={id:s,name:i.name,emails:[r]};break;case v.b.PHONE:i={id:s,name:i.name,phonesWithType:[{number:r}]};break;case v.b.ADDRESS:i={id:s,name:i.name,addressesWithType:[{addrFields:r}]};break;case v.b.HIDDEN:i={id:s,name:i.name,hiddenEndpoint:r}}return{contact:i,itemType:a}})(P)},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(13),l=a.n(o),c=a(29),d=a(6),m=a(15),_=a(0),u=a(292),p=a(11),h=(a(42),a(1359)),g=a.n(h),E=a(9);let b;const C=()=>{};class f extends r.a.Component{constructor(...e){super(...e),s()(this,"state",{loadError:!1,showVideoCover:this.props.showVideoCoverInitially}),s()(this,"handleLoadError",e=>{b=void 0,this.setState({showVideoCover:!0,loadError:!0}),this.props.onLoadError(e)}),s()(this,"handleClick",()=>{this.state.loadError&&this.setState({showVideoCover:!1,loadError:!1}),this.props.handleVideoClick(),this.initializePlayer()}),s()(this,"getPlayerConfig",e=>{const t=e||this.props.playerConfig;return Object.assign(t,{iframeRender:!t.html5,lang:this.context.intl.locale||"en-US"})}),s()(this,"initializePlayer",e=>{const t=this.getPlayerConfig(e);if(this.playerStatus!==_.Pc.NotInitialized)return;this.playerStatus=_.Pc.Initializing;const a=e=>{if(!e)return this.playerStatus=_.Pc.NotInitialized,void this.handleLoadError(new Error("Failed to load video platform"));this.playerStatus=_.Pc.Initialized,this.setState({showVideoCover:!1});const a=e.Events||e.API_Events;this._player=new e.VideoPlayer(t),this._addPlayerSubscriptions(this._player,a),this._player.render(Object(c.findDOMNode)(this.refs.player))},n=this.props.oathVideoPlayerEnabled?"OATH.VideoPlatform":"YAHOO.VideoPlatform",s="undefined"!=typeof window&&Object(E.a)(window,n),i=this.props.videoPlayerUrl;if(s)a(s);else{if(!b){b=u.a.loadScript(t.lang?`${i}&lang=${t.lang}`:i)}b.then(()=>{a(Object(E.a)(window,n))},e=>{this.handleLoadError(e)})}}),s()(this,"_addPlayerEventListener",(e,t,a)=>{const n=e.addEventListener||e.on;t&&"function"==typeof n&&n.call(e,t,a)}),s()(this,"_addPlayerSubscriptions",(e,t)=>{e&&t&&(this._addPlayerEventListener(e,t.PLAYER_READY,this.props.onPlayerReady),this._addPlayerEventListener(e,t.PLAYBACK_START,this.props.onPlaybackStart),this._addPlayerEventListener(e,t.VIDEO_STARTED,this.props.onVideoStarted),this._addPlayerEventListener(e,t.PLAYLIST_POSITION_CHANGE,this.props.onPlaylistPositionChange),this._addPlayerEventListener(e,t.PLAYER_MUTE_CHANGE,this.props.onMute),this._addPlayerEventListener(e,t.PLAYBACK_PAUSE,this.props.onPause),this._addPlayerEventListener(e,t.PLAYBACK_RESUMED,this.props.onResume),this._addPlayerEventListener(e,t.UI_INTERACT,this.props.onUIInteract),this._addPlayerEventListener(e,t.PLAYLIST_COMPLETE,this.props.onPlaybackComplete),this._addPlayerEventListener(e,t.PLAYBACK_TIME_UPDATE,this.props.onPlaybackUpdate),this._addPlayerEventListener(e,t.PLAYER_ERROR,this.props.onPlayerError),this._addPlayerEventListener(e,t.PLAYBACK_ERROR,this.props.onPlaybackError),this._addPlayerEventListener(e,t.AD_PLAYBACK_START||t.AD_BREAK_STARTED,this.props.onAdPlaybackStart),this._addPlayerEventListener(e,t.AD_PLAYBACK_STOP||t.AD_BREAK_ENDED,this.props.onAdPlaybackEnd),this._addPlayerEventListener(e,t.AD_ERROR||t.AD_BREAK_ITEM_ERROR,this.props.onAdError))})}componentDidMount(){this.playerStatus=_.Pc.NotInitialized,this.state.showVideoCover||this.initializePlayer()}componentWillUnmount(){this._player&&this._player.destroy()}componentWillReceiveProps(e){e.playerPositionId&&e.playerPositionId!==this.props.playerPositionId&&(this.playerStatus===_.Pc.Initialized?this._player.playlist.setPositionById(e.playerPositionId):this.initializePlayer(e.playerConfig)),!this.props.play&&e.play?this.playerStatus===_.Pc.Initialized?(this._player.controls.play(),this._player.controls.setMute(this.props.mute)):this.initializePlayer():this._player&&this._player.controls.isPlaying()&&!e.play&&(this._player.controls.pause(),this._player.controls.setMute(!0))}render(){const e=l()(g.a),t=this.props;return r.a.createElement("div",{className:e.container,style:{width:t.width,height:t.height}},this.state.showVideoCover&&this.props.children?r.a.cloneElement(this.props.children,{loadError:this.state.loadError,handleClick:this.handleClick}):null,r.a.createElement("div",{ref:"player",className:e.stretchedBox}))}}s()(f,"contextTypes",{intl:d.intlShape.isRequired}),s()(f,"defaultProps",{width:"480px",height:"270px",playerConfig:{},onPlayerReady:C,onPlaybackStart:C,onAdPlaybackStart:C,onVideoStarted:C,onPlaylistPositionChange:C,onMute:C,onPause:C,onResume:C,onUIInteract:C,onPlaybackComplete:C,onPlaybackUpdate:C,onPlayerError:C,onLoadError:C,onAdPlaybackEnd:C,onPlaybackError:C,onAdError:C,play:!1,mute:!0,showVideoCoverInitially:!0,playerPositionId:"",handleVideoClick:C}),t.a=Object(m.connect)(e=>{const t=Object(p.b)(e),a=t.getSetting,n=(0,t.isFeatureEnabled)(_.ub.OATH_VIDEO_PLAYER);return{videoPlayerUrl:a(n?_.zd.OATH_VIDEO_PLAYER_URL:_.zd.VIDEO_PLAYER_URL),oathVideoPlayerEnabled:n}})(f)},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(1258),l=a.n(o),c=a(13),d=a.n(c),m=a(6),_=a(19),u=(a(42),a(1232)),p=a(18),h=a(28),g=a(20),E=a(5);const b=d()(l.a),C=Object(m.defineMessages)({tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"},mayBeLater:{id:"feature_cue.btn_maybe_later",defaultMessage:"Maybe later"},tryNowNewCallout:{id:"feature_cue.newFeature",defaultMessage:"New feature notification"},close:{id:"cue.close",defaultMessage:"Close"}});class f extends r.a.Component{constructor(...e){super(...e),s()(this,"onTryNow",e=>{e.stopPropagation(),this.props.onTryNow(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(p.j)(e)}})}),s()(this,"onMayBeLater",e=>{this.props.onMayBeLater(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(p.j)(e)}})})}componentDidMount(){window.setTimeout(()=>{this.tryNowCueContent&&this.tryNowCueContent.focus()},0)}render(){const e=this.context.intl.formatMessage;return r.a.createElement("div",{role:"navigation","aria-label":e(C.tryNowNewCallout)},r.a.createElement("div",{className:b.container,"data-test-id":this.props.cueName,role:"alert","aria-labelledby":"try-now-heading","aria-describedby":"try-now-desc",ref:e=>{this.tryNowCueContent=e},tabIndex:"-1"},r.a.createElement("div",{className:b.header,"aria-label":e(this.props.headerText),id:"try-now-heading"},r.a.createElement(m.FormattedMessage,this.props.headerText)),r.a.createElement("div",{className:b.body,"aria-label":e(this.props.bodyText),id:"try-now-desc",tabIndex:"0"},r.a.createElement(m.FormattedMessage,this.props.bodyText)),r.a.createElement("div",{className:b.actionContainer},r.a.createElement(_.a,{style:{width:"60%"},onClick:this.onTryNow,title:e(C.tryNow),"data-test-id":"try-now-cue-button",kind:h.a.CUE,"aria-label":e(C.tryNow)},r.a.createElement(m.FormattedMessage,C.tryNow)),r.a.createElement(_.a,{style:{width:"40%"},onClick:this.onMayBeLater,title:e(C.mayBeLater),"data-test-id":"maybe-later-cue-button",kind:h.a.CHROMELESS,"aria-label":e(C.mayBeLater)},r.a.createElement(m.FormattedMessage,C.mayBeLater))),r.a.createElement("div",{className:b.close},r.a.createElement(g.a,{onClick:this.onMayBeLater,kind:E.b.CLOSE,size:E.d.XXS,colorState:E.a.IMPROVED_GRAY_DARK,title:e(C.close),"aria-label":e(C.close),"data-test-id":"close-cue-button"}))))}}s()(f,"contextTypes",{intl:m.intlShape.isRequired}),t.a=Object(u.a)(f)},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB em_N W_3rRhf",buttonContainer:"D_F gl_FM Y_6Eb4",header:"i_6MGW A_6FsP u_e69 C_Z281SGl U_6Eb4",body:"A_6EqO i_6FIA C_Z281SGl",actionContainer:"D_F je_6Eb4",imageActionContainer:"D_F P_1lwRNx",pagination:"P_Z1crMe6 C_ZvsWfq",imageCueContainer:"I_52qC P_Z24LTwU s_3qWeB a_3rLkT",imageCueInfoImageContainer:"D_F ek_EZ",imageCueInfoContainer:"D_F ek_BB je_6MGW a_3nOD5",image:"W_3mSyq H_3mSyq E_67SN",CueContainer:"D_F a_3vNsy",hotspotContainer:"D_F ek_EZ a_3zBDu",hostspotInfoWrapper:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB em_N",svgStyle:"I_Z2aVTcY e_v8Hnf W_fq7 H_q em_0",close:"p_a R_eTB T_fq7"},svgStyleWithoutImage:{body:"i_6FIA A_6EqO C_Z281SGl a_3rBM0"},svgStyleImage:{svgStyle:"D_F gl_C ab_C I_Z2aVTcY e_v8Hnf s_3mT4V em_0"}},_key:"ZUHl2M"}},function(e,t,a){"use strict";var n=a(8),s=a.n(n),i=a(1),r=a.n(i),o=a(1281),l=a.n(o),c=a(6),d=a(20),m=a(5),_=a(15),u=a(138),p=a(18),h=a(7);const g=Object(c.defineMessages)({addNewGroup:{id:"contact_groups_dropdown.add_new_group",defaultMessage:"Create list"}}),E=(e,t)=>{const a=t.getCss(l.a),n=(e=>{return(0,e.intl.formatMessage)(g.addNewGroup)})(t);return r.a.createElement("div",{"data-iskeynav":!0,onClick:t=>{t.stopPropagation(),t.preventDefault(),e.createNewList({i13nModel:{mKey:h.e.OPEN_CREATE_USER_GROUP,sec:h.g.GROUPS_CONTACTS_TAB,interactionType:Object(p.j)(t)}})},className:a.label,title:n,role:"button"},r.a.createElement(d.a,{kind:m.b.ADD,size:m.d.XS,"aria-hidden":!0,paddingLess:!0,colorState:m.a.INHERITED,title:""}),n)};E.contextTypes={getCss:s.a.func,intl:c.intlShape.isRequired};t.a=Object(_.connect)(void 0,e=>({createNewList:t=>e(Object(u.x)(t))}))(E)},function(e,t,a){"use strict";var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(1283),_=a.n(m),u=a(6),p=a(188),h=a(153),g=a(280),E=a(16),b=a(20),C=a(5),f=a(42),S=a(7),y=a(83),T=a(22),N=a(312);const A=Object(u.defineMessages)({openMessage:{id:"document.open_message",defaultMessage:"Open Message"},openLink:{id:"document.open_link",defaultMessage:"Open the link"},download:{id:"document.download",defaultMessage:"Download"},forward:{id:"document.forward",defaultMessage:"Forward Document"},delete:{id:"document.delete",defaultMessage:"Delete message"}});class I extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{hovered:!1}),r()(this,"toggleDocumentActions",e=>{this.setState({hovered:e})}),r()(this,"handleMessageOpen",e=>{const t=this.props.item.attachment;e.preventDefault(),this.props.onMessageOpen(t.id,{i13nModel:{interactionType:S.d.click}})}),r()(this,"handleOnAttachmentOpen",()=>{this.props.onAttachmentOpen(this.props.item.attachment,{i13nModel:{interactionType:S.d.click}})}),r()(this,"handleOnForward",(e,t)=>{const a=this.props;(0,a.onForward)(a.item.attachment,e,t)}),r()(this,"_handleDownloadClick",e=>{e.preventDefault(),e.stopPropagation(),this.props.onDownload(this.props.item.attachment)}),r()(this,"handleOnClick",e=>{e.stopPropagation(),this.props.onClick(this.props.item.attachment,{i13nModel:{interactionType:S.d.click}})}),r()(this,"handleMessageDelete",()=>{this.props.onDeletePreview({attachmentId:this.props.item.attachment.id,i13nModel:{interactionType:S.d.click,mKey:S.e.DOC_DELETE_PREVIEW_OPEN,sec:S.g.DOC_LIST}})}),r()(this,"_handleMenuHide",()=>{this.setState({hovered:!1})}),r()(this,"renderActions",e=>{const t=this.props,a=t.route,n=t.isDeleteEnabled,s=this.props.item.attachment,i=this.context.intl.formatMessage;return d.a.createElement("div",{className:e.documentAction,onClick:e=>e.stopPropagation()},a&&s.conversationId?d.a.createElement("div",{className:e.documentActionBtn},d.a.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-open-message",title:i(A.openMessage),href:this.context.getUrlFromRoute(a),onClick:this.handleMessageOpen},d.a.createElement(E.b,{kind:C.b.INBOX,size:C.d.XS,colorState:C.a.INHERITED}))):null,d.a.createElement("div",{className:e.documentActionBtn},d.a.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-download-document",href:s.downloadUrl,target:s.isExternal?"_blank":null,title:i(s.isExternal?A.openLink:A.download),download:s.name,onClick:s.isExternal?this.handleOnAttachmentOpen:this._handleDownloadClick},d.a.createElement(E.b,{kind:s.isExternal?C.b.LINK:C.b.DOWNLOAD,size:C.d.XS,colorState:C.a.INHERITED}))),n?d.a.createElement("div",{className:e.documentActionBtn},d.a.createElement(b.a,{"data-test-id":"icon-btn-delete",onClick:this.handleMessageDelete,kind:C.b.DELETE,size:C.d.XS,title:i(A.delete),colorState:C.a.INHERITED,paddingLess:!0})):null,d.a.createElement("div",{className:e.forwardButton+" "+e.rtlRawScaleX},d.a.createElement(N.a,{onHide:this._handleMenuHide,"data-test-id":"icon-btn-forward-document",onForward:this.handleOnForward,colorStates:{normal:C.a.INHERITED,hovered:C.a.INHERITED}})))}),r()(this,"renderDateTime",(e,t)=>d.a.createElement("div",{className:t.documentTimeStamp,title:e.toLocaleString(this.context.intl.locale)},d.a.createElement(h.a,{timezone:this.context.timezone.name,date:e}))),r()(this,"renderAttachmentIcon",e=>{const t=this.props.item.attachment;return d.a.createElement(p.a,s()({},t,{isInverted:e}))})}render(){const e=this.props,t=e.item,a=e.disableHover,n=e.hideDateTime,s=e.isCompactLayout,i=e.highlightSearchTerm,r=e.isBriefView,o=t.attachment,l=t.partialMessage,c=o.size&&Object(g.prettyPrintBytes)(o.size),m=new Date(o.creationDate),u=this.context.getThemeMode(),p=u===T.h.DARK||r&&u===T.h.MEDIUM,h=this.context.getCss(_.a,{isCompactLayout:s,darkThemeMode:p});return d.a.createElement("div",{className:h.documentContainer+" document-list-item",onMouseOver:a?void 0:this.toggleDocumentActions.bind(this,!0),onMouseLeave:a?void 0:this.toggleDocumentActions.bind(this,!1),onClick:this.handleOnClick,tabIndex:this.props.tabIndex,"data-test-id":"document-list-item"},this.renderAttachmentIcon(p),d.a.createElement("div",{className:h.documentInfo},d.a.createElement("span",{className:h.filename,title:o.filename,"data-test-id":"filename"},o.filename),s||!c?null:d.a.createElement("span",{className:h.filesize,title:c,"data-test-id":"filesize"},c),d.a.createElement("div",{className:h.messageSubject,title:Object(y.e)(l.subject),"data-test-id":"file-message-subject"},d.a.createElement("span",null,Object(y.b)(l.subject,i,h.highlightSearchTerm)))),this.state.hovered?this.renderActions(h):null,n?null:this.renderDateTime(m,h))}}r()(I,"contextTypes",{intl:u.intlShape,getCss:l.a.func,getThemeMode:l.a.func,getUrlFromRoute:l.a.func.isRequired,timezone:f.e}),t.a=I},function(e,t,a){"use strict";e.exports={className:{default:{documentList:"W_6D6F H_6D6F D_F p_a o_h",brief:"I_52qC M_1d6dau D_F ek_BB",briefHeader:"D_F M_0 P_Zrp4CL",briefTitle:"M_0 F_N P_Z1E2XDm A_6EqO u_b C_Z1VRpVF",allLink:"F_n D_F P_1JNu0L H_6LEV i_6LEV A_6EqO u_e69 C_Z1VRpVF cdPFi_Z1VRpVF S_n C4_Z2aVTcY cdPFi4_Z2aVTcY",briefContent:"M_Z1Ve0sQ"},brief:{documentList:"p_s D_F ek_BB I_52qC en_0 H_A M_0 bn_dBP bm_FJ bj_ZpQYvz"},darkModeNonPhotoTheme:{documentList:"I_T bj_ajP3z",briefHeader:"C_ZvsWfq",briefFooter:"C_Z2bg7IA"},darkModePhotoTheme_NIGHT_LANDSCAPE:{documentList:"I_T bj_ajP3z",briefHeader:"C_ZvsWfq",briefFooter:"C_Z2bg7IA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z2bg7IA cdPFi4_Z2bg7IA"},darkModePhotoTheme_ROADTRIP:{documentList:"I_T bj_ajP3z",briefHeader:"C_ZvsWfq",briefFooter:"C_Z2bg7IA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z2bg7IA cdPFi4_Z2bg7IA"},darkModePhotoTheme_SUNSET_AUSSIE:{documentList:"I_T bj_ajP3z",briefHeader:"C_ZvsWfq",briefFooter:"C_Z2bg7IA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z2bg7IA cdPFi4_Z2bg7IA"},darkModePhotoTheme_LIGHTHOUSE:{documentList:"I_T bj_ajP3z",briefHeader:"C_ZvsWfq",briefFooter:"C_Z2bg7IA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z2bg7IA cdPFi4_Z2bg7IA"}},_key:"ZhA8i6"}},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(79),d=a(5),m=a(6),_=(a(42),a(7)),u=a(47),p=a(312),h=a(1285),g=a.n(h),E=a(13),b=a.n(E);const C=Object(m.defineMessages)({read:{id:"photo.item.read_message",defaultMessage:"Read message"},download:{id:"photo.item.download",defaultMessage:"Download"},forward:{id:"photo.item.forward",defaultMessage:"Forward"},delete:{id:"photo.item.delete",defaultMessage:"Delete"}});class f extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{hovered:!1}),s()(this,"handleHover",e=>{this.setState({hovered:e})}),s()(this,"handleMessageOpen",e=>{const t=this.props.item.attachment;e.preventDefault(),e.stopPropagation(),this.props.onMessageOpen(t.id,{i13nModel:{interactionType:_.d.click}})}),s()(this,"handleDelete",e=>{const t=this.props.item.attachment;e.preventDefault(),e.stopPropagation(),this.props.onDelete(t)}),s()(this,"handleMessageDelete",()=>{this.props.onDeletePreview({attachmentId:this.props.item.attachment.id,i13nModel:{interactionType:_.d.click,mKey:_.e.PHOTO_DELETE_PREVIEW_OPEN,sec:_.g.PHOTO_LIST}})}),s()(this,"handleOnForward",(e,t)=>{const a=this.props;(0,a.onForward)(a.item.attachment,e,t)}),s()(this,"handleOnClick",e=>{e.stopPropagation(),this.props.onClick(this.props.item.attachment,{i13nModel:{interactionType:_.d.click}})}),s()(this,"_handleDownloadClick",e=>{e.stopPropagation(),e.preventDefault(),this.props.onDownload(this.props.item.attachment,{i13nModel:{interactionType:_.d.click}})}),s()(this,"_handleMenuHide",()=>{this.setState({hovered:!1})})}render(){const e=this.props,t=e.route,a=e.small,n=e.disableHover,s=e.tabIndex,i=e.isDeleteEnabled,r=e.item.attachment,o=r.thumbnailUrl,m=r.downloadUrl,_=r.filename,h=this.context.intl.formatMessage,E=b()(g.a,{small:a,isDeleteEnabled:i});return l.a.createElement("div",{tabIndex:s,className:E.photoItem,"data-test-id":"photo-list-item",onMouseEnter:n?void 0:()=>this.handleHover(!0),onMouseLeave:n?void 0:()=>this.handleHover(!1),onClick:this.handleOnClick,role:"button","aria-label":_,title:_},l.a.createElement("div",{className:E.photoItemImg,style:{backgroundImage:`url(${Object(u.l)(o,150)})`},"data-test-id":"photo-item-img"}),l.a.createElement("div",{className:E.photoOverlay}),this.state.hovered?l.a.createElement("div",{className:E.iconContainer,onClick:e=>e.stopPropagation()},t&&r.conversationId?l.a.createElement("div",{className:E.photoActionBtn},l.a.createElement("a",{href:this.context.getUrlFromRoute(t),onClick:this.handleMessageOpen,rel:"noopener"},l.a.createElement(c.a,{title:h(C.read),kind:d.b.INBOX,size:d.d.XS,colorStates:{normal:d.a.INVERTED_LESS_DIM,hovered:d.a.INVERTED}}))):null,l.a.createElement("div",{className:E.photoActionBtn},l.a.createElement("a",{"data-test-id":"icon-btn-download-photo",href:m,onClick:this._handleDownloadClick,rel:"noopener"},l.a.createElement(c.a,{title:h(C.download),kind:d.b.DOWNLOAD,size:d.d.XS,colorStates:{normal:d.a.INVERTED_LESS_DIM,hovered:d.a.INVERTED}}))),i?l.a.createElement("div",{className:E.photoActionBtn,onClick:this.handleMessageDelete,"data-test-id":"icon-btn-delete-msg"},l.a.createElement(c.a,{title:h(C.delete),kind:d.b.DELETE,size:d.d.XS,colorStates:{normal:d.a.INVERTED_LESS_DIM,hovered:d.a.INVERTED}})):null,l.a.createElement("div",{className:E.forwardButton+" "+E.rtlRawScaleX},l.a.createElement(p.a,{onHide:this._handleMenuHide,"data-test-id":"icon-btn-forward-photo",onForward:this.handleOnForward}))):null)}}s()(f,"contextTypes",{intl:m.intlShape,getUrlFromRoute:r.a.func.isRequired}),s()(f,"defaultProps",{tabIndex:-1}),t.a=f},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F W_6D6F H_6D6F p_a o_h",photoRow:"D_F W_6D6F H_6D6F p_R ir3_0",photoBrief:"p_s D_F ek_BB I_52qC en_0 H_A M_0 bn_dBP bm_FJ bj_ZpQYvz",photoBriefHeader:"D_F M_0 P_Zrp4CL",briefTitle:"M_0 F_N P_Z1E2XDm A_6EqO u_b C_Z1VRpVF",allLink:"F_n D_F P_1JNu0L H_6LEV i_6LEV A_6EqO u_e69 C_Z1VRpVF cdPFi_Z1VRpVF S_n C4_Z2aVTcY cdPFi4_Z2aVTcY",photoBriefContent:"M_Sd33T"},darkModeNonPhotoTheme:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T bj_ajP3z",photoBriefFooter:"C_Z2bg7IA"},darkModePhotoTheme_NIGHT_LANDSCAPE:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T",photoBriefFooter:"C_Z2bg7IA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z2bg7IA cdPFi4_Z2bg7IA"},darkModePhotoTheme_ROADTRIP:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T",photoBriefFooter:"C_Z2bg7IA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z2bg7IA cdPFi4_Z2bg7IA"},darkModePhotoTheme_SUNSET_AUSSIE:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T",photoBriefFooter:"C_Z2bg7IA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z2bg7IA cdPFi4_Z2bg7IA"},darkModePhotoTheme_LIGHTHOUSE:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T",photoBriefFooter:"C_Z2bg7IA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z2bg7IA cdPFi4_Z2bg7IA"}},_key:"VqPcb"}},,,,,,,function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"a",function(){return i});var n=a(1244);function s({actions:e=[]}){if(Array.isArray(e)&&e.length>0){const t=e[0].value;if(t){const e=t.folderActionValueBean;return e?e.folder.name:""}}return""}function i({sender:e=[],toRecipients:t=[],ccRecipients:a=[],subject:s=""}){const i=[];return e&&e.email&&i.push({field:n.b.SENDER,operator:n.d.CONTAINS,value:e.email,matchCase:!1}),t.length&&t[0].email?i.push({field:n.b.TOORCC,operator:n.d.CONTAINS,value:t[0].email,matchCase:!1}):a.length&&a[0].email&&i.push({field:n.b.TOORCC,operator:n.d.CONTAINS,value:a[0].email,matchCase:!1}),s&&i.push({field:n.b.SUBJECT,operator:n.d.CONTAINS,value:s.slice(0,200),matchCase:!1}),i}},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(13),l=a.n(o),c=a(6),d=a(1232),m=a(19),_=a(28),u=a(5),p=a(20),h=a(18),g=(a(42),a(1366)),E=a.n(g),b=a(0);const C=Object(c.defineMessages)({close:{id:"cue.close",defaultMessage:"Close"}});class f extends r.a.Component{constructor(...e){super(...e),s()(this,"onTryButton",e=>{e.stopPropagation();const t=this.props,a=t.onSuccess,n=t.onTryButton,s=(0,t.computeActionData)("cue_"+t.cueName+"_click");n(e),a({i13nModel:{interactionType:Object(h.j)(e),actionData:s}})}),s()(this,"onClose",e=>{const t=this.props,a=t.cueName,n=t.onClose,s=t.userResponse,i=(0,t.computeActionData)("cue_"+a+"_later");e.stopPropagation(),n({i13nModel:{mKey:"cue_"+a+"_later",interactionType:Object(h.j)(e),actionData:i},userResponse:s||null})}),s()(this,"onMayBeLater",e=>{const t=this.props,a=t.cueName,n=t.onClose,s=t.onMayBeLater;if(t.groceriesSmartView){const i=(0,t.computeActionData)("cue_"+a+"_success_sec");s(e),n({i13nModel:{mKey:"cue_"+a+"_success_sec",interactionType:Object(h.j)(e),actionData:i}})}else this.onClose(e)}),s()(this,"renderHeaderContainer",()=>{const e=this.props,t=e.cueVariant,a=e.groceriesSmartView,n=e.headerText,s=e.smartViewCue,i=l()(E.a,{cueVariant:t,groceriesSmartView:a,smartViewCue:s}),o=this.context.intl.formatMessage,d=r.a.createElement(p.a,{"data-test-id":"close-icon",onClick:a?this.onClose:this.onMayBeLater,kind:u.b.CLOSE,size:u.d.XXS,title:o(C.close),"aria-label":o(C.close),className:i.close});return n?"object"==typeof n?r.a.createElement("div",{className:i.header,"aria-label":o(n,n.values)},r.a.createElement(c.FormattedMessage,n),d):r.a.createElement("div",{className:i.header,"aria-label":n},n,d):d})}render(){const e=this.props,t=e.bodyText,a=e.cueVariant,n=e.groceriesSmartView,s=e.mayBeLaterButtonText,i=e.extraText,o=e.pngImageUrl,d=e.smartViewCue,u=e.tryButtonText,p=e.usePreviewPaneStyles,h=e.cueName,g=this.context.intl.formatMessage,C=l()(E.a,{cueVariant:a,groceriesSmartView:n,smartViewCue:d});return a===b.yc&&(t.values.listItemStyle=C.listItemStyle,t.values.listStyle=C.listStyle),r.a.createElement("div",{className:p?C.ppContainer:C.container},r.a.createElement("div",{className:C.containerBorder}),r.a.createElement("div",{className:C.cueContainer,"data-test-id":this.props.cueName},r.a.createElement("div",{className:C.svgStyle},o?r.a.createElement("img",{className:C.icon,src:o}):null),r.a.createElement("div",{className:C.cueContainerWrapper},this.renderHeaderContainer(),"object"==typeof t?r.a.createElement("div",{className:C.body,"aria-label":g(t,t.values)},r.a.createElement(c.FormattedHTMLMessage,t),h===b.ub.SHOPRUNNER_VIEW_CUE?r.a.createElement("div",{className:C.policyContainer},r.a.createElement(c.FormattedMessage,i)):null):r.a.createElement("div",{className:C.body,"aria-label":t},t,h===b.ub.SHOPRUNNER_VIEW_CUE?r.a.createElement("div",{className:C.policyContainer},r.a.createElement(c.FormattedMessage,i)):null),r.a.createElement("div",{className:C.actionContainer},r.a.createElement(m.a,{onClick:this.onTryButton,title:g(u),"data-test-id":"try-cue-button",kind:_.a.PRIMARY,"aria-label":g(u),marginLess:!0},r.a.createElement(c.FormattedMessage,u)),s?r.a.createElement(m.a,{onClick:this.onMayBeLater,title:g(s),"data-test-id":"maybe-later-cue-button",kind:_.a.CHROMELESS,overridingClass:C.secondarylink,"aria-label":g(s)},r.a.createElement(c.FormattedMessage,s)):null))))}}s()(f,"contextTypes",{intl:c.intlShape.isRequired}),s()(f,"defaultProps",{computeActionData:()=>{},cueVariant:"default",groceriesSmartView:!1,smartViewCue:!1,usePreviewPaneStyles:!1}),t.a=Object(d.a)(f)},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",previewOption:"i_6FIA D_F ab_BZ Y_fq7 P_KXYok",previewOptionText:"Q_eo6",previewPaneMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_52qC ab_CH gl_C r_P o_h",blockContainer:"H_6UHk W_7bcz ac_C p_R",previewPaneModeChooser:"hd_n P_1Bs8Qs D_F gl_FM Y_6Fd5 U_6MGW W_3rRhf",previewPaneBOTTOM:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_fq7",previewPaneNO:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_fq7",previewPaneRIGHT:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_fq7 E_eo6 W_6EGz",previewPaneDarkBOTTOM:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_6LUG",previewPaneDarkRIGHT:"D_B b_n l_T e_dRA I_ZpQYvz U_eDQ Y_0 H_6UHk W_6UHk p_a T_0 R_0",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy D_F ac_FO W_6FIA H_6FIA r_P",label:"r_P a_7ceA G_e o_h"},isChecked:{previewOption:"u_e69 i_6FIA D_F ab_BZ Y_fq7 P_KXYok"},selected:{labelTextContainer:"u_e69"},liteVersion:{previewPaneModeChooser:"Y_0 U_0 W_A"}},_key:"Z2Sg0p"}},function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o});const n=/([A-Z][a-z]+)/g,s=/^webkit/i;function i(e){const t={};return e.trim().slice(0,-1).split(";").forEach(e=>{const a=e.trim().split(":"),n=function(e){const t=e.split("-"),a=[t[0].trim()];for(let e=1;e<t.length;e++)a.push(t[e][0].toUpperCase()+t[e].slice(1));return a.join("")}(a[0]);t[n]=a[1].trim()}),t}function r(e){return Object.keys(e).reduce((t,a)=>{if(!a||!a.length||function(e){return e.indexOf(":")>-1}(a))return t;const i=e[a];if(function(e){return e.indexOf("-")>-1}(a))return`${t}${a}:${i};`.toLowerCase();let r=(a[0].toUpperCase()+a.slice(1)).match(n).join("-");return s.test(a)&&(r="-"+r),`${t}${r}:${i};`.toLowerCase()},"")}function o(e){return"undefined"!=typeof window&&window.CSS&&window.CSS.escape?window.CSS.escape(e):e}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6UbO M_0 P_0 D_F"}},_key:"1ntBGx"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_X H_6UbO k_w M_Z1fefhY P_0 M6_Ic6Mi",button:"H_6D6F z_n x_n n_n bn_e8l bm_n q_n A_6EqO i_6Fd5 P_3Y3Gk u_b C_Z281SGl r_P"},isSelected:{button:"C_Z2aVTcY bm_FJ jb_eDQ bj_Z2aVTcY"},isDark:{button:"C_ZpQYvz"},isDarkAndSelected:{button:"C_2qemPL bj_2qemPL"}},_key:"25Er8G"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"i_6MGW P_Z1fehm1 C_Z1YRXYn u_b z_Z12nDQf M_dm5 A_6EqO"},darkTheme:{container:"C_ZvsWfq z_1iPdY0"},firstSeparator:{container:"z_n i_6MWH"}},_key:"ZVVtnJ"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"gl_C ab_C P_Z2tp6b1 W_6D6F H_6D6F",subContainer:"ab_C gl_C",heading:"gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z281SGl a_3v1qi ix_AS",description:"A_6EqO P_BuS3Q i_6FIA gl_C t_C C_Z1YRXYn a_3v1qi ix_AS"},darkStyles:{heading:"C_ZpQYvz",description:"C_ZvsWfq"}},_key:"ZtKivF"}},function(e,t,a){"use strict";e.exports={className:{default:{chevronContainer:"D_F ab_C gl_C W_6MGW H_6MGW e_6D6F I_Z2aVTcY cdPFi_52qC Q_eo6",moreContactsContainer:"H_A D_F ab_C P_Z1Ve0sQ r_P q4_2ieea9",moreLabel:"Q_6Fd5 o_h G_e J_x mq_CZ C4_Z2aVTcY"},darkVariations:{moreContactsContainer:"q4_ncmHO",moreLabel:"C_ZpQYvz C4_Z2bg7IA"}},_key:"Z13N579"}},function(e,t,a){"use strict";var n=a(8),s=a.n(n),i=a(1),r=a.n(i),o=a(1280),l=a.n(o),c=a(182),d=a(240),m=a(5),_=a(0),u=a(22),p=a(6),h=a(15),g=a(11),E=a(1259);const b=Object(p.defineMessages)({allContacts:{id:"contact_groups_dropdown.all_contacts",defaultMessage:"All contacts"}}),C=({onChange:e,selectedItem:t,list:a=[],applyTheme:n=!1,groups:s},i)=>{const o=i.getCss,p=i.intl.formatMessage,h=n&&Object(u.m)({context:i,includeMedium:!0}),g=o(l.a,{applyThemeMode:h}),C=e=>e===_.ab?p(b.allContacts):e===_.b?r.a.createElement(E.a,null):s[e].name;return r.a.createElement(d.a,{selected:t,onChange:e,classNames:g,arrowDownColor:h?m.a.WHITE:m.a.NORMAL,inputFormatter:e=>{const t=C(e);return{optionLabel:t,optionTitle:t}}},a.map(e=>r.a.createElement(c.a,{key:e,value:e,isSelected:e===t,hoverStyle:"BOLD"},C(e))))};C.contextTypes={getCss:s.a.func,getThemeMode:s.a.func,intl:p.intlShape.isRequired};t.a=Object(h.connect)(e=>{return{groups:(0,(0,Object(g.b)(e).getContactListSelectors)().getAllGroupsData)()}})(C)},function(e,t,a){"use strict";e.exports={className:{default:{selectLabel:"D_F C_Z281SGl i_6VdP X_fq7 gl_FM m_Z14vXdP e_dRA I_ZnIF8Y H_6UbO",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl"},applyThemeMode:{selectLabel:"I_1kC8gG m_1kC8gG",selectedValue:"C_52qC"}},_key:"Z18TGdG"}},function(e,t,a){"use strict";e.exports={className:{default:{label:"D_F C_Z2aVTcY cdPFi_Z2aVTcY"}},_key:"Z1i5X9X"}},function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(6),u=a(11),p=a(1260),h=a(1261),g=a.n(h),E=a(311),b=a(10),C=a(0),f=a(7),S=a(22),y=a(17),T=a(1247),N=a(5),A=a(16);const I=Object(_.defineMessages)({openAll:{id:"search.open_all_documents",defaultMessage:"Open all documents"}});class M extends d.a.Component{constructor(...e){super(...e),r()(this,"handlePreview",(e,{i13nModel:t})=>{if(t=Object.assign({mKey:f.e.RIGHT_RAIL_DOC_OPEN,sec:this.getSection()},t),e.isExternal)return this.context.executeAction(E.e,{i13nModel:t}),void window.open(e.downloadUrl,"_blank");this.context.navigateTo({route:Object(y.f)(this.props.documentPreviewRoutes[e.id],e.id,{fullscreen:"1"}),i13nModel:t})}),r()(this,"renderItem",e=>{const t=e.attachment;return d.a.createElement(p.a,{key:t.id,item:e,route:this.props.messageGroupRoutes[t.id],onClick:this.handlePreview,onMessageOpen:()=>{},onForward:()=>{},onAttachmentOpen:()=>{},disableHover:!0,hideDateTime:!0,isCompactLayout:!0,isBriefView:!0})}),r()(this,"renderList",()=>this.props.items.map(this.renderItem))}getSection(){return Object(b.A)(this.props.listId)===C.Rb.CONTACT_DETAILS?f.g.CONTACTS_PANE:f.g.RIGHT_RAIL}render(){const e=this.props,t=this.context,a=t.intl,n=e.listId,i=e.items,r=t.getCss(g.a,s()({brief:!0},Object(S.k)(this.context,!0)));return i.length?d.a.createElement("section",{className:r.documentList},d.a.createElement("header",{className:r.briefHeader},d.a.createElement("h4",{className:r.briefTitle},d.a.createElement(_.FormattedMessage,{id:"search.docs_brief_header",defaultMessage:"Documents"})),d.a.createElement(T.a,{className:r.allLink,route:Object(y.o)(Object(b.W)(n,{referrer:"",listContentType:C.Pb.DOCUMENTS})),i13nModel:{mKey:f.e.RIGHT_RAIL_DOC_OPEN_ALL,sec:this.getSection()},title:a.formatMessage(I.openAll)},d.a.createElement(_.FormattedMessage,{id:"related_content_card.all_link",defaultMessage:"All"}),d.a.createElement(A.b,{"aria-hidden":!0,kind:N.b.CHEVRON_UP,rotate:N.c.D90,size:N.d.XS,colorState:N.a.INHERITED}))),d.a.createElement("div",{className:r.briefContent},this.renderList())):null}}r()(M,"contextTypes",{navigateTo:l.a.func,executeAction:l.a.func,getUrlFromRoute:l.a.func.isRequired,intl:_.intlShape.isRequired,getCss:l.a.func,getThemeMode:l.a.func,getTheme:l.a.func});t.a=Object(m.connect)((e,{listId:t})=>{const a=Object(u.b)(e),n=a.doesListExist,s=a.getListItemIds,i=a.getFeaturesSelectors,r=a.__patchV2MessageGroupItem__,o=a.__patchV2AttachmentId__,l=C.Pb.DOCUMENTS,c=Object(b.W)(t,{listContentType:l,listFilter:C.Qb.FROM}),d=(n(c)?s(c).slice(0,3):[]).map(e=>o(e,c)),m={},_={},p=i().isEnabled(C.ub.CONVERSATIONS);return d.forEach(e=>{const a=Object(y.r)({item:r(e,c),listId:c,isConversationMode:p});if(a)if(l===C.Pb.MESSAGES)m[e.id]=a;else{m[e.attachment.id]=a;const n=Object(y.p)({attachment:e.attachment,listId:t,isConversationMode:p});_[e.attachment.id]=Object(y.f)(n,e.attachment.id,{fullscreen:"1"})}}),{listId:t,messageGroupRoutes:m,documentPreviewRoutes:_,items:d}})(M)},function(e,t,a){"use strict";e.exports={className:{default:{documentContainer:"I_T W_6D6F D_F k_w ab_C p_R o_h P_Z2rzCvT H_7ceA r_P ir3_1JO2M7 I3_1I4z5p it3_689y I4_1I4yPF",documentInfo:"J_x o_h F_N P_fQoXz",documentTimeStamp:"P_23Qdjg",filename:"A_6EqO C_Z281SGl a_3rlLf J_x o_h G_e",filesize:"P_3gJOe A_6DUj C_Z1TsNWR D_X",messageSubject:"A_6EqO C_Z1TsNWR J_x o_h G_e",documentAction:"r_BN P_fQoXz",documentActionBtn:"D_X P_1Eu5U7 cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY",documentActionLink:"D_X",forwardButton:"D_X P_ZUD9Kb h_Z2uKmny cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY",highlightSearchTerm:"I_2ieea9 D_X P_3zDxc",rtlRawScaleX:"rtlR_h_2gl0WC"},isCompactLayout:{documentContainer:"r_P P_0",filename:"D_X a_6D6F"},darkThemeMode:{documentContainer:"C_2sqbRh ir3_Z1FS2Mn I3_1YEmYj I4_ZFyHXD",messageSubject:"C_2sqbQg",highlightSearchTerm:"I_2sqbPK",forwardButton:"cdPFi_2sqbRh cdPFi4_52qC",documentActionBtn:"cdPFi_2sqbRh cdPFi4_52qC",filename:"C_52qC"}},_key:"KcoVO"}},function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(6),u=a(11),p=a(1262),h=a(1263),g=a.n(h),E=a(311),b=a(22),C=a(7),f=a(10),S=a(0),y=a(17),T=a(1247),N=a(5),A=a(16);const I=Object(_.defineMessages)({openAllPhotos:{id:"search.open_all_photos",defaultMessage:"Open all photos"}});class M extends d.a.Component{constructor(...e){super(...e),r()(this,"handlePreview",(e,{i13nModel:t})=>{t=Object.assign({mKey:C.e.RIGHT_RAIL_PHOTO_OPEN,sec:this.getSection()},t),e.isExternal?this.context.executeAction(E.e,{i13nModel:t}):this.context.navigateTo({route:Object(y.f)(this.props.photoPreviewRoutes[e.id],e.id,{fullscreen:"1"}),i13nModel:t})}),r()(this,"renderItem",e=>{const t=e.attachment.id;return d.a.createElement("div",{key:t},d.a.createElement(p.a,{key:t,item:e,route:this.props.messageGroupRoutes[t],onClick:this.handlePreview,onMessageOpen:()=>{},onForward:()=>{},onAttachmentOpen:()=>{},small:!0,disableHover:!0}))}),r()(this,"renderRow",(e,t)=>d.a.createElement("div",{className:t.photoRow},e.map(this.renderItem)))}getSection(){return Object(f.A)(this.props.listId)===S.Rb.CONTACT_DETAILS?C.g.CONTACTS_PANE:C.g.RIGHT_RAIL}render(){const e=this.props,t=this.context,a=e.items,n=e.listId,i=t.intl.formatMessage,r=t.getCss(g.a,s()({},Object(b.k)(this.context,!0)));return a.length?d.a.createElement("section",{className:r.photoBrief},d.a.createElement("header",{className:r.photoBriefHeader},d.a.createElement("h4",{className:r.briefTitle},d.a.createElement(_.FormattedMessage,{id:"search.photos_brief_header",defaultMessage:"Photos"})),d.a.createElement(T.a,{className:r.allLink,route:Object(y.o)(Object(f.W)(n,{referrer:"",listContentType:S.Pb.IMAGES})),i13nModel:{mKey:C.e.RIGHT_RAIL_DOC_OPEN_ALL,sec:this.getSection()},title:i(I.openAllPhotos)},d.a.createElement(_.FormattedMessage,{id:"related_content_card.all_link",defaultMessage:"All"}),d.a.createElement(A.b,{"aria-hidden":!0,kind:N.b.CHEVRON_UP,rotate:N.c.D90,size:N.d.XS,colorState:N.a.INHERITED}))),d.a.createElement("div",{className:r.photoBriefContent},this.renderRow(a,r))):null}}r()(M,"contextTypes",{navigateTo:l.a.func,executeAction:l.a.func,intl:_.intlShape.isRequired,getCss:l.a.func,getUrlFromRoute:l.a.func.isRequired,getThemeMode:l.a.func,getTheme:l.a.func});t.a=Object(m.connect)((e,{listId:t})=>{const a=Object(u.b)(e),n=a.doesListExist,s=a.getListItemIds,i=a.isFeatureEnabled,r=a.__patchV2MessageGroupItem__,o=a.__patchV2AttachmentId__,l=S.Pb.IMAGES,c=Object(f.W)(t,{listContentType:l,listFilter:S.Qb.FROM}),d=(n(c)?s(c).slice(0,3):[]).map(e=>o(e,c)),m={},_={},p=i(S.ub.CONVERSATIONS);return d.forEach(e=>{const a=Object(y.r)({item:r(e,c),listId:c,isConversationMode:p});if(a)if(l===S.Pb.MESSAGES)m[e.id]=a;else{m[e.attachment.id]=a;const n=Object(y.p)({attachment:e.attachment,listId:t,isConversationMode:p});_[e.attachment.id]=Object(y.f)(n,e.attachment.id,{fullscreen:"1"})}}),{messageGroupRoutes:m,photoPreviewRoutes:_,items:d}})(M)},function(e,t,a){"use strict";e.exports={className:{default:{photoItem:"H_3nx4N W_3nx4N p_R M_eo6 r_BN ir3_1JO2M7",photoItemImg:"H_6D6F W_6D6F ba_BH",photoOverlay:"p_a H_6D6F W_6D6F T_0 q_ZpQYvz O_6uA3 r_P",iconContainer:"D_F gl_FM P_fQq0A p_a B_0 q_Zjpysv k_w W_6D6F H_6VdP",photoActionBtn:"H_6D6F",forwardButton:"h_Z2uKmny",rtlRawScaleX:"rtlR_h_2gl0WC"},isDeleteEnabled:{iconContainer:"P_Z2rzCvT"},small:{photoItem:"M_ZmsLix H_3mS2U W_3mS2U",iconContainer:"P_wpr0G"}},_key:"ZKdeqV"}},function(e,t,a){"use strict";var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(1),l=a.n(o),c=a(8),d=a.n(c),m=a(223),_=a(6),u=a(65),p=a(19),h=a(16),g=a(5),E=a(204),b=a(75),C=a(0),f=a(7),S=a(1287),y=a.n(S),T=a(90),N=a.n(T);const A=Object(_.defineMessages)({clip:{id:"coupon_item.brief.clip",defaultMessage:"Clip this coupon"},unclip:{id:"coupon_item.brief.unclip",defaultMessage:"Unclip this coupon"},sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"}});class I extends o.Component{constructor(...e){super(...e),r()(this,"clipCoupon",()=>{const e=this.props;this.props.clip({cardMid:e.cardMid,schemaId:e.schemaId,i13nModel:{mKey:f.e.COUPON_CLIPPED,sec:f.g.CONTACT_CARD}})}),r()(this,"unclipCoupon",()=>{const e=this.props;this.props.unclip({cardMid:e.cardMid,schemaId:e.schemaId,i13nModel:{mKey:f.e.COUPON_UNCLIPPED,sec:f.g.CONTACT_CARD}})}),r()(this,"handleViglinkClick",()=>{this.props.viglinkClicked({i13nModel:{mKey:f.e.COUPON_LIST_VIGLINK_CLICKED,sec:f.g.CONTACT_CARD,actionData:{url:this.props.dealLink}}})})}render(){const e=this.props,t=e.fromEmail,a=e.fromName,n=e.description,i=e.clipped,r=e.daysUntilExpiry,o=e.isInferredDate,c=e.viglinkEnabled,d=e.dealLink,m=e.overrideClassNames,_=this.context,f=_.intl,S=(0,_.getCss)(y.a),T=c&&d?{href:Object(b.b)(d,C.H),onClick:this.handleViglinkClick,target:"_blank",title:n,rel:"noreferrer"}:null;return l.a.createElement("div",{className:N()(S.container,m.container)},l.a.createElement("a",s()({className:S.link},T),l.a.createElement(u.d,{contact:{email:t},size:u.c.NOBLE_L}),l.a.createElement("span",{className:S.content},l.a.createElement("span",{className:S.fromName},a),l.a.createElement("span",{className:S.description},n),l.a.createElement("span",{className:S.expiration},l.a.createElement(E.a,{daysUntilExpiry:r,isInferred:o})))),i?l.a.createElement(p.a,{"data-test-id":"clipped",className:S.clippedButton,onClick:this.unclipCoupon,"aria-label":f.formatMessage(A.unclip)},l.a.createElement(h.b,{"aria-hidden":!0,kind:g.b.SCISSORS,size:g.d.XS,colorState:g.a.INVERTED})):l.a.createElement(p.a,{"data-test-id":"unclipped",className:S.unclippedButton,onClick:this.clipCoupon,"aria-label":f.formatMessage(A.clip)},l.a.createElement(h.b,{"aria-hidden":!0,kind:g.b.SCISSORS,size:g.d.XS,colorState:g.a.INHERITED})))}}r()(I,"defaultProps",{overrideClassNames:{}}),r()(I,"contextTypes",{getCss:d.a.func,intl:_.intlShape}),t.a=Object(m.a)(I)},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F o_h ab_C bn_dBP bm_FJ bj_ZpQYvz P_1Eu6qC q4_1I4yPF bm8_n",link:"C_Z281SGl F_N D_F o_h ek_EZ P_0 ab_C",content:"F_N D_F o_h P_6Eb4 ek_BB gl_C",fromName:"cZ1zaJgg_B o_h J_x G_e A_6FsP i_6LUG",description:"cZ1zaJgg_B o_h J_x G_e A_6EWk i_6FsP M_Z26RiTK",expiration:"cZ1zaJgg_B o_h J_x G_e M_Z26RiTK",clippedButton:"F_n I_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0 C_52qC",unclippedButton:"F_n I_T l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0 cdPFi_Z287E9E"},"themeMode-MEDIUM":{container:"bj_Z27oFgc q4_ajP6C",link:"C_ZpQYvz"},"themeMode-DARK":{container:"bj_Z27oFgc q4_ajP6C",link:"C_ZpQYvz"}},_key:"2aEsk4"}},,,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"W_3zmEK",subwrapper:"D_F",imgContainer:"D_F aw_Z5r2aC",cueImg:"W_7ALe",content:"P_1WRVno",title:"A_6FsP gp_1Fqk81 u_b U_eTB",description:"U_6Fd5",primary:"i_6NIX",secondary:"I4_52qC"}},_key:"ZFo7Ws"}},,function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(9);const s=Object(n.c)(["DELETE","PERM_DELETE","ARCHIVE","RESTORE","MARK_AS_SPAM","MARK_AS_NOT_SPAM"])},function(e,t,a){"use strict";var n=a(6);t.a=Object(n.defineMessages)({filterName:{id:"filter_name_label",defaultMessage:"Filter Name"},selectCondition:{id:"select_filter_condition",defaultMessage:"Select a filter criterion"},filterValue:{id:"filter_value_placeholder",defaultMessage:"Type a filter value"},filterNameHint:{id:"filter_name_hint",defaultMessage:"Name your Filter"},filterNamePlaceholder:{id:"filter_name_placeholder",defaultMessage:"Type a filter name"},selectFolderPlaceholder:{id:"select_folder_placeholder",defaultMessage:"Select folder"},newFolderPlaceholder:{id:"type_new_folder_placeholder",defaultMessage:"Folder name"},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},storageLimitError:{id:"setting_limit_error_text",defaultMessage:"You have reached the storage limit"},filterNameError:{id:"filter_name_error_text",defaultMessage:"Filter Name is invalid"},noFilterSelectedError:{id:"no_filter_selected_error_text",defaultMessage:"You must specify at least one filter rule."},folder_inbox_label:{id:"folder_inbox",defaultMessage:"Inbox"},folder_sent_label:{id:"folder_sent",defaultMessage:"Sent"},folder_archive_label:{id:"folder_archive",defaultMessage:"Archive"},folder_trash_label:{id:"folder_trash",defaultMessage:"Trash"},folder_spam_label:{id:"folder_bulk",defaultMessage:"Spam"},contains:{id:"contains_text",defaultMessage:"contains"},does_not_contain:{id:"does_not_contain_text",defaultMessage:"does not contain"},begins_with:{id:"begins_with_text",defaultMessage:"begins with"},ends_with:{id:"ends_with_text",defaultMessage:"ends with"},from:{id:"from_label",defaultMessage:"From"},to_cc:{id:"to_or_cc_label",defaultMessage:"To/CC"},subject:{id:"subject_label",defaultMessage:"Subject"},body:{id:"body_label",defaultMessage:"Body"}})},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_3Y3Gk W_3qWeB",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"Z17GWCz"}},function(e,t,a){"use strict";var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(33),u=a.n(_),p=a(11),h=a(0),g=(a(9),a(227)),E=a(10),b=a(486),C=a(1276),f=a.n(C),S=a(22),y=a(13),T=a.n(y);const N=({listId:e,firstSeparator:t,applyTheme:a},n)=>{const s=T()(f.a,{darkTheme:a&&Object(S.m)({context:n,includeMedium:!0}),firstSeparator:t});return d.a.createElement("h3",{className:s.container},Object(E.y)(e))};N.contextTypes={getCss:l.a.func,getThemeMode:l.a.func};var A=N,I=a(6),M=a(1277),v=a.n(M);const D=Object(I.defineMessages)({top_contacts_empty_heading:{id:"contacts_blank.top_contacts_empty_heading",defaultMessage:"No top contacts for now"},top_contacts_empty_desc:{id:"contacts_blank.top_contacts_empty_desc",defaultMessage:"Use mail more often for {mailBrandNameString} to generate your top contacts!"},people_contacts_empty_heading:{id:"contacts_blank.people_contacts_empty_heading",defaultMessage:"No people contacts for now"},people_contacts_empty_desc:{id:"contacts_blank.people_contacts_empty_desc",defaultMessage:"Use mail more often for {mailBrandNameString} to generate your people contacts!"},business_contacts_empty_heading:{id:"contacts_blank.business_contacts_empty_heading",defaultMessage:"No business contacts for now"},business_contacts_empty_desc:{id:"contacts_blank.business_contacts_empty_desc",defaultMessage:"Use mail more often for {mailBrandNameString} to generate your business contacts!"},search_empty_heading:{id:"contacts_blank.search_empty_heading",defaultMessage:"No matching contacts found."},user_created_contacts_empty_heading:{id:"contacts_blank.user_created_contacts_empty_heading",defaultMessage:"No contacts available"},user_created_contacts_empty_desc:{id:"contacts_blank.user_created_contacts_empty_desc",defaultMessage:"Create a contact"},groups_empty_heading:{id:"contacts_blank.groups_empty_heading",defaultMessage:"No lists available"}}),O=({listId:e,applyTheme:t},a)=>{const n=a.intl.formatMessage,s=a.getCss,i=a.mailBrandNameString,r=t&&Object(S.m)({context:a,includeMedium:!0}),o=s(v.a,{darkStyles:r}),l=Object(E.u)(e),c=Object(E.s)(e);let m="",_="";switch(l){case h.Qb.TOP_CONTACTS:m=n(D.top_contacts_empty_heading),_=n(D.top_contacts_empty_desc,{mailBrandNameString:i});break;case h.Qb.PEOPLE:m=n(D.people_contacts_empty_heading),_=n(D.people_contacts_empty_desc,{mailBrandNameString:i});break;case h.Qb.NOT_PEOPLE:m=n(D.business_contacts_empty_heading),_=n(D.business_contacts_empty_desc,{mailBrandNameString:i});break;case h.Qb.USER_CREATED_CONTACTS:m=n(D.user_created_contacts_empty_heading),_=n(D.user_created_contacts_empty_desc);break;case h.Qb.GROUPS:m=n(c?D.user_created_contacts_empty_heading:D.groups_empty_heading);break;default:m=n(D.search_empty_heading)}return d.a.createElement("div",{className:o.container,"data-test-id":"empty_contacts"},d.a.createElement("div",{className:o.subContainer},d.a.createElement("h4",{className:o.heading,"data-test-id":"empty_contacts-heading"},m),d.a.createElement("p",{className:o.description,"data-test-id":"empty_contacts-desc"},_)))};O.contextTypes={getCss:l.a.func,intl:I.intlShape.isRequired,mailBrandNameString:l.a.string,getThemeMode:l.a.func};var k=O,R=a(1255),w=a(1278),P=a.n(w),x=a(5),F=a(124),L=a(138),B=a(18),U=a(7),H=a(16);const j=(e,t)=>{const a=t.getCss,n=e.displayAll,s=e.remainingCount,i=e.handleClick,r=e.categoryListId,o=e.listId,l=e.applyTheme&&Object(S.m)({context:t,includeMedium:!0}),c=a(P.a,{darkVariations:l});let m,_;n?(m=x.c.D270,_="less"):(m=x.c.D90,_="more");return d.a.createElement("div",{"data-test-id":"more-contacts-row",className:c.moreContactsContainer,onClick:e=>{e.stopPropagation(),i({categoryListId:r,listId:o,i13nModel:{mKey:U.e.TOGGLE_ALPHA_SECTION,sec:F.a[Object(E.u)(o)]||U.g.CONTACTS_PANE,interactionType:Object(B.j)(e)}})}},d.a.createElement("div",{className:c.chevronContainer},d.a.createElement(H.b,{size:x.d.XXS,kind:x.b.ARROW_RIGHT_DOC,rotate:m,colorState:x.a.INHERITED})),d.a.createElement("span",{"data-test-id":"more-less-label",className:c.moreLabel},d.a.createElement(I.FormattedMessage,{id:"more_contacts_button.more_less",defaultMessage:"{remainingCount, number} {option, select, more {more} less {less} }",values:{remainingCount:s,option:_}})))};j.contextTypes={getCss:l.a.func,getThemeMode:l.a.func,getTheme:l.a.func};var G=Object(m.connect)((e,{categoryListId:t,listId:a})=>{const n=Object(p.b)(e),s=n.getStreamsSelectors,i=(0,n.getListsSelectors)().getTotalHits,r=s(),o=r.getExpansionStateForStreamItem;return{displayAll:!(!(0,r.doesStreamExist)(a)||!o({streamId:a,listId:a,csid:t})),remainingCount:i(t)-h.Tb}},e=>({handleClick:t=>e(Object(L.A)(t))}))(j),W=a(198);const Z=6*a(12).GRID_UNIT+1,V=64,q=48;class z extends d.a.Component{constructor(...e){super(...e),r()(this,"onScroll",({scrollTop:e})=>{const t=this.props,a=t.onScroll;return a&&a({listId:t.listId,scrollTop:e})}),r()(this,"formatItem",(e,{itemIndex:t})=>{const a=e.id,n=e.listId,i=e.itemType,r=this.props,o=r.listId,l=r.applyTheme,c=r.contactItemProps;switch(e.type){case h.Pb.EXPAND_COLLAPSE_CONTACTS:return d.a.createElement(G,{categoryListId:n,listId:o,applyTheme:l});case h.Pb.CONTACTS_SEPARATOR:return d.a.createElement(A,{listId:n,firstSeparator:0===t,applyTheme:l});case h.Pb.LOADING_INDICATOR:return d.a.createElement(W.a,{applyTheme:l});default:return d.a.createElement(R.a,s()({id:a,listId:o,itemType:i,applyTheme:l,highlight:Object(E.k)(n)},c))}})}getItemHeight({type:e}){switch(e){case h.Pb.EXPAND_COLLAPSE_CONTACTS:return q;case h.Pb.CONTACTS_SEPARATOR:return Z;default:return V}}render(){const e=this.props,t=e.items,a=e.status,n=e.listId,s=e.scrollPositions,i=e.applyTheme;return a===h.bd.DOES_NOT_EXIST||a===h.bd.LOADING?d.a.createElement(b.a,{applyTheme:i}):0===t.length?d.a.createElement(k,{listId:n,applyTheme:i}):d.a.createElement(g.a,{bufferSize:10,getItemHeight:this.getItemHeight,formatItem:this.formatItem,items:t,scrollTop:s[n]||0,onScroll:this.onScroll})}}r()(z,"defaultProps",{scrollPositions:{},applyTheme:!0});t.a=Object(m.connect)((e,{listId:t,items:a})=>{const n=Object(p.b)(e),s=n.getContactListItems,i=(0,n.getListsSelectors)(),r=i.getListStatus,o=(0,i.doesListExist)(t);return{status:o?r(t):h.bd.DOES_NOT_EXIST,items:o?a||s(t):[]}},void 0,void 0,{areStatePropsEqual:u.a})(z)},function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(8),r=a.n(i),o=a(1274),l=a.n(o);const c=({children:e,isDark:t,overrideClassNames:a={}},{getCss:i})=>{const r=i(l.a);return s.a.createElement("ul",{className:r.container+" "+(a.tabListContainer||""),role:"tablist"},n.Children.toArray(e).map(e=>Object(n.cloneElement)(e,{isDark:t})))};c.contextTypes={getCss:r.a.func};var d=c,m=a(23),_=a.n(m),u=a(39),p=a.n(u),h=a(1275),g=a.n(h);const E=(e,{getCss:t})=>{let a=e.children,n=e.onClick,i=e.isDark,r=void 0!==i&&i,o=e.isSelected,l=void 0!==o&&o,c=e.overrideClassNames,d=void 0===c?{}:c,m=p()(e,["children","onClick","isDark","isSelected","overrideClassNames"]);const u=t(g.a,{isSelected:l,isDark:r,isDarkAndSelected:r&&l});return s.a.createElement("li",{className:u.container+" "+(d.tabContainer||""),role:"presentation"},s.a.createElement("button",_()({},m,{className:u.button+" "+(d.button||""),role:"tab","aria-selected":l,onClick:n}),a))};E.contextTypes={getCss:r.a.func};var b=E;a.d(t,"b",function(){return d}),a.d(t,"a",function(){return b})},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"hd_n Q_6Fd5 Y_6Fd5 X_0",itemContainer:"D_F M_fq7",itemInfo:"X_fq7 ek_BB C_Z281SGl",itemSize:"kk_6DUj C_Z1YRXYn"}},_key:"10Vyi0"}},function(e,t,a){"use strict";e.exports={className:{default:{printView:"ir_n",header:"P_S9pNs M_2ae0fr m_Z14vXdP",subjectHeaderRow:"D_F el_EZ jb_6Eb4 U_eo6 m_Z14vXdP",subjectBody:"C_Z281SGl A_6FsP i_6FIA y_Z2uhb3X",headerTable:"D_FY",headerRow:"D_GE",label:"C_Z1YRXYn D_FZ je_fq7",fieldBody:"C_Z281SGl D_FZ X_fq7 je_fq7",buttonContainer:"M_Z2iDC9F D_F ek_FB",button:"P_0 M_Z1fenNR",offerHeader:"t_C A_6FsP"}},_key:"Z1JLHK2"}},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(314),d=a(1362),m=a.n(d);class _ extends l.a.Component{render(){const e=this.context.getCss(m.a,{modalStyle:this.props.isModalStyle});return l.a.createElement(c.a,{top:0,left:0},l.a.createElement("div",{className:e.container},this.props.children))}}s()(_,"contextTypes",{getCss:r.a.func}),t.a=_},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB j_Z2nrtxD e_dRA T_e5X L_e5X h_16WrXa p_a a_3Diky q_52qC P_yJhcT",confirmationContainer:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB j_Z2nrtyE e_dRA L_e5X h_1BKU51 p_a W_3vhr3",header:"i_6MGW A_6FsP u_e69 C_Z281SGl U_fq7",body:"A_6EqO i_6FIA C_Z281SGl U_fq7",undo:"C_Z2aVTcY u_N",closeWrapper:"E_6Eb4 Y_6Eb4 R_0 p_a T_0",counter:"C_Z1YRXYn",unsubscribeContainer:"D_F ab_C H_6TV4 m_1iPe0w p_R A_6EqO i_6FIA o_h X_eo6",senders:"D_F o_h G_e em_N",senderName:"u_b E_fq7 i_6Fd5 J_EN",senderEmail:"i_6Fd5 C_Z1YRXYn o_h G_e E_6LEV",cleanedList:"i_6Fd5 C_Z1YRXYn o_h G_e J_EN E_6LEV Q_fq7",actionContainer:"D_F gl_FM P_203zQW ab_C",unsubscribeLink:"E_6LEV C_Z2aVTcY r_P u_N",hideLink:"C_Z1YRXYn r_P u_N"}},_key:"1xiT7u"}},function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(13),l=a.n(o),c=a(1369),d=a.n(c),m=a(6),_=a(22),u=(a(9),a(45)),p=a(0),h=a(46),g=a.n(h);const E=Object(m.defineMessages)({defaultTheme:{id:"theme-default",defaultMessage:"Default"},purpleDefaultTheme:{id:"theme-purple-default",defaultMessage:"Purple"},sunriseTheme:{id:"theme-sunrise",defaultMessage:"Sunrise"},aquaGreenTheme:{id:"theme-aqua-green",defaultMessage:"Aqua green"},aquaBlueTheme:{id:"theme-aqua-blue",defaultMessage:"Aqua blue"},deepPurpleTheme:{id:"theme-deep-purple",defaultMessage:"Deep purple"},blueNightTheme:{id:"theme-blue-night",defaultMessage:"Blue night"},darkGreyTheme:{id:"theme-dark-grey",defaultMessage:"Dark grey"},nightLandscapeTheme:{id:"theme-night-landscape",defaultMessage:"Night landscape"},roadtripTheme:{id:"theme-roadtrip",defaultMessage:"Roadtrip"},sunsetAussieTheme:{id:"theme-sunset-aussie",defaultMessage:"Sunset aussie"},lighthouseTheme:{id:"theme-lighthouse",defaultMessage:"Lighthouse"}});let b={DEFAULT:E.defaultTheme,SUNRISE:E.sunriseTheme,AQUA_GREEN:E.aquaGreenTheme,AQUA_BLUE:E.aquaBlueTheme,DEEP_PURPLE:E.deepPurpleTheme,BLUE_NIGHT:E.blueNightTheme,DARK_GREY:E.darkGreyTheme,NIGHT_LANDSCAPE:E.nightLandscapeTheme,ROADTRIP:E.roadtripTheme,SUNSET_AUSSIE:E.sunsetAussieTheme,LIGHTHOUSE:E.lighthouseTheme,ATT:E.defaultTheme,FRONTIER:E.defaultTheme,ROGERS:E.defaultTheme,BT:E.defaultTheme,SKY:E.defaultTheme};function C({themeSetting:e,onChange:t,liteVersion:a,photoThemes:n=!1,cueMode:i=!1,partnerBrand:o},c){const m=function(e){const t=g()(_.i,[...Object.keys(_.e)]);switch(e){case p.Wd.ATT:return b=s()({},b,{DEFAULT:E.purpleDefaultTheme}),s()({[_.e.ATT]:_.f.ATT},g()(t,[_.i.AQUA_BLUE]));case p.Wd.FRONTIER:return s()({[_.e.FRONTIER]:_.f.FRONTIER},g()(t,[_.i.DEFAULT]));case p.Wd.ROGERS:return b=s()({},b,{DEFAULT:E.purpleDefaultTheme}),s()({[_.e.ROGERS]:_.f.ROGERS},g()(t,[_.i.DARK_GREY]));case p.Wd.BT:return b=s()({},b,{DEFAULT:E.purpleDefaultTheme}),s()({[_.e.BT]:_.f.BT},g()(t,[_.i.DEEP_PURPLE]));case p.Wd.SKY:return b=s()({},b,{DEFAULT:E.purpleDefaultTheme}),s()({[_.e.SKY]:_.f.SKY},g()(t,[_.i.AQUA_BLUE]));default:return t}}(o),h=g()(m,[...Object.keys(_.g)]);let C=n?m:h;C=i&&n?Object.assign({},_.g,h):C;const f=l()(d.a,{liteVersion:a,cueMode:i,[`theme-${e}`]:!0}),S=l()(d.a,{[`selected_${a}`]:!0,cueMode:i}),y=c.intl.formatMessage,T=Object.keys(C).map(a=>{const n=e===_.i[a],s=y(b[a]);return r.a.createElement("li",{key:a,className:n?S.themeDotContainer:f.themeDotContainer},r.a.createElement("input",{type:"radio",name:"themeOption",value:_.i[a],checked:n,onChange:t,className:f.accessible,id:"themeOption-"+a}),r.a.createElement("label",{htmlFor:"themeOption-"+a,className:f.themeDot,style:{backgroundImage:Object(_.l)(_.j[a],u.a)},title:s},r.a.createElement("span",{className:f.accessible},s)))});return r.a.createElement("div",{"data-test-id":"theme-chooser"},r.a.createElement("ul",{className:f.themeChooser},T))}C.contextTypes={intl:m.intlShape.isRequired},t.a=C},function(e,t,a){"use strict";a(8);var n=a(1),s=a.n(n),i=a(13),r=a.n(i),o=a(1370),l=a.n(o),c=a(6),d=a(22);a(9);const m=Object(c.defineMessages)({lightThemeMode:{id:"theme-mode-light",defaultMessage:"Light"},mediumThemeMode:{id:"theme-mode-medium",defaultMessage:"Medium"},darkThemeMode:{id:"theme-mode-dark",defaultMessage:"Dark"}}),_={LIGHT:m.lightThemeMode,MEDIUM:m.mediumThemeMode,DARK:m.darkThemeMode},u=r()(l.a,{selected:!0});function p({themeSetting:e,themeModeSetting:t,onChange:a,liteVersion:n,cueMode:i=!1},o){const c=o.intl.formatMessage,m=r()(l.a,{cueMode:i,liteVersion:n,["theme_"+e]:!0}),p=Object.keys(d.h).map(e=>{const n=t===d.h[e],r=c(_[e]);return s.a.createElement("li",{key:e},s.a.createElement("div",{className:n&&i?m.themeModeBorderedContainer:m.themeModeContainer},s.a.createElement("label",{className:n?m.themeModeChecked:m.themeMode,htmlFor:"theme-mode-"+e,title:r},s.a.createElement("div",{className:m["themeMode"+e]},s.a.createElement("span",{className:m.accessible},r))),i?s.a.createElement("input",{id:"theme-mode-"+e,className:i?m.accessible:m.radioButton,type:"radio",name:"themeModeOption",checked:n,value:d.h[e],onChange:a,title:r}):s.a.createElement("div",{className:n?u.labelTextContainer:m.labelTextContainer},s.a.createElement("input",{id:"theme-mode-"+e,className:i?m.accessible:m.radioButton,type:"radio",name:"themeModeOption",checked:n,value:d.h[e],onChange:a,title:r}),s.a.createElement("label",{className:m.label,htmlFor:"theme-mode-"+e,title:r},r))),i?s.a.createElement("div",{className:n?u.cueLabelTextContainer:m.cueLabelTextContainer},s.a.createElement("label",{className:m.label,htmlFor:"theme-mode-"+e,title:r},r)):null)});return s.a.createElement("div",{className:m.chooser,"data-test-id":"theme-mode-chooser"},s.a.createElement("ul",{className:m.themeModeChooser},p))}p.contextTypes={intl:c.intlShape.isRequired},t.a=p},function(e,t,a){"use strict";e.exports={className:{default:{container:"q_52qC D_F ek_BB eo_x ab_C e_eo6 jb_72FG W_3A1b8",close:"ac_CH H_6EqO W_6Eb4 h_Z1kaEH9",closeVideo:"H_6EqO W_6Eb4 h_Z1kaEH9 p_a T_0 R_0 Z_N",videoContainer:"p_R",heading:"A_6EWk i_6Mbr W_3zBDu d_6VdP ab_C u_e69 t_C je_6LEV",description:"je_6Eb4 A_6EqO i_6FIA W_3vX1s d_6VdP C_Z1Vxdfo t_C",headerSection:"D_F gl_C ek_BB W_3vqYW H_7qGO Y_6MGW U_fq7",imageWrapper:"D_F gl_C",adBlockBackground:"D_F W_3vqYW gl_C",thinkingEmoji:"H_7yHc",adblockOption:"D_F ab_C gl_C Y_6LEV W_3vVYr",adblockUpsell:"a_3z5BY A_6EqO u_b Y_eo6",optionHeading:"em_N",optionButton:"s_7ALe d_6Urz D_B C_q J_x",optionButtonVideoAd:"P_1Eu7sD",videoThankYouContainer:"D_F ab_C I_52qC ek_BB W_3zmEK e_dRA",videoThankYouHeaderContainer:"ab_C t_C je_6LEV jb_7bcz",videoThankYouImage:"Y_72FG",videoThankYouHeader:"A_6EWk u_b",videoThankYouSubHeader:"A_6Eb4 je_eo6"},isCompact:{adblockOption:"ek_BB F_N",optionHeading:"t_C",optionButtonContainer:"Y_fq7"},nonCompact:{optionHeading:"em_N"}},_key:"2rY1a6"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F W_6D6F I_52qC m_Z14vXdP en_0",columnLeft:"D_F ab_C F_N P_1UqJXO o_h",columnCenter:"D_F ab_C eo_HB F_0 P_JMIAn",columnRight:"D_F gl_CH F_N ab_C P_1HT1B4 t_r s_3qWeB",backButton:"D_F ab_C P_eo6 i_6EWk r_P O4_cMr",backButtonLabel:"P_eo6 J_x",filename:"u_b o_h J_x G_e",pageNav:"C_Z1VRpVF J_x",currentPage:"I_ZpQYvz cn_0 e_dRA P_3gJOe",totalPages:"Q_eo6",pageNavInput:"a_6LEV I_ZpQYvz cn_0 e_dRA P_3gJOe C_Z1HyqBV A_6EqO",pageNavInputContainer:"D_I",pageLabel:"E_eo6",buttonContainer:"E_6Eb4 r_P",rtlRawScaleX:"rtlR_h_2gl0WC",currentPageTheme:"I_Z1EVJaD"},"fullScreenMode-true":{columnCenter:"gl_C",filename:"A_6EWk",pageNav:"Y_eo6 C_ak5lC",container:"I_T H_7iGr C_52qC",pageNavInput:"C_ak5lC",buttonContainer:"E_6LEV",columnRight:"je_6Fd5 jb_fq7"}},_key:"2iA2mk"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN k_w D_F ek_BB ab_C cZ1RN91d_GG en_0 a_3vpWV M_0",header:"A_6EqO k_w i_CS W_6D6F P_PEFpM t_C C_Z1VRpVF D_F gl_FM ab_C",headerText:"A_6EWk C_Z281SGl u_e69",icon:"D_F C_ZpQYvz",title:"Q_fq7 u_b",partnerLogo:"H_6LEV r_P",submitButton:"H_6TFj s_3nF5b I_T b_2fAfSG e_dRA C_Z2aVTcY A_6Eb4 u_b r_P M_Z18KXHe a_3v1qi G_e o_h J_x",travelCardsContainer:"M_0 W_3vpWV a_3vpWV cg_FJ cn_3vzlv l_ZpQYvz"},"themeMode-MEDIUM":{container:"I_sgPuT",header:"C_ZpQYvz",headerText:"C_ZpQYvz",submitButton:"b_2fh2n5 C_Z2bg7IA",travelCardsContainer:"cn_0"},"themeMode-DARK":{container:"I_sgPuT",header:"C_ZpQYvz",headerText:"C_ZpQYvz",submitButton:"b_2fh2n5 C_Z2bg7IA",travelCardsContainer:"cn_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"ZvlYiQ"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB W_3vpWV H_6D6F o_FF C_Z281SGl I_52qC",errorMessage:"D_X t_C P_Zit7Th"},"themeMode-MEDIUM":{container:"I_sgPuT C_ZpQYvz m_ZYfFSw"},"themeMode-DARK":{container:"I_sgPuT C_ZpQYvz m_ZYfFSw"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"ZsXuEl"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"M_1IaimO ha_n P_0",weekRow:"U_6Eb4 ha_n H_6VdP P_0",weekDay:"D_X W_6VdP H_6VdP P_3gIMd P6_1wVxIt P8_ZmsLix",weekDayBackground:"p_R D_X W_6VdP H_6VdP e_e5X",weekDayBackgroundOverlay:"p_a T_0 L_0 H_6D6F W_6D6F e_e5X",weekDayPointContainer:"p_a T_0 L_0 H_6D6F W_6D6F A_6Eb4 u_b C_52qC D_B i_6VdP t_C"},"checkinType-UNCHECK":{weekDayBackground:"I_ZnIF8Y",weekDayPointContainer:"aw_1SQvbk"},"checkinType-dark-UNCHECK":{weekDayBackground:"I_ajP4A",weekDayPointContainer:"aw_1tEJ2R"},"checkinType-CHECKED":{weekDayBackground:"I_82XEY aw_1JOKe5",weekDayBackgroundOverlay:"O_cMo aw_Z1LCaFo",weekDayPointContainer:"aw_82XEY"},"checkinType-WEEKEND":{weekDayBackground:"I_82XEY aw_Z2r7UrV",weekDayBackgroundOverlay:"O_cMo aw_Zixypj",weekDayPointContainer:"aw_1I1rwq"},"selectionRangeType-START":{weekDay:"q_xqijO"},"selectionRangeType-dark-START":{weekDay:"q_7Mmob"},"selectionRangeType-MIDDLE":{weekDay:"q_ZnIF8Y"},"selectionRangeType-dark-MIDDLE":{weekDay:"q_ajP4A"},"selectionRangeType-END":{weekDay:"q_Z1eToww"},"selectionRangeType-dark-END":{weekDay:"q_1ed5dy"},spinEnabled:{weekDayBackground:"ah_Nu3Un am_N",weekDayPointContainer:"ah_zVKwS"}},_key:"2vjiHp"}},function(e,t,a){"use strict";a.d(t,"a",function(){return i});const n=new RegExp(/^[a-zA-Z]{2}-[a-zA-Z]{4}-[a-zA-z]{2}$|^[a-zA-z]{2,3}-[a-zA-Z]{2}$|^[a-zA-Z]{2}-\d{3}$/),s=new RegExp(/^\w{2}-\d{3}$/);function i(e){const t=s.test(e)?4:3;return"string"==typeof e&&n.test(e)?e.substring(0,e.length-t).toLowerCase():"en"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_e5X D_F gl_FM",date:"Q_fq7",day:"aw_Z1XPDyi e_dRA W_72FG A_6LEV H_6LEV C_52qC je_6DEy jb_6DEy t_C",month:"C_ZKWIFy A_6DUj W_72FG t_C u_b i_6LEV",cardInfo:"b_Z14vXdP e_dRA em_O M_Z1JcDnD H_74JI D_F gl_FM ab_C P_6Fd5 o_h",cardInfoUD:"b_Z14vXdP e_dRA em_O M_Z1JcDnD H_74JI D_F gl_FM ab_C P_Z2bI6gJ o_h",cardDetails:"o_h W_eE1",cardDescriptionWithUnusualDiscount:"i_6EWk U_eo6 K_6Fd5 o_h G_e J_x N_eo6",cardDealLinkUnusualDiscount:"X_eo6 D_B i_6EWk U_eo6 K_6Fd5 o_h G_e J_x N_eo6 C4_Z2aVTcY",cardDescription:"i_6EWk U_eo6 K_6UbO o_h N_eo6",cardDealLink:"D_B i_6EWk U_eo6 K_6UbO o_h N_eo6 C4_Z2aVTcY",expiryTime:"C_Z1Xxgu0 jb_dRA",expiryTimeUD:"X_eo6 C_Z1Xxgu0 jb_dRA",buttonUnclipped:"I_52qC C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_Z28IeYL M_0 I4_1uvRUE I3_1uvRUE",buttonClipped:"I_Z287E9E C_52qC l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_Z1E2XDm M_0",buttonText:"Q_6Eb4 u_b J_EN",":focus":"I_1uvRUE",brandLogo:"Q_fq7 Y_eo6"},fullWidth:{container:"W_6D6F D_F gl_FM"},isEnhancedCouponCard:{cardInfo:"r_P j_1qrUxL",cardInfoUD:"r_P j_1qrUxL"}},_key:"ZM14bX"}},function(e,t,a){"use strict";a.d(t,"a",function(){return S});var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(105),u=a(187),p=a(7),h=a(18),g=a(60),E=(a(9),a(1299)),b=a(67);const C={[E.a.DELETE]:{title:b.a.confirm_delete_title,message:b.a.confirm_delete_messages},[E.a.PERM_DELETE]:{title:b.a.confirm_delete_title,message:b.a.confirm_permanently_delete_messages},[E.a.ARCHIVE]:{title:b.a.confirm_archive_title,message:b.a.confirm_archive_messages},[E.a.RESTORE]:{title:b.a.confirm_restore_title,message:b.a.confirm_restore_messages},[E.a.MARK_AS_SPAM]:{title:b.a.confirm_spam_title,message:b.a.confirm_spam_messages},[E.a.MARK_AS_NOT_SPAM]:{title:b.a.confirm_ham_title,message:b.a.confirm_ham_messages}},f={[E.a.DELETE]:{mKey:p.e.TOOLBAR_DELETE,mKeyGroup:p.f.delete},[E.a.PERM_DELETE]:{mKey:p.e.TOOLBAR_DELETE,mKeyGroup:p.f.delete},[E.a.ARCHIVE]:{mKey:p.e.TOOLBAR_ARCHIVE,mKeyGroup:p.f.archive},[E.a.RESTORE]:{mKey:p.e.TOOLBAR_RESTORE,mKeyGroup:p.f.archive},[E.a.MARK_AS_SPAM]:{mKey:p.e.TOOLBAR_SPAM,mKeyGroup:p.f.mark_spam},[E.a.MARK_AS_NOT_SPAM]:{mKey:p.e.TOOLBAR_NOT_SPAM}};class S extends d.a.Component{constructor(...e){super(...e),r()(this,"cancelConfirm",()=>{this.props.onClose()}),r()(this,"getActionCreator",()=>{const e=this.props,t=e.doSelectAll?u.a[g.c.LIST]:u.b[g.c.LIST];return{[E.a.DELETE]:t.delete,[E.a.PERM_DELETE]:t.delete,[E.a.ARCHIVE]:t.archive,[E.a.RESTORE]:t.restore,[E.a.MARK_AS_SPAM]:t.markAsSpam,[E.a.MARK_AS_NOT_SPAM]:t.markAsNotSpam}[e.contextMenuAction]}),r()(this,"handleConfirm",e=>{const t=this.props,a=t.allItemsCount,n=t.conversations,i=t.listId,r=t.selectedGroupIds,o=t.streamId,l=t.streamItem,c=t.contextMenuAction,d=Object.assign({},f[c],{sec:p.g.MSG_LIST_CONTEXT_MENU,interactionType:Object(h.j)(e)});this.context.executeAction(this.getActionCreator(),s()({listId:i,streamId:o,streamItem:l,messageGroupIds:r},c===E.a.PERM_DELETE&&{permanent:!0},a&&{allItemsCount:a},{conversations:n,i13nModel:d})),this.props.onClose()}),r()(this,"getConfirmDialogStrings",()=>{const e=this.props,t=e.contextMenuAction,a=this.context.intl.formatMessage,n={conversations:e.conversations,count:e.doSelectAll?e.allItemsCount:e.selectedGroupIds.length};return{title:a(C[t].title),message:a(C[t].message,n)}})}render(){const e=this.getConfirmDialogStrings();return d.a.createElement(_.a,{title:e.title,message:e.message,onConfirm:this.handleConfirm,onAbort:this.cancelConfirm})}}r()(S,"contextTypes",{intl:m.intlShape.isRequired,executeAction:l.a.func}),r()(S,"defaultProps",{onClose:()=>{}})},function(e,t,a){"use strict";var n=a(23),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(6),u=a(105),p=a(1594),h=a.n(p),g=a(13),E=a.n(g),b=(a(42),a(69)),C=a(1244),f=a(11),S=a(485),y=a(182),T=a(1300),N=a(240),A=a(562),I=a(7),M=a(169),v=a(41),D=a(17),O=a(0),k=a(28),R=a(19),w=a(10),P=a(1270),x=a(18);const F=E()(h.a),L=Object(_.defineMessages)({heading:{id:"filterMessagesLikeThis.heading",defaultMessage:"Add filter"},description:{id:"filterMessagesLikeThis.description",defaultMessage:"Always move messages from <b>{email}</b> to this folder:"},moreOptions:{id:"filterMessagesLikeThis.moreOptions",defaultMessage:"More options"},createNewFolder:{id:"create_new_folder",defaultMessage:"Create new folder"},acceptLabel:{id:"save_btn_text",defaultMessage:"Save"}}),B=()=>{};class U extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{selectedFolder:""}),r()(this,"handleConfirm",e=>{e.stopPropagation();const t=this.props,a=t.sender,n=t.messageFilters,s=this.state.selectedFolder||C.a.INBOX,i={mKey:I.e.TOOLBAR_FILTER_MESSAGES_LIKE_THIS,sec:I.g.MSG_LIST_CONTEXT_MENU,interactionType:Object(x.j)(e)},r={name:a.name||a.email,index:n.length+1,matchType:C.a.ALL,actions:[{type:C.a.MOVETOFOLDER,value:{folderActionValueBean:{folder:{name:s}}}}],criterions:Object(P.a)({sender:a})};this.props.handleSaveFilter({filters:[...n,r],i13nModel:i}),this.props.onClose()}),r()(this,"getLocalizedFolderValue",e=>{const t=this.context.intl.formatMessage;switch(e){case C.a.INBOX:return t(T.a.folder_inbox_label);case C.a.SENT:return t(T.a.folder_sent_label);case C.a.ARCHIVE:return t(T.a.folder_archive_label);case C.a.SPAM:return t(T.a.folder_spam_label);case C.a.TRASH:return t(T.a.folder_trash_label);default:return e}}),r()(this,"handleClose",e=>{e.stopPropagation(),this.props.onClose()}),r()(this,"handleFolderSelect",e=>{this.setState({selectedFolder:e})}),r()(this,"handleFolderCreate",({folderName:e,i13nModel:t})=>{const a=this.props.activeAccount;t=Object.assign({mKey:I.e.ADD_FOLDER,sec:I.g.FILTER_MESSAGES,mKeyGroup:I.f.create_fldr},t),this.context.executeAction(M.b,{folderName:Object(v.k)(e,a),fromModalDialog:!0,accountId:a.id,i13nModel:t}),this.setState({selectedFolder:e}),this.selectRef&&this.selectRef.focus()}),r()(this,"handleMoreOptions",()=>{const e=this.props,t=e.messageId,a=e.handleFilterMoreOptions,n=e.onClose,s=e.listId;this.context.navigateTo({route:Object(D.v)({settingsGroupId:O.Cd.FILTERS})}),a({messageId:t,listId:s}),n()}),r()(this,"setSelectRef",e=>{this.selectRef=e})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.sender,n=t.folderNamesForRendering,i=t.activeAccount,r=!this.state.selectedFolder;return d.a.createElement(u.a,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(L.heading),onOuterClick:B,disablePrimaryButton:r,acceptLabel:L.acceptLabel},d.a.createElement("div",{className:F.description},d.a.createElement(_.FormattedHTMLMessage,s()({},L.description,{values:{email:a.email}}))),d.a.createElement("div",null,d.a.createElement(N.a,{selected:this.state.selectedFolder,"data-test-id":"filter-select",placeholder:e(T.a.selectFolderPlaceholder),title:e(T.a.selectFolderPlaceholder),onChange:e=>this.handleFolderSelect(e),dropdownType:S.a.FITCONTENT,maxWidth:100,setRef:this.setSelectRef},d.a.createElement(y.a,{onSelect:B,key:"createNewFolder",title:e(L.createNewFolder),handlesOnSelect:!0},d.a.createElement(A.a,{activeAccountId:i.id,onCreate:this.handleFolderCreate,fullWidth:!0,noHoverColor:!0,whiteBackground:!0})),n.map(e=>d.a.createElement(y.a,{title:e,key:e,value:e},this.getLocalizedFolderValue(e))))),d.a.createElement("div",null,d.a.createElement(R.a,{onClick:this.handleMoreOptions,kind:k.a.CHROMELESS,title:e(L.moreOptions)},d.a.createElement("span",{className:F.moreOptions},e(L.moreOptions)))))}}r()(U,"contextTypes",{intl:_.intlShape.isRequired,executeAction:l.a.func,getUrlFromRoute:l.a.func,navigateTo:l.a.func}),r()(U,"defaultProps",{});t.a=Object(m.connect)((e,t)=>{const a=Object(f.b)(e),n=a.getAllowedFolderNamesForMessageFilters,s=a.getSelectedAccountIdByRoute,i=a.getAccountById,r=a.getParticipant,o=a.getSetting,l=t.messageId,c=(0,a.getRoute)(),d=Object(w.w)(c),m=i(s(c)),_=o(O.zd.MESSAGE_FILTERS),u=r(l);return{folderNamesForRendering:n(),listId:d,activeAccount:m,messageFilters:_,sender:u}},e=>({handleSaveFilter:t=>e(Object(b.f)(t)),handleFilterMoreOptions:t=>e(Object(b.a)(t))}))(U)},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",headerWrapper:"em_N iz_A P_ZzaS5e",pageHeader:"U_6VdP",section:"Y_6Eb4"}},_key:"1QMPub"}},function(e,t,a){"use strict";e.exports={className:{default:{accordionWrapper:"D_F",accordionContainer:"M_0 P_0 em_N D_F hd_n ek_BB",arrow:"W_6LEV H_6LEV",accordionPanel:"P_6LEV D_n ek_BB",itemContainer:"m_Z14vXdP m8_n",itemTitle:"D_F P_3gIMd r_P u_e69 ab_C H_6VdP ir3_1JO2M7"},isActive:{accordionPanel:"D_B",arrow:"h_22ufi4"}},_key:"lrlaB"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6VdP",hint:"A_6EqO C_Z1YRXYn",title:"u_dPo A_6FsP M_Ic9xa",listContainer:"F_N",listWrapper:"M_0 P_0 hd_n",accountInfoHeader:"Q_eo6 U_6FIA",headerText:"M_0 i_6LEV u_b A_6EWk",emptyList:"D_F ab_CI A_6Eb4 C_Z1VRpVF",warningIcon:"E_fq7",cloudStorageAccountSection:"Y_6VdP U_6VdP"}},_key:"Z8sn05"}},function(e,t,a){"use strict";var n=a(23),s=a.n(n),i=a(39),r=a.n(i),o=a(3),l=a.n(o),c=(a(8),a(1)),d=a.n(c),m=a(13),_=a.n(m),u=a(6),p=a(19),h=a(28),g=a(5),E=a(20),b=a(0),C=a(18),f=a(12),S=(a(42),a(1245)),y=a(1654),T=a.n(y);const N=Object(u.defineMessages)({close:{id:"cue.close",defaultMessage:"Close"},privacy_policy_text:{id:"shoprunner.privacy_policy_text",defaultMessage:"By activating, you agree to ShopRunner's {terms} and {privacy_policy}."},privacy_policy:{id:"shoprunner.privacy_policy",defaultMessage:"Privacy policy"},terms:{id:"shoprunner.terms",defaultMessage:"Terms"}}),A={width:`${42.25*f.GRID_UNIT}px`},I={width:`${42.25*f.GRID_UNIT}px`,margin:`${4*f.GRID_UNIT}px ${4*f.GRID_UNIT}px ${5*f.GRID_UNIT}px 0`};class M extends d.a.Component{constructor(...e){super(...e),l()(this,"onTryButton",e=>{e.stopPropagation();const t=this.props,a=t.computeActionData,n=t.onSuccess;(0,t.onTryButton)(e),n({i13nModel:{actionData:a(),interactionType:Object(C.j)(e)}})}),l()(this,"onMayBeLater",e=>{this.props.onClose({i13nModel:{mKey:"card_"+this.props.cardName+"_later",interactionType:Object(C.j)(e)},userResponse:this.props.userResponse?this.props.userResponse:null})}),l()(this,"onClose",e=>{this.props.onClose({i13nModel:{interactionType:Object(C.j)(e)}})}),l()(this,"getHeader",()=>{return"object"==typeof this.props.headerText?{ariaLabel:(0,this.context.intl.formatMessage)(this.props.headerText),content:d.a.createElement(u.FormattedMessage,this.props.headerText)}:{ariaLabel:this.props.headerText,content:this.props.headerText}}),l()(this,"getBody",()=>{const e=this.context.intl.formatMessage,t=this.props.bodyText,a=t.values,n=r()(t,["values"]);return"object"==typeof this.props.bodyText?{ariaLabel:e(n,a),content:d.a.createElement(u.FormattedHTMLMessage,this.props.bodyText)}:{ariaLabel:this.props.bodyText,content:this.props.bodyText}}),l()(this,"_renderShopRunner",(e,t)=>{const a=this.context.intl.formatMessage;return d.a.createElement("div",{className:e.cardContainerWrapper},d.a.createElement("div",{className:e.noImageContainer},d.a.createElement("div",{className:e.messageContainerWrapper},d.a.createElement("div",{className:e.messageContainer},d.a.createElement("div",{className:e.body,"aria-label":t.ariaLabel},t.content))),d.a.createElement("div",{className:e.actionContainer},d.a.createElement("span",{className:e.policyContainer},d.a.createElement(u.FormattedMessage,s()({},N.privacy_policy_text,{values:{terms:d.a.createElement("a",{href:b.ae,target:"_blank",className:e.policyContainer},d.a.createElement("b",null,d.a.createElement(u.FormattedMessage,N.terms))),privacy_policy:d.a.createElement("a",{href:b.Nc,target:"_blank",className:e.policyContainer},d.a.createElement("b",null,d.a.createElement(u.FormattedMessage,N.privacy_policy)))}}))),d.a.createElement(p.a,{style:I,onClick:this.onTryButton,title:a(this.props.tryButtonText),"data-test-id":"learn-more-cue-button",kind:h.a.PRIMARY,"aria-label":a(this.props.tryButtonText)},d.a.createElement(u.FormattedMessage,this.props.tryButtonText)))),d.a.createElement("img",{className:e.image,src:this.props.cardImgUrl}))})}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.pngImageUrl,n=t.isShopRunner,s=t.isShopRunnerPostSignUp,i=t.useCueInMessageRead,r=_()(T.a,{useCueInMessageRead:i,isShopRunner:n,isShopRunnerPostSignUp:s}),o=this.getHeader(),l=this.getBody();return d.a.createElement("div",{className:r.cueContainer,"data-test-id":this.props.cardName},n||s?null:d.a.createElement("div",{className:r.svgStyle},a?d.a.createElement("img",{className:r.image,src:a}):null),n&&!s?this._renderShopRunner(r,l):d.a.createElement("div",{className:r.cueContainerWrapper},n?d.a.createElement("img",{className:r.image,src:a}):null,d.a.createElement("div",{className:r.messageContainerWrapper},d.a.createElement("div",{className:r.messageContainer},n?null:d.a.createElement("div",{className:r.header,"aria-label":o.ariaLabel},o.content),d.a.createElement("div",{className:r.body,"aria-label":l.ariaLabel},l.content)),this.props.useCloseIcon?d.a.createElement("div",{className:r.closeContainer},d.a.createElement(E.a,{"data-test-id":"learn-more-cue-close-icon",onClick:this.onClose,kind:g.b.CLOSE,size:g.d.XXXS,title:e(N.close)})):null,this.props.isShopRunnerPostSignUp?d.a.createElement("div",{className:r.actionContainer},d.a.createElement("a",{onClick:this.onTryButton,title:e(this.props.tryButtonText),"data-test-id":"learn-more-button",kind:h.a.PRIMARY,"aria-label":e(this.props.tryButtonText)},d.a.createElement(u.FormattedMessage,this.props.tryButtonText))):null),d.a.createElement("div",{className:r.actionContainer},this.props.isShopRunnerPostSignUp?null:d.a.createElement(p.a,{style:n?A:{},onClick:this.onTryButton,title:e(this.props.tryButtonText),"data-test-id":"learn-more-cue-button",kind:h.a.PRIMARY,"aria-label":e(this.props.tryButtonText)},d.a.createElement(u.FormattedMessage,this.props.tryButtonText)),this.props.useCueInMessageRead?null:d.a.createElement(p.a,{onClick:this.onMayBeLater,title:e(this.props.mayBeLaterButtonText),"data-test-id":"maybe-later-cue-button",kind:h.a.CHROMELESS,"aria-label":e(this.props.mayBeLaterButtonText)},d.a.createElement(u.FormattedMessage,this.props.mayBeLaterButtonText)))))}}l()(M,"contextTypes",{intl:u.intlShape.isRequired}),l()(M,"defaultProps",{useCueInMessageRead:!1,computeActionData:()=>{}}),t.a=Object(S.a)(M)},function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(480),r=a.n(i),o=a(6),l=a(3),c=a.n(l),d=a(8),m=a.n(d),_=a(1273),u=a(1346),p=a(30),h=a(173);const g=Object(o.defineMessages)({stationery_placeholder:{id:"stationery_placeholder",defaultMessage:"Start here ..."},msg_footer:{id:"msg_footer",defaultMessage:"{mailBrandNameString} Stationery"},clear_stationery:{id:"clear_stationery",defaultMessage:"Clear stationery"},clear_default:{id:"clear_default",defaultMessage:"Clear default"},vday_text:{id:"vday_text",defaultMessage:"Spread the love across your inboxes."},multi_mailbox_text:{id:"multi_mailbox_text",defaultMessage:"Connect and send a message from Gmail, Outlook, AOL, and more!"}}),E="https://s.yimg.com/tq/stationery/150917194743/img/pp_logo.png",b="https://overview.mail.yahoo.com/features/multiplemailboxes",C="https://overview.mail.yahoo.com/features/stationery",f='url("https://pclick.internal.yahoo.com/p/s=1197769629&t=qVvyLzQyVO")';class S extends s.a.Component{constructor(...e){super(...e),c()(this,"createMarkup",()=>{return{__html:this.props.themeObj.messageText}}),c()(this,"buildImageUrl",e=>{const t=this.props.themeObj;return e&&t.mobstorPath+t.themeVersion+"/"+t.uniqueThemeName+"/"+e}),c()(this,"isUnoTemplate",()=>{return"uno_template"===this.props.themeObj.templateName}),c()(this,"_renderUnoTopTable",()=>{const e=this.props.themeObj,t=e.themeDisplayName,a=e.topImg_width,n=this.buildImageUrl(e.topImg_src);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("img",{alt:t,className:"top-img yahoo-ignore-inline-image resImage anim",src:n,width:a,style:{display:"block",border:0,margin:"0 auto"}})))))}),c()(this,"_renderMiddleTable",()=>{const e=this.context.intl.formatMessage,t=this.props.themeObj,a=t.mainContent_style,n=t.fontFamily,i=Object(_.b)(a);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"mainContent",width:"100%",style:i},s.a.createElement("div",{style:{fontFamily:n,lineHeight:"150%",marginBottom:0,marginTop:0}},s.a.createElement("div",{id:"middleBody","data-ph":e(g.stationery_placeholder),contentEditable:"true",dangerouslySetInnerHTML:this.createMarkup()}))))))}),c()(this,"_renderUnoBottomTable",()=>{const e=this.props.themeObj,t=e.themeDisplayName,a=e.bottomImg_width,n=this.buildImageUrl(e.bottomImg_src);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("img",{alt:t,className:"yahoo-ignore-inline-image resImage",src:n,width:a,style:{display:"block",border:0,margin:"0 auto"}})))))}),c()(this,"_renderBodyTable",()=>{const e=this.props.themeObj,t=e.themeDisplayName,a=e.clickgenre,n=e.template_width,i=e.background_color,r=e.wrapperTable_style,o=e.bannerTop_style,l=e.topImg_src,c=e.topImg_size,d=Object(_.b)(r),m=this.buildImageUrl(l);let u={};return o&&(u=Object(_.b)(o)),s.a.createElement("table",{className:`wrapper ${this.isUnoTemplate()?"uno":"motif"}`+" yahoo-ignore-table","data-test-id":"stationery-wrapper",clickgenre:a,cellPadding:"0",cellSpacing:"0",width:n,style:Object.assign({backgroundColor:`${i}`,margin:"0 auto",maxWidth:"800px"},d)},s.a.createElement("tbody",null,s.a.createElement("tr",null,this.isUnoTemplate()?s.a.createElement("td",{className:"mobileBannerTop"},this._renderUnoTopTable()):s.a.createElement("td",{className:"bannerTop",width:"100%",style:u},s.a.createElement("img",{alt:t,className:"top-img yahoo-ignore-inline-image resImage anim",src:m,width:c,style:{display:"block",border:0,margin:"0 auto"}}))),s.a.createElement("tr",null,s.a.createElement("td",{style:{verticalAlign:"top"}},this._renderMiddleTable())),this.isUnoTemplate()&&s.a.createElement("tr",null,s.a.createElement("td",{className:"mobileBannerBottom",style:{verticalAlign:"bottom"}},this._renderUnoBottomTable()))))}),c()(this,"_renderFooterTable",()=>{const e=this.context.intl,t=e.formatMessage,a=e.locale,n=this.context.mailBrandNameString||t(h.a.mailBrandName),i="en"===Object(u.a)(a),r=this.props.themeObj,o=r.valentineDay,l=r.actionStyle,c=r.creditStyle,d=r.yahooStationery&&i;return s.a.createElement("table",{width:"100%",className:"bottomTable yahoo-ignore-table",style:{margin:"0 auto",maxWidth:"800px"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,"Paperless Post"===r.themeProviderName&&s.a.createElement("td",{height:"40",className:"footer",style:c},s.a.createElement("a",{href:"https://www.paperlesspost.com/ystationery?utm_medium=referral&utm_source=yahoo_birdlogo&utm_campaign=birdlogo&pp_channel=yahoo&pp_theme="+`${r.uniqueThemeName}&lang=${r.senderLang}`,target:"_blank",rel:"noopener"},s.a.createElement("img",{src:E,alt:"Paperless Post",className:"yahoo-ignore-inline-image",width:"57",height:"32",style:{cursor:"pointer !important"}}))),o&&s.a.createElement("td",{height:"40",className:"footer",style:c},s.a.createElement("div",{style:{fontSize:"13px",color:"#444"}},t(g.vday_text),s.a.createElement("br",null),s.a.createElement("a",{href:b,style:{textDecoration:"none",cursor:"pointer"},rel:"noopener"},t(g.multi_mailbox_text)))),s.a.createElement("td",{height:"40",className:"footer",style:l},s.a.createElement("span",{className:"btn-clear btn-clear-stationery",title:t(g.clear_stationery)}),s.a.createElement("span",{className:"btn-clear btn-clear-divider btn-clear-default-divider"}),s.a.createElement("span",{className:"btn-clear btn-clear-default",title:t(g.clear_default)}),d&&s.a.createElement("span",{className:"btn-clear btn-clear-divider"}),d&&s.a.createElement("span",{className:"promotion-url"},s.a.createElement("a",{href:C,target:"_blank",className:p.HYPERLINK_PLUGIN_IGNORE_CLASS,style:{display:"block",lineHeight:"24px",fontSize:"12px",fontFamily:"Georgia, Timew New Roman, serif",fontStyle:"italic",color:"#999999"},rel:"noopener"},t(g.msg_footer,{mailBrandNameString:n}),s.a.createElement("span",{className:"ytrackb",style:{display:"block",width:1,height:1,background:f}})))))))})}render(){return s.a.createElement("table",{className:"wrapper-hf yahoo-ignore-table",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,this._renderBodyTable())),s.a.createElement("tr",null,s.a.createElement("td",{height:"40"},this._renderFooterTable()))))}}c()(S,"contextTypes",{intl:o.intlShape.isRequired,mailBrandNameString:m.a.string});var y=S;var T=a(230),N=a(7);a.d(t,"a",function(){return v});const A='[class*="rte-stationery-core"]',I='[id$="middleBody"]',M=`[class$="${T.a}"]`;class v{constructor(e){this.rte=e.rte,this.htmlAnnotations=e.htmlAnnotations,this.onThemeChange=e.onThemeChange,this.onDefaultThemeChange=e.onDefaultThemeChange,this.context=e.context,this.commands={[p.ToolbarActions.UPDATE_STATIONERY]:{action:(e,t)=>{this.update(t)},worksInNonEditable:!0}},this.stationeryUsed=!1,this.fontFamily=e.fontFamily,this.rtl=e.rtl,this.rte.element.addEventListener("click",this.handleRTEClick.bind(this))}static makeNonEditable(e){if(e.querySelector(A)){const t=e.querySelector(I);t.contentEditable=!1,t.setAttribute("contenteditable",!1)}}getStationeryMarkup(e,t){const a=this.context.intl.lang,n=t.isDefaultTheme?"showClearDefault":"",i=e.querySelector(I)||e;return t.yahooStationery=!0,t.valentineDay=!1,t.clickgenre=t.clickgenre?t.clickgenre:"",t.actionStyle={textAlign:this.rtl?"left":"right",backgroundColor:"#ffffff"},t.creditStyle={textAlign:this.rtl?"right":"left",backgroundColor:"#ffffff"},t.senderLang=a,t.messageText=i.innerHTML,t.fontFamily=this.fontFamily,function(e,t){return`<div class="rte-stationery-core ${e}" contenteditable="false" >`+'\x3c!--[if gte mso 9]><table class="yahoo-ignore-table" align="center" width="800" ><![endif]--\x3e'+`${r.a.renderToStaticMarkup(s.a.createElement(o.IntlProvider,window.AppIntl,s.a.createElement(y,{themeObj:t})))}`+'\x3c!--[if gte mso 9]></table><img src="https://pclick.internal.yahoo.com/p/s=1197769629&t=qVvyLzQyVO" width="1" height="1"/><![endif]--\x3e</div>'}(n,t)}update(e){e?this.applyTheme(e):this.clearStationery()}applyTheme(e){const t=this.rte.element,a=this.rte.getRawHTML(),n=Object(T.c)(a,this.htmlAnnotations),s=n.quote,i=n.nonQuote,r=document.createElement("div");r.innerHTML=i,this.rte.setHTML(`${this.getStationeryMarkup(r,e)} ${s}`),this.stationeryUsed=!0;const o=t.querySelector(A),l=t.querySelector(M);if(t.setAttribute("contenteditable",!1),t.contentEditable=!1,o){const e=t.querySelector(I);e.setAttribute("contenteditable",!0),e.contentEditable=!0}l&&(l.setAttribute("contenteditable",!0),l.contentEditable=!0)}checkAndSetDraft(){const e=this.rte.element,t=e.querySelector(A),a=e.querySelector(M);if((!a||!a.contains(t))&&t){const t=e.querySelector(I);t.contentEditable=!0,e.contentEditable=!1,t.setAttribute("contenteditable",!0),e.setAttribute("contenteditable",!1),this.stationeryUsed=!0,a&&(a.contentEditable=!0,a.setAttribute("contenteditable",!0))}}clearStationery(){const e=this.rte.element,t=e.querySelector(I),a=e.querySelector(M);if(!a||!a.contains(t)){if(t){const a=Object(T.c)(e.innerHTML,this.htmlAnnotations);this.rte.setHTML(t.innerHTML+a.quote),this.stationeryUsed=!1}e.contentEditable=!0,e.setAttribute("contenteditable",!0)}}isStationeryUsed(){return this.stationeryUsed}handleRTEClick(e){const t=e.target,a=this.rte.element.querySelector(M);if(a&&a.contains(t))return;if(t.className.indexOf("btn-clear-stationery")>-1)return this.clearStationery(),this.onThemeChange(""),void this.rte.contentChanged({type:p.EDITOR_EVENTS.stationery_cleared,eventData:{sec:N.g.COMPOSE_MSG}});if(t.className.indexOf("btn-clear-default")>-1)return this.clearStationery(),this.onDefaultThemeChange(""),void this.rte.contentChanged({type:p.EDITOR_EVENTS.default_stationery_cleared,eventData:{sec:N.g.COMPOSE_MSG}});const n=this.rte.element.querySelector(A);if(n&&(n===t||n.contains(t))){n.querySelector(I).focus()}}}},function(e,t,a){"use strict";var n=a(31),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(13),_=a.n(m),u=a(6),p=a(15),h=a(19),g=a(5),E=a(16),b=a(102),C=a(0),f=a(7),S=a(223),y=a(204),T=a(444),N=a(1347),A=a.n(N),I=a(4),M=a.n(I),v=a(39),D=a.n(v),O=a(1582),k=a.n(O),R=a(65),w=a(20),P=a(28),x=a(12),F=a(122),L=a(17),B=a(116),U=a(11);class H extends c.Component{constructor(e){super(e),this.timerId=0,this.timerId3p=0,this.beaconSent=!1,this.beacon3pSent=!1,this.clearTimers=this.clearTimers.bind(this),this.sendGeminiBeacon=this.sendGeminiBeacon.bind(this),this.send3pBeacon=this.send3pBeacon.bind(this),this.startTimers=this.startTimers.bind(this)}clearTimers(){this.timerId&&!this.beaconSent&&(clearTimeout(this.timerId),this.timerId=0),this.timerId3p&&!this.beacon3pSent&&(clearTimeout(this.timerId3p),this.timerId3p=0)}sendGeminiBeacon(){const e=this.props.beacon;Object(B.a)(e),this.beaconSent=!0}send3pBeacon(){const e=this.props.staticView3p;Object(B.a)(e),this.beacon3pSent=!0}startTimers(){const e=this.props,t=e.duration,a=e.duration3p,n=e.staticView3p;!this.timerId&&!this.beaconSent&&t>=0&&(this.timerId=setTimeout(this.sendGeminiBeacon,1e3*t)),!this.timerId3p&&!this.beacon3pSent&&a>=0&&n&&(this.timerId3p=setTimeout(this.send3pBeacon,1e3*a))}componentWillReceiveProps({isAppVisible:e}){e!==this.props.isAppVisible&&(e?this.startTimers():this.clearTimers())}componentDidMount(){const e=this.props,t=e.partialView,a=e.isAppVisible;this.adTime=Date.now(),t&&Object(B.a)(t),a&&this.startTimers()}componentWillUnmount(){this.clearTimers()}render(){const e=this.props;return d.a.createElement("a",{rel:"noreferrer",onClick:e.onClick,className:this.props.className,href:e.ctaURL,target:"_blank"},this.props.children)}}H.defaultProps={duration3p:-1,continuous3p:!1,percentage3p:-1,partialView:"",staticView3p:"",className:"",onClick:()=>{}};var j=Object(p.connect)(e=>{return{isAppVisible:(0,Object(U.b)(e).isAppVisible)()}})(H),G=a(434),W=a.n(G);const Z=()=>{},V=_()(k.a),q={margin:`0 ${2*x.GRID_UNIT}px 0 0`};class z extends d.a.Component{constructor(){super(),r()(this,"_stopPropagation",e=>{e.stopPropagation(),e.preventDefault()}),r()(this,"_handleClose",(e,{mKey:t=f.e.COUPON_REC_CLOSED,sec:a=f.g.CPN_RECOMMENDATION,actionData:n={}}={})=>{const s=this.props,i=s.onClose,r=s.couponRecommendationsClosed,o=s.cardMid;this._stopPropagation(e),r({cardMid:o,i13nModel:{mKey:t,sec:a,actionData:n}}),i()}),r()(this,"_handleViglinkClick",(e,{index:t,cardMid:a,clipped:n}={})=>{(0,this.props.couponRecommendationsViglinkClicked)({cardMid:a,i13nModel:{mKey:f.e.COUPON_VIGLINK_CLICKED,sec:f.g.CPN_RECOMMENDATION,actionData:{index:t,cardMid:a,clipped:n}}})}),r()(this,"_getCouponClipButton",({cardMid:e,schemaId:t,clipped:a,index:n})=>{const s=_()(k.a),i=this.props,r=i.clip,o=i.unclip;return a?d.a.createElement(h.a,{className:s.buttonClipped,onClick:a=>{this._stopPropagation(a),o({cardMid:e,schemaId:t,i13nModel:{mKey:f.e.COUPON_UNCLIPPED,sec:f.g.CPN_RECOMMENDATION,actionData:{index:n}}})},"data-test-id":"unsave-coupon-btn"},d.a.createElement(E.b,{kind:g.b.SCISSORS,size:g.d.XXS,colorState:g.a.INVERTED}),d.a.createElement("span",{className:s.buttonText},d.a.createElement(u.FormattedMessage,{id:"coupon_card.unsave",defaultMessage:"Saved!"}))):d.a.createElement(h.a,{className:s.buttonUnclipped,onClick:a=>{this._stopPropagation(a),r({cardMid:e,schemaId:t,i13nModel:{mKey:f.e.COUPON_CLIPPED,sec:f.g.CPN_RECOMMENDATION,actionData:{index:n}}})},"data-test-id":"save-coupon-btn"},d.a.createElement(E.b,{kind:g.b.ADD,size:g.d.M,colorState:g.a.SUCCESS}),d.a.createElement("span",{className:s.buttonTextUnclipped},d.a.createElement(u.FormattedMessage,{id:"deal_card.save",defaultMessage:"Save deal"})))}),r()(this,"_adChoiceClicked",(e,t)=>{e.stopPropagation(),Object(F.a)(t)}),r()(this,"_adClick",e=>{e.stopPropagation(),this.props.couponRecommendationsAdClicked({i13nModel:{mKey:f.e.PENCIL_AD_CLICKED,sec:f.g.CPN_RECOMMENDATION}})}),r()(this,"_getCouponAd",({adImg:e,adSource:t,creativeId:a,clickUrl:n,callToAction:s,isBold:i,aboutAdUrl:r,adHeadline:o,rules:{viewabilityDefStatic:{c:l=!1,d:c=-1,p:m=-1}={},viewabilityDefStatic3P:[{c:p=!1,d:h=-1,p:g=-1}={}]=[]}={},actionUrls:{PARTIAL_VIEW:[E=""]=[],STATIC_VIEW_3P:[b=""]=[]}={},beacon:C=""})=>{const f=_()(k.a);return a?d.a.createElement(j,{continuous:!!l,duration:c,beacon:C,partialView:E,staticView3p:b,percentage:m,continuous3p:p,duration3p:h,percentage3p:g,onClick:e=>this._adClick(e),key:a,creativeId:a,className:f.adRowContainer,"data-test-id":"coupon-recommendations-ad-container",ctaURL:n},d.a.createElement("div",{"data-test-id":"coupon-ad-vendor"},d.a.createElement("svg",{className:f.avatar,width:x.AVATAR_SIZE_COMPACT,height:x.AVATAR_SIZE_COMPACT,viewBox:"0 0 20 20"},d.a.createElement("image",{ref:"image",xlinkHref:e,width:"20",height:"20",clipPath:"url(#clip-orb)"}))),d.a.createElement("div",{className:f.content},d.a.createElement("div",{className:f.contentRow},d.a.createElement("span",{className:f.vendorName},t),d.a.createElement("div",{rel:"noreferrer","data-test-id":"coupon-ad-sponsored",className:f.sponsored,href:r,target:"_blank",onClick:e=>this._adChoiceClicked(e,r)},d.a.createElement(u.FormattedMessage,{id:"coupon_card_rec_ad.sponsored_message",defaultMessage:"AD"}))),d.a.createElement("span",{className:f.description},o)),this._getAdButton({callToAction:s,isBold:i,aboutAdUrl:r,clickUrl:n})):null}),r()(this,"_getAdButton",({callToAction:e,isBold:t,aboutAdUrl:a})=>{const n=_()(k.a,{boldButton:t});return d.a.createElement("div",{className:n.couponAdButton,"data-test-id":"coupon-ad-btn"},d.a.createElement("div",{rel:"noreferrer","data-test-id":"coupon-ad-button-icon",href:a,onClick:e=>this._adChoiceClicked(e,a),target:"_blank",className:n.couponAdIconWrapper},d.a.createElement(E.b,{kind:g.b.SPONSORED,size:g.d.M,colorState:g.a.SUCCESS})),d.a.createElement("span",{className:n.buttonTextUnclipped},e||d.a.createElement(u.FormattedMessage,{id:"coupon_card_ad.learn_more",defaultMessage:"Learn More"})))}),r()(this,"_getCouponRecommendationsItem",(e=[])=>{const t=this.props.vendorIcon;return e.map((a,n)=>{let s=a.cmid,i=void 0===s?"":s,r=a.schemaId,o=void 0===r?"":r,l=a.description,c=void 0===l?"":l,m=a.domain,u=void 0===m?"":m,p=a.email,h=void 0===p?"":p,g=a.expirationTime,E=(g=void 0===g?{}:g).dateDiff,b=void 0===E?-1:E,C=g.isInferred,f=a.clipped,S=void 0!==f&&f,T=a.isAd,N=void 0!==T&&T,A=a.dealLink,I=D()(a,["cmid","schemaId","description","domain","email","expirationTime","clipped","isAd","dealLink"]);const v=n===e.length-1||e[n+1].isAd,O=_()(k.a,{noBottomBorder:v});return N?this._getCouponAd(M()({},I)):d.a.createElement("a",{href:A,target:"_blank",key:i,onClick:e=>this._handleViglinkClick(e,{cardMid:i,schemaId:o,clipped:S,index:n})},d.a.createElement("div",{className:O.rowContainer,"data-test-id":"coupon-recommendations-container"},t?d.a.createElement("div",{"data-test-id":"coupon-vendor-xavatar"},d.a.createElement(R.d,{className:O.avatar,contact:{email:h},size:R.c.C})):null,d.a.createElement("div",{className:O.content},d.a.createElement("div",{className:O.contentRow},d.a.createElement("span",{className:O.vendorName},u),d.a.createElement("span",{className:O.expirationTime},d.a.createElement(y.a,{daysUntilExpiry:b,isInferred:C}))),d.a.createElement("span",{className:O.description},c)),this._getCouponClipButton({cardMid:i,schemaId:o,clipped:S,index:n})))})}),r()(this,"_goToCouponsView",()=>{const e=this.context.navigateTo,t=this.props,a=t.accountId,n=t.onClose;(0,t.couponRecommendationsClosed)({i13nModel:{mKey:f.e.COUPONS_SMARTVIEW,sec:f.g.CPN_RECOMMENDATION}}),n(),e({route:Object(L.w)(C.Kd.COUPONS,{accountIds:a})})}),this.dispatchOnShow=null}componentDidMount(){this.dispatchOnShow=null}render(){const e=(0,this.context.intl.formatMessage)({id:"dualActionDialog.close",description:"Tooltip for a button that closes the dialog.",defaultMessage:"Close"}),t=this.props,a=t.couponRecommendations,n=t.couponRecommendationsOpened,s=t.cardMid;return null===this.dispatchOnShow&&(this.dispatchOnShow=W()(({couponRecommendations:e,couponRecommendationsOpened:t,cardMid:a})=>{t({i13nModel:{mKey:f.e.COUPON_REC_OPENED,sec:f.g.CPN_RECOMMENDATION,actionData:{recommendationsShown:e.filter(({isAd:e=!1})=>!e).map(({cmid:e})=>e),cardMid:a}}})})),this.dispatchOnShow({couponRecommendations:a,couponRecommendationsOpened:n,cardMid:s}),d.a.createElement("div",{className:V.dialog,"data-test-id":"coupons-rec-dialog"},d.a.createElement("div",{className:V.close},d.a.createElement(w.a,{onClick:this._handleClose,kind:g.b.CLOSE,size:g.d.XXXS,title:e,"aria-label":e,"data-test-id":"coupons-rec-close-btn"})),d.a.createElement("div",{className:V.title,"data-test-id":"coupons-rec-title"},d.a.createElement(u.FormattedMessage,{id:"coupon_recommendations.title",defaultMessage:"Weve found some expiring deals you may be interested in."})),this._getCouponRecommendationsItem(a),d.a.createElement("div",{className:V.controls},d.a.createElement(h.a,{onClick:this._handleClose,style:q,"data-test-id":"coupons-rec-primary-btn"},d.a.createElement(u.FormattedMessage,{id:"coupon_recommendations.done",defaultMessage:"Done"})),d.a.createElement(h.a,{onClick:this._goToCouponsView,kind:P.a.SECONDARY,style:q,"data-test-id":"coupons-rec-secondary-btn"},d.a.createElement(u.FormattedMessage,{id:"coupon_recommendations.goToView",defaultMessage:"Go to the Deals view"}))))}}r()(z,"contextTypes",{intl:u.intlShape.isRequired,navigateTo:l.a.func}),r()(z,"defaultProps",{onPrimaryButtonClick:Z,onSecondaryButtonClick:Z,onClose:Z});var Y=Object(p.connect)(S.c,S.d)(z),K=a(75);a.d(t,"b",function(){return Q});const X=()=>{},Q=Object(u.defineMessages)({month_0:{id:"coupon_card.january",defaultMessage:"JAN"},month_1:{id:"coupon_card.february",defaultMessage:"FEB"},month_2:{id:"coupon_card.march",defaultMessage:"MAR"},month_3:{id:"coupon_card.april",defaultMessage:"APR"},month_4:{id:"coupon_card.may",defaultMessage:"MAY"},month_5:{id:"coupon_card.june",defaultMessage:"JUN"},month_6:{id:"coupon_card.july",defaultMessage:"JUL"},month_7:{id:"coupon_card.august",defaultMessage:"AUG"},month_8:{id:"coupon_card.september",defaultMessage:"SEP"},month_9:{id:"coupon_card.october",defaultMessage:"OCT"},month_10:{id:"coupon_card.november",defaultMessage:"NOV"},month_11:{id:"coupon_card.december",defaultMessage:"DEC"},save:{id:"deal_card.save",defaultMessage:"Save deal"},sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"},unsave:{id:"coupon_card.unsave",defaultMessage:"Saved!"},unusualDiscount:{id:"coupon_card.unusualDiscount",defaultMessage:"Unusual discount"}});class J extends d.a.Component{constructor(...e){super(...e),r()(this,"state",{showRecommendations:!1}),r()(this,"_getDateInfo",()=>{const e=this.props.expirationTime,t=e.dateDiff,a=e.isInferred;return{day:e.date,month:(0,this.context.intl.formatMessage)(Q[`month_${e.month}`]),dateDiff:t,isInferred:a}}),r()(this,"_hideCouponRecommendations",()=>{this.setState({showRecommendations:!1})}),r()(this,"_showCouponRecommendations",()=>{const e=this.props;return this.state.showRecommendations&&e.hasRecommendations&&e.showRecommendationsModal?d.a.createElement(b.a,{onOuterClick:X,onClose:this._hideCouponRecommendations},d.a.createElement(Y,{cardMid:e.cmid,parentMessageId:e.parentMessageId,onClose:this._hideCouponRecommendations})):null}),r()(this,"_handleAffiliateLinkClick",(e,t)=>{e.stopPropagation();const a=this.props,n=a.cmid,i=a.contactLink,r=a.dealLink,o=a.viglinkClicked,l=a.unusualDiscountViglinkClicked,c=a.parentMessageId,d=a.showPriceGrabberWrapperLink,m=a.openPriceGrabberLink;if(a.unusualDiscount){const e=a.fromEmail.split("@"),t=s()(e,2);l({i13nModel:{mKey:f.e.UNUSUAL_DISCOUNT_COUPON_CARD_VIGLINK_CLICKED,sec:f.g.MSG_BODY,actionData:{url:r||i,sndr:t[1],mid:c,cardMid:n,reason:{featurefamily:C.sb.IC,featurename:C.ub.UNUSUAL_DISCOUNT_EXISTS}}}})}const _={mKey:t||f.e.COUPON_CARD_VIGLINK_CLICKED,sec:f.g.MSG_BODY,actionData:{url:r||i,cardMid:n,featurefamily:C.sb.IC}};d?m({i13nModel:_}):o({i13nModel:_})}),r()(this,"unclipHandler",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,a=t.cmid,n=t.schemaId,s=t.unclip;this.setState({showRecommendations:!1}),s({cardMid:a,schemaId:n,i13nModel:{mKey:f.e.COUPON_UNCLIPPED,sec:f.g.MSG_BODY}})}),r()(this,"clipHandler",e=>{e.stopPropagation(),e.preventDefault();const t=this.props,a=t.clip,n=t.cmid,s=t.schemaId;t.unusualDiscount&&a({cardMid:n,schemaId:s,i13nModel:{mKey:f.e.UNUSUAL_DISCOUNT_COUPON_CLIPPED,sec:f.g.MSG_BODY,actionData:{reason:{featurefamily:C.sb.IC,featurename:C.ub.UNUSUAL_DISCOUNT_EXISTS}}},recommendations:!0}),a({cardMid:n,schemaId:s,i13nModel:{mKey:f.e.COUPON_CLIPPED,sec:f.g.MSG_BODY},recommendations:!0}),this.setState({showRecommendations:!0})}),r()(this,"renderBrandLogo",e=>{const t=this.props,a=t.fromEmail,n=t.description,s=t.showPriceGrabberWrapperLink,i=t.dealLink||t.contactLink;return(t.viglinkEnabled||s)&&i?d.a.createElement("a",{target:"_blank",href:s?Object(K.b)(i,C.Lc,"priceGrabber"):Object(K.b)(i,C.G),rel:"noreferrer",onClick:e=>this._handleAffiliateLinkClick(e,s?f.e.COUPON_BRAND_PRICEGRABBER_CLICKED:f.e.COUPON_BRAND_VIGLINK_CLICKED),"data-test-id":"coupon_brand_logo",className:e.brandLogo,id:"coupon-brand-logo",title:n},d.a.createElement(R.d,{contact:{email:a},size:R.c.MEDIUM_PLUS,useFallbackImage:!1})):d.a.createElement("div",{"data-test-id":"coupon_brand_logo",className:e.brandLogo},d.a.createElement(R.d,{contact:{email:a},size:R.c.MEDIUM_PLUS,useFallbackImage:!1}))}),r()(this,"handleCouponBodyClick",(e,t)=>{this.props.showPriceGrabberWrapperLink?(window.open(Object(K.b)(t,C.Lc,"priceGrabber"),"_blank","noreferrer"),this._handleAffiliateLinkClick(e,f.e.COUPON_BODY_PRICEGRABBER_CLICKED)):(window.open(Object(K.b)(t,C.G,""),"_blank","noreferrer"),this._handleAffiliateLinkClick(e,f.e.COUPON_BODY_VIGLINK_CLICKED))})}render(){const e=this.props,t=e.description,a=e.clipped,n=e.theme,s=e.dealLink,i=e.contactLink,r=e.viglinkEnabled,o=e.fullWidth,l=e.unusualDiscount,m=e.isUnusualDiscount,u=e.isEnhancedCouponCard,p=e.showPriceGrabberWrapperLink,b=this.context.intl.formatMessage,S=_()(A.a,{theme:n,fullWidth:o,isEnhancedCouponCard:u}),N=this._getDateInfo(),I=N.day,M=N.month,v=N.dateDiff,D=N.isInferred,O=s||i,k=u&&(r||p)&&O;return d.a.createElement("div",{onClick:e=>k?this.handleCouponBodyClick(e,O):X,title:k?t:null,"data-test-id":"coupon_card",className:S.container},(()=>d.a.createElement(c.Fragment,null,u?this.renderBrandLogo(S):d.a.createElement("div",{"data-test-id":"coupon_card_date",className:S.date},d.a.createElement("div",{className:S.day},I),d.a.createElement("div",{className:S.month},M)),d.a.createElement("div",{id:"coupon-card-info","data-test-id":"coupon_card_info",className:m&&l?S.cardInfoUD:S.cardInfo},d.a.createElement("div",{className:S.cardDetails},m&&l?d.a.createElement(T.a,{unusualDiscount:l}):null,(r||p)&&O?d.a.createElement("a",{target:"_blank",href:p?Object(K.b)(O,C.Lc,"priceGrabber"):Object(K.b)(O,C.G),title:t,rel:"noreferrer",className:l?S.cardDealLinkUnusualDiscount:S.cardDealLink,onClick:e=>this._handleAffiliateLinkClick(e,p?f.e.COUPON_TEXT_PRICEGRABBER_CLICKED:f.e.COUPON_CARD_VIGLINK_CLICKED),"data-test-id":"viglink-anchor"},t):d.a.createElement("div",{className:l?S.cardDescriptionWithUnusualDiscount:S.cardDescription},t),d.a.createElement("div",{className:l?S.expiryTimeUD:S.expiryTime},d.a.createElement(y.a,{daysUntilExpiry:v,isInferred:D}))),d.a.createElement("div",{"data-test-id":"coupon_card_button",className:S.buttonContainer},a?d.a.createElement(h.a,{className:S.buttonClipped,"data-test-id":"unsave-coupon-btn",onClick:this.unclipHandler},d.a.createElement(E.b,{kind:g.b.SCISSORS,size:g.d.XXS,colorState:g.a.INVERTED}),d.a.createElement("span",{className:S.buttonText},b(Q.unsave))):d.a.createElement(h.a,{className:S.buttonUnclipped,"data-test-id":"save-coupon-btn",onClick:this.clipHandler},d.a.createElement(E.b,{kind:g.b.ADD,size:g.d.M,colorState:g.a.SUCCESS}),d.a.createElement("span",{className:S.buttonTextUnclipped},b(Q.save))))),this._showCouponRecommendations()))())}}r()(J,"contextTypes",{intl:u.intlShape.isRequired}),r()(J,"defaultProps",{hasRecommendations:!1,fromEmail:"",openPriceGrabberLink:X});t.a=Object(p.connect)(S.b,S.d)(J)},function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(29),d=a.n(c),m=a(6),_=a(13),u=a.n(_),p=a(15),h=a(1367),g=a.n(h),E=a(1368),b=a.n(E),C=a(1308),f=a(1309),S=a(1272),y=a.n(S),T=a(0);a(9);const N=Object(m.defineMessages)({wideList:{id:"wide-list-preview-pane",defaultMessage:"List"},rightPane:{id:"right-preview-pane",defaultMessage:"Right"},bottomPane:{id:"bottom-preview-pane",defaultMessage:"Bottom"}}),A={NO:N.wideList,RIGHT:N.rightPane,BOTTOM:N.bottomPane},I=u()(y.a,{selected:!0});function M({previewPaneSetting:e,onChange:t,liteVersion:a},n){const s=n.intl.formatMessage,i=u()(y.a,{liteVersion:a}),r=Object.keys(T.Rc).map(a=>{const n=e===T.Rc[a],r=s(A[a]);return l.a.createElement("li",{key:a,className:i.previewPaneModeContainer},l.a.createElement("label",{htmlFor:"previewPane-mode-"+a},l.a.createElement("div",{className:i.previewPaneMode,title:r},l.a.createElement("div",{className:i.blockContainer},l.a.createElement("span",{className:i["previewPane"+a]}),l.a.createElement("span",{style:"BOTTOM"===a?{display:"none"}:{},className:i["previewPane"+a]}),l.a.createElement("span",{style:"BOTTOM"===a?{display:"none"}:{},className:i["previewPane"+a]}),l.a.createElement("span",{style:"NO"===a?{display:"none"}:{},className:i["previewPaneDark"+a]})))),l.a.createElement("div",{className:n?I.labelTextContainer:i.labelTextContainer},l.a.createElement("input",{id:"previewPane-mode-"+a,className:i.radioButton,type:"radio",name:"previewOption",checked:n,value:T.Rc[a],onChange:t,title:r}),l.a.createElement("label",{className:i.label,htmlFor:"previewPane-mode-"+a,title:r},r)))});return l.a.createElement("div",{"data-test-id":"previewPane-mode-chooser"},l.a.createElement("ul",{className:i.previewPaneModeChooser},r))}M.contextTypes={intl:m.intlShape.isRequired};var v=M,D=a(1371),O=a.n(D);const k=Object(m.defineMessages)({slimDensity:{id:"slim-msg-density",defaultMessage:"Small"},regularDensity:{id:"regular-msg-density",defaultMessage:"Medium"},relaxedDensity:{id:"relaxed-msg-density",defaultMessage:"Large"}}),R={SLIM:k.slimDensity,NORMAL:k.regularDensity,RELAXED:k.relaxedDensity},w=u()(O.a,{selected:!0});function P({msgListDensity:e,onChange:t,liteVersion:a},n){const s=u()(O.a,{liteVersion:a}),i=n.intl.formatMessage,r=Object.keys(T.pc).map(a=>{const n=e===T.pc[a],r=i(R[a]);return l.a.createElement("li",{key:a,className:s.msgListDensityModeContainer},l.a.createElement("label",{htmlFor:"msgListDensity-mode-"+a},l.a.createElement("div",{className:s.msgListDensityMode,title:r},l.a.createElement("div",{className:s.blockContainer},l.a.createElement("span",{className:s["msgListDensity"+a]}),l.a.createElement("span",{style:"RELAXED"===a?{display:"none"}:{},className:s["msgListDensity"+a]}),l.a.createElement("span",{style:"NORMAL"===a||"RELAXED"===a?{display:"none"}:{},className:s["msgListDensity"+a]})))),l.a.createElement("div",{className:n?w.labelTextContainer:s.labelTextContainer},l.a.createElement("input",{id:"msgListDensity-mode-"+a,className:s.radioButton,type:"radio",name:"msgListDensity",checked:n,value:T.pc[a],onChange:t,title:r}),l.a.createElement("label",{className:s.label,htmlFor:"msgListDensity-mode-"+a,title:r},r)))});return l.a.createElement("div",{"data-test-id":"msgListDensity-mode-chooser"},l.a.createElement("ul",{className:s.msgListDensityModeChooser},r))}P.contextTypes={intl:m.intlShape.isRequired};var x=P,F=a(7),L=a(18),B=a(473),U=a(16),H=a(5),j=a(69),G=a(1357);const W=40,Z=Object(m.defineMessages)({tabs:{id:"tabs_aria_label",defaultMessage:"Tabs"},snippets:{id:"snippets_aria_label",defaultMessage:"Message preview"},tabsLabel:{id:"tabs_label",defaultMessage:"Message tabs"},tabsHint:{id:"tabs_option",defaultMessage:"Turn on tabs to multitask"},restoreLabel:{id:"restore_label",defaultMessage:"Always restore tabs"},restoreHint:{id:"restore_option",defaultMessage:"Restore tabs from your previous session when you sign in to Mail on a different browser or device"},restoreWarning:{id:"restore_warning",defaultMessage:"This feature is available when you have message tabs enabled."},snippetsLabel:{id:"snippets_label",defaultMessage:"Message preview"},snippetsHint:{id:"snippet_hint",defaultMessage:"Show message preview in inbox"},breakingNewsLabel:{id:"breaking_news_label",defaultMessage:"Breaking News"},breakingNewsHint:{id:"breaking_news_hint",defaultMessage:"Show Breaking News module in inbox"}});class V extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{expandButtonClicked:!1,expandButtonHovered:!1,themeSetting:this.context.getTheme(),themeModeSetting:this.context.getThemeMode()}),s()(this,"handleHoverState",e=>{this.setState({expandButtonHovered:e})}),s()(this,"handleClickToScroll",()=>{this.setState({expandButtonClicked:!0});const e=d.a.findDOMNode(this._settingsForm);this.props.handleClickToScroll(e)}),s()(this,"updateTheme",e=>{const t=this.props,a=t.liteVersion,n=t.updateTheme,s=e.currentTarget.value;if(s===this.state.themeSetting)return;const i={mKey:a?F.e.SETTINGS_POPUP_THEME:F.e.SETTINGS_THEME,sec:a?F.g.SETTINGS_POPUP:F.g.SETTINGS_INBOX_TAB,interactionType:Object(L.j)(e)};a&&(window.showSettingsPopover=!0),this.setState({themeSetting:s},()=>{this.updateThemeVariableStyles(s,this.state.themeModeSetting),n(s,i)})}),s()(this,"updateThemeMode",e=>{const t=this.props,a=t.liteVersion,n=t.updateThemeMode,s=e.currentTarget.value;if(s===this.state.themeModeSetting)return;const i={mKey:a?F.e.SETTINGS_POPUP_THEME_MODE:F.e.SETTINGS_THEME_MODE,sec:a?F.g.SETTINGS_POPUP:F.g.SETTINGS_INBOX_TAB,interactionType:Object(L.j)(e)};a&&(window.showSettingsPopover=!0),this.setState({themeModeSetting:s},()=>{this.updateThemeVariableStyles(this.state.themeSetting,s),n(s,i)})}),s()(this,"updatePreviewPane",e=>{const t=this.props,a=t.liteVersion,n=t.previewPaneSetting,s=t.updatePreviewPane,i=Number(e.currentTarget.value);i!==n&&s(i,{mKey:a?F.e.SETTINGS_POPUP_PREVIEW_PANE:F.e.SETTINGS_PREVIEW_PANE,sec:a?F.g.SETTINGS_POPUP:F.g.SETTINGS_INBOX_TAB,interactionType:Object(L.j)(e)})}),s()(this,"updateMultiTaskMode",e=>{const t=this.props,a=t.liteVersion;(0,t.updateMultiTaskMode)(!t.multiTaskModeSetting,{mKey:a?F.e.SETTINGS_POPUP_TAB_SETTING:F.e.SETTINGS_TAB_SETTING,sec:a?F.g.SETTINGS_POPUP:F.g.SETTINGS_INBOX_TAB,interactionType:Object(L.j)(e)})}),s()(this,"updateSnippets",e=>{const t=this.props,a=t.liteVersion;(0,t.updateSnippets)(!t.snippets,{mKey:a?F.e.SETTINGS_POPUP_SNIPPET:F.e.SETTINGS_SNIPPET,sec:a?F.g.SETTINGS_POPUP:F.g.SETTINGS_INBOX_TAB,interactionType:Object(L.j)(e)})}),s()(this,"updateMessageListDensity",e=>{const t=this.props,a=t.liteVersion,n=t.msgListDensity,s=t.updateMessageListDensity,i=Number(e.currentTarget.value);i!==n&&s(i,{mKey:a?F.e.SETTINGS_POPUP_MSG_LIST_DENSITY:F.e.SETTINGS_MSG_LIST_DENSITY,sec:a?F.g.SETTINGS_POPUP:F.g.SETTINGS_INBOX_TAB,interactionType:Object(L.j)(e)})}),s()(this,"updateBreakingNewsSettings",e=>{const t=this.props,a=t.breakingNewsSettings;(0,t.updateBreakingNewsSettings)(!a,{mKey:a?F.e.BREAKING_NEWS_DISABLED:F.e.BREAKING_NEWS_ENABLED,sec:F.g.BREAKING_NEWS,interactionType:Object(L.j)(e)})})}componentWillUnmount(){clearInterval(this._scrollInterval)}updateThemeVariableStyles(e,t){document.getElementById("themer").innerHTML=Object(G.a)(e,t)}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.multiTaskModeSetting,n=t.previewPaneSetting,s=t.msgListDensity,i=t.snippets,r=t.liteVersion,o=t.hasScrolled,c=t.theming,d=t.photoThemes,_=t.menuItemQuickAccessHeight,p=t.partnerBrand,h=t.breakingNews,E=t.breakingNewsSettings,S=this.state,y=S.themeSetting,T=S.themeModeSetting,N=S.expandButtonHovered,A=u()(g.a,{liteVersion:r}),I=u()(b.a,{smallBadge:r,hoveredOver:N}),M=_-W;return l.a.createElement("form",{ref:e=>this._settingsForm=e,className:A.form,onSubmit:e=>e.preventDefault()},l.a.createElement("ul",{className:A.menuList},c?l.a.createElement("li",null,l.a.createElement("p",{className:A.name},l.a.createElement(m.FormattedMessage,{id:"theme_label",defaultMessage:"Theme"})),l.a.createElement(C.a,{themeSetting:y,onChange:this.updateTheme,liteVersion:r,photoThemes:d,partnerBrand:p}),l.a.createElement(f.a,{themeSetting:y,themeModeSetting:T,onChange:this.updateThemeMode,liteVersion:r})):null,l.a.createElement("li",{className:A.previewOptions,"data-test-id":"preview-pane-options"},l.a.createElement("p",{className:A.name},l.a.createElement(m.FormattedMessage,{id:"layout_label",defaultMessage:"Message layout"})),r?null:l.a.createElement("span",{className:A.hint},l.a.createElement(m.FormattedMessage,{id:"layout_hint",defaultMessage:"Choose to show lists and messages side-by-side"})),l.a.createElement("div",{className:A.layoutOptions,"data-test-id":"preview-pane-options"},l.a.createElement(v,{onChange:this.updatePreviewPane,previewPaneSetting:n,liteVersion:r}))),l.a.createElement("li",{className:A.msgListDensityOptions},l.a.createElement("p",{className:A.name},l.a.createElement(m.FormattedMessage,{id:"msg_list_density_label",defaultMessage:"Inbox spacing"})),r?null:l.a.createElement("span",{className:A.hint},l.a.createElement(m.FormattedMessage,{id:"msg_list_density_hint",defaultMessage:"Choose a comfortable message list density"}))),!r||this.state.expandButtonClicked||o?null:l.a.createElement("div",{className:A.blurredContainer},l.a.createElement("div",{ref:e=>this._expandButtonContainer=e,className:A.expandButtonContainer,onMouseEnter:this.handleHoverState.bind(this,!0),onMouseLeave:this.handleHoverState.bind(this,!1),style:{top:M}},l.a.createElement("div",{className:A.expandButton},l.a.createElement("div",{className:I.badge},l.a.createElement("div",{className:I.pulse1}),l.a.createElement("div",{className:I.pulse2}),l.a.createElement("div",{className:I.orb,onClick:this.handleClickToScroll},l.a.createElement(U.b,{kind:H.b.CHEVRON_UP,size:H.d.XS,rotate:H.c.D180,colorState:H.a.INVERTED})))))),l.a.createElement("li",{className:A.layoutOptions,"data-test-id":"message-list-density-options"},l.a.createElement(x,{msgListDensity:s,onChange:this.updateMessageListDensity,liteVersion:r})),l.a.createElement("li",{className:A.settingControl,"data-test-id":"multi-tasking-toggle"},l.a.createElement(B.a,{canToggle:!0,subHeader:!0,toggleEnabled:a,header:e(Z.tabsLabel),hint:e(Z.tabsHint),onToggle:this.updateMultiTaskMode})),r?null:l.a.createElement("li",{className:A.settingControl,"data-test-id":"snippets-toggle"},l.a.createElement(B.a,{canToggle:!0,subHeader:!0,toggleEnabled:i,header:e(Z.snippetsLabel),hint:r?null:e(Z.snippetsHint),onToggle:this.updateSnippets})),!r&&h?l.a.createElement("li",{className:A.settingControl,"data-test-id":"breaking-news-toggle"},l.a.createElement(B.a,{canToggle:!0,subHeader:!0,toggleEnabled:E,header:e(Z.breakingNewsLabel),hint:e(Z.breakingNewsHint),onToggle:this.updateBreakingNewsSettings})):null))}}s()(V,"contextTypes",{intl:m.intlShape.isRequired,config:r.a.object,executeAction:r.a.func,navigateTo:r.a.func,getTheme:r.a.func,getThemeMode:r.a.func}),s()(V,"defaultProps",{liteVersion:!1});t.a=Object(p.connect)(void 0,e=>({updateTheme:(t,a)=>e(Object(j.b)({name:T.zd.THEME,value:t,runV3:!0,i13nModel:a})),updateThemeMode:(t,a)=>e(Object(j.b)({name:T.zd.THEME_MODE,value:t,runV3:!0,i13nModel:a})),updatePreviewPane:(t,a)=>e(Object(j.b)({name:T.zd.PREVIEW_PANE,value:t,runV3:!0,i13nModel:a})),updateMultiTaskMode:(t,a)=>e(Object(j.b)({name:T.zd.MAIL_TABS,value:t,runV3:!0,i13nModel:a})),updateSnippets:(t,a)=>e(Object(j.b)({name:T.zd.SNIPPETS,value:t,runV3:!0,i13nModel:a})),updateMessageListDensity:(t,a)=>e(Object(j.b)({name:T.zd.MSG_LIST_DENSITY,value:t,runV3:!0,i13nModel:a})),updateBreakingNewsSettings:(t,a)=>e(Object(j.b)({name:T.zd.BREAKING_NEWS_SETTINGS,value:t,runV3:!0,i13nModel:a}))}))(V)},function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(22),r=a(45);const o={GRADIENT_COLOR_1:"--gradient-color1",GRADIENT_COLOR_2:"--gradient-color2",GRADIENT_COLOR_3:"--gradient-color3",HIGHLIGHT:"--highlight",COMPOSE_BUTTON_COLOR:"--compose-btn-color",SEGMENT_BORDER_COLOR:"--segment-border-color",SEGMENT_BACKGROUND_COLOR:"--segment-bgcolor",SEGMENT_HOVER_COLOR:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR:"--folder-actived-bg-color",FOLDER_HOVERED_BACKGROUND_COLOR:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER:"--folder-actived-border",ITEM_SELECTED_BGCOLOR:"--item-selected-bgcolor",ITEM_HOVERED_BGCOLOR:"--item-hovered-bgcolor",PREVIEWR_TOOLBAR_COLOR:"--previewr-toolbar",CLIP_BUTTON_COLOR:"--clip-btn-color",BG_BACKGROUND_COLOR:"--bg-background-color",BACKGROUND_COLOR:"--bg-color",BACKGROUND_SIZE:"--bg-size",MAX_BACKGROUND_SIZE:"--max-bg-size",BACKGROUND_REPEAT:"--bg-repeat",BACKGROUND_REPEAT_IMAGE:"--bg-repeat-img",BACKGROUND_REPEAT_IMAGE_SIZE:"--bg-repeat-img-size",BACKGROUND_REPEAT_IMAGE_POSITION:"--bg-repeat-img-position",BACKGROUND_IMAGE:"--bg-img",PRIMARY_BLUE:"--primary-blue"},l={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",SEGMENT_BORDER_COLOR_PARTNER_DARK:"--segment-border-color",SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:"--segment-bgcolor",SEGMENT_HOVER_COLOR_PARTNER_DARK:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"},c={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"};a(5),a(0);a.d(t,"a",function(){return _});const d=function(e){return Object.keys(e).reduce((t,a)=>{return`${t}${a}:${e[a]};`},"")};function m({themeInput:e,themeModeInput:t,Themes:a=i.i}){let n=e;Object.keys(a).indexOf(e)<0&&(n=a.DEFAULT);let s=t;return!Object.keys(i.h).indexOf(t)<0&&(s=i.h.LIGHT),{theme:n,themeMode:s}}const _=function(e,t){const a=m({themeInput:e,themeModeInput:t}),n=a.theme,_=function(e,t){if(Object(i.n)(e))switch(t){case i.h.LIGHT:return o;case i.h.MEDIUM:return s()({},o,c);case i.h.DARK:return s()({},o,l)}return o}(n,a.themeMode),u={};return Object.keys(_).forEach(e=>{u[_[e]]=i.j[n][e]}),u[o.BACKGROUND_IMAGE]=Object(i.l)(i.j[n],r.a),u[o.BACKGROUND_REPEAT_IMAGE]=i.j[n].BACKGROUND_REPEAT_IMAGE?`url(${Object(r.a)(i.j[n].BACKGROUND_REPEAT_IMAGE)})`:"none",`:root {${d(u)}}`}},function(e,t,a){"use strict";e.exports={className:{default:{container:"ab_C D_F F_ZmdwxM M_2qs2uB K_n P_6Eb4",svgStyle:"H_7iGr E_6Fd5 W_7iGr",cardDetails:"F_Z2uTegI o_h N_6Eb4",cardDescription:"C_Z1VRpVF i_6FIA o_h G_e J_N",cardTitle:"u_b i_6EWk U_eo6 K_6UbO o_h",boldGray:"C_Z1VRpVF u_b",icon:"H_7iGr W_7iGr"}},_key:"Z11JBRI"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_R q_Z281SGl r_P e_dRA",stretchedBox:"ir_n M_0 P_0 b_0 H_6D6F W_6D6F p_a o_h"}},_key:"2a2gv"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_6D6F bn_dBP bj_ZpQYvz bm_FJ k_w D_F je_6MGW X_6MGW N_6LEV H_7bcz en_0 p_R",closeWrapper:"p_R B_fq7",categoryFilterContainer:"r_P I_ZnIF8Y e_dRA H_6D6F P_Zl3sKS U_fq7 D_F ab_C p_R B_fq7",categoryFilterHeader:"M_82XEY E_A y_Z2uhb3X A_6EqO W_3rui8 J_x G_e o_h",checkMark:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",channelTab:"W_3rv4o X_6LEV J_x G_e o_h"},isDarkTheme:{container:"bj_ajP3z"}},_key:"ZliJir"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6D6F D_F ek_BB I_52qC",contentContainer:"p_R iz_FF H_1HKkit",videoContainer:"M_1EAG48 D_B W_3DVPV H_3rRhf cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy",header:"t_C A_6FsP y_12BoOJ C_Z281SGl Y_6MGW U_6LEV I_52qC",subHeader:"A_6EqO C_Z1VRpVF W_3vVYr Q_A E_A Y_eTB"},videoHidden:{subHeader:"C_Z2aVTcY C4_Z29WjXl r4_P",header:"Y_7sfl H_1HKkit"},aolVideoPlayer:{videoContainer:"W_3HK1R H_3vNsy cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy"},isDarkTheme:{container:"I_T",header:"I_T C_ZpQYvz",subHeader:"C_ZvsWfq"}},_key:"Zc6TwG"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_f T_0 R_0 B_0 L_0 q_ajRa9 D_F",button:"E_6Eb4"},"themeMode-MEDIUM":{container:"q_sgPuT"},"themeMode-DARK":{container:"q_sgPuT"},modalStyle:{container:"q_sgPwq"}},_key:"1XW5Xb"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"z_Z14vXdP P_1v4Bxs",heading:"A_6FsP u_e69 U_fq7",subheading:"A_6EqO jb_fq7",item:"D_F Y_fq7 ab_C",itemIconContainer:"p_R o_h e_6UbO W_6UbO H_6UbO E_fq7",itemIconCheck:"W_6UbO H_6UbO D_F ab_C gl_C I_Z287E9E p_a Z_N",itemIcon:"W_6UbO H_6UbO p_a ba_BH",itemDetails:"A_6EqO em_N",itemEmail:"C_Z1YRXYn",itemName:"C_Z281SGl u_b",itemSubscribeFailedContainer:"D_F ek_BB ab_CH en_0",itemSubscribeContainer:"D_F ab_C en_0",itemSubscribeLink:"X_6Eb4 u_N C_Z2aVTcY r_P",itemSubscribeFailedIcon:"D_X E_eo6 V_M",itemSubscribeFailedText:"C_Znn46r",tcText:"A_6DUj C_Z1VRpVF je_6Fd5",tcItemSubscribeLink:"u_dPo A_6DUj C_Z2aVTcY r_P"}},_key:"Zk23GA"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_ZVJJuR M_0 o_h a_3s8Nv",header:"D_F gl_FM i_6LEV W_3rSz1",headerText:"A_6EqO u_b P_Z1yLCgE",close:"p_a R_eo6 T_eo6",body:"A_6Eb4 P_Z1yLCgE C_Z1YRXYn",coloredBar:"W_fq7 p_a L_0 T_0 B_0"},ATT:{coloredBar:"I_Z2dxrGx"},FRONTIER:{coloredBar:"I_Z1A0QhA"},ROGERS:{coloredBar:"I_Z21W7Hh"},BT:{coloredBar:"I_Z20SNAa"},SKY:{coloredBar:"I_Z2dycH0"},DEFAULT:{coloredBar:"I_Z2aVTcY"},SUNRISE:{coloredBar:"I_ZmlXUP"},AQUA_GREEN:{coloredBar:"I_Z1UHURv"},AQUA_BLUE:{coloredBar:"I_Z280Xf5"},DEEP_PURPLE:{coloredBar:"I_Zwa5YI"},BLUE_NIGHT:{coloredBar:"I_Z21zYBA"},DARK_GREY:{coloredBar:"I_Z21W7Hh"},NIGHT_LANDSCAPE:{coloredBar:"I_Z1UEcsX"},ROADTRIP:{coloredBar:"I_ZrkPvI"},SUNSET_AUSSIE:{coloredBar:"I_ZmlXUP"},LIGHTHOUSE:{coloredBar:"I_Z1VDTK1"}},_key:"BLJGB"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_Zx4FOE M_0 o_h D_F",animation:"aw_Zcaf9J az_DW ba_BE H_73cc N_0 E_eo6 Y_68F4 W_73HH",header:"W_3rui8",headerText:"A_6EqO u_b i_6FIA",bodyText:"A_6Eb4 P_Z2rzEzV C_Z1YRXYn i_6FIA",close:"p_a R_0 T_0"}},_key:"ZaXPpu"}},function(e,t,a){"use strict";e.exports={className:{default:{actionContainer:"D_F M_28eW7C",cueContainer:"D_F ek_EZ a_3zlCJ",cueContainerWrapper:"D_F ek_BB em_N P_ZH79gU I_52qC s_3qWeB a_3zJDR",svgStyle:"D_F gl_C ab_C I_52qC e_v8Hnf s_7bcz P_1KSxRP em_0",containerBorder:"W_q H_eo6 I_Z2aVTcY",close:"p_a T_6LEV R_6LEV",secondarylink:"Q_6DEy"},"cueVariant-defaultPurchasesCue":{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",cueContainer:"a_xTLMB",svgStyle:"P_Z1ywKaK",icon:"W_7qGO H_7jcW",body:"A_6EqO i_6FIA C_Z281SGl M_SBKYM",actionContainer:"M_0 J_x"},"cueVariant-shopRunnerViewCue":{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",cueContainerWrapper:"N_0",cueContainer:"a_xTLMB",svgStyle:"s_7ALe P_1I7Vdf",policyContainer:"C_Z1VRpVF A_6DUj u_e69 J_N M_Z10hV32",icon:"s_7ALe H_3niBz",body:"A_6EqO i_6FIA C_Z281SGl M_SBKYM",actionContainer:"P_Z9e9xA M_0 J_x"},"cueVariant-defaultQuotientCue":{body:"A_6EqO i_6FIA C_Z1Xxgu0 M_Z26RiTK",container:"W_e5X D_F gl_FM ek_BB",ppContainer:"D_F gl_FM ek_BB em_N",containerBorder:"I_Z1YQ5if M_Z2fXxfr W_82XEY",cueContainer:"a_n b_Z14vXdP e_dRA M_Z2qz5Ct",cueContainerWrapper:"s_n a_n",header:"i_6FIA A_6EqO u_b C_Z281SGl",icon:"W_7iGr H_7iGr",svgStyle:"P_6LEV"},"cueVariant-needToKnowNewsCue":{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",cueContainerWrapper:"P_251bID",cueContainer:"a_3DVPV K_3nGCH r_P",svgStyle:"P_dm5",icon:"W_3rdv7 H_6D6F",body:"A_6EqO i_6FIA C_Z281SGl M_Z26RiTK W_3vit4",actionContainer:"P_sHqSv M_0 J_x",close:"p_a T_fq7 R_fq7",containerBorder:"D_n",listStyle:"X_6LEV M_dm5",listItemStyle:"J_x G_e o_h hc_Z1ouml2 M_XFRp"},smartViewCue:{header:"A_6FsP i_6NIX u_e69 M_0",cueContainerWrapper:"P_Z12dBKo",svgStyle:"P_n81yo"},groceriesSmartView:{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",containerBorder:"I_Z29jSvh",cueContainer:"a_xTLMB",cueContainerWrapper:"N_0",icon:"H_7iGr W_7iGr",svgStyle:"W_3mS2U P_GGreO",body:"A_6EqO i_6FIA C_Z281SGl M_SBKYM",actionContainer:"P_Z9e9xA M_0 J_x"}},_key:"Z2iTRPq"}},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",form:"b_efTvb",layoutOptions:"Y_6Fd5 Q_fq7",msgListDensityOptions:"Y_6VdP",previewOptions:"Y_6VdP",settingControl:"M_1Miyfv",header:"D_F",name:"M_0 D_F u_b i_6LEV A_6EWk C_Z281SGl",toggleBtn:"Q_A",hint:"C_Z1YRXYn i_6FIA A_6EqO"},liteVersion:{form:"P_Z1StkHV",layoutOptions:"Y_6Eb4 Q_0",msgListDensityOptions:"Y_6MGW",previewOptions:"Y_6MGW",settingControl:"M_1tDEvS",blurredContainer:"cZ1UAA4K_n",expandButtonContainer:"aw_Z16Embo p_a D_F gl_C o_h W_3v1qi H_6Fd5 je_6MGW Q_36RhU",expandButton:"D_F gl_C B_69bz",name:"M_0 D_F u_b i_6LEV N_6Fd5 o_h G_e"}},_key:"Z5bj5y"}},function(e,t,a){"use strict";e.exports={className:{default:{badge:"p_R T_0 L_0 H_6VdP W_6VdP Z_N",orb:"p_a T_0 L_0 aw_eYAlb j_ZD8w6D e_6FsP Z_N ah_2cWUOh H_6D6F W_6D6F b_0 D_F gl_FL ab_C r_P",pulse1:"ah_Z2ker5M Z_nF p_a T_0 L_0 I_Z2aVTcY H_6D6F W_6D6F O_0 e_6FIA cZW7ROP_n",pulse2:"ah_YMIOh Z_nG p_a T_0 L_0 I_Z2aVTcY H_6D6F W_6D6F O_0 e_6FIA cZW7ROP_n"},bigBadge:{badge:"W_7aG4 H_7aG4",orb:"e_6Mrc",pulse1:"e_6Mrc"},smallBadge:{badge:"H_6LEV W_6LEV",orb:"ah_1GPc07",pulse1:"ah_Z1W2WoW",pulse2:"ah_1CfAVj"},hoveredOver:{pulse1:"ah_Z15oIdf",pulse2:"ah_1jeJAY"}},_key:"Z1WULKL"}},function(e,t,a){"use strict";e.exports={className:{default:{themeChooser:"hd_n P_0 D_F ab_C eo_HB M_1VPfch",themeDotContainer:"A_0 b_tw30f e_6D6F H_6UbO P_e8l U_6Eb4 E_eTB",themeDot:"D_X W_6UbO H_6UbO e_6D6F r_P ba_BH ay_C cZPx57W_l",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},selected_true:{themeDotContainer:"E_3qHvC cZ1UAA4J_eTB b_Z1dQEKn"},selected_false:{themeDotContainer:"b_Z1dQEKn"},liteVersion:{themeChooser:"M_Z1eDWt9 W_A",themeDotContainer:"E_3qHvC cZ1UAA4J_eTB"},cueMode:{themeChooser:"hd_n P_0 D_F ab_C eo_x M_829jJ",themeDotContainer:"H_6VJl",themeDot:"W_6VJl H_6VJl"}},_key:"Z1Y5uPm"}},function(e,t,a){"use strict";e.exports={className:{default:{themeModeChooser:"hd_n P_1Bs8Qs D_F gl_FM M_Z27rj8q W_3rRhf",themeModeBorderedContainer:"A_0 b_Z1dQEKn e_eo6 P_e8l",themeMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_4ssuT ab_CH gl_C r_P ay_C",themeModeLIGHT:"I_52qC D_X z_Z1a7UWG H_6VdP W_6D6F",themeModeMEDIUM:"I_52qC D_X z_Z1a7UWG H_6VdP W_73HH n_Z1a7UWG x_Z1a7UWG",themeModeDARK:"O_0",cueLabelTextContainer:"D_F gl_C ab_C Y_eo6 i_6FIA",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy W_6FIA H_6FIA r_P D_F ac_FO",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",label:"r_P a_7ceA G_e o_h"},liteVersion:{themeModeChooser:"M_Z26RiTK W_A"},selected:{labelTextContainer:"u_e69",cueLabelTextContainer:"u_e69 Y_dBP"},cueMode:{themeModeChooser:"P_0 U_6Fd5",themeModeContainer:"A_0 b_tw30f e_eo6 P_e8l",chooser:"Y_68F4",label:"a_n"},theme_ATT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_ZvJQac ab_CH gl_C r_P ay_CS ba_BH"},theme_FRONTIER:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z21mNgp ab_CH gl_C r_P ay_CS ba_BH"},theme_ROGERS:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_cqhYR ab_CH gl_C r_P ay_CS ba_BH"},theme_BT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_fyCuS ab_CH gl_C r_P ay_CS ba_BH"},theme_SKY:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_2i3i9C ab_CH gl_C r_P ay_CS ba_BH"},theme_DEFAULT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1oGKIG ab_CH gl_C r_P ay_CS ba_BH"},theme_SUNRISE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_j5A3N ab_CH gl_C r_P ay_CS ba_BH"},theme_AQUA_GREEN:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1TaR3H ab_CH gl_C r_P ay_CS ba_BH"},theme_AQUA_BLUE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_lYTmB ab_CH gl_C r_P ay_CS ba_BH"},theme_DEEP_PURPLE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z2r9M2j ab_CH gl_C r_P ay_CS ba_BH"},theme_BLUE_NIGHT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_ZhWBiv ab_CH gl_C r_P ay_CS ba_BH"},theme_DARK_GREY:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_cqhYR ab_CH gl_C r_P ay_CS ba_BH"},theme_NIGHT_LANDSCAPE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_1EcdPV ab_CH gl_C r_P ay_CS ba_BH"},theme_ROADTRIP:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z29MWQS ab_CH gl_C r_P ay_CS ba_BH"},theme_SUNSET_AUSSIE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1FJaQI ab_CH gl_C r_P ay_l ba_Z2qIBs0"},theme_LIGHTHOUSE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_DHTjP ab_CH gl_C r_P ay_CS ba_BH"}},_key:"Z1iK24z"}},function(e,t,a){"use strict";e.exports={className:{default:{msgListDensityModeChooser:"hd_n P_1Bs8Qs D_F gl_FM Y_6Fd5 U_6UbO W_3rRhf",msgListDensityMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_52qC ab_CH gl_C r_P o_h",blockContainer:"H_6UHk W_7bcz ac_C",msgListDensitySLIM:"D_B b_n l_T e_dRA I_ZpQYvz H_fq7 U_eDQ Y_0",msgListDensityNORMAL:"D_B b_n l_T e_dRA I_ZpQYvz H_6EqO U_fq7 Y_0",msgListDensityRELAXED:"D_B b_n l_T e_dRA I_ZpQYvz H_6FIA Y_fq7 U_fq7",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy W_6FIA H_6FIA r_P D_F ac_FO",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",label:"r_P a_7ceA G_e o_h"},selected:{labelTextContainer:"u_e69"},liteVersion:{msgListDensityModeChooser:"Y_0 U_0 W_A"}},_key:"Z1mypOq"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC b_Z14vXdP k_w",header:"M_0 P_1UqJXO A_6EqO C_Z1Xxgu0",retailers:"ha_n M_1Eu7sD D_F P_0",deals:"ha_n M_Z24zbI0 P_0 K_7Ig6 o_h",retailer:"W_7He5 H_7He5 D_F ek_BB gl_C ab_C b_Z14vXdP e_dRA E_eo6 E8_0 r_P",retailerName:"A_6DUj i_6Fd5 u_b t_C K_6UbO o_h y_12BoOJ",deal:"i_6MGW I_ZpQYvz D_X A_6EqO P_3gIMd M_Z2rzDxU a_e5X G_e J_x o_h V_AP",recentSearches:"ha_n M_Z24zbI0 P_0",recentSearch:"D_F ab_C H_74JI r_P I4_2iedUU",searchIcon:"E_6Fd5"},groceriesSingleStore:{container:"H_d8k P_ZlBa8j",categoriesTitle:"C_Z1Xxgu0 u_b U_eo6",categoryRow:"D_F ek_EZ U_fq7",category:"ab_C b_2oUWqe r_P D_F ek_BB A_6DUj H_3n2AO gl_CI E_eo6 W_7Ig6 I4_1I4yPF",categoryLogo:"H_72FG Y_6Fd5 W_72FG",categoryName:"Y_eo6",categoryCount:"H_6FIA Y_fam",searchResultsTitle:"C_Z1Xxgu0 u_e69 U_eo6"}},_key:"Z1Ah3if"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3A1b8 q_52qC D_F ek_BB eo_x ab_C e_eo6 p_f T_fq7 R_fq7",close:"ac_CH H_6EqO W_6Eb4 h_Z1kaEH9",heading:"y_Z2uhb3X A_6EWk i_6Mbr W_3vxrN ab_C u_e69 t_C U_6Fd5",subHeadingText:"D_B",description:"y_Z2uhb3X A_6EqO i_6FIA W_3vGuc C_Z1YRXYn t_CY U_6LEV",headerSection:"D_F gl_C ek_BB Y_6Eb4 U_fq7",feedbackContainer:"U_6MGW t_C",feedbackLink:"C_Z2aVTcY",upsellOptionLink:"C_Z2aVTcY u_b r_P",adblockUpsellBtnContainer:"U_6LEV"},pageTwoUi:{description:"W_3w5L5 U_eo6",adblockUpsellBtnContainer:"D_F U_6MGW",whitelistStepContainer:"D_F U_6Fd5",stepCountContainer:"y_Z2uhb3X A_6EqO C_Z281SGl t_C u_b J_x",stepDetailContainer:"W_3vpHb Q_6Eb4 y_Z2uhb3X A_6EqO C_Z1YRXYn t_CY i_6FIA",boldText:"u_b C_Z281SGl",footerText:"U_6LEV y_Z2uhb3X A_6EqO C_Z1YRXYn t_C i_6FIA"},centerDescriptionText:{description:"t_C"}},_key:"Z20NylE"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_R I_52qC e_eo6",close:"H_6EqO W_6Eb4 h_Z1kaEH9 p_a T_0 R_0 Z_N",imageWrapper:"D_F gl_C",imageBackground:"D_F W_3vqYW gl_C",thinkingEmoji:"H_7yHc",thankYouContainer:"D_F ab_C I_52qC ek_BB W_3zmEK e_dRA",thankYouHeaderContainer:"ab_C t_C je_6LEV jb_7bcz",thankYouImage:"Y_72FG",thankYouHeader:"A_6EWk u_b",thankYouSubHeader:"A_6Eb4 je_eo6",adContainer:"D_F H_7iGr A_6Eb4 gl_FM",adDetails:"D_F",adImage:"D_F ab_C M_1Eu7sD",adDescription:"D_F ek_BB gl_C a_3A1b8 o_h",cta:"b_n C_52qC P_1JNv2M M_1e3IG8 I_ZamTeg e_dRA D_F ab_C",adIcon:"A_6DEy I_ZxFlP3 u_b b_0 r_P Q_fq7 P_3gIgH C_52qC",adSource:"u_b",adHeadline:"C_ZxFlP3"}},_key:"Z2o37rS"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3MdeG d_3EmpA q_Z1ryveK D_F ek_BB eo_x ab_C e_eo6",header:"q_ZR1uyF e_C04i4",close:"ac_CH H_dm5 W_dm5 h_Z1kaEH9",headerImg:"q_Z4ViiF ba_Z2fG6XF H_3nOD5 W_3Lqsb P_1zAauG e_C04i4 cZ1wD64L_Z1JD0Rg",heading:"je_6LEV A_6TFj u_b i_6VdP",description:"je_6DEy A_6FsP i_6MGW X_6LEV N_6LEV",separator:"W_6D6F d_eTB q_2aMzKt ba_6D6F h_ZQwKon",taskPanel:"D_F ek_EZ ab_C H_3nOnk M_tmjsk",panelText:"A_6EqO u_e69 C_Z1Vxdfo Y_6DEy t_C",task:"D_F ek_BB ab_C E_7rIP",themeTaskImg:"aw_Z5EfUP az_DW ba_BE H_3niBz W_3nj85 cZ1O4M9E_Z1eX9zc",notificationsTaskImg:"aw_uQqtx az_DW ba_BE H_3niBz W_3nj85 cZ1O4M9E_Z26AiBs",imapTaskImg:"aw_ZEgcLN az_DW ba_BE H_3niBz W_3nj85 cZ1O4M9E_Z1IP27f",skipBtn:"r_P A_6EqO C_Z2aW2JT i_6MGW M_UlG8b"},useThirdGenerationLogo:{headerImg:"q_Z1hHkXD ba_Z2fG6XF H_3nOD5 W_3Lqsb P_1zAauG e_C04i4 cZ1wD64L_ZKD7Yq"},"partner-ATT":{headerImg:"q_Z1ecfY cZ1wD64L_1eYSnp"},"partner-FRONTIER":{headerImg:"q_Z2tBJGm cZ1wD64L_Z2jEAWD"},"partner-ROGERS":{headerImg:"q_2npMkq cZ1wD64L_27b98K"},"partner-BT":{headerImg:"q_Z1X8WM1 cZ1wD64L_Z26y0Jw"},"partner-SKY":{headerImg:"q_2nMjrx cZ1wD64L_WOo4R"}},_key:"Z1QyDLW"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"D_F ek_BB W_3v9Wb H_A gl_C ab_C je_6Eb4 jb_6LEV X_6VdP N_6VdP I_52qC t_C",close:"ac_CH h_Z2wK9kJ cdPFi4_Z2aVTcY",image:"W_3rv4o H_7bI5 aw_11T0x2 ba_93CzH az_DW",header:"A_6FsP mq_AQ u_N D_F ek_BB ab_C i_6Mbr Y_6MGW U_6Fd5 gp_1Fqk81",description:"U_6VdP i_6LEV A_6EqO C_Z1VRpVF",tryButton:"r_P mq_AQ d_6VdP W_3v9Wb e_dRA",cancelButton:"r_P mq_AQ d_6VdP W_3v9Wb Y_eo6 C_Z2aVTcY"}},_key:"ZwSHJU"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_a T_0 L_e5X h_Z1ffcnk Y_7zJd Z_7G9R I_eQoim b_2fA7lL e_e8l",imageContainer:"X_6FIA jb_6FIA N_6FIA",closeWrapper:"f_r",infoContainer:"a_3vHwd N_6FIA A_6EWk u_e69 C_Z281SGl i_6FIA",messageContainer:"X_6FIA"}},_key:"riGj1"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC W_6D6F D_F ek_BB gl_C p_f B_69H5 L_0 R_0 H_3vasG",close:"p_a T_6Fd5 R_6Fd5",separator:"q_5ooIw ba_93CzH W_6D6F H_eTB",content:"q_Z2bBkdL C_Z281SGl H_3v3uk W_6D6F",heading:"P_Z2wNDYJ A_6LEV u_e69 i_6MGW D_F gl_C",description:"D_F gl_C C_Z1VRpVF A_6Fd5 u_dPo i_6LEV",settingCover:"D_F gl_C",settings:"P_0 W_3vzvP",buttonContainer:"u_b D_F gl_C W_6D6F p_a B_6NIX"},animated:{container:"ah_1GGYdE"}},_key:"PFMqe"}},function(e,t,a){"use strict";e.exports={className:{default:{lastPassContainer:"p_a B_7ceA L_6Fd5 Z_7G9R I_52qC j_nWwhY H_A",lastPassContent:"D_F M_Zs13nX",lastPassTextContainer:"D_F ek_BB gl_FL",ctaButton:"W_3nx4N",text:"A_6MGW i_6FIA mq_AS a_3reMS U_fq7",textContainer:"D_F ek_BB E_6Fd5",purpleHeader:"I_Z25iliW H_6W06 D_F gl_FM X_6EGz",logo:"ac_C W_7sKQ dq_hHzqK cZ1O4M8e_2a4SnO",closeWrapper:"D_F ab_C E_eTB",image:"W_3n2AO H_7IvQ dq_ZpM5eH cZ1O4M8e_2boQxF"},version3:{lastPassTextContainer:"gl_FM",textContainer:"D_B",text:"a_n U_0",bodyTextContainer:"C_Z1YRXYn W_3wd0c M_nymj2"}},_key:"2kqCGC"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3M7y6 e_eo6 q_52qC D_F ek_BB p_R",cueImg:"W_6D6F H_3r61f",containerText:"P_72FG t_C",containerTitle:"D_F ek_BB gl_C A_6MGW u_b U_6Eb4 i_6MGW",titleText:"U_eo6",containerDescription:"U_6MGW A_6FsP i_6LEV",ctaButton:"H_73HH A_6FsP u_b",close:"r_P p_a R_0 Y_6Fd5 E_6Fd5 cdPFi_2sqbRh cdPFi4_52qC"}},_key:"Z2oKew4"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"b_Z14vXdP cm_0 bn_0 p_R D_F ek_BB em_N o_h aw_Z22yhkg I_kt4zd az_DW ba_Z2gmOa3 ay_Z1cYiMT c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",bgContainer:"aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd"}},_key:"1h6L13"}},function(e,t,a){"use strict";e.exports={className:{default:{iframe:"b_n I_Zmk8Gp em_N"}},_key:"Z15xkoj"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB gl_C ab_C t_C",link:"C_Z2aVTcY"}},_key:"1Cd0Hf"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_6D6F",inner:"W_3n93F M_1EAG48",button:"C_52qC I_Z1Xxgu0 O_6uDw P_Z1E30bS b_n",rightButton:"C_52qC I_Z1Xxgu0 O_6uDw b_n e_e8l p_a B_0 U_e5X H_72FG W_6NIX R_6Fd5 T_e5X h_ZBOl0O",leftButton:"C_52qC I_Z1Xxgu0 O_6uDw b_n e_e8l p_a B_0 U_e5X H_72FG W_6NIX L_6Fd5 T_e5X h_ZBOl0O",zoomWrapper:"Q_eDQ E_eDQ",buttonIcon:"Y_eTB M_Z1iKcDS",slider:"p_a B_7rYA",rtlRawScaleX:"rtlR_h_2gl0WC"}},_key:"Mffoh"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_a B_6TFj H_6NIX W_3nV5V e_e8l I_Z1Xxgu0 O_6uDw Q_A E_A L_0 R_0 C_52qC t_C",barContainer:"D_X M_1HT1B4 p_R",bar:"I_ZvsWfq H_eTB W_3n93F e_eo6 r_P",slider:"I_52qC e_6DEy H_6DEy W_6DEy T_689y p_a r_P",inner:"D_F"}},_key:"ZVxq3G"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_BB",content:"q_1TkQOB em_N D_F ek_BB gl_C ab_C"}},_key:"Z2eQbzU"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N p_R",content:"q_1TkQOB em_N D_F ek_BB gl_C ab_C p_R",imageWrapper:"p_a T_0 L_0 W_6D6F H_6D6F o_A t_C D_F ab_C",image:"k_w en_0 M_A gg_1fx0Xo"}},_key:"nghbs"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC",header:"A_6EqO M_ZClDBx",couponList:"M_1Eu7sD P_0",coupon:"D_F ab_C m_2wc7QY m8_n I4_1I4yPF",image:"D_F ab_C E_6Eb4",content:"D_F ek_BB",name:"A_6FsP U_dRA Y_6Eb4 i_6LEV",description:"A_6EqO K_6VdP o_h U_dRA",expiration:"A_6EqO U_6Eb4 C_Z1TsNWR"},isCompactSize:{container:"a_3o4BO",coupon:"ek_BB ab_FO",name:"Y_0 U_0 Q_fq7",image:"Y_6Eb4 U_fq7"},"themeMode-DARK":{container:"I_sgPuT l_T",header:"C_ZpQYvz",name:"C_ZpQYvz",description:"C_ZpQYvz",coupon:"bj_ajP6C I4_ajP3z"},"themeMode-MEDIUM":{container:"I_sgPuT l_T",header:"C_ZpQYvz",name:"C_ZpQYvz",description:"C_ZpQYvz",coupon:"bj_ajP6C I4_ajP3z"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"Z21ilS7"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN W_3vpWV a_3vpWV k_w D_F ek_BB cZ1RN91d_GG en_0 em_N P_6Fd5",header:"u_e69 A_6EWk U_6LEV",item:"D_F U_6Eb4",avator:"E_6Eb4",headline:"u_b A_6EWk",summary:"U_fq7"},narrowScreen:{container:"W_d8J a_d8J"},"themeMode-DARK":{container:"I_sgPuT",headline:"C_Z2bg7IA",summary:"C_ZvsWfq",header:"C_ZvsWfq"},"themeMode-MEDIUM":{container:"I_sgPuT",headline:"C_Z2bg7IA",summary:"C_ZvsWfq",header:"C_ZvsWfq"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"Z2VGeU"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN W_3vpWV a_3vpWV k_w D_F ek_BB cZ1RN91d_GG en_0 em_N P_6Fd5",header:"D_F ab_C U_fq7",avator:"E_6Eb4",headline:"u_e69 C_Z2aVTcY A_6EWk",summary:"A_6EqO U_fq7",source:"A_6DUj C_Z2aVTcY"},narrowScreen:{container:"W_d8J a_d8J"},"themeMode-DARK":{container:"I_sgPuT",headline:"C_Z2bg7IA",summary:"C_ZvsWfq",source:"C_Z2bg7IA"},"themeMode-MEDIUM":{container:"I_sgPuT",headline:"C_Z2bg7IA",summary:"C_ZvsWfq",source:"C_Z2bg7IA"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"X8WVn"}},function(e,t,a){"use strict";e.exports={className:{default:{header:"A_6EqO M_V9fzB X_6Fd5",container:"I_52qC i_6Mbr D_F ek_BB en_0 M_Zm1Iab W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",query:"X_6Fd5 C_Z2aVTcY cdPFi_Z2aVTcY C4_Z29WjXl cdPFi4_Z29WjXl u4_e69 r_P D_F",queryList:"M_S9pNs ha_n P_0",circle:"D_n",corner:"D_n",searchIcon:"Q_dRA C_q cdPFi_q D_n ab_C",webSearchIcon:"D_n"},darkTheme_default:{query:"C4_52qC cdPFi4_52qC C_ZpQYvz",header:"C_ZpQYvz"},numberList:{query:"D_DD ha_Z1nvPrc i_6UbO",queryList:"p_R",webSearchIcon:"D_F p_a R_q1 T_djH"},darkTheme_numberList:{query:"D_DD ha_Z1nvPrc i_6UbO C4_52qC C_ZpQYvz",header:"C_ZpQYvz",queryList:"p_R",webSearchIcon:"D_F p_a R_q1 T_djH"},tagCard:{query:"D_DD ha_2o0BsY i_6UbO X_0 Q_6Fd5 E_6MWH m_Z14vXdP C_Z281SGl C4_Z2aVTcY m8_n hc_Z1iRNWE",header:"A_6EWk Y_6Fd5 X_6UbO",queryList:"bq_ZjwpS7 bs_FT cn_6FsP cg_FJ p_R Y_36T6c P_ZogEqy Q_6Fd5 E_6Fd5",circle:"W_6Eb4 H_6Eb4 D_CS p_a T_e5X R_0 I_ptT19 e_e5X"},darkTheme_tagCard:{query:"D_DD ha_2o0BsY i_6UbO X_0 Q_6Fd5 E_6MWH m_ZYfFSw C4_52qC m8_n C_ZpQYvz hc_Z1iRNWE",header:"A_6EWk Y_6Fd5 C_ZpQYvz X_6UbO",queryList:"bq_Z12SEYt bs_FT cn_6FsP cg_FJ p_R Y_36T6c P_ZogEqy Q_6Fd5 E_6Fd5",circle:"W_6Eb4 H_6Eb4 D_CS p_a T_e5X R_0 I_2sqbOe e_e5X"},hoverRow:{query:"i_6UbO I4_1I4z5p C4_Z281SGl cdPFi4_Z281SGl u4_N C_Z281SGl cdPFi_Z281SGl",header:"A_6EWk X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5"},darkTheme_hoverRow:{query:"m_ZYfFSw i_6UbO I4_ZMqvwf C4_ZpQYvz cdPFi4_ZpQYvz u4_N m8_n C_ZpQYvz cdPFi_ZpQYvz",header:"A_6EWk C_ZpQYvz X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5"},cornerFold:{query:"i_6UbO I_ZnIF8Y I4_1Hvwe1 C4_Z281SGl cdPFi4_Z281SGl u4_N C_Z281SGl cdPFi_Z281SGl m_6i9dl p_R e_dRA",header:"A_6EWk X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5 Y_fq7",corner:"p_a W_0 H_0 n_Z2HSe2 m_Z1gWEmL B_0 R_0 D_CS"},darkTheme_cornerFold:{query:"i_6UbO I_sgPuT I4_ajP3z C4_ZpQYvz cdPFi4_ZpQYvz u4_N C_ZpQYvz cdPFi_ZpQYvz p_R cj_dRA bk_dRA U_dBP",header:"A_6EWk X_6Fd5 C_ZpQYvz",queryList:"U_fq7 Q_6Fd5 E_6UbO Y_fq7",corner:"p_a W_0 H_0 n_2cSrVM m_cxfg2 B_0 R_36KP4 D_CS",square:"p_a W_6Fd5 H_6Fd5 T_0 R_36KP4 D_CS I_sgPuT ck_dRA"},"themeMode-DARK":{container:"I_sgPuT l_T"},"themeMode-MEDIUM":{container:"I_sgPuT l_T"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"Z1iYiXB"}},function(e,t,a){"use strict";e.exports={className:{default:{hotelCardHeader:"aw_GinNQ H_7Ig6 D_F ab_CH P_Z1VdT10 k_w gl_FM U_eo6 W_6D6F",formRow:"D_F H_6VdP ab_C U_dBP",locationSelector:"X_fq7 D_F ab_C W_6D6F m_2tEJa0 cdPFi_Z1TsNWR",arrow:"h_22ufi4 W_6LEV H_6LEV cdPFi_Z1TsNWR",formColumn:"W_e5X D_F ab_C a_3nx4N",formColumnUnderline:"W_e5X D_F ab_C a_3nx4N m_2tEJa0",datepickerInput:"W_3mU6W em_N ir_n D_F ab_C p_R q_T A_6EqO H_6VdP P_3gJOe",divider:"W_6LEV",selector:"D_F ab_C",selectorLabel:"a_7rdk J_x o_h G_e",selectLabel:"E_fq7 D_F gl_FL C_Z281SGl m_2tEJa0 H_6VdP i_6VdP X_6EGz",form:"W_6D6F a_6D6F k_w P_1Eu6qC",typeahead:"Q_eo6 p_R W_6D6F"},isDarkTheme:{typeaheadInput:"C_ZpQYvz A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T b_0 J_x G_e bj3_Z2aVTcY",dateInput:"C_ZpQYvz M_0 b_n ir_n ev_q I_q",datepickerIcon:"D_F ab_C i_6NIX cdPFi_ak5m8",selectedValue:"em_N o_h J_x D_X G_e C_ZpQYvz",selector:"C_ZpQYvz",locationSelector:"cdPFi_ak5m8",arrow:"cdPFi_ak5m8"}},_key:"es0HS"}},function(e,t,a){"use strict";e.exports={className:{default:{typeahead:"p_R",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T b_0 J_x G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",typeaheadDropDown:"W_6D6F p_a ha_n P_0 M_0 Z_fcS j_ZqTdtW I_52qC",typeaheadOption:"i_72FG P_1EudUu r_P J_x G_e o_h q_52qC q4_1I4yPF cZ1WADo5_1I4z5p"}},_key:"Z2duRle"}},function(e,t,a){"use strict";e.exports={className:{default:{ticketCardHeader:"aw_yQdE5 H_7Ig6 D_F ab_CH P_Z1VdT10 k_w gl_FM U_eo6 W_6D6F",form:"W_6D6F a_6D6F P_1Eu7sD k_w",searchBar:"D_F M_1urc83",searchBarIcon:"W_6UbO H_6UbO I_Z2aVTcY e_ZB2Q32 D_F gl_C ab_C r_P",typeahead:"H_6UbO p_R I_ZnIF8Y e_Z272TOo em_N",categorySearchTitle:"C_Z1VRpVF",buttonGroup:"M_Z18KXHe D_F gl_FM",ticketCardButton:"H_7iGr e_dRA I_2iee8C cdPFi_Z2aVTcY C_Z2aVTcY D_F ek_BB gl_C ab_C r_P W_7He5"},isDarkTheme:{ticketCardButton:"C_Z2bg7IA cdPFi_Z2bg7IA"}},_key:"Z13DXCT"}},function(e,t,a){"use strict";e.exports={className:{default:{plaAdsPanelRoot:"W_3vpWV H_6D6F d_3vFsb k_w I_52qC r_BN y_ZBxoCT A_6EGz i_1HuQKY cZ1RN91d_n u_dPo cZzavut_Zc28mn Z_qc o_h a_3vpWV cg_FJ cn_3vzlv l_ZpQYvz",plaAdsSubPanelRoot:"k_w W_q D_F ek_BB H_q P_Z2c8bsK",headerTitle:"y_198fST A_6EqO C_Z281SGl t_l i_6FIA U_82XEY Y_82XEY",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_1wVxIt C_Z2drWk6 cdPFi_Z2drWk6",headerTitlePanel:"D_F ab_C U_6Eb4",sponsored:"A_6DEy ab_C D_F C_52qC M_SraT1 P_3gIgH I_ZxFlP3 u_b gl_C H_6EWk b_0 r_P",plaAdsContainer:"F_N o_A",noAdsContainer:"t_C p_R T_dzs"},"themeMode-DARK":{plaAdsPanelRoot:"I_sgPuT C_ZpQYvz n_n0e9V l_T",headerTitle:"C_ZvsWfq",noAdsText:"C_52qC"},"themeMode-MEDIUM":{plaAdsPanelRoot:"I_sgPuT C_ZpQYvz n_n0e9V l_T",headerTitle:"C_ZvsWfq",noAdsText:"C_52qC"},"themeCombo-DARK_NIGHT_LANDSCAPE":{plaAdsPanelRoot:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{plaAdsPanelRoot:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{plaAdsPanelRoot:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{plaAdsPanelRoot:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{plaAdsPanelRoot:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{plaAdsPanelRoot:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{plaAdsPanelRoot:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{plaAdsPanelRoot:"I_t5YMW"}},_key:"1jjj6O"}},function(e,t,a){"use strict";e.exports={className:{default:{plaAdsPanel:"W_6D6F r_P H_3naQW k_w P_Z2ppRhI m_Z14vXdP e_dRA D_F I4_1I4yPF",plaImagePanel:"Y_A U_A q_52qC b_Z1GeMLA e_dRA",adImage:"H_7rdk W_7rdk ba_BE ay_C"},"themeMode-DARK":{plaAdsPanel:"m_ZYfFPt I4_1YEmYj"},"themeMode-MEDIUM":{plaAdsPanel:"m_ZYfFPt I4_1YEmYj"}},_key:"1V5wiR"}},function(e,t,a){"use strict";e.exports={className:{default:{plaAdDescription:"N_eo6 X_6Eb4",adTitle:"y_Z2uhb3X A_6EqO C_Z281SGl gp_0 i_6FIA u_b M_82XEY H_7bcz o_h",adPricePanel:"D_F Y_fq7 y_Z2uhb3X",itemPrice:"A_6EqO C_Z2ak3tK gp_0 i_6FIA u_b M_82XEY",subscriptText:"V_FW i_fam A_6DUj",itemOriginalPrice:"A_6DUj C_Z1VRpVF gp_0 i_6FIA M_82XEY S_DB X_fq7",productText:"Y_eo6 y_Z2uhb3X A_6DUj C_Z281SGl gp_0 i_6EWk M_82XEY",ratingPanel:"D_F",starPanel:"E_eTB"},"themeMode-DARK":{adTitle:"C_ZpQYvz",productText:"C_ZpQYvz",itemOriginalPrice:"C_ZvsWfq"},"themeMode-MEDIUM":{adTitle:"C_ZpQYvz",productText:"C_ZpQYvz",itemOriginalPrice:"C_ZvsWfq"}},_key:"Z13pwf9"}},function(e,t,a){"use strict";e.exports={className:{default:{background:"I_52qC H_3mS2U D_F gl_C ab_C U_eo6",container:"D_F ab_C P_6DEy e_dRA z_16auq8 m_Z14vXdP x_Z14vXdP n_Z14vXdP",content:"D_F ab_C E_7bcz",imageContainer:"E_6LEV",button:"b_n P_0 ev_q H_72FG W_3nV5V I_ZamTeg C_52qC e_dRA u_e69 r_P",header:"E_eo6 u_b"},rightRail:{background:"D_B H_A",container:"ek_BB ab_CS P_ZClDBx",headersContainer:"D_F ek_BB",button:"H_6UbO Y_6LEV U_6LEV",subHeader:"C_ZxFlP3"},"themeMode-MEDIUM":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_sgPuT C_ZpQYvz"},"themeMode-DARK":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_sgPuT C_ZpQYvz"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_cOYF6 C_ZpQYvz"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_cOYF6 C_ZpQYvz"},"themeCombo-DARK_ROADTRIP":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_1iaDt1 C_ZpQYvz"},"themeCombo-MEDIUM_ROADTRIP":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_1iaDt1 C_ZpQYvz"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_2woj1H C_ZpQYvz"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_2woj1H C_ZpQYvz"},"themeCombo-DARK_LIGHTHOUSE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_t5YMW C_ZpQYvz"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_t5YMW C_ZpQYvz"}},_key:"XQ7Gi"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC k_w W_3vpWV a_3vpWV",header:"M_1UqJXO A_6FsP u_b C_Z281SGl",retailers:"ha_n M_1Eu7sD D_F P_0 ek_BB U_6Eb4",retailer:"I_ZnkeaL H_73HH D_F M_3HLUz P_fQwsr e_eo6 r_P F_n ab_C p_R u4_b I4_1I4yPF",retailerName:"A_6EqO o_h y_q Q_6LEV",expandButtonContainer:"D_F gl_C M_1HT1B4 cdPFi_ZamTeg C_ZamTeg",expandButton:"b_n y_q r_P D_F ab_C A_6EqO C_q u_b I_T",tagContainer:"D_F I_52qC e_6D6F W_6UbO H_6UbO gl_C ab_C",tag:"D_F p_R T_dBP L_dBP",retailerSelected:"I_1I4z5p H_73HH D_F M_3HLUz P_fQwsr e_eo6 r_P F_n ab_C p_R I4_1I4z5p u_b"},"themeMode-DARK":{container:"I_sgPuT l_T",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeMode-MEDIUM":{container:"I_sgPuT l_T",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"}},_key:"Z29RzHq"}},function(e,t,a){"use strict";e.exports={className:{default:{titleContainer:"p_R D_F gl_C A_6FsP u_b M_Zz4RQu W_dBa",title:"p_a",print:"M_Bev99",item:"D_F ek_EZ H_7zdH M_Z2tsrnv r_P W_3rKiS",left:"D_F P_Z1vqRdg",right:"P_Z1bevMH",itemImage:"H_7ceA W_7ceA e_fq7",overlayContainer:"W_0",overlay:"W_7ceA H_7ceA h_ZE7Oyc q_ZS2gpl e_fq7",saveContainer:"D_F ab_C jb_eo6",save:"A_6EWk u_b",coupon:"C_ZkhR3R A_6DUj u_b",brandName:"A_6EqO o_h G_e J_x W_3nX9X",expires:"C_Z1VRpVF A_6DUj",redExpires:"C_ZkiIcp A_6DUj",addImage:"V_M"},emptyShoppingList:{cart:"H_6D6F D_F eo_HB gl_C",title:"p_82XEY",emptyImageContainer:"D_F gl_C",emptyImage:"W_3n93F p_a",groceryBackgroundImage:"W_3rBgu H_3mS2U P_VkBk2",emptyText:"W_3nV5V H_6VdP O_6uE9 A_6EqO i_6CC0 t_C C_Z1XFoRn je_6EGz M_A"},expandedCardState:{item:"H_82XEY",cardDescription:"C_Z1Xxgu0 i_N o_h G_e",brandName:"J_N"},darkThemeMode:{title:"C_ZnIF8Y",save:"C_ZnIF8Y",brandName:"C_ZnIF8Y",cardDescription:"C_ZvsWfq",expires:"C_ZvsWfq",emptyText:"C_ZvsWfq"}},_key:"Z2liVT7"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_Z1E2XDm I_52qC",header:"A_6FsP u_b M_3Y3Gk",expandButton:"D_F ab_C gl_C M_3Y3Gk r_P u_b C_ZamTeg cdPFi_ZamTeg",item:"D_F o_h ab_C P_1Eu6qC e_eo6 M_ZlKroq q_ZnkeaL bm_n M8_0 q4_1I4yPF",link:"F_N D_F o_h ek_EZ ab_C",avatar:"W_72FG H_72FG e_6FIA q_sgPtS",content:"F_N D_F ek_BB gl_C P_1e3HE7",fromName:"H_6DEy W_7zJd q_sgPuo e_eo6",description:"M_829jJ H_6DEy W_3na5G q_sgPtS e_eo6",expiration:"M_829jJ H_6DEy W_3mS2U q_sgPtS e_eo6",clippedButton:"F_n I_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0",onboarding:"A_6EWk q_ZamTeg e_fq7 H_7bcz D_F ab_C gl_C C_52qC",arrowContainer:"D_F gl_CH M_ZlKroq",arrow:"M_1Bs8Qs W_0 H_0 n_ZMviHe x_ZMviHe z_Z1HrxdM"},"themeMode-MEDIUM":{container:"I_sgPuT C_ZpQYvz",item:"q_1YEmYj q4_ZFyHXD",avatar:"q_2sqbOe",fromName:"q_2sqbOJ",description:"q_2sqbOe",expiration:"q_2sqbOe"},"themeMode-DARK":{container:"I_sgPuT C_ZpQYvz",item:"q_1YEmYj q4_ZFyHXD",avatar:"q_2sqbOe",fromName:"q_2sqbOJ",description:"q_2sqbOe",expiration:"q_2sqbOe"}},_key:"Z2ve0ds"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC C_Z1YRXYn A_6EqO",subContainer:"M_6Eb4",content:"Y_fq7 D_F em_N gl_FM ab_C r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z2aVTcY C4_Z2aVTcY",articleTitle:"E_eo6 o_h J_x G_e",footer:"H_eo6 aw_ZBYItr",close:"r_P p_a R_0 M_eo6 cdPFi_Z1YRXYn cdPFi4_Z2aVTcY"},"themeMode-MEDIUM":{container:"I_sgPuT",content:"C_2sqbRh cdPFi_2sqbRh cdPFi4_52qC C4_52qC",close:"cdPFi_2sqbRh cdPFi4_52qC"},"themeMode-DARK":{container:"I_sgPuT",content:"C_2sqbRh cdPFi_2sqbRh cdPFi4_52qC C4_52qC",close:"cdPFi_2sqbRh cdPFi4_52qC"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"ZwGdYA"}},function(e,t,a){"use strict";e.exports={className:{default:{subContainer:"P_1M2htK",imgContainer:"W_6D6F D_F gl_C",cueImg:"H_3nF5b",content:"P_1K6hUM M_1Eu7sD",title:"A_6FsP gp_1Fqk81 u_b U_6Fd5",yPointsIcon:"H_6Fd5 V_GM",buttonContainer:"D_F gl_C",primaryCta:"i_6VdP"},"themeMode-MEDIUM":{primaryCta:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd"},"themeMode-DARK":{primaryCta:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd"}},_key:"ZhV6Bm"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"D_F gl_FM P_1Eu7sD m_Z14vXdP F_n",button:"G_e a_7yHc o_h J_x i_Z2gtiuD",tabListContainer:"H_Z1nQF5a",tabContainer:"M_Z1fehm1 H_Z1nQF5a",popoverContainer:"D_F",pointsContainer:"D_F ab_C u_b",pointsIcon:"H_6FIA W_6FIA E_eo6 r_P",dialogContainer:"P_6MGW W_3vxrN k_w D_F ek_BB",dialogDescription:"je_fq7 jb_6Fd5",primary:"i_6TFj",secondary:"I4_52qC"},"themeMode-MEDIUM":{wrapper:"m_ZYfFSw"},"themeMode-DARK":{wrapper:"m_ZYfFSw"}},_key:"IQnyr"}},function(e,t,a){"use strict";e.exports={className:{default:{subContainer:"M_6Fd5",completedCheckin:"D_F ab_C U_6Eb4",dailyCheckinIcon:"E_eo6",moreTask:"D_F ab_C U_6LEV P_6Eb4 e_fq7 I_ptT1E",moreTaskContent:"M_3gJOe em_N",ctaButton:"H_6TFj u_b J_x P_1Eu6qC",challengeDescription:"U_6LEV",challengeDetailsHeader:"D_B U_6Eb4"},"themeMode-MEDIUM":{moreTask:"I_ajP3z",ctaButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd"},"themeMode-DARK":{moreTask:"I_ajP3z",ctaButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd"}},_key:"Z2vRNSR"}},function(e,t,a){"use strict";e.exports={className:{default:{subContainer:"M_6Fd5",titleContainer:"D_F ab_C",title:"M_3gJOe o_h J_x G_e em_N",taskPanel:"Y_6MGW D_F ab_C gl_FM",taskDetails:"D_F ek_BB em_N o_h",taskTitleContainer:"D_F ab_C o_h",taskTitle:"o_h J_x G_e",taskPoints:"D_F ab_C Q_fq7",yPointsIcon:"H_6Fd5 Q_dRA ac_CI",taskDescription:"C_Z1VRpVF o_h J_x G_e",goButton:"en_0 W_7yHc H_6TFj u_b o_h G_e J_x P_1Eu6qC Q_ZK2EzR e_dRA",moreButton:"i_6UbO u_b G_e J_x P_1Eu6qC e_dRA Y_2dQI1P",superAppTasksTitle:"Y_6UbO D_F ab_C",superAppIcon:"H_6LEV W_6LEV E_fq7 j_2hjuwP e_dRA",backPanel:"m_Z14vXdP D_F ab_C",backIcon:"r_P M_6Fd5 D_F",imgContainer:"p_R H_3vjv5 W_3saBM U_6MGW ba_Zeimxq",imgContent:"p_a L_0 Y_6LEV C_52qC t_C W_6D6F J_x o_h G_e P_3gIMd k_w u_elT",footer:"D_F gl_FM ab_C u_e69 M_1EuCs8 A_6EGz",appLogoContainer:"D_F r_P C_Z2aW2JT",appLogo:"E_eo6"},"themeMode-MEDIUM":{goButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd",moreButton:"I_T C_8ahxV l_8ahxV I4_T C4_8ahxV l4_8ahxV I0_T C0_8ahxV l0_8ahxV",taskDescription:"C_ZvsWfq",backPanel:"m_ZYfFSw",backIcon:"cdPFi_52qC",appLogoContainer:"C_52qC"},"themeMode-DARK":{goButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd",moreButton:"I_T C_8ahxV l_8ahxV I4_T C4_8ahxV l4_8ahxV I0_T C0_8ahxV l0_8ahxV",taskDescription:"C_ZvsWfq",backPanel:"m_ZYfFSw",backIcon:"cdPFi_52qC",appLogoContainer:"C_52qC"},"imageType-tw-dark":{imgContainer:"aw_oFeM3 c2aoGPX_Z2a7I8P cZ1mtdww_ZrJUGc"},"imageType-tw-light":{imgContainer:"aw_1j9TfO c2aoGPX_ZEhMfY cZ1mtdww_AMMIJ"},"imageType-hk-dark":{imgContainer:"aw_1qO5cJ c2aoGPX_Z2ikMY9 cZ1mtdww_ZIHcVr"},"imageType-hk-light":{imgContainer:"aw_1i9t67 c2aoGPX_Z2nLGEz cZ1mtdww_2SL3Y"}},_key:"t9XVU"}},function(e,t,a){"use strict";e.exports={className:{default:{subContainer:"M_6Fd5",titleContainer:"D_F ab_C U_6LEV",title:"M_3gJOe o_h J_x G_e em_N",rewardsItems:"U_6MGW D_e0XN ga_1XnUVO c1gjNkJ_6LEV cttd4l_6MGW",rewardsContainer:"D_F ek_BB r_P",itemImg:"H_3np4q W_3np4q e_fq7 b_2wc7QY U_fq7",priceContainer:"D_F ab_C",price:"A_6Fd5 C_ZkiIcp",yPointsIcon:"W_6Fd5 H_6Fd5",moreButton:"D_B M_A J_x a_6D6F o_h G_e",backPanel:"m_Z14vXdP D_F ab_C",backIcon:"r_P M_6Fd5 D_F",imgContainer:"p_R H_3vjv5 W_3saBM U_6MGW ba_Zeimxq",imgContent:"p_a L_0 Y_6LEV C_52qC t_C W_6D6F J_x o_h G_e P_3gIMd k_w u_elT",footer:"D_F gl_FM ab_C u_e69 M_1EuCs8 A_6EGz",appLogoContainer:"D_F r_P C_Z2aW2JT",appLogo:"E_eo6"},"themeMode-MEDIUM":{price:"C_ZkhR3R",moreButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd",backPanel:"m_ZYfFSw",backIcon:"cdPFi_52qC",appLogoContainer:"C_52qC"},"themeMode-DARK":{price:"C_ZkhR3R",moreButton:"I_2sqbOJ I4_2sqbPK I0_2sqbPK b_ATgVd",backPanel:"m_ZYfFSw",backIcon:"cdPFi_52qC",appLogoContainer:"C_52qC"},"imageType-tw-dark":{imgContainer:"aw_EPA1w c2aoGPX_RY7yz cZ1mtdww_eRcAq"},"imageType-tw-light":{imgContainer:"aw_Z1Q5GNM c2aoGPX_ZpQFnH cZ1mtdww_11pWYl"},"imageType-hk-dark":{imgContainer:"aw_15vWtk c2aoGPX_I8Ufi cZ1mtdww_2qMuKK"},"imageType-hk-light":{imgContainer:"aw_Z23TqQj c2aoGPX_Z163PS0 cZ1mtdww_OHjwH"}},_key:"CHwum"}},,function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"p_a B_fq7 L_0 R_0 P_14vtzo M_0 Z_7G9R"}},_key:"2ott0q"}},function(e,t,a){"use strict";e.exports={className:{default:{optionLabel:"C_Z281SGl u_e69 i_6Fd5 D_X W_eRe Q_fq7 o_h mq_AS A_6Eb4",panelContainer:"p_R U_69H5 e_dRA q_52qC r_P j_nWwhY D_F ab_C H_6UHk X_eDQ N_eDQ lv_Z8FlFB b_Z1Mmp0D U8_0",closeBtn:"v_h W_6LEV H_6LEV e_dRA"},close:{panelContainer:"lz_BV lv_6uD6 h_1UIL7R"},extraPadding:{panelContainer:"je_eDQ jb_eDQ"},isParentHovered:{panelContainer:"j_ZqTdtW U_eo6 U8_0"},isHovered:{closeBtn:"v_v I4_Z1vP31I"},animate:{panelContainer:"ah_Z1UlhVi"},"color-WARNING_GRAD_RED":{panelContainer:"b4_Z1222NH"},"color-SELECTED":{panelContainer:"b4_2fAfSG"},"color-NORMAL":{panelContainer:"b4_2ivgpk"},"color-ADVISORY":{panelContainer:"b4_ZXQDCD"},"color-YBADGE":{panelContainer:"b4_2leNMI"}},_key:"ZqQK0D"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"p_a B_0 L_0 R_0 P_14vtzo M_0",feedbackContainer:"q_Z1YRXYn M_0 p_R L_0 B_0 m_ZYfFPt k_w j_2nlWO5 Z_6D6Q u_e69 i_6EWk C_52qC r_P t_C e_Z2iODyd P_Z2gcU5A ab_C",upgradeContainer:"q_Z1YRXYn M_0 p_R L_0 B_0 m_ZYfFPt k_w j_2nlWO5 Z_6D6Q u_e69 i_6EWk C_52qC r_P t_C e_Z2iODyd P_Z2gcU5A ab_C",optionLabel:"C_52qC u_e69 X_e8l J_N i_6EWk",feedbackLink:"D_F"},animate:{upgradeContainer:"ah_Z1WytCd"}},_key:"ZM0W75"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3rtg7 d_7jIs i_6FIA ab_C P_Z1YYbzT",ctaLink:"C_Z2aVTcY u_e69 Y_fq7 D_X r_P",image:"p_a R_fq7 B_6Eb4 H_72FG W_72FG",close:"p_a R_eTB T_eTB r_P"},"image-office365":{image:"ba_72FG ay_28BXGT"}},_key:"2rqnwQ"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F a_3z5BY i_6FIA ab_C e_eo6",close:"Y_eo6 Q_6Eb4 r_P"},"appearance-blue":{container:"I_Z2aVTcY P_Z1E2XDm",text:"C_52qC A_6EGz u_b"},"appearance-white":{container:"D_F W_3rehn P_fq7 i_6FIA ab_FO e_eo6",text:"P_Z28IdWK W_3nV5V",close:"M_0 r_P"},animate:{container:"ah_ljSLT"}},_key:"26A3Po"}},,function(e,t,a){"use strict";e.exports={className:{default:{resultsContainer:"H_3s2lE X_6LEV N_6LEV o_A",limitReached:"Q_fq7 D_Z1YJkyX o_h G_e J_x",count:"G_e o_h",bottomSection:"D_F P_Z1TacOn aa_FL z_Z14vXdP",buttonGroup:"F_N a_3nOD5",itemCounts:"F_N i_6UbO t_r r_BN D_F gl_CH o_h G_e J_x eo_x",doneButton:"H_6TFj a_7kKt P_1EudUu V_M e_dRA E_fq7 b_0 M_E8xte",cancelButton:"H_6TFj a_7kKt P_3gJOe V_M I_52qC b_0 C_Z2aVTcY I4_2iedUU C4_Z29WjXl",closeButton:"p_a R_6Fd5 T_6Eb4 r_P",toggleButton:"C_Z2aVTcY E_fq7 r_P u_N C4_Z2aVTcY",icon:"D_Z1YJkyX ab_C H_6TFj E_eo6"},bottomDisabled:{limitReached:"O_cMq"},maxCountReached:{count:"C_Znn46r"}},_key:"ZioVoS"}},function(e,t,a){"use strict";e.exports={className:{default:{searchContainer:"P_Z1Ve0sQ",header:"C_Z281SGl A_6FsP u_b U_eo6",searchInput:"A_6EqO F_P q_ZnIF8Y H_6UbO b_0 Z_N li_6UbO W_6D6F p_R T_0 L_0 e_dRA ir3_0 m3_dm5",flexbox:"D_F Y_fq7",searchFlex:"F_O p_R E_fq7",selectFlex:"F_N",inputSearchIcon:"p_a L_fq7 T_fq7 Z_N",selectLabel:"I_ZnIF8Y H_6UbO D_F gl_FL C_Z281SGl m_Z14vXdP i_6VdP X_fq7 e_dRA a_3nF5b k_w"}},_key:"Z7yBgQ"}},function(e,t,a){"use strict";e.exports={className:{default:{contactPickerContainer:"I_52qC s_3zDHw d_3zlCJ p_R j_ZqTdtW"}},_key:"Z1k61UO"}},function(e,t,a){"use strict";e.exports={className:{default:{hoverContainer:"D_F I_T Z_d48 ab_CI gl_CH",icon:"W_6MGW H_6MGW r_P e_e5X I_52qC j_ZqTdtW h_Z26hN4S D_F gl_C ab_C",popoverContainer:"D_F",menuContainer:"P_13uJXY",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",divider:"z_Z163u0T",checkmarkIcon:"p_a L_fq7",paddingLeft:"X_6LEV"},shown:{hoverContainer:"b_2fAfSG"},isSelected:{hoverContainer:"I_Z1owzvw"}},_key:"1pDk7H"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"P_Z1DXsI3 ab_C gl_CI D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"Q_6DUj o_h a_3nOD5 J_x G_e D_B",popoverContent:"P_2akjsD",separator:"m_Z14vXdP M_HmAz8"}},_key:"Z1sYGtu"}},function(e,t,a){"use strict";e.exports={className:{default:{categoryContainer:"D_F ab_CI P_Z1fegk0",categoryList:"P_0 M_24YU4B ha_n",category:"C_Z1YRXYn P_3PUiW A_6EqO r_P C4_Z2aVTcY"},selected:{category:"C_Z281SGl u_b C4_Z281SGl"}},_key:"18bfU9"}},function(e,t,a){"use strict";e.exports={className:{default:{defaultThemeContainer:"D_F ek_BB gl_C ab_C I_ptT19 P_1Eu7sD",themeThumbnailImage:"W_3mS2U H_3n93F I_52qC P_0 M_1HT1B4",defaultText:"t_C A_6EqO C_Z1VRpVF",clearText:"t_C C_Z2aVTcY r_P",noneText:"t_C C_Z1VRpVF"}},_key:"1ebw9F"}},function(e,t,a){"use strict";e.exports={className:{default:{item:"D_F ek_BB M_Z2kmMaB r_P ir_n",thumbnailContainer:"p_R b_Z14vXdP M_1PXnfL l4_Z2aVTcY",itemThumbnailImage:"D_B W_3mS2U H_3n93F",selectionOverlay:"p_a W_6D6F B_0 o_h J_N t_C C_52qC i_6EqO k_w P_3Y3Gk I_Z1owzvw w_AS I4_Z1owzuv",itemName:"o_h t_C G_e C_Z1YRXYn W_3mT4V",itemProviderName:"o_h t_C G_e C_Z1YRXYn W_3mT4V"},selected:{thumbnailContainer:"b_Z1dQEKn M_Zm1Iab",itemName:"u_b"},hideStationeryTitle:{item:"M_Z2kmxbR"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{item:"i_6Fd5 U_6Eb4",itemThumbnailImage:"W_7rdk H_1WugET",itemName:"W_7sfl",itemProviderName:"W_7sfl"}},_key:"Z2wc6iA"}},function(e,t,a){"use strict";e.exports={className:{default:{backdrop:"p_R T_0 L_0 R_0 B_0 Z_f8a",wrapperContainer:"D_F p_a L_0 B_7iGr H_3rdfm W_6D6F k_w I_52qC b_Z14vXdP e_dRA j_20baFh A_6DUj ir_n Z_f8a",stationeryContainer:"D_F em_N ek_BB P_Z1fenNR",clearStationeryButtonContainer:"t_r je_eo6 D_Z1YJkyX gl_CH ab_C",clearStationeryButton:"C_Z2aVTcY r_P N_6LEV",closeWrapper:"N_eo6 je_eo6 T_dm5 R_dm5",carouselContainer:"D_F em_N ek_BB E_6Fd5"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{wrapperContainer:"H_3nNB4",stationeryContainer:"X_fq7",carouselContainer:"E_fq7",clearStationeryButtonContainer:"je_eo6 N_eo6",clearStationeryButton:"N_fq7"}},_key:"16WPrh"}},function(e,t,a){"use strict";e.exports={className:{default:{backdrop:"p_a T_0 L_0 R_0 B_0 Z_7G9R",gifFinderContainer:"k_w p_a B_7iGr j_nWwhY I_52qC P_Z2okp9v Z_7G9R iy_h",resultSection:"aa_C ab_C gl_C D_F H_3rtg7 M_Z2eeeUH",toolbarGifIcon:"I_ZnIF8Y",gifPopupTopArea:"D_F gl_CH P_C04i4"}},_key:"1AEV7g"}},function(e,t,a){"use strict";e.exports={className:{default:{errMsg:"F_N t_C"}},_key:"fOtwS"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_X E_eo6 o_h p_R V_GM",overlay:"ab_C q_ak5kB b_Z1dQEKn k_w C_Z2aVTcY r_P D_F L_0 P_3gJOe p_a t_C T_0 W_6D6F",overlayText:"A_6DUj ge_A i_6EqO J_N W_q mq_AQ",img:"I_ZpQYvz"}},_key:"V76dH"}},function(e,t,a){"use strict";e.exports={className:{default:{rowContainer:"J_x"}},_key:"Z1ywoRP"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6D6F W_6D6F iz_FF",gifLoadingSection:"P_3mS2U"}},_key:"Z1Ub3Ln"}},function(e,t,a){"use strict";e.exports={className:{default:{searchSection:"D_F Y_6Fd5 p_R o_A t_l",categoryContainer:"k_w F_dHh ha_n M_0 P_0 D_F N_fq7",categoryDiv:"J_x",hiddenBoldCategoryText:"D33_B dq33_Z1WN6IG u33_b H33_dBP C33_T o33_h v33_h U33_68pj",categories:"C_Z1YRXYn r_P D_X H_6UbO i_6UbO Q_6MGW",categorySelected:"C_Z281SGl r_P D_X H_6UbO i_6UbO Q_6MGW m_mRxou u_b",clearButtonContainer:"W_6NIX"}},_key:"da9fO"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_C",button:"C_Z2aVTcY M_E8xte C4_Z29WjXl r4_P i_6FYl u_dPo"},cardExpanded:{container:"ab_CI"}},_key:"ECgWh"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_CI W_3zLco j_ZqTdtW I_4SSH",bottom:"Y_6Eb4 D_F",mainContent:"P_1DTVp9 W_3ze8R",close:"M_fq7",cancel:"b_n A_6EqO Q_fq7 C_Z2aVTcY I_52qC r4_P P_Zlnyey",address:"u_e69",buttonText:"a_3np4q i_6FIA",loadingIndicator:"D_F gl_C ab_C H_3rtg7 W_3ze8R",explanation:"C_Z1YRXYn Y_6Eb4",separator:"Y_6Eb4 m_Z14vXdP",label:"Q_eo6",option:"Y_6Eb4",text:"A_6FsP"}},_key:"oCnPQ"}},function(e,t,a){"use strict";e.exports={className:{default:{dialog:"W_3DPo5 k_w I_52qC D_F ek_BB P_1wbmjs e_dRA gl_C",close:"ac_CH",title:"D_F Y_36JN3 U_6Eb4 A_6MGW i_6MGW ab_AJ H_74JI W_3w6xl",rowContainer:"D_F eo_x bn_dBP bm_FJ bj_2spJWC A_6EqO i_6FIA o_h gl_FM H_7iGr ab_C X_eo6 N_eo6",adRowContainer:"D_F eo_x bn_dBP bm_n bj_2spJWC A_6EqO i_6FIA o_h gl_FM H_7iGr ab_C X_eo6 N_fam r_P I_ZnIF8Y ac_C W_3DrSs e_eo6 k_w",avatar:"en_0 i_0 e_6D6F",content:"D_F ek_BB eo_x Q_fq7 E_fq7 W_0 em_N",contentRow:"D_F eo_x ab_AJ cZ14h4A4_6EGz",vendorName:"E_fq7 u_b o_h G_e J_EN",expirationTime:"o_h G_e J_EN",sponsored:"A_6DEy ab_C D_F C_52qC E_eo6 P_3gIgH I_ZxFlP3 u_b gl_C H_6Eb4 b_0",description:"C_Z1Xxgu0 o_h G_e J_x em_N cZ14cCcL_6EGz D_I",buttonUnclipped:"I_52qC C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C cZ14cCcL_6DEy W_3nhzy H_72FG P_eo6 em_0 I4_1uvRUE I3_1uvRUE",couponAdButton:"I_ZnIF8Y C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C cZ14cCcL_6DEy W_3nhzy H_72FG P_eo6 em_0 I4_1uvRUE I3_1uvRUE k_w",couponAdIconWrapper:"D_F gl_C ab_C H_6UbO W_6UbO",buttonClipped:"I_Z287E9E C_52qC l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_Z1E2XDm M_0",buttonText:"Q_6Eb4 u_b J_EN",buttonTextUnclipped:"Q_eo6 J_EN",controls:"je_eo6"},noBottomBorder:{rowContainer:"bj_T"},boldButton:{couponAdButton:"cn_e8l"}},_key:"cjh7N"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"k_w W_Z2wm94G b_Z14vXdP P_fq7 M_ZOdT7q H_7zdH",anchor:"D_F",image:"s_7jIs W_7jIs H_7jIs M_1wVxIt im_BE",detail:"o_h D_F ek_BB gl_FM",priceContainer:"D_F",infoContainer:"D_F ek_BB em_N gl_FM",sauce:"u_b J_x G_e o_h",message:"A_6Eb4 i_6EqO C_Z1Xxgu0",price:"u_b A_6EWk E_eo6",originalPrice:"S_DB C_Z1Xxgu0"},fullWidth:{container:"W_Z2m5DMn"}},_key:"Z1WcTJX"}},function(e,t,a){"use strict";e.exports={className:{default:{filler:"em_N",container:"D_F ek_BB P_24ydJJ I_52qC",header:"D_F gl_FM H_6Urz ab_C",locationNearYou:"A_6EqO C_Z281SGl u_b",expandButton:"H_qc W_qc D_F gl_C ab_C",locatorContent:"em_N N_6Fd5 D_F H_3nhzy cn_dBP e_dRA cg_FJ l_ZnIF8Y U_fq7 Y_fq7",locatorIcon:"D_F gl_C ab_C E_6Fd5 H_qJ W_rd Q_6LEV",content:"D_F ab_C",mapContainer:"D_F W_3nhzy H_6D6F E_6Fd5 Q_67SN Y_67SN",mapImage:"H_6D6F W_6D6F",details:"D_F ek_BB em_N H_6D6F Y_6Eb4",storeDetails:"D_F H_7sv6",label:"D_F ab_C C_Z1TsNWR A_6DUj",nameAndUpdateLocation:"D_F gl_FM H_6FIA U_fq7",hoursAndPhone:"D_F ek_BB em_N gl_FM",locationAndDistance:"D_F ek_BB em_N gl_FM",name:"C_Z281SGl u_b A_6EWk H_pJ",updateLocation:"H_pJ C_1nv3qR A_6DUj r_P",hoursIcon:"D_F gl_C ab_C E_6Fd5 H_3o33c W_3o33c",hoursDetails:"D_F ek_BB H_6VdP",locationIcon:"D_F gl_C ab_C E_6Fd5 H_3o33c W_3o33c",locationDetails:"D_F ek_BB H_6VdP",callIcon:"D_F gl_C ab_C E_6Fd5 H_3o33c W_3o33c",callDetails:"D_F ek_BB H_6VdP",distanceIcon:"D_F gl_C ab_C E_6Fd5 H_3o33c W_3o33c",distanceDetails:"D_F ek_BB H_6VdP",text:"C_Z281SGl A_6EqO",textLink:"C_1nv3qR A_6EqO",separator:"I_ZpQYvz H_eo6"}},_key:"Z16VRuX"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F",cardGroupParent:"D_F ek_BB W_6D6F",cardGroupContainer:"I_52qC W_6D6F",header:"u_b H_73HH i_73HH ab_C X_6Fd5 D_F ek_EZ",separator:"I_ZpQYvz H_eo6",cardContainer:"X_fq7 N_eo6 D_F eo_HB",halloweenCardContainer:"I_Z29e4g2 X_fq7 N_eo6 D_F eo_HB",expandContainer:"D_F",expandSpacing:"em_O",expandButton:"H_6LEV ab_C I_2iedUU e_dRA C_Z2aW2JT U_6Fd5 E_6Fd5 D_F X_fq7 N_eo6 A_6DUj r_P",expandButtonText:"em_O u_e69",autoClipToggle:"D_F ek_EZ ab_C E_6LEV Q_A",autoClipMessage:"u_dPo Q_6Eb4 A_6DUj",whiteSpaceBar:"je_6DEy W_6D6F c_AO",partnerAttributionIcon:"Q_eo6",sponsoredContainer:"D_F ab_C",sponsoredIcon:"D_F ab_C M_Z2qtLX C_Z2drWk6 cdPFi_Z2drWk6",sponsored:"A_6DEy ab_C D_F C_52qC P_3gIgH I_ZxFlP3 u_b gl_C H_6Fd5 e_dRA"}},_key:"Z1aFbyx"}},function(e,t,a){"use strict";e.exports={className:{default:{infoTable:"P_15dmEd",headingContainer:"D_F P_Ic91E",title:"W_3mS2U em_N u_b A_6EWk M_0 J_x o_h G_e",calendarLink:"C_Z2aVTcY A_6DUj",contentContainer:"D_F aa_CI ek_BB eo_HB H_7ALe",infoItem:"H_73HH W_e5X D_F ek_EZ P_1wVxIt k_w",infoItemFull:"H_73HH W_6D6F D_F ek_EZ",infoHeading:"A_6DUj C_Z1TsNWR i_6EWk",infoDescription:"a_3rdfm c26zcWN_3s0hC cZ10Gnka_3vxrN cWeabN_3z5BY A_6EqO i_6EGz",iconContainer:"N_6Fd5 D_F ab_C gl_C P_Z19ckRV",ellipsisText:"J_x o_h G_e",videoLink:"C_Z2aVTcY D_B i_6EGz",infoDetails:"o_h"},compact:{title:"W_3qWeB A_6EqO",infoDescription:"J_x A_6DUj"}},_key:"qPEuK"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"e_dRA p_R D_F ab_C gl_C H_3nWnH W_3nV5V F_27sF7m ek_BB",dateText:"p_a t_C H_6D6F W_6D6F i_3nG7c A_6TFj y_Z26egim u_b cZuy7p9_T",subText:"C_52qC y_Z2uhb3X A_6Eb4 u_b gp_dBP"},"size-L":{container:"M_0 W_3mT4V H_3nNQO",dateText:"ab_C A_6FsP jb_e8l",subText:"A_6DUj"},"theme-ATT":{container:"aw_Z2uFeNc",dateText:"q_Z2uFeNc C_Z2dxrGx"},"theme-FRONTIER":{container:"aw_Z16GALF",dateText:"q_Z16GALF C_Z1A0QhA"},"theme-ROGERS":{container:"aw_2eVLEa",dateText:"q_2eVLEa C_Z21W7Hh"},"theme-BT":{container:"aw_2dlp0g",dateText:"q_2dlp0g C_Z20SNAa"},"theme-SKY":{container:"aw_Z77h2R",dateText:"q_Z77h2R C_Z2dycH0"},"theme-DEFAULT":{container:"aw_Z1CkV98",dateText:"q_Z1CkV98 C_Z1XVK9k"},"theme-SUNRISE":{container:"aw_2bffSp",dateText:"q_2bffSp C_ZmGspq"},"theme-AQUA_GREEN":{container:"aw_1me547",dateText:"q_1me547 C_Z21AbCW"},"theme-AQUA_BLUE":{container:"aw_2wWOnw",dateText:"q_2wWOnw C_Z2bhAnS"},"theme-DEEP_PURPLE":{container:"aw_Z1V7woE",dateText:"q_Z1V7woE C_Z22C2iL"},"theme-BLUE_NIGHT":{container:"aw_ZRxwiL",dateText:"q_ZRxwiL C_Z285BEX"},"theme-DARK_GREY":{container:"aw_2eVLEa",dateText:"q_2eVLEa C_Z21W7Hh"},"theme-NIGHT_LANDSCAPE":{container:"aw_PqDUS",dateText:"q_PqDUS C_Z1UEcsX"},"theme-ROADTRIP":{container:"aw_Z1P3J5w",dateText:"q_Z1P3J5w C_ZrkPvI"},"theme-SUNSET_AUSSIE":{container:"aw_2r9mbU",dateText:"q_2r9mbU C_ZmlXUP"},"theme-LIGHTHOUSE":{container:"aw_2lxUNE",dateText:"q_2lxUNE C_Z1VDTK1"}},_key:"Z1ElLSH"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_EZ P_WY39l z_Z12nDQf A_6DUj t_C",replyText:"X_fq7 N_fq7 A_6EqO C_Z2dxTPG D_F ab_C i_6MGW r4_P",edit:"A_6EqO C_Z2dxTPG D_F ab_C i_6MGW r4_P",confirmationText:"D_F ab_C M_3zDxc A_6DUj C_Z1TsWug i_6MGW",text:"N_fq7",showEdit:"D_F ab_C",yes:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z2dwhMO i_6MGW",no:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z1sxms7 i_6MGW",icon:"D_F N_fq7",loadingContainer:"D_F ab_C X_6Fd5 N_6Fd5 A_6EqO gl_C ek_BB",maybe:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z1rAmx3 i_6MGW",calendarLink:"C_Z2aVTcY A_6DUj"},isChecked:{replyText:"u_b"}},_key:"irYEA"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"b_Z12nDQf e_dRA o_h",container:"o_h D_F ek_EZ",content:"em_N D_F ek_BB",retryButton:"r_P C_Z2aVTcY A_6EqO b_n q_T",errorMessage:"M_fQoXz",loadingContainer:"H_3nV5V D_F gl_C ek_BB"},compact:{loadingContainer:"H_3nNQO W_3A8F0",container:"H_3nNQO W_3A8F0"}},_key:"jXC1z"}},function(e,t,a){"use strict";e.exports={className:{default:{replySuggestionsContainer:"H_73Xs D_F ab_FO r_BN gl_C Q_69H5 E_36RhU",replyItem:"b_Z14vXdP e_3mS2U I_52qC P_Z1otA7t M_Z1VLFyq A_6Eb4 C_Z1VRpVF r_P C4_Z2aVTcY"}},_key:"22ySMS"}},function(e,t,a){"use strict";e.exports={className:{default:{embeddedMediaPlayer:"b_n",errorContainer:"P_Z1YYbzT I_Z281SGl C_52qC"},"animate-true":{embeddedMediaPlayer:"lv_ZhuFRe"},"beforeAnimation-true":{embeddedMediaPlayer:"W_dm5 H_dm5 Q_e5X Y_dPd O_0"}},_key:"24JU7M"}},function(e,t,a){"use strict";e.exports={className:{default:{anchorContainer:"I_ak5mD e_dRA j_2kgqsw P_wpoVE",shareLink:"P_Zlnyey i_dm5 A_6EWk D_B I4_2ieea9",shareLinkText:"Q_fq7 E_eo6 p_R B_eo6",shareMenuContainer:"P_Z2a0Hq8 s_3n2AO",menuButton:"P_Z1otACY H_6Fd5 W_6Fd5"}},_key:"2mq5PK"}},function(e,t,a){"use strict";e.exports={className:{default:{playButtonContainer:"p_a r_P P_6DEy",closeButtonContainer:"p_a T_6Fd5 R_6Fd5 W_6Fd5 H_6Fd5 e_fq7 j_1tmztg I_ak5mD",closeButtonPositioner:"p_a L_36Jhx T_1zJPzR",shareButtonContainer:"p_a T_6Fd5 R_6Fd5"},"cardSize-MINI":{shareButtonContainer:"T_fq7 R_fq7"},"cardSize-APPEND":{shareButtonContainer:"T_fq7 R_fq7"}},_key:"ZF6IWY"}},function(e,t,a){"use strict";e.exports={className:{default:{description:"u_dPo C_Z1YRXYn U_6Eb4",folderSelectorInput:"k_w W_6D6F",moreOptions:"C_Z2aVTcY A_6EqO D_X Y_6Fd5"}},_key:"1Ly1C6"}},function(e,t,a){"use strict";e.exports={className:{default:{row:"D_F W_6D6F H_6D6F p_R P_3gIMd ir3_0"}},_key:"25sbPk"}},function(e,t,a){"use strict";e.exports={className:{default:{loadingBar:"W_6D6F H_dRA h_2rNL56 Z_qc p_a I_Z2aVTcY ah_5h53M",loadingBarEnd:"W_6D6F h_Zc5EsY H_dRA Z_qc p_a I_Z2aVTcY ah_1MDq3I"},"themeMode-DARK":{loadingBar:"I_ZamTeg",loadingBarEnd:"I_ZamTeg"}},_key:"1xnb7N"}},function(e,t,a){"use strict";e.exports={className:{default:{pillContainer:"r_P D_F H_6UbO e_6Fd5 b_ZU7xz1 M_ccnAd",categoryText:"H_6Fd5 y_Z2uhb3X A_6EGz u_e69 i_6CAU C_ZamTeg M_Z215m2p J_x G_e o_h",icon:"W_6LEV H_6LEV M_E8xte cdPFi_ZamTeg"},following:{pillContainer:"b_n I_ZamTeg M_ZFpSiS",categoryText:"C_52qC M_ZlO3Sx",icon:"M_1Rmr9W"},isCompact:{pillContainer:"H_6LEV e_6DEy M_E8xte a_3nN5y",categoryText:"H_6EqO A_6DUj M_Zlr4UB",icon:"W_6Fd5 H_6Fd5 M_Qz7yu"},"contextOfUse_error-overflowNumber_false":{categoryText:"X_eo6"},"contextOfUse_error-expand_false":{pillContainer:"b_n",icon:"M_Z24KB94"},"contextOfUse_error-category_true":{pillContainer:"r_P D_F H_6UbO e_6Fd5 b_1nDsNG M_ccnAd",categoryText:"H_6Fd5 y_Z2uhb3X A_6EGz u_e69 i_6CAU C_ZkiIcp M_Z215m2p J_x G_e o_h",icon:"W_6LEV H_6LEV M_Z24KB94 cdPFi_ZkiIcp"}},_key:"ZuftaM"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB I_52qC W_q P_ZVJPWI",pillsWrapper:"D_F eo_HB",separator:"I_ZpQYvz H_eo6",heading:"U_6EGz y_Z2uhb3X A_6EqO u_b C_Z281SGl W_3rJgR",popoverTitle:"y_Z2uhb3X A_6EqO u_b C_Z281SGl P_Z1VB8Pp",popoverPillsWrapper:"D_F eo_HB P_ZhyxBl a_3vit4",popoverPill:"jb_eTB"},"zAltitude-900":{popover:"Z_f8a"},isCompact:{pillsWrapper:"eo_x"}},_key:"2ojfcN"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_EZ em_N W_3A2d9 ab_C",close:"p_a T_fq7 R_6Fd5",actions:"D_F gl_FM ab_C W_6D6F",buttonContainer:"M_6LEV",buttonText:"J_EN",buttonUnclipped:"I_52qC C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_14vtzo I4_1uvRUE I3_1uvRUE",separator:"W_dRA H_7He5 I_ZpQYvz",info:"Q_6LEV H_3mS2U W_3nW7W D_F ek_BB gl_C",date:"M_2cGPEi",month:"C_ZKWIFy A_6DUj W_72FG t_C u_b i_6LEV",header:"J_x G_e o_h",body:"C_Z1Xxgu0",day:"aw_Z18KWI e_dRA W_72FG A_6LEV cZ2qqFA2_72FG H_6LEV C_52qC je_6DEy jb_6DEy t_C"}},_key:"oW8bv"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N ej_0 en_N D_F k_w I_52qC",navContainer:"D_F q_ptT19",mainContent:"em_N D_F",helpLinks:"hd_n P_eo6",quotaTotal:"M_0 A_6DUj",quotaUsed:"M_0 u_b"}},_key:"Z2s0MSp"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"em_N D_F",navContainer:"D_F I_ptT19 a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",navContainerWide:"D_F I_ptT19 a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU",sidebar:"em_N D_F ek_BB je_6Fd5 I_ptT19 W_6D6F",arrowLeft:"P_2jztU D_F F_n",headerLink:"S_n D_X A_6EqO i_6Fd5 C_Z2aVTcY t_l k_w W_6D6F P_ZmsLix r_P ac_C u_e69",linksContainer:"em_N D_F iz_A iy_h ab_FT P_1Eu7sD ek_BB d_0",tabLinks:"em_N en_0 D_F",quotaTotal:"M_0 A_6DUj C_Z1YRXYn",quotaUsed:"M_0 u_b",navLinks:"M_0 em_N D_F hd_n ek_BB P_0 W_6D6F",navLink:"D_F ab_C",tabLinkText:"k_w W_6D6F P_1l1yrf r_P i_6EqO ir3_1JO2M7 it3_dBP I4_2ieeaE C_Z1YRXYn A_6DUj u_e69",tabNavText:"k_w W_6D6F P_1l1yrf r_P i_6Fd5 ir3_1JO2M7 it3_dBP I4_2ieeaE D_F gl_FM",footer:"ac_C W_3nF5b z_Z14vXdP Y_6Fd5 je_6MGW U_6MGW",footerContent:"X_6Fd5",rightAlign:"Y_689y U_69bz ac_C",loadingIndicator:"H_6D6F W_6D6F D_F ek_BB gl_C"},selected:{tabNavText:"u_b C_Z281SGl n_Z1dQEKn I_2ieeE8"},disabled:{tabNavText:"C_Z1TsNWR r4_DZ"}},_key:"Z2tYmfH"}},function(e,t,a){"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F ek_BB eo_HB gl_C ab_C",errorMessage:"A_6FsP Q_fq7 ab_C gl_C",warning:"N_eo6 p_R T_eTB",retryMessage:"r_P C_Z2aVTcY"}},_key:"2jJYME"}},function(e,t,a){"use strict";e.exports={className:{default:{mainContent:"em_N D_F j_ZlOSbd"}},_key:"15eYCF"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6VdP",hint:"A_6EqO C_Z1YRXYn",title:"u_N A_6FsP M_Ic7YD C_Z281SGl i_6LEV"}},_key:"1zgFYj"}},function(e,t,a){"use strict";e.exports={className:{default:{previewWrapper:"iz_A W_3vPwA P_ZzaS5e",previewTitle:"M_0 u_dPo C_Z1YRXYn U_fq7",container:"D_F aw_Z22yhkg ba_BH ek_BB H_3s0hC j_2c97b3",header:"D_F ab_C H_73HH",logoContainer:"en_0 em_0 W_7rdk D_F ab_C gl_C",logo:"W_72FG",search:"F_N D_F ab_C gl_FO",searchBox:"I_52qC e_dBP H_6Fd5 W_3nr8s",searchBtn:"W_72FG H_6Fd5 e_dRA M_3gIMd I_ak5jA",tabContainer:"I_a0xJ8 D_n",tabs:"M_0 P_0 D_F hd_n H_6D6F",tabItem:"H_6D6F E_dBP D_X W_7bcz I_a0xIC cj_dRA ck_dRA",leftRailTabSpacer:"H_6D6F E_0 D_X W_7rdk I_T cj_dRA ck_dRA",tabItemWhite:"H_6D6F E_dBP D_X W_7bcz I_52qC cj_dRA ck_dRA",mainContent:"F_N D_F o_h",rail:"F_27mRw7 I_ZnIF8Y",messageList:"F_N D_F ek_BB P_6Eb4 I_52qC",listItem:"D_F o_h",messageListItem:"M_1IaimO",firstColumn:"P_0 hd_n W_74JI M_3gJOe",sender:"H_eo6 W_74JI I_ZpQYvz e_6LEV",firstColumnSnippet:"D_n H_eo6 M_3HLUz W_74JI I_ZnIF8Y e_6LEV",secondColumn:"F_N P_0 hd_n W_7Ig6 M_3gJOe",wrapper:"D_F",subject:"H_eo6 E_eo6 I_ZpQYvz e_6LEV",secondColumnSnippet:"D_n",previewPane:"F_ZSWbjt je_6FIA",messageItems:"M_0 P_0 hd_n",avatar:"O_cMp e_e5X W_6MGW H_6MGW M_1Eu6qC",messageViewItem:"H_eo6 I_ZpQYvz e_6LEV M_Z3NB4K"},snippets:{secondColumnSnippet:"M_0 D_F H_eo6 I_ZnIF8Y e_6LEV"},multiTaskModeSetting:{tabContainer:"D_F H_6Fd5"},"previewPaneSetting-0":{previewPane:"D_n"},"previewPaneSetting-1":{messageList:"ek_EZ",secondColumn:"D_n"},verticalSnippets:{firstColumnSnippet:"D_B"},"msgListDensity-1":{messageListItem:"M_1HKSdG"},"msgListDensity-2":{messageListItem:"M_1HT1B4"},"themeMode-MEDIUM":{rail:"I_sgPuT",tabContainer:"I_sgPtS"},darkModeNonPhotoTheme:{rail:"I_sgPuT",tabContainer:"I_sgPtS",messageList:"I_sgPwq",tabItem:"I_sgPuT",tabItemWhite:"I_sgPwq"},darkModePhotoTheme_NIGHT_LANDSCAPE:{rail:"I_cOYCy",tabContainer:"I_cOYBx",tabItem:"I_cOYCy",messageList:"I_cOYF6",tabItemWhite:"I_1qHFVE"},darkModePhotoTheme_ROADTRIP:{rail:"I_1iaDqt",tabContainer:"I_1iaDps",tabItem:"I_1iaDqt",messageList:"I_1iaDt1",tabItemWhite:"I_Zrb5Uq"},darkModePhotoTheme_SUNSET_AUSSIE:{rail:"I_2woiYa",tabContainer:"I_2woiX9",tabItem:"I_2woiYa",messageList:"I_2woj1H",tabItemWhite:"I_2bmusn"},darkModePhotoTheme_LIGHTHOUSE:{rail:"I_t5YKp",tabContainer:"I_t5YJo",tabItem:"I_t5YKp",messageList:"I_t5YMW",tabItemWhite:"I_ZsxwGM"},cueMode:{previewWrapper:"W_3zSGg",search:"gl_CI Q_6Fd5",searchBox:"W_3o5DP",searchBtn:"W_74JI"},useThirdGenerationLogo:{logo:"W_A H_6EWk",search:"gl_FO"}},_key:"12CzCW"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6UbO",hint:"A_6DUj C_Z1TsNWR",title:"u_N A_6FsP M_Ic9xa",categoryRightRailContainer:"P_6MGW ab_C D_F H_3s0hC gl_C W_3vPwA U_7iGr",categoryRightRailImg:"D_B K_3s0hC a_3vPwA"}},_key:"Z71Eyi"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"o_A em_N D_F ek_BB",previewContainer:"U_6UbO",mainWrapper:"em_N iz_A P_ZzaS5e",listWrapper:"Y_6FIA P_0 hd_n",pageHeader:"U_6VdP",toggleBtn:"U_6UbO",formControl:"je_fq7 U_6Fd5",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7",mB40:"U_72FG",headerTitle:"D_F u_b A_6EqO M_Ic9xa",arrow:"h_22ufi4 W_6LEV H_6LEV",btnPrimary:"r_P q_T D_X H_6UHk",settingsSubHeaderLinkStyle:"C_Z2aVTcY S_n"},disabled:{overlay:"O_cMp cZW7ROP_n"}},_key:"7KxpF"}},function(e,t,a){"use strict";e.exports={className:{default:{previewSection:"W_3AiJp",mainWrapper:"em_CS iz_v P_ZzaS5e",header:"D_F o_h ek_BB Q_6Fd5",avatar:"en_0 D_F",previewTitle:"M_Z1bycTG u_dPo C_Z1YRXYn",listContainer:"F_N q_52qC P_6Fd5 j_ZdTu0m",listWrapper:"M_0 P_0 hd_n U_6Fd5",listItemHeader:"D_F ab_C gl_CI U_6LEV",listItem:"D_B w_AS i_CS Y_fq7 Q_7bcz U_fq7 o_A",msgPreview:"je_0",signaturePreview:"Y_fq7",accName:"u_b o_h J_x G_e",phoneText:"C_ZvsWfq",to:"u_b E_eo6 C_Z1TsNWR"}},_key:"Z1ADQu6"}},function(e,t,a){"use strict";e.exports={className:{default:{tweetWrapper:"P_6Fd5 e_dRA b_Z14vXdP",tweet:"D_F ek_BB",twitterProfile:"D_F ab_C",twitterAccount:"em_N D_F ek_BB X_fq7",twitterAvatar:"e_dRA W_6UbO H_6UbO",userName:"u_b",userId:"C_ZvsWfq",tweetHeader:"D_F gl_FM",tweetBody:"Y_6Fd5 U_6Fd5",tweetFooter:"D_F ab_C",tweetDate:"A_6DUj C_ZvsWfq",tweetAction:"Q_A D_F ab_C gl_FL W_3mS2U"}},_key:"Z1YWKfK"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C gl_ZEO9jm P_1BSkPU m_Z12nDQf q4_1I4yPF",expiredStatusWrapper:"Q_A ab_C A_6DUj i_6LEV",datesWrapper:"Q_6Eb4 o_h J_x C_Z1VRpVF ab_C gl_FM",datesArrow:"D_X H_6LEV V_AP ab_C Q_fq7 E_fq7",accountEmail:"M_1wVxIt u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",accountDescription:"M_0 u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",messageWrapper:"C_ZnTFMv",typeTextWrapper:"Q_eo6 u_e69",statusIcon:"W_6LEV H_6LEV",syncingStatusIcon:"M_3gJOe",errorWrapper:"D_F s_3mT4V ab_C C_Z1TsNWR",errorIcon:"M_3gJOe"},selected:{listItem:"q_1I4yPF"}},_key:"KeKsz"}},function(e,t,a){"use strict";e.exports={className:{default:{mB40:"U_72FG",mainWrapper:"em_N iz_A P_ZzaS5e",formWrapper:"W_3A2IE",headerTitle:"D_F u_b A_6EqO M_Ic9xa",formControl:"je_fq7 U_6Fd5",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7",editorWrapper:"P_eo6 q_ptT19 b_efTvb",editor:"P_eo6",deleteButton:"Y_72FG",viewActionsContainer:"M_1xFF3T P_Z1Ve0sQ W_6D6F lv_Z243dI4"},disabled:{overlay:"O_cMp cZW7ROP_n"},viewActionsAnchored:{formWrapper:"jb_3mSyq U_74JI",viewActionsContainer:"j_ZXJQiW U_dm5 p_a I_52qC B_dm5 Z_d48"}},_key:"Z10l01i"}},function(e,t,a){"use strict";e.exports={className:{default:{domainNameControl:"Y_fq7 U_6Fd5",headerTitle:"D_F u_b A_6EqO M_Ic9xa",domainResponseWrapper:"b_efTvb P_3gIMd q_ptT19 j_ZMd7Gz Y_fq7",domainResponseSection:"U_fq7",fixedWidthOption:"W_3vqYW"},extraEditorPadding:{editor:"P_eo6"}},_key:"10TrqA"}},function(e,t,a){"use strict";e.exports={className:{default:{editorWrapper:"q_52qC e_dRA b_2w4l8N",rte:"iz_A k_w P_6Fd5 H_3n93F C_ZxFlP3"},focused:{editorWrapper:"j_2uOW4F"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"H_3zlCJ"}},_key:"Z1u5dH3"}},function(e,t,a){"use strict";e.exports={className:{default:{viewActions:"D_F ab_C H_6TFj M_1S6wUp",saveButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z29WjXl",cancelButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_52qC b_0 C_Z2aVTcY I4_2iedUU C4_Z29WjXl"},marginLess:{viewActions:"M_0"},disableSave:{saveButton:"O_cMq r_A I4_Z2aVTcY"}},_key:"UCERA"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_2Xpez",demoImgContainer:"ab_C D_F H_3s0hC gl_C W_3vPwA U_7iGr",demoImg:"D_B K_3s0hC a_3vPwA",header:"C_Z1YRXYn A_6EqO u_e69 U_6Fd5",listContainer:"hd_n P_0 M_0",listItem:"m_Z14vXdP m8_0",helpLink:"ab_C C_Z2aVTcY D_F H_73HH p_R",moreHelp:"I_2iedUU C_Z2aVTcY D_X A_6DUj u_e69 i_6VdP Y_6Fd5 P_1Eu7sD I4_2ieeaE"}},_key:"ZYywGY"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"x_Z14vXdP W_3vPwA iz_A P_ZzaS5e k_w",right:"em_N o_A D_F",pageHeader:"U_6VdP",formControl:"U_6VdP",selectbox:"W_6D6F",selectedTimeZone:"A_6DUj Y_eo6 C_ZvsWfq Q_6Fd5",sectionHeaderName:"M_ZlKroq D_F u_b i_6LEV A_6EWk",hint:"M_ZlKroq D_F A_6DUj C_Z1TsNWR",sectionHeaderContainer:"Y_6VdP"}},_key:"ZN4xv3"}},function(e,t,a){"use strict";e.exports={className:{default:{selectbox:"p_R",changeButtonContainer:"p_a T_0 R_0 Z_N P_fq7 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY",clearIconContainer:"p_a T_0 R_0 Z_N P_fq7",relatedInfo:"A_6DUj C_Z1YRXYn M_Z15KeeM P_Z1HqVOA",hint:"M_ZlKroq D_F A_6DUj C_Z1TsNWR",typeahead:"",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNWR J_x G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",typeaheadDropDown:"p_a ha_n P_0 M_0 W_3vqYW j_ZqTdtW I_52qC",typeaheadOption:"i_72FG P_1EudUu r_P J_x G_e o_h q_52qC q4_1I4yPF cZ1WADo5_1I4z5p",dropdownList:"p_a ha_n P_0 M_0 W_3vqYW j_ZqTdtW iz_A K_3z5BY q_52qC",timezoneUpdateTip:"C_ZkiIcp M_1IaimO"},error:{typeaheadInput:"bj_ZkiIcp bj3_ZkiIcp",relatedInfo:"C_ZkiIcp"}},_key:"nq0vN"}},function(e){e.exports=[{timezone:{name:"Africa/Abidjan"},city:"Abidjan",state:"Lagunes",country:"Cte dIvoire"},{timezone:{name:"Africa/Accra"},city:"Accra",state:"Greater Accra",country:"Ghana"},{timezone:{name:"Australia/Adelaide"},city:"Adelaide",state:"South Australia",country:"Australia"},{timezone:{name:"Africa/Algiers"},city:"Algiers",state:"Alger",country:"Algeria"},{timezone:{name:"Asia/Amman"},city:"Amman",state:"Amman",country:"Jordan"},{timezone:{name:"Europe/Amsterdam"},city:"Amsterdam",state:"North Holland",country:"Netherlands"},{timezone:{name:"America/Anchorage"},city:"Anchorage",state:"Alaska",country:"United States"},{timezone:{name:"Indian/Antananarivo"},city:"Antananarivo",state:"Antananarivo",country:"Madagascar"},{timezone:{name:"Pacific/Apia"},city:"Apia",state:"Tuamasaga",country:"Samoa"},{timezone:{name:"America/Araguaina"},city:"Araguaina",state:"Tocantins",country:"Brazil"},{timezone:{name:"America/Aruba"},city:"Aruba",state:null,country:"Aruba"},{timezone:{name:"America/Asuncion"},city:"Asuncion",state:"Asuncion",country:"Paraguay"},{timezone:{name:"Europe/Athens"},city:"Athens",state:"Attica",country:"Greece"},{timezone:{name:"Pacific/Auckland"},city:"Auckland",state:"Auckland Region",country:"New Zealand"},{timezone:{name:"Asia/Baghdad"},city:"Baghdad",state:"Baghdad",country:"Iraq"},{timezone:{name:"America/Bahia"},city:"Bahia",state:"Bahia",country:"Brazil"},{timezone:{name:"Asia/Baku"},city:"Baku",state:"Baki",country:"Azerbaijan"},{timezone:{name:"Africa/Bamako"},city:"Bamako",state:"Bamako",country:"Mali"},{timezone:{name:"Asia/Bangkok"},city:"Bangkok",state:"Bangkok",country:"Thailand"},{timezone:{name:"Africa/Banjul"},city:"Banjul",state:"Banjul",country:"The Gambia"},{timezone:{name:"America/Barbados"},city:"Barbados",state:null,country:"Barbados"},{timezone:{name:"Asia/Beirut"},city:"Beirut",state:"Beirut",country:"Lebanon"},{timezone:{name:"America/Belem"},city:"Belem",state:"Para",country:"Brazil"},{timezone:{name:"Europe/Belgrade"},city:"Belgrade",state:"Beograd",country:"Serbia"},{timezone:{name:"America/Belize"},city:"Belize",state:null,country:"Belize"},{timezone:{name:"Europe/Berlin"},city:"Berlin",state:"Berlin",country:"Germany"},{timezone:{name:"Africa/Blantyre"},city:"Blantyre",state:"Scotland",country:"United Kingdom"},{timezone:{name:"America/Bogota"},city:"Bogota",state:"Distrito Especial",country:"Colombia"},{timezone:{name:"America/Boise"},city:"Boise",state:"Idaho",country:"United States"},{timezone:{name:"Australia/Brisbane"},city:"Brisbane",state:"Queensland",country:"Australia"},{timezone:{name:"Europe/Brussels"},city:"Brussels",state:"Capital Region of Brussels",country:"Belgium"},{timezone:{name:"Europe/Bucharest"},city:"Bucharest",state:"Bucharest",country:"Romania"},{timezone:{name:"Europe/Budapest"},city:"Budapest",state:"Budapest",country:"Hungary"},{timezone:{name:"America/Argentina/Buenos_Aires"},city:"Buenos Aires",state:"Autonomous City of Buenos Aires",country:"Argentina"},{timezone:{name:"America/Buenos_Aires"},city:"Buenos Aires",state:"Autonomous City of Buenos Aires",country:"Argentina"},{timezone:{name:"Africa/Bujumbura"},city:"Bujumbura",state:"Bujumbura Mairie",country:"Burundi"},{timezone:{name:"Africa/Cairo"},city:"Cairo",state:"Cairo",country:"Egypt"},{timezone:{name:"America/Campo_Grande"},city:"Campo Grande",state:"Mato Grosso do Sul",country:"Brazil"},{timezone:{name:"America/Los_Angeles"},city:"Canary",state:"Oregon",country:"United States"},{timezone:{name:"America/Cancun"},city:"Cancun",state:"Quintana Roo",country:"Mexico"},{timezone:{name:"America/Caracas"},city:"Caracas",state:"Distrito Federal",country:"Venezuela"},{timezone:{name:"Africa/Casablanca"},city:"Casablanca",state:"Greater Casablanca",country:"Morocco"},{timezone:{name:"America/Argentina/Catamarca"},city:"Catamarca",state:"Catamarca",country:"Argentina"},{timezone:{name:"America/Cayenne"},city:"Cayenne",state:"Cayenne",country:"French Guiana"},{timezone:{name:"America/Chicago"},city:"Chicago",state:"Illinois",country:"United States"},{timezone:{name:"America/Chihuahua"},city:"Chihuahua",state:"Chihuahua",country:"Mexico"},{timezone:{name:"Europe/Chisinau"},city:"Chisinau",state:"Chisinau",country:"Moldova"},{timezone:{name:"Asia/Colombo"},city:"Colombo",state:"Western",country:"Sri Lanka"},{timezone:{name:"Europe/Copenhagen"},city:"Copenhagen",state:"Hovedstaden",country:"Denmark"},{timezone:{name:"America/Argentina/Cordoba"},city:"Cordoba",state:"Andalusia",country:"Spain"},{timezone:{name:"America/Costa_Rica"},city:"Costa Rica",state:null,country:"Costa Rica"},{timezone:{name:"America/Cuiaba"},city:"Cuiaba",state:"Mato Grosso",country:"Brazil"},{timezone:{name:"America/Curacao"},city:"Curacao",state:null,country:"Curacao"},{timezone:{name:"Africa/Dakar"},city:"Dakar",state:"Dakar",country:"Senegal"},{timezone:{name:"Africa/Dar_es_Salaam"},city:"Dar es Salaam",state:"Dar es Salaam",country:"Tanzania"},{timezone:{name:"America/Dawson_Creek"},city:"Dawson Creek",state:"British Columbia",country:"Canada"},{timezone:{name:"America/Denver"},city:"Denver",state:"Colorado",country:"United States"},{timezone:{name:"America/Detroit"},city:"Detroit",state:"Michigan",country:"United States"},{timezone:{name:"Asia/Dhaka"},city:"Dhaka",state:"Dhaka",country:"Bangladesh"},{timezone:{name:"Africa/Douala"},city:"Douala",state:"Littoral",country:"Cameroon"},{timezone:{name:"Asia/Dubai"},city:"Dubai",state:"Dubai",country:"United Arab Emirates"},{timezone:{name:"Europe/Dublin"},city:"Dublin",state:"Dublin",country:"Ireland"},{timezone:{name:"America/Edmonton"},city:"Edmonton",state:"Alberta",country:"Canada"},{timezone:{name:"America/El_Salvador"},city:"El Salvador",state:null,country:"El Salvador"},{timezone:{name:"Pacific/Fiji"},city:"Fiji",state:null,country:"Fiji"},{timezone:{name:"America/Fortaleza"},city:"Fortaleza",state:"Ceara",country:"Brazil"},{timezone:{name:"Africa/Gaborone"},city:"Gaborone",state:"South-East",country:"Botswana"},{timezone:{name:"America/Grand_Turk"},city:"Grand Turk Island",state:null,country:"Turks and Caicos Islands"},{timezone:{name:"GMT"},city:"Granite Mountain Air Station",state:"Alaska",country:"United States"},{timezone:{name:"Pacific/Guam"},city:"Guam",state:null,country:"Guam"},{timezone:{name:"America/Guatemala"},city:"Guatemala",state:null,country:"Guatemala"},{timezone:{name:"America/Guayaquil"},city:"Guayaquil",state:"Guayas",country:"Ecuador"},{timezone:{name:"America/Guyana"},city:"Guyana",state:null,country:"Guyana"},{timezone:{name:"America/Halifax"},city:"Halifax",state:"Nova Scotia",country:"Canada"},{timezone:{name:"America/Havana"},city:"Havana",state:"Ciudad de la Habana",country:"Cuba"},{timezone:{name:"Europe/Helsinki"},city:"Helsinki",state:"Uusimaa",country:"Finland"},{timezone:{name:"America/Hermosillo"},city:"Hermosillo",state:"Sonora",country:"Mexico"},{timezone:{name:"Asia/Ho_Chi_Minh"},city:"Ho Chi Minh City",state:"Ho Chi Minh",country:"Vietnam"},{timezone:{name:"Pacific/Honolulu"},city:"Honolulu",state:"Hawaii",country:"United States"},{timezone:{name:"America/Indiana/Indianapolis"},city:"Indianapolis",state:"Indiana",country:"United States"},{timezone:{name:"America/Indianapolis"},city:"Indianapolis",state:"Indiana",country:"United States"},{timezone:{name:"Europe/Istanbul"},city:"Istanbul",state:"Istanbul",country:"Turkey"},{timezone:{name:"Asia/Jakarta"},city:"Jakarta",state:"DKI Jakarta",country:"Indonesia"},{timezone:{name:"America/Jamaica"},city:"Jamaica",state:null,country:"Jamaica"},{timezone:{name:"Asia/Jerusalem"},city:"Jerusalem",state:"Jerusalem",country:"Israel"},{timezone:{name:"Africa/Johannesburg"},city:"Johannesburg",state:"Gauteng",country:"South Africa"},{timezone:{name:"America/Argentina/Jujuy"},city:"Jujuy Province",state:"Jujuy Province",country:"Argentina"},{timezone:{name:"America/Juneau"},city:"Juneau",state:"Alaska",country:"United States"},{timezone:{name:"Asia/Kabul"},city:"Kabul",state:"Kabul",country:"Afghanistan"},{timezone:{name:"Africa/Kampala"},city:"Kampala",state:"Kampala",country:"Uganda"},{timezone:{name:"Asia/Karachi"},city:"Karachi",state:"Sindh",country:"Pakistan"},{timezone:{name:"Africa/Khartoum"},city:"Khartoum",state:"Al Khartum",country:"Sudan"},{timezone:{name:"Africa/Kigali"},city:"Kigali",state:"Kigali Province",country:"Rwanda"},{timezone:{name:"Africa/Kinshasa"},city:"Kinshasa",state:"Kinshasa",country:"Democratic Republic of Congo"},{timezone:{name:"Asia/Kolkata"},city:"Kolkata",state:"West Bengal",country:"India"},{timezone:{name:"Asia/Kuala_Lumpur"},city:"Kuala Lumpur",state:"Kuala Lumpur",country:"Malaysia"},{timezone:{name:"Asia/Kuwait"},city:"Kuwait",state:null,country:"Kuwait"},{timezone:{name:"Europe/Kiev"},city:"Kyiv",state:"Kyiv City Municipality",country:"Ukraine"},{timezone:{name:"America/La_Paz"},city:"La Paz",state:"La Paz Department",country:"Bolivia"},{timezone:{name:"America/Argentina/La_Rioja"},city:"La Rioja",state:"La Rioja",country:"Spain"},{timezone:{name:"Africa/Lagos"},city:"Lagos",state:"Lagos",country:"Nigeria"},{timezone:{name:"Africa/Libreville"},city:"Libreville",state:"Estuaire",country:"Gabon"},{timezone:{name:"America/Lima"},city:"Lima",state:"Lima Metropolitan Area",country:"Peru"},{timezone:{name:"Europe/Lisbon"},city:"Lisbon",state:"Lisbon",country:"Portugal"},{timezone:{name:"Europe/London"},city:"London",state:"England",country:"United Kingdom"},{timezone:{name:"America/Los_Angeles"},city:"Los Angeles",state:"California",country:"United States"},{timezone:{name:"America/Kentucky/Louisville"},city:"Louisville",state:"Kentucky",country:"United States"},{timezone:{name:"Africa/Luanda"},city:"Luanda",state:"Luanda",country:"Angola"},{timezone:{name:"Africa/Lubumbashi"},city:"Lubumbashi",state:"Katanga Province",country:"Democratic Republic of Congo"},{timezone:{name:"Africa/Lusaka"},city:"Lusaka",state:"Lusaka",country:"Zambia"},{timezone:{name:"Europe/Luxembourg"},city:"Luxembourg",state:null,country:"Luxembourg"},{timezone:{name:"America/Maceio"},city:"Maceio",state:"Alagoas",country:"Brazil"},{timezone:{name:"Europe/Madrid"},city:"Madrid",state:"Madrid",country:"Spain"},{timezone:{name:"Pacific/Majuro"},city:"Majuro",state:"Majuro",country:"Marshall Islands"},{timezone:{name:"Asia/Makassar"},city:"Makassar",state:"South Sulawesi",country:"Indonesia"},{timezone:{name:"Europe/Malta"},city:"Malta",state:null,country:"Malta"},{timezone:{name:"America/Managua"},city:"Managua",state:"Ciudad de la Habana",country:"Cuba"},{timezone:{name:"America/Manaus"},city:"Manaus",state:"Amazonas",country:"Brazil"},{timezone:{name:"Asia/Manila"},city:"Manila",state:"National Capital Region",country:"Philippines"},{timezone:{name:"Africa/Maputo"},city:"Maputo",state:"Maputo",country:"Mozambique"},{timezone:{name:"America/Martinique"},city:"Martinique",state:null,country:"Martinique"},{timezone:{name:"Indian/Mauritius"},city:"Mauritius",state:null,country:"Mauritius"},{timezone:{name:"Australia/Melbourne"},city:"Melbourne",state:"Victoria",country:"Australia"},{timezone:{name:"America/Argentina/Mendoza"},city:"Mendoza",state:"Mendoza",country:"Argentina"},{timezone:{name:"America/Merida"},city:"Merida",state:"Merida",country:"Venezuela"},{timezone:{name:"America/Mexico_City"},city:"Mexico City",state:"Distrito Federal",country:"Mexico"},{timezone:{name:"America/Moncton"},city:"Moncton",state:"New Brunswick",country:"Canada"},{timezone:{name:"America/Monterrey"},city:"Monterrey",state:"Nuevo Leon",country:"Mexico"},{timezone:{name:"America/Montevideo"},city:"Montevideo",state:"Montevideo",country:"Uruguay"},{timezone:{name:"America/Montreal"},city:"Montreal",state:"Quebec",country:"Canada"},{timezone:{name:"Europe/Moscow"},city:"Moscow",state:"Moscow Federal City",country:"Russia"},{timezone:{name:"Africa/Nairobi"},city:"Nairobi",state:"Nairobi Area",country:"Kenya"},{timezone:{name:"America/Nassau"},city:"Nassau",state:"New York",country:"United States"},{timezone:{name:"America/New_York"},city:"New York",state:"New York",country:"United States"},{timezone:{name:"Africa/Niamey"},city:"Niamey",state:"Niamey",country:"Niger"},{timezone:{name:"America/Nome"},city:"Nome",state:"Alaska",country:"United States"},{timezone:{name:"Africa/Nouakchott"},city:"Nouakchott",state:"Wilaya de Nouakchott",country:"Mauritania"},{timezone:{name:"Pacific/Noumea"},city:"Noumea",state:"Sud",country:"New Caledonia"},{timezone:{name:"Europe/Oslo"},city:"Oslo",state:"Oslo Fylke",country:"Norway"},{timezone:{name:"Africa/Ouagadougou"},city:"Ouagadougou",state:"Kadiogo",country:"Burkina Faso"},{timezone:{name:"America/Panama"},city:"Panama",state:null,country:"Panama"},{timezone:{name:"America/Paramaribo"},city:"Paramaribo District",state:"Paramaribo",country:"Suriname"},{timezone:{name:"Europe/Paris"},city:"Paris",state:"Ile-de-France",country:"France"},{timezone:{name:"Australia/Perth"},city:"Perth",state:"Western Australia",country:"Australia"},{timezone:{name:"Asia/Phnom_Penh"},city:"Phnom Penh",state:"Phnum Penh",country:"Cambodia"},{timezone:{name:"America/Phoenix"},city:"Phoenix",state:"Arizona",country:"United States"},{timezone:{name:"America/Port_of_Spain"},city:"Port of Spain",state:"Port of Spain",country:"Trinidad and Tobago"},{timezone:{name:"America/Port-au-Prince"},city:"Port-au-Prince",state:"Ouest Department",country:"Haiti"},{timezone:{name:"America/Porto_Velho"},city:"Porto Velho",state:"Rondonia",country:"Brazil"},{timezone:{name:"Africa/Porto-Novo"},city:"Porto-Novo",state:"Oueme",country:"Benin"},{timezone:{name:"Europe/Prague"},city:"Prague",state:"Prague",country:"Czech Republic"},{timezone:{name:"America/Puerto_Rico"},city:"Puerto Rico",state:null,country:"Puerto Rico"},{timezone:{name:"Asia/Qatar"},city:"Qatar",state:null,country:"Qatar"},{timezone:{name:"America/Recife"},city:"Recife",state:"Pernambuco",country:"Brazil"},{timezone:{name:"America/Regina"},city:"Regina",state:"Saskatchewan",country:"Canada"},{timezone:{name:"Atlantic/Reykjavik"},city:"Reykjavik",state:"Reykjavik",country:"Iceland"},{timezone:{name:"America/Rio_Branco"},city:"Rio Branco",state:"Acre",country:"Brazil"},{timezone:{name:"Asia/Riyadh"},city:"Riyadh",state:"Riyadh",country:"Saudi Arabia"},{timezone:{name:"Europe/Rome"},city:"Rome",state:"Lazio",country:"Italy"},{timezone:{name:"America/Argentina/Salta"},city:"Salta",state:"Salta",country:"Argentina"},{timezone:{name:"America/Argentina/San_Juan"},city:"San Juan",state:"San Juan",country:"Puerto Rico"},{timezone:{name:"America/Argentina/San_Luis"},city:"San Luis",state:"Colorado",country:"United States"},{timezone:{name:"America/Santarem"},city:"Santarem",state:"Para",country:"Brazil"},{timezone:{name:"America/Santiago"},city:"Santiago",state:"Santiago Metropolitan Region",country:"Chile"},{timezone:{name:"America/Santo_Domingo"},city:"Santo Domingo",state:"Distrito Nacional",country:"Dominican Republic"},{timezone:{name:"America/Sao_Paulo"},city:"Sao Paulo",state:"Sao Paulo",country:"Brazil"},{timezone:{name:"Asia/Seoul"},city:"Seoul",state:"Seoul",country:"South Korea"},{timezone:{name:"Asia/Shanghai"},city:"Shanghai",state:"Shanghai",country:"China"},{timezone:{name:"America/Shiprock"},city:"Shiprock",state:"New Mexico",country:"United States"},{timezone:{name:"Asia/Singapore"},city:"Singapore",state:null,country:"Singapore"},{timezone:{name:"Europe/Sofia"},city:"Sofia",state:"Sofiya-Grad",country:"Bulgaria"},{timezone:{name:"Atlantic/South_Georgia"},city:"South Georgia",state:null,country:"South Georgia and the South Sandwich Islands"},{timezone:{name:"Europe/Stockholm"},city:"Stockholm",state:"Stockholm",country:"Sweden"},{timezone:{name:"America/Swift_Current"},city:"Swift Current",state:"Saskatchewan",country:"Canada"},{timezone:{name:"Australia/Sydney"},city:"Sydney",state:"New South Wales",country:"Australia"},{timezone:{name:"Pacific/Tahiti"},city:"Tahiti Island",state:"Windward Islands",country:"French Polynesia"},{timezone:{name:"Asia/Tbilisi"},city:"Tbilisi",state:"Tbilisi",country:"Georgia"},{timezone:{name:"America/Tegucigalpa"},city:"Tegucigalpa",state:"Francisco Morazan",country:"Honduras"},{timezone:{name:"Asia/Tehran"},city:"Tehran",state:"Tehran",country:"Iran"},{timezone:{name:"America/Thunder_Bay"},city:"Thunder Bay",state:"Ontario",country:"Canada"},{timezone:{name:"America/Tijuana"},city:"Tijuana",state:"Baja California",country:"Mexico"},{timezone:{name:"Europe/Tirane"},city:"Tirane",state:"Tirane",country:"Albania"},{timezone:{name:"Asia/Tokyo"},city:"Tokyo",state:"Tokyo Prefecture",country:"Japan"},{timezone:{name:"Pacific/Tongatapu"},city:"Tongatapu",state:"Tongatapu",country:"Tonga"},{timezone:{name:"America/Toronto"},city:"Toronto",state:"Ontario",country:"Canada"},{timezone:{name:"Africa/Tripoli"},city:"Tripoli",state:"Tripoli",country:"Libya"},{timezone:{name:"America/Argentina/Tucuman"},city:"Tucuman",state:"Tucuman",country:"Argentina"},{timezone:{name:"Africa/Tunis"},city:"Tunis",state:"Tunis",country:"Tunisia"},{timezone:{name:"America/Argentina/Ushuaia"},city:"Ushuaia",state:"Tierra del Fuego",country:"Argentina"},{timezone:{name:"America/Vancouver"},city:"Vancouver",state:"British Columbia",country:"Canada"},{timezone:{name:"Europe/Vienna"},city:"Vienna",state:"Vienna",country:"Austria"},{timezone:{name:"America/Indiana/Vincennes"},city:"Vincennes",state:"Indiana",country:"United States"},{timezone:{name:"Europe/Warsaw"},city:"Warsaw",state:"Masovian",country:"Poland"},{timezone:{name:"America/Winnipeg"},city:"Winnipeg",state:"Manitoba",country:"Canada"},{timezone:{name:"Asia/Rangoon"},city:"Yangon",state:"Yangon",country:"Myanmar"},{timezone:{name:"Asia/Yekaterinburg"},city:"Yekaterinburg",state:"Sverdlovsk Oblast",country:"Russia"},{timezone:{name:"America/Yellowknife"},city:"Yellowknife",state:"Northwest Territories",country:"Canada"},{timezone:{name:"Europe/Zurich"},city:"Zurich",state:"Canton of Zurich",country:"Switzerland"}]},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",showImageOption:"i_6MGW",showImageOptionText:"Q_eo6"},isChecked:{showImageOption:"u_b"}},_key:"ZEqUXy"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",pageHeader:"U_6VdP",filterWrapper:"em_N iz_A P_ZzaS5e",confirmDialog:"mq_AS a_3v1qi",settingsSubHeaderLinkStyle:"C_Z2aVTcY S_n"}},_key:"1lmgoE"}},function(e,t,a){"use strict";e.exports={className:{default:{filterWrapper:"em_N iz_A P_ZzaS5e",filterPreviewSection:"W_3vPwA",filterTitle:"A_6FsP M_Ic9xa",previewTitleWrapper:"D_F U_72FG",previewFilterTitle:"M_0 u_dPo A_6EWk",filterName:"A_6EqO M_27msYt",setRulesHeader:"A_6EqO M_27m5tQ",chooseFolderLabel:"A_6EqO M_Ic9xa",chooseFolderControl:"D_F gl_CI",control:"W_3nF5b U_fq7",folderControl:"W_3nxky U_fq7",orText:"t_C ac_C s_74JI M_3gJOe",filterNameLabel:"u_b A_6EqO M_27m5tQ",filterOptionAccordion:"U_72FG",matchCase:"D_F ab_C",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_ZvsWfq",folderSelectorInput:"k_w W_6D6F"}},_key:"Z1k76Hz"}},function(e,t,a){"use strict";e.exports={className:{default:{filtersListTitle:"M_1NirIz u_b A_6EWk i_6LEV",filtersList:"P_0 hd_n M_Z1bWC3O",filtersListItem:"D_B r_P H_6VdP i_6VdP m_Z12nDQf m8_n m6_Z12nDQf",filtersListBtnsContainer:"D_F ab_C m_Z14vXdP",addBtn:"A_6EqO C_Z2aVTcY",rightAlign:"Q_A",checkbox:"D_X V_GH H_6LEV W_6LEV M_ITspg",addIcon:"t_l C_Z2aVTcY M_Z2rzCvT",filtersListHint:"M_1eH9e A_6EqO C_Z1YRXYn i_6FIA"},isSelected:{filtersListItem:"q_2ieeaE"}},_key:"Z1opecU"}},function(e,t,a){"use strict";e.exports={className:{default:{filterItem:"D_F r_P ab_C H_6VdP P_3gJOe q4_1I4yPF",filterItemText:"M_0 W_6D6F o_h cZ1RN91d_GG J_x G_e",buttons:"en_0 D_F Q_A ab_C",filterSummary:"P_fq7 j_Z2nrtxD"},isSelected:{filterItem:"q_2ieeaE"}},_key:"Z1ek1Ga"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB mq_AS a_3v1qi",header:"u_b A_6EqO",filterCriteria:"M_0 P_Z1E2XDm",filterItem:"M_3HLUz"}},_key:"2vVIOz"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"em_N o_A D_F",menuList:"P_0 hd_n M_2f9jT7",name:"M_0 u_e69 D_F i_6FIA",hint:"C_Z1VRpVF i_6EGz A_6DUj",imageOptions:"Y_6FIA",mainWrapper:"em_N iz_A D_F ek_BB P_ZzaS5e",securityUpsellContainer:"M_A",securityUpsellImag:"W_3v1qi P_7aG4",upsellTextContainer:"t_C i_6LEV W_3z5BY",upsellTextTitle:"A_6FsP C_Z1YRXYn u_b",upsellTextContent:"u_e69 A_6EWk C_Z1VRpVF",upsellTextLink:"u_e69 A_6EWk C_Z2aVTcY r_P",settingsSubHeaderLinkStyle:"C_Z2aVTcY S_n"}},_key:"22hOfm"}},function(e,t,a){"use strict";e.exports={className:{default:{btnContainer:"D_F ab_C m_Z14vXdP",list:"P_0 hd_n M_0",listTitle:"M_ITspg A_6EWk i_6LEV",listItem:"D_B r_P H_6VdP i_6VdP m_Z12nDQf m8_n m6_Z12nDQf",addBtn:"A_6EqO C_Z2aVTcY",rightAlign:"Q_A",separator:"U_fq7 m_Z12nDQf",textButton:"r_P f_r C_Z2aVTcY Q_A A_6EqO"}},_key:"Z2uWrqb"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C H_6VdP P_3gJOe q4_1I4yPF",listItemText:"M_0 W_6D6F o_h cZ1RN91d_GG J_x G_e",buttons:"en_0 D_F Q_A ab_C"}},_key:"1hwDor"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"em_N iz_A P_ZzaS5e",previewSection:"W_3vPwA",previewTitleWrapper:"D_F U_72FG",previewTitle:"M_0 u_dPo A_6EWk",address:"A_6EqO M_27msYt",nameLabel:"u_b A_6EqO M_27m5tQ",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_ZvsWfq"}},_key:"1G9Sg3"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C P_6Eb4 gl_ZEO9jm m_Z12nDQf m8_n",accountInfo:"Q_6Fd5",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountStatus:"Q_A A_6EqO C_Z2aVTcY t_r"}},_key:"RKgJK"}},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"F_N U_7AfI",accountInfoHeader:"Q_eo6 U_6FIA Y_0 E_0 u_b A_6EWk i_6LEV",listWrapper:"M_0 P_0 hd_n"}},_key:"f6T4W"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F W_3vPwA x_Z14vXdP",right:"D_F em_N ek_BB o_A",getMailPro:"P_0 hd_n Y_72FG",plans:"P_0 hd_n M_0 z8_Z14vXdP",name:"M_0 u_e69 D_F i_6FIA",price:"M_0 P_6Eb4",priceName:"M_0 u_dPo D_F i_6FIA cZ1jMJ1e_AT",hint:"C_Z1VRpVF i_6EGz A_6EqO Y_fq7 U_fq7",date:"C_Z1VRpVF i_6EGz A_6EqO X_eo6",mainWrapper:"em_N iz_A D_F ek_BB P_ZzaS5e",manageSubscription:"Y_6Eb4 U_6LEV",manageMailPro:"P_0 hd_n Y_72FG m_Z14vXdP",subscriptionIcon:"X_72FG p_R B_dRA L_6UX5",promoButton:"q_52qC C_Z2aVTcY l_Z2aVTcY e_dRA cn_dRA k_w r_P H_6VdP s_3nx4N en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO",selectedPlan:"q_Z2aVTcY e_dRA k_w r_P H_73cc s_3nx4N en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO b_0 C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",buttonContainer:"W_e5X"}},_key:"Z2c0Iyd"}},function(e,t,a){"use strict";e.exports={className:{default:{rightContainer:"je_6NIX N_6LEV Q_fq7 D_F ek_EZ em_0 en_0 W_6D6F H_3qWeB X8_74JI U8_7yHc",supportImgContainer:"gl_C ab_C D_F H_3rtg7 W_3He0m",supportImg:"D_B K_3rtg7 W_3s0hC U_6LEV Q_6LEV",headerContainer:"ab_C P_6LEV W_3vPwA gl_CH p_R L_72FG",header:"C_Z1YRXYn A_6EWk u_e69 M_6MGW W_3z5BY P_Z28L70A"}},_key:"aemwj"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"em_N D_F",mainWrapper:"em_N D_F iz_A ek_BB P_ZzaS5e",pageHeader:"U_6VdP",headerTitle:"M_0 u_b A_6EWk i_6LEV",formControl:"je_fq7 U_6VdP",linkEnhancerControl:"U_6VdP",selectbox:"W_3nF5b",fontSelectWrapper:"D_F ab_C gl_FM",signatureControl:"P_0 hd_n M_Z2igsyX",signatureHeader:"jb_fq7 m_Z14vXdP",signatureItem:"m_Z14vXdP i_6VdP m8_n",sendingAddressControl:"W_6D6F"}},_key:"Kvlf2"}},function(e,t,a){"use strict";e.exports={className:{default:{header:"M_0 D_F u_dPo ab_C A_6EqO P_3gIMd",rightAlign:"Q_A",signatureWrapper:"P_eo6 q_ptT19 b_efTvb",signatureEditor:"P_eo6",formControl:"D_F",tweetHint:"u_b A_6DUj P_eo6 j_2kQXn4",toggleControlName:"u_e69"},signatureActive:{header:"u_b"},showDefaultTitle:{header:"u_b P_0 M_Ic9xa"},hintHovered:{toggleControlName:"m_1qriBL"}},_key:"2HK88"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"o_A em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6VdP",hint:"A_6EqO C_Z1YRXYn i_6FIA",title:"u_dPo A_6FsP M_Ic7YD C_Z281SGl i_6LEV",listItem:"D_F r_P ab_C gl_ZEO9jm P_6Eb4 m_Z12nDQf q4_1I4yPF",listItemAdd:"D_F ab_C gl_ZEO9jm P_6Eb4 U_eo6 Q_fq7",accountStatus:"Q_A",addBtnText:"C_Z2aVTcY",avatar:"M_3gIMd D_X ba_2XwIr W_6MGW H_6MGW",accountInfoHeader:"U_6Fd5",accountInfo:"Q_6Fd5",headerText:"M_0 D_F u_e69 ab_C gl_FM A_6EqO i_6FIA",accountName:"M_0 i_d3a o_h a_3nx4N J_x G_e C_Z281SGl",accountEmail:"M_0 A_6DUj i_d3a u_dPo C_ZvsWfq",dea:"Y_6VdP"}},_key:"1jHMLB"}},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"ha_n M_0 P_0",accountItem:"D_F H_6VdP ab_C m_Z12nDQf P_3gIMd"}},_key:"2w6GHL"}},function(e,t,a){"use strict";e.exports={className:{default:{textInput:"A_6EqO M_27msYt",label:"u_b A_6EqO M_Ic9xa",autoForwardingHeader:"u_b A_6EqO M_27me0J F_N",autoForwardDescription:"U_6Fd5 C_Z2aa8Uy p_R",alertText:"C_Z1rNwYf A_6Eb4 Y_6DEy D_F",alertIcon:"E_fq7",inputStyle:"X_0 m_0 m3_n",inputBox:"p_R m_2w4l8N D_F U_6DEy",removeForwardingBtn:"H_6LEV W_7kKt D_FZ i_N",verifyForwardingBtn:"H_6LEV W_7kKt D_FZ i_N M_0",inputIcon:"Y_fq7 E_eo6",displayFlex:"D_F H_6TFj",removeButtonContainer:"Y_fq7",link:"C_Z2aVTcY r4_P",removeText:"A_6DUj i_0",disabledText:"C_Z1TsNWR H_73Xs",verifyIcon:"D_X p_a E_eDQ T_68pj",verifyDescription:"p_a L_6Nds D_X a_3vye4",forwardEmailError:"p_a Y_72FG Q_fq7 A_6DUj C_ZkiIcp",learnMore:"C_Z2aVTcY Q_eDQ"},isFocus:{inputBox:"m_2fAfSG"},forwardEmailVerified:{verifyDescription:"C_Z1TsNWR"}},_key:"2iT5D3"}},function(e,t,a){"use strict";e.exports={className:{default:{sectionContainer:"F_N U_6VdP",sectionInfoHeader:"i_6LEV D_F gl_FM U_dRA",headerText:"M_0 D_F u_b ab_C gl_FM A_6EWk",toggleAccountSectionButton:"M_0 P_0",listWrapper:"M_0 P_0 hd_n",buttonsWrapper:"D_F gl_FM M_0",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY Y_6Fd5 E_A e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z29WjXl",secondaryButton:"r_P P_1EudUu H_6TFj Y_6Fd5 E_A cn_dBP e_dRA cg_FJ y_Z2uhb3X A_6EqO u_e69 I_52qC C_Z2aVTcY l_Z2aVTcY I4_52qC C4_Z29WjXl l4_Z29WjXl",textButton:"r_P D_X C_Z2aVTcY Y_6Fd5 Q_A A_6DUj i_6EWk X_6LEV",baseNameWrapper:"U_6Fd5",baseName:"M_0 cZ1RN91d_GG o_h J_x G_e",baseNameText:"u_e69",domain:"Q_6Eb4",deaHint:"A_6DUj C_Z1TsNWR o_h G_e J_x",deaAccountName:"M_0 i_d3a o_h cZ1RN91d_GG J_x G_e C_Z281SGl u_e69",deaAccountDescription:"M_0 u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",deaListItem:"D_F H_6UbO r_P ab_C gl_ZEO9jm P_ZXLjFo m_Z12nDQf i_6VdP o_h G_e J_x q4_1I4yPF",sectionHintsWrapper:"D_F gl_FM ab_CI C_Z1YRXYn A_6EqO i_6FIA U_6Fd5",sectionHint:"E_6UbO a_3rehn",accountUsage:"en_0 s_7yHc D_F ab_CH gl_CH",warningIcon:"E_fq7 H_6LEV",exceedMaxAccountsHint:"C_ZnTFMv i_6FIA a_3o4BO P_Z1E2XDm A_6EqO",errorText:"M_0",errorWarn:"u_e69"},buttonDisabled:{primaryButton:"r_A O_cMq I4_Z2aVTcY l4_Z2aVTcY",secondaryButton:"r_A O_cMq I4_52qC C4_Z2aVTcY l4_Z2aVTcY"},exceedMaxAccounts:{sectionHint:"a_3o5DP",accountUsage:"C_ZnTFMv s_3mU6W"},deaListItemSelected:{deaListItem:"q_1I4yPF"}},_key:"Z26zM6G"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F ab_C r_P gl_ZEO9jm P_ZXLjFo m_Z12nDQf q4_1I4yPF",accountStatus:"Q_A",accountInfo:"en_N D_F o_h ek_BB Q_6Fd5",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountEmail:"M_1wVxIt u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",accountDescription:"M_0 u_dPo i_d3a cZ1RN91d_GG C_Z1YRXYn A_6DUj o_h G_e",messageWrapper:"D_F ab_C A_6DUj C_Z1YRXYn i_6LEV s_7jIs",statusWrapper:"D_F ab_C s_7He5",accountNameWrapper:"D_F ab_C",typeTextWrapper:"Q_eo6 u_e69",statusIcon:"W_6LEV H_6LEV M_3gJOe",syncingStatusIcon:"M_3gJOe",errorWrapper:"D_F ab_C s_3mT4V C_Z1TsNWR",errorIcon:"M_3gJOe"},selected:{listItem:"q_1I4yPF"},deleteInProgress:{listItem:"O_cMp q_n r_DZ"}},_key:"1N7dn5"}},function(e,t,a){"use strict";e.exports={className:{default:{subwrapper:"D_F W_3zmEK",imgContainer:"D_F ek_BB gl_C aw_Z5r2aC",cueImg:"W_7sKQ",content:"P_1WRVno",title:"A_6FsP gp_1Fqk81 u_b U_eTB",description:"U_6Fd5",primary:"i_6NIX",secondary:"I4_52qC"},showAddMailPopup:{subwrapper:"W_3vFXG",description:"U_82XEY"}},_key:"Z12Ms2F"}},function(e,t,a){"use strict";e.exports={className:{default:{inputContainer:"D_F ek_BB",emailContainer:"D_F ab_C W_6D6F m_2w4l8N",baseName:"P_3gJOe",keyword:"G_e J_x o_h",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1TsNWR",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZnTFMv",inputField:"b_0 q_T H_6VdP em_N A_6EqO C_Z281SGl o_h J_x G_e ir3_0",clearButtonContainer:"Q_A E_fq7"},hasFocus:{emailContainer:"m_2fAfSG"}},_key:"Z2dhj1E"}},function(e,t,a){"use strict";e.exports={className:{default:{label:"A_6EWk M_27msYt u_dPo i_6LEV",textBody:"A_6EqO C_Z29dUYT i_6LEV",okButton:"q_Z2aVTcY e_dRA k_w r_P H_6TFj P_1EudUu en_0 Y_7iGr V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"}},_key:"1bQsav"}},function(e,t,a){"use strict";e.exports={className:{default:{accountList:"M_0 P_0 D_F hd_n ek_BB",listItem:"em_N D_F r_P gl_C m_Z12nDQf q4_1I4yPF",listItemOther:"em_N D_F P_Z1um1qI gl_C m_Z12nDQf r_P q4_1I4yPF",label:"A_6EWk M_27msYt i_6LEV C_Z281SGl u_dPo",accountItem:"H_7jsH W_3nj85 ba_3nhzy aw_Z1LVuro az_DW ay_Z1yLEkG",cancelButton:"q_Z2aVTcY e_dRA k_w r_P H_6TFj P_kSsus s_3mS2U en_0 M_Z2ht1qD V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"},useThirdGenerationLogo:{accountItem:"aw_BzADo"},"provider-yahoo":{accountItem:"ay_2aKN71"},"provider-google":{accountItem:"ay_22ioIi"},"provider-aol":{accountItem:"ay_I2yjn"},"provider-outlook":{accountItem:"ay_22hIoD"},"provider-office365":{accountItem:"ay_22Csnd"}},_key:"Z1kC0Lx"}},function(e,t,a){"use strict";e.exports={className:{default:{formWrapper:"em_N iz_A P_ZzaS5e",formSection:"W_3vPwA",headerLabel:"A_6EWk M_27msYt u_dPo i_6LEV",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI U_6LEV",errorIcon:"E_fq7 D_F",buttonsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY M_Z11UGJB e_dRA k_w en_0 V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z29WjXl",disabledPrimaryButton:"r_A D_X H_6TFj q_Z2aVTcY M_Z11UGJB e_dRA k_w en_0 V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z2aVTcY l4_Z2aVTcY O_cMq",cancelButton:"b_n r_P C_Z1YRXYn V_M D_X q_T A_6EqO H_6TFj P_1EudUu u_e69 M_dxMae I4_15sa3J C4_Z281SGl",textBody:"M_0",link:"C_Z2aVTcY r_P"},invalidEmail:{headerLabel:"M_27mluB"},accountExist:{headerLabel:"M_27mcXI"}},_key:"1h6azx"}},function(e,t,a){"use strict";e.exports={className:{default:{formWrapper:"em_N iz_A P_ZzaS5e",formSection:"W_3vPwA",titleWrapper:"D_F A_6EWk U_72FG",label:"u_b A_6EqO M_Ic9xa",textInput:"A_6EqO H_7jIs",link:"C_Z2aVTcY r_P",textWrapperContainer:"Y_72FG i_6Fd5",textWrapper:"D_F A_6DUj",suggestionsContainer:"Y_72FG",suggestions:"Y_6LEV P_0 hd_n",suggestionsListItem:"U_6Eb4",suggestion:"r_P C_Z2aVTcY u_e69",buttonWrapper:"M_Z1sBvxS",saveButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z29WjXl",cancelButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_52qC b_0 C_ZvsWfq I4_2iedUU C4_Z29WjXl"}},_key:"1A5evt"}},function(e,t,a){"use strict";e.exports={className:{default:{groupHeader:"D_F d_74JI m_Z12nDQf X_6VdP N_6LEV I_52qC",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N G_e J_x o_h i_3mCHE cdPFi_Z2drWk6 D_F ab_C",subjectText:"E_fq7",noSubject:"M_3gI0W"}},_key:"162rFa"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdaxL A_6FsP D_F el_Z1mLfFl ab_AJ u_e69",icon:"p_a M_6FIA",title:"em_N N_6Fd5 i_6MGW",close:"ac_2ou4X1",message:"P_1EudUu",controls:"P_1EudUu"}},_key:"ZmblT"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_BB ab_FT W_6D6F o_A",headerSection:"M_Z1ONggB",viewHeader:"t_C A_6TFj i_72FG",viewDescription:"c2geo8R_6EqO t_C C_Z1VRpVF i_6FIA",playerContainer:"D_F ek_BB M_1EAG48 en_0 gl_C o_A",videoContainer:"M_1EAG48 D_F gl_C",msgContainer:"je_fq7 M_1EAG48",videoTitle:"A_6FsP u_e69 C_Z281SGl i_6MGW",videoSubtitle:"A_6EqO C_Z1VRpVF i_6FIA"},"themeMode-DARK":{container:"C_52qC",header:"m_ZYfFSw",viewHeader:"C_52qC",viewDescription:"C_ZpQYvz",videoTitle:"C_52qC",videoSubtitle:"C_ZpQYvz"}},_key:"1YBqEn"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"ir_n M_0 P_0 b_0 p_a o_h Z_N q_Z281SGl e_dRA",coverImage:"D_B W_6D6F H_6D6F M_0 P_0 b_0",playButton:"p_a r_P L_e5X T_e5X ir_n P_0 b_0 M_0 h_16WrXa",errorContainer:"W_6D6F p_a L_e5X T_e5X P_0 b_0 M_0 h_16WrXa",errorMessage:"C_52qC i_6MGW A_6FsP P_ZkVrXL",reloadButton:"C_52qC q_Z1YRXYn H_6VdP P_1Eumrn b_n r_P u_b p_a L_e5X T_e5X h_ZhN1V2"},"showError-true":{coverImage:"O_cMn"}},_key:"Z1NnXFu"}},function(e,t,a){"use strict";e.exports={className:{default:{galleryContainer:"M_ZQxzll P_3gJiI D_F eo_HB gl_C"}},_key:"Z23SxlN"}},function(e,t,a){"use strict";e.exports={className:{default:{itemContainer:"M_3gJiI p_R r_P W_3nF5b",thumbnail:"W_3nF5b H_7GHz k_w O_cMu",playButton:"p_a T_6LUG L_7ceA r_P",playingText:"p_a T_0 L_0 A_6DUj i_6EGz C_52qC I_Z2aVTcY t_l fd_i P_eo6",videoTitle:"A_6EqO i_6FIA u_e69 C_Z281SGl U_6Eb4"},isPlaying:{thumbnail:"b_1XBKym O_N"},isHovered:{thumbnail:"O_N"},"themeMode-DARK":{videoTitle:"C_52qC"}},_key:"ZDjdcj"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_R D_F q_52qC W_e5X",ppContainer:"D_F q_52qC W_6D6F",imageContainer:"W_7rdk I_Z29dcUK em_0 U_6Eb4 D_F ab_C gl_C e_v8Hnf",image:"W_72FG H_74ed",messageContainer:"b_Z14vXdP bz_0 bx_52qC e_Z7M5b9 E_6Eb4 U_6Eb4 P_6Eb4 em_N D_F ab_C gl_FM",messageText:"D_F ek_BB gl_C H_74JI",arrowContainer:"W_eTB U_6Eb4 D_F ab_C",arrow:"W_6Eb4 H_6Eb4 I_Z29dcUK h_1RtVxM p_a",header:"u_b",closeContainer:"P_fq7"}},_key:"Z1MKXkp"}},function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return h});var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=(a(8),a(1)),l=a.n(o),c=a(6),d=a(0),m=a(122),_=a(1353);const u="https://www.shoprunner.com/oidc/yahoo?state=",p=Object(c.defineMessages)({body:{id:"shoprunner_post_sign_up.body",defaultMessage:"Enjoy <b>ShopRunner free 2-day shipping and free returns</b> on <b>{shopRunnerRetailer}</b>."},primary_button:{id:"shoprunner_post_sign_up.primary_button",defaultMessage:"Shop Now"}});class h extends l.a.Component{constructor(...e){super(...e),r()(this,"onTryButton",()=>{Object(m.a)(u+this.props.shopRunnerMerchantUrl)}),r()(this,"computeActionData",()=>({mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:d.sb.IC,featurename:d.ub.SHOPRUNNER,retailername:this.props.shopRunnerMerchantUrl}}))}render(){const e=this.props,t=e.useCueInMessageRead,a=e.cardName,n=e.useCloseIcon,i=e.shopRunnerRetailer,r=s()({},p.body,{values:{shopRunnerRetailer:i}});return l.a.createElement(_.a,{cardName:a,bodyText:r,onTryButton:this.onTryButton,tryButtonText:p.primary_button,useCueInMessageRead:t,isShopRunnerPostSignUp:!0,useCloseIcon:n,computeActionData:this.computeActionData})}}},function(e,t,a){"use strict";e.exports={className:{default:{header:"i_6FIA A_6EqO u_b C_Z281SGl",body:"A_6EqO i_6FIA C_Z281SGl",actionContainer:"D_F M_28eW7C",cueContainer:"D_F a_3w6xl",cueContainerWrapper:"D_F ek_BB em_N P_Z1n8NQW I_52qC s_3rLkT a_3zJDR",svgStyle:"D_F gl_C ab_C I_Z2aVTcY e_Z272TOo s_7yHc em_0",closeContainer:"f_r",messageContainerWrapper:"D_F a_3DGRc p_R gl_FM",messageContainer:"D_F ek_BB"},isShopRunner:{cueContainer:"em_O W_fc3 P_6Fd5 U_0 ab_C a_n",cardContainerWrapper:"D_F ek_EZ em_N P_0 I_52qC b_Z14vXdP Q_A E_A W_6D6F s_3zREf a_3PnpK ab_C gl_FM aw_Z14eq7J ay_Vb6ja az_DW ba_1GMtWv c2tzoQk_1GMtGK",noImageContainer:"eo_HB a_3HK1R",messageContainerWrapper:"D_F a_3HK1R p_R gl_FM",messageContainer:"P_ttc5y D_F ek_n",actionContainer:"D_F ab_C M_Z2p9GTY P_kSmy7 J_x gl_FM",policyContainer:"C_Z1VRpVF A_6DUj u_e69 J_N",image:"K_3mT4V a_3nj85 P_Z19ckRV"},useCueInMessageRead:{cueContainer:"D_F P_23Qdz1 I_52qC U_eo6 a_n",cueContainerWrapper:"D_F ek_BB em_N P_5xwGq I_52qC s_3qWeB a_3vxrN e_dRA b_Z14vXdP",messageContainer:"N_6Fd5"},isShopRunnerPostSignUp:{cueContainer:"W_fc3 P_6Fd5 U_6Fd5 ab_C",actionContainer:"X_6EGz je_dRA r_P N_dm5 C_Z2aVTcY u_b ab_C gl_C",cueContainerWrapper:"H_6Nds I_2ieeaE P_0 E_fq7 e_dm5 b_82XEY W_f9v s_n a_n ab_C",messageContainer:"je_e8l ek_n"}},_key:"Z1iAF7b"}},function(e,t,a){"use strict";a.r(t),a.d(t,"ShopRunnerCard",function(){return y}),a.d(t,"mapStateToProps",function(){return T});var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(15),u=a(45),p=a(0),h=a(11),g=a(1353),E=a(122);const b=Object(u.a)("/img/yahoo_shoprunner.png"),C=`${Date.now()}_msgRead`,f=`https://www.shoprunner.com/oidc/yahoo?yh_affjid=${C}`,S=Object(m.defineMessages)({ord_body:{id:"shoprunner_card.ord_body",defaultMessage:"Hate to pay shipping fee? {mailBrandNameString} users can now enjoy <b>free 2-day shipping, free returns</b> from <b>{shopRunnerRetailer}</b> and <b>100+ other retailers</b> with ShopRunner."},ord_premium_retailer_body:{id:"shoprunner_card.ord_premium_retailer_body",defaultMessage:"Hate to pay shipping fee? {mailBrandNameString} users can now enjoy <b>free 2-day shipping, free returns</b> at <b>100+ retailers</b> with ShopRunner."},body:{id:"shoprunner_card.body",defaultMessage:"Hi <b>{displayAccountName}</b>, we got you <b>unlimited free 2-day shipping</b> and <b>returns</b> at <b>{shopRunnerRetailer}</b> and <b>100+ other retailers</b> through ShopRunner. No membership fee for Yahoo users."},premium_retailer_body:{id:"shoprunner_card.premium_retailer_body",defaultMessage:"Hi <b>{displayAccountName}</b>, we got you <b>unlimited free 2-day shipping</b> and <b>returns</b> at <b>100+ retailers</b> through ShopRunner. No membership fee for Yahoo users."},primary_button:{id:"shoprunner_card.primary_button",defaultMessage:"Activate free shipping"},recommended_retailer:{id:"shoprunner_card.recommended_retailer",defaultMessage:"Hi <b>{displayAccountName}</b>, we got you <b>unlimited free 2-day shipping</b> and <b>returns</b> at <b>{shopRunnerRetailer}, {personalizedStores}</b> and <b>100+ other retailers</b>. No membership fee."},premium_recommended_retailer:{id:"shoprunner_card.premium_recommended_retailer",defaultMessage:"Hi <b>{displayAccountName}</b>, we got you <b>unlimited free 2-day shipping</b> and <b>returns</b> at <b>{personalizedStores}</b> and <b>100+ retailers</b>. No membership fee."}});class y extends d.a.Component{constructor(...e){super(...e),r()(this,"_getUpsellType",()=>{const e=this.props,t=e.isPremiumShopRunnerRetailer;let a=t?p.Dd.SIMILAR_MERCHANT_PROMOTION:p.Dd.SHOPRUNNER_MERCHANT_PROMOTION;return e.isOrdMail&&(a=t?p.Dd.SIMILAR_MERCHANT_RECEIPT:p.Dd.SHOPRUNNER_MERCHANT_RECEIPT),a}),r()(this,"onTryNow",()=>{Object(E.a)(f)}),r()(this,"computeActionData",()=>({actionData:{mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:p.sb.IC,featurename:p.ub.SHOPRUNNER,retailername:this.props.shopRunnerRetailer,upselltype:this._getUpsellType(),origin:this.props.origin,yh_affjid:C}}}))}render(){const e=this.props,t=e.cardName,a=e.personalizedStores,n=e.shopRunnerRetailer,i=e.showPersonalizedCard,r=e.isOrdMail,o=e.useCloseIcon,l=e.useCueInMessageRead,c=e.isPremiumShopRunnerRetailer,m=this.context.mailBrandNameString,_={displayAccountName:e.accountName.split(" ").map(e=>e.charAt(0).toUpperCase()+e.substring(1))[0],mailBrandNameString:m,shopRunnerRetailer:n,personalizedStores:(c?a:a.slice(0,2)).join(", ")},u=c?S.premium_retailer_body:S.body,p=c?S.premium_recommended_retailer:S.recommended_retailer;let h=s()({},u,{values:_});if(r){const e=c?S.ord_premium_retailer_body:S.ord_body;h=s()({},e,{values:_})}return i&&a.length>0&&(h=s()({},p,{values:_})),d.a.createElement(g.a,{cardName:t,bodyText:h,onTryButton:this.onTryNow,tryButtonText:S.primary_button,cardImgUrl:b,useCueInMessageRead:l,isShopRunner:!0,useCloseIcon:o,computeActionData:this.computeActionData})}}r()(y,"contextTypes",{mailBrandNameString:l.a.string}),r()(y,"defaultProps",{personalizedStores:[]});const T=(e,t)=>{const a=Object(h.b)(e),n=a.getSelectedAccountId,s=a.getShopRunnerRetailersSelectors,i=a.isFeatureEnabled,r=(0,(0,a.getAccountSelectors)().getAccountNameByAccountId)(n()),o=s().getTopNPersonalizedStores,l=i(p.ub.MSG_READ_SHOPRUNNER_PERSONALIZED);return{accountName:r,personalizedStores:o(3,t.shopRunnerRetailer),showPersonalizedCard:l}};t.default=Object(_.connect)(T)(y)},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_dPd N_6Fd5",ppContainer:"W_6D6F E_6Eb4 H_3nF5b b_Z14vXdP X_6Fd5 p_R",cardContainer:"W_6D6F H_3nF5b b_Z14vXdP D_F gl_FM",displayDeals:"D_X",hoverContainer:"D_X gl_FM N_6Fd5 jb_6FsP",expiryTime:"C_Z1Xxgu0 X_6Fd5",powered:"cZ1BLGo6_6EqO cZ1BLGng_r cZ1BLGo4_Z1TkFjL cZ1BLGnS_6Fd5 cZ1BLGnk_a cZ1BLGo5_0 cZ1BLGnO_0 cDJTiJ_6EqO",name:"H_6Fd5 A_6EqO u_b X_6Fd5 je_6Fd5 D_F",category:"X_6Eb4 N_6Eb4 je_fam jb_fam o_h G_e J_x C_Z29WjXl u_e69 D_X",overLay:"e_dRA I_2iedUU D_X r_P",address:"X_72FG",mainContainer:"W_6D6F D_F jb_6DEy",cardContainerPop:"W_3s0hC H_3nF5b D_F gl_FM",containerBorder:"H_eo6 I_Z2aVTcY",icon:"N_fq7",expires:"C_Z1TkFjL A_6DUj",dealLink:"A_6EqO u_e69 t_r C_Z2aVTcY N_6Fd5 p_a B_0 R_0 jb_6EqO",destination:"H_6FIA A_6EqO D_F X_6Fd5 je_6Eb4 N_6Fd5 u_b",description:"o_h G_e J_x A_6EqO D_F N_fq7 jb_fq7",space:"N_6Eb4 jb_6Eb4 D_X",deal:"X_6Fd5 H_6EWk W_3DyQO o_h G_e J_x r_P",dealsContainer:"W_elI E_6Eb4 H_3nF5b b_Z14vXdP X_6Fd5 p_R",open:"W_6UbO H_6EqO A_6DUj u_b C_Z2ak3tK X_72FG",url:"H_6FIA A_6EqO C_Z2aVTcY D_F X_6Fd5 je_6Eb4 N_6Fd5 r_P",workingHours:"D_F",hours:"H_6Eb4 A_6DUj C_Z1TkFjL X_eo6",brandName:"H_6Fd5 A_6EqO u_b je_6Fd5 jb_6Fd5 D_F",imageContainer:"H_6UbO X_fq7 N_6Eb4 D_F ab_C gl_C",imageContainerDeals:"H_6UbO D_F ab_C gl_C",image:"W_6UbO H_6UbO r_P",messageContainer:"P_6Fd5 em_N D_F ab_C gl_FM",messageText:"D_F gl_C"}},_key:"tYfuy"}},function(e,t,a){"use strict";e.exports={className:{default:{mainContainer:"H_3nHoX W_6D6F D_F gl_2qpK5e I_Z29dUYT p_R aw_ZgcPPX ba_ZtkGDW ay_C",displayCards:"p_a D_F B_0",cardContainer:"H_7zYX W_3vNsy e_eo6 D_F I_52qC M_fq7 r_P",imgContainer:"D_F E_fq7",img:"W_3mS2U H_7iGr P_6Eb4 e_eo6",infoContainer:"D_F ek_BB N_fq7",description:"je_6Eb4 o_h W_3rdfm H_6VJl u_e69 A_6EqO N_6Eb4",info:"H_6EGz D_F",source:"W_3n93F H_6EGz A_6DUj u_e69 C_Z1YRXYn E_fq7",action:"H_6EGz C_Z2aVTcY r_P u_b A_6DUj E_fq7"}},_key:"Z1T9vYE"}},function(e,t,a){"use strict";e.exports={className:{default:{mainContainer:"H_3nHoX W_6D6F D_F jb_6DEy I_Z29dUYT p_R r_P",button:"D_F je_74ed p_a R_0 N_1NSqeQ",pumpkin_background:"W_3ruND H_3n13i p_a B_0 R_0",halloween_text:"H_7jYd W_3zKan f_l c_l",maintext:"A_6DUj u_e69 C_52qC X_74JI f_l c_l",shopping_img:"X_74JI je_6TFj f_l c_l W_3mTAr H_6EWk"}},_key:"Z1B5zaj"}},function(e,t,a){"use strict";e.exports={className:{default:{mainContainer:"H_3nHoX W_6D6F D_F jb_6DEy I_Z29dUYT p_R",categories:"D_F je_74ed p_a R_0 N_1NSqeQ",cardContainer:"D_F ek_BB ab_C N_1JSitM",img:"H_7jcW W_7jcW f_l jb_eTB r_P h_Z13pql2 h4_2d9T5e",pumpkin_background:"W_3ruND H_3n13i p_a B_0 R_0",halloween_text:"H_7jYd W_3zKan f_l c_l",maintext:"A_6DUj u_e69 C_52qC X_74JI f_l c_l",text:"A_6DUj u_e69 C_52qC f_l c_l r_P S4_U",shopping_img:"X_74JI je_6TFj f_l c_l W_3mTAr H_6EWk"}},_key:"1yF94H"}},function(e,t,a){"use strict";e.exports={className:{default:{actionContainer:"D_F M_28eW7C",cueContainer:"D_F ek_EZ a_3zlCJ",cueContainerWrapper:"D_F ek_BB em_N P_ZH79gU I_52qC s_3qWeB a_3zJDR",svgStyle:"D_F gl_C ab_C I_52qC e_v8Hnf s_7bcz P_1KSxRP em_0",containerBorder:"W_q H_eo6 I_Z2aVTcY",close:"p_a T_6LEV R_6LEV"},"cardName-qtntviewMsgReadCard":{body:"A_6EqO i_6FIA C_Z1Xxgu0 M_Z26RiTK",container:"W_e5X D_F gl_FM ek_BB",ppContainer:"D_F gl_FM ek_BB em_N",containerBorder:"I_Z1YQ5if M_Z2fXxfr W_82XEY",cueContainer:"a_n b_Z14vXdP e_dRA M_Z2qz5Ct",cueContainerWrapper:"s_n a_n",header:"i_6FIA A_6EqO u_b C_Z281SGl",icon:"s_7iGr H_7iGr",svgStyle:"P_6LEV"}},_key:"Z2NmFl"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_e5X",cardContainer:"b_Z14vXdP e_ZB2Q32 D_F gl_FM",containerBorder:"H_eo6 I_Z2aVTcY",layoutContainer:"D_F",imageContainer:"P_6Eb4 em_0 D_F ab_C gl_C",image:"W_72FG H_72FG",messageContainer:"P_fq7 em_N D_F ab_C gl_FM",messageText:"D_F ek_BB gl_C",buttonContainer:"D_F ek_BB gl_C"},quotientLinkedCard:{container:"W_e5X D_F gl_FM ek_BB",ppContainer:"D_F gl_FM ek_BB em_N",cardContainer:"b_Z14vXdP e_dRA M_Z2qz5Ct D_F",ppCardContainer:"b_Z14vXdP e_dRA M_29TaXJ D_F",imageContainer:"P_6Fd5 em_0 U_eDQ D_F ab_C gl_C",image:"W_72FG H_72FG",messageContainer:"P_1IaimO em_N D_F ab_C gl_FM A_6EGz",header:"u_b",subTitle:"M_ni5xh C_Z1VRpVF A_6Eb4",overlayContainer:"W_0",overlay:"W_72FG H_72FG h_ZEcFM9 q_Z1WGv5u O_6uA1 e_e5X"}},_key:"1qwiJb"}},function(e,t,a){"use strict";e.exports={className:{default:{lastPassContainer:"M_A P_6Fd5",cueImg:"H_q",lastPassContent:"D_F ab_C b_Z14vXdP s_3zREf a_3PnpK H_3mS2U",lastPassTextContainer:"D_F ab_C",lastPassTextSubContainer:"w_AS D_F ek_BB P_1Eu6qC H_3mS2U iz_FF k_w i_6LEV",ctaButton:"Y_ZK2EzR en_0 H_72FG",textContainer:"M_Z1EyLxu"},version2:{ctaButton:"E_ZK2EzR"},bigUpsellFont:{lastPassTextSubContainer:"A_6EGz"},yFinanceVersion:{yFinanceLogoContainer:"D_F ab_C q_Z281SGl H_3mS2U P_6DEy k_w",ctaButton:"Y_dm5 E_Zsh9rQ",cueImg:"H_7qGO",lastPassTextSubContainer:"Y_6DEy",yFinanceTextSubContainer:"M_Z1EyLxu"}},_key:"Z1rrCj3"}},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=(a(8),a(1)),r=a.n(i),o=a(15),l=a(0),c=a(11),d=a(13),m=a.n(d),_=a(45),u=a(9),p=a(1657),h=a.n(p),g=a(1245),E=a(163),b=a(64),C=a(7),f=a(122);const S=Object(_.a)("/img/halloween_article_thumbnail.jpg");class y extends r.a.Component{constructor(...e){super(...e),s()(this,"cardData",e=>{const t=this.props;b.b.sendI13nModel({i13nModel:{mKey:C.e.ARTICLE_CONTENT_MSG_READ_CARD_INVOKE,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{msgID:t.parentMessageId,decos:t.decos,featurefamily:l.sb.IC,cardProvider:e}}})}),s()(this,"onClickHandler",(e,t)=>{const a=this.props,n=a.parentMessageId,s=a.decos;e.preventDefault(),e.stopPropagation(),b.b.sendI13nModel({i13nModel:{mKey:C.e.ARTICLE_CONTENT_MSG_READ_CARD_LINK_CLICK,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{url:t,msgID:n,featurefamily:l.sb.IC,decos:s}}}),Object(f.a)(t)})}componentDidMount(){const e=this.props,t=e.parentMessageId,a=e.decos;setTimeout(()=>{b.b.sendI13nModel({i13nModel:{mKey:C.e.ARTICLE_CONTENT_MSG_RD_INVOKE,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{msgID:t,featurefamily:l.sb.IC,decos:a}}})},0)}render(){const e=this.props,t=e.cards,a=e.mainWidth,n=e.usePreviewPaneStyles,s=m()(h.a);let i=Object(u.a)(t,"cardItems",[]);return i=i.slice(0,n?1:a>1200?3:2),r.a.createElement("div",{className:s.mainContainer,"data-test-id":"card_template"},r.a.createElement("div",{className:s.displayCards},i.map(e=>r.a.createElement("div",{className:s.cardContainer,key:e.id,onClick:t=>this.onClickHandler(t,e.url)},r.a.createElement("div",{className:s.imgContainer},r.a.createElement("img",{className:s.img,src:e.imgUrl,onError:e=>Object(E.a)(e,S)}),this.cardData(e.provider)),r.a.createElement("div",{className:s.infoContainer},r.a.createElement("div",{className:s.description},e.description),r.a.createElement("div",{className:s.info},r.a.createElement("p",{className:s.source},e.provider),r.a.createElement("p",{className:s.action,onClick:t=>this.onClickHandler(t,e.url)},e.actionName)))))))}}s()(y,"defaultProps",{usePreviewPaneStyles:!1});var T=Object(g.a)(y),N=a(19),A=a(12),I=a(1658),M=a.n(I);const v=Object(_.a)("/img/halloweeen_text.png"),D=Object(_.a)("/img/yahoo_shopping.png"),O=Object(_.a)("/img/pumpkin_background.png");var k=Object(g.a)(class extends r.a.Component{constructor(...e){super(...e),s()(this,"onClickHandler",(e,t)=>{const a=this.props,n=a.parentMessageId,s=a.decos;e.preventDefault(),e.stopPropagation(),b.b.sendI13nModel({i13nModel:{mKey:C.e.SIMPLE_CTA_MSG_BUTTON_CLICK,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{url:t,msgID:n,featurefamily:l.sb.IC,decos:s}}}),Object(f.a)(t)}),s()(this,"onBackgroundClick",(e,t)=>{const a=this.props,n=a.parentMessageId,s=a.decos;e.preventDefault(),e.stopPropagation(),b.b.sendI13nModel({i13nModel:{mKey:C.e.SIMPLE_CTA_MSG_READ_BANNER_CLICK,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{msgID:n,decos:s,featurefamily:l.sb.IC,url:t}}}),Object(f.a)(t)})}componentDidMount(){const e=this.props,t=e.parentMessageId,a=e.decos;setTimeout(()=>{b.b.sendI13nModel({i13nModel:{mKey:C.e.SIMPLE_CTA_MSG_READ_INVOKE,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{msgID:t,featurefamily:l.sb.IC,decos:a}}})},0)}render(){const e=m()(M.a),t=this.props.cards;return r.a.createElement("div",{className:e.mainContainer,onClick:e=>this.onBackgroundClick(e,t.url)},r.a.createElement("div",null,r.a.createElement("img",{src:D,className:e.shopping_img}),r.a.createElement("img",{src:v,className:e.halloween_text}),r.a.createElement("div",{className:e.maintext},t.description)),r.a.createElement("img",{src:O,className:e.pumpkin_background}),r.a.createElement("div",{className:e.button},r.a.createElement(N.a,{ref:"button","data-test-id":"stationery-button",onClick:e=>this.onClickHandler(e,t.url),style:{height:`${9*A.GRID_UNIT}px`,lineHeight:`${5.5*A.GRID_UNIT}px`,width:`${32*A.GRID_UNIT}px`,backgroundColor:"rgba(255, 255, 255, 0.3)",border:"none"}},t.actionName)))}}),R=a(1659),w=a.n(R);const P=Object(_.a)("/img/halloweeen_text.png"),x=Object(_.a)("/img/yahoo_shopping.png"),F=Object(_.a)("/img/pumpkin_background.png"),L=Object(_.a)("/img/halloween_categories.png");var B=Object(g.a)(class extends r.a.Component{constructor(...e){super(...e),s()(this,"categoryData",e=>{const t=this.props;b.b.sendI13nModel({i13nModel:{mKey:C.e.CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_INVOKE,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{msgID:t.parentMessageId,decos:t.decos,featurefamily:l.sb.IC,category:e}}})}),s()(this,"onClickHandler",(e,t,a)=>{const n=this.props,s=n.parentMessageId,i=n.decos;e.preventDefault(),e.stopPropagation(),b.b.sendI13nModel({i13nModel:{mKey:C.e.CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_CLICK,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{url:t,msgID:s,decos:i,featurefamily:l.sb.IC,category:a}}}),Object(f.a)(t)})}componentDidMount(){const e=this.props,t=e.parentMessageId,a=e.decos;setTimeout(()=>{b.b.sendI13nModel({i13nModel:{mKey:C.e.CATEGORY_WITH_IMAGE_MSG_RD_INVOKE,interactionType:C.d.click,sec:C.g.MSG_BODY,actionData:{msgID:t,featurefamily:l.sb.IC,decos:a}}})},0)}render(){const e=m()(w.a),t=this.props,a=t.cards,n=t.usePreviewPaneStyles;let s=Object(u.a)(a,"cardItems",[]);return s=s.slice(0,n?2:3),r.a.createElement("div",{className:e.mainContainer,"data-test-id":"card_template_with_categories"},r.a.createElement("div",null,r.a.createElement("img",{src:x,className:e.shopping_img}),r.a.createElement("img",{src:P,className:e.halloween_text}),r.a.createElement("div",{className:e.maintext},a.description)),r.a.createElement("img",{src:F,className:e.pumpkin_background}),r.a.createElement("div",{className:e.categories},s.map(t=>r.a.createElement("div",{key:t.id,className:e.cardContainer},r.a.createElement("img",{src:t.imgUrl,className:e.img,onClick:e=>this.onClickHandler(e,t.url,t.title),onError:e=>Object(E.a)(e,L)}),this.categoryData(t.title),r.a.createElement("div",{className:e.text,onClick:e=>this.onClickHandler(e,t.url,t.title)},t.title)))))}});a.d(t,"HalloweenBanner",function(){return U}),a.d(t,"mapStateToProps",function(){return H});class U extends r.a.Component{constructor(...e){super(...e),s()(this,"state",{randomNumber:Math.random()})}render(){const e=this.props,t=e.cards,a=e.cardTypes,n=e.counter,s=e.usePreviewPaneStyles,i=void 0===s?{usePreviewPaneStyles:i}:s,o=e.parentMessageId,c=e.decos,d=e.cardName,m=e.mainWidth;if(n>2)return null;const _=Math.max(n-1,0),u=a[_],p=t[_]&&t[_].length>1?Math.floor(this.state.randomNumber*t[_].length):0,h=t[_][p];return u===l.Fb.ARTICLES?r.a.createElement(T,{cards:h,parentMessageId:o,decos:c,usePreviewPaneStyles:i,cardName:d,mainWidth:m}):u===l.Fb.CATEGORY_WITH_IMAGE?r.a.createElement(B,{cards:h,parentMessageId:o,usePreviewPaneStyles:i,decos:c,cardName:d,mainWidth:m}):u===l.Fb.SIMPLE?r.a.createElement(k,{cards:h,parentMessageId:o,usePreviewPaneStyles:i,decos:c,cardName:d,mainWidth:m}):r.a.createElement(B,{cards:h})}}s()(U,"defaultProps",{usePreviewPaneStyles:!1});const H=e=>{const t=Object(c.b)(e),a=t.getHalloweenBannerSelectors,n=t.getSetting,s=(0,t.getMainContentWidth)(),i=a().getCardsByType,r=n(l.zd.RANDOM_HALLOWEEN_CARDTYPES);return{mainWidth:s,cards:r.map(e=>i(e)),cardTypes:r}};t.default=Object(o.connect)(H)(U)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(1662),d=a.n(c),m=a(11),_=a(15),u=a(6),p=a(45),h=a(0),g=a(19),E=a(28),b=a(2);var C=a(7),f=a(116);a.d(t,"LastPassCard",function(){return T}),a.d(t,"mapStateToProps",function(){return N}),a.d(t,"mapDispatchToProps",function(){return A});const S={lastpassLogoLeft:"/img/yahoo_lastpass_logo_left.png",lastpassLogoRight:"/img/yahoo_lastpass_logo_right.png",yfinanceLogo:"/img/yahoo_finance_logo.svg"},y=Object(u.defineMessages)({CtaText:{id:"lastpass.cta.text",defaultMessage:"Try it free"}});class T extends l.a.Component{constructor(...e){super(...e),s()(this,"upsellClicked",()=>{const e=this.props,t=e.lastpassUpsellClicked;if(e.showYFinanceUpsell){(0,e.yFinanceUpsellClicked)({i13nModel:{mKey:C.e.YFINANCE_UPSELL_CLICKED,sec:C.g.LASTPASS_UPSELL,interactionType:C.d.click}})}else{t({i13nModel:{mKey:C.e.LASTPASS_UPSELL_CLICKED,sec:C.g.LASTPASS_UPSELL,interactionType:C.d.click}})}}),s()(this,"renderUpsellText",(e,t,a,n)=>n?l.a.createElement("div",null,l.a.createElement("div",{className:e.lastPassTextSubContainer},l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"yfinance.upsell.text1",defaultMessage:"<b>Ready to step up your investing?</b>"}),l.a.createElement("br",null)),l.a.createElement("span",{className:e.yFinanceTextSubContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"yfinance.upsell.text2",defaultMessage:"As a Yahoo member who takes finance to the next level, you can get exclusive access to premium data and analytics with our NEW premium subscription."})))):l.a.createElement("div",null,"VERSION_1"===a?l.a.createElement("div",{className:e.lastPassTextSubContainer},l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text1",defaultMessage:"<b>Forgot a password? No problem.</b>"}),l.a.createElement("br",null),l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text2",defaultMessage:"<b>LastPass Premium remembers it for you.</b>"})),l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text3",defaultMessage:"As a Yahoo user, you are entitled to a free* 30 day trial of LastPass Premium"}))):null,"VERSION_2"===a?l.a.createElement("div",{className:e.lastPassTextSubContainer},l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text4",defaultMessage:"<b>Never forget or mistype another password.</b>"}),l.a.createElement("br",null),l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text5",defaultMessage:"<b>LastPass Premium stores and remembers them for you.</b>"})),l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text6",defaultMessage:"As a Yahoo user, you can try it free* for 30 days."}))):null,"VERSION_3"===a?l.a.createElement("div",{className:e.lastPassTextSubContainer},l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text4",defaultMessage:"<b>Never forget or mistype another password.</b>"})),l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text7",defaultMessage:"LastPass Premium stores and remembers all your passwords for you."}))):null,"VERSION_4"===a?l.a.createElement("div",{className:e.lastPassTextSubContainer},l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.username",defaultMessage:"Hi <b>{accountName},</b>",values:{accountName:t}})),l.a.createElement("span",{className:e.textContainer},l.a.createElement(u.FormattedHTMLMessage,{id:"lastpass.upsell.text8",defaultMessage:"As a member of the Yahoo Mail family, you can try <b>LastPass Premium free* 30 days</b>. LastPass manages all your passwords for you so youll <b>never forget or mistype another password again</b>."}))):null)),s()(this,"renderTryItButton",e=>{const t=this.context.intl.formatMessage;return l.a.createElement(g.a,{title:t(y.CtaText),"data-test-id":"try-it-button",kind:E.a.PRIMARY,"aria-label":t(y.CtaText),marginLess:!0,overridingClass:e.ctaButton},t(y.CtaText),"*")}),s()(this,"renderLogo",(e,t,a)=>{if(a)return l.a.createElement("div",{className:e.yFinanceLogoContainer},l.a.createElement("img",{className:e.cueImg,src:Object(p.a)(S.yfinanceLogo)}));switch(t){case"VERSION_1":case"VERSION_3":case"VERSION_4":return l.a.createElement("img",{className:e.cueImg,src:Object(p.a)(S.lastpassLogoRight)});case"VERSION_2":return l.a.createElement("img",{className:e.cueImg,src:Object(p.a)(S.lastpassLogoLeft)});default:return null}})}componentDidMount(){const e=this.props,t=e.yFinanceUpsellSettings.impressionTracker;e.showYFinanceUpsell&&Object(f.a)(t,!1)}render(){const e=this.props,t=e.lastpassUpsellSettings,a=e.accountName,n=e.yFinanceUpsellSettings,s=e.showYFinanceUpsell,i=t.version,r=t.redirectUrl,o=n.version,c=n.redirectUrl,m=this.context.getCss(d.a,{version2:"VERSION_2"===i,bigUpsellFont:"VERSION_1"===i||"VERSION_2"===i||"VERSION_3"===i,yFinanceVersion:s});return l.a.createElement("a",{className:m.lastPassContainer,target:"_blank",rel:"noopener noreferrer",href:s?c:r,"aria-hidden":!0,onClick:this.upsellClicked},"VERSION_2"===i&&!s||s&&"VERSION_1"===o?l.a.createElement("div",{className:m.lastPassContent},this.renderLogo(m,i,s),l.a.createElement("div",{className:m.lastPassTextContainer},this.renderUpsellText(m,a,i,s),this.renderTryItButton(m))):l.a.createElement("div",{className:m.lastPassContent},l.a.createElement("div",{className:m.lastPassTextContainer},this.renderUpsellText(m,a,i,s),this.renderTryItButton(m)),this.renderLogo(m,i,s)))}}T.contextTypes={intl:u.intlShape.isRequired,getCss:r.a.func};const N=e=>{const t=Object(m.b)(e),a=t.getSetting,n=t.getSelectedAccountId,s=t.isFeatureEnabled,i=(0,(0,t.getAccountSelectors)().getAccountNameByAccountId)(n());return{lastpassUpsellSettings:a(h.zd.LASTPASS_UPSELL_SETTINGS),accountName:i,yFinanceUpsellSettings:a(h.zd.YFINANCE_UPSELL_SETTINGS),showYFinanceUpsell:s(h.ub.YFINANCE_UPSELL)}},A=e=>({lastpassUpsellClicked:t=>e((({i13nModel:e={}})=>({type:b.ag,i13nModel:e}))(t)),yFinanceUpsellClicked:t=>e((({i13nModel:e={}})=>({type:b.Ul,i13nModel:e}))(t))});t.default=Object(_.connect)(N,A)(T)},function(e,t,a){"use strict";a.r(t);var n=a(3),s=a.n(n),i=a(8),r=a.n(i),o=a(1),l=a.n(o),c=a(15),d=a(6),m=a(13),_=a.n(m),u=a(19),p=a(28),h=a(0),g=a(163),E=a(12),b=(a(42),a(1661)),C=a.n(b),f=a(1245);const S={margin:`0 ${5*E.GRID_UNIT}px`};class y extends l.a.Component{constructor(...e){super(...e),s()(this,"handlePrimaryButtonClick",e=>{const t=this.props,a=t.onSuccess;(0,t.onTryButton)(),a(e)}),s()(this,"useFallbackImage",e=>Object(g.a)(e,this.props.fallbackImage))}render(){const e=this.context.intl.formatMessage,t=this.props,a=t.bodyText,n=t.tryButtonText,s=t.cardName,i=t.image,r=t.headerText,o=t.seperatorText,c=t.usePreviewPaneStyles,m="object"==typeof r?e(r):r,g="object"==typeof o?e(o):o,E="object"==typeof a?e(a):a,b="object"==typeof n?e(n):n,f=_()(C.a,{[s]:!0});return l.a.createElement("div",{className:c?f.ppContainer:f.container},s===h.ub.QUOTIENT_LINKED_CARD?null:l.a.createElement("div",{className:f.containerBorder}),l.a.createElement("div",{className:c?f.ppCardContainer:f.cardContainer,"data-test-id":s},l.a.createElement("div",{className:f.layoutContainer},l.a.createElement("div",{className:f.imageContainer},l.a.createElement("img",{src:i,className:f.image,"data-test-id":"card-image",onError:this.useFallbackImage}),s===h.ub.QUOTIENT_LINKED_CARD?l.a.createElement("div",{className:f.overlayContainer},l.a.createElement("div",{className:f.overlay})):null),l.a.createElement("div",{className:f.messageContainer},s===h.ub.QUOTIENT_LINKED_CARD?l.a.createElement("div",null,l.a.createElement("div",{className:f.header},m),l.a.createElement("div",null,l.a.createElement("p",{className:f.subTitle},g),E)):l.a.createElement("div",{className:f.messageText},l.a.createElement("div",{className:f.body},l.a.createElement(d.FormattedHTMLMessage,a))))),l.a.createElement("div",{className:f.buttonContainer},l.a.createElement(u.a,{onClick:this.handlePrimaryButtonClick,title:b,"data-test-id":"try-card-button",kind:p.a.PRIMARY,"aria-label":b,style:S},b))))}}s()(y,"contextTypes",{intl:d.intlShape.isRequired}),s()(y,"defaultProps",{onSuccess:()=>{}});Object(f.a)(y);var T=a(17),N=a(11),A=a(78),I=a(7);a.d(t,"QuotientLinkedCard",function(){return v}),a.d(t,"mapStateToProps",function(){return D}),a.d(t,"mapDispatchToProps",function(){return O});const M=Object(d.defineMessages)({separator_text:{id:"linked_card.separator_text",defaultMessage:"Loyalty number"},try_button_text:{id:"linked_card.try_button_text",defaultMessage:"View coupons"}});class v extends l.a.Component{constructor(...e){super(...e),s()(this,"onTryButton",()=>{const e={mKey:I.e.QTNTVIEW_HEADER_ACTION,sec:I.g.QUOTIENT,actionData:{mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:h.sb.IC,featurename:h.ub.QUOTIENT,actiontype:"viewcoupon",headertype:"linked",origin:"msgread"}}};this.context.navigateTo({route:Object(T.n)(this.props.retailerId),i13nModel:e})})}componentDidMount(){(0,this.props.linkedCardShown)({i13nModel:{mKey:I.e.QTNT_HEADER_VIEW,sec:I.g.QUOTIENT,actionData:{mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:h.sb.IC,featurename:h.ub.QUOTIENT,headertype:"linked"}}}})}render(){const e=this.props;return l.a.createElement(y,{cardName:h.ub.QUOTIENT_LINKED_CARD,headerText:e.retailerName,separatorText:M.separator_text,bodyText:e.loyaltyId,tryButtonText:M.try_button_text,onTryButton:this.onTryButton,image:e.brandImage,usePreviewPaneStyles:e.usePreviewPaneStyles,fallbackImage:h.Wc})}}s()(v,"contextTypes",{intl:d.intlShape.isRequired,navigateTo:r.a.func}),s()(v,"defaultProps",{usePreviewPaneStyles:!1});const D=(e,{retailerId:t=""})=>{const a=(0,Object(N.b)(e).getRetailersSelectors)(),n=a.getLoyaltyIdFromRetailerId,s=a.getDisplayNameFromRetailerId;return{brandImage:(0,a.getBrandImageFromRetailerId)(t),loyaltyId:n(t),retailerName:s(t)}},O=e=>({linkedCardShown:t=>e(Object(A.g)(t))});t.default=Object(c.connect)(D,O)(v)},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(6),_=a(15),u=a(45),p=a(0),h=a(11),g=a(23),E=a.n(g),b=a(1660),C=a.n(b),f=a(13),S=a.n(f),y=a(1245),T=a(19),N=(a(42),a(18)),A=a(28);class I extends d.a.Component{constructor(...e){super(...e),r()(this,"onTryButton",e=>{e.stopPropagation(),this.props.onTryButton(e);const t=this.props.computeActionData("card_"+this.props.cardName+"_click");this.props.onSuccess({i13nModel:{interactionType:Object(N.j)(e),actionData:t}})})}render(){const e=this.props,t=e.cardName,a=e.headerText,n=e.bodyText,s=e.tryButtonText,i=e.pngImageUrl,r=e.usePreviewPaneStyles,o=this.context.intl.formatMessage,l=this.context.mailBrandNameString,c=S()(C.a,{cardName:t});return d.a.createElement("div",{className:r?c.ppContainer:c.container},d.a.createElement("div",{className:c.containerBorder}),d.a.createElement("div",{className:c.cueContainer,"data-test-id":this.props.cardName},d.a.createElement("div",{className:c.svgStyle},i?d.a.createElement("img",{className:c.icon,src:i}):null),d.a.createElement("div",{className:c.cueContainerWrapper},"object"==typeof a?d.a.createElement("div",{className:c.header,"aria-label":o(a,{mailBrandNameString:l})},d.a.createElement(m.FormattedMessage,E()({},a,{values:{mailBrandNameString:l}}))):d.a.createElement("div",{className:c.header,"aria-label":a},a),"object"==typeof n?d.a.createElement("div",{className:c.body,"aria-label":o(n,n.values)},d.a.createElement(m.FormattedHTMLMessage,n)):d.a.createElement("div",{className:c.body,"aria-label":n},n),d.a.createElement("div",{className:c.actionContainer},d.a.createElement(T.a,{onClick:this.onTryButton,title:o(s),"data-test-id":"try-card-button",kind:A.a.PRIMARY,"aria-label":o(s)},d.a.createElement(m.FormattedMessage,s))))))}}r()(I,"contextTypes",{intl:m.intlShape.isRequired,mailBrandNameString:l.a.string}),r()(I,"defaultProps",{usePreviewPaneStyles:!1,computeActionData:()=>{}});var M=Object(y.a)(I),v=a(210);a.d(t,"strings",function(){return O}),a.d(t,"QuotientCue",function(){return k}),a.d(t,"mapDispatchToProps",function(){return R}),a.d(t,"mapStateToProps",function(){return w});const D=Object(u.a)(p.Wc),O=Object(m.defineMessages)({header_text:{id:"quotient_cue.header_text",defaultMessage:"Automatically save in stores"},body_text:{id:"quotient_cue.body_text",defaultMessage:"Get <b>discounts at the {retailerName} store</b> by adding coupons in Yahoo Mail"},primary_button_text:{id:"quotient_cue.primary_button_text",defaultMessage:"Get started"}});class k extends d.a.Component{constructor(...e){super(...e),r()(this,"onTryButton",()=>{this.props.openLinkModal({retailerId:this.props.retailerId,parentName:"msgview"})}),r()(this,"computeActionData",e=>{const t={mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:p.sb.IC,featurename:p.ub.QUOTIENT,upselltype:"msgview",retailername:this.props.retailerName,origin:"msgread"}};return-1!==e.indexOf("click")&&(t.reason.actiontype="success"),-1!==e.indexOf("later")&&(t.reason.actiontype="reject"),t})}render(){const e=this.props,t=e.cardName,a=e.usePreviewPaneStyles,n={retailerName:e.retailerName};return d.a.createElement(M,{bodyText:s()({},O.body_text,{values:n}),cardName:t,headerText:O.header_text,onTryButton:this.onTryButton,pngImageUrl:D,tryButtonText:O.primary_button_text,usePreviewPaneStyles:a,computeActionData:this.computeActionData})}}r()(k,"defaultProps",{usePreviewPaneStyles:!1});const R=e=>({openLinkModal:t=>e(Object(v.b)(t))}),w=(e,t)=>{const a=(0,Object(h.b)(e).getRetailersSelectors)(),n=a.getDisplayNameFromRetailerId,s=(0,a.getRetailerIdFromEmail)(t.senderEmail);return{retailerName:n(s),retailerId:s}};t.default=Object(_.connect)(w,R)(k)},function(e,t,a){"use strict";a.r(t);a(8);var n=a(1),s=a.n(n),i=a(6),r=a(45),o=a(3),l=a.n(o),c=a(1652),d=a.n(c),m=a(13),_=a.n(m),u=(a(42),a(1232)),p=a(18),h=a(20),g=a(5);const E=Object(i.defineMessages)({close:{id:"cue.close",defaultMessage:"Close"}}),b=_()(d.a);class C extends s.a.Component{constructor(...e){super(...e),l()(this,"onClose",e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:Object(p.j)(e)}})})}render(){const e=this.context.intl.formatMessage;return s.a.createElement("div",{className:b.container,"data-test-id":this.props.cueName},s.a.createElement("div",{className:b.arrowContainer},s.a.createElement("div",{className:b.arrow})),s.a.createElement("div",{className:b.imageContainer},s.a.createElement("img",{src:this.props.image,className:b.image})),s.a.createElement("div",{className:b.messageContainer},s.a.createElement("div",{className:b.messageText},s.a.createElement("div",{className:b.header,"aria-label":e(this.props.headerText)},s.a.createElement(i.FormattedMessage,this.props.headerText)),s.a.createElement("div",{className:b.body,"aria-label":e(this.props.bodyText)},s.a.createElement(i.FormattedMessage,this.props.bodyText))),s.a.createElement("div",{className:b.closeContainer},s.a.createElement(h.a,{"data-test-id":"image-cue-close-icon",onClick:this.onClose,kind:g.b.CLOSE,size:g.d.XXS,title:e(E.close)}))))}}l()(C,"contextTypes",{intl:i.intlShape.isRequired});var f=Object(u.a)(C);const S=Object(i.defineMessages)({bodyText:{id:"coupon_clipper_cue.bodyText",defaultMessage:"Clipped deals are saved in the Deals view on the left"},headerText:{id:"coupon_clipper_cue.headerText",defaultMessage:"Never miss a deal"}}),y=Object(r.a)("/img/coupon_clipper_onboarding.png");t.default=class extends s.a.Component{render(){return s.a.createElement(f,{bodyText:S.bodyText,headerText:S.headerText,cueName:this.props.cueName,image:y})}}},function(e,t,a){"use strict";a.r(t);var n=a(31),s=a.n(n),i=a(3),r=a.n(i),o=a(8),l=a.n(o),c=a(1),d=a.n(c),m=a(15),_=a(45),u=a(11),p=a(23),h=a.n(p),g=a(13),E=a.n(g),b=a(1656),C=a.n(b),f=a(1245),S=a(16),y=a(5),T=a(76),N=a(14),A=a(6),I=a(12),M=a(0),v=a(9),D=a(204),O=a(64),k=a(7),R=a(122);const w=Object(A.defineMessages)({YAHOO:{id:"store_details.yahoo",defaultMessage:"Powered by {yahooBrandNameString}"},VIEW_MORE:{id:"store_details.view_more",defaultMessage:"View more deals in {yahooBrandNameString}"},RELATED_PRODUCTS:{id:"store_details.related_products",defaultMessage:"Related Products"},DEALS:{id:"store_details.deals",defaultMessage:"Deals"},NEAREST:{id:"store_details.near",defaultMessage:"Nearest"},OPEN:{id:"store_details.open",defaultMessage:"OPEN"}});class P extends d.a.Component{constructor(...e){super(...e),r()(this,"renderDeal",e=>{const t=E()(C.a),a=new Date(Object(v.a)(e,"validThrough",null)).getTime(),n=Math.floor((a-(new Date).getTime())/M.dc),s=Object(v.a)(e,"retailer.logo.contentUrl","");return d.a.createElement("div",{key:Object(v.a)(e,"@id",""),className:t.description,onClick:t=>this.dealLink(t,e)},d.a.createElement("div",{className:t.imageContainerDeals},d.a.createElement("img",{src:s,className:t.image,onError:this.useFallbackImage})),d.a.createElement("div",{className:t.displayDeals},d.a.createElement("div",{className:t.deal},e.description),d.a.createElement("div",{className:t.expiryTime},d.a.createElement(D.a,{daysUntilExpiry:n}))))}),r()(this,"_renderDeals",()=>{return this.props.deals.map(e=>this.renderDeal(e))}),r()(this,"openLink",e=>{const t=this.props,a=t.url,n=t.parentMessageId,s=t.domain,i=t.name;e.preventDefault(),e.stopPropagation(),O.b.sendI13nModel({i13nModel:{mKey:k.e.MERCHANT_SITE_CLICK,interactionType:k.d.click,sec:k.g.AFFILIATE_COUPONS,actionData:{url:a,msgID:n,sdrDomain:s,brandName:i}}}),Object(R.a)(a)}),r()(this,"categorylink",(e,t)=>{const a=this.props,n=a.parentMessageId,s=a.domain,i=a.name;e.preventDefault(),e.stopPropagation(),O.b.sendI13nModel({i13nModel:{mKey:k.e.PRODUCT_CATEGORY_CLICK,interactionType:k.d.click,sec:k.g.AFFILIATE_COUPONS,actionData:{msgID:n,sdrDomain:s,brandName:i}}}),Object(R.a)(t.url)}),r()(this,"dealLink",(e,t)=>{const a=this.props,n=a.parentMessageId,s=a.domain,i=a.name;e.preventDefault(),e.stopPropagation(),O.b.sendI13nModel({i13nModel:{mKey:k.e.AFFILIATE_DEAL_CLICK,interactionType:k.d.click,sec:k.g.AFFILIATE_COUPONS,actionData:{msgID:n,sdrDomain:s,brandName:i}}}),Object(R.a)(t.url)}),r()(this,"renderCategories",e=>{const t=E()(C.a),a=Object(v.a)(e,"displayName","");return d.a.createElement("div",{key:Object(v.a)(e,"@id",""),className:t.space},d.a.createElement("div",{className:t.overLay,onClick:t=>this.categorylink(t,e)},d.a.createElement("div",{className:t.category},a)))}),r()(this,"_renderCategories",()=>{const e=this.props.categories;return e&&e.map(e=>this.renderCategories(e))}),r()(this,"renderDealsContainer",(e,t,a,n,s)=>d.a.createElement("div",{className:e.layoutContainer},d.a.createElement("div",{className:e.name},a),d.a.createElement("div",{className:e.url,onClick:this.openLink},d.a.createElement("div",{className:e.icon},d.a.createElement(S.b,{kind:y.b.LINK,size:y.d.XXS,colorState:y.a.FIRST_LEVEL_GRAY})),t),n?d.a.createElement("div",null,d.a.createElement("div",{className:e.destination},d.a.createElement("div",{className:e.icon},d.a.createElement(S.b,{kind:y.b.LOCATION_MARKER,size:y.d.XXS,colorState:y.a.FIRST_LEVEL_GRAY})),d.a.createElement(A.FormattedMessage,w.NEAREST)," ",a),d.a.createElement("div",{className:e.address},n),d.a.createElement("div",{className:e.address},s),d.a.createElement("div",{className:e.workingHours},d.a.createElement("div",{className:e.open},d.a.createElement(A.FormattedMessage,w.OPEN)),d.a.createElement("div",{className:e.hours},"10AM - 9:30PM"))):null))}render(){const e=this.props,t=e.address1,a=e.address2,n=e.image,s=e.name,i=e.url,r=e.usePreviewPaneStyles,o=e.deals,l=this.context.yahooBrandNameString,c=E()(C.a);return d.a.createElement("div",{className:c.mainContainer},r?null:d.a.createElement("div",{className:c.imageContainer},d.a.createElement("img",{src:n,className:c.image,onError:this.useFallbackImage})),r?d.a.createElement(T.c,{triggerOn:T.b.HOVER_DELAYED,triggerOff:T.a.HOVER_OUT|T.a.DRAG_START|T.a.CLICK,isArrowVisible:!1,zAltitude:I.ZIndices.POPOVER.HIGH,align:N.a.UP,onShown:this.popoverDidAppear,ref:this.setPopoverRef},d.a.createElement("span",{"data-test-id":"store-location",className:c.anchor},d.a.createElement("div",{className:c.imageContainer},d.a.createElement("img",{src:n,className:c.image,onError:this.useFallbackImage}))),d.a.createElement("div",{className:c.hoverContainer},this.renderDealsContainer(c,i,s,t,a))):null,r?null:d.a.createElement("div",{className:c.container},d.a.createElement("div",{className:c.cardContainer},this.renderDealsContainer(c,i,s,t,a))),d.a.createElement("div",{className:r?c.ppContainer:c.dealsContainer},d.a.createElement("div",{className:c.brandName},d.a.createElement(A.FormattedMessage,o&&o.length>0?w.DEALS:w.RELATED_PRODUCTS)),o&&o.length>0?this._renderDeals():this._renderCategories(),o&&o.length>0?d.a.createElement("div",{className:c.dealLink},d.a.createElement(A.FormattedMessage,h()({},w.VIEW_MORE,{values:{yahooBrandNameString:l}}))):d.a.createElement("div",{className:c.powered},d.a.createElement(A.FormattedMessage,h()({},w.YAHOO,{values:{yahooBrandNameString:l}})))))}}r()(P,"contextTypes",{yahooBrandNameString:l.a.string});var x=Object(f.a)(P),F=a(18);a.d(t,"AffiliateCouponsCard",function(){return L}),a.d(t,"mapStateToProps",function(){return B});class L extends d.a.Component{render(){const e=this.props,t=e.brandName,a=e.cardName,n=e.logo,s=e.address1,i=e.address2,r=e.url,o=e.usePreviewPaneStyles,l=e.categories,c=e.parentMessageId,m=e.coupons,u=e.rootDomain,p=Object(_.a)(n),h=m&&m.slice(0,2),g=l.slice(0,5);return h&&h.length>0||g&&g.length>0?d.a.createElement(x,{url:r,parentMessageId:c,image:p,domain:u,name:t,address1:s,cardName:a,address2:i,deals:h,usePreviewPaneStyles:o,categories:g}):null}}r()(L,"defaultProps",{usePreviewPaneStyles:!1,brandName:"",address1:"",address2:"",url:"",description:"",coupons:[],couponData:{},categories:[],rootDomain:""});const B=(e,t)=>{const a=Object(u.b)(e),n=a.getMessagesSelectors,i=(0,(0,a.getAffiliateCouponsSelectors)().getCouponInfo)(t.parentMessageId),r=(0,n().getFromAddresses)(t.parentMessageId),o=s()(r,1)[0],l=(void 0===o?{}:o).email,c=void 0===l?"":l,d=c?Object(F.l)(c):"",m=c.split("@"),_=s()(m,2);if(i){const e=i.locations,t=void 0===e?{}:e,a=i.coupons,n=i.categories,s=t.name,r=t.logo,o=t.location,l=void 0===o?{}:o,c=t.url,m=l.streetAddress,u=l.addressLocality,p=l.addressRegion,h=l.postalCode;return{logo:void 0===r?"":r,brandName:void 0===s?"":s,address1:void 0===m?"":m,address2:`${void 0===u?"":u}, ${void 0===p?"":p}, ${void 0===h?"":h}`,rootDomain:d,domain:_[1],coupons:void 0===a?[]:a,url:void 0===c?"":c,couponData:i,categories:void 0===n?[]:n}}};t.default=Object(m.connect)(B)(L)}])]);